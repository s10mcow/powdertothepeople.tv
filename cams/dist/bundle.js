!function(e){function t(e){delete installedChunks[e]}function r(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=p.p+""+e+"."+_+".hot-update.js",t.appendChild(r)}function n(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,o=p.p+""+_+".hot-update.json";n.open("GET",o,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}function o(e){var t=P[e];if(!t)return p;var r=function(r){return t.hot.active?(P[r]?P[r].parents.indexOf(e)<0&&P[r].parents.push(e):(w=[e],m=r),t.children.indexOf(r)<0&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),w=[]),p(r)};for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&"e"!==n&&Object.defineProperty(r,n,function(e){return{configurable:!0,enumerable:!0,get:function(){return p[e]},set:function(t){p[e]=t}}}(n));return r.e=function(e){function t(){j--,"prepare"===R&&(A[e]||c(e),0===j&&0===k&&d())}return"ready"===R&&a("prepare"),j++,p.e(e).then(t,function(e){throw t(),e})},r}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:m!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:l,apply:f,status:function(e){if(!e)return R;C.push(e)},addStatusHandler:function(e){C.push(e)},removeStatusHandler:function(e){var t=C.indexOf(e);t>=0&&C.splice(t,1)},data:T[e]};return m=void 0,t}function a(e){R=e;for(var t=0;t<C.length;t++)C[t].call(null,e)}function s(e){return+e+""===e?+e:e}function l(e){if("idle"!==R)throw new Error("check() is only allowed in idle status");return b=e,a("check"),n(E).then(function(e){if(!e)return a("idle"),null;x={},A={},O=e.c,v=e.h,a("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});g={};return c(0),"prepare"===R&&0===j&&0===k&&d(),t})}function u(e,t){if(O[e]&&x[e]){x[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(g[r]=t[r]);0==--k&&0===j&&d()}}function c(e){O[e]?(x[e]=!0,k++,r(e)):A[e]=!0}function d(){a("ready");var e=y;if(y=null,e)if(b)Promise.resolve().then(function(){return f(b)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in g)Object.prototype.hasOwnProperty.call(g,r)&&t.push(s(r));e.resolve(t)}}function f(r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)<0&&e.push(n)}}if("ready"!==R)throw new Error("apply() is only allowed in ready status");r=r||{};var o,i,l,u,c,d={},f=[],h={},m=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var y in g)if(Object.prototype.hasOwnProperty.call(g,y)){c=s(y);var b;b=g[y]?function(e){for(var t=[e],r={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var i=o.pop(),a=i.id,s=i.chain;if((u=P[a])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var l=0;l<u.parents.length;l++){var c=u.parents[l],d=P[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([c]),moduleId:a,parentId:c};t.indexOf(c)>=0||(d.hot._acceptedDependencies[a]?(r[c]||(r[c]=[]),n(r[c],[a])):(delete r[c],t.push(c),o.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}(c):{type:"disposed",moduleId:y};var E=!1,S=!1,C=!1,k="";switch(b.chain&&(k="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(E=new Error("Aborted because of self decline: "+b.moduleId+k));break;case"declined":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+k));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(b),r.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+k));break;case"accepted":r.onAccepted&&r.onAccepted(b),S=!0;break;case"disposed":r.onDisposed&&r.onDisposed(b),C=!0;break;default:throw new Error("Unexception type "+b.type)}if(E)return a("abort"),Promise.reject(E);if(S){h[c]=g[c],n(f,b.outdatedModules);for(c in b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,c)&&(d[c]||(d[c]=[]),n(d[c],b.outdatedDependencies[c]))}C&&(n(f,[b.moduleId]),h[c]=m)}var j=[];for(i=0;i<f.length;i++)c=f[i],P[c]&&P[c].hot._selfAccepted&&j.push({module:c,errorHandler:P[c].hot._selfAccepted});a("dispose"),Object.keys(O).forEach(function(e){!1===O[e]&&t(e)});for(var A,x=f.slice();x.length>0;)if(c=x.pop(),u=P[c]){var L={},D=u.hot._disposeHandlers;for(l=0;l<D.length;l++)(o=D[l])(L);for(T[c]=L,u.hot.active=!1,delete P[c],delete d[c],l=0;l<u.children.length;l++){var I=P[u.children[l]];I&&((A=I.parents.indexOf(c))>=0&&I.parents.splice(A,1))}}var N,M;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(u=P[c]))for(M=d[c],l=0;l<M.length;l++)N=M[l],(A=u.children.indexOf(N))>=0&&u.children.splice(A,1);a("apply"),_=v;for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(e[c]=h[c]);var F=null;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(u=P[c])){M=d[c];var U=[];for(i=0;i<M.length;i++)if(N=M[i],o=u.hot._acceptedDependencies[N]){if(U.indexOf(o)>=0)continue;U.push(o)}for(i=0;i<U.length;i++){o=U[i];try{o(M)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:c,dependencyId:M[i],error:e}),r.ignoreErrored||F||(F=e)}}}for(i=0;i<j.length;i++){var B=j[i];c=B.module,w=[c];try{p(c)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,orginalError:e,originalError:e}),r.ignoreErrored||F||(F=t),F||(F=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:c,error:e}),r.ignoreErrored||F||(F=e)}}return F?(a("fail"),Promise.reject(F)):(a("idle"),new Promise(function(e){e(f)}))}function p(t){if(P[t])return P[t].exports;var r=P[t]={i:t,l:!1,exports:{},hot:i(t),parents:(S=w,w=[],S),children:[]};return e[t].call(r.exports,r,r.exports,o(t)),r.l=!0,r.exports}var h=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){u(e,t),h&&h(e,t)};var m,y,g,v,b=!0,_="0576c907c1924073c358",E=1e4,T={},w=[],S=[],C=[],R="idle",k=0,j=0,A={},x={},O={},P={};p.m=e,p.c=P,p.d=function(e,t,r){p.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/",p.h=function(){return _},o(0)(p.s=0)}({"./cams/App.js":/*!*********************!*\
  !*** ./cams/App.js ***!
  \*********************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(/*! babel-runtime/core-js/object/get-prototype-of */"./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(o),a=r(/*! babel-runtime/helpers/classCallCheck */"./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n(a),l=r(/*! babel-runtime/helpers/createClass */"./node_modules/babel-runtime/helpers/createClass.js"),u=n(l),c=r(/*! babel-runtime/helpers/possibleConstructorReturn */"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n(c),f=r(/*! babel-runtime/helpers/inherits */"./node_modules/babel-runtime/helpers/inherits.js"),p=n(f),h=r(/*! react */"./node_modules/react/index.js"),m=n(h),y=r(/*! ./components/Layout */"./cams/components/Layout.js"),g=n(y),v=r(/*! ./containers/PlayersContainer */"./cams/containers/PlayersContainer.js"),b=n(v),_=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement(g.default,null,m.default.createElement("header",{className:"page__header"},m.default.createElement("h1",null,"Portugal Beach Cams")),m.default.createElement(b.default,null))}}]),t}(h.Component);t.default=_},"./cams/actions/index.js":/*!*******************************!*\
  !*** ./cams/actions/index.js ***!
  \*******************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setVisibilityFilter=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}},t.setNewCamera=function(e){return{type:"SET_NEW_CAMERA",camera:e}},t.addNewCamera=function(){return{type:"ADD_NEW_CAMERA",url:"arrifana",name:"Arrifana"}},t.deleteCamera=function(e){return{type:"DELETE_CAMERA",camera:e}}},"./cams/beaches.json":/*!***************************!*\
  !*** ./cams/beaches.json ***!
  \***************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports={beaches:[{name:"Luz",url:"luz"},{name:"Lagos",url:"meiapraia"},{name:"Arrifana",url:"arrifana"},{name:"Amoreira",url:"bcamoreira"},{name:"Zambujeira do Mar",url:"zambujeira"},{name:"São Torpes",url:"saotorpes"}]}},"./cams/components/Layout.js":/*!***********************************!*\
  !*** ./cams/components/Layout.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){var t=e.children;return i.default.createElement("div",{className:"page"},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(/*! react */"./node_modules/react/index.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},"./cams/components/Player.js":/*!***********************************!*\
  !*** ./cams/components/Player.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(/*! babel-runtime/core-js/object/get-prototype-of */"./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(o),a=r(/*! babel-runtime/helpers/classCallCheck */"./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n(a),l=r(/*! babel-runtime/helpers/createClass */"./node_modules/babel-runtime/helpers/createClass.js"),u=n(l),c=r(/*! babel-runtime/helpers/possibleConstructorReturn */"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n(c),f=r(/*! babel-runtime/helpers/inherits */"./node_modules/babel-runtime/helpers/inherits.js"),p=n(f),h=r(/*! react */"./node_modules/react/index.js"),m=n(h),y=r(/*! hls.js */"./node_modules/hls.js/dist/hls.js"),g=n(y),v=r(/*! ../utils/utils */"./cams/utils/utils.js"),b=(n(v),r(/*! prop-types */"./node_modules/prop-types/index.js")),_=n(b),E=r(/*! react-dom */"./node_modules/react-dom/index.js"),T=(n(E),r(/*! muicss/lib/react/option */"./node_modules/muicss/lib/react/option.js")),w=n(T),S=r(/*! muicss/lib/react/select */"./node_modules/muicss/lib/react/select.js"),C=n(S),R=r(/*! muicss/lib/react/button */"./node_modules/muicss/lib/react/button.js"),k=n(R),j=function(e){function t(e){(0,s.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.state={play:!0,hls:!1,rerender:!1},r}return(0,p.default)(t,e),(0,u.default)(t,[{key:"setupPlayer",value:function(){var e=this;if(g.default.isSupported()){var t=new g.default;t.loadSource("https://video-auth1.iol.pt/beachcam/"+this.props.url+"/playlist.m3u8"),t.attachMedia(this.refs.video),t.on(g.default.Events.MANIFEST_PARSED,function(){return e.refs.video.play()}),this.setState({hls:t})}else this.refs.video.src="https://video-auth1.iol.pt/beachcam/"+this.props.url+"/playlist.m3u8",this.refs.video.play();this.setState({rerender:!1})}},{key:"pause",value:function(){this.setState({play:!1}),this.state.hls.stopLoad()}},{key:"play",value:function(){var e=this;this.setState({play:!0}),this.state.hls.startLoad(0),this.state.hls.on(g.default.Events.MANIFEST_PARSED,function(){return e.refs.video.play()})}},{key:"componentDidMount",value:function(){this.setupPlayer()}},{key:"componentWillUpdate",value:function(){this.refs.video.pause()}},{key:"componentDidUpdate",value:function(){this.setupPlayer()}},{key:"shouldComponentUpdate",value:function(e,t){return e.url!==this.props.url}},{key:"render",value:function(){var e=this,t=m.default.createElement("div",{className:"player__footer__uncollapsed"},m.default.createElement(C.default,{value:this.props.url,onChange:function(t){return e.props.onClick({index:e.props.index,url:t.target.value})}},this.props.beachNames.map(function(e,t){return m.default.createElement(w.default,{key:t,value:e.url,label:e.name})})));this.state.play?m.default.createElement(k.default,{className:"player__toggle-play",variant:"fab",color:"pimary",onClick:function(){return e.pause()}},m.default.createElement("i",{className:"fa fa-pause"})):m.default.createElement(k.default,{className:"player__toggle-play",variant:"fab",color:"pimary",onClick:function(){return e.play()}},m.default.createElement("i",{className:"fa fa-play"}));return m.default.createElement("article",{className:"player"},m.default.createElement("main",{className:"player__content"},m.default.createElement(k.default,{className:"player__delete",variant:"fab",color:"danger",onClick:function(){return e.props.deleteCamera({index:e.props.index})}},"×"),m.default.createElement("video",{ref:"video",autoPlay:!0,controls:!0})),m.default.createElement("footer",{className:"player__footer"},t))}}]),t}(h.Component);t.default=j,j.propTypes={url:_.default.string.isRequired,name:_.default.string.isRequired,onClick:_.default.func.isRequired}},"./cams/components/Players.js":/*!************************************!*\
  !*** ./cams/components/Players.js ***!
  \************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(/*! babel-runtime/core-js/object/get-prototype-of */"./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n(o),a=r(/*! babel-runtime/helpers/classCallCheck */"./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n(a),l=r(/*! babel-runtime/helpers/createClass */"./node_modules/babel-runtime/helpers/createClass.js"),u=n(l),c=r(/*! babel-runtime/helpers/possibleConstructorReturn */"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n(c),f=r(/*! babel-runtime/helpers/inherits */"./node_modules/babel-runtime/helpers/inherits.js"),p=n(f),h=r(/*! react */"./node_modules/react/index.js"),m=n(h),y=r(/*! ./Player */"./cams/components/Player.js"),g=n(y),v=r(/*! muicss/lib/react/button */"./node_modules/muicss/lib/react/button.js"),b=n(v),_=function(e){function t(e){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this;return m.default.createElement("div",{className:"players__wrapper"},m.default.createElement("section",{className:"players"},this.props.cameras.map(function(t,r){return m.default.createElement(g.default,{key:r,index:r,name:t.name,url:t.url,beachNames:e.props.beachNames,deleteCamera:e.props.deleteCamera,onClick:e.props.onClick})})),m.default.createElement(b.default,{color:"primary",onClick:this.props.addNewCamera},"Add Camera"),m.default.createElement("div",{id:"wg_target_div_512670_72189470"}))}}]),t}(h.Component);t.default=_},"./cams/containers/PlayersContainer.js":/*!*********************************************!*\
  !*** ./cams/containers/PlayersContainer.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! babel-runtime/core-js/object/keys */"./node_modules/babel-runtime/core-js/object/keys.js"),i=n(o),a=r(/*! react-redux */"./node_modules/react-redux/es/index.js"),s=r(/*! ../components/Players */"./cams/components/Players.js"),l=n(s),u=r(/*! ../actions */"./cams/actions/index.js"),c=r(/*! ../beaches.json */"./cams/beaches.json"),d=function(e){return{cameras:e.cameras,beachNames:(0,i.default)(c.beaches).reduce(function(e,t){return e.concat(c.beaches[t])},[]).sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})}},f=function(e){return{onClick:function(t){return e((0,u.setNewCamera)(t))},addNewCamera:function(){return e((0,u.addNewCamera)())},deleteCamera:function(t){return e((0,u.deleteCamera)(t))}}},p=(0,a.connect)(d,f)(l.default);t.default=p},"./cams/index.js":/*!***********************!*\
  !*** ./cams/index.js ***!
  \***********************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(/*! ./styles.scss */"./cams/styles.scss"),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(o),r(/*! react-hot-loader */"./node_modules/react-hot-loader/index.js")),a=r(/*! react */"./node_modules/react/index.js"),s=n(a),l=r(/*! react-dom */"./node_modules/react-dom/index.js"),u=n(l),c=r(/*! ./App */"./cams/App.js"),d=n(c),f=r(/*! react-redux */"./node_modules/react-redux/es/index.js"),p=r(/*! redux */"./node_modules/redux/es/index.js"),h=r(/*! ./reducers */"./cams/reducers/index.js"),m=n(h),y=document.getElementById("root"),g=(0,p.createStore)(m.default),v=function(e){return u.default.render(s.default.createElement(f.Provider,{store:g},s.default.createElement(i.AppContainer,null,s.default.createElement(e,null))),y)};"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),v(d.default),e.hot.accept(/*! ./App */"./cams/App.js",function(){return v(d.default)}),"https:"!=location.protocol&&(location.href="https:"+window.location.href.substring(window.location.protocol.length))},"./cams/reducers/cameras.js":/*!**********************************!*\
  !*** ./cams/reducers/cameras.js ***!
  \**********************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! babel-runtime/helpers/toConsumableArray */"./node_modules/babel-runtime/helpers/toConsumableArray.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=r(/*! ../beaches.json */"./cams/beaches.json"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.beaches.slice(2,4),t=arguments[1];switch(t.type){case"SET_NEW_CAMERA":var r=[].concat((0,o.default)(e));return r[t.camera.index]=i.beaches.filter(function(e){return e.url===t.camera.url}).reduce(function(e,t){return t},{}),r;case"ADD_NEW_CAMERA":return[].concat((0,o.default)(e),[{url:t.url,name:t.name}]);case"DELETE_CAMERA":return e.filter(function(e,r){return r!==t.camera.index});default:return e}};t.default=a},"./cams/reducers/index.js":/*!********************************!*\
  !*** ./cams/reducers/index.js ***!
  \********************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! redux */"./node_modules/redux/es/index.js"),i=r(/*! ./visibilityFilter */"./cams/reducers/visibilityFilter.js"),a=n(i),s=r(/*! ./cameras */"./cams/reducers/cameras.js"),l=n(s),u=(0,o.combineReducers)({visibilityFilter:a.default,cameras:l.default});t.default=u},"./cams/reducers/visibilityFilter.js":/*!*******************************************!*\
  !*** ./cams/reducers/visibilityFilter.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ALL",t=arguments[1];switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}};t.default=n},"./cams/styles.scss":/*!**************************!*\
  !*** ./cams/styles.scss ***!
  \**************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! !../node_modules/css-loader?importLoaders=1!../node_modules/sass-loader/lib/loader.js!./styles.scss */"./node_modules/css-loader/index.js?importLoaders=1!./node_modules/sass-loader/lib/loader.js!./cams/styles.scss");"string"==typeof n&&(n=[[e.i,n,""]]);var o={};o.transform=void 0;var i=r(/*! ../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(n,o);n.locals&&(e.exports=n.locals),n.locals||e.hot.accept(/*! !../node_modules/css-loader?importLoaders=1!../node_modules/sass-loader/lib/loader.js!./styles.scss */"./node_modules/css-loader/index.js?importLoaders=1!./node_modules/sass-loader/lib/loader.js!./cams/styles.scss",function(){var t=r(/*! !../node_modules/css-loader?importLoaders=1!../node_modules/sass-loader/lib/loader.js!./styles.scss */"./node_modules/css-loader/index.js?importLoaders=1!./node_modules/sass-loader/lib/loader.js!./cams/styles.scss");"string"==typeof t&&(t=[[e.i,t,""]]),i(t)}),e.hot.dispose(function(){i()})},"./cams/utils/utils.js":/*!*****************************!*\
  !*** ./cams/utils/utils.js ***!
  \*****************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n={};n.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},e.exports=n},"./node_modules/babel-runtime/core-js/array/from.js":/*!**********************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/array/from.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/array/from */"./node_modules/core-js/library/fn/array/from.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/create.js":/*!*************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/create.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/object/create */"./node_modules/core-js/library/fn/object/create.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/define-property.js":/*!**********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/define-property.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/object/define-property */"./node_modules/core-js/library/fn/object/define-property.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/get-prototype-of.js":/*!***********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/get-prototype-of.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/object/get-prototype-of */"./node_modules/core-js/library/fn/object/get-prototype-of.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/keys.js":/*!***********************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/keys.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/object/keys */"./node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/set-prototype-of.js":/*!***********************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/object/set-prototype-of.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/object/set-prototype-of */"./node_modules/core-js/library/fn/object/set-prototype-of.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol.js":/*!******************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/symbol.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/symbol */"./node_modules/core-js/library/fn/symbol/index.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol/iterator.js":/*!***************************************************************!*\
  !*** ./node_modules/babel-runtime/core-js/symbol/iterator.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports={default:r(/*! core-js/library/fn/symbol/iterator */"./node_modules/core-js/library/fn/symbol/iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/classCallCheck.js":/*!**************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/classCallCheck.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/helpers/createClass.js":/*!***********************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/createClass.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";t.__esModule=!0;var n=r(/*! ../core-js/object/define-property */"./node_modules/babel-runtime/core-js/object/define-property.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},"./node_modules/babel-runtime/helpers/inherits.js":/*!********************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/inherits.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(/*! ../core-js/object/set-prototype-of */"./node_modules/babel-runtime/core-js/object/set-prototype-of.js"),i=n(o),a=r(/*! ../core-js/object/create */"./node_modules/babel-runtime/core-js/object/create.js"),s=n(a),l=r(/*! ../helpers/typeof */"./node_modules/babel-runtime/helpers/typeof.js"),u=n(l);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js":/*!*************************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";t.__esModule=!0;var n=r(/*! ../helpers/typeof */"./node_modules/babel-runtime/helpers/typeof.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},"./node_modules/babel-runtime/helpers/toConsumableArray.js":/*!*****************************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/toConsumableArray.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";t.__esModule=!0;var n=r(/*! ../core-js/array/from */"./node_modules/babel-runtime/core-js/array/from.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}},"./node_modules/babel-runtime/helpers/typeof.js":/*!******************************************************!*\
  !*** ./node_modules/babel-runtime/helpers/typeof.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(/*! ../core-js/symbol/iterator */"./node_modules/babel-runtime/core-js/symbol/iterator.js"),i=n(o),a=r(/*! ../core-js/symbol */"./node_modules/babel-runtime/core-js/symbol.js"),s=n(a),l="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(i.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":l(e)}},"./node_modules/core-js/library/fn/array/from.js":/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/fn/array/from.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.string.iterator */"./node_modules/core-js/library/modules/es6.string.iterator.js"),r(/*! ../../modules/es6.array.from */"./node_modules/core-js/library/modules/es6.array.from.js"),e.exports=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Array.from},"./node_modules/core-js/library/fn/object/create.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/create.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.object.create */"./node_modules/core-js/library/modules/es6.object.create.js");var n=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return n.create(e,t)}},"./node_modules/core-js/library/fn/object/define-property.js":/*!*******************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/define-property.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.object.define-property */"./node_modules/core-js/library/modules/es6.object.define-property.js");var n=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},"./node_modules/core-js/library/fn/object/get-prototype-of.js":/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/get-prototype-of.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.object.get-prototype-of */"./node_modules/core-js/library/modules/es6.object.get-prototype-of.js"),e.exports=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Object.getPrototypeOf},"./node_modules/core-js/library/fn/object/keys.js":/*!********************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/keys.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.object.keys */"./node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/core-js/library/fn/object/set-prototype-of.js":/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/fn/object/set-prototype-of.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.object.set-prototype-of */"./node_modules/core-js/library/modules/es6.object.set-prototype-of.js"),e.exports=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Object.setPrototypeOf},"./node_modules/core-js/library/fn/symbol/index.js":/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/fn/symbol/index.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.symbol */"./node_modules/core-js/library/modules/es6.symbol.js"),r(/*! ../../modules/es6.object.to-string */"./node_modules/core-js/library/modules/es6.object.to-string.js"),r(/*! ../../modules/es7.symbol.async-iterator */"./node_modules/core-js/library/modules/es7.symbol.async-iterator.js"),r(/*! ../../modules/es7.symbol.observable */"./node_modules/core-js/library/modules/es7.symbol.observable.js"),e.exports=r(/*! ../../modules/_core */"./node_modules/core-js/library/modules/_core.js").Symbol},"./node_modules/core-js/library/fn/symbol/iterator.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/fn/symbol/iterator.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ../../modules/es6.string.iterator */"./node_modules/core-js/library/modules/es6.string.iterator.js"),r(/*! ../../modules/web.dom.iterable */"./node_modules/core-js/library/modules/web.dom.iterable.js"),e.exports=r(/*! ../../modules/_wks-ext */"./node_modules/core-js/library/modules/_wks-ext.js").f("iterator")},"./node_modules/core-js/library/modules/_a-function.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_a-function.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/library/modules/_add-to-unscopables.js":/*!*********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_add-to-unscopables.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(){}},"./node_modules/core-js/library/modules/_an-object.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_an-object.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_is-object */"./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/library/modules/_array-includes.js":/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_array-includes.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js"),o=r(/*! ./_to-length */"./node_modules/core-js/library/modules/_to-length.js"),i=r(/*! ./_to-absolute-index */"./node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,a){var s,l=n(t),u=o(l.length),c=i(a,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},"./node_modules/core-js/library/modules/_classof.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_classof.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_cof */"./node_modules/core-js/library/modules/_cof.js"),o=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("toStringTag"),i="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),o))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},"./node_modules/core-js/library/modules/_cof.js":/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_cof.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/library/modules/_core.js":/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_core.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/library/modules/_create-property.js":/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_create-property.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js"),o=r(/*! ./_property-desc */"./node_modules/core-js/library/modules/_property-desc.js");e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},"./node_modules/core-js/library/modules/_ctx.js":/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_ctx.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_a-function */"./node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/library/modules/_defined.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_defined.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/library/modules/_descriptors.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_descriptors.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=!r(/*! ./_fails */"./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_dom-create.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_dom-create.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_is-object */"./node_modules/core-js/library/modules/_is-object.js"),o=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js").document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/library/modules/_enum-bug-keys.js":/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_enum-bug-keys.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/library/modules/_enum-keys.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_enum-keys.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-keys */"./node_modules/core-js/library/modules/_object-keys.js"),o=r(/*! ./_object-gops */"./node_modules/core-js/library/modules/_object-gops.js"),i=r(/*! ./_object-pie */"./node_modules/core-js/library/modules/_object-pie.js");e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},"./node_modules/core-js/library/modules/_export.js":/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_export.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js"),o=r(/*! ./_core */"./node_modules/core-js/library/modules/_core.js"),i=r(/*! ./_ctx */"./node_modules/core-js/library/modules/_ctx.js"),a=r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js"),s=function(e,t,r){var l,u,c,d=e&s.F,f=e&s.G,p=e&s.S,h=e&s.P,m=e&s.B,y=e&s.W,g=f?o:o[t]||(o[t]={}),v=g.prototype,b=f?n:p?n[t]:(n[t]||{}).prototype;f&&(r=t);for(l in r)(u=!d&&b&&void 0!==b[l])&&l in g||(c=u?b[l]:r[l],g[l]=f&&"function"!=typeof b[l]?r[l]:m&&u?i(c,n):y&&b[l]==c?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?i(Function.call,c):c,h&&((g.virtual||(g.virtual={}))[l]=c,e&s.R&&v&&!v[l]&&a(v,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},"./node_modules/core-js/library/modules/_fails.js":/*!********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_fails.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/library/modules/_global.js":/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_global.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/library/modules/_has.js":/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_has.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/library/modules/_hide.js":/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_hide.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js"),o=r(/*! ./_property-desc */"./node_modules/core-js/library/modules/_property-desc.js");e.exports=r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/library/modules/_html.js":/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_html.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/library/modules/_ie8-dom-define.js":/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_ie8-dom-define.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=!r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js")&&!r(/*! ./_fails */"./node_modules/core-js/library/modules/_fails.js")(function(){/*! ./_dom-create */
return 7!=Object.defineProperty(r("./node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_iobject.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iobject.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_cof */"./node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/library/modules/_is-array-iter.js":/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-array-iter.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_iterators */"./node_modules/core-js/library/modules/_iterators.js"),o=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},"./node_modules/core-js/library/modules/_is-array.js":/*!***********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-array.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_cof */"./node_modules/core-js/library/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"./node_modules/core-js/library/modules/_is-object.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_is-object.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/library/modules/_iter-call.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-call.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},"./node_modules/core-js/library/modules/_iter-create.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-create.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_object-create */"./node_modules/core-js/library/modules/_object-create.js"),o=r(/*! ./_property-desc */"./node_modules/core-js/library/modules/_property-desc.js"),i=r(/*! ./_set-to-string-tag */"./node_modules/core-js/library/modules/_set-to-string-tag.js"),a={};r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js")(a,r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},"./node_modules/core-js/library/modules/_iter-define.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-define.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_library */"./node_modules/core-js/library/modules/_library.js"),o=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js"),i=r(/*! ./_redefine */"./node_modules/core-js/library/modules/_redefine.js"),a=r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js"),s=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),l=r(/*! ./_iterators */"./node_modules/core-js/library/modules/_iterators.js"),u=r(/*! ./_iter-create */"./node_modules/core-js/library/modules/_iter-create.js"),c=r(/*! ./_set-to-string-tag */"./node_modules/core-js/library/modules/_set-to-string-tag.js"),d=r(/*! ./_object-gpo */"./node_modules/core-js/library/modules/_object-gpo.js"),f=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,m,y,g,v){u(r,t,m);var b,_,E,T=function(e){if(!p&&e in R)return R[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",S="values"==y,C=!1,R=e.prototype,k=R[f]||R["@@iterator"]||y&&R[y],j=k||T(y),A=y?S?T("entries"):j:void 0,x="Array"==t?R.entries||k:k;if(x&&(E=d(x.call(new e)))!==Object.prototype&&E.next&&(c(E,w,!0),n||s(E,f)||a(E,f,h)),S&&k&&"values"!==k.name&&(C=!0,j=function(){return k.call(this)}),n&&!v||!p&&!C&&R[f]||a(R,f,j),l[t]=j,l[w]=h,y)if(b={values:S?j:T("values"),keys:g?j:T("keys"),entries:A},v)for(_ in b)_ in R||i(R,_,b[_]);else o(o.P+o.F*(p||C),t,b);return b}},"./node_modules/core-js/library/modules/_iter-detect.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-detect.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},"./node_modules/core-js/library/modules/_iter-step.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iter-step.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/library/modules/_iterators.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_iterators.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports={}},"./node_modules/core-js/library/modules/_library.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_library.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=!0},"./node_modules/core-js/library/modules/_meta.js":/*!*******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_meta.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_uid */"./node_modules/core-js/library/modules/_uid.js")("meta"),o=r(/*! ./_is-object */"./node_modules/core-js/library/modules/_is-object.js"),i=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),a=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js").f,s=0,l=Object.isExtensible||function(){return!0},u=!r(/*! ./_fails */"./node_modules/core-js/library/modules/_fails.js")(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},f=function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return u&&h.NEED&&l(e)&&!i(e,n)&&c(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},"./node_modules/core-js/library/modules/_object-create.js":/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-create.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js"),o=r(/*! ./_object-dps */"./node_modules/core-js/library/modules/_object-dps.js"),i=r(/*! ./_enum-bug-keys */"./node_modules/core-js/library/modules/_enum-bug-keys.js"),a=r(/*! ./_shared-key */"./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),s=function(){},l=function(){var e,t=r(/*! ./_dom-create */"./node_modules/core-js/library/modules/_dom-create.js")("iframe"),n=i.length;for(t.style.display="none",r(/*! ./_html */"./node_modules/core-js/library/modules/_html.js").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},"./node_modules/core-js/library/modules/_object-dp.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-dp.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js"),o=r(/*! ./_ie8-dom-define */"./node_modules/core-js/library/modules/_ie8-dom-define.js"),i=r(/*! ./_to-primitive */"./node_modules/core-js/library/modules/_to-primitive.js"),a=Object.defineProperty;t.f=r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/library/modules/_object-dps.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-dps.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js"),o=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js"),i=r(/*! ./_object-keys */"./node_modules/core-js/library/modules/_object-keys.js");e.exports=r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},"./node_modules/core-js/library/modules/_object-gopd.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopd.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-pie */"./node_modules/core-js/library/modules/_object-pie.js"),o=r(/*! ./_property-desc */"./node_modules/core-js/library/modules/_property-desc.js"),i=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js"),a=r(/*! ./_to-primitive */"./node_modules/core-js/library/modules/_to-primitive.js"),s=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),l=r(/*! ./_ie8-dom-define */"./node_modules/core-js/library/modules/_ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js")?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},"./node_modules/core-js/library/modules/_object-gopn-ext.js":/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopn-ext.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js"),o=r(/*! ./_object-gopn */"./node_modules/core-js/library/modules/_object-gopn.js").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},"./node_modules/core-js/library/modules/_object-gopn.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gopn.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-keys-internal */"./node_modules/core-js/library/modules/_object-keys-internal.js"),o=r(/*! ./_enum-bug-keys */"./node_modules/core-js/library/modules/_enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},"./node_modules/core-js/library/modules/_object-gops.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gops.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/library/modules/_object-gpo.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-gpo.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),o=r(/*! ./_to-object */"./node_modules/core-js/library/modules/_to-object.js"),i=r(/*! ./_shared-key */"./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/library/modules/_object-keys-internal.js":/*!***********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-keys-internal.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),o=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js"),i=r(/*! ./_array-includes */"./node_modules/core-js/library/modules/_array-includes.js")(!1),a=r(/*! ./_shared-key */"./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},"./node_modules/core-js/library/modules/_object-keys.js":/*!**************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-keys.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-keys-internal */"./node_modules/core-js/library/modules/_object-keys-internal.js"),o=r(/*! ./_enum-bug-keys */"./node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/library/modules/_object-pie.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-pie.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/library/modules/_object-sap.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_object-sap.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js"),o=r(/*! ./_core */"./node_modules/core-js/library/modules/_core.js"),i=r(/*! ./_fails */"./node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},"./node_modules/core-js/library/modules/_property-desc.js":/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_property-desc.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/library/modules/_redefine.js":/*!***********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_redefine.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js")},"./node_modules/core-js/library/modules/_set-proto.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_set-proto.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_is-object */"./node_modules/core-js/library/modules/_is-object.js"),o=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js"),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(/*! ./_ctx */"./node_modules/core-js/library/modules/_ctx.js")(Function.call,r(/*! ./_object-gopd */"./node_modules/core-js/library/modules/_object-gopd.js").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},"./node_modules/core-js/library/modules/_set-to-string-tag.js":/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_set-to-string-tag.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js").f,o=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),i=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/library/modules/_shared-key.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_shared-key.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_shared */"./node_modules/core-js/library/modules/_shared.js")("keys"),o=r(/*! ./_uid */"./node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/library/modules/_shared.js":/*!*********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_shared.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js"),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},"./node_modules/core-js/library/modules/_string-at.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_string-at.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-integer */"./node_modules/core-js/library/modules/_to-integer.js"),o=r(/*! ./_defined */"./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}}},"./node_modules/core-js/library/modules/_to-absolute-index.js":/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-absolute-index.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-integer */"./node_modules/core-js/library/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/library/modules/_to-integer.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-integer.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/library/modules/_to-iobject.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-iobject.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_iobject */"./node_modules/core-js/library/modules/_iobject.js"),o=r(/*! ./_defined */"./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/library/modules/_to-length.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-length.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-integer */"./node_modules/core-js/library/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/library/modules/_to-object.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-object.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_defined */"./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/library/modules/_to-primitive.js":/*!***************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_to-primitive.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_is-object */"./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/library/modules/_uid.js":/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_uid.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/library/modules/_wks-define.js":/*!*************************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks-define.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js"),o=r(/*! ./_core */"./node_modules/core-js/library/modules/_core.js"),i=r(/*! ./_library */"./node_modules/core-js/library/modules/_library.js"),a=r(/*! ./_wks-ext */"./node_modules/core-js/library/modules/_wks-ext.js"),s=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"./node_modules/core-js/library/modules/_wks-ext.js":/*!**********************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks-ext.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){t.f=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")},"./node_modules/core-js/library/modules/_wks.js":/*!******************************************************!*\
  !*** ./node_modules/core-js/library/modules/_wks.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_shared */"./node_modules/core-js/library/modules/_shared.js")("wks"),o=r(/*! ./_uid */"./node_modules/core-js/library/modules/_uid.js"),i=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},"./node_modules/core-js/library/modules/core.get-iterator-method.js":/*!**************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/core.get-iterator-method.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_classof */"./node_modules/core-js/library/modules/_classof.js"),o=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("iterator"),i=r(/*! ./_iterators */"./node_modules/core-js/library/modules/_iterators.js");e.exports=r(/*! ./_core */"./node_modules/core-js/library/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},"./node_modules/core-js/library/modules/es6.array.from.js":/*!****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.array.from.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_ctx */"./node_modules/core-js/library/modules/_ctx.js"),o=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js"),i=r(/*! ./_to-object */"./node_modules/core-js/library/modules/_to-object.js"),a=r(/*! ./_iter-call */"./node_modules/core-js/library/modules/_iter-call.js"),s=r(/*! ./_is-array-iter */"./node_modules/core-js/library/modules/_is-array-iter.js"),l=r(/*! ./_to-length */"./node_modules/core-js/library/modules/_to-length.js"),u=r(/*! ./_create-property */"./node_modules/core-js/library/modules/_create-property.js"),c=r(/*! ./core.get-iterator-method */"./node_modules/core-js/library/modules/core.get-iterator-method.js");o(o.S+o.F*!r(/*! ./_iter-detect */"./node_modules/core-js/library/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,g=0,v=c(f);if(y&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==v||p==Array&&s(v))for(t=l(f.length),r=new p(t);t>g;g++)u(r,g,y?m(f[g],g):f[g]);else for(d=v.call(f),r=new p;!(o=d.next()).done;g++)u(r,g,y?a(d,m,[o.value,g],!0):o.value);return r.length=g,r}})},"./node_modules/core-js/library/modules/es6.array.iterator.js":/*!********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.array.iterator.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_add-to-unscopables */"./node_modules/core-js/library/modules/_add-to-unscopables.js"),o=r(/*! ./_iter-step */"./node_modules/core-js/library/modules/_iter-step.js"),i=r(/*! ./_iterators */"./node_modules/core-js/library/modules/_iterators.js"),a=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js");e.exports=r(/*! ./_iter-define */"./node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/library/modules/es6.object.create.js":/*!*******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.create.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js");n(n.S,"Object",{create:r(/*! ./_object-create */"./node_modules/core-js/library/modules/_object-create.js")})},"./node_modules/core-js/library/modules/es6.object.define-property.js":/*!****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.define-property.js ***!
  \****************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js");n(n.S+n.F*!r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperty:r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js").f})},"./node_modules/core-js/library/modules/es6.object.get-prototype-of.js":/*!*****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-object */"./node_modules/core-js/library/modules/_to-object.js"),o=r(/*! ./_object-gpo */"./node_modules/core-js/library/modules/_object-gpo.js");r(/*! ./_object-sap */"./node_modules/core-js/library/modules/_object-sap.js")("getPrototypeOf",function(){return function(e){return o(n(e))}})},"./node_modules/core-js/library/modules/es6.object.keys.js":/*!*****************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.keys.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_to-object */"./node_modules/core-js/library/modules/_to-object.js"),o=r(/*! ./_object-keys */"./node_modules/core-js/library/modules/_object-keys.js");r(/*! ./_object-sap */"./node_modules/core-js/library/modules/_object-sap.js")("keys",function(){return function(e){return o(n(e))}})},"./node_modules/core-js/library/modules/es6.object.set-prototype-of.js":/*!*****************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.set-prototype-of.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js");n(n.S,"Object",{setPrototypeOf:r(/*! ./_set-proto */"./node_modules/core-js/library/modules/_set-proto.js").set})},"./node_modules/core-js/library/modules/es6.object.to-string.js":/*!**********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.object.to-string.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){},"./node_modules/core-js/library/modules/es6.string.iterator.js":/*!*********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.string.iterator.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_string-at */"./node_modules/core-js/library/modules/_string-at.js")(!0);r(/*! ./_iter-define */"./node_modules/core-js/library/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/library/modules/es6.symbol.js":/*!************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es6.symbol.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js"),o=r(/*! ./_has */"./node_modules/core-js/library/modules/_has.js"),i=r(/*! ./_descriptors */"./node_modules/core-js/library/modules/_descriptors.js"),a=r(/*! ./_export */"./node_modules/core-js/library/modules/_export.js"),s=r(/*! ./_redefine */"./node_modules/core-js/library/modules/_redefine.js"),l=r(/*! ./_meta */"./node_modules/core-js/library/modules/_meta.js").KEY,u=r(/*! ./_fails */"./node_modules/core-js/library/modules/_fails.js"),c=r(/*! ./_shared */"./node_modules/core-js/library/modules/_shared.js"),d=r(/*! ./_set-to-string-tag */"./node_modules/core-js/library/modules/_set-to-string-tag.js"),f=r(/*! ./_uid */"./node_modules/core-js/library/modules/_uid.js"),p=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js"),h=r(/*! ./_wks-ext */"./node_modules/core-js/library/modules/_wks-ext.js"),m=r(/*! ./_wks-define */"./node_modules/core-js/library/modules/_wks-define.js"),y=r(/*! ./_enum-keys */"./node_modules/core-js/library/modules/_enum-keys.js"),g=r(/*! ./_is-array */"./node_modules/core-js/library/modules/_is-array.js"),v=r(/*! ./_an-object */"./node_modules/core-js/library/modules/_an-object.js"),b=r(/*! ./_to-iobject */"./node_modules/core-js/library/modules/_to-iobject.js"),_=r(/*! ./_to-primitive */"./node_modules/core-js/library/modules/_to-primitive.js"),E=r(/*! ./_property-desc */"./node_modules/core-js/library/modules/_property-desc.js"),T=r(/*! ./_object-create */"./node_modules/core-js/library/modules/_object-create.js"),w=r(/*! ./_object-gopn-ext */"./node_modules/core-js/library/modules/_object-gopn-ext.js"),S=r(/*! ./_object-gopd */"./node_modules/core-js/library/modules/_object-gopd.js"),C=r(/*! ./_object-dp */"./node_modules/core-js/library/modules/_object-dp.js"),R=r(/*! ./_object-keys */"./node_modules/core-js/library/modules/_object-keys.js"),k=S.f,j=C.f,A=w.f,x=n.Symbol,O=n.JSON,P=O&&O.stringify,L=p("_hidden"),D=p("toPrimitive"),I={}.propertyIsEnumerable,N=c("symbol-registry"),M=c("symbols"),F=c("op-symbols"),U=Object.prototype,B="function"==typeof x,G=n.QObject,H=!G||!G.prototype||!G.prototype.findChild,W=i&&u(function(){return 7!=T(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=k(U,t);n&&delete U[t],j(e,t,r),n&&e!==U&&j(U,t,n)}:j,V=function(e){var t=M[e]=T(x.prototype);return t._k=e,t},K=B&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},z=function(e,t,r){return e===U&&z(F,t,r),v(e),t=_(t,!0),v(r),o(M,t)?(r.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),r=T(r,{enumerable:E(0,!1)})):(o(e,L)||j(e,L,E(1,{})),e[L][t]=!0),W(e,t,r)):j(e,t,r)},q=function(e,t){v(e);for(var r,n=y(t=b(t)),o=0,i=n.length;i>o;)z(e,r=n[o++],t[r]);return e},Y=function(e,t){return void 0===t?T(e):q(T(e),t)},X=function(e){var t=I.call(this,e=_(e,!0));return!(this===U&&o(M,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(M,e)||o(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=b(e),t=_(t,!0),e!==U||!o(M,t)||o(F,t)){var r=k(e,t);return!r||!o(M,t)||o(e,L)&&e[L][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=A(b(e)),n=[],i=0;r.length>i;)o(M,t=r[i++])||t==L||t==l||n.push(t);return n},J=function(e){for(var t,r=e===U,n=A(r?F:b(e)),i=[],a=0;n.length>a;)!o(M,t=n[a++])||r&&!o(U,t)||i.push(M[t]);return i};B||(x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===U&&t.call(F,r),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),W(this,e,E(1,r))};return i&&H&&W(U,e,{configurable:!0,set:t}),V(e)},s(x.prototype,"toString",function(){return this._k}),S.f=Q,C.f=z,r(/*! ./_object-gopn */"./node_modules/core-js/library/modules/_object-gopn.js").f=w.f=$,r(/*! ./_object-pie */"./node_modules/core-js/library/modules/_object-pie.js").f=X,r(/*! ./_object-gops */"./node_modules/core-js/library/modules/_object-gops.js").f=J,i&&!r(/*! ./_library */"./node_modules/core-js/library/modules/_library.js")&&s(U,"propertyIsEnumerable",X,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!B,{Symbol:x});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=R(p.store),re=0;te.length>re;)m(te[re++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return o(N,e+="")?N[e]:N[e]=x(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!B,"Object",{create:Y,defineProperty:z,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:J}),O&&a(a.S+a.F*(!B||u(function(){var e=x();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&g(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,P.apply(O,n)}}}),x.prototype[D]||r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js")(x.prototype,D,x.prototype.valueOf),d(x,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},"./node_modules/core-js/library/modules/es7.symbol.async-iterator.js":/*!***************************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ./_wks-define */"./node_modules/core-js/library/modules/_wks-define.js")("asyncIterator")},"./node_modules/core-js/library/modules/es7.symbol.observable.js":/*!***********************************************************************!*\
  !*** ./node_modules/core-js/library/modules/es7.symbol.observable.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ./_wks-define */"./node_modules/core-js/library/modules/_wks-define.js")("observable")},"./node_modules/core-js/library/modules/web.dom.iterable.js":/*!******************************************************************!*\
  !*** ./node_modules/core-js/library/modules/web.dom.iterable.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ./es6.array.iterator */"./node_modules/core-js/library/modules/es6.array.iterator.js");for(var n=r(/*! ./_global */"./node_modules/core-js/library/modules/_global.js"),o=r(/*! ./_hide */"./node_modules/core-js/library/modules/_hide.js"),i=r(/*! ./_iterators */"./node_modules/core-js/library/modules/_iterators.js"),a=r(/*! ./_wks */"./node_modules/core-js/library/modules/_wks.js")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],d=c&&c.prototype;d&&!d[a]&&o(d,a,u),i[u]=i.Array}},"./node_modules/css-loader/index.js?importLoaders=1!./node_modules/sass-loader/lib/loader.js!./cams/styles.scss":/*!*************************************************************************************************************!*\
  !*** ./node_modules/css-loader?importLoaders=1!./node_modules/sass-loader/lib/loader.js!./cams/styles.scss ***!
  \*************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){t=e.exports=r(/*! ../node_modules/css-loader/lib/css-base.js */"./node_modules/css-loader/lib/css-base.js")(void 0),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),t.push([e.i,".player{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:#a9a9a9;box-shadow:0 27px 55px 0 rgba(0,0,0,.3),0 17px 17px 0 rgba(0,0,0,.15);position:relative}.player:hover .player__delete{transform:translateX(0);opacity:1}.player__content{padding-bottom:56.25%;height:0;flex:1;width:100%}.player__content video{width:100%!important;height:auto!important}.player__footer{width:96%;flex-direction:column;padding:10px;min-height:50px;max-height:0}.player__footer,.player__footer__uncollapsed{display:flex;justify-content:center;align-items:center}.player__footer__uncollapsed{width:100%}.player__footer__uncollapsed .mui-btn:focus,.player__footer__uncollapsed .mui-btn:hover{background-color:transparent}.player__footer .mui-select{width:100%}.player__toggle-play{position:absolute;top:50%;left:50%;margin-top:-27.5px!important;margin-left:-27.5px!important}.player__delete{transform:translateX(100%);opacity:0;position:absolute;top:0;right:5px}.player h2{color:#fff;margin-left:2%}.players__wrapper{display:flex;flex-direction:column;padding:5px;width:97%}.players__wrapper>.mui-btn{margin-top:30px}.players{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px;grid-auto-rows:minmax(100px,auto)}@media (max-width:960px){.players{grid-template-columns:repeat(1,1fr)}}.links{display:flex;justify-content:center}.link{background-color:#285aff;transition:all .2s ease-in-out;margin:0 5px;cursor:pointer}.link:hover{background-color:#2735ff}.link--active{background-color:#7a7cff}.link a{color:#fff;padding:10px 20px}.page{flex-direction:column;padding:0 5px 5px;width:100vw;overflow:auto;min-height:100vh}.page,.page__header{display:flex;justify-content:flex-start;align-items:center}.page__header{height:65px;width:100%;background-color:rgba(0,0,0,.5);color:#fff;padding-bottom:10px}.page__header h1{margin-left:30px;font-size:24px}#wg_target_div_512670_72189470{display:flex!important;justify-content:center;overflow:auto!important}body{display:flex;justify-content:flex-start;align-items:center;flex-direction:column;min-height:100vh;font-family:Roboto,sans-serif}li{list-style:none;font-size:24px}a{display:block;text-decoration:none}",""])},"./node_modules/css-loader/lib/css-base.js":/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){function r(e,t){var r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=n(o);return[r].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[r].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},"./node_modules/fbjs/lib/EventListener.js":/*!************************************************!*\
  !*** ./node_modules/fbjs/lib/EventListener.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! ./emptyFunction */"./node_modules/fbjs/lib/emptyFunction.js"),o={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=o},"./node_modules/fbjs/lib/ExecutionEnvironment.js":/*!*******************************************************!*\
  !*** ./node_modules/fbjs/lib/ExecutionEnvironment.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=o},"./node_modules/fbjs/lib/containsNode.js":/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/containsNode.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=r(/*! ./isTextNode */"./node_modules/fbjs/lib/isTextNode.js");e.exports=n},"./node_modules/fbjs/lib/emptyFunction.js":/*!************************************************!*\
  !*** ./node_modules/fbjs/lib/emptyFunction.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},"./node_modules/fbjs/lib/emptyObject.js":/*!**********************************************!*\
  !*** ./node_modules/fbjs/lib/emptyObject.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n={};e.exports=n},"./node_modules/fbjs/lib/focusNode.js":/*!********************************************!*\
  !*** ./node_modules/fbjs/lib/focusNode.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},"./node_modules/fbjs/lib/getActiveElement.js":/*!***************************************************!*\
  !*** ./node_modules/fbjs/lib/getActiveElement.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},"./node_modules/fbjs/lib/invariant.js":/*!********************************************!*\
  !*** ./node_modules/fbjs/lib/invariant.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t,r,n,i,a,s,l){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,a,s,l],d=0;u=new Error(t.replace(/%s/g,function(){return c[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(e){};e.exports=n},"./node_modules/fbjs/lib/isNode.js":/*!*****************************************!*\
  !*** ./node_modules/fbjs/lib/isNode.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!(!e||!("function"==typeof r.Node?e instanceof r.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},"./node_modules/fbjs/lib/isTextNode.js":/*!*********************************************!*\
  !*** ./node_modules/fbjs/lib/isTextNode.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){return o(e)&&3==e.nodeType}var o=r(/*! ./isNode */"./node_modules/fbjs/lib/isNode.js");e.exports=n},"./node_modules/fbjs/lib/shallowEqual.js":/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/shallowEqual.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=o},"./node_modules/hls.js/dist/hls.js":/*!*****************************************!*\
  !*** ./node_modules/hls.js/dist/hls.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t,r){"use strict";function n(){}function o(e,t){return t="["+e+"] > "+t}function i(e){var t=self.console[e];return t?function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]&&(n[0]=o(e,n[0])),t.apply(self.console,n)}:n}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach(function(t){u[t]=e[t]?e[t].bind(e):i(t)})}r.d(t,"a",function(){return c}),r.d(t,"b",function(){return d});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=l,c=function(e){if(!0===e||"object"===(void 0===e?"undefined":s(e))){a(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=l}}else u=l},d=u},function(e,t,r){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return o});var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},o={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){n(this,e)}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,o=0;e.isHeader(t,r);){o+=10;o+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(o+=10),r+=o}if(o>0)return t.subarray(n,n+o)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var o=r[n];if(e.isTimeStampFrame(o))return e._readTimeStamp(o)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){var o=e._readSize(t,r+6);r+=10;for(var i=r+o;r+8<i;){var a=e._getFrameData(t.subarray(r)),s=e._decodeFrame(a);s&&n.push(s),r+=a.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var o=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:o}}var i=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var o=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:o}}var i=e._utf8ArrayToStr(t.data);return{key:t.type,data:i}},e._utf8ArrayToStr=function(e){for(var t=void 0,r=void 0,n="",o=0,i=e.length;o<i;){var a=e[o++];switch(a>>4){case 0:return n;case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(a);break;case 12:case 13:t=e[o++],n+=String.fromCharCode((31&a)<<6|63&t);break;case 14:t=e[o++],r=e[o++],n+=String.fromCharCode((15&a)<<12|(63&t)<<6|(63&r)<<0)}}return n},e}();t.a=o},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),o=u.length,l=0;l<o;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),o||(o=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var o=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){!function(t){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var o=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+i.path;u.path=a.normalizePath(d)}else u.path=s.path,i.params||(u.params=s.params,i.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,r,n){var o,i,a,s,l,u=navigator.userAgent.toLowerCase(),c=n,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return o=1+((192&t[r+2])>>>6),(i=(60&t[r+2])>>>2)>d.length-1?void e.trigger(Event.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+i}):(s=(1&t[r+2])<<2,s|=(192&t[r+3])>>>6,N.b.log("manifest codec:"+n+",ADTS data:type:"+o+",sampleingIndex:"+i+"["+d[i]+"Hz],channelConfig:"+s),/firefox/i.test(u)?i>=6?(o=5,l=new Array(4),a=i-3):(o=2,l=new Array(2),a=i):-1!==u.indexOf("android")?(o=2,l=new Array(2),a=i):(o=5,l=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&i>=6?a=i-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(i>=6&&1===s||/vivaldi/i.test(u))||!n&&1===s)&&(o=2,l=new Array(2)),a=i)),l[0]=o<<3,l[0]|=(14&i)>>1,l[1]|=(1&i)<<7,l[1]|=s<<3,5===o&&(l[1]|=(14&a)>>1,l[2]=(1&a)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[i],channelCount:s,codec:"mp4a.40."+o,manifestCodec:c})}function l(e,t){return 255===e[t]&&240==(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function c(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e,t){return!!(t+1<e.length&&l(e,t))}function f(e,t){if(t+1<e.length&&l(e,t)){var r=u(e,t),n=r;t+5<e.length&&(n=c(e,t));var o=t+n;if(o===e.length||o+1<e.length&&l(e,o))return!0}return!1}function p(e,t,r,n,o){if(!e.samplerate){var i=s(t,r,n,o);e.config=i.config,e.samplerate=i.samplerate,e.channelCount=i.channelCount,e.codec=i.codec,e.manifestCodec=i.manifestCodec,N.b.log("parsed codec:"+e.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount)}}function h(e){return 9216e4/e}function m(e,t,r,n,o){var i,a,s,l=e.length;if(i=u(e,t),a=c(e,t),(a-=i)>0&&t+i+a<=l)return s=r+n*o,{headerLength:i,frameLength:a,stamp:s}}function y(e,t,r,n,o){var i=h(e.samplerate),a=m(t,r,n,o,i);if(a){var s=a.stamp,l=a.headerLength,u=a.frameLength,c={unit:t.subarray(r+l,r+l+u),pts:s,dts:s};return e.samples.push(c),e.len+=u,{sample:c,length:u+l}}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var j=r(1),A=r(2),x=function(){function e(t,r){n(this,e),this.subtle=t,this.aesIV=r}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),O=x,P=function(){function e(t,r){o(this,e),this.subtle=t,this.key=r}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),L=P,D=function(){function e(){i(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],o=r[1],i=r[2],a=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,m=0;for(m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var y=h^h<<1^h<<2^h<<3^h<<4;y=y>>>8^255&y^99,e[p]=y,t[y]=p;var g=f[p],v=f[g],b=f[v],_=257*f[y]^16843008*y;n[p]=_<<24|_>>>8,o[p]=_<<16|_>>>16,i[p]=_<<8|_>>>24,a[p]=_,_=16843009*b^65537*v^257*g^16843008*p,l[y]=_<<24|_>>>8,u[y]=_<<16|_>>>16,c[y]=_<<8|_>>>24,d[y]=_,p?(p=g^f[f[f[b^g]]],h^=f[f[h]]):p=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i=this.ksRows=4*(o+6+1),a=void 0,s=void 0,l=this.keySchedule=new Uint32Array(i),u=this.invKeySchedule=new Uint32Array(i),c=this.sBox,d=this.rcon,f=this.invSubMix,p=f[0],h=f[1],m=f[2],y=f[3],g=void 0,v=void 0;for(a=0;a<i;a++)a<o?g=l[a]=t[a]:(v=g,a%o==0?(v=v<<8|v>>>24,v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v],v^=d[a/o|0]<<24):o>6&&a%o==4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v]),l[a]=g=(l[a-o]^v)>>>0);for(s=0;s<i;s++)a=i-s,v=3&s?l[a]:l[a-4],u[s]=s<4||a<=4?v:p[c[v>>>24]]^h[c[v>>>16&255]]^m[c[v>>>8&255]]^y[c[255&v]],u[s]=u[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r){for(var n,o,i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],c=l[1],d=l[2],f=l[3],p=this.uint8ArrayToUint32Array_(r),h=p[0],m=p[1],y=p[2],g=p[3],v=new Int32Array(e),b=new Int32Array(v.length),_=void 0,E=void 0,T=void 0,w=void 0,S=void 0,C=void 0,R=void 0,k=void 0,j=void 0,A=void 0,x=void 0,O=void 0,P=this.networkToHostOrderSwap;t<v.length;){for(j=P(v[t]),A=P(v[t+1]),x=P(v[t+2]),O=P(v[t+3]),S=j^a[0],C=O^a[1],R=x^a[2],k=A^a[3],n=4,o=1;o<i;o++)_=u[S>>>24]^c[C>>16&255]^d[R>>8&255]^f[255&k]^a[n],E=u[C>>>24]^c[R>>16&255]^d[k>>8&255]^f[255&S]^a[n+1],T=u[R>>>24]^c[k>>16&255]^d[S>>8&255]^f[255&C]^a[n+2],w=u[k>>>24]^c[S>>16&255]^d[C>>8&255]^f[255&R]^a[n+3],S=_,C=E,R=T,k=w,n+=4;_=s[S>>>24]<<24^s[C>>16&255]<<16^s[R>>8&255]<<8^s[255&k]^a[n],E=s[C>>>24]<<24^s[R>>16&255]<<16^s[k>>8&255]<<8^s[255&S]^a[n+1],T=s[R>>>24]<<24^s[k>>16&255]<<16^s[S>>8&255]<<8^s[255&C]^a[n+2],w=s[k>>>24]<<24^s[S>>16&255]<<16^s[C>>8&255]<<8^s[255&R]^a[n+3],n+=3,b[t]=P(_^h),b[t+1]=P(w^m),b[t+2]=P(T^y),b[t+3]=P(E^g),h=j,m=A,y=x,g=O,t+=4}return b.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),I=D,N=r(0),M=function(){function e(t,r){a(this,e),this.observer=t,this.config=r,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,n){var o=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(N.b.log("JS AES decrypt"),this.logEnabled=!1);var i=this.decryptor;i||(this.decryptor=i=new I),i.expandKey(t),n(i.decrypt(e,0,r))}else{this.logEnabled&&(N.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var a=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new L(a,t)),this.fastAesKey.expandKey().then(function(i){new O(a,r).decrypt(e,i).catch(function(i){o.onWebCryptoError(i,e,t,r,n)}).then(function(e){n(e)})}).catch(function(i){o.onWebCryptoError(i,e,t,r,n)})}},e.prototype.onWebCryptoError=function(e,t,r,n,o){this.config.enableSoftwareAES?(N.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,n,o)):(N.b.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}(),F=M,U=r(3),B=function(){function e(t,r,n){g(this,e),this.observer=t,this.config=n,this.remuxer=r}return e.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=U.a.getID3Data(e,0)||[],r=t.length,n=e.length;r<n;r++)if(f(e,r))return N.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,n){for(var o=this._audioTrack,i=U.a.getID3Data(e,0)||[],a=U.a.getTimeStamp(i),s=a?90*a:9e4*t,l=0,u=s,c=e.length,f=i.length,h=[{pts:u,dts:u,data:i}];f<c-1;)if(d(e,f)&&f+5<c){p(o,this.observer,e,f,o.manifestCodec);var m=y(o,e,f,s,l);if(!m){N.b.log("Unable to parse AAC frame");break}f+=m.length,u=m.sample.pts,l++}else U.a.isHeader(e,f)?(i=U.a.getID3Data(e,f),h.push({pts:u,dts:u,data:i}),f+=i.length):f++;this.remuxer.remux(o,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,r,n)},e.prototype.destroy=function(){},e}(),G=B,H=Math.pow(2,32)-1,W=function(){function e(t,r){v(this,e),this.observer=t,this.remuxer=r}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,n,o){if(t&&t.byteLength){var i=this.initData=e.parseInitSegment(t),a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:o?t:null}:(i.audio&&(a.audio={container:"audio/mp4",codec:r,initSegment:o?t:null}),i.video&&(a.video={container:"video/mp4",codec:n,initSegment:o?t:null})),this.observer.trigger(j.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){if(t.length>=8){return["moof","ftyp","styp"].indexOf(e.bin2str(t.subarray(4,8)))>=0}return!1},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,o,i,a,s,l,u,c=[];if(t.data?(l=t.start,a=t.end,t=t.data):(l=0,a=t.byteLength),!r.length)return null;for(n=l;n<a;)o=e.readUint32(t,n),i=e.bin2str(t.subarray(n+4,n+8)),u=o>1?n+o:a,i===r[0]&&(1===r.length?c.push({data:t,start:n+8,end:u}):(s=e.findBox({data:t,start:n+8,end:u},r.slice(1)),s.length&&(c=c.concat(s)))),n=u;return c},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var o=n.data[n.start],i=0===o?12:20,a=e.readUint32(n,i),s=e.findBox(t,["mdia","mdhd"])[0];if(s){o=s.data[s.start],i=0===o?12:20;var l=e.readUint32(s,i),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var c=e.bin2str(u.data.subarray(u.start+8,u.start+12)),d={soun:"audio",vide:"video"}[c];d&&(r[a]={timescale:l,type:d},r[d]={timescale:l,id:a})}}}}),r},e.getStartDTS=function(t,r){var n,o,i;return n=e.findBox(r,["moof","traf"]),o=[].concat.apply([],n.map(function(r){return e.findBox(r,["tfhd"]).map(function(n){var o,i;return o=e.readUint32(n,4),i=t[o].timescale||9e4,e.findBox(r,["tfdt"]).map(function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n})[0]/i})})),i=Math.min.apply(null,o),isFinite(i)?i:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(o){var i=e.readUint32(o,4),a=t[i].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],o=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,o-n*a);else{o*=Math.pow(2,32),o+=e.readUint32(t,8),o-=n*a,o=Math.max(o,0);var i=Math.floor(o/(H+1)),s=Math.floor(o%(H+1));e.writeUint32(t,4,i),e.writeUint32(t,8,s)}})})})},e.prototype.append=function(t,r,n,o){var i=this.initData;i||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),i=this.initData);var a=void 0,s=this.initPTS;if(void 0===s){var l=e.getStartDTS(i,t);this.initPTS=s=l-r,this.observer.trigger(j.a.INIT_PTS_FOUND,{initPTS:s})}e.offsetStartDTS(i,t,s),a=e.getStartDTS(i,t),this.remuxer.remux(i.audio,i.video,null,null,a,n,o,t)},e.prototype.destroy=function(){},e}(),V=W,K={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(e,t,r,n,o){if(!(r+24>t.length)){var i=this.parseHeader(t,r);if(i&&r+i.frameLength<=t.length){var a=10368e4/i.sampleRate,s=n+o*a,l={unit:t.subarray(r,r+i.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(l),e.len+=i.frameLength,{sample:l,length:i.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,o=e[t+2]>>4&15,i=e[t+2]>>2&3,a=!!(2&e[t+2]);if(1!==r&&0!==o&&15!==o&&3!==i){var s=3===r?3-n:3===n?3:4,l=1e3*K.BitratesMap[14*s+o-1],u=3===r?0:2===r?1:2,c=K.SamplingRateMap[3*u+i],d=a?1:0;return{sampleRate:c,channelCount:e[t+3]>>6==3?1:2,frameLength:3===n?(3===r?12:6)*l/c+d<<2:(3===r?144:72)*l/c+d|0}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var o=t+n;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}},z=K,q=function(){function e(t){b(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");n.set(e.subarray(r,r+o)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&N.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r,n=8,o=8;for(t=0;t<e;t++)0!==o&&(r=this.readEG(),o=(n+r+256)%256),n=0===o?n:o},e.prototype.readSPS=function(){var e,t,r,n,o,i,a,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),y=this.skipEG.bind(this),g=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(d(),e=d(),f(5),m(3),d(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=p();if(3===b&&m(1),g(),g(),m(1),h())for(i=3!==b?8:12,a=0;a<i;a++)h()&&v(a<6?16:64)}g();var _=p();if(0===_)p();else if(1===_)for(m(1),y(),y(),t=p(),a=0;a<t;a++)y();g(),m(1),r=p(),n=p(),o=f(1),0===o&&m(1),m(1),h()&&(s=p(),l=p(),u=p(),c=p());var E=[1,1];if(h()&&h()){switch(d()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[d()<<8|d(),d()<<8|d()]}}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-o)*(n+1)*16-(o?2:4)*(u+c),pixelRatio:E}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),Y=q,X=function(){function e(t,r,n,o){_(this,e),this.decryptdata=n,this.discardEPB=o,this.decrypter=new F(t,r)}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,n){var o=e[t].unit,i=o.subarray(16,o.length-o.length%16),a=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(a,function(i){i=new Uint8Array(i),o.set(i,16),n||s.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,o=32;o<=e.length-16;o+=160,n+=16)r.set(e.subarray(o,o+16),n);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},e.prototype.decryptAvcSample=function(e,t,r,n,o,i){var a=this.discardEPB(o.data),s=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(s.buffer,function(s){o.data=l.getAvcDecryptedUnit(a,s),i||l.decryptAvcSamples(e,t,r+1,n)})},e.prototype.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var o=e[t].units;!(r>=o.length);r++){var i=o[r];if(!(i.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,i,a),!a)return}}}},e}(),Q=X,$=function(){function e(t,r,n,o){E(this,e),this.observer=t,this.config=n,this.typeSupported=o,this.remuxer=r,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new Q(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]},e.prototype.resetInitSegment=function(e,t,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,inputTimeScale:9e4,duration:n,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=r,this._duration=n},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(e,t,r,n){var o,i,a,s,l,u=e.length,c=!1;this.contiguous=r;var d=this.pmtParsed,f=this._avcTrack,p=this._audioTrack,h=this._id3Track,m=f.id,y=p.id,g=h.id,v=this._pmtId,b=f.pesData,_=p.pesData,E=h.pesData,T=this._parsePAT,w=this._parsePMT,S=this._parsePES,C=this._parseAVCPES.bind(this),R=this._parseAACPES.bind(this),k=this._parseMPEGPES.bind(this),x=this._parseID3PES.bind(this);for(u-=u%188,o=0;o<u;o+=188)if(71===e[o]){if(i=!!(64&e[o+1]),a=((31&e[o+1])<<8)+e[o+2],(48&e[o+3])>>4>1){if((s=o+5+e[o+4])===o+188)continue}else s=o+4;switch(a){case m:i&&(b&&(l=S(b))&&C(l,!1),b={data:[],size:0}),b&&(b.data.push(e.subarray(s,o+188)),b.size+=o+188-s);break;case y:i&&(_&&(l=S(_))&&(p.isAAC?R(l):k(l)),_={data:[],size:0}),_&&(_.data.push(e.subarray(s,o+188)),_.size+=o+188-s);break;case g:i&&(E&&(l=S(E))&&x(l),E={data:[],size:0}),E&&(E.data.push(e.subarray(s,o+188)),E.size+=o+188-s);break;case 0:i&&(s+=e[s]+1),v=this._pmtId=T(e,s);break;case v:i&&(s+=e[s]+1);var O=w(e,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);m=O.avc,m>0&&(f.id=m),y=O.audio,y>0&&(p.id=y,p.isAAC=O.isAAC),g=O.id3,g>0&&(h.id=g),c&&!d&&(N.b.log("reparse from beginning"),c=!1,o=-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(j.a.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=S(b))?(C(l,!0),f.pesData=null):f.pesData=b,_&&(l=S(_))?(p.isAAC?R(l):k(l),p.pesData=null):(_&&_.size&&N.b.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=_),E&&(l=S(E))?(x(l),h.pesData=null):h.pesData=E,null==this.sampleAes?this.remuxer.remux(p,f,h,this._txtTrack,t,r,n):this.decryptAndRemux(p,f,h,this._txtTrack,t,r,n)},e.prototype.decryptAndRemux=function(e,t,r,n,o,i,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,n,o,i,a)})}else this.decryptAndRemuxAvc(e,t,r,n,o,i,a)},e.prototype.decryptAndRemuxAvc=function(e,t,r,n,o,i,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,n,o,i,a)})}else this.remuxer.remux(e,t,r,n,o,i,a)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,n){var o,i,a,s,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=(15&e[t+1])<<8|e[t+2],i=t+3+o-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;t<i;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){N.b.log("unkown stream type:"+e[t]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!n){N.b.log("unkown stream type:"+e[t]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:r?-1===l.audio&&(l.audio=s,l.isAAC=!1):N.b.log("MPEG audio found, not supported in this browser for now");break;case 36:N.b.warn("HEVC stream type found, not supported for now");break;default:N.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return l},e.prototype._parsePES=function(e){var t,r,n,o,i,a,s,l,u=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;r=t[7],192&r&&(a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,a>4294967295&&(a-=8589934592),64&r?(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,s>4294967295&&(s-=8589934592),a-s>54e5&&(N.b.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),o=t[8],l=o+9,e.size-=l,i=new Uint8Array(e.size);for(var f=0,p=c.length;f<p;f++){t=c[f];var h=t.byteLength;if(l){if(l>h){l-=h;continue}t=t.subarray(l),h-=l,l=0}i.set(t,u),u+=h}return n&&(n-=o+3),{data:i,pts:a,dts:s,len:n}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&N.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,n,o,i=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),l=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),d=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,l&&s.length&&!a.audFound&&(c(l,a),l=this.avcSample=d(!1,e.pts,e.dts,"")),s.forEach(function(t){switch(t.type){case 1:n=!0,l||(l=i.avcSample=d(!0,e.pts,e.dts,"")),l.frame=!0;var s=t.data;if(u&&s.length>4){var f=new Y(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:n=!0,l||(l=i.avcSample=d(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,r=new Y(i.discardEPB(t.data)),r.readUByte();for(var p=0,h=0,m=!1,y=0;!m&&r.bytesAvailable>1;){p=0;do{y=r.readUByte(),p+=y}while(255===y);h=0;do{y=r.readUByte(),h+=y}while(255===y);if(4===p&&0!==r.bytesAvailable){m=!0;if(181===r.readUByte()){if(49===r.readUShort()){if(1195456820===r.readUInt()){if(3===r.readUByte()){var g=r.readUByte(),v=r.readUByte(),b=31&g,_=[g,v];for(o=0;o<b;o++)_.push(r.readUByte()),_.push(r.readUByte()),_.push(r.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}}}}else if(h<r.bytesAvailable)for(o=0;o<h;o++)r.readUByte()}break;case 7:if(n=!0,u=!0,!a.sps){r=new Y(t.data);var E=r.readSPS();a.width=E.width,a.height=E.height,a.pixelRatio=E.pixelRatio,a.sps=[t.data],a.duration=i._duration;var T=t.data.subarray(1,4),w="avc1.";for(o=0;o<3;o++){var S=T[o].toString(16);S.length<2&&(S="0"+S),w+=S}a.codec=w}break;case 8:n=!0,a.pps||(a.pps=[t.data]);break;case 9:n=!1,a.audFound=!0,l&&c(l,a),l=i.avcSample=d(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}if(l&&n){l.units.push(t)}}),t&&l&&(c(l,a),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var r=this._avcTrack,n=r.samples;e=n[n.length-1]}if(e){var o=e.units;t=o[o.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t,r,n,o,i,a=0,s=e.byteLength,l=this._avcTrack,u=l.naluState||0,c=u,d=[],f=-1;for(-1===u&&(f=0,i=31&e[0],u=0,a=1);a<s;)if(t=e[a++],u)if(1!==u)if(t)if(1===t){if(f>=0)n={data:e.subarray(f,a-u-1),type:i},d.push(n);else{var p=this._getLastNalUnit();if(p&&(c&&a<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(r=a-u-1)>0)){var h=new Uint8Array(p.data.byteLength+r);h.set(p.data,0),h.set(e.subarray(0,r),p.data.byteLength),p.data=h}}a<s?(o=31&e[a],f=a,i=o,u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(f>=0&&u>=0&&(n={data:e.subarray(f,s),type:i,state:u},d.push(n)),0===d.length){var m=this._getLastNalUnit();if(m){var y=new Uint8Array(m.data.byteLength+e.byteLength);y.set(m.data,0),y.set(e,m.data.byteLength),m.data=y}}return l.naluState=u,d},e.prototype.discardEPB=function(e){for(var t,r,n=e.byteLength,o=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=n-o.length,r=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),r[i]=e[a];return r},e.prototype._parseAACPES=function(e){var t,r,n,o,i,a=this._audioTrack,s=e.data,l=e.pts,u=this.aacOverFlow,c=this.aacLastPTS;if(u){var f=new Uint8Array(u.byteLength+s.byteLength);f.set(u,0),f.set(s,u.byteLength),s=f}for(n=0,i=s.length;n<i-1&&!d(s,n);n++);if(n){var m,g;if(n<i-1?(m="AAC PES did not start with ADTS header,offset:"+n,g=!1):(m="no ADTS header found in AAC PES",g=!0),N.b.warn("parsing error:"+m),this.observer.trigger(j.a.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_PARSING_ERROR,fatal:g,reason:m}),g)return}if(p(a,this.observer,s,n,this.audioCodec),r=0,t=h(a.samplerate),u&&c){var v=c+t;Math.abs(v-l)>1&&(N.b.log("AAC: align PTS for overlapping frames by "+Math.round((v-l)/90)),l=v)}for(;n<i;)if(d(s,n)&&n+5<i){var b=y(a,s,n,l,r);if(!b)break;n+=b.length,o=b.sample.pts,r++}else n++;u=n<i?s.subarray(n,i):null,this.aacOverFlow=u,this.aacLastPTS=o},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,o=0,i=e.pts;o<r;)if(z.isHeader(t,o)){var a=z.appendFrame(this._audioTrack,t,o,i,n);if(!a)break;o+=a.length,n++}else o++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),J=$,Z=function(){function e(t,r,n){T(this,e),this.observer=t,this.config=n,this.remuxer=r}return e.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,n=U.a.getID3Data(e,0);if(n&&void 0!==U.a.getTimeStamp(n))for(t=n.length,r=Math.min(e.length-1,t+100);t<r;t++)if(z.probe(e,t))return N.b.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,n){for(var o=U.a.getID3Data(e,0),i=90*U.a.getTimeStamp(o),a=o.length,s=e.length,l=0,u=0,c=this._audioTrack,d=[{pts:i,dts:i,data:o}];a<s;)if(z.isHeader(e,a)){var f=z.appendFrame(c,e,a,i,l);if(!f)break;a+=f.length,u=f.sample.pts,l++}else U.a.isHeader(e,a)?(o=U.a.getID3Data(e,a),d.push({pts:u,dts:u,data:o}),a+=o.length):a++;this.remuxer.remux(c,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},t,r,n)},e.prototype.destroy=function(){},e}(),ee=Z,te=function(){function e(){w(this,e)}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),re=te,ne=Math.pow(2,32)-1,oe=function(){function e(){S(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,o))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,o=r.length,i=o;o--;)n+=r[o].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),o=0,n=8;o<i;o++)t.set(r[o],n),n+=r[o].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(ne+1)),o=Math.floor(r%(ne+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(ne+1)),o=Math.floor(r%(ne+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,i)},e.sdtp=function(t){var r,n,o=t.samples||[],i=new Uint8Array(4+o.length);for(n=0;n<o.length;n++)r=o[n].flags,i[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,o,i=[],a=[];for(r=0;r<t.sps.length;r++)n=t.sps[r],o=n.byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)n=t.pps[r],o=n.byteLength,a.push(o>>>8&255),a.push(255&o),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(a))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,o=t.width,i=t.height,a=Math.floor(n/(ne+1)),s=Math.floor(n%(ne+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,i>>8&255,255&i,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),o=t.id,i=Math.floor(r/(ne+1)),a=Math.floor(r%(ne+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,o,i,a,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)o=u[n],i=o.duration,a=o.size,s=o.flags,l=o.cts,f.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return r=new Uint8Array(e.FTYP.byteLength+n.byteLength),r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}(),ie=oe,ae=function(){function e(t,r,n,o){C(this,e),this.observer=t,this.config=r,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=o&&o.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,n,o,i,a){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var s=e.samples.length,l=t.samples.length,u=o,c=o;if(s&&l){var d=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;u+=Math.max(0,d),c+=Math.max(0,-d)}if(s){e.timescale||(N.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var f=this.remuxAudio(e,u,i,a);if(l){var p=void 0;f&&(p=f.endPTS-f.startPTS),t.timescale||(N.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,c,i,p,a)}}else{var h=void 0;l&&(h=this.remuxVideo(t,c,i,a)),h&&e.codec&&this.remuxEmptyAudio(e,u,i,h)}}r.samples.length&&this.remuxID3(r,o),n.samples.length&&this.remuxText(n,o),this.observer.trigger(j.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var n,o,i=this.observer,a=e.samples,s=t.samples,l=this.typeSupported,u="audio/mp4",c={},d={tracks:c},f=void 0===this._initPTS;if(f&&(n=o=1/0),e.config&&a.length&&(e.timescale=e.samplerate,N.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(l.mpeg?(u="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3")),c.audio={container:u,codec:e.codec,initSegment:!e.isAAC&&l.mpeg?new Uint8Array:ie.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(n=o=a[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&s.length){var p=t.inputTimeScale;t.timescale=p,c.video={container:"video/mp4",codec:t.codec,initSegment:ie.initSegment([t]),metadata:{width:t.width,height:t.height}},f&&(n=Math.min(n,s[0].pts-p*r),o=Math.min(o,s[0].dts-p*r),this.observer.trigger(j.a.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(c).length?(i.trigger(j.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,f&&(this._initPTS=n,this._initDTS=o)):i.trigger(j.a.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,n,o){var i,a,s,l,u,c,d,f=8,p=e.timescale,h=e.samples,m=[],y=h.length,g=this._PTSNormalize,v=this._initDTS,b=this.nextAvcDts,_=this.isSafari;_&&(r|=h.length&&b&&(o&&Math.abs(t-b/p)<.1||Math.abs(h[0].pts-b-v)<p/5)),r||(b=t*p),h.forEach(function(e){e.pts=g(e.pts-v,b),e.dts=g(e.dts-v,b)}),h.sort(function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||(n||e.id-t.id)});var E=h.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(E<0){N.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(E/90)+" ms to overcome this issue");for(var T=0;T<h.length;T++)h[T].dts+=E}var w=h[0];u=Math.max(w.dts,0),l=Math.max(w.pts,0);var S=Math.round((u-b)/90);r&&S&&(S>1?N.b.log("AVC:"+S+" ms hole between fragments detected,filling it"):S<-1&&N.b.log("AVC:"+-S+" ms overlapping between fragments detected"),u=b,h[0].dts=u,l=Math.max(l-S,b),h[0].pts=l,N.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(u/90)+",delta:"+S+" ms")),w=h[h.length-1],d=Math.max(w.dts,0),c=Math.max(w.pts,0,d),_&&(i=Math.round((d-u)/(h.length-1)));for(var C=0,R=0,k=0;k<y;k++){for(var x=h[k],O=x.units,P=O.length,L=0,D=0;D<P;D++)L+=O[D].data.length;R+=L,C+=P,x.length=L,x.dts=_?u+k*i:Math.max(x.dts,u),x.pts=Math.max(x.pts,x.dts)}var I=R+4*C+8;try{a=new Uint8Array(I)}catch(e){return void this.observer.trigger(j.a.ERROR,{type:A.b.MUX_ERROR,details:A.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:I,reason:"fail allocating video mdat "+I})}var M=new DataView(a.buffer);M.setUint32(0,I),a.set(ie.types.mdat,4);for(var F=0;F<y;F++){for(var U=h[F],B=U.units,G=0,H=void 0,W=0,V=B.length;W<V;W++){var K=B[W],z=K.data,q=K.data.byteLength;M.setUint32(f,q),f+=4,a.set(z,f),f+=q,G+=4+q}if(_)H=Math.max(0,i*Math.round((U.pts-U.dts)/i));else{if(F<y-1)i=h[F+1].dts-U.dts;else{var Y=this.config,X=U.dts-h[F>0?F-1:F].dts;if(Y.stretchShortVideoTrack){var Q=Y.maxBufferHole,$=Y.maxSeekHole,J=Math.floor(Math.min(Q,$)*p),Z=(n?l+n*p:this.nextAudioPts)-U.pts;Z>J?(i=Z-X,i<0&&(i=X),N.b.log("It is approximately "+Z/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=X}else i=X}H=Math.round(U.pts-U.dts)}m.push({size:G,duration:i,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=d+i;var ee=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,m.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var te=m[0].flags;te.dependsOn=2,te.isNonSync=0}e.samples=m,s=ie.moof(e.sequenceNumber++,u,e),e.samples=[];var re={data1:s,data2:a,startPTS:l/p,endPTS:(c+i)/p,startDTS:u/p,endDTS:this.nextAvcDts/p,type:"video",nb:m.length,dropped:ee};return this.observer.trigger(j.a.FRAG_PARSING_DATA,re),re},e.prototype.remuxAudio=function(e,t,r,n){var o,i,a,s,l,u,c,d=e.inputTimeScale,f=e.timescale,p=d/f,h=e.isAAC?1024:1152,m=h*p,y=this._PTSNormalize,g=this._initDTS,v=!e.isAAC&&this.typeSupported.mpeg,b=e.samples,_=[],E=this.nextAudioPts;if(r|=b.length&&E&&(n&&Math.abs(t-E/d)<.1||Math.abs(b[0].pts-E-g)<20*m),r||(E=t*d),b.forEach(function(e){e.pts=e.dts=y(e.pts-g,E)}),b.sort(function(e,t){return e.pts-t.pts}),n&&e.isAAC)for(var T=this.config.maxAudioFramesDrift,w=0,S=E;w<b.length;){var C,R=b[w],k=R.pts;C=k-S;var x=Math.abs(1e3*C/d);if(C<=-T*m)N.b.warn("Dropping 1 audio frame @ "+(S/d).toFixed(3)+"s due to "+Math.round(x)+" ms overlap."),b.splice(w,1),e.len-=R.unit.length;else if(C>=T*m&&x<1e4&&S){var O=Math.round(C/m);N.b.warn("Injecting "+O+" audio frame @ "+(S/d).toFixed(3)+"s due to "+Math.round(1e3*C/d)+" ms gap.");for(var P=0;P<O;P++){var L=Math.max(S,0);a=re.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(N.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=R.unit.subarray()),b.splice(w,0,{unit:a,pts:L,dts:L}),e.len+=a.length,S+=m,w++}R.pts=R.dts=S,S+=m,w++}else Math.abs(C),R.pts=R.dts=S,S+=m,w++}for(var D=0,I=b.length;D<I;D++){var M=b[D],F=M.unit,U=M.pts;if(void 0!==c)i.duration=Math.round((U-c)/p);else{var B=Math.round(1e3*(U-E)/d),G=0;if(r&&e.isAAC&&B){if(B>0&&B<1e4)G=Math.round((U-E)/m),N.b.log(B+" ms hole between AAC samples detected,filling it"),G>0&&(a=re.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(a=F.subarray()),e.len+=G*a.length);else if(B<-12){N.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(E/d).toFixed(3)+"s/"+(U/d).toFixed(3)+"s/"+-B+"ms"),e.len-=F.byteLength;continue}U=E}if(u=Math.max(0,U),!(e.len>0))return;var H=v?e.len:e.len+8;o=v?0:8;try{s=new Uint8Array(H)}catch(e){return void this.observer.trigger(j.a.ERROR,{type:A.b.MUX_ERROR,details:A.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}if(!v){new DataView(s.buffer).setUint32(0,H),s.set(ie.types.mdat,4)}for(var W=0;W<G;W++)a=re.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),a||(N.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=F.subarray()),s.set(a,o),o+=a.byteLength,i={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(i)}s.set(F,o);var V=F.byteLength;o+=V,i={size:V,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(i),c=U}var K=0,z=_.length;if(z>=2&&(K=_[z-2].duration,i.duration=K),z){this.nextAudioPts=E=c+p*K,e.len=0,e.samples=_,l=v?new Uint8Array:ie.moof(e.sequenceNumber++,u/p,e),e.samples=[];var q=u/d,Y=E/d,X={data1:l,data2:s,startPTS:q,endPTS:Y,startDTS:q,endDTS:Y,type:"audio",nb:z};return this.observer.trigger(j.a.FRAG_PARSING_DATA,X),X}return null},e.prototype.remuxEmptyAudio=function(e,t,r,n){var o=e.inputTimeScale,i=e.samplerate?e.samplerate:o,a=o/i,s=this.nextAudioPts,l=(void 0!==s?s:n.startDTS*o)+this._initDTS,u=n.endDTS*o+this._initDTS,c=1024*a,d=Math.ceil((u-l)/c),f=re.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(N.b.warn("remux empty Audio"),!f)return void N.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var p=[],h=0;h<d;h++){var m=l+h*c;p.push({unit:f,pts:m,dts:m}),e.len+=f.length}e.samples=p,this.remuxAudio(e,t,r)},e.prototype.remuxID3=function(e,t){var r,n=e.samples.length,o=e.inputTimeScale,i=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)r=e.samples[s],r.pts=(r.pts-i)/o,r.dts=(r.dts-a)/o;this.observer.trigger(j.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t},e.prototype.remuxText=function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var r,n=e.samples.length,o=e.inputTimeScale,i=this._initPTS;if(n){for(var a=0;a<n;a++)r=e.samples[a],r.pts=(r.pts-i)/o;this.observer.trigger(j.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}(),se=ae,le=function(){function e(t){R(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,n,o,i,a,s){var l=this.observer,u="";e&&(u+="audio"),t&&(u+="video"),l.trigger(j.a.FRAG_PARSING_DATA,{data1:s,startPTS:o,startDTS:o,type:u,nb:1,dropped:0}),l.trigger(j.a.FRAG_PARSED)},e}(),ue=le,ce=function(){function e(t,r,n,o){k(this,e),this.observer=t,this.typeSupported=r,this.config=n,this.vendor=o}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,n,o,i,a,s,l,u,c,d){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var f=this.decrypter;null==f&&(f=this.decrypter=new F(this.observer,this.config));var p,h=this;try{p=performance.now()}catch(e){p=Date.now()}f.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var f;try{f=performance.now()}catch(e){f=Date.now()}h.observer.trigger(j.a.FRAG_DECRYPTED,{stats:{tstart:p,tdecrypt:f}}),h.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,o,i,a,s,l,u,c,d)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,o,i,a,s,l,u,c,d)},e.prototype.pushDecrypted=function(e,t,r,n,o,i,a,s,l,u,c,d){var f=this.demuxer;if(!f||a&&!this.probe(e)){for(var p=this.observer,h=this.typeSupported,m=this.config,y=[{demux:J,remux:se},{demux:G,remux:se},{demux:ee,remux:se},{demux:V,remux:ue}],g=0,v=y.length;g<v;g++){var b=y[g],_=b.demux.probe;if(_(e)){var E=this.remuxer=new b.remux(p,m,h,this.vendor);f=new b.demux(p,E,m,h),this.probe=_;break}}if(!f)return void p.trigger(j.a.ERROR,{type:A.b.MEDIA_ERROR,details:A.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=f}var T=this.remuxer;(a||s)&&(f.resetInitSegment(r,n,o,u),T.resetInitSegment()),a&&(f.resetTimeStamp(d),T.resetTimeStamp(d)),"function"==typeof f.setDecryptData&&f.setDecryptData(t),f.append(e,i,l,c)},e}();t.a=ce},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var r=Me[t];return!!r&&!0===r[e.slice(0,4)]}function a(e){return MediaSource.isTypeSupported('video/mp4;codecs="'+e+'"')}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,r){var n=e[t],o=e[r],i=o.startPTS;isNaN(i)?o.start=r>t?n.start+n.duration:Math.max(n.start-o.duration,0):r>t?(n.duration=i-n.start,n.duration<0&&Ae.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(o.duration=n.start-i,o.duration<0&&Ae.b.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}function v(e,t,r,n,o,i){var a=r;if(!isNaN(t.startPTS)){var s=Math.abs(t.startPTS-r);isNaN(t.deltaPTS)?t.deltaPTS=s:t.deltaPTS=Math.max(s,t.deltaPTS),a=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),n=Math.max(n,t.endPTS),o=Math.min(o,t.startDTS),i=Math.max(i,t.endDTS)}var l=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=a,t.endPTS=n,t.startDTS=o,t.endDTS=i,t.duration=n-r;var u=t.sn;if(!e||u<e.startSN||u>e.endSN)return 0;var c,d,f;for(c=u-e.startSN,d=e.fragments,d[c]=t,f=c;f>0;f--)g(d,f,f-1);for(f=c;f<d.length-1;f++)g(d,f,f+1);return e.PTSKnown=!0,l}function b(e,t){var r,n=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,a=e.fragments,s=t.fragments,l=0;if(o<n)return void(t.PTSKnown=!1);for(var u=n;u<=o;u++){var c=a[i+u],d=s[u];d&&c&&(l=c.cc-d.cc,isNaN(c.startPTS)||(d.start=d.startPTS=c.startPTS,d.endPTS=c.endPTS,d.duration=c.duration,d.backtracked=c.backtracked,d.dropped=c.dropped,r=d))}if(l)for(Ae.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(r)v(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(i>=0&&i<a.length){var f=a[i].start;for(u=0;u<s.length;u++)s[u].start+=f}t.PTSKnown=e.PTSKnown}function _(e,t){for(var r=null,n=0;n<e.length;n+=1){var o=e[n];if(o&&o.cc===t){r=o;break}}return r}function E(e,t){return Je.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}function T(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}function w(e,t){var r=e.fragments,n=t.fragments;if(!n.length||!r.length)return void Ae.b.log("No fragments to align");var o=_(r,n[0].cc);return!o||o&&!o.startPTS?void Ae.b.log("No frag in previous level to align on"):o}function S(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function C(e,t,r){if(T(e,t,r)){var n=w(t.details,r);n&&(Ae.b.log("Adjusting PTS using last level due to CC increase within current level"),S(n.start,r))}if(!1===r.PTSKnown&&t&&t.details){var o=t.details.programDateTime,i=r.programDateTime,a=(i-o)/1e3+t.details.fragments[0].start;isNaN(a)||(Ae.b.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),S(a,r))}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function re(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Vt,this.regionList=[]}function ne(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function oe(){this.values=Object.create(null)}function ie(e,t,r,n){var o=n?e.split(n):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(r);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function ae(e,t,r){function n(){var t=ne(e);if(null===t)throw new Error("Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}var i=e;if(o(),t.startTime=n(),o(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),o(),t.endTime=n(),o(),function(e,t){var n=new oe;ie(e,function(e,t){switch(e){case"region":for(var o=r.length-1;o>=0;o--)if(r[o].id===t){n.set(e,r[o].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),a=i[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",zt,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",zt,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",zt,"end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var o=n.get("line","auto");"auto"===o&&-1===Kt.line&&(o=-1),t.line=o,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",zt);var i=n.get("position","auto");"auto"===i&&50===Kt.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}(e,t)}function se(e){return e.replace(/<br(?: \/)?>/gi,"\n")}function le(e,t,r,n){for(var o,i,a,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<n.rows.length;c++)if(o=n.rows[c],a=!0,s=0,l="",!o.isEmpty()){for(var d=0;d<o.chars.length;d++)o.chars[d].uchar.match(/\s/)&&a?s++:(l+=o.chars[d].uchar,a=!1);o.cueStartTime=t,t===r&&(r+=1e-4),i=new u(t,r,se(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?i.line=c+1:i.line=c>7?c-2:c+1,i.align="left",i.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(i)}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pe(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function he(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function me(e,t,r,n){return Math.min(t,n)-Math.max(e,r)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function be(e){for(var t=[],r=0;r<e.length;r++)"subtitles"===e[r].kind&&t.push(e[r]);return t}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var Se={};r.d(Se,"newCue",function(){return le});var Ce=r(5),Re=r.n(Ce),ke=r(1),je=r(2),Ae=r(0),xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe=function(){function e(t){n(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];this.handledEvents=o,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.unregisterListeners()},e.prototype.isEventHandler=function(){return"object"===xe(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){var r=function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)};try{r.call(this,e,t).call()}catch(t){Ae.b.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(ke.a.ERROR,{type:je.b.OTHER_ERROR,details:je.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}(),Pe=Oe,Le=/^(\d+)x(\d+)$/,De=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Ie=function(){function e(t){o(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=Le.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(De.lastIndex=0;null!==(t=De.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}(),Ne=Ie,Me={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Fe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ue=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Be=/#EXT-X-MEDIA:(.*)/g,Ge=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),He=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,We=function(){function e(){u(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return Fe(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Re.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),Ve=function(){function e(){u(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&(r=new We,r.method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},e.prototype.cloneObj=function(e){return JSON.parse(JSON.stringify(e))},Fe(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Re.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),Ke=function(e){function t(r){u(this,t);var n=s(this,e.call(this,r,ke.a.MANIFEST_LOADING,ke.a.LEVEL_LOADING,ke.a.AUDIO_TRACK_LOADING,ke.a.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return l(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},Pe.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:"manifest"})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:"audioTrack",id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})},t.prototype.load=function(e,t){var r=this.loaders[t.type];if(r){var n=r.context;if(n&&n.url===e)return void Ae.b.trace("playlist request ongoing");Ae.b.warn("abort previous loader for type:"+t.type),r.abort()}var o=this.hls.config,i=void 0,a=void 0,s=void 0,l=void 0;"manifest"===t.type?(i=o.manifestLoadingMaxRetry,a=o.manifestLoadingTimeOut,s=o.manifestLoadingRetryDelay,l=o.manifestLoadingMaxRetryTimeout):(i=o.levelLoadingMaxRetry,a=o.levelLoadingTimeOut,s=o.levelLoadingRetryDelay,l=o.levelLoadingMaxRetryTimeout,Ae.b.log("loading playlist for "+t.type+" "+(t.level||t.id))),r=this.loaders[t.type]=t.loader=void 0!==o.pLoader?new o.pLoader(o):new o.loader(o),t.url=e,t.responseType="";var u=void 0,c=void 0;u={timeout:a,maxRetry:i,retryDelay:s,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},r.load(t,u,c)},t.prototype.resolve=function(e,t){return Re.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.prototype.parseMasterPlaylist=function(e,t){var r=[],n=void 0;for(Ue.lastIndex=0;null!=(n=Ue.exec(e));){var o={},a=o.attrs=new Ne(n[1]);o.url=this.resolve(n[2],t);var s=a.decimalResolution("RESOLUTION");s&&(o.width=s.width,o.height=s.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME,function(e,t){["video","audio"].forEach(function(r){var n=e.filter(function(e){return i(e,r)});if(n.length){var o=n.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=o.length>0?o[0]:n[0],e=e.filter(function(e){return-1===n.indexOf(e)})}}),t.unknownCodecs=e}([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=this.avc1toavcoti(o.videoCodec)),r.push(o)}return r},t.prototype.parseMasterPlaylistMedia=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=void 0,i=[],a=0;for(Be.lastIndex=0;null!=(o=Be.exec(e));){var s={},l=new Ne(o[1]);l.TYPE===r&&(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=r,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,t)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),n&&(s.audioCodec=n),s.id=a++,i.push(s))}return i},t.prototype.avc1toavcoti=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.prototype.parseLevelPlaylist=function(e,t,r,n){var o,i,a=0,s=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},u=new We,c=0,d=null,f=new Ve;for(Ge.lastIndex=0;null!==(o=Ge.exec(e));){var p=o[1];if(p){f.duration=parseFloat(p);var h=(" "+o[2]).slice(1);f.title=h||null,f.tagList.push(h?["INF",p,h]:["INF",p])}else if(o[3]){if(!isNaN(f.duration)){var m=a++;f.type=n,f.start=s,f.levelkey=u,f.sn=m,f.level=r,f.cc=c,f.baseurl=t,f.relurl=(" "+o[3]).slice(1),l.fragments.push(f),d=f,s+=f.duration,f=new Ve}}else if(o[4]){if(f.rawByteRange=(" "+o[4]).slice(1),d){var y=d.byteRangeEndOffset;y&&(f.lastByteRangeEndOffset=y)}}else if(o[5])f.rawProgramDateTime=(" "+o[5]).slice(1),f.tagList.push(["PROGRAM-DATE-TIME",f.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(o[5]))-1e3*s));else{for(o=o[0].match(He),i=1;i<o.length&&void 0===o[i];i++);var g=(" "+o[i+1]).slice(1),v=(" "+o[i+2]).slice(1);switch(o[i]){case"#":f.tagList.push(v?[g,v]:[g]);break;case"PLAYLIST-TYPE":l.type=g.toUpperCase();break;case"MEDIA-SEQUENCE":a=l.startSN=parseInt(g);break;case"TARGETDURATION":l.targetduration=parseFloat(g);break;case"VERSION":l.version=parseInt(g);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,f.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(g);break;case"KEY":var b=g,_=new Ne(b),E=_.enumeratedString("METHOD"),T=_.URI,w=_.hexadecimalInteger("IV");E&&(u=new We,T&&["AES-128","SAMPLE-AES"].indexOf(E)>=0&&(u.method=E,u.baseuri=t,u.reluri=T,u.key=null,u.iv=w));break;case"START":var S=g,C=new Ne(S),R=C.decimalFloatingPoint("TIME-OFFSET");isNaN(R)||(l.startTimeOffset=R);break;case"MAP":var k=new Ne(g);f.relurl=k.URI,f.rawByteRange=k.BYTERANGE,f.baseurl=t,f.level=r,f.type=n,f.sn="initSegment",l.initSegment=f,f=new Ve;break;default:Ae.b.warn("line parsed but not handled: "+o)}}}return f=d,f&&!f.relurl&&(l.fragments.pop(),s-=f.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=a-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=c,l},t.prototype.loadsuccess=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.data,i=e.url,a=r.type,s=r.id,l=r.level,u=this.hls;if(this.loaders[a]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=r.url),t.tload=performance.now(),0===o.indexOf("#EXTM3U"))if(o.indexOf("#EXTINF:")>0){var c="audioTrack"!==a&&"subtitleTrack"!==a,d=isNaN(l)?isNaN(s)?0:s:l,f=this.parseLevelPlaylist(o,i,d,"audioTrack"===a?"audio":"subtitleTrack"===a?"subtitle":"main");f.tload=t.tload,"manifest"===a&&u.trigger(ke.a.MANIFEST_LOADED,{levels:[{url:i,details:f}],audioTracks:[],url:i,stats:t,networkDetails:n}),t.tparsed=performance.now(),f.targetduration?c?u.trigger(ke.a.LEVEL_LOADED,{details:f,level:l||0,id:s||0,stats:t,networkDetails:n}):"audioTrack"===a?u.trigger(ke.a.AUDIO_TRACK_LOADED,{details:f,id:s,stats:t,networkDetails:n}):"subtitleTrack"===a&&u.trigger(ke.a.SUBTITLE_TRACK_LOADED,{details:f,id:s,stats:t,networkDetails:n}):u.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration",networkDetails:n})}else{var p=this.parseMasterPlaylist(o,i);if(p.length){var h=this.parseMasterPlaylistMedia(o,i,"AUDIO",p[0].audioCodec),m=this.parseMasterPlaylistMedia(o,i,"SUBTITLES");if(h.length){var y=!1;h.forEach(function(e){e.url||(y=!0)}),!1===y&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(Ae.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}u.trigger(ke.a.MANIFEST_LOADED,{levels:p,audioTracks:h,subtitles:m,url:i,stats:t,networkDetails:n})}else u.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest",networkDetails:n})}else u.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter",networkDetails:n})},t.prototype.loaderror=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;switch(t.type){case"manifest":r=je.a.MANIFEST_LOAD_ERROR,n=!0;break;case"level":r=je.a.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":r=je.a.AUDIO_TRACK_LOAD_ERROR,n=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:r,fatal:n,url:i.url,loader:i,response:e,context:t,networkDetails:o})},t.prototype.loadtimeout=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;switch(t.type){case"manifest":r=je.a.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":r=je.a.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":r=je.a.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:r,fatal:n,url:i.url,loader:i,context:t,networkDetails:o})},t}(Pe),ze=Ke,qe=function(e){function t(r){c(this,t);var n=d(this,e.call(this,r,ke.a.FRAG_LOADING));return n.loaders={},n}return f(t,e),t.prototype.destroy=function(){var e=this.loaders;for(var t in e){var r=e[t];r&&r.destroy()}this.loaders={},Pe.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r],o=this.hls.config;t.loaded=0,n&&(Ae.b.warn("abort previous fragment loader for type:"+r),n.abort()),n=this.loaders[r]=t.loader=void 0!==o.fLoader?new o.fLoader(o):new o.loader(o);var i=void 0,a=void 0,s=void 0;i={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(i.rangeStart=l,i.rangeEnd=u),a={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(i,a,s)},t.prototype.loadsuccess=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.data,i=r.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(ke.a.FRAG_LOADED,{payload:o,frag:i,stats:t,networkDetails:n})},t.prototype.loaderror=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},t.prototype.loadtimeout=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},t.prototype.loadprogress=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.frag;o.loaded=e.loaded,this.hls.trigger(ke.a.FRAG_LOAD_PROGRESS,{frag:o,stats:e,networkDetails:n})},t}(Pe),Ye=qe,Xe=function(e){function t(r){p(this,t);var n=h(this,e.call(this,r,ke.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return m(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},Pe.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r],o=t.decryptdata,i=o.uri;if(i!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;n&&(Ae.b.warn("abort previous key loader for type:"+r),n.abort()),t.loader=this.loaders[r]=new a.loader(a),this.decrypturl=i,this.decryptkey=null;var s=void 0,l=void 0,u=void 0;s={url:i,frag:t,responseType:"arraybuffer"},l={timeout:a.fragLoadingTimeOut,maxRetry:a.fragLoadingMaxRetry,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,l,u)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(ke.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var n=r.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(ke.a.KEY_LOADED,{frag:n})},t.prototype.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(ke.a.ERROR,{type:je.b.NETWORK_ERROR,details:je.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(Pe),Qe=Xe,$e={search:function(e,t){for(var r=0,n=e.length-1,o=null,i=null;r<=n;){o=(r+n)/2|0,i=e[o];var a=t(i);if(a>0)r=o+1;else{if(!(a<0))return i;n=o-1}}return null}},Je=$e,Ze={isBuffered:function(e,t){if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0;return!1},bufferInfo:function(e,t,r){if(e){var n,o=e.buffered,i=[];for(n=0;n<o.length;n++)i.push({start:o.start(n),end:o.end(n)});return this.bufferedInfo(i,t,r)}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,r){var n,o,i,a,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<r?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,n=0,o=i=t;s<l.length;s++){var d=l[s].start,f=l[s].end;if(t+r>=d&&t<f)o=d,i=f,n=i-t;else if(t+r<d){a=d;break}}return{len:n,start:o,end:i,nextStart:a}}},et=Ze,tt=r(6),rt=r(4),nt=r.n(rt),ot=r(8),it=r.n(ot),at=function(){function e(t,r){y(this,e),this.hls=t,this.id=r;var n=this.observer=new nt.a,o=t.config;n.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n.emit.apply(n,[e,e].concat(r))},n.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n.removeListener.apply(n,[e].concat(r))};var i=function(e,r){r=r||{},r.frag=this.frag,r.id=this.id,t.trigger(e,r)}.bind(this);n.on(ke.a.FRAG_DECRYPTED,i),n.on(ke.a.FRAG_PARSING_INIT_SEGMENT,i),n.on(ke.a.FRAG_PARSING_DATA,i),n.on(ke.a.FRAG_PARSED,i),n.on(ke.a.ERROR,i),n.on(ke.a.FRAG_PARSING_METADATA,i),n.on(ke.a.FRAG_PARSING_USERDATA,i),n.on(ke.a.INIT_PTS_FOUND,i);var a={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(o.enableWorker&&"undefined"!=typeof Worker){Ae.b.log("demuxing in webworker");var l=void 0;try{l=this.w=it()(9),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(e){t.trigger(ke.a.ERROR,{type:je.b.OTHER_ERROR,details:je.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:a,vendor:s,id:r,config:JSON.stringify(o)})}catch(e){Ae.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new tt.a(n,a,o,s),this.w=void 0}}else this.demuxer=new tt.a(n,a,o,s)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,r,n,o,i,a,s){var l=this.w,u=isNaN(o.startDTS)?o.start:o.startDTS,c=o.decryptdata,d=this.frag,f=!(d&&o.cc===d.cc),p=!(d&&o.level===d.level),h=d&&o.sn===d.sn+1,m=!p&&h;if(f&&Ae.b.log(this.id+":discontinuity detected"),p&&Ae.b.log(this.id+":switch detected"),this.frag=o,l)l.postMessage({cmd:"demux",data:e,decryptdata:c,initSegment:t,audioCodec:r,videoCodec:n,timeOffset:u,discontinuity:f,trackSwitch:p,contiguous:m,duration:i,accurateTimeOffset:a,defaultInitPTS:s},[e]);else{var y=this.demuxer;y&&y.push(e,c,t,r,n,u,f,p,m,i,a,s)}},e.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case ke.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}(),st=at,lt={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}},ut=lt,ct=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),dt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},ft=function(e){function t(r){R(this,t);var n=k(this,e.call(this,r,ke.a.MEDIA_ATTACHED,ke.a.MEDIA_DETACHING,ke.a.MANIFEST_LOADING,ke.a.MANIFEST_PARSED,ke.a.LEVEL_LOADED,ke.a.KEY_LOADED,ke.a.FRAG_LOADED,ke.a.FRAG_LOAD_EMERGENCY_ABORTED,ke.a.FRAG_PARSING_INIT_SEGMENT,ke.a.FRAG_PARSING_DATA,ke.a.FRAG_PARSED,ke.a.ERROR,ke.a.AUDIO_TRACK_SWITCHING,ke.a.AUDIO_TRACK_SWITCHED,ke.a.BUFFER_CREATED,ke.a.BUFFER_APPENDED,ke.a.BUFFER_FLUSHED));return n.config=r.config,n.audioCodecSwap=!1,n.ticks=0,n._state=dt.STOPPED,n.ontick=n.tick.bind(n),n}return j(t,e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Pe.prototype.destroy.call(this),this.state=dt.STOPPED},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(Ae.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=dt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=dt.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=dt.STOPPED,this.forceStartLoad=!1},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){switch(this.state){case dt.ERROR:break;case dt.BUFFER_FLUSHING:this.fragLoadError=0;break;case dt.IDLE:this._doTickIdle();break;case dt.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=dt.IDLE);break;case dt.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(Ae.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=dt.IDLE);break;case dt.ERROR:case dt.STOPPED:case dt.FRAG_LOADING:case dt.PARSING:case dt.PARSED:case dt.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var n=void 0;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var o=e.nextLoadLevel,i=this.levels[o];if(i){var a=i.bitrate,s=void 0;s=a?Math.max(8*t.maxBufferSize/a,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var l=et.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),u=l.len;if(!(u>=s)){Ae.b.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=o;var c=i.details;if(void 0===c||c.live&&this.levelLastLoaded!==o)return void(this.state=dt.WAITING_LEVEL);var d=this.fragPrevious;if(!c.live&&d&&!d.backtracked&&d.sn===c.endSN&&!l.nextStart){if(Math.min(r.duration,d.start+d.duration)-Math.max(l.end,d.start)<=Math.max(.2,d.duration)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(ke.a.BUFFER_EOS,f),void(this.state=dt.ENDED)}}this._fetchPayloadOrEos(n,l,c)}}}},t.prototype._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,o=this.level,i=r.fragments,a=i.length;if(0!==a){var s=i[0].start,l=i[a-1].start+i[a-1].duration,u=t.end,c=void 0;if(r.initSegment&&!r.initSegment.data)c=r.initSegment;else if(r.live){var d=this.config.initialLiveManifestSize;if(a<d)return void Ae.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(c=this._ensureFragmentAtLivePoint(r,u,s,l,n,i,a)))return}else u<s&&(c=i[0]);c||(c=this._findFragment(s,n,a,i,u,l,r)),c&&this._loadFragmentOrKey(c,o,r,e,u)}},t.prototype._ensureFragmentAtLivePoint=function(e,t,r,n,o,i,a){var s=this.hls.config,l=this.media,u=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-s.maxFragLookUpTolerance,n-c)){var d=this.liveSyncPosition=this.computeLivePosition(r,e);Ae.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>n&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(o){var f=o.sn+1;if(f>=e.startSN&&f<=e.endSN){var p=i[f-e.startSN];o.cc===p.cc&&(u=p,Ae.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=Je.search(i,function(e){return o.cc-e.cc}))&&Ae.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=i[Math.min(a-1,Math.round(a/2))],Ae.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},t.prototype._findFragment=function(e,t,r,n,o,i,a){var s=this.hls.config,l=void 0,u=void 0,c=s.maxFragLookUpTolerance,d=t?n[t.sn-n[0].sn+1]:void 0,f=function(e){var t=Math.min(c,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-t<=o?1:e.start-t>o&&e.start?-1:0};if(o<i?(o>i-c&&(c=0),u=d&&!f(d)?d:Je.search(n,f)):u=n[r-1],u){l=u;var p=l.sn-a.startSN,h=t&&l.level===t.level,m=n[p-1],y=n[p+1];if(t&&l.sn===t.sn)if(h&&!l.backtracked)if(l.sn<a.endSN){var g=t.deltaPTS;g&&g>s.maxBufferHole&&t.dropped&&p?(l=m,Ae.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=y,Ae.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(y&&y.backtracked?(Ae.b.warn("Already backtracked from fragment "+y.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+y.sn),l=y):(Ae.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,m?(m.loadCounter&&m.loadCounter--,l=m,l.backtracked=!0):p&&(l=null)))}return l},t.prototype._loadFragmentOrKey=function(e,t,r,n,o){var i=this.hls,a=i.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(Ae.b.log("Loading "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t+", currentTime:"+n.toFixed(3)+",bufferEnd:"+o.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var s=a.fragLoadingLoopThreshold;if(e.loadCounter>s&&Math.abs(this.fragLoadIdx-e.loadIdx)<s)return void i.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,e.autoLevel=i.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||e.bitrateTest||(this.nextLoadPosition=e.start+e.duration),i.trigger(ke.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new st(i,"main")),void(this.state=dt.FRAG_LOADING)}Ae.b.log("Loading key for "+e.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+t),this.state=dt.KEY_LOADING,i.trigger(ke.a.KEY_LOADING,{frag:e})},t.prototype.getBufferedFrag=function(e){return Je.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&(t=r.currentTime,t>r.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),et.isBuffered(r,t)?e=this.getBufferedFrag(t):et.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(ke.a.FRAG_CHANGED,{frag:n});var o=n.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(ke.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=n}}},t.prototype.immediateLevelSwitch=function(){if(Ae.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,et.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t=void 0,r=void 0,n=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),r=this.getBufferedFrag(e.currentTime),r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var o=this.hls.nextLoadLevel,i=this.levels[o],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(e.currentTime+t))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},t.prototype.flushMainBuffer=function(e,t){this.state=dt.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(ke.a.BUFFER_FLUSHING,r)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(Ae.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,r=this.config;isNaN(t)||Ae.b.log("media seeking to "+t.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:e,o=et.bufferInfo(n,t,this.config.maxBufferHole);if(this.state===dt.FRAG_LOADING){var i=this.fragCurrent;if(0===o.len&&i){var a=r.maxFragLookUpTolerance,s=i.start-a,l=i.start+i.duration+a;t<s||t>l?(i.loader&&(Ae.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=dt.IDLE):Ae.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===dt.ENDED&&(0===o.len&&(this.fragPrevious=0),this.state=dt.IDLE);e&&(this.lastCurrentTime=t),this.state!==dt.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||Ae.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){Ae.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){Ae.b.log("trigger BUFFER_RESET"),this.hls.trigger(ke.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&Ae.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,r=e.level,n=this.levels[this.levelLastLoaded],o=this.levels[r],i=t.totalduration,a=0;if(Ae.b.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var s=o.details;s&&t.fragments.length>0?(b(s,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,s),t.PTSKnown&&!isNaN(a)?Ae.b.log("live playlist sliding:"+a.toFixed(3)):(Ae.b.log("live playlist - outdated PTS, unknown sliding"),C(this.fragPrevious,n,t))):(Ae.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,C(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(o.details=t,this.levelLastLoaded=r,this.hls.trigger(ke.a.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=t.startTimeOffset;isNaN(l)?t.live?(this.startPosition=this.computeLivePosition(a,t),Ae.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(Ae.b.log("negative start time offset "+l+", count from end of last fragment"),l=a+i+l),Ae.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===dt.WAITING_LEVEL&&(this.state=dt.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===dt.KEY_LOADING&&(this.state=dt.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===dt.FRAG_LOADING&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var n=e.stats,o=this.levels[t.level],i=o.details;if(Ae.b.log("Loaded  "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=n,!0===r.bitrateTest&&this.hls.nextLoadLevel)this.state=dt.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(ke.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=dt.IDLE,n.tparsed=n.tbuffered=performance.now(),i.initSegment.data=e.payload,this.hls.trigger(ke.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else{this.state=dt.PARSING;var a=i.totalduration,s=t.level,l=t.sn,u=this.config.defaultAudioCodec||o.audioCodec;this.audioCodecSwap&&(Ae.b.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,Ae.b.log("Parsing "+l+" of ["+i.startSN+" ,"+i.endSN+"],level "+s+", cc "+t.cc);var c=this.demuxer;c||(c=this.demuxer=new st(this.hls,"main"));var d=this.media,f=d&&d.seeking,p=!f&&(i.PTSKnown||!i.live),h=i.initSegment?i.initSegment.data:[];c.push(e.payload,h,u,o.videoCodec,t,a,p,void 0)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===dt.PARSING){var n,o,i=e.tracks;if(i.audio&&this.altAudio&&delete i.audio,o=i.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(Ae.b.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==o.container&&(a="mp4a.40.2",Ae.b.log("Android: force audio codec to "+a)),o.levelCodec=a,o.id=e.id}o=i.video,o&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=e.id),this.hls.trigger(ke.a.BUFFER_CODECS,i);for(n in i){o=i[n],Ae.b.log("main track:"+n+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(ke.a.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"main"===e.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===dt.PARSING){var o=this.levels[this.level],i=r;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),Ae.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(i.dropped=e.dropped,i.dropped){if(!i.backtracked)return Ae.b.warn("missing video frame(s), backtracking fragment"),i.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=dt.IDLE,this.fragPrevious=i,void this.tick();Ae.b.warn("Already backtracked on this fragment, appending with the gap")}else i.backtracked=!1;var a=v(o.details,i,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(ke.a.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(r){r&&r.length&&t.state===dt.PARSING&&(t.appended=!0,t.pendingBuffering=!0,s.trigger(ke.a.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))}),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===dt.PARSING&&(this.stats.tparsed=performance.now(),this.state=dt.PARSED,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){Ae.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(Ae.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=dt.IDLE}var o=this.hls;o.trigger(ke.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),o.trigger(ke.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(Ae.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,r=void 0,n=void 0,o=!1;for(var i in t){var a=t[i];"main"===a.id?(n=i,r=a,"video"===i&&(this.videoBuffer=t[i].buffer)):o=!0}o&&r?(Ae.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==dt.PARSING&&t!==dt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==dt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;Ae.b.log("main buffered : "+ut.toString(t.buffered));var r=this._bufferedFrags.filter(function(e){return et.isBuffered(t,(e.startPTS+e.endPTS)/2)});r.push(e),this._bufferedFrags=r.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(ke.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=dt.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=!!this.media&&et.isBuffered(this.media,this.media.currentTime)&&et.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case je.a.FRAG_LOAD_ERROR:case je.a.FRAG_LOAD_TIMEOUT:case je.a.KEY_LOAD_ERROR:case je.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);t.loadCounter=0,Ae.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=dt.FRAG_LOADING_WAITING_RETRY}else Ae.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=dt.ERROR;break;case je.a.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=dt.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=dt.ERROR));break;case je.a.LEVEL_LOAD_ERROR:case je.a.LEVEL_LOAD_TIMEOUT:this.state!==dt.ERROR&&(e.fatal?(this.state=dt.ERROR,Ae.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==dt.WAITING_LEVEL||(this.state=dt.IDLE));break;case je.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==dt.PARSING&&this.state!==dt.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=dt.IDLE):(Ae.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,Ae.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*t.fragLoadingLoopThreshold))},t.prototype._checkBuffer=function(){var e=this.media,t=this.config;if(e&&e.readyState){var r=e.currentTime,n=this.mediaBuffer?this.mediaBuffer:e,o=n.buffered;if(!this.loadedmetadata&&o.length){this.loadedmetadata=!0;var i=e.seeking?r:this.startPosition,a=et.isBuffered(n,i),s=o.start(0),l=!a&&Math.abs(i-s)<t.maxSeekHole;(r!==i||l)&&(Ae.b.log("target start position:"+i),l&&(i=s,Ae.b.log("target start position not buffered, seek to buffered.start(0) "+i)),Ae.b.log("adjust currentTime from "+r+" to "+i),e.currentTime=i)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=et.bufferInfo(e,r,0),c=!(e.paused||e.ended||0===e.buffered.length),d=r!==this.lastCurrentTime;if(d)this.stallReported&&(Ae.b.warn("playback not stuck anymore @"+r+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(c){var f=performance.now(),p=this.hls;if(this.stalled){var h=f-this.stalled,m=u.len,y=this.nudgeRetry||0;if(m<=.5&&h>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,Ae.b.warn("playback stalling in low buffer @"+r),p.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:m}));var g=u.nextStart,v=g-r;if(g&&v<t.maxSeekHole&&v>0){this.nudgeRetry=++y;var b=y*t.nudgeOffset;Ae.b.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+g+" + nudge "+b),e.currentTime=g+b,this.stalled=void 0,p.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:g+b-r})}}else if(m>.5&&h>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,Ae.b.warn("playback stalling in high buffer @"+r),p.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:m})),this.stalled=void 0,this.nudgeRetry=++y,y<t.nudgeMaxRetry){var _=e.currentTime,E=_+y*t.nudgeOffset;Ae.b.log("adjust currentTime from "+_+" to "+E),e.currentTime=E,p.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else Ae.b.error("still stuck in high buffer @"+r+" after "+t.nudgeMaxRetry+", raise fatal error"),p.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=f,this.stallReported=!1}}}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=dt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return et.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=dt.IDLE,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},ct(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,Ae.b.log("main stream:"+t+"->"+e),this.hls.trigger(ke.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(Pe),pt=ft,ht=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),mt=function(e){function t(r){A(this,t);var n=x(this,e.call(this,r,ke.a.MANIFEST_LOADED,ke.a.LEVEL_LOADED,ke.a.FRAG_LOADED,ke.a.ERROR));return n._manualLevel=-1,n.timer=null,n}return O(t,e),t.prototype.destroy=function(){this.cleanTimer(),this._manualLevel=-1},t.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],r=void 0,n={},o=null,i=!1,s=!1,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase());if(e.levels.forEach(function(e){e.loadError=0,e.fragmentError=!1,i=i||!!e.videoCodec,s=s||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),!0===l&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),o=n[e.bitrate],void 0===o?(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,t.push(e)):o.url.push(e.url)}),!0===i&&!0===s&&(t=t.filter(function(e){return!!e.videoCodec})),t=t.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||a(t))&&(!r||a(r))}),t.length>0){r=t[0].bitrate,t.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=t;for(var u=0;u<t.length;u++)if(t[u].bitrate===r){this._firstLevel=u,Ae.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+r);break}this.hls.trigger(ke.a.MANIFEST_PARSED,{levels:t,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:i,altAudio:e.audioTracks.length>0})}else this.hls.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this._level!==e){Ae.b.log("switching to level "+e),this._level=e;var n=t[e];n.level=e,r.trigger(ke.a.LEVEL_SWITCH,n),r.trigger(ke.a.LEVEL_SWITCHING,n)}var o=t[e],i=o.details;if(!i||!0===i.live){var a=o.urlId;r.trigger(ke.a.LEVEL_LOADING,{url:o.url[a],level:e,id:a})}}else r.trigger(ke.a.ERROR,{type:je.b.OTHER_ERROR,details:je.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){var t=this;if(!0===e.fatal)return void(e.type===je.b.NETWORK_ERROR&&this.cleanTimer());var r=e.details,n=!1,o=!1,i=void 0,a=void 0,s=this.hls,l=s.config,u=s.media;switch(r){case je.a.FRAG_LOAD_ERROR:case je.a.FRAG_LOAD_TIMEOUT:case je.a.FRAG_LOOP_LOADING_ERROR:case je.a.KEY_LOAD_ERROR:case je.a.KEY_LOAD_TIMEOUT:i=e.frag.level,o=!0;break;case je.a.LEVEL_LOAD_ERROR:case je.a.LEVEL_LOAD_TIMEOUT:i=e.context.level,n=!0;break;case je.a.REMUX_ALLOC_ERROR:i=e.level}if(void 0!==i){a=this._levels[i],a.loadError++,a.fragmentError=o;var c=a.url.length;if(c>1&&a.loadError<c)a.urlId=(a.urlId+1)%c,a.details=void 0,Ae.b.warn("level controller,"+r+" for level "+i+": switching to redundant stream id "+a.urlId);else if(-1===this._manualLevel&&0!==i)Ae.b.warn("level controller,"+r+": switch-down for next fragment"),this.hls.nextAutoLevel=Math.max(0,i-1);else if(a&&a.details&&a.details.live)Ae.b.warn("level controller,"+r+" on live stream, discard"),!0===n&&(this._level=void 0);else if(!0===n){var d=!!u&&et.isBuffered(u,u.currentTime)&&et.isBuffered(u,u.currentTime+.5);!0===d?(Ae.b.warn("level controller,"+r+", but media buffered, retry in "+l.levelLoadingRetryDelay+"ms"),this.timer=setTimeout(function(){return t.tick()},l.levelLoadingRetryDelay),e.levelRetry=!0):(Ae.b.error("cannot recover "+r+" error"),this._level=void 0,this.cleanTimer(),e.fatal=!0)}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level;if(r===this._level){var n=this._levels[r];!1===n.fragmentError&&(n.loadError=0);var o=e.details;if(o.live){var i=1e3*(o.averagetargetduration?o.averagetargetduration:o.targetduration),a=n.details;a&&o.endSN===a.endSN&&(i/=2,Ae.b.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),Ae.b.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(function(){return t.tick()},i)}else this.cleanTimer()}},t.prototype.tick=function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e];if(t&&t.url){var r=t.urlId;this.hls.trigger(ke.a.LEVEL_LOADING,{url:t.url[r],level:e,id:r})}}},ht(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.nextAutoLevel=e)}}]),t}(Pe),yt=mt,gt=r(3),vt=function(e){function t(r){P(this,t);var n=L(this,e.call(this,r,ke.a.MEDIA_ATTACHED,ke.a.MEDIA_DETACHING,ke.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return D(t,e),t.prototype.destroy=function(){Pe.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){this.media=void 0},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<r.length;o++){var i=gt.a.getID3Frames(r[o].data);if(i){var a=r[o].pts,s=o<r.length-1?r[o+1].pts:t.endPTS;a===s&&(s+=1e-4);for(var l=0;l<i.length;l++){var u=i[l];if(!gt.a.isTimeStampFrame(u)){var c=new n(a,s,"");c.value=u,this.id3Track.addCue(c)}}}}},t}(Pe),bt=vt,_t=function(){function e(t){I(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),Et=_t,Tt=function(){function e(t,r,n,o){N(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Et(r),this.fast_=new Et(n)}return e.prototype.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var r=8e3*t/e,n=e/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}(),wt=Tt,St=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ct=function(e){function t(r){M(this,t);var n=F(this,e.call(this,r,ke.a.FRAG_LOADING,ke.a.FRAG_LOADED,ke.a.FRAG_BUFFERED,ke.a.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=r,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return U(t,e),t.prototype.destroy=function(){this.clearTimer(),Pe.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var r=this.hls,n=e.frag.level,o=r.levels[n].details.live,i=r.config,a=void 0,s=void 0;o?(a=i.abrEwmaFastLive,s=i.abrEwmaSlowLive):(a=i.abrEwmaFastVoD,s=i.abrEwmaSlowVoD),this._bwEstimator=new wt(r,s,a,i.abrEwmaDefaultEstimate)}this.fragCurrent=t}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent,n=r.loader,o=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return Ae.b.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var i=n.stats;if(t&&i&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=performance.now()-i.trequest,s=Math.abs(t.playbackRate);if(a>500*r.duration/s){var l=e.levels,u=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/a),c=l[r.level],d=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,f=i.total?i.total:Math.max(i.loaded,Math.round(r.duration*d/8)),p=t.currentTime,h=(f-i.loaded)/u,m=(et.bufferInfo(t,p,e.config.maxBufferHole).end-p)/s;if(m<2*r.duration/s&&h>m){var y=void 0,g=void 0;for(g=r.level-1;g>o;g--){var v=l[g].realBitrate?Math.max(l[g].realBitrate,l[g].bitrate):l[g].bitrate;if((y=r.duration*v/(6.4*u))<m)break}y<h&&(Ae.b.warn("loading too slow, abort fragment loading and switch to level "+g+":fragLoadedDelay["+g+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+y.toFixed(1)+"<"+h.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=g,this._bwEstimator.sample(a,i.loaded),n.abort(),this.clearTimer(),e.trigger(ke.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:i}))}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],n=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,o=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:n,duration:o},r.realBitrate=Math.round(8*n/o)}if(e.frag.bitrateTest){var i=e.stats;i.tparsed=i.tbuffered=i.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!(!0===t.aborted||1!==r.loadCounter||"main"!==r.type||isNaN(r.sn)||r.bitrateTest&&t.tload!==t.tbuffered)){var n=t.tparsed-t.trequest;Ae.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case je.a.FRAG_LOAD_ERROR:case je.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,r,n,o,i,a,s,l){for(var u=o;u>=n;u--){var c=l[u],d=c.details,f=d?d.totalduration/d.fragments.length:t,p=!!d&&d.live,h=void 0;h=u<=e?a*r:s*r;var m=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,y=m*f/h;if(Ae.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(h)+"/"+m+"/"+f+"/"+i+"/"+y),h>m&&(!y||p&&!this.bitrateTestDelay||y<i))return u}return-1},St(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,o=e.minAutoLevel,i=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=i?i.currentTime:0,u=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(et.bufferInfo(i,l,n.maxBufferHole).end-l)/u,f=this._findBestLevel(a,s,c,o,t,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(f>=0)return f;Ae.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,h=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===d){var y=this.bitrateTestDelay;if(y){p=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-y,Ae.b.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),h=m=1}}return f=this._findBestLevel(a,s,c,o,t,d+p,h,m,r),Math.max(f,0)}}]),t}(Pe),Rt=Ct,kt=function(e){function t(r){B(this,t);var n=G(this,e.call(this,r,ke.a.MEDIA_ATTACHING,ke.a.MEDIA_DETACHING,ke.a.MANIFEST_PARSED,ke.a.BUFFER_RESET,ke.a.BUFFER_APPENDING,ke.a.BUFFER_CODECS,ke.a.BUFFER_EOS,ke.a.BUFFER_FLUSHING,ke.a.LEVEL_PTS_UPDATED,ke.a.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return H(t,e),t.prototype.destroy=function(){Pe.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var o=n.updating;try{n.abort()}catch(e){o=!0,Ae.b.warn("can not abort audio buffer: "+e)}o?this.audioTimestampOffset=e.start:(Ae.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,r=e.video||e.levels.length&&e.audio,n=0;e.altAudio&&(t||r)&&(n=(t?1:0)+(r?1:0),Ae.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(r)}},t.prototype.onMediaDetaching=function(){Ae.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){Ae.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(ke.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){Ae.b.log("media source opened"),this.hls.trigger(ke.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){Ae.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){Ae.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;Ae.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0);this.hls.trigger(ke.a.BUFFER_APPENDED,{parent:t,pending:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){Ae.b.error("sourceBuffer error:",e),this.hls.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var n in e)if(!t[n]){var o=e[n],i=o.levelCodec||o.codec,a=o.container+";codecs="+i;Ae.b.log("creating sourceBuffer("+a+")");try{var s=t[n]=r.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[n]={codec:i,container:o.container},o.buffer=s}catch(e){Ae.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:a})}}this.hls.trigger(ke.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){Ae.b.error("sourceBuffer error:",e.event),this.hls.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var n in t)r&&n!==r||t[n].ended||(t[n].ended=!0,Ae.b.log(n+" sourceBuffer now EOS"));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var r in e){var n=e[r];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}Ae.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){Ae.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e=this.media,t=this.mediaSource,r=this.sourceBuffer,n=this._levelDuration;if(null!==n&&e&&t&&r&&0!==e.readyState&&"open"===t.readyState){for(var o in r)if(r[o].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var i=e.duration;(n>this._msDuration&&n>i||i===1/0||isNaN(i))&&(Ae.b.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=t.duration=n)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r)t+=r[n].buffered.length}catch(e){Ae.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(ke.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,r=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void Ae.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var n=r.shift();try{var o=n.type,i=t[o];i?i.updating?r.unshift(n):(i.ended=!1,this.parent=n.parent,i.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){Ae.b.error("error while trying to append buffer:"+t.message),r.unshift(n);var a={type:je.b.MEDIA_ERROR,parent:n.parent};if(22===t.code)return this.segments=[],a.details=je.a.BUFFER_FULL_ERROR,a.fatal=!1,void e.trigger(ke.a.ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=je.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return Ae.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],a.fatal=!0,void e.trigger(ke.a.ERROR,a);a.fatal=!1,e.trigger(ke.a.ERROR,a)}}}},t.prototype.flushBuffer=function(e,t,r){var n,o,i,a,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(Ae.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in u)if(!r||c===r){if(n=u[c],n.ended=!1,n.updating)return Ae.b.warn("cannot flush, sb updating in progress"),!1;try{for(o=0;o<n.buffered.length;o++)if(i=n.buffered.start(o),a=n.buffered.end(o),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,l=t):(s=Math.max(i,e),l=Math.min(a,t)),Math.min(l,a)-s>.5)return this.flushBufferCounter++,Ae.b.log("flush "+c+" ["+s+","+l+"], of ["+i+","+a+"], pos:"+this.media.currentTime),n.remove(s,l),!1}catch(e){Ae.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else Ae.b.warn("abort flushing too many retries");Ae.b.log("buffer flushed")}return!0},t}(Pe),jt=kt,At=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xt=function(e){function t(r){return W(this,t),V(this,e.call(this,r,ke.a.FPS_DROP_LEVEL_CAPPING,ke.a.MEDIA_ATTACHING,ke.a.MANIFEST_PARSED))}return K(t,e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var r=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,o){return t.isLevelAllowed(o,r.restrictedLevels)&&o<=e});return t.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},t.isLevelAllowed=function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n=e.length-1,o=0;o<e.length;o+=1){var i=e[o];if((i.width>=t||i.height>=r)&&function(e,t){return!t||(e.width!==t.width||e.height!==t.height)}(i,e[o+1])){n=o;break}}return n},At(t,[{key:"mediaWidth",get:function(){var e=void 0,r=this.media;return r&&(e=r.width||r.clientWidth||r.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,r=this.media;return r&&(e=r.height||r.clientHeight||r.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(Pe),Ot=xt,Pt=function(e){function t(r){return z(this,t),q(this,e.call(this,r,ke.a.MEDIA_ATTACHING))}return Y(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}},t.prototype.checkFPS=function(e,t,r){var n=performance.now();if(t){if(this.lastTime){var o=n-this.lastTime,i=r-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*i/o,l=this.hls;if(l.trigger(ke.a.FPS_DROP,{currentDropped:i,currentDecoded:a,totalDroppedFrames:r}),s>0&&i>l.config.fpsDroppedMonitoringThreshold*a){var u=l.currentLevel;Ae.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(ke.a.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(Pe),Lt=Pt,Dt=function(){function e(t){X(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,o=this.context,i=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===r){var a=t.status;if(a>=200&&a<300){n.tload=Math.max(n.tfirst,performance.now());var s=void 0,l=void 0;"arraybuffer"===o.responseType?(s=t.response,l=s.byteLength):(s=t.responseText,l=s.length),n.loaded=n.total=l;var u={url:t.responseURL,data:s};this.callbacks.onSuccess(u,n,o,t)}else n.retry>=i.maxRetry||a>=400&&a<499?(Ae.b.error(a+" while loading "+o.url),this.callbacks.onError({code:a,text:t.statusText},o,t)):(Ae.b.warn(a+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i.timeout)},e.prototype.loadtimeout=function(){Ae.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}(),It=Dt,Nt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Mt=function(e){function t(r){Q(this,t);var n=$(this,e.call(this,r,ke.a.MANIFEST_LOADING,ke.a.MANIFEST_LOADED,ke.a.AUDIO_TRACK_LOADED,ke.a.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return J(t,e),t.prototype.destroy=function(){this.cleanTimer(),Pe.prototype.destroy.call(this)},t.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){this.updateTrack(this.trackId)},t.prototype.onError=function(e){e.fatal&&e.type===je.b.NETWORK_ERROR&&this.cleanTimer()},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.audioTracks||[],n=!1;this.tracks=r,this.hls.trigger(ke.a.AUDIO_TRACKS_UPDATED,{audioTracks:r});var o=0;r.forEach(function(e){if(e.default&&!n)return t.audioTrack=o,void(n=!0);o++}),!1===n&&r.length&&(Ae.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},t.prototype.onAudioTrackLoaded=function(e){e.id<this.tracks.length&&(Ae.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())},t.prototype.setAudioTrackInternal=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,Ae.b.log("switching to audioTrack "+e);var t=this.tracks[e],r=this.hls,n=t.type,o=t.url,i={id:e,type:n,url:o};r.trigger(ke.a.AUDIO_TRACK_SWITCH,i),r.trigger(ke.a.AUDIO_TRACK_SWITCHING,i);var a=t.details;!o||void 0!==a&&!0!==a.live||(Ae.b.log("(re)loading playlist for audioTrack "+e),r.trigger(ke.a.AUDIO_TRACK_LOADING,{url:o,id:e}))}},t.prototype.updateTrack=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,Ae.b.log("updating audioTrack "+e);var t=this.tracks[e],r=t.url,n=t.details;!r||void 0!==n&&!0!==n.live||(Ae.b.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(ke.a.AUDIO_TRACK_LOADING,{url:r,id:e}))}},Nt(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(Pe),Ft=Mt,Ut=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Bt={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},Gt=function(e){function t(r){Z(this,t);var n=ee(this,e.call(this,r,ke.a.MEDIA_ATTACHED,ke.a.MEDIA_DETACHING,ke.a.AUDIO_TRACKS_UPDATED,ke.a.AUDIO_TRACK_SWITCHING,ke.a.AUDIO_TRACK_LOADED,ke.a.KEY_LOADED,ke.a.FRAG_LOADED,ke.a.FRAG_PARSING_INIT_SEGMENT,ke.a.FRAG_PARSING_DATA,ke.a.FRAG_PARSED,ke.a.ERROR,ke.a.BUFFER_CREATED,ke.a.BUFFER_APPENDED,ke.a.BUFFER_FLUSHED,ke.a.INIT_PTS_FOUND));return n.config=r.config,n.audioCodecSwap=!1,n.ticks=0,n._state=Bt.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return te(t,e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Pe.prototype.destroy.call(this),this.state=Bt.STOPPED},t.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,n=e.initPTS;"main"===t&&(this.initPTS[r]=n,this.videoTrackCC=r,Ae.b.log("InitPTS for cc:"+r+" found from video track:"+n),this.state===Bt.WAITING_INIT_PTS&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(Ae.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=Bt.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=Bt.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Bt.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Bt.STOPPED},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){var e,t,r,n=this.hls,o=n.config;switch(this.state){case Bt.ERROR:case Bt.PAUSED:case Bt.BUFFER_FLUSHING:break;case Bt.STARTING:this.state=Bt.WAITING_TRACK,this.loadedmetadata=!1;break;case Bt.IDLE:var i=this.tracks;if(!i)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=et.bufferInfo(a,e,o.maxBufferHole),u=et.bufferInfo(s,e,o.maxBufferHole),c=l.len,d=l.end,f=this.fragPrevious,p=Math.max(o.maxBufferLength,u.len),h=this.audioSwitch,m=this.trackId;if((c<p||h)&&m<i.length){if(void 0===(r=i[m].details)){this.state=Bt.WAITING_TRACK;break}if(!h&&!r.live&&f&&f.sn===r.endSN&&(!this.media.seeking||this.media.duration-d<f.duration/2)){this.hls.trigger(ke.a.BUFFER_EOS,{type:"audio"}),this.state=Bt.ENDED;break}var y=r.fragments,g=y.length,v=y[0].start,b=y[g-1].start+y[g-1].duration,_=void 0;if(h)if(r.live&&!r.PTSKnown)Ae.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),d=0;else if(d=e,r.PTSKnown&&e<v){if(!(l.end>v||l.nextStart))return;Ae.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=v+.05}if(r.initSegment&&!r.initSegment.data)_=r.initSegment;else if(d<=v){if(_=y[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=E(y,this.videoTrackCC)),r.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var T=l.nextStart?l.nextStart:v;return Ae.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(T+.05)),void(this.media.currentTime=T+.05)}}else{var w=void 0,S=o.maxFragLookUpTolerance,C=f?y[f.sn-y[0].sn+1]:void 0,R=function(e){var t=Math.min(S,e.duration);return e.start+e.duration-t<=d?1:e.start-t>d&&e.start?-1:0};d<b?(d>b-S&&(S=0),w=C&&!R(C)?C:Je.search(y,R)):w=y[g-1],w&&(_=w,v=w.start,f&&_.level===f.level&&_.sn===f.sn&&(_.sn<r.endSN?(_=y[_.sn+1-r.startSN],Ae.b.log("SN just loaded, load next one: "+_.sn)):_=null))}if(_)if(_.decryptdata&&null!=_.decryptdata.uri&&null==_.decryptdata.key)Ae.b.log("Loading key for "+_.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+m),this.state=Bt.KEY_LOADING,n.trigger(ke.a.KEY_LOADING,{frag:_});else{if(Ae.b.log("Loading "+_.sn+", cc: "+_.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+m+", currentTime:"+e+",bufferEnd:"+d.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,_.loadCounter){_.loadCounter++;var k=o.fragLoadingLoopThreshold;if(_.loadCounter>k&&Math.abs(this.fragLoadIdx-_.loadIdx)<k)return void n.trigger(ke.a.ERROR,{type:je.b.MEDIA_ERROR,details:je.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:_})}else _.loadCounter=1;_.loadIdx=this.fragLoadIdx,this.fragCurrent=_,this.startFragRequested=!0,isNaN(_.sn)||(this.nextLoadPosition=_.start+_.duration),n.trigger(ke.a.FRAG_LOADING,{frag:_}),this.state=Bt.FRAG_LOADING}}break;case Bt.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=Bt.IDLE);break;case Bt.FRAG_LOADING_WAITING_RETRY:var j=performance.now(),A=this.retryDate;a=this.media;var x=a&&a.seeking;(!A||j>=A||x)&&(Ae.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Bt.IDLE);break;case Bt.WAITING_INIT_PTS:var O=this.videoTrackCC;if(void 0===this.initPTS[O])break;var P=this.waitingFragment;if(P){var L=P.frag.cc;O!==L?(t=this.tracks[this.trackId],t.details&&t.details.live&&(Ae.b.warn("Waiting fragment CC ("+L+") does not match video track CC ("+O+")"),this.waitingFragment=null,this.state=Bt.IDLE)):(this.state=Bt.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Bt.IDLE;break;case Bt.STOPPED:case Bt.FRAG_LOADING:case Bt.PARSING:case Bt.PARSED:case Bt.ENDED:}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(Ae.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===Bt.ENDED&&(this.state=Bt.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){Ae.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=Bt.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=Bt.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,r=e.id,n=this.tracks[r],o=t.totalduration,i=0;if(Ae.b.log("track "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var a=n.details;a&&t.fragments.length>0?(b(a,t),i=t.fragments[0].start,t.PTSKnown?Ae.b.log("live audio playlist sliding:"+i.toFixed(3)):Ae.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,Ae.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(Ae.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Bt.WAITING_TRACK&&(this.state=Bt.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===Bt.KEY_LOADING&&(this.state=Bt.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===Bt.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var n=this.tracks[this.trackId],o=n.details,i=o.totalduration,a=t.level,s=t.sn,l=t.cc,u=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",c=this.stats=e.stats;if("initSegment"===s)this.state=Bt.IDLE,c.tparsed=c.tbuffered=performance.now(),o.initSegment.data=e.payload,this.hls.trigger(ke.a.FRAG_BUFFERED,{stats:c,frag:t,id:"audio"}),this.tick();else{this.state=Bt.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new st(this.hls,"audio"));var d=this.initPTS[l],f=o.initSegment?o.initSegment.data:[];if(o.initSegment||void 0!==d){this.pendingBuffering=!0,Ae.b.log("Demuxing "+s+" of ["+o.startSN+" ,"+o.endSN+"],track "+a);this.demuxer.push(e.payload,f,u,null,t,i,!1,d)}else Ae.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.waitingFragment=e,this.state=Bt.WAITING_INIT_PTS}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===Bt.PARSING){var n=e.tracks,o=void 0;if(n.video&&delete n.video,o=n.audio){o.levelCodec=o.codec,o.id=e.id,this.hls.trigger(ke.a.BUFFER_CODECS,n),Ae.b.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var i=o.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(ke.a.BUFFER_APPENDING,a))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"audio"===e.id&&"audio"===e.type&&n.sn===r.sn&&n.level===r.level&&this.state===Bt.PARSING){var o=this.trackId,i=this.tracks[o],a=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),Ae.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),v(i.details,r,e.startPTS,e.endPTS);var s=this.audioSwitch,l=this.media,u=!1;if(s&&l)if(l.readyState){var c=l.currentTime;Ae.b.log("switching audio track : currentTime:"+c),c>=e.startPTS&&(Ae.b.log("switching audio track : flushing all audio"),this.state=Bt.BUFFER_FLUSHING,a.trigger(ke.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,a.trigger(ke.a.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,a.trigger(ke.a.AUDIO_TRACK_SWITCHED,{id:o});var d=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&d.push({type:e.type,data:t,parent:"audio",content:"data"})}),!u&&d.length&&(d.forEach(function(e){t.state===Bt.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(ke.a.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===Bt.PARSING&&(this.stats.tparsed=performance.now(),this.state=Bt.PARSED,this._checkAppendedParsed())},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==Bt.PARSING&&t!==Bt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==Bt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),r.trigger(ke.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;Ae.b.log("audio buffered : "+ut.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(ke.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Bt.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case je.a.FRAG_LOAD_ERROR:case je.a.FRAG_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var n=this.config;if(r<=n.fragLoadingMaxRetry){this.fragLoadError=r,t.loadCounter=0;var o=Math.min(Math.pow(2,r-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);Ae.b.warn("audioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=Bt.FRAG_LOADING_WAITING_RETRY}else Ae.b.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Bt.ERROR}break;case je.a.FRAG_LOOP_LOADING_ERROR:case je.a.AUDIO_TRACK_LOAD_ERROR:case je.a.AUDIO_TRACK_LOAD_TIMEOUT:case je.a.KEY_LOAD_ERROR:case je.a.KEY_LOAD_TIMEOUT:this.state!==Bt.ERROR&&(this.state=e.fatal?Bt.ERROR:Bt.IDLE,Ae.b.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case je.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===Bt.PARSING||this.state===Bt.PARSED)){var i=this.mediaBuffer,a=this.media.currentTime;if(i&&et.isBuffered(i,a)&&et.isBuffered(i,a+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,Ae.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Bt.IDLE}else Ae.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Bt.BUFFER_FLUSHING,this.hls.trigger(ke.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(Ae.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(ke.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Bt.PARSED):(this.state=Bt.IDLE,this.fragPrevious=null,this.tick())},Ut(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,Ae.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(Pe),Ht=Gt,Wt=function(){function e(e){return"string"==typeof e&&(!!i[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function n(n,i,a){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=n,p=i,h=a,m=null,y="",g=!0,v="auto",b="start",_=50,E="middle",T=50,w="middle";if(Object.defineProperty(s,"id",r({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return y},set:function(t){var r=e(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return b},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");b=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return E},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");E=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return w},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");w=r,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var o="auto",i={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}(),Vt=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};oe.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Kt=new Wt(0,0,0),zt="middle"===Kt.align?"middle":"center";re.prototype={parse:function(e){function t(){var e=r.buffer,t=0;for(e=se(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}var r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;n=t();var o=n.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var i=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(i?i=!1:n=t(),r.state){case"HEADER":/:/.test(n)?function(e){ie(e,function(e,t){switch(e){case"Region":console.log("parse region",t)}},/:/)}(n):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new Wt(0,0,""),r.state="CUE",-1===n.indexOf("--\x3e")){r.cue.id=n;continue}case"CUE":try{ae(n,r.cue,r.regionList)}catch(e){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(i=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(e){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}};var qt=re,Yt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Xt=function(e){var t=e;return Yt.hasOwnProperty(e)&&(t=Yt[e]),String.fromCharCode(t)},Qt=15,$t=100,Jt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Zt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},er={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},tr={25:2,26:4,29:6,30:8,31:10,27:13,28:15},rr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],nr={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r&&console.log(this.time+" ["+e+"] "+t)}},or=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},ir=function(){function e(t,r,n,o,i){ue(this,e),this.foreground=t||"white",this.underline=r||!1,this.italics=n||!1,this.background=o||"black",this.flash=i||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),ar=function(){function e(t,r,n,o,i,a){ue(this,e),this.uchar=t||" ",this.penState=new ir(r,n,o,i,a)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),sr=function(){function e(){ue(this,e),this.chars=[];for(var t=0;t<$t;t++)this.chars.push(new ar);this.pos=0,this.currPenState=new ir}return e.prototype.equals=function(e){for(var t=!0,r=0;r<$t;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<$t;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<$t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(nr.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>$t&&(nr.log("ERROR","Too large cursor position "+this.pos),this.pos=$t)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=Xt(e);if(this.pos>=$t)return void nr.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},e.prototype.clearFromPos=function(e){var t;for(t=e;t<$t;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<$t;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),lr=function(){function e(){ue(this,e),this.rows=[];for(var t=0;t<Qt;t++)this.rows.push(new sr);this.currRow=Qt-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<Qt;e++)this.rows[e].clear();this.currRow=Qt-1},e.prototype.equals=function(e){for(var t=!0,r=0;r<Qt;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<Qt;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<Qt;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){nr.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){nr.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<Qt;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var i=o.rows[n].cueStartTime;if(i&&i<nr.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(o.rows[n+a])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},e.prototype.setBkgData=function(e){nr.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void nr.log("DEBUG","roll_up but nrRollUpRows not set yet");nr.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),nr.log("INFO","Rolling up")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,o=0;o<Qt;o++){var i=this.rows[o].getTextString();i&&(n=o+1,e?t.push("Row "+n+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),ur=function(){function e(t,r){ue(this,e),this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new lr,this.nonDisplayedMemory=new lr,this.lastOutputScreen=new lr,this.currRollUpRow=this.displayedMemory.rows[Qt-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[Qt-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,nr.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";nr.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(nr.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){nr.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){nr.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){nr.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){nr.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){nr.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){nr.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){nr.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){nr.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){nr.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},e.prototype.ccCR=function(){nr.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},e.prototype.ccENM=function(){nr.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(nr.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,nr.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},e.prototype.ccTO=function(e){nr.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[r]}nr.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=nr.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),cr=function(){function e(t,r,n){ue(this,e),this.field=t||1,this.outputs=[r,n],this.channels=[new ur(1,r),new ur(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,n,o,i=!1;this.lastTime=e,nr.setTime(e);for(var a=0;a<t.length;a+=2)if(n=127&t[a],o=127&t[a+1],0!==n||0!==o){if(nr.log("DATA","["+or([t[a],t[a+1]])+"] -> ("+or([n,o])+")"),r=this.parseCmd(n,o),r||(r=this.parseMidrow(n,o)),r||(r=this.parsePAC(n,o)),r||(r=this.parseBackgroundAttributes(n,o)),!r&&(i=this.parseChars(n,o)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(i)}else nr.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,nr.log("WARNING","Couldn't parse cleaned data "+or([n,o])+" orig: "+or([t[a],t[a+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null,n=(20===e||28===e)&&32<=t&&t<=47,o=(23===e||31===e)&&33<=t&&t<=35;if(!n&&!o)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,nr.log("DEBUG","Repeated command ("+or([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var i=this.channels[r-1];return 20===e||28===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return nr.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[r-1].ccMIDROW(t),nr.log("DEBUG","MIDROW ("+or([e,t])+")"),!0}return!1},e.prototype.parsePAC=function(e,t){var r=null,n=null,o=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,i=(16===e||24===e)&&64<=t&&t<=95;if(!o&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,n=64<=t&&t<=95?1===r?Jt[e]:er[e]:1===r?Zt[e]:tr[e];var a=this.interpretPAC(n,t);return this.channels[r-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},e.prototype.parseChars=function(e,t){var r=null,n=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var i=t;i=17===o?t+80:18===o?t+112:t+144,nr.log("INFO","Special char '"+Xt(i)+"' in channel "+r),n=[i]}else 32<=e&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var a=or(n);nr.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},e.prototype.parseBackgroundAttributes=function(e,t){var r,n,o,i,a=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!a&&!s)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=rr[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),o=e<24?1:2,i=this.channels[o-1],i.setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),dr=cr,fr=function(e,t,r){return e.substr(r||0,t.length)===t},pr=function(e){var t=parseInt(e.substr(-3)),r=parseInt(e.substr(-6,2)),n=parseInt(e.substr(-9,2)),o=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(r)||isNaN(n)||isNaN(o)?-1:(t+=1e3*r,t+=6e4*n,t+=36e5*o)},hr=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},mr=function(e,t,r){var n=e[t],o=e[n.prevCC];if(!o||!o.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;o&&o.new;)e.ccOffset+=n.start-o.start,n.new=!1,n=o,o=e[n.prevCC];e.presentationOffset=r},yr={parse:function(e,t,r,n,o,i){var a=/\r\n|\n\r|\n|\r/g,s=String.fromCharCode.apply(null,new Uint8Array(e)).trim().replace(a,"\n").split("\n"),l="00:00.000",u=0,c=0,d=0,f=[],p=void 0,h=!0,m=new qt;m.oncue=function(e){var t=r[n],o=r.ccOffset;t&&t.new&&(void 0!==c?o=r.ccOffset=t.start:mr(r,n,d)),d&&(o=d+r.ccOffset-r.presentationOffset),e.startTime+=o-c,e.endTime+=o-c,e.id=hr(e.startTime)+hr(e.endTime)+hr(e.text),e.text=decodeURIComponent(escape(e.text)),e.endTime>0&&f.push(e)},m.onparsingerror=function(e){p=e},m.onflush=function(){if(p&&i)return void i(p);o(f)},s.forEach(function(e){if(h){if(fr(e,"X-TIMESTAMP-MAP=")){h=!1,e.substr(16).split(",").forEach(function(e){fr(e,"LOCAL:")?l=e.substr(6):fr(e,"MPEGTS:")&&(u=parseInt(e.substr(7)))});try{t=t<0?t+8589934592:t,u-=t,c=pr(l)/1e3,d=u/9e4,-1===c&&(p=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){p=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(h=!1)}m.parse(e+"\n")}),m.flush()}},gr=yr,vr=function(e){function t(r){ce(this,t);var n=de(this,e.call(this,r,ke.a.MEDIA_ATTACHING,ke.a.MEDIA_DETACHING,ke.a.FRAG_PARSING_USERDATA,ke.a.MANIFEST_LOADING,ke.a.MANIFEST_LOADED,ke.a.FRAG_LOADED,ke.a.LEVEL_SWITCHING,ke.a.INIT_PTS_FOUND));if(n.hls=r,n.config=r.config,n.enabled=!0,n.Cues=r.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var o=n,i=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},a={newCue:function(e,t,r){if(!o.textTrack1){var n=o.getExistingTrack("1");if(n)o.textTrack1=n,pe(o.textTrack1),i(o.textTrack1,o.media);else{var a=o.createTextTrack("captions",o.config.captionsTextTrack1Label,o.config.captionsTextTrack1LanguageCode);a&&(a.textTrack1=!0,o.textTrack1=a)}}o.addCues("textTrack1",e,t,r)}},s={newCue:function(e,t,r){if(!o.textTrack2){var n=o.getExistingTrack("2");if(n)o.textTrack2=n,pe(o.textTrack2),i(o.textTrack2,o.media);else{var a=o.createTextTrack("captions",o.config.captionsTextTrack2Label,o.config.captionsTextTrack1LanguageCode);a&&(a.textTrack2=!0,o.textTrack2=a)}}o.addCues("textTrack2",e,t,r)}};n.cea608Parser=new dr(0,a,s)}return n}return fe(t,e),t.prototype.addCues=function(e,t,r,n){for(var o=this.cueRanges,i=!1,a=o.length;a--;){var s=o[a],l=me(s[0],s[1],t,r);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],r),i=!0,l/(r-t)>.5))return}i||o.push([t,r]),this.Cues.newCue(this[e],t,r,n)},t.prototype.onInitPtsFound=function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r],o="textTrack"+e;if(!0===n[o])return n}return null},t.prototype.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},t.prototype.destroy=function(){Pe.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media},t.prototype.onMediaDetaching=function(){pe(this.textTrack1),pe(this.textTrack2)},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0};var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)pe(t[r])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var o=void 0;if(n<r.length){var i=r[n];he(i,e)&&(o=i)}o||(o=t.createTextTrack("subtitles",e.name,e.lang)),o.mode=e.default?"showing":"hidden",t.textTracks.push(o)})}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,r=e.payload;if("main"===t.type){var n=t.sn;if(n!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=n}else if("subtitle"===t.type)if(r.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var a=this.textTracks,s=this.hls;gr.parse(r,this.initPTS,i,t.cc,function(e){var r=a[t.trackId];e.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(n){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),s.trigger(ke.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){Ae.b.log("Failed to parse VTT cue: "+e),s.trigger(ke.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})}else this.hls.trigger(ke.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},t.prototype.extractCea608Data=function(e){for(var t,r,n,o,i,a=31&e[0],s=2,l=[],u=0;u<a;u++)t=e[s++],r=127&e[s++],n=127&e[s++],o=0!=(4&t),i=3&t,0===r&&0===n||o&&0===i&&(l.push(r),l.push(n));return l},t}(Pe),br=vr,_r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Er=function(e){function t(r){ye(this,t);var n=ge(this,e.call(this,r,ke.a.MEDIA_ATTACHED,ke.a.MEDIA_DETACHING,ke.a.MANIFEST_LOADING,ke.a.MANIFEST_LOADED,ke.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n}return ve(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=be(this.media.textTracks),r=0;r<t.length;r++)"showing"===t[r].mode&&(e=r);this.subtitleTrack=e}},t.prototype.destroy=function(){Pe.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[],n=!1;this.tracks=r,this.trackId=-1,this.hls.trigger(ke.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.subtitleTrack=e.id,n=!0)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;void 0!==r&&!0!==r.live||(Ae.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(ke.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(Ae.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},t.prototype.setSubtitleTrackInternal=function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,Ae.b.log("switching to subtitle track "+e);var t=this.tracks[e];this.hls.trigger(ke.a.SUBTITLE_TRACK_SWITCH,{id:e});var r=t.details;void 0!==r&&!0!==r.live||(Ae.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(ke.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},_r(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(Pe),Tr=Er,wr=function(e){function t(r){_e(this,t);var n=Ee(this,e.call(this,r,ke.a.ERROR,ke.a.SUBTITLE_TRACKS_UPDATED,ke.a.SUBTITLE_TRACK_SWITCH,ke.a.SUBTITLE_TRACK_LOADED,ke.a.SUBTITLE_FRAG_PROCESSED));return n.config=r.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.currentTrackId=-1,n}return Te(t,e),t.prototype.destroy=function(){Pe.prototype.destroy.call(this)},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(ke.a.FRAG_LOADING,{frag:e})}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.nextFrag()},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;Ae.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){this.currentTrackId=e.id,this.clearVttFragQueues()},t.prototype.onSubtitleTrackLoaded=function(e){var t=this.vttFragSNsProcessed[e.id],r=this.vttFragQueues[e.id],n=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(e){return t.indexOf(e.sn)>-1},i=function(e){return r.some(function(t){return t.sn===e.sn})};e.details.fragments.forEach(function(t){o(t)||t.sn===n||i(t)||(t.trackId=e.id,r.push(t))}),this.nextFrag()},t}(Pe),Sr=wr,Cr={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:It,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Rt,bufferController:jt,capLevelController:Ot,fpsController:Lt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Cr.subtitleStreamController=Sr,Cr.subtitleTrackController=Tr,Cr.timelineController=br,Cr.cueHandler=Se,Cr.enableCEA708Captions=!0,Cr.enableWebVTT=!0,Cr.captionsTextTrack1Label="English",Cr.captionsTextTrack1LanguageCode="en",Cr.captionsTextTrack2Label="Spanish",Cr.captionsTextTrack2LanguageCode="es",Cr.audioStreamController=Ht,Cr.audioTrackController=Ft;var Rr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),kr=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};we(this,e);var n=e.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in n)o in r||(r[o]=n[o]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(Ae.a)(r.debug),this.config=r,this._autoLevelCapping=-1;var i=this.observer=new nt.a;i.trigger=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.emit.apply(i,[e,e].concat(r))},i.off=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.removeListener.apply(i,[e].concat(r))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i);var a=this.abrController=new r.abrController(this),s=new r.bufferController(this),l=new r.capLevelController(this),u=new r.fpsController(this),c=new ze(this),d=new Ye(this),f=new Qe(this),p=new bt(this),h=this.levelController=new yt(this),m=this.streamController=new pt(this),y=[h,m],g=r.audioStreamController;g&&y.push(new g(this)),this.networkControllers=y;var v=[c,d,f,a,s,l,u,p];if(g=r.audioTrackController){var b=new g(this);this.audioTrackController=b,v.push(b)}if(g=r.subtitleTrackController){var _=new g(this);this.subtitleTrackController=_,v.push(_)}[r.subtitleStreamController,r.timelineController].forEach(function(e){e&&v.push(new e(t))}),this.coreComponents=v}return e.isSupported=function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return r&&n},Rr(e,null,[{key:"version",get:function(){return"0.8.4"}},{key:"Events",get:function(){return ke.a}},{key:"ErrorTypes",get:function(){return je.b}},{key:"ErrorDetails",get:function(){return je.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:Cr},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){Ae.b.log("destroy"),this.trigger(ke.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){Ae.b.log("attachMedia"),this.media=e,this.trigger(ke.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){Ae.b.log("detachMedia"),this.trigger(ke.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=Re.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),Ae.b.log("loadSource:"+e),this.url=e,this.trigger(ke.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Ae.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},e.prototype.stopLoad=function(){Ae.b.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},e.prototype.swapAudioCodec=function(){Ae.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){Ae.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Rr(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){Ae.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){Ae.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){Ae.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){Ae.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){Ae.b.log("set startLevel:"+e);var t=this;-1!==e&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){Ae.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,r=e.config.minAutoBitrate,n=t?t.length:0,o=0;o<n;o++){if((t[o].realBitrate?Math.max(t[o].realBitrate,t[o].bitrate):t[o].bitrate)>r)return o}return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,r=e.autoLevelCapping;return-1===r&&t&&t.length?t.length-1:r}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();t.default=kr},function(e,t,r){function n(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var n=t(t.s=ENTRY_MODULE);return n.default||n}function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(e){var t=[],r=e.toString(),n=r.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!n)return t;for(var i,a=n[1],s=new RegExp("(\\\\n|\\W)"+o(a)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");i=s.exec(r);)t.push(i[3]);return t}function a(e,t){for(var r=[t],n=[],o={};r.length;){var a=r.pop();if(!o[a]&&e[a]){o[a]=!0,n.push(a);var s=i(e[a]);r=r.concat(s)}}return n}e.exports=function(e,t){t=t||{};var o=r.m,i=t.all?Object.keys(o):a(o,e),s="("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.map(function(e){return JSON.stringify(e)+": "+o[e].toString()}).join(",")+"})(self);",l=new window.Blob([s],{type:"text/javascript"});if(t.bare)return l;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,c=u.createObjectURL(l),d=new window.Worker(c);return d.objectURL=c,d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(1),i=r(0),a=r(4),s=r.n(a),l=function(e){var t=new s.a;t.trigger=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(o){var a=o.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new n.a(t,a.typeSupported,s,a.vendor);try{Object(i.a)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),t.on(o.a.FRAG_DECRYPTED,r),t.on(o.a.FRAG_PARSING_INIT_SEGMENT,r),t.on(o.a.FRAG_PARSED,r),t.on(o.a.ERROR,r),t.on(o.a.FRAG_PARSING_METADATA,r),t.on(o.a.FRAG_PARSING_USERDATA,r),t.on(o.a.INIT_PTS_FOUND,r),t.on(o.a.FRAG_PARSING_DATA,function(t,r){var n=[],o={event:t,data:r};r.data1&&(o.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(o.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(o,n)})};t.default=l}]).default})},"./node_modules/hoist-non-react-statics/index.js":/*!*******************************************************!*\
  !*** ./node_modules/hoist-non-react-statics/index.js ***!
  \*******************************************************/
/*! no static exports found */
/*! exports used: default */
function(e,t,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);e.exports=function e(t,r,d){if("string"!=typeof r){if(c){var f=u(r);f&&f!==c&&e(t,f,d)}var p=a(r);s&&(p=p.concat(s(r)));for(var h=0;h<p.length;++h){var m=p[h];if(!(n[m]||o[m]||d&&d[m])){var y=l(r,m);try{i(t,m,y)}catch(e){}}}return t}return t}},"./node_modules/invariant/browser.js":/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
function(e,t,r){"use strict";var n=function(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n},"./node_modules/lodash-es/_Symbol.js":/*!*******************************************!*\
  !*** ./node_modules/lodash-es/_Symbol.js ***!
  \*******************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";var n=r(/*! ./_root.js */"./node_modules/lodash-es/_root.js"),o=n.a.Symbol;t.a=o},"./node_modules/lodash-es/_baseGetTag.js":/*!***********************************************!*\
  !*** ./node_modules/lodash-es/_baseGetTag.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){return null==e?void 0===e?l:s:u&&u in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=r(/*! ./_Symbol.js */"./node_modules/lodash-es/_Symbol.js"),i=r(/*! ./_getRawTag.js */"./node_modules/lodash-es/_getRawTag.js"),a=r(/*! ./_objectToString.js */"./node_modules/lodash-es/_objectToString.js"),s="[object Null]",l="[object Undefined]",u=o.a?o.a.toStringTag:void 0;t.a=n},"./node_modules/lodash-es/_freeGlobal.js":/*!***********************************************!*\
  !*** ./node_modules/lodash-es/_freeGlobal.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(t,r(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash-es/_getPrototype.js":/*!*************************************************!*\
  !*** ./node_modules/lodash-es/_getPrototype.js ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";var n=r(/*! ./_overArg.js */"./node_modules/lodash-es/_overArg.js"),o=Object(n.a)(Object.getPrototypeOf,Object);t.a=o},"./node_modules/lodash-es/_getRawTag.js":/*!**********************************************!*\
  !*** ./node_modules/lodash-es/_getRawTag.js ***!
  \**********************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[l]=r:delete e[l]),o}var o=r(/*! ./_Symbol.js */"./node_modules/lodash-es/_Symbol.js"),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=o.a?o.a.toStringTag:void 0;t.a=n},"./node_modules/lodash-es/_objectToString.js":/*!***************************************************!*\
  !*** ./node_modules/lodash-es/_objectToString.js ***!
  \***************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=n},"./node_modules/lodash-es/_overArg.js":/*!********************************************!*\
  !*** ./node_modules/lodash-es/_overArg.js ***!
  \********************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){return function(r){return e(t(r))}}t.a=n},"./node_modules/lodash-es/_root.js":/*!*****************************************!*\
  !*** ./node_modules/lodash-es/_root.js ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";var n=r(/*! ./_freeGlobal.js */"./node_modules/lodash-es/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();t.a=i},"./node_modules/lodash-es/isObjectLike.js":/*!************************************************!*\
  !*** ./node_modules/lodash-es/isObjectLike.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){return null!=e&&"object"==typeof e}t.a=n},"./node_modules/lodash-es/isPlainObject.js":/*!*************************************************!*\
  !*** ./node_modules/lodash-es/isPlainObject.js ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){if(!Object(a.a)(e)||Object(o.a)(e)!=s)return!1;var t=Object(i.a)(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==f}var o=r(/*! ./_baseGetTag.js */"./node_modules/lodash-es/_baseGetTag.js"),i=r(/*! ./_getPrototype.js */"./node_modules/lodash-es/_getPrototype.js"),a=r(/*! ./isObjectLike.js */"./node_modules/lodash-es/isObjectLike.js"),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=c.call(Object);t.a=n},"./node_modules/muicss/lib/js/config.js":/*!**********************************************!*\
  !*** ./node_modules/muicss/lib/js/config.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports={debug:!0}},"./node_modules/muicss/lib/js/lib/forms.js":/*!*************************************************!*\
  !*** ./node_modules/muicss/lib/js/lib/forms.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t,r){var n,l,u,c,d=document.documentElement.clientHeight,f=t*a+2*s,p=Math.min(f,d);l=s+a-(o+i),l-=r*a,u=-1*e.getBoundingClientRect().top,c=d-p+u,n=Math.min(Math.max(l,u),c);var h,m,y=0;return f>d&&(h=s+(r+1)*a-(-1*n+o+i),m=t*a+2*s-p,y=Math.min(h,m)),{height:p+"px",top:n+"px",scrollTop:y}}var o=15,i=32,a=42,s=8;e.exports={getMenuPositionalCSS:n}},"./node_modules/muicss/lib/js/lib/jqLite.js":/*!**************************************************!*\
  !*** ./node_modules/muicss/lib/js/lib/jqLite.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t){if(t&&e.setAttribute){for(var r,n=m(e),o=t.split(" "),i=0;i<o.length;i++)r=o[i].trim(),-1===n.indexOf(" "+r+" ")&&(n+=r+" ");e.setAttribute("class",n.trim())}}function o(e,t,r){if(void 0===t)return getComputedStyle(e);var n=a(t);if("object"!==n){"string"===n&&void 0!==r&&(e.style[y(t)]=r);var o=getComputedStyle(e);if(!("array"===a(t)))return g(e,t,o);for(var i,s={},l=0;l<t.length;l++)i=t[l],s[i]=g(e,i,o);return s}for(var i in t)e.style[y(i)]=t[i]}function i(e,t){return!(!t||!e.getAttribute)&&m(e).indexOf(" "+t+" ")>-1}function a(e){if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);if(0===t.indexOf("[object "))return t.slice(8,-1).toLowerCase();throw new Error("MUI: Could not understand type: "+t)}function s(e,t,r,n){n=void 0!==n&&n;var o=e._muiEventCache=e._muiEventCache||{};t.split(" ").map(function(t){e.addEventListener(t,r,n),o[t]=o[t]||[],o[t].push([r,n])})}function l(e,t,r,n){n=void 0!==n&&n;var o,i,a,s=e._muiEventCache=e._muiEventCache||{};t.split(" ").map(function(t){for(o=s[t]||[],a=o.length;a--;)i=o[a],(void 0===r||i[0]===r&&i[1]===n)&&(o.splice(a,1),e.removeEventListener(t,i[0],i[1]))})}function u(e,t,r,n){t.split(" ").map(function(t){s(e,t,function o(i){r&&r.apply(this,arguments),l(e,t,o,n)},n)})}function c(e,t){var r=window;if(void 0===t){if(e===r){var n=document.documentElement;return(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}return e.scrollLeft}e===r?r.scrollTo(t,d(r)):e.scrollLeft=t}function d(e,t){var r=window;if(void 0===t){if(e===r){var n=document.documentElement;return(r.pageYOffset||n.scrollTop)-(n.clientTop||0)}return e.scrollTop}e===r?r.scrollTo(c(r),t):e.scrollTop=t}function f(e){var t=window,r=e.getBoundingClientRect(),n=d(t),o=c(t);return{top:r.top+n,left:r.left+o,height:r.height,width:r.width}}function p(e){var t=!1,r=!0,n=document,o=n.defaultView,i=n.documentElement,a=n.addEventListener?"addEventListener":"attachEvent",s=n.addEventListener?"removeEventListener":"detachEvent",l=n.addEventListener?"":"on",u=function(r){"readystatechange"==r.type&&"complete"!=n.readyState||(("load"==r.type?o:n)[s](l+r.type,u,!1),!t&&(t=!0)&&e.call(o,r.type||r))},c=function(){try{i.doScroll("left")}catch(e){return void setTimeout(c,50)}u("poll")};if("complete"==n.readyState)e.call(o,"lazy");else{if(n.createEventObject&&i.doScroll){try{r=!o.frameElement}catch(e){}r&&c()}n[a](l+"DOMContentLoaded",u,!1),n[a](l+"readystatechange",u,!1),o[a](l+"load",u,!1)}}function h(e,t){if(t&&e.setAttribute){for(var r,n=m(e),o=t.split(" "),i=0;i<o.length;i++)for(r=o[i].trim();n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");e.setAttribute("class",n.trim())}}function m(e){return" "+(e.getAttribute("class")||"").replace(/[\n\t]/g,"")+" "}function y(e){return e.replace(v,function(e,t,r,n){return n?r.toUpperCase():r}).replace(b,"Moz$1")}function g(e,t,r){var n;return n=r.getPropertyValue(t),""!==n||e.ownerDocument||(n=e.style[y(t)]),n}var v=/([\:\-\_]+(.))/g,b=/^moz([A-Z])/;e.exports={addClass:n,css:o,hasClass:i,off:l,offset:f,on:s,one:u,ready:p,removeClass:h,type:a,scrollLeft:c,scrollTop:d}},"./node_modules/muicss/lib/js/lib/util.js":/*!************************************************!*\
  !*** ./node_modules/muicss/lib/js/lib/util.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(){var e=window;if(v.debug&&void 0!==e.console)try{e.console.log.apply(e.console,arguments)}catch(r){var t=Array.prototype.slice.call(arguments);e.console.log(t.join("\n"))}}function o(e){var t,r=document;t=r.head||r.getElementsByTagName("head")[0]||r.documentElement;var n=r.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(r.createTextNode(e)),t.insertBefore(n,t.firstChild),n}function i(e,t){if(!t)throw new Error("MUI: "+e);"undefined"!=typeof console&&console.warn("MUI Warning: "+e)}function a(e){var t="";for(var r in e)t+=e[r]?r+" ":"";return t.trim()}function s(){if(void 0!==g)return g;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",g="auto"===e.style.pointerEvents}function l(e,t){return function(){e[t].apply(e,arguments)}}function u(e,t,r,n,o){var i,a=document.createEvent("HTMLEvents"),r=void 0===r||r,n=void 0===n||n;if(a.initEvent(t,r,n),o)for(i in o)a[i]=o[i];return e&&e.dispatchEvent(a),a}function c(){if(1===(_+=1)){var e,t,r,n=document,i=window,a=n.documentElement,s=n.body,l=T();e=["overflow:hidden"],l&&(a.scrollHeight>a.clientHeight&&(r=parseInt(b.css(s,"padding-right"))+l,e.push("padding-right:"+r+"px")),a.scrollWidth>a.clientWidth&&(r=parseInt(b.css(s,"padding-bottom"))+l,e.push("padding-bottom:"+r+"px"))),t="."+E+"{",t+=e.join(" !important;")+" !important;}",h=o(t),b.on(i,"scroll",m,!0),p={left:b.scrollLeft(i),top:b.scrollTop(i)},b.addClass(s,E)}}function d(e){0!==_&&0===(_-=1)&&(b.removeClass(document.body,E),h.parentNode.removeChild(h),e&&window.scrollTo(p.left,p.top),b.off(window,"scroll",m,!0))}function f(e){var t=window.requestAnimationFrame;t?t(e):setTimeout(e,0)}var p,h,m,y,g,v=r(/*! ../config */"./node_modules/muicss/lib/js/config.js"),b=r(/*! ./jqLite */"./node_modules/muicss/lib/js/lib/jqLite.js"),_=0,E="mui-scroll-lock";m=function(e){e.target.tagName||e.stopImmediatePropagation()};var T=function(){if(void 0!==y)return y;var e=document,t=e.body,r=e.createElement("div");return r.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',r=r.firstChild,t.appendChild(r),y=r.offsetWidth-r.clientWidth,t.removeChild(r),y};e.exports={callback:l,classNames:a,disableScrollLock:d,dispatchEvent:u,enableScrollLock:c,log:n,loadStyle:o,raiseError:i,requestAnimationFrame:f,supportsPointerEvents:s}},"./node_modules/muicss/lib/react/_helpers.js":/*!***************************************************!*\
  !*** ./node_modules/muicss/lib/react/_helpers.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! ./babel-helpers.js */"./node_modules/muicss/lib/react/babel-helpers.js");e.exports={controlledMessage:"You provided a `value` prop to a form field without an `OnChange` handler. Please see React documentation on controlled components"}},"./node_modules/muicss/lib/react/babel-helpers.js":/*!********************************************************!*\
  !*** ./node_modules/muicss/lib/react/babel-helpers.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n,o,i;!function(r,a){o=[t],n=a,void 0!==(i="function"==typeof n?n.apply(t,o):n)&&(e.exports=i)}(0,function(e){var t=e;t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},t.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},t.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t.objectWithoutProperties=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},t.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}})},"./node_modules/muicss/lib/react/button.js":/*!*************************************************!*\
  !*** ./node_modules/muicss/lib/react/button.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./babel-helpers.js */"./node_modules/muicss/lib/react/babel-helpers.js");Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! react */"./node_modules/react/index.js"),i=n.interopRequireDefault(o),a=r(/*! ../js/lib/jqLite */"./node_modules/muicss/lib/js/lib/jqLite.js"),s=n.interopRequireWildcard(a),l=r(/*! ../js/lib/util */"./node_modules/muicss/lib/js/lib/util.js"),u=n.interopRequireWildcard(l),c={color:1,variant:1,size:1},d=function(e){function t(e){n.classCallCheck(this,t);var r=n.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={rippleStyle:{},rippleIsVisible:!1};var o=u.callback;return r.onMouseDownCB=o(r,"onMouseDown"),r.onMouseUpCB=o(r,"onMouseUp"),r.onMouseLeaveCB=o(r,"onMouseLeave"),r.onTouchStartCB=o(r,"onTouchStart"),r.onTouchEndCB=o(r,"onTouchEnd"),r}return n.inherits(t,e),n.createClass(t,[{key:"componentDidMount",value:function(){var e=this.buttonElRef;e._muiDropdown=!0,e._muiRipple=!0}},{key:"onMouseDown",value:function(e){this.showRipple(e);var t=this.props.onMouseDown;t&&t(e)}},{key:"onMouseUp",value:function(e){this.hideRipple(e);var t=this.props.onMouseUp;t&&t(e)}},{key:"onMouseLeave",value:function(e){this.hideRipple(e);var t=this.props.onMouseLeave;t&&t(e)}},{key:"onTouchStart",value:function(e){this.showRipple(e);var t=this.props.onTouchStart;t&&t(e)}},{key:"onTouchEnd",value:function(e){this.hideRipple(e);var t=this.props.onTouchEnd;t&&t(e)}},{key:"showRipple",value:function(e){if(!("ontouchstart"in this.buttonElRef&&"mousedown"===e.type)){var t=s.offset(this.buttonElRef),r=void 0;r="touchstart"===e.type&&e.touches?e.touches[0]:e;var n=Math.sqrt(t.width*t.width+t.height*t.height),o=2*n+"px";this.setState({rippleStyle:{top:Math.round(r.pageY-t.top-n)+"px",left:Math.round(r.pageX-t.left-n)+"px",width:o,height:o},rippleIsVisible:!0})}}},{key:"hideRipple",value:function(e){this.setState({rippleIsVisible:!1})}},{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=this.rippleElRef;r.rippleIsVisible&&!t.rippleIsVisible&&(s.removeClass(n,"mui--is-animating"),s.addClass(n,"mui--is-visible"),u.requestAnimationFrame(function(){s.addClass(n,"mui--is-animating")})),!r.rippleIsVisible&&t.rippleIsVisible&&u.requestAnimationFrame(function(){s.removeClass(n,"mui--is-visible")})}},{key:"render",value:function(){var e=this,t="mui-btn",r=void 0,o=void 0,a=this.props,s=(a.color,a.size,a.variant,n.objectWithoutProperties(a,["color","size","variant"]));for(r in c)"default"!==(o=this.props[r])&&(t+=" mui-btn--"+o);return i.default.createElement("button",n.extends({},s,{ref:function(t){e.buttonElRef=t},className:t+" "+this.props.className,onMouseUp:this.onMouseUpCB,onMouseDown:this.onMouseDownCB,onMouseLeave:this.onMouseLeaveCB,onTouchStart:this.onTouchStartCB,onTouchEnd:this.onTouchEndCB}),this.props.children,i.default.createElement("span",{className:"mui-btn__ripple-container"},i.default.createElement("span",{ref:function(t){e.rippleElRef=t},className:"mui-ripple",style:this.state.rippleStyle})))}}]),t}(i.default.Component);d.defaultProps={className:"",color:"default",size:"default",variant:"default"},t.default=d,e.exports=t.default},"./node_modules/muicss/lib/react/option.js":/*!*************************************************!*\
  !*** ./node_modules/muicss/lib/react/option.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./babel-helpers.js */"./node_modules/muicss/lib/react/babel-helpers.js");Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! react */"./node_modules/react/index.js"),i=n.interopRequireDefault(o),a=r(/*! ../js/lib/forms */"./node_modules/muicss/lib/js/lib/forms.js"),s=(n.interopRequireWildcard(a),r(/*! ../js/lib/jqLite */"./node_modules/muicss/lib/js/lib/jqLite.js")),l=(n.interopRequireWildcard(s),r(/*! ../js/lib/util */"./node_modules/muicss/lib/js/lib/util.js")),u=(n.interopRequireWildcard(l),r(/*! ./_helpers */"./node_modules/muicss/lib/react/_helpers.js"),function(e){function t(){return n.classCallCheck(this,t),n.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n.inherits(t,e),n.createClass(t,[{key:"render",value:function(){var e=this.props,t=(e.children,e.label),r=n.objectWithoutProperties(e,["children","label"]);return i.default.createElement("option",r,t)}}]),t}(i.default.Component));u.defaultProps={className:"",label:null},t.default=u,e.exports=t.default},"./node_modules/muicss/lib/react/select.js":/*!*************************************************!*\
  !*** ./node_modules/muicss/lib/react/select.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){var n=r(/*! ./babel-helpers.js */"./node_modules/muicss/lib/react/babel-helpers.js");Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! react */"./node_modules/react/index.js"),i=n.interopRequireDefault(o),a=r(/*! ../js/lib/forms */"./node_modules/muicss/lib/js/lib/forms.js"),s=n.interopRequireWildcard(a),l=r(/*! ../js/lib/jqLite */"./node_modules/muicss/lib/js/lib/jqLite.js"),u=n.interopRequireWildcard(l),c=r(/*! ../js/lib/util */"./node_modules/muicss/lib/js/lib/util.js"),d=n.interopRequireWildcard(c),f=r(/*! ./_helpers */"./node_modules/muicss/lib/react/_helpers.js"),p=function(e){function t(e){n.classCallCheck(this,t);var r=n.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={showMenu:!1},!1===e.readOnly&&void 0!==e.value&&null===e.onChange&&d.raiseError(f.controlledMessage,!0),r.state.value=e.value;var o=d.callback;return r.onInnerChangeCB=o(r,"onInnerChange"),r.onInnerMouseDownCB=o(r,"onInnerMouseDown"),r.onOuterClickCB=o(r,"onOuterClick"),r.onOuterKeyDownCB=o(r,"onOuterKeyDown"),r.hideMenuCB=o(r,"hideMenu"),r.onMenuChangeCB=o(r,"onMenuChange"),r}return n.inherits(t,e),n.createClass(t,[{key:"componentDidMount",value:function(){this.controlEl._muiSelect=!0}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){u.off(window,"resize",this.hideMenuCB),u.off(document,"click",this.hideMenuCB)}},{key:"onInnerChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"onInnerMouseDown",value:function(e){0!==e.button||this.props.useDefault||e.preventDefault()}},{key:"onOuterClick",value:function(e){if(0===e.button&&!this.controlEl.disabled){var t=this.props.onClick;t&&t(e),e.defaultPrevented||this.props.useDefault||(this.wrapperElRef.focus(),this.showMenu())}}},{key:"onOuterKeyDown",value:function(e){var t=this.props.onKeyDown;if(t&&t(e),!e.defaultPrevented&&!this.props.useDefault&&!1===this.state.showMenu){var r=e.keyCode;32!==r&&38!==r&&40!==r||(e.preventDefault(),this.showMenu())}}},{key:"showMenu",value:function(){this.props.useDefault||(u.on(window,"resize",this.hideMenuCB),u.on(document,"click",this.hideMenuCB),this.setState({showMenu:!0}))}},{key:"hideMenu",value:function(){u.off(window,"resize",this.hideMenuCB),u.off(document,"click",this.hideMenuCB),this.setState({showMenu:!1}),this.wrapperElRef.focus()}},{key:"onMenuChange",value:function(e){this.props.readOnly||(this.controlEl.value=e,d.dispatchEvent(this.controlEl,"change"))}},{key:"render",value:function(){var e=this,t=void 0;this.state.showMenu&&(t=i.default.createElement(h,{optionEls:this.controlEl.children,wrapperEl:this.wrapperElRef,onChange:this.onMenuChangeCB,onClose:this.hideMenuCB}));var r="-1",o="0";!1===this.props.useDefault&&(r="0",o="-1");var a=this.props,s=a.children,l=a.className,u=a.style,c=a.label,d=a.defaultValue,f=(a.readOnly,a.useDefault,a.name),p=n.objectWithoutProperties(a,["children","className","style","label","defaultValue","readOnly","useDefault","name"]);return i.default.createElement("div",n.extends({},p,{ref:function(t){e.wrapperElRef=t},tabIndex:r,style:u,className:"mui-select "+l,onClick:this.onOuterClickCB,onKeyDown:this.onOuterKeyDownCB}),i.default.createElement("select",{ref:function(t){e.controlEl=t},name:f,tabIndex:o,value:this.state.value,defaultValue:d,readOnly:this.props.readOnly,onChange:this.onInnerChangeCB,onMouseDown:this.onInnerMouseDownCB,required:this.props.required},s),i.default.createElement("label",null,c),t)}}]),t}(i.default.Component);p.defaultProps={className:"",name:"",readOnly:!1,useDefault:"undefined"!=typeof document&&"ontouchstart"in document.documentElement,onChange:null,onClick:null,onKeyDown:null};var h=function(e){function t(e){n.classCallCheck(this,t);var r=n.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={origIndex:null,currentIndex:null},r.onKeyDownCB=d.callback(r,"onKeyDown"),r.onKeyPressCB=d.callback(r,"onKeyPress"),r.q="",r.qTimeout=null,r}return n.inherits(t,e),n.createClass(t,[{key:"componentWillMount",value:function(){var e=this.props.optionEls,t=e.length,r=0,n=void 0;for(n=t-1;n>-1;n--)e[n].selected&&(r=n);this.setState({origIndex:r,currentIndex:r})}},{key:"componentDidMount",value:function(){d.enableScrollLock();var e=s.getMenuPositionalCSS(this.props.wrapperEl,this.props.optionEls.length,this.state.currentIndex),t=this.wrapperElRef;u.css(t,e),u.scrollTop(t,e.scrollTop),u.on(document,"keydown",this.onKeyDownCB),u.on(document,"keypress",this.onKeyPressCB)}},{key:"componentWillUnmount",value:function(){d.disableScrollLock(!0),u.off(document,"keydown",this.onKeyDownCB),u.off(document,"keypress",this.onKeyPressCB)}},{key:"onClick",value:function(e,t){t.stopPropagation(),this.selectAndDestroy(e)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(9===t)return this.destroy();27!==t&&40!==t&&38!==t&&13!==t||e.preventDefault(),27===t?this.destroy():40===t?this.increment():38===t?this.decrement():13===t&&this.selectAndDestroy()}},{key:"onKeyPress",value:function(e){var t=this;clearTimeout(this.qTimeout),this.q+=e.key,this.qTimeout=setTimeout(function(){t.q=""},300);var r=new RegExp("^"+this.q,"i"),n=this.props.optionEls,o=n.length,i=void 0;for(i=0;i<o;i++)if(r.test(n[i].innerText)){this.setState({currentIndex:i});break}}},{key:"increment",value:function(){this.state.currentIndex!==this.props.optionEls.length-1&&this.setState({currentIndex:this.state.currentIndex+1})}},{key:"decrement",value:function(){0!==this.state.currentIndex&&this.setState({currentIndex:this.state.currentIndex-1})}},{key:"selectAndDestroy",value:function(e){e=void 0===e?this.state.currentIndex:e,e!==this.state.origIndex&&this.props.onChange(this.props.optionEls[e].value),this.destroy()}},{key:"destroy",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=[],r=this.props.optionEls,n=r.length,o=void 0,a=void 0;for(a=0;a<n;a++)o=a===this.state.currentIndex?"mui--is-selected ":"",o+=r[a].className,t.push(i.default.createElement("div",{key:a,className:o,onClick:this.onClick.bind(this,a)},r[a].textContent));return i.default.createElement("div",{ref:function(t){e.wrapperElRef=t},className:"mui-select__menu"},t)}}]),t}(i.default.Component);h.defaultProps={optionEls:[],wrapperEl:null,onChange:null,onClose:null},t.default=p,e.exports=t.default},"./node_modules/object-assign/index.js":/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(l[c]=r[c]);if(o){s=o(r);for(var d=0;d<s.length;d++)a.call(r,s[d])&&(l[s[d]]=r[s[d]])}}return l}},"./node_modules/prop-types/factoryWithThrowingShims.js":/*!*************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithThrowingShims.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";var n=r(/*! fbjs/lib/emptyFunction */"./node_modules/fbjs/lib/emptyFunction.js"),o=r(/*! fbjs/lib/invariant */"./node_modules/fbjs/lib/invariant.js"),i=r(/*! ./lib/ReactPropTypesSecret */"./node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},"./node_modules/prop-types/index.js":/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=r(/*! ./factoryWithThrowingShims */"./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-dom/cjs/react-dom.production.min.js":/*!****************************************************************!*\
  !*** ./node_modules/react-dom/cjs/react-dom.production.min.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);throw t=Error(r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function o(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i(){if(jt)for(var e in At){var t=At[e],r=jt.indexOf(e);if(-1<r||n("96",e),!xt.plugins[r]){t.extractEvents||n("97",e),xt.plugins[r]=t,r=t.eventTypes;for(var o in r){var i=void 0,s=r[o],l=t,u=o;xt.eventNameDispatchConfigs.hasOwnProperty(u)&&n("99",u),xt.eventNameDispatchConfigs[u]=s;var c=s.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&a(c[i],l,u);i=!0}else s.registrationName?(a(s.registrationName,l,u),i=!0):i=!1;i||n("98",o,e)}}}}function a(e,t,r){xt.registrationNameModules[e]&&n("100",e),xt.registrationNameModules[e]=t,xt.registrationNameDependencies[e]=t.eventTypes[r].dependencies}function s(e,t){return(e&t)===t}function l(e){for(var t;t=e._renderedComponent;)e=t;return e}function u(e,t){e=l(e),e._hostNode=t,t[Kt]=e}function c(e,t){if(!(e._flags&Wt.hasCachedChildNodes)){var r=e._renderedChildren;t=t.firstChild;var o;e:for(o in r)if(r.hasOwnProperty(o)){var i=r[o],a=l(i)._domID;if(0!==a){for(;null!==t;t=t.nextSibling){var s=t,c=a;if(s.nodeType===Bt&&s.getAttribute(Ht)===""+c||s.nodeType===Gt&&s.nodeValue===" react-text: "+c+" "||s.nodeType===Gt&&s.nodeValue===" react-empty: "+c+" "){u(i,t);continue e}}n("32",a)}}e._flags|=Wt.hasCachedChildNodes}}function d(e){if(e[Kt])return e[Kt];for(var t=[];!e[Kt];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var r=e[Kt];if(r.tag===Ft||r.tag===Ut)return r;for(;e&&(r=e[Kt]);e=t.pop()){var n=r;t.length&&c(r,e)}return n}function f(e){if("function"==typeof e.getName)return e.getName();if("number"==typeof e.tag){if("string"==typeof(e=e.type))return e;if("function"==typeof e)return e.displayName||e.name}return null}function p(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&rr)!==tr)return 1;for(;t.return;)if(t=t.return,(t.effectTag&rr)!==tr)return 1}return t.tag===Jt?2:3}function h(e){2!==p(e)&&n("188")}function m(e){var t=e.alternate;if(!t)return t=p(e),3===t&&n("188"),1===t?null:e;for(var r=e,o=t;;){var i=r.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===r)return h(i),e;if(s===o)return h(i),t;s=s.sibling}n("188")}if(r.return!==o.return)r=i,o=a;else{s=!1;for(var l=i.child;l;){if(l===r){s=!0,r=i,o=a;break}if(l===o){s=!0,o=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,o=i;break}if(l===o){s=!0,o=a,r=i;break}l=l.sibling}s||n("189")}}r.alternate!==o&&n("190")}return r.tag!==Jt&&n("188"),r.stateNode.current===r?e:t}function y(e,t,r,n,o,i,a,s,l){or._hasCaughtError=!1,or._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){or._caughtError=e,or._hasCaughtError=!0}}function g(){if(or._hasRethrowError){var e=or._rethrowError;throw or._rethrowError=null,or._hasRethrowError=!1,e}}function v(e,t,r,n){t=e.type||"unknown-event",e.currentTarget=ar.getNodeFromInstance(n),ir.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e),e.currentTarget=null}function b(e){if(e=sr.getInstanceFromNode(e))if("number"==typeof e.tag){lr&&"function"==typeof lr.restoreControlledState||n("194");var t=sr.getFiberCurrentPropsFromNode(e.stateNode);lr.restoreControlledState(e.stateNode,e.type,t)}else"function"!=typeof e.restoreControlledState&&n("195"),e.restoreControlledState()}function _(e,t,r,n,o,i){return e(t,r,n,o,i)}function E(e,t){return e(t)}function T(e,t){return E(e,t)}function w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===hr?e.parentNode:e}function S(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r=t;if("number"==typeof r.tag){for(;r.return;)r=r.return;r=r.tag!==mr?null:r.stateNode.containerInfo}else{for(;r._hostParent;)r=r._hostParent;r=qt.getNodeFromInstance(r).parentNode}if(!r)break;e.ancestors.push(t),t=qt.getClosestInstanceFromNode(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],gr._handleTopLevel(e.topLevelType,t,e.nativeEvent,w(e.nativeEvent))}function C(e,t){return null==t&&n("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function R(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}function k(e,t){e&&(sr.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))}function j(e){return k(e,!0)}function A(e){return k(e,!1)}function x(e,t,r){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!r.disabled||"button"!==t&&"input"!==t&&"select"!==t&&"textarea"!==t);default:return!1}}function O(e,t){if(!yt.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var r=t in document;return r||(r=document.createElement("div"),r.setAttribute(t,"return;"),r="function"==typeof r[t]),!r&&Rt&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}function P(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}function L(e){if(Tr[e])return Tr[e];if(!Er[e])return e;var t,r=Er[e];for(t in r)if(r.hasOwnProperty(t)&&t in wr)return Tr[e]=r[t];return""}function D(e){return Object.prototype.hasOwnProperty.call(e,kr)||(e[kr]=Rr++,Cr[e[kr]]={}),Cr[e[kr]]}function I(e){return!!Ur.hasOwnProperty(e)||!Fr.hasOwnProperty(e)&&(Mr.test(e)?Ur[e]=!0:(Fr[e]=!0,!1))}function N(){return null}function M(e){var t="";return mt.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function F(e,t,r){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n)}else{for(r=""+r,t=null,n=0;n<e.length;n++){if(e[n].value===r)return void(e[n].selected=!0);null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function U(e,t){t&&($r[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&n("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&n("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||n("61")),null!=t.style&&"object"!=typeof t.style&&n("62",""))}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){var t=B(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof r.get&&"function"==typeof r.set)return Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:!0,get:function(){return r.get.call(this)},set:function(e){n=""+e,r.set.call(this,e)}}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function H(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function W(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===rn)return void(r.nodeValue=t)}e.textContent=t}function V(e,t){sn(t,e.nodeType===on||e.nodeType===an?e:e.ownerDocument)}function K(e,t){return e!==Pn&&e!==On||t!==Pn&&t!==On?e===xn&&t!==xn?-255:e!==xn&&t===xn?255:e-t:0}function z(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}function q(e,t,r,n){null!==r?r.next=t:(t.next=e.first,e.first=t),null!==n?t.next=n:e.last=t}function Y(e,t){t=t.priorityLevel;var r=null;if(null!==e.last&&0>=K(e.last.priorityLevel,t))r=e.last;else for(e=e.first;null!==e&&0>=K(e.priorityLevel,t);)r=e,e=e.next;return r}function X(e,t){var r=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=z()),null!==r?null===(e=r.updateQueue)&&(e=r.updateQueue=z()):e=null,In=n,Nn=e!==n?e:null;var o=In;r=Nn;var i=Y(o,t),a=null!==i?i.next:o.first;return null===r?(q(o,t,i,a),null):(n=Y(r,t),e=null!==n?n.next:r.first,q(o,t,i,a),a===e&&null!==a||i===n&&null!==i?(null===n&&(r.first=t),null===e&&(r.last=null),null):(t={priorityLevel:t.priorityLevel,partialState:t.partialState,callback:t.callback,isReplace:t.isReplace,isForced:t.isForced,isTopLevelUnmount:t.isTopLevelUnmount,next:null},q(r,t,n,e),t))}function Q(e,t,r,n){return e=e.partialState,"function"==typeof e?e.call(t,r,n):e}function $(e,t,r){e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r}function J(e){return e.tag===Hn&&null!=e.type.childContextTypes}function Z(e,t){var r=e.stateNode,o=e.type.childContextTypes;if("function"!=typeof r.getChildContext)return t;r=r.getChildContext();for(var i in r)i in o||n("108",f(e)||"Unknown",i);return gt({},t,r)}function ee(e,t,r){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=r,this.effectTag=uo,this.lastEffect=this.firstEffect=this.nextEffect=null,this.pendingWorkPriority=so,this.alternate=null}function te(e,t,r){var o=void 0;return"function"==typeof e?(o=e.prototype&&e.prototype.isReactComponent?new ee(Zn,t,r):new ee(Jn,t,r),o.type=e):"string"==typeof e?(o=new ee(to,t,r),o.type=e):"object"==typeof e&&null!==e&&"number"==typeof e.tag?o=e:n("130",null==e?e:typeof e,""),o}function re(e){return null===e||void 0===e?null:(e=Go&&e[Go]||e["@@iterator"],"function"==typeof e?e:null)}function ne(e,t){var r=t.ref;if(null!==r&&"function"!=typeof r){if(t._owner){t=t._owner;var o=void 0;t&&("number"==typeof t.tag?(t.tag!==Po&&n("110"),o=t.stateNode):o=t.getPublicInstance()),o||n("147",r);var i=""+r;return null!==e&&null!==e.ref&&e.ref._stringRef===i?e.ref:(e=function(e){var t=o.refs===_t?o.refs={}:o.refs;null===e?delete t[i]:t[i]=e},e._stringRef=i,e)}"string"!=typeof r&&n("148"),t._owner||n("149",r)}return r}function oe(e,t){"textarea"!==e.type&&n("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ie(e,t){function r(r,n){if(t){if(!e){if(null===n.alternate)return;n=n.alternate}var o=r.lastEffect;null!==o?(o.nextEffect=n,r.lastEffect=n):r.firstEffect=r.lastEffect=n,n.nextEffect=null,n.effectTag=Bo}}function o(e,n){if(!t)return null;for(;null!==n;)r(e,n),n=n.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,r){return e?(t=wo(t,r),t.index=0,t.sibling=null,t):(t.pendingWorkPriority=r,t.effectTag=Fo,t.index=0,t.sibling=null,t)}function s(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index,n<r?(e.effectTag=Uo,r):n):(e.effectTag=Uo,r):r}function l(e){return t&&null===e.alternate&&(e.effectTag=Uo),e}function u(e,t,r,n){return null===t||t.tag!==Lo?(r=Ro(r,e.internalContextTag,n),r.return=e,r):(t=a(t,n),t.pendingProps=r,t.return=e,t)}function c(e,t,r,n){return null===t||t.type!==r.type?(n=So(r,e.internalContextTag,n),n.ref=ne(t,r),n.return=e,n):(n=a(t,n),n.ref=ne(t,r),n.pendingProps=r.props,n.return=e,n)}function d(e,t,r,n){return null===t||t.tag!==Io?(r=ko(r,e.internalContextTag,n),r.return=e,r):(t=a(t,n),t.pendingProps=r,t.return=e,t)}function f(e,t,r,n){return null===t||t.tag!==No?(t=jo(r,e.internalContextTag,n),t.type=r.value,t.return=e,t):(t=a(t,n),t.type=r.value,t.return=e,t)}function p(e,t,r,n){return null===t||t.tag!==Do||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(r=Ao(r,e.internalContextTag,n),r.return=e,r):(t=a(t,n),t.pendingProps=r.children||[],t.return=e,t)}function h(e,t,r,n){return null===t||t.tag!==Mo?(r=Co(r,e.internalContextTag,n),r.return=e,r):(t=a(t,n),t.pendingProps=r,t.return=e,t)}function m(e,t,r){if("string"==typeof t||"number"==typeof t)return t=Ro(""+t,e.internalContextTag,r),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ho:return r=So(t,e.internalContextTag,r),r.ref=ne(null,t),r.return=e,r;case _o:return t=ko(t,e.internalContextTag,r),t.return=e,t;case Eo:return r=jo(t,e.internalContextTag,r),r.type=t.value,r.return=e,r;case To:return t=Ao(t,e.internalContextTag,r),t.return=e,t}if(xo(t)||re(t))return t=Co(t,e.internalContextTag,r),t.return=e,t;oe(e,t)}return null}function y(e,t,r,n){var o=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==o?null:u(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ho:return r.key===o?c(e,t,r,n):null;case _o:return r.key===o?d(e,t,r,n):null;case Eo:return null===o?f(e,t,r,n):null;case To:return r.key===o?p(e,t,r,n):null}if(xo(r)||re(r))return null!==o?null:h(e,t,r,n);oe(e,r)}return null}function g(e,t,r,n,o){if("string"==typeof n||"number"==typeof n)return e=e.get(r)||null,u(t,e,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ho:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,o);case _o:return e=e.get(null===n.key?r:n.key)||null,d(t,e,n,o);case Eo:return e=e.get(r)||null,f(t,e,n,o);case To:return e=e.get(null===n.key?r:n.key)||null,p(t,e,n,o)}if(xo(n)||re(n))return e=e.get(r)||null,h(t,e,n,o);oe(t,n)}return null}function v(e,n,a,l){for(var u=null,c=null,d=n,f=n=0,p=null;null!==d&&f<a.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var h=y(e,d,a[f],l);if(null===h){null===d&&(d=p);break}t&&d&&null===h.alternate&&r(e,d),n=s(h,n,f),null===c?u=h:c.sibling=h,c=h,d=p}if(f===a.length)return o(e,d),u;if(null===d){for(;f<a.length;f++)(d=m(e,a[f],l))&&(n=s(d,n,f),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(e,d);f<a.length;f++)(p=g(d,e,f,a[f],l))&&(t&&null!==p.alternate&&d.delete(null===p.key?f:p.key),n=s(p,n,f),null===c?u=p:c.sibling=p,c=p);return t&&d.forEach(function(t){return r(e,t)}),u}function b(e,a,l,u){var c=re(l);"function"!=typeof c&&n("150"),null==(l=c.call(l))&&n("151");for(var d=c=null,f=a,p=a=0,h=null,v=l.next();null!==f&&!v.done;p++,v=l.next()){f.index>p?(h=f,f=null):h=f.sibling;var b=y(e,f,v.value,u);if(null===b){f||(f=h);break}t&&f&&null===b.alternate&&r(e,f),a=s(b,a,p),null===d?c=b:d.sibling=b,d=b,f=h}if(v.done)return o(e,f),c;if(null===f){for(;!v.done;p++,v=l.next())null!==(v=m(e,v.value,u))&&(a=s(v,a,p),null===d?c=v:d.sibling=v,d=v);return c}for(f=i(e,f);!v.done;p++,v=l.next())null!==(v=g(f,e,p,v.value,u))&&(t&&null!==v.alternate&&f.delete(null===v.key?p:v.key),a=s(v,a,p),null===d?c=v:d.sibling=v,d=v);return t&&f.forEach(function(t){return r(e,t)}),c}return function(e,t,i,s){var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case Ho:e:{var c=i.key;for(u=t;null!==u;){if(u.key===c){if(u.type===i.type){o(e,u.sibling),t=a(u,s),t.ref=ne(u,i),t.pendingProps=i.props,t.return=e,e=t;break e}o(e,u);break}r(e,u),u=u.sibling}s=So(i,e.internalContextTag,s),s.ref=ne(t,i),s.return=e,e=s}return l(e);case _o:e:{for(u=i.key;null!==t;){if(t.key===u){if(t.tag===Io){o(e,t.sibling),t=a(t,s),t.pendingProps=i,t.return=e,e=t;break e}o(e,t);break}r(e,t),t=t.sibling}i=ko(i,e.internalContextTag,s),i.return=e,e=i}return l(e);case Eo:e:{if(null!==t){if(t.tag===No){o(e,t.sibling),t=a(t,s),t.type=i.value,t.return=e,e=t;break e}o(e,t)}t=jo(i,e.internalContextTag,s),t.type=i.value,t.return=e,e=t}return l(e);case To:e:{for(u=i.key;null!==t;){if(t.key===u){if(t.tag===Do&&t.stateNode.containerInfo===i.containerInfo&&t.stateNode.implementation===i.implementation){o(e,t.sibling),t=a(t,s),t.pendingProps=i.children||[],t.return=e,e=t;break e}o(e,t);break}r(e,t),t=t.sibling}i=Ao(i,e.internalContextTag,s),i.return=e,e=i}return l(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==t&&t.tag===Lo?(o(e,t.sibling),t=a(t,s),t.pendingProps=i,t.return=e,e=t):(o(e,t),i=Ro(i,e.internalContextTag,s),i.return=e,e=i),l(e);if(xo(i))return v(e,t,i,s);if(re(i))return b(e,t,i,s);if(u&&oe(e,i),void 0===i)switch(e.tag){case Po:case Oo:i=e.type,n("152",i.displayName||i.name||"Component")}return o(e,t)}}function ae(e,t,r,o){function i(e,t){t.updater=a,e.stateNode=t,Yt.set(t,e)}var a={isMounted:oi,enqueueSetState:function(r,n,o){r=Yt.get(r);var i=t(r,!1);Zo(r,n,void 0===o?null:o,i),e(r,i)},enqueueReplaceState:function(r,n,o){r=Yt.get(r);var i=t(r,!1);ei(r,n,void 0===o?null:o,i),e(r,i)},enqueueForceUpdate:function(r,n){r=Yt.get(r);var o=t(r,!1);ti(r,void 0===n?null:n,o),e(r,o)}};return{adoptClassInstance:i,constructClassInstance:function(e,t){var r=e.type,n=$o(e),o=Jo(e),a=o?Qo(e,n):_t;return t=new r(t,a),i(e,t),o&&Xo(e,n,a),t},mountClassInstance:function(e,t){var r=e.alternate,o=e.stateNode,i=o.state||null,s=e.pendingProps;s||n("158");var l=$o(e);o.props=s,o.state=i,o.refs=_t,o.context=Qo(e,l),kn.enableAsyncSubtreeAPI&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=Yo),"function"==typeof o.componentWillMount&&(l=o.state,o.componentWillMount(),l!==o.state&&a.enqueueReplaceState(o,o.state,null),null!==(l=e.updateQueue)&&(o.state=ri(r,e,l,o,i,s,t))),"function"==typeof o.componentDidMount&&(e.effectTag|=qo)},updateClassInstance:function(e,t,i){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var l=t.memoizedProps,u=t.pendingProps;u||null==(u=l)&&n("159");var c=s.context,d=$o(t);if(d=Qo(t,d),"function"!=typeof s.componentWillReceiveProps||l===u&&c===d||(c=s.state,s.componentWillReceiveProps(u,d),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=t.memoizedState,i=null!==t.updateQueue?ri(e,t,t.updateQueue,s,c,u,i):c,!(l!==u||c!==i||ni()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=qo),!1;var f=u;if(null===l||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var p=t.stateNode,h=t.type;f="function"==typeof p.shouldComponentUpdate?p.shouldComponentUpdate(f,i,d):!h.prototype||!h.prototype.isPureReactComponent||(!Et(l,f)||!Et(c,i))}return f?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(u,i,d),"function"==typeof s.componentDidUpdate&&(t.effectTag|=qo)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=qo),r(t,u),o(t,i)),s.props=u,s.state=i,s.context=d,f}}}function se(e,t,r,o,i){function a(e,t,r){s(e,t,r,t.pendingWorkPriority)}function s(e,t,r,n){t.child=null===e?ii(t,t.child,r,n):e.child===t.child?ai(t,t.child,r,n):si(t,t.child,r,n)}function l(e,t){var r=t.ref;null===r||e&&e.ref===r||(t.effectTag|=Li)}function u(e,t,r,n){if(l(e,t),!r)return n&&mi(t,!1),d(e,t);r=t.stateNode,Di.current=t;var o=r.render();return t.effectTag|=Ai,a(e,t,o),t.memoizedState=r.state,t.memoizedProps=r.props,n&&mi(t,!0),t.child}function c(e){var t=e.stateNode;t.pendingContext?hi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hi(e,t.context,!1),g(e,t.containerInfo)}function d(e,t){return li(e,t),t.child}function f(e,t){switch(t.tag){case bi:c(t);break;case vi:pi(t);break;case Ti:g(t,t.stateNode.containerInfo)}return null}var p=e.shouldSetTextContent,h=e.useSyncScheduling,m=e.shouldDeprioritizeSubtree,y=t.pushHostContext,g=t.pushHostContainer,v=r.enterHydrationState,b=r.resetHydrationState,_=r.tryToClaimNextHydratableInstance;e=ae(o,i,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var E=e.adoptClassInstance,T=e.constructClassInstance,w=e.mountClassInstance,S=e.updateClassInstance;return{beginWork:function(e,t,r){if(t.pendingWorkPriority===ki||t.pendingWorkPriority>r)return f(e,t);switch(t.tag){case yi:null!==e&&n("155");var o=t.type,i=t.pendingProps,s=di(t);return s=ci(t,s),o=o(i,s),t.effectTag|=Ai,"object"==typeof o&&null!==o&&"function"==typeof o.render?(t.tag=vi,i=pi(t),E(t,o),w(t,r),t=u(e,t,!0,i)):(t.tag=gi,a(e,t,o),t.memoizedProps=i,t=t.child),t;case gi:e:{if(i=t.type,r=t.pendingProps,o=t.memoizedProps,fi())null===r&&(r=o);else if(null===r||o===r){t=d(e,t);break e}o=di(t),o=ci(t,o),i=i(r,o),t.effectTag|=Ai,a(e,t,i),t.memoizedProps=r,t=t.child}return t;case vi:return i=pi(t),o=void 0,null===e?t.stateNode?n("153"):(T(t,t.pendingProps),w(t,r),o=!0):o=S(e,t,r),u(e,t,o,i);case bi:return c(t),o=t.updateQueue,null!==o?(i=t.memoizedState,o=ui(e,t,o,null,i,null,r),i===o?(b(),t=d(e,t)):(i=o.element,null!==e&&null!==e.child||!v(t)?(b(),a(e,t,i)):(t.effectTag|=xi,t.child=ii(t,t.child,i,r)),t.memoizedState=o,t=t.child)):(b(),t=d(e,t)),t;case _i:y(t),null===e&&_(t),i=t.type;var C=t.memoizedProps;return o=t.pendingProps,null===o&&null===(o=C)&&n("154"),s=null!==e?e.memoizedProps:null,fi()||null!==o&&C!==o?(C=o.children,p(i,o)?C=null:s&&p(i,s)&&(t.effectTag|=Oi),l(e,t),r!==ji&&!h&&m(i,o)?(t.pendingWorkPriority=ji,t=null):(a(e,t,C),t.memoizedProps=o,t=t.child)):t=d(e,t),t;case Ei:return null===e&&_(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case Si:t.tag=wi;case wi:return r=t.pendingProps,fi()?null===r&&null===(r=e&&e.memoizedProps)&&n("154"):null!==r&&t.memoizedProps!==r||(r=t.memoizedProps),i=r.children,o=t.pendingWorkPriority,t.stateNode=null===e?ii(t,t.stateNode,i,o):e.child===t.child?ai(t,t.stateNode,i,o):si(t,t.stateNode,i,o),t.memoizedProps=r,t.stateNode;case Ci:return null;case Ti:e:{if(g(t,t.stateNode.containerInfo),r=t.pendingWorkPriority,i=t.pendingProps,fi())null===i&&null==(i=e&&e.memoizedProps)&&n("154");else if(null===i||t.memoizedProps===i){t=d(e,t);break e}null===e?t.child=si(t,t.child,i,r):a(e,t,i),t.memoizedProps=i,t=t.child}return t;case Ri:e:{if(r=t.pendingProps,fi())null===r&&(r=t.memoizedProps);else if(null===r||t.memoizedProps===r){t=d(e,t);break e}a(e,t,r),t.memoizedProps=r,t=t.child}return t;default:n("156")}},beginFailedWork:function(e,t,r){switch(t.tag){case vi:pi(t);break;case bi:c(t);break;default:n("157")}return t.effectTag|=Pi,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),t.pendingWorkPriority===ki||t.pendingWorkPriority>r?f(e,t):(t.firstEffect=null,t.lastEffect=null,s(e,t,null,r),t.tag===vi&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function le(e,t,r){var o=e.createInstance,i=e.createTextInstance,a=e.appendInitialChild,s=e.finalizeInitialChildren,l=e.prepareUpdate,u=t.getRootHostContainer,c=t.popHostContext,d=t.getHostContext,f=t.popHostContainer,p=r.prepareToHydrateHostInstance,h=r.prepareToHydrateHostTextInstance,m=r.popHydrationState;return{completeWork:function(e,t,r){var y=t.pendingProps;switch(null===y?y=t.memoizedProps:t.pendingWorkPriority===Ji&&r!==Ji||(t.pendingProps=null),t.tag){case Ui:return null;case Bi:return Ni(t),null;case Gi:return f(t),Mi(t),y=t.stateNode,y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),null!==e&&null!==e.child||(m(t),t.effectTag&=~Xi),null;case Hi:c(t),r=u();var g=t.type;if(null!==e&&null!=t.stateNode){var v=e.memoizedProps,b=t.stateNode,_=d();y=l(b,g,v,y,r,_),(t.updateQueue=y)&&(t.effectTag|=$i),e.ref!==t.ref&&(t.effectTag|=Qi)}else{if(!y)return null===t.stateNode&&n("166"),null;if(e=d(),m(t))p(t,r,e)&&(t.effectTag|=$i);else{e=o(g,y,r,e,t);e:for(v=t.child;null!==v;){if(v.tag===Hi||v.tag===Wi)a(e,v.stateNode);else if(v.tag!==Vi&&null!==v.child){v=v.child;continue}if(v===t)break e;for(;null===v.sibling;){if(null===v.return||v.return===t)break e;v=v.return}v=v.sibling}s(e,g,y,r)&&(t.effectTag|=$i),t.stateNode=e}null!==t.ref&&(t.effectTag|=Qi)}return null;case Wi:if(e&&null!=t.stateNode)e.memoizedProps!==y&&(t.effectTag|=$i);else{if("string"!=typeof y)return null===t.stateNode&&n("166"),null;e=u(),r=d(),m(t)?h(t)&&(t.effectTag|=$i):t.stateNode=i(y,e,r,t)}return null;case Ki:(y=t.memoizedProps)||n("165"),t.tag=zi,r=[];e:for((g=t.stateNode)&&(g.return=t);null!==g;){if(g.tag===Hi||g.tag===Wi||g.tag===Vi)n("164");else if(g.tag===qi)r.push(g.type);else if(null!==g.child){g.child.return=g,g=g.child;continue}for(;null===g.sibling;){if(null===g.return||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}return g=y.handler,y=g(y.props,r),t.child=Ii(t,null!==e?e.child:null,y,t.pendingWorkPriority),t.child;case zi:return t.tag=Ki,null;case qi:case Yi:return null;case Vi:return t.effectTag|=$i,f(t),null;case Fi:n("167");default:n("156")}}}}function ue(e){return function(t){try{return e(t)}catch(e){}}}function ce(e,t){function r(e){var r=e.ref;if(null!==r)try{r(null)}catch(r){t(e,r)}}function o(e){return e.tag===oa||e.tag===na||e.tag===aa}function i(e){for(var t=e;;)if(s(t),null!==t.child&&t.tag!==aa)t.child.return=t,t=t.child;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function a(e){for(var t=e,r=!1,o=void 0,a=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&n("160"),r.tag){case oa:o=r.stateNode,a=!1;break e;case na:case aa:o=r.stateNode.containerInfo,a=!0;break e}r=r.return}r=!0}if(t.tag===oa||t.tag===ia)i(t),a?g(o,t.stateNode):y(o,t.stateNode);else if(t.tag===aa?o=t.stateNode.containerInfo:s(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,t.tag===aa&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function s(e){switch("function"==typeof ua&&ua(e),e.tag){case ra:r(e);var n=e.stateNode;if("function"==typeof n.componentWillUnmount)try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(r){t(e,r)}break;case oa:r(e);break;case sa:i(e.stateNode);break;case aa:a(e)}}var l=e.commitMount,u=e.commitUpdate,c=e.resetTextContent,d=e.commitTextUpdate,f=e.appendChild,p=e.appendChildToContainer,h=e.insertBefore,m=e.insertInContainerBefore,y=e.removeChild,g=e.removeChildFromContainer,v=e.getPublicInstance;return{commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(o(t)){var r=t;break e}t=t.return}n("160"),r=void 0}var i=t=void 0;switch(r.tag){case oa:t=r.stateNode,i=!1;break;case na:case aa:t=r.stateNode.containerInfo,i=!0;break;default:n("161")}r.effectTag&pa&&(c(t),r.effectTag&=~pa);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||o(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==oa&&r.tag!==ia;){if(r.effectTag&ca)continue t;if(null===r.child||r.tag===aa)continue t;r.child.return=r,r=r.child}if(!(r.effectTag&ca)){r=r.stateNode;break e}}for(var a=e;;){if(a.tag===oa||a.tag===ia)r?i?m(t,a.stateNode,r):h(t,a.stateNode,r):i?p(t,a.stateNode):f(t,a.stateNode);else if(a.tag!==aa&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){a(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case ra:break;case oa:var r=t.stateNode;if(null!=r){var o=t.memoizedProps;e=null!==e?e.memoizedProps:o;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&u(r,a,i,e,o,t)}break;case ia:null===t.stateNode&&n("162"),r=t.memoizedProps,d(t.stateNode,null!==e?e.memoizedProps:r,r);break;case na:case aa:break;default:n("163")}},commitLifeCycles:function(e,t){switch(t.tag){case ra:var r=t.stateNode;if(t.effectTag&da)if(null===e)r.props=t.memoizedProps,r.state=t.memoizedState,r.componentDidMount();else{var o=e.memoizedProps;e=e.memoizedState,r.props=t.memoizedProps,r.state=t.memoizedState,r.componentDidUpdate(o,e)}t.effectTag&fa&&null!==t.updateQueue&&la(t,t.updateQueue,r);break;case na:e=t.updateQueue,null!==e&&la(t,e,t.child&&t.child.stateNode);break;case oa:r=t.stateNode,null===e&&t.effectTag&da&&l(r,t.type,t.memoizedProps,t);break;case ia:case aa:break;default:n("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case oa:t(v(r));break;default:t(r)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function de(e){function t(e){return e===ga&&n("174"),e}var r=e.getChildHostContext,o=e.getRootHostContext,i=ha(ga),a=ha(ga),s=ha(ga);return{getHostContext:function(){return t(i.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){ma(i,e),ma(a,e),ma(s,e)},popHostContext:function(e){a.current===e&&(ma(i,e),ma(a,e))},pushHostContainer:function(e,t){ya(s,t,e),t=o(t),ya(a,e,e),ya(i,t,e)},pushHostContext:function(e){var n=t(s.current),o=t(i.current);n=r(o,e.type,n),o!==n&&(ya(a,e,e),ya(i,n,e))},resetHostContainer:function(){i.current=ga,s.current=ga}}}function fe(e){function t(e,t){var r=wa();r.stateNode=t,r.return=e,r.effectTag=Ea,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function r(e,t){switch(e.tag){case va:return a(t,e.type,e.pendingProps);case ba:return s(t,e.pendingProps);default:return!1}}function o(e){for(e=e.return;null!==e&&e.tag!==va&&e.tag!==_a;)e=e.return;h=e}var i=e.shouldSetTextContent,a=e.canHydrateInstance,s=e.canHydrateTextInstance,l=e.getNextHydratableSibling,u=e.getFirstHydratableChild,c=e.hydrateInstance,d=e.hydrateTextInstance,f=e.didNotHydrateInstance,p=e.didNotFindHydratableInstance;if(e=e.didNotFindHydratableTextInstance,!(a&&s&&l&&u&&c&&d&&f&&p&&e))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){n("175")},prepareToHydrateHostTextInstance:function(){n("176")},popHydrationState:function(){return!1}};var h=null,m=null,y=!1;return{enterHydrationState:function(e){return m=u(e.stateNode.containerInfo),h=e,y=!0},resetHydrationState:function(){m=h=null,y=!1},tryToClaimNextHydratableInstance:function(e){if(y){var n=m;if(n){if(!r(e,n)){if(!(n=l(n))||!r(e,n))return e.effectTag|=Ta,y=!1,void(h=e);t(h,m)}e.stateNode=n,h=e,m=u(n)}else e.effectTag|=Ta,y=!1,h=e}},prepareToHydrateHostInstance:function(e,t,r){return t=c(e.stateNode,e.type,e.memoizedProps,t,r,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return d(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==h)return!1;if(!y)return o(e),y=!0,!1;var r=e.type;if(e.tag!==va||"head"!==r&&"body"!==r&&!i(r,e.memoizedProps))for(r=m;r;)t(e,r),r=l(r);return o(e),m=h?l(e.stateNode):null,!0}}}function pe(e){function t(){for(;null!==z&&z.current.pendingWorkPriority===xa;){z.isScheduled=!1;var e=z.nextScheduledRoot;if(z.nextScheduledRoot=null,z===q)return q=z=null,W=xa,null;z=e}e=z;for(var t=null,r=xa;null!==e;)e.current.pendingWorkPriority!==xa&&(r===xa||r>e.current.pendingWorkPriority)&&(r=e.current.pendingWorkPriority,t=e),e=e.nextScheduledRoot;null!==t?(W=r,Ca(),$a(),T(),H=ka(t.current,r),t!==oe&&(ne=0,oe=t)):(W=xa,oe=H=null)}function r(r){ee=!0,K=null;var o=r.stateNode;if(o.current===r&&n("177"),W!==Oa&&W!==Pa||ne++,Ra.current=null,r.effectTag>Ma)if(null!==r.lastEffect){r.lastEffect.nextEffect=r;var i=r.firstEffect}else i=r;else i=r.firstEffect;for(I(),V=i;null!==V;){var a=!1,s=void 0;try{for(;null!==V;){var l=V.effectTag;if(l&Ha&&e.resetTextContent(V.stateNode),l&Ka){var u=V.alternate;null!==u&&P(u)}switch(l&~(Wa|Va|Ha|Ka|Ma)){case Fa:k(V),V.effectTag&=~Fa;break;case Ba:k(V),V.effectTag&=~Fa,A(V.alternate,V);break;case Ua:A(V.alternate,V);break;case Ga:te=!0,j(V),te=!1}V=V.nextEffect}}catch(e){a=!0,s=e}a&&(null===V&&n("178"),d(V,s),null!==V&&(V=V.nextEffect))}for(N(),o.current=r,V=i;null!==V;){o=!1,i=void 0;try{for(;null!==V;){var c=V.effectTag;if(c&(Ua|Wa)&&x(V.alternate,V),c&Ka&&O(V),c&Va)switch(a=V,s=void 0,null!==X&&(s=X.get(a),X.delete(a),null==s&&null!==a.alternate&&(a=a.alternate,s=X.get(a),X.delete(a))),null==s&&n("184"),a.tag){case Xa:a.stateNode.componentDidCatch(s.error,{componentStack:s.componentStack});break;case za:null===J&&(J=s.error);break;default:n("157")}var f=V.nextEffect;V.nextEffect=null,V=f}}catch(e){o=!0,i=e}o&&(null===V&&n("178"),d(V,i),null!==V&&(V=V.nextEffect))}ee=!1,"function"==typeof Aa&&Aa(r.stateNode),$&&($.forEach(g),$=null),t()}function o(e){for(;;){var t=R(e.alternate,e,W),r=e.return,n=e.sibling,o=e;if(!(o.pendingWorkPriority!==xa&&o.pendingWorkPriority>W)){for(var i=Qa(o),a=o.child;null!==a;)i=ja(i,a.pendingWorkPriority),a=a.sibling;o.pendingWorkPriority=i}if(null!==t)return t;if(null!==r&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),e.effectTag>Ma&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)),null!==n)return n;if(null===r){K=e;break}e=r}return null}function i(e){var t=S(e.alternate,e,W);return null===t&&(t=o(e)),Ra.current=null,t}function a(e){var t=C(e.alternate,e,W);return null===t&&(t=o(e)),Ra.current=null,t}function s(e){c(Ia,e)}function l(){if(null!==X&&0<X.size&&W===Pa)for(;null!==H;){var e=H;if(null===(H=null!==X&&(X.has(e)||null!==e.alternate&&X.has(e.alternate))?a(H):i(H))&&(null===K&&n("179"),M=Pa,r(K),M=W,null===X||0===X.size||W!==Pa))break}}function u(e,o){if(null!==K?(M=Pa,r(K),l()):null===H&&t(),!(W===xa||W>e)){M=W;e:for(;;){if(W<=Pa)for(;null!==H&&!(null===(H=i(H))&&(null===K&&n("179"),M=Pa,r(K),M=W,l(),W===xa||W>e||W>Pa)););else if(null!==o)for(;null!==H&&!U;)if(1<o.timeRemaining()){if(null===(H=i(H)))if(null===K&&n("179"),1<o.timeRemaining()){if(M=Pa,r(K),M=W,l(),W===xa||W>e||W<La)break}else U=!0}else U=!0;switch(W){case Oa:case Pa:if(W<=e)continue e;break e;case La:case Da:case Ia:if(null===o)break e;if(!U&&W<=e)continue e;break e;case xa:break e;default:n("181")}}}}function c(e,t){F&&n("182"),F=!0;var r=M,o=!1,i=null;try{u(e,t)}catch(e){o=!0,i=e}for(;o;){if(Z){J=i;break}var l=H;if(null===l)Z=!0;else{var c=d(l,i);if(null===c&&n("183"),!Z){try{o=c,i=e,c=t;for(var f=o;null!==l;){switch(l.tag){case Xa:Sa(l);break;case qa:E(l);break;case za:_(l);break;case Ya:_(l)}if(l===f||l.alternate===f)break;l=l.return}H=a(o),u(i,c)}catch(e){o=!0,i=e;continue}break}}}if(M=r,null!==t&&(Y=!1),W>Pa&&!Y&&(L(s),Y=!0),e=J,Z=U=F=!1,oe=Q=X=J=null,ne=0,null!==e)throw e}function d(e,t){var r=Ra.current=null,n=!1,o=!1,i=null;if(e.tag===za)r=e,p(e)&&(Z=!0);else for(var a=e.return;null!==a&&null===r;){if(a.tag===Xa?"function"==typeof a.stateNode.componentDidCatch&&(n=!0,i=f(a),r=a,o=!0):a.tag===za&&(r=a),p(a)){if(te||null!==$&&($.has(a)||null!==a.alternate&&$.has(a.alternate)))return null;r=null,o=!1}a=a.return}if(null!==r){null===Q&&(Q=new Set),Q.add(r);var s="";a=e;do{e:switch(a.tag){case po:case ho:case mo:case yo:var l=a._debugOwner,u=a._debugSource,c=f(a),d=null;l&&(d=f(l)),l=u,c="\n    in "+(c||"Unknown")+(l?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":d?" (created by "+d+")":"");break e;default:c=""}s+=c,a=a.return}while(a);a=s,e=f(e),null===X&&(X=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:n?r.stateNode:null,errorBoundaryFound:n,errorBoundaryName:i,willRetry:o},X.set(r,t);try{console.error(t.error)}catch(e){console.error(e)}return ee?(null===$&&($=new Set),$.add(r)):g(r),r}return null===J&&(J=t),null}function p(e){return null!==Q&&(Q.has(e)||null!==e.alternate&&Q.has(e.alternate))}function h(e,t){return m(e,t,!1)}function m(e,t){ne>re&&(Z=!0,n("185")),!F&&t<=W&&(H=null);for(var r=!0;null!==e&&r;){if(r=!1,(e.pendingWorkPriority===xa||e.pendingWorkPriority>t)&&(r=!0,e.pendingWorkPriority=t),null!==e.alternate&&(e.alternate.pendingWorkPriority===xa||e.alternate.pendingWorkPriority>t)&&(r=!0,e.alternate.pendingWorkPriority=t),null===e.return){if(e.tag!==za)break;var o=e.stateNode;if(t===xa||o.isScheduled||(o.isScheduled=!0,q?q.nextScheduledRoot=o:z=o,q=o),!F)switch(t){case Oa:G?c(Oa,null):c(Pa,null);break;case Pa:B||n("186");break;default:Y||(L(s),Y=!0)}}e=e.return}}function y(e,t){var r=M;return r===xa&&(r=!D||e.internalContextTag&Na||t?Da:Oa),r===Oa&&(F||B)?Pa:r}function g(e){m(e,Pa,!0)}var v=de(e),b=fe(e),_=v.popHostContainer,E=v.popHostContext,T=v.resetHostContainer,w=se(e,v,b,h,y),S=w.beginWork,C=w.beginFailedWork,R=le(e,v,b).completeWork;v=ce(e,d);var k=v.commitPlacement,j=v.commitDeletion,A=v.commitWork,x=v.commitLifeCycles,O=v.commitAttachRef,P=v.commitDetachRef,L=e.scheduleDeferredCallback,D=e.useSyncScheduling,I=e.prepareForCommit,N=e.resetAfterCommit,M=xa,F=!1,U=!1,B=!1,G=!1,H=null,W=xa,V=null,K=null,z=null,q=null,Y=!1,X=null,Q=null,$=null,J=null,Z=!1,ee=!1,te=!1,re=1e3,ne=0,oe=null;return{scheduleUpdate:h,getPriorityContext:y,batchedUpdates:function(e,t){var r=B;B=!0;try{return e(t)}finally{B=r,F||B||c(Pa,null)}},unbatchedUpdates:function(e){var t=G,r=B;G=B,B=!1;try{return e()}finally{B=r,G=t}},flushSync:function(e){var t=B,r=M;B=!0,M=Oa;try{return e()}finally{B=t,M=r,F&&n("187"),c(Pa,null)}},deferredUpdates:function(e){var t=M;M=Da;try{return e()}finally{M=t}}}}function he(){n("196")}function me(e){return e?(e=Yt.get(e),"number"==typeof e.tag?he(e):e._processChildContext(e._context)):_t}function ye(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ge(e,t){var r=ye(e);e=0;for(var n;r;){if(r.nodeType===is){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ye(r)}}function ve(){return!as&&yt.canUseDOM&&(as="textContent"in document.documentElement?"textContent":"innerText"),as}function be(){n("211")}function _e(){n("212")}function Ee(e){if(null==e)return null;if(e.nodeType===ds)return e;var t=Yt.get(e);if(t)return"number"==typeof t.tag?be(t):_e(t);"function"==typeof e.render?n("188"):n("213",Object.keys(e))}function Te(e){if(void 0!==e._hostParent)return e._hostParent;if("number"==typeof e.tag){do{e=e.return}while(e&&e.tag!==fs);if(e)return e}return null}function we(e,t){for(var r=0,n=e;n;n=Te(n))r++;n=0;for(var o=t;o;o=Te(o))n++;for(;0<r-n;)e=Te(e),r--;for(;0<n-r;)t=Te(t),n--;for(;r--;){if(e===t||e===t.alternate)return e;e=Te(e),t=Te(t)}return null}function Se(e,t,r){(t=hs(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function Ce(e){e&&e.dispatchConfig.phasedRegistrationNames&&ps.traverseTwoPhase(e._targetInst,Se,e)}function Re(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?ps.getParentInstance(t):null,ps.traverseTwoPhase(t,Se,e)}}function ke(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=hs(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function je(e){e&&e.dispatchConfig.registrationName&&ke(e._targetInst,null,e)}function Ae(e,t,r,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var o in e)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(r):"target"===o?this.target=n:this[o]=r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?bt.thatReturnsTrue:bt.thatReturnsFalse,this.isPropagationStopped=bt.thatReturnsFalse,this}function xe(e,t,r,n){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)}function Oe(e){e instanceof this||n("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Pe(e){e.eventPool=[],e.getPooled=xe,e.release=Oe}function Le(e,t,r,n){return Ae.call(this,e,t,r,n)}function De(e,t,r,n){return Ae.call(this,e,t,r,n)}function Ie(e,t){switch(e){case"topKeyUp":return-1!==Es.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Ne(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function Me(e,t){switch(e){case"topCompositionEnd":return Ne(t);case"topKeyPress":return 32!==t.which?null:(xs=!0,js);case"topTextInput":return e=t.data,e===js&&xs?null:e;default:return null}}function Fe(e,t){if(Os)return"topCompositionEnd"===e||!Ts&&Ie(e,t)?(e=vs.getData(),vs.reset(),Os=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return ks?null:t.data;default:return null}}function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ls[e.type]:"textarea"===t}function Be(e,t,r){return e=Ae.getPooled(Ds.change,e,t,r),e.type="change",dr.enqueueStateRestore(r),ms.accumulateTwoPhaseDispatches(e),e}function Ge(e){_r.enqueueEvents(e),_r.processEventQueue(!1)}function He(e){var t=qt.getNodeFromInstance(e);if(Jr.updateValueIfChanged(t))return e}function We(e,t){if("topChange"===e)return t}function Ve(){Is&&(Is.detachEvent("onpropertychange",Ke),Ns=Is=null)}function Ke(e){"value"===e.propertyName&&He(Ns)&&(e=Be(Ns,e,w(e)),pr.batchedUpdates(Ge,e))}function ze(e,t,r){"topFocus"===e?(Ve(),Is=t,Ns=r,Is.attachEvent("onpropertychange",Ke)):"topBlur"===e&&Ve()}function qe(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return He(Ns)}function Ye(e,t){if("topClick"===e)return He(t)}function Xe(e,t){if("topInput"===e||"topChange"===e)return He(t)}function Qe(e,t,r,n){return Ae.call(this,e,t,r,n)}function $e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Us[e])&&!!t[e]}function Je(){return $e}function Ze(e,t,r,n){return Ae.call(this,e,t,r,n)}function et(e,t){if(Ys||null==Ks||Ks!==St())return null;var r=Ks;return"selectionStart"in r&&cs.hasSelectionCapabilities(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?(r=window.getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}):r=void 0,qs&&Et(qs,r)?null:(qs=r,e=Ae.getPooled(Vs.select,zs,e,t),e.type="select",e.target=Ks,ms.accumulateTwoPhaseDispatches(e),e)}function tt(e,t,r,n){return Ae.call(this,e,t,r,n)}function rt(e,t,r,n){return Ae.call(this,e,t,r,n)}function nt(e,t,r,n){return Ae.call(this,e,t,r,n)}function ot(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function it(e,t,r,n){return Ae.call(this,e,t,r,n)}function at(e,t,r,n){return Ae.call(this,e,t,r,n)}function st(e,t,r,n){return Ae.call(this,e,t,r,n)}function lt(e,t,r,n){return Ae.call(this,e,t,r,n)}function ut(e,t,r,n){return Ae.call(this,e,t,r,n)}function ct(e){return e[1].toUpperCase()}function dt(e){return!(!e||e.nodeType!==pl&&e.nodeType!==yl&&e.nodeType!==gl&&(e.nodeType!==ml||" react-mount-point-unstable "!==e.nodeValue))}function ft(e){return!(!(e=e?e.nodeType===yl?e.documentElement:e.firstChild:null)||e.nodeType!==pl||!e.hasAttribute(vl))}function pt(e,t,r,o,i){dt(r)||n("200");var a=r._reactRootContainer;if(a)Il.updateContainer(t,a,e,i);else{if(!o&&!ft(r))for(o=void 0;o=r.lastChild;)r.removeChild(o);var s=Il.createContainer(r);a=r._reactRootContainer=s,Il.unbatchedUpdates(function(){Il.updateContainer(t,s,e,i)})}return Il.getPublicRootInstance(a)}function ht(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return dt(t)||n("200"),bo.createPortal(e,t,null,r)}var mt=r(/*! react */"./node_modules/react/index.js");r(/*! fbjs/lib/invariant */"./node_modules/fbjs/lib/invariant.js");var yt=r(/*! fbjs/lib/ExecutionEnvironment */"./node_modules/fbjs/lib/ExecutionEnvironment.js"),gt=r(/*! object-assign */"./node_modules/object-assign/index.js"),vt=r(/*! fbjs/lib/EventListener */"./node_modules/fbjs/lib/EventListener.js"),bt=r(/*! fbjs/lib/emptyFunction */"./node_modules/fbjs/lib/emptyFunction.js"),_t=r(/*! fbjs/lib/emptyObject */"./node_modules/fbjs/lib/emptyObject.js"),Et=r(/*! fbjs/lib/shallowEqual */"./node_modules/fbjs/lib/shallowEqual.js"),Tt=r(/*! fbjs/lib/containsNode */"./node_modules/fbjs/lib/containsNode.js"),wt=r(/*! fbjs/lib/focusNode */"./node_modules/fbjs/lib/focusNode.js"),St=r(/*! fbjs/lib/getActiveElement */"./node_modules/fbjs/lib/getActiveElement.js");mt||n("227");var Ct,Rt,kt={Namespaces:{html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},getIntrinsicNamespace:o,getChildNamespace:function(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?o(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}},jt=null,At={},xt={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){jt&&n("101"),jt=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var o=e[t];At.hasOwnProperty(t)&&At[t]===o||(At[t]&&n("102",t),At[t]=o,r=!0)}r&&i()}},Ot=xt,Pt={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},Lt={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Lt,r=e.Properties||{},o=e.DOMAttributeNamespaces||{},i=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var a in r){Dt.properties.hasOwnProperty(a)&&n("48",a);var l=a.toLowerCase(),u=r[a];l={attributeName:l,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(u,t.MUST_USE_PROPERTY),hasBooleanValue:s(u,t.HAS_BOOLEAN_VALUE),hasNumericValue:s(u,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(u,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(u,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(u,t.HAS_STRING_BOOLEAN_VALUE)},1>=l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue||n("50",a),i.hasOwnProperty(a)&&(l.attributeName=i[a]),o.hasOwnProperty(a)&&(l.attributeNamespace=o[a]),e.hasOwnProperty(a)&&(l.mutationMethod=e[a]),Dt.properties[a]=l}}},Dt={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ATTRIBUTE_NAME_CHAR:":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},shouldSetAttribute:function(e,t){if(Dt.isReservedProp(e)||!("o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Dt.shouldAttributeAcceptBooleanValue(e);case"undefined":case"number":case"string":case"object":return!0;default:return!1}},getPropertyInfo:function(e){return Dt.properties.hasOwnProperty(e)?Dt.properties[e]:null},shouldAttributeAcceptBooleanValue:function(e){if(Dt.isReservedProp(e))return!0;var t=Dt.getPropertyInfo(e);return t?t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:"data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e},isReservedProp:function(e){return Pt.hasOwnProperty(e)},injection:Lt},It=Dt,Nt={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},Mt={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},Ft=Nt.HostComponent,Ut=Nt.HostText,Bt=Mt.ELEMENT_NODE,Gt=Mt.COMMENT_NODE,Ht=It.ID_ATTRIBUTE_NAME,Wt={hasCachedChildNodes:1},Vt=Math.random().toString(36).slice(2),Kt="__reactInternalInstance$"+Vt,zt="__reactEventHandlers$"+Vt,qt={getClosestInstanceFromNode:d,getInstanceFromNode:function(e){var t=e[Kt];return t?t.tag===Ft||t.tag===Ut?t:t._hostNode===e?t:null:(t=d(e),null!=t&&t._hostNode===e?t:null)},getNodeFromInstance:function(e){if(e.tag===Ft||e.tag===Ut)return e.stateNode;if(void 0===e._hostNode&&n("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||n("34"),e=e._hostParent;for(;t.length;e=t.pop())c(e,e._hostNode);return e._hostNode},precacheChildNodes:c,precacheNode:u,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[Kt],e._hostNode=null)},precacheFiberNode:function(e,t){t[Kt]=e},getFiberCurrentPropsFromNode:function(e){return e[zt]||null},updateFiberProps:function(e,t){e[zt]=t}},Yt={remove:function(e){e._reactInternalFiber=void 0},get:function(e){return e._reactInternalFiber},has:function(e){return void 0!==e._reactInternalFiber},set:function(e,t){e._reactInternalFiber=t}},Xt={ReactCurrentOwner:mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},Qt={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},$t=Nt.HostComponent,Jt=Nt.HostRoot,Zt=Nt.HostPortal,er=Nt.HostText,tr=Qt.NoEffect,rr=Qt.Placement,nr={isFiberMounted:function(e){return 2===p(e)},isMounted:function(e){return!!(e=Yt.get(e))&&2===p(e)},findCurrentFiberUsingSlowPath:m,findCurrentHostFiber:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===$t||t.tag===er)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null},findCurrentHostFiberWithNoPortals:function(e){if(!(e=m(e)))return null;for(var t=e;;){if(t.tag===$t||t.tag===er)return t;if(t.child&&t.tag!==Zt)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}},or={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&n("197"),y=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,r,n,o,i,a,s,l){y.apply(or,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,n,o,i,a,s,l){if(or.invokeGuardedCallback.apply(this,arguments),or.hasCaughtError()){var u=or.clearCaughtError();or._hasRethrowError||(or._hasRethrowError=!0,or._rethrowError=u)}},rethrowCaughtError:function(){return g.apply(or,arguments)},hasCaughtError:function(){return or._hasCaughtError},clearCaughtError:function(){if(or._hasCaughtError){var e=or._caughtError;return or._caughtError=null,or._hasCaughtError=!1,e}n("198")}},ir=or,ar={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,r=e._dispatchInstances;return Array.isArray(t)&&n("103"),e.currentTarget=t?ar.getNodeFromInstance(r):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t},executeDispatchesInOrder:function(e,t){var r=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(r))for(var o=0;o<r.length&&!e.isPropagationStopped();o++)v(e,t,r[o],n[o]);else r&&v(e,t,r,n);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){e:{var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,r[n])){t=r[n];break e}}else if(t&&t(e,r)){t=r;break e}t=null}return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getFiberCurrentPropsFromNode:function(e){return Ct.getFiberCurrentPropsFromNode(e)},getInstanceFromNode:function(e){return Ct.getInstanceFromNode(e)},getNodeFromInstance:function(e){return Ct.getNodeFromInstance(e)},injection:{injectComponentTree:function(e){Ct=e}}},sr=ar,lr=null,ur=null,cr=null,dr={injection:{injectFiberControlledHostComponent:function(e){lr=e}},enqueueStateRestore:function(e){ur?cr?cr.push(e):cr=[e]:ur=e},restoreStateIfNeeded:function(){if(ur){var e=ur,t=cr;if(cr=ur=null,b(e),t)for(e=0;e<t.length;e++)b(t[e])}}},fr=!1,pr={batchedUpdates:function(e,t){if(fr)return _(T,e,t);fr=!0;try{return _(T,e,t)}finally{fr=!1,dr.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(e){_=e},injectFiberBatchedUpdates:function(e){E=e}}},hr=Mt.TEXT_NODE,mr=Nt.HostRoot,yr=[],gr={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(e){gr._handleTopLevel=e},setEnabled:function(e){gr._enabled=!!e},isEnabled:function(){return gr._enabled},trapBubbledEvent:function(e,t,r){return r?vt.listen(r,t,gr.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,r){return r?vt.capture(r,t,gr.dispatchEvent.bind(null,e)):null},dispatchEvent:function(e,t){if(gr._enabled){var r=w(t);if(r=qt.getClosestInstanceFromNode(r),null===r||"number"!=typeof r.tag||nr.isFiberMounted(r)||(r=null),yr.length){var n=yr.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{pr.batchedUpdates(S,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>yr.length&&yr.push(e)}}}},vr=gr,br=null,_r={injection:{injectEventPluginOrder:Ot.injectEventPluginOrder,injectEventPluginsByName:Ot.injectEventPluginsByName},getListener:function(e,t){if("number"==typeof e.tag){var r=e.stateNode;if(!r)return null;var o=sr.getFiberCurrentPropsFromNode(r);if(!o)return null;if(r=o[t],x(t,e.type,o))return null}else{if("string"==typeof(o=e._currentElement)||"number"==typeof o||!e._rootNodeID)return null;if(e=o.props,r=e[t],x(t,o.type,e))return null}return r&&"function"!=typeof r&&n("231",t,typeof r),r},extractEvents:function(e,t,r,n){for(var o,i=Ot.plugins,a=0;a<i.length;a++){var s=i[a];s&&(s=s.extractEvents(e,t,r,n))&&(o=C(o,s))}return o},enqueueEvents:function(e){e&&(br=C(br,e))},processEventQueue:function(e){var t=br;br=null,e?R(t,j):R(t,A),br&&n("95"),ir.rethrowCaughtError()}};yt.canUseDOM&&(Rt=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Er={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionend:P("Transition","TransitionEnd")},Tr={},wr={};yt.canUseDOM&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Sr={topAbort:"abort",topAnimationEnd:L("animationend")||"animationend",topAnimationIteration:L("animationiteration")||"animationiteration",topAnimationStart:L("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:L("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Cr={},Rr=0,kr="_reactListenersID"+(""+Math.random()).slice(2),jr=gt({},{handleTopLevel:function(e,t,r,n){e=_r.extractEvents(e,t,r,n),_r.enqueueEvents(e),_r.processEventQueue(!1)}},{setEnabled:function(e){vr&&vr.setEnabled(e)},isEnabled:function(){return!(!vr||!vr.isEnabled())},listenTo:function(e,t){var r=D(t);e=Ot.registrationNameDependencies[e];for(var n=0;n<e.length;n++){var o=e[n];r.hasOwnProperty(o)&&r[o]||("topWheel"===o?O("wheel")?vr.trapBubbledEvent("topWheel","wheel",t):O("mousewheel")?vr.trapBubbledEvent("topWheel","mousewheel",t):vr.trapBubbledEvent("topWheel","DOMMouseScroll",t):"topScroll"===o?vr.trapCapturedEvent("topScroll","scroll",t):"topFocus"===o||"topBlur"===o?(vr.trapCapturedEvent("topFocus","focus",t),vr.trapCapturedEvent("topBlur","blur",t),r.topBlur=!0,r.topFocus=!0):"topCancel"===o?(O("cancel",!0)&&vr.trapCapturedEvent("topCancel","cancel",t),r.topCancel=!0):"topClose"===o?(O("close",!0)&&vr.trapCapturedEvent("topClose","close",t),r.topClose=!0):Sr.hasOwnProperty(o)&&vr.trapBubbledEvent(o,Sr[o],t),r[o]=!0)}},isListeningToAllDependencies:function(e,t){t=D(t),e=Ot.registrationNameDependencies[e];for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n)||!t[n])return!1}return!0},trapBubbledEvent:function(e,t,r){return vr.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return vr.trapCapturedEvent(e,t,r)}}),Ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xr=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){xr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});var Or={isUnitlessNumber:Ar,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},Pr=Or.isUnitlessNumber,Lr=!1;if(yt.canUseDOM){var Dr=document.createElement("div").style;try{Dr.font=""}catch(e){Lr=!0}}var Ir,Nr={createDangerousStringForStyles:function(){},setValueForStyles:function(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=r,i=t[r];if(o=null==i||"boolean"==typeof i||""===i?"":n||"number"!=typeof i||0===i||Pr.hasOwnProperty(o)&&Pr[o]?(""+i).trim():i+"px","float"===r&&(r="cssFloat"),n)e.setProperty(r,o);else if(o)e[r]=o;else if(n=Lr&&Or.shorthandPropertyExpansions[r])for(var a in n)e[a]="";else e[r]=""}}},Mr=new RegExp("^["+It.ATTRIBUTE_NAME_START_CHAR+"]["+It.ATTRIBUTE_NAME_CHAR+"]*$"),Fr={},Ur={},Br={setAttributeForID:function(e,t){e.setAttribute(It.ID_ATTRIBUTE_NAME,t)},setAttributeForRoot:function(e){e.setAttribute(It.ROOT_ATTRIBUTE_NAME,"")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(e,t,r){var n=It.getPropertyInfo(t);if(n&&It.shouldSetAttribute(t,r)){var o=n.mutationMethod;o?o(e,r):null==r||n.hasBooleanValue&&!r||n.hasNumericValue&&isNaN(r)||n.hasPositiveNumericValue&&1>r||n.hasOverloadedBooleanValue&&!1===r?Br.deleteValueForProperty(e,t):n.mustUseProperty?e[n.propertyName]=r:(t=n.attributeName,(o=n.attributeNamespace)?e.setAttributeNS(o,t,""+r):n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===r?e.setAttribute(t,""):e.setAttribute(t,""+r))}else Br.setValueForAttribute(e,t,It.shouldSetAttribute(t,r)?r:null)},setValueForAttribute:function(e,t,r){I(t)&&(null==r?e.removeAttribute(t):e.setAttribute(t,""+r))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var r=It.getPropertyInfo(t);r?(t=r.mutationMethod)?t(e,void 0):r.mustUseProperty?e[r.propertyName]=!r.hasBooleanValue&&"":e.removeAttribute(r.attributeName):e.removeAttribute(t)}},Gr=Br,Hr=Xt.ReactDebugCurrentFrame,Wr={current:null,phase:null,resetCurrentFiber:function(){Hr.getCurrentStack=null,Wr.current=null,Wr.phase=null},setCurrentFiber:function(e,t){Hr.getCurrentStack=N,Wr.current=e,Wr.phase=t},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:N},Vr=Wr,Kr={getHostProps:function(e,t){var r=t.value,n=t.checked;return gt({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=n?n:e._wrapperState.initialChecked})},initWrapperState:function(e,t){var r=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}},updateWrapper:function(e,t){var r=t.checked;null!=r&&Gr.setValueForProperty(e,"checked",r||!1),r=t.value,null!=r?0===r&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(r!=t||r==t&&e.value!=r)&&(e.value=""+r)):e.value!==""+r&&(e.value=""+r):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))},postMountWrapper:function(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)},restoreControlledState:function(e,t){Kr.updateWrapper(e,t);var r=t.name;if("radio"===t.type&&null!=r){for(t=e;t.parentNode;)t=t.parentNode;for(r=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var i=qt.getFiberCurrentPropsFromNode(o);i||n("90"),Kr.updateWrapper(o,i)}}}}},zr=Kr,qr={validateProps:function(){},postMountWrapper:function(e,t){null!=t.value&&e.setAttribute("value",t.value)},getHostProps:function(e,t){return e=gt({children:void 0},t),(t=M(t.children))&&(e.children=t),e}},Yr={getHostProps:function(e,t){return gt({},t,{value:void 0})},initWrapperState:function(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}},postMountWrapper:function(e,t){e.multiple=!!t.multiple;var r=t.value;null!=r?F(e,!!t.multiple,r):null!=t.defaultValue&&F(e,!!t.multiple,t.defaultValue)},postUpdateWrapper:function(e,t){e._wrapperState.initialValue=void 0;var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var n=t.value;null!=n?F(e,!!t.multiple,n):r!==!!t.multiple&&(null!=t.defaultValue?F(e,!!t.multiple,t.defaultValue):F(e,!!t.multiple,t.multiple?[]:""))},restoreControlledState:function(e,t){var r=t.value;null!=r&&F(e,!!t.multiple,r)}},Xr={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&n("91"),gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})},initWrapperState:function(e,t){var r=t.value,o=r;null==r&&(r=t.defaultValue,t=t.children,null!=t&&(null!=r&&n("92"),Array.isArray(t)&&(1>=t.length||n("93"),t=t[0]),r=""+t),null==r&&(r=""),o=r),e._wrapperState={initialValue:""+o}},updateWrapper:function(e,t){var r=t.value;null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)},restoreControlledState:function(e,t){Xr.updateWrapper(e,t)}},Qr=Xr,$r=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Jr={_getTrackerFromNode:function(e){return e._valueTracker},track:function(e){e._valueTracker||(e._valueTracker=G(e))},updateValueIfChanged:function(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=B(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)},stopTracking:function(e){(e=e._valueTracker)&&e.stopTracking()}},Zr=kt.Namespaces,en=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if(e.namespaceURI!==Zr.svg||"innerHTML"in e)e.innerHTML=t;else for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+t+"</svg>",t=Ir.firstChild;t.firstChild;)e.appendChild(t.firstChild)}),tn=/["'&<>]/,rn=Mt.TEXT_NODE;yt.canUseDOM&&("textContent"in document.documentElement||(W=function(e,t){if(e.nodeType===rn)e.nodeValue=t;else{if("boolean"==typeof t||"number"==typeof t)t=""+t;else{t=""+t;var r=tn.exec(t);if(r){var n,o="",i=0;for(n=r.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==n&&(o+=t.substring(i,n)),i=n+1,o+=r}t=i!==n?o+t.substring(i,n):o}}en(e,t)}}));var nn=W,on=(Vr.getCurrentFiberOwnerName,Mt.DOCUMENT_NODE),an=Mt.DOCUMENT_FRAGMENT_NODE,sn=jr.listenTo,ln=Ot.registrationNameModules,un=kt.Namespaces.html,cn=kt.getIntrinsicNamespace,dn={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},fn={createElement:function(e,t,r,n){return r=r.nodeType===on?r:r.ownerDocument,n===un&&(n=cn(e)),n===un?"script"===e?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(n,e),e},createTextNode:function(e,t){return(t.nodeType===on?t:t.ownerDocument).createTextNode(e)},setInitialProperties:function(e,t,r,n){var o=H(t,r);switch(t){case"iframe":case"object":jr.trapBubbledEvent("topLoad","load",e);var i=r;break;case"video":case"audio":for(i in dn)dn.hasOwnProperty(i)&&jr.trapBubbledEvent(i,dn[i],e);i=r;break;case"source":jr.trapBubbledEvent("topError","error",e),i=r;break;case"img":case"image":jr.trapBubbledEvent("topError","error",e),jr.trapBubbledEvent("topLoad","load",e),i=r;break;case"form":jr.trapBubbledEvent("topReset","reset",e),jr.trapBubbledEvent("topSubmit","submit",e),i=r;break;case"details":jr.trapBubbledEvent("topToggle","toggle",e),i=r;break;case"input":zr.initWrapperState(e,r),i=zr.getHostProps(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange");break;case"option":qr.validateProps(e,r),i=qr.getHostProps(e,r);break;case"select":Yr.initWrapperState(e,r),i=Yr.getHostProps(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange");break;case"textarea":Qr.initWrapperState(e,r),i=Qr.getHostProps(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(n,"onChange");break;default:i=r}U(t,i);var a,s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?Nr.setValueForStyles(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&en(e,l):"children"===a?"string"==typeof l?nn(e,l):"number"==typeof l&&nn(e,""+l):"suppressContentEditableWarning"!==a&&(ln.hasOwnProperty(a)?null!=l&&V(n,a):o?Gr.setValueForAttribute(e,a,l):null!=l&&Gr.setValueForProperty(e,a,l))}switch(t){case"input":Jr.track(e),zr.postMountWrapper(e,r);break;case"textarea":Jr.track(e),Qr.postMountWrapper(e,r);break;case"option":qr.postMountWrapper(e,r);break;case"select":Yr.postMountWrapper(e,r);break;default:"function"==typeof i.onClick&&(e.onclick=bt)}},diffProperties:function(e,t,r,n,o){var i=null;switch(t){case"input":r=zr.getHostProps(e,r),n=zr.getHostProps(e,n),i=[];break;case"option":r=qr.getHostProps(e,r),n=qr.getHostProps(e,n),i=[];break;case"select":r=Yr.getHostProps(e,r),n=Yr.getHostProps(e,n),i=[];break;case"textarea":r=Qr.getHostProps(e,r),n=Qr.getHostProps(e,n),i=[];break;default:"function"!=typeof r.onClick&&"function"==typeof n.onClick&&(e.onclick=bt)}U(t,n);var a,s;e=null;for(a in r)if(!n.hasOwnProperty(a)&&r.hasOwnProperty(a)&&null!=r[a])if("style"===a)for(s in t=r[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&(ln.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in n){var l=n[a];if(t=null!=r?r[a]:void 0,n.hasOwnProperty(a)&&l!==t&&(null!=l||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in l)l.hasOwnProperty(s)&&t[s]!==l[s]&&(e||(e={}),e[s]=l[s])}else e||(i||(i=[]),i.push(a,e)),e=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,t=t?t.__html:void 0,null!=l&&t!==l&&(i=i||[]).push(a,""+l)):"children"===a?t===l||"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&(ln.hasOwnProperty(a)?(null!=l&&V(o,a),i||t===l||(i=[])):(i=i||[]).push(a,l))}return e&&(i=i||[]).push("style",e),i},updateProperties:function(e,t,r,n,o){H(r,n),n=H(r,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?Nr.setValueForStyles(e,s):"dangerouslySetInnerHTML"===a?en(e,s):"children"===a?nn(e,s):n?null!=s?Gr.setValueForAttribute(e,a,s):Gr.deleteValueForAttribute(e,a):null!=s?Gr.setValueForProperty(e,a,s):Gr.deleteValueForProperty(e,a)}switch(r){case"input":zr.updateWrapper(e,o),Jr.updateValueIfChanged(e);break;case"textarea":Qr.updateWrapper(e,o);break;case"select":Yr.postUpdateWrapper(e,o)}},diffHydratedProperties:function(e,t,r,n,o){switch(t){case"iframe":case"object":jr.trapBubbledEvent("topLoad","load",e);break;case"video":case"audio":for(var i in dn)dn.hasOwnProperty(i)&&jr.trapBubbledEvent(i,dn[i],e);break;case"source":jr.trapBubbledEvent("topError","error",e);break;case"img":case"image":jr.trapBubbledEvent("topError","error",e),jr.trapBubbledEvent("topLoad","load",e);break;case"form":jr.trapBubbledEvent("topReset","reset",e),jr.trapBubbledEvent("topSubmit","submit",e);break;case"details":jr.trapBubbledEvent("topToggle","toggle",e);break;case"input":zr.initWrapperState(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange");break;case"option":qr.validateProps(e,r);break;case"select":Yr.initWrapperState(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange");break;case"textarea":Qr.initWrapperState(e,r),jr.trapBubbledEvent("topInvalid","invalid",e),V(o,"onChange")}U(t,r),n=null;for(var a in r)r.hasOwnProperty(a)&&(i=r[a],"children"===a?"string"==typeof i?e.textContent!==i&&(n=["children",i]):"number"==typeof i&&e.textContent!==""+i&&(n=["children",""+i]):ln.hasOwnProperty(a)&&null!=i&&V(o,a));switch(t){case"input":Jr.track(e),zr.postMountWrapper(e,r);break;case"textarea":Jr.track(e),Qr.postMountWrapper(e,r);break;case"select":case"option":break;default:"function"==typeof r.onClick&&(e.onclick=bt)}return n},diffHydratedText:function(e,t){return e.nodeValue!==t},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":zr.restoreControlledState(e,r);break;case"textarea":Qr.restoreControlledState(e,r);break;case"select":Yr.restoreControlledState(e,r)}}},pn=void 0;if(yt.canUseDOM)if("function"!=typeof requestIdleCallback){var hn=null,mn=null,yn=!1,gn=!1,vn=0,bn=33,_n=33,En={timeRemaining:"object"==typeof performance&&"function"==typeof performance.now?function(){return vn-performance.now()}:function(){return vn-Date.now()}},Tn="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){e.source===window&&e.data===Tn&&(yn=!1,e=mn,mn=null,null!==e&&e(En))},!1);var wn=function(e){gn=!1;var t=e-vn+_n;t<_n&&bn<_n?(8>t&&(t=8),_n=t<bn?bn:t):bn=t,vn=e+_n,yn||(yn=!0,window.postMessage(Tn,"*")),t=hn,hn=null,null!==t&&t(e)};pn=function(e){return mn=e,gn||(gn=!0,requestAnimationFrame(wn)),0}}else pn=requestIdleCallback;else pn=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})}),0};var Sn,Cn,Rn={rIC:pn},kn={enableAsyncSubtreeAPI:!0},jn={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},An=Qt.Callback,xn=jn.NoWork,On=jn.SynchronousPriority,Pn=jn.TaskPriority,Ln=Nt.ClassComponent,Dn=Nt.HostRoot,In=void 0,Nn=void 0,Mn={addUpdate:function(e,t,r,n){X(e,{priorityLevel:n,partialState:t,callback:r,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(e,t,r,n){X(e,{priorityLevel:n,partialState:t,callback:r,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(e,t,r){X(e,{priorityLevel:r,partialState:null,callback:t,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(e){var t=e.updateQueue;return null===t||e.tag!==Ln&&e.tag!==Dn?xn:null!==t.first?t.first.priorityLevel:xn},addTopLevelUpdate:function(e,t,r,n){var o=null===t.element;t={priorityLevel:n,partialState:t,callback:r,isReplace:!1,isForced:!1,isTopLevelUnmount:o,next:null},e=X(e,t),o&&(o=In,r=Nn,null!==o&&null!==t.next&&(t.next=null,o.last=t),null!==r&&null!==e&&null!==e.next&&(e.next=null,r.last=t))},beginUpdateQueue:function(e,t,r,n,o,i,a){null!==e&&e.updateQueue===r&&(r=t.updateQueue={first:r.first,last:r.last,callbackList:null,hasForceUpdate:!1}),e=r.callbackList;for(var s=r.hasForceUpdate,l=!0,u=r.first;null!==u&&0>=K(u.priorityLevel,a);){r.first=u.next,null===r.first&&(r.last=null);var c;u.isReplace?(o=Q(u,n,o,i),l=!0):(c=Q(u,n,o,i))&&(o=l?gt({},o,c):gt(o,c),l=!1),u.isForced&&(s=!0),null===u.callback||u.isTopLevelUnmount&&null!==u.next||(e=null!==e?e:[],e.push(u.callback),t.effectTag|=An),u=u.next}return r.callbackList=e,r.hasForceUpdate=s,null!==r.first||null!==e||s||(t.updateQueue=null),o},commitCallbacks:function(e,t,r){if(null!==(e=t.callbackList))for(t.callbackList=null,t=0;t<e.length;t++){var o=e[t];"function"!=typeof o&&n("191",o),o.call(r)}}},Fn=[],Un=-1,Bn={createCursor:function(e){return{current:e}},isEmpty:function(){return-1===Un},pop:function(e){0>Un||(e.current=Fn[Un],Fn[Un]=null,Un--)},push:function(e,t){Un++,Fn[Un]=e.current,e.current=t},reset:function(){for(;-1<Un;)Fn[Un]=null,Un--}},Gn=nr.isFiberMounted,Hn=Nt.ClassComponent,Wn=Nt.HostRoot,Vn=Bn.createCursor,Kn=Bn.pop,zn=Bn.push,qn=Vn(_t),Yn=Vn(!1),Xn=_t,Qn={getUnmaskedContext:function(e){return J(e)?Xn:qn.current},cacheContext:$,getMaskedContext:function(e,t){var r=e.type.contextTypes;if(!r)return _t;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&$(e,t,i),i},hasContextChanged:function(){return Yn.current},isContextConsumer:function(e){return e.tag===Hn&&null!=e.type.contextTypes},isContextProvider:J,popContextProvider:function(e){J(e)&&(Kn(Yn,e),Kn(qn,e))},popTopLevelContextObject:function(e){Kn(Yn,e),Kn(qn,e)},pushTopLevelContextObject:function(e,t,r){null!=qn.cursor&&n("168"),zn(qn,t,e),zn(Yn,r,e)},processChildContext:Z,pushContextProvider:function(e){if(!J(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||_t,Xn=qn.current,zn(qn,t,e),zn(Yn,Yn.current,e),!0},invalidateContextProvider:function(e,t){var r=e.stateNode;if(r||n("169"),t){var o=Z(e,Xn);r.__reactInternalMemoizedMergedChildContext=o,Kn(Yn,e),Kn(qn,e),zn(qn,o,e)}else Kn(Yn,e);zn(Yn,t,e)},resetContext:function(){Xn=_t,qn.current=_t,Yn.current=!1},findCurrentUnmaskedContext:function(e){for(Gn(e)&&e.tag===Hn?void 0:n("170");e.tag!==Wn;){if(J(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||n("171")}return e.stateNode.context}},$n={NoContext:0,AsyncUpdates:1},Jn=Nt.IndeterminateComponent,Zn=Nt.ClassComponent,eo=Nt.HostRoot,to=Nt.HostComponent,ro=Nt.HostText,no=Nt.HostPortal,oo=Nt.CoroutineComponent,io=Nt.YieldComponent,ao=Nt.Fragment,so=jn.NoWork,lo=$n.NoContext,uo=Qt.NoEffect,co={createWorkInProgress:function(e,t){var r=e.alternate;return null===r?(r=new ee(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=uo,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.pendingWorkPriority=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r},createHostRootFiber:function(){return new ee(eo,null,lo)},createFiberFromElement:function(e,t,r){return t=te(e.type,e.key,t),t.pendingProps=e.props,t.pendingWorkPriority=r,t},createFiberFromFragment:function(e,t,r){return t=new ee(ao,null,t),t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromText:function(e,t,r){return t=new ee(ro,null,t),t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromElementType:te,createFiberFromHostInstanceForDeletion:function(){var e=new ee(to,null,lo);return e.type="DELETED",e},createFiberFromCoroutine:function(e,t,r){return t=new ee(oo,e.key,t),t.type=e.handler,t.pendingProps=e,t.pendingWorkPriority=r,t},createFiberFromYield:function(e,t){return new ee(io,null,t)},createFiberFromPortal:function(e,t,r){return t=new ee(no,e.key,t),t.pendingProps=e.children||[],t.pendingWorkPriority=r,t.stateNode={containerInfo:e.containerInfo,implementation:e.implementation},t},largerPriority:function(e,t){return e!==so&&(t===so||t>e)?e:t}},fo=co.createHostRootFiber,po=Nt.IndeterminateComponent,ho=Nt.FunctionalComponent,mo=Nt.ClassComponent,yo=Nt.HostComponent;"function"==typeof Symbol&&Symbol.for?(Sn=Symbol.for("react.coroutine"),Cn=Symbol.for("react.yield")):(Sn=60104,Cn=60105);var go={createCoroutine:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Sn,key:null==n?null:""+n,children:e,handler:t,props:r}},createYield:function(e){return{$$typeof:Cn,value:e}},isCoroutine:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Sn},isYield:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Cn},REACT_YIELD_TYPE:Cn,REACT_COROUTINE_TYPE:Sn},vo="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,bo={createPortal:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:vo,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},isPortal:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===vo},REACT_PORTAL_TYPE:vo},_o=go.REACT_COROUTINE_TYPE,Eo=go.REACT_YIELD_TYPE,To=bo.REACT_PORTAL_TYPE,wo=co.createWorkInProgress,So=co.createFiberFromElement,Co=co.createFiberFromFragment,Ro=co.createFiberFromText,ko=co.createFiberFromCoroutine,jo=co.createFiberFromYield,Ao=co.createFiberFromPortal,xo=Array.isArray,Oo=Nt.FunctionalComponent,Po=Nt.ClassComponent,Lo=Nt.HostText,Do=Nt.HostPortal,Io=Nt.CoroutineComponent,No=Nt.YieldComponent,Mo=Nt.Fragment,Fo=Qt.NoEffect,Uo=Qt.Placement,Bo=Qt.Deletion,Go="function"==typeof Symbol&&Symbol.iterator,Ho="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Wo=ie(!0,!0),Vo=ie(!1,!0),Ko=ie(!1,!1),zo={reconcileChildFibers:Wo,reconcileChildFibersInPlace:Vo,mountChildFibersInPlace:Ko,cloneChildFibers:function(e,t){if(null!==e&&t.child!==e.child&&n("153"),null!==t.child){e=t.child;var r=wo(e,e.pendingWorkPriority);for(r.pendingProps=e.pendingProps,t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=wo(e,e.pendingWorkPriority),r.pendingProps=e.pendingProps,r.return=t;r.sibling=null}}},qo=Qt.Update,Yo=$n.AsyncUpdates,Xo=Qn.cacheContext,Qo=Qn.getMaskedContext,$o=Qn.getUnmaskedContext,Jo=Qn.isContextConsumer,Zo=Mn.addUpdate,ei=Mn.addReplaceUpdate,ti=Mn.addForceUpdate,ri=Mn.beginUpdateQueue,ni=Qn.hasContextChanged,oi=nr.isMounted,ii=zo.mountChildFibersInPlace,ai=zo.reconcileChildFibers,si=zo.reconcileChildFibersInPlace,li=zo.cloneChildFibers,ui=Mn.beginUpdateQueue,ci=Qn.getMaskedContext,di=Qn.getUnmaskedContext,fi=Qn.hasContextChanged,pi=Qn.pushContextProvider,hi=Qn.pushTopLevelContextObject,mi=Qn.invalidateContextProvider,yi=Nt.IndeterminateComponent,gi=Nt.FunctionalComponent,vi=Nt.ClassComponent,bi=Nt.HostRoot,_i=Nt.HostComponent,Ei=Nt.HostText,Ti=Nt.HostPortal,wi=Nt.CoroutineComponent,Si=Nt.CoroutineHandlerPhase,Ci=Nt.YieldComponent,Ri=Nt.Fragment,ki=jn.NoWork,ji=jn.OffscreenPriority,Ai=Qt.PerformedWork,xi=Qt.Placement,Oi=Qt.ContentReset,Pi=Qt.Err,Li=Qt.Ref,Di=Xt.ReactCurrentOwner,Ii=zo.reconcileChildFibers,Ni=Qn.popContextProvider,Mi=Qn.popTopLevelContextObject,Fi=Nt.IndeterminateComponent,Ui=Nt.FunctionalComponent,Bi=Nt.ClassComponent,Gi=Nt.HostRoot,Hi=Nt.HostComponent,Wi=Nt.HostText,Vi=Nt.HostPortal,Ki=Nt.CoroutineComponent,zi=Nt.CoroutineHandlerPhase,qi=Nt.YieldComponent,Yi=Nt.Fragment,Xi=Qt.Placement,Qi=Qt.Ref,$i=Qt.Update,Ji=jn.OffscreenPriority,Zi=null,ea=null,ta={injectInternals:function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.supportsFiber)return!0;try{var r=t.inject(e);Zi=ue(function(e){return t.onCommitFiberRoot(r,e)}),ea=ue(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0},onCommitRoot:function(e){"function"==typeof Zi&&Zi(e)},onCommitUnmount:function(e){"function"==typeof ea&&ea(e)}},ra=Nt.ClassComponent,na=Nt.HostRoot,oa=Nt.HostComponent,ia=Nt.HostText,aa=Nt.HostPortal,sa=Nt.CoroutineComponent,la=Mn.commitCallbacks,ua=ta.onCommitUnmount,ca=Qt.Placement,da=Qt.Update,fa=Qt.Callback,pa=Qt.ContentReset,ha=Bn.createCursor,ma=Bn.pop,ya=Bn.push,ga={},va=Nt.HostComponent,ba=Nt.HostText,_a=Nt.HostRoot,Ea=Qt.Deletion,Ta=Qt.Placement,wa=co.createFiberFromHostInstanceForDeletion,Sa=Qn.popContextProvider,Ca=Bn.reset,Ra=Xt.ReactCurrentOwner,ka=co.createWorkInProgress,ja=co.largerPriority,Aa=ta.onCommitRoot,xa=jn.NoWork,Oa=jn.SynchronousPriority,Pa=jn.TaskPriority,La=jn.HighPriority,Da=jn.LowPriority,Ia=jn.OffscreenPriority,Na=$n.AsyncUpdates,Ma=Qt.PerformedWork,Fa=Qt.Placement,Ua=Qt.Update,Ba=Qt.PlacementAndUpdate,Ga=Qt.Deletion,Ha=Qt.ContentReset,Wa=Qt.Callback,Va=Qt.Err,Ka=Qt.Ref,za=Nt.HostRoot,qa=Nt.HostComponent,Ya=Nt.HostPortal,Xa=Nt.ClassComponent,Qa=Mn.getUpdatePriority,$a=Qn.resetContext;me._injectFiber=function(e){he=e};var Ja=Mn.addTopLevelUpdate,Za=Qn.findCurrentUnmaskedContext,es=Qn.isContextProvider,ts=Qn.processChildContext,rs=Nt.HostComponent,ns=nr.findCurrentHostFiber,os=nr.findCurrentHostFiberWithNoPortals;me._injectFiber(function(e){var t=Za(e);return es(e)?ts(e,t,!1):t});var is=Mt.TEXT_NODE,as=null,ss={getOffsets:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,i=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}t=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset?0:a.toString().length;var s=a.cloneRange();return s.selectNodeContents(e),s.setEnd(a.startContainer,a.startOffset),e=s.startContainer===s.endContainer&&s.startOffset===s.endOffset?0:s.toString().length,a=e+t,t=document.createRange(),t.setStart(r,n),t.setEnd(o,i),r=t.collapsed,{start:r?a:e,end:r?e:a}},setOffsets:function(e,t){if(window.getSelection){var r=window.getSelection(),n=e[ve()].length,o=Math.min(t.start,n);if(t=void 0===t.end?o:Math.min(t.end,n),!r.extend&&o>t&&(n=t,t=o,o=n),n=ge(e,o),e=ge(e,t),n&&e){var i=document.createRange();i.setStart(n.node,n.offset),r.removeAllRanges(),o>t?(r.addRange(i),r.extend(e.node,e.offset)):(i.setEnd(e.node,e.offset),r.addRange(i))}}}},ls=Mt.ELEMENT_NODE,us={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=St();return{focusedElem:e,selectionRange:us.hasSelectionCapabilities(e)?us.getSelection(e):null}},restoreSelection:function(e){var t=St(),r=e.focusedElem;if(e=e.selectionRange,t!==r&&Tt(document.documentElement,r)){for(us.hasSelectionCapabilities(r)&&us.setSelection(r,e),t=[],e=r;e=e.parentNode;)e.nodeType===ls&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(wt(r),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}},getSelection:function(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ss.getOffsets(e))||{start:0,end:0}},setSelection:function(e,t){var r=t.start,n=t.end;void 0===n&&(n=r),"selectionStart"in e?(e.selectionStart=r,e.selectionEnd=Math.min(n,e.value.length)):ss.setOffsets(e,t)}},cs=us,ds=Mt.ELEMENT_NODE;Ee._injectFiber=function(e){be=e},Ee._injectStack=function(e){_e=e};var fs=Nt.HostComponent,ps={isAncestor:function(e,t){for(;t;){if(e===t||e===t.alternate)return!0;t=Te(t)}return!1},getLowestCommonAncestor:we,getParentInstance:function(e){return Te(e)},traverseTwoPhase:function(e,t,r){for(var n=[];e;)n.push(e),e=Te(e);for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)},traverseEnterLeave:function(e,t,r,n,o){for(var i=e&&t?we(e,t):null,a=[];e&&e!==i;)a.push(e),e=Te(e);for(e=[];t&&t!==i;)e.push(t),t=Te(t);for(t=0;t<a.length;t++)r(a[t],"bubbled",n);for(t=e.length;0<t--;)r(e[t],"captured",o)}},hs=_r.getListener,ms={accumulateTwoPhaseDispatches:function(e){R(e,Ce)},accumulateTwoPhaseDispatchesSkipTarget:function(e){R(e,Re)},accumulateDirectDispatches:function(e){R(e,je)},accumulateEnterLeaveDispatches:function(e,t,r,n){ps.traverseEnterLeave(r,n,ke,e,t)}},ys={_root:null,_startText:null,_fallbackText:null},gs={initialize:function(e){return ys._root=e,ys._startText=gs.getText(),!0},reset:function(){ys._root=null,ys._startText=null,ys._fallbackText=null},getData:function(){if(ys._fallbackText)return ys._fallbackText;var e,t,r=ys._startText,n=r.length,o=gs.getText(),i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return ys._fallbackText=o.slice(e,1<t?1-t:void 0),ys._fallbackText},getText:function(){return"value"in ys._root?ys._root.value:ys._root[ve()]}},vs=gs,bs="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),_s={type:null,target:null,currentTarget:bt.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};gt(Ae.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=bt.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=bt.thatReturnsTrue)},persist:function(){this.isPersistent=bt.thatReturnsTrue},isPersistent:bt.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<bs.length;t++)this[bs[t]]=null}}),Ae.Interface=_s,Ae.augmentClass=function(e,t){function r(){}r.prototype=this.prototype;var n=new r;gt(n,e.prototype),e.prototype=n,e.prototype.constructor=e,e.Interface=gt({},this.Interface,t),e.augmentClass=this.augmentClass,Pe(e)},Pe(Ae),Ae.augmentClass(Le,{data:null}),Ae.augmentClass(De,{data:null});var Es=[9,13,27,32],Ts=yt.canUseDOM&&"CompositionEvent"in window,ws=null;yt.canUseDOM&&"documentMode"in document&&(ws=document.documentMode);var Ss;if(Ss=yt.canUseDOM&&"TextEvent"in window&&!ws){var Cs=window.opera;Ss=!("object"==typeof Cs&&"function"==typeof Cs.version&&12>=parseInt(Cs.version(),10))}var Rs=Ss,ks=yt.canUseDOM&&(!Ts||ws&&8<ws&&11>=ws),js=String.fromCharCode(32),As={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},xs=!1,Os=!1,Ps={eventTypes:As,extractEvents:function(e,t,r,n){var o;if(Ts)e:{switch(e){case"topCompositionStart":var i=As.compositionStart;break e;case"topCompositionEnd":i=As.compositionEnd;break e;case"topCompositionUpdate":i=As.compositionUpdate;break e}i=void 0}else Os?Ie(e,r)&&(i=As.compositionEnd):"topKeyDown"===e&&229===r.keyCode&&(i=As.compositionStart);return i?(ks&&(Os||i!==As.compositionStart?i===As.compositionEnd&&Os&&(o=vs.getData()):Os=vs.initialize(n)),i=Le.getPooled(i,t,r,n),o?i.data=o:null!==(o=Ne(r))&&(i.data=o),ms.accumulateTwoPhaseDispatches(i),o=i):o=null,(e=Rs?Me(e,r):Fe(e,r))?(t=De.getPooled(As.beforeInput,t,r,n),t.data=e,ms.accumulateTwoPhaseDispatches(t)):t=null,[o,t]}},Ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ds={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Is=null,Ns=null,Ms=!1;yt.canUseDOM&&(Ms=O("input")&&(!document.documentMode||9<document.documentMode));var Fs={eventTypes:Ds,_isInputEventSupported:Ms,extractEvents:function(e,t,r,n){var o=t?qt.getNodeFromInstance(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=We;else if(Ue(o))if(Ms)a=Xe;else{a=qe;var s=ze}else!(i=o.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type||(a=Ye);if(a&&(a=a(e,t)))return Be(a,r,n);s&&s(e,o,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||o._wrapperState)&&e.controlled&&"number"===o.type&&(e=""+o.value,o.getAttribute("value")!==e&&o.setAttribute("value",e))}};Ae.augmentClass(Qe,{view:function(e){return e.view?e.view:(e=w(e),e.window===e?e:(e=e.ownerDocument)?e.defaultView||e.parentWindow:window)},detail:function(e){return e.detail||0}});var Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Qe.augmentClass(Ze,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Je,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Bs={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Gs={eventTypes:Bs,extractEvents:function(e,t,r,n){if("topMouseOver"===e&&(r.relatedTarget||r.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=r.relatedTarget||r.toElement)?qt.getClosestInstanceFromNode(t):null):e=null,e===t)return null;var i=null==e?o:qt.getNodeFromInstance(e);o=null==t?o:qt.getNodeFromInstance(t);var a=Ze.getPooled(Bs.mouseLeave,e,r,n);return a.type="mouseleave",a.target=i,a.relatedTarget=o,r=Ze.getPooled(Bs.mouseEnter,t,r,n),r.type="mouseenter",r.target=o,r.relatedTarget=i,ms.accumulateEnterLeaveDispatches(a,r,e,t),[a,r]}},Hs=Mt.DOCUMENT_NODE,Ws=yt.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Vs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Ks=null,zs=null,qs=null,Ys=!1,Xs=jr.isListeningToAllDependencies,Qs={eventTypes:Vs,extractEvents:function(e,t,r,n){var o=n.window===n?n.document:n.nodeType===Hs?n:n.ownerDocument;if(!o||!Xs("onSelect",o))return null;switch(o=t?qt.getNodeFromInstance(t):window,e){case"topFocus":(Ue(o)||"true"===o.contentEditable)&&(Ks=o,zs=t,qs=null);break;case"topBlur":qs=zs=Ks=null;break;case"topMouseDown":Ys=!0;break;case"topContextMenu":case"topMouseUp":return Ys=!1,et(r,n);case"topSelectionChange":if(Ws)break;case"topKeyDown":case"topKeyUp":return et(r,n)}return null}};Ae.augmentClass(tt,{animationName:null,elapsedTime:null,pseudoElement:null}),Ae.augmentClass(rt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qe.augmentClass(nt,{relatedTarget:null});var $s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};Qe.augmentClass(it,{key:function(e){if(e.key){var t=$s[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=ot(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Js[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Je,charCode:function(e){return"keypress"===e.type?ot(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ot(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ze.augmentClass(at,{dataTransfer:null}),Qe.augmentClass(st,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Je}),Ae.augmentClass(lt,{propertyName:null,elapsedTime:null,pseudoElement:null}),Ze.augmentClass(ut,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var Zs={},el={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),r="on"+t;t="top"+t,r={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[t]},Zs[e]=r,el[t]=r});var tl={eventTypes:Zs,extractEvents:function(e,t,r,o){var i=el[e];if(!i)return null;switch(e){case"topAbort":case"topCancel":case"topCanPlay":case"topCanPlayThrough":case"topClose":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topToggle":case"topVolumeChange":case"topWaiting":var a=Ae;break;case"topKeyPress":if(0===ot(r))return null;case"topKeyDown":case"topKeyUp":a=it;break;case"topBlur":case"topFocus":a=nt;break;case"topClick":if(2===r.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=Ze;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=at;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=st;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=tt;break;case"topTransitionEnd":a=lt;break;case"topScroll":a=Qe;break;case"topWheel":a=ut;break;case"topCopy":case"topCut":case"topPaste":a=rt}return a||n("86",e),e=a.getPooled(i,t,r,o),ms.accumulateTwoPhaseDispatches(e),e}};vr.setHandleTopLevel(jr.handleTopLevel),_r.injection.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),sr.injection.injectComponentTree(qt),_r.injection.injectEventPluginsByName({SimpleEventPlugin:tl,EnterLeaveEventPlugin:Gs,ChangeEventPlugin:Fs,SelectEventPlugin:Qs,BeforeInputEventPlugin:Ps});var rl=It.injection.MUST_USE_PROPERTY,nl=It.injection.HAS_BOOLEAN_VALUE,ol=It.injection.HAS_NUMERIC_VALUE,il=It.injection.HAS_POSITIVE_NUMERIC_VALUE,al=It.injection.HAS_STRING_BOOLEAN_VALUE,sl={Properties:{allowFullScreen:nl,allowTransparency:al,async:nl,autoPlay:nl,capture:nl,checked:rl|nl,cols:il,contentEditable:al,controls:nl,default:nl,defer:nl,disabled:nl,download:It.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:al,formNoValidate:nl,hidden:nl,loop:nl,multiple:rl|nl,muted:rl|nl,noValidate:nl,open:nl,playsInline:nl,readOnly:nl,required:nl,reversed:nl,rows:il,rowSpan:ol,scoped:nl,seamless:nl,selected:rl|nl,size:il,start:ol,span:il,spellCheck:al,style:0,itemScope:nl,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:al},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},ll=It.injection.HAS_STRING_BOOLEAN_VALUE,ul={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},cl={Properties:{autoReverse:ll,externalResourcesRequired:ll,preserveAlpha:ll},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:ul.xlink,xlinkArcrole:ul.xlink,xlinkHref:ul.xlink,xlinkRole:ul.xlink,xlinkShow:ul.xlink,xlinkTitle:ul.xlink,xlinkType:ul.xlink,xmlBase:ul.xml,xmlLang:ul.xml,xmlSpace:ul.xml}},dl=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(dl,ct);cl.Properties[t]=0,cl.DOMAttributeNames[t]=e}),It.injection.injectDOMPropertyConfig(sl),It.injection.injectDOMPropertyConfig(cl);var fl=ta.injectInternals,pl=Mt.ELEMENT_NODE,hl=Mt.TEXT_NODE,ml=Mt.COMMENT_NODE,yl=Mt.DOCUMENT_NODE,gl=Mt.DOCUMENT_FRAGMENT_NODE,vl=It.ROOT_ATTRIBUTE_NAME,bl=kt.getChildNamespace,_l=fn.createElement,El=fn.createTextNode,Tl=fn.setInitialProperties,wl=fn.diffProperties,Sl=fn.updateProperties,Cl=fn.diffHydratedProperties,Rl=fn.diffHydratedText,kl=fn.warnForDeletedHydratableElement,jl=fn.warnForDeletedHydratableText,Al=fn.warnForInsertedHydratedElement,xl=fn.warnForInsertedHydratedText,Ol=qt.precacheFiberNode,Pl=qt.updateFiberProps;dr.injection.injectFiberControlledHostComponent(fn),Ee._injectFiber(function(e){return Il.findHostInstance(e)});var Ll=null,Dl=null,Il=function(e){var t=e.getPublicInstance;e=pe(e);var r=e.scheduleUpdate,n=e.getPriorityContext;return{createContainer:function(e){var t=fo();return e={current:t,containerInfo:e,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null},t.stateNode=e},updateContainer:function(e,t,o,i){var a=t.current;o=me(o),null===t.context?t.context=o:t.pendingContext=o,t=i,i=n(a,kn.enableAsyncSubtreeAPI&&null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent),e={element:e},Ja(a,e,void 0===t?null:t,i),r(a,i)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case rs:return t(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){return e=ns(e),null===e?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return e=os(e),null===e?null:e.stateNode}}}({getRootHostContext:function(e){if(e.nodeType===yl)e=(e=e.documentElement)?e.namespaceURI:bl(null,"");else{var t=e.nodeType===ml?e.parentNode:e;e=t.namespaceURI||null,t=t.tagName,e=bl(e,t)}return e},getChildHostContext:function(e,t){return bl(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Ll=jr.isEnabled(),Dl=cs.getSelectionInformation(),jr.setEnabled(!1)},resetAfterCommit:function(){cs.restoreSelection(Dl),Dl=null,jr.setEnabled(Ll),Ll=null},createInstance:function(e,t,r,n,o){return e=_l(e,t,r,n),Ol(o,e),Pl(e,t),e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,r,n){Tl(e,t,r,n);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,r,n,o){return wl(e,t,r,n,o)},commitMount:function(e){e.focus()},commitUpdate:function(e,t,r,n,o){Pl(e,o),Sl(e,t,r,n,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},resetTextContent:function(e){e.textContent=""},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,r,n){return e=El(e,t),Ol(n,e),e},commitTextUpdate:function(e,t,r){e.nodeValue=r},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===ml?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,r){e.insertBefore(t,r)},insertInContainerBefore:function(e,t,r){e.nodeType===ml?e.parentNode.insertBefore(t,r):e.insertBefore(t,r)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===ml?e.parentNode.removeChild(t):e.removeChild(t)},canHydrateInstance:function(e,t){return e.nodeType===pl&&t===e.nodeName.toLowerCase()},canHydrateTextInstance:function(e,t){return""!==t&&e.nodeType===hl},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&e.nodeType!==pl&&e.nodeType!==hl;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&e.nodeType!==pl&&e.nodeType!==hl;)e=e.nextSibling;return e},hydrateInstance:function(e,t,r,n,o,i){return Ol(i,e),Pl(e,r),Cl(e,t,r,o,n)},hydrateTextInstance:function(e,t,r){return Ol(r,e),Rl(e,t)},didNotHydrateInstance:function(e,t){1===t.nodeType?kl(e,t):jl(e,t)},didNotFindHydratableInstance:function(e,t,r){Al(e,t,r)},didNotFindHydratableTextInstance:function(e,t){xl(e,t)},scheduleDeferredCallback:Rn.rIC,useSyncScheduling:!0});pr.injection.injectFiberBatchedUpdates(Il.batchedUpdates);var Nl={createPortal:ht,hydrate:function(e,t,r){return pt(null,e,t,!0,r)},render:function(e,t,r){return pt(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,o){return null!=e&&Yt.has(e)||n("38"),pt(e,t,r,!1,o)},unmountComponentAtNode:function(e){return dt(e)||n("40"),!!e._reactRootContainer&&(Il.unbatchedUpdates(function(){pt(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},findDOMNode:Ee,unstable_createPortal:ht,unstable_batchedUpdates:pr.batchedUpdates,unstable_deferredUpdates:Il.deferredUpdates,flushSync:Il.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:_r,EventPluginRegistry:Ot,EventPropagators:ms,ReactControlledComponent:dr,ReactDOMComponentTree:qt,ReactDOMEventListener:vr}};fl({findFiberByHostInstance:qt.getClosestInstanceFromNode,findHostInstanceByFiber:Il.findHostInstance,bundleType:0,version:"16.0.0",rendererPackageName:"react-dom"}),e.exports=Nl},"./node_modules/react-dom/index.js":/*!*****************************************!*\
  !*** ./node_modules/react-dom/index.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),e.exports=r(/*! ./cjs/react-dom.production.min.js */"./node_modules/react-dom/cjs/react-dom.production.min.js")},"./node_modules/react-hot-loader/index.js":/*!************************************************!*\
  !*** ./node_modules/react-hot-loader/index.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=r(/*! ./lib/index */"./node_modules/react-hot-loader/lib/index.js")},"./node_modules/react-hot-loader/lib/AppContainer.js":/*!***********************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/AppContainer.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports=r(/*! ./AppContainer.prod */"./node_modules/react-hot-loader/lib/AppContainer.prod.js")},"./node_modules/react-hot-loader/lib/AppContainer.prod.js":/*!****************************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/AppContainer.prod.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(/*! react */"./node_modules/react/index.js"),l=s.Component,u=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return this.props.component?s.createElement(this.props.component,this.props.props):s.Children.only(this.props.children)}}]),t}(l);e.exports=u},"./node_modules/react-hot-loader/lib/index.js":/*!****************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/index.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports=r(/*! ./index.prod */"./node_modules/react-hot-loader/lib/index.prod.js")},"./node_modules/react-hot-loader/lib/index.prod.js":/*!*********************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/index.prod.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports.AppContainer=r(/*! ./AppContainer */"./node_modules/react-hot-loader/lib/AppContainer.js")},"./node_modules/react-hot-loader/lib/patch.js":/*!****************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/patch.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports=r(/*! ./patch.prod */"./node_modules/react-hot-loader/lib/patch.prod.js")},"./node_modules/react-hot-loader/lib/patch.prod.js":/*!*********************************************************!*\
  !*** ./node_modules/react-hot-loader/lib/patch.prod.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict"},"./node_modules/react-hot-loader/patch.js":/*!************************************************!*\
  !*** ./node_modules/react-hot-loader/patch.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){e.exports=r(/*! ./lib/patch */"./node_modules/react-hot-loader/lib/patch.js")},"./node_modules/react-redux/es/components/Provider.js":/*!************************************************************!*\
  !*** ./node_modules/react-redux/es/components/Provider.js ***!
  \************************************************************/
/*! exports provided: createProvider, default */
/*! exports used: createProvider, default */
function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",r=arguments[1],a=r||t+"Subscription",l=function(e){function r(i,a){n(this,r);var s=o(this,e.call(this,i,a));return s[t]=i.store,s}return i(r,e),r.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},r.prototype.render=function(){return s.Children.only(this.props.children)},r}(s.Component);return l.propTypes={store:c.a.isRequired,children:u.a.element.isRequired},l.childContextTypes=(e={},e[t]=c.a.isRequired,e[a]=c.b,e),l}t.a=a;var s=r(/*! react */"./node_modules/react/index.js"),l=(r.n(s),r(/*! prop-types */"./node_modules/prop-types/index.js")),u=r.n(l),c=r(/*! ../utils/PropTypes */"./node_modules/react-redux/es/utils/PropTypes.js");r(/*! ../utils/warning */"./node_modules/react-redux/es/utils/warning.js");t.b=a()},"./node_modules/react-redux/es/components/connectAdvanced.js":/*!*******************************************************************!*\
  !*** ./node_modules/react-redux/es/components/connectAdvanced.js ***!
  \*******************************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function s(){}function l(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}function u(e){var t,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.getDisplayName,f=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,_=u.methodName,E=void 0===_?"connectAdvanced":_,T=u.renderCountProp,w=void 0===T?void 0:T,S=u.shouldHandleStateChanges,C=void 0===S||S,R=u.storeKey,k=void 0===R?"store":R,j=u.withRef,A=void 0!==j&&j,x=a(u,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),O=k+"Subscription",P=v++,L=(t={},t[k]=y.a,t[O]=y.b,t),D=(r={},r[O]=y.b,r);return function(t){p()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",a=f(r),u=g({},x,{getDisplayName:f,methodName:E,renderCountProp:w,shouldHandleStateChanges:C,storeKey:k,withRef:A,displayName:a,wrappedComponentName:r,WrappedComponent:t}),c=function(r){function c(e,t){n(this,c);var i=o(this,r.call(this,e,t));return i.version=P,i.state={},i.renderCount=0,i.store=e[k]||t[k],i.propsMode=Boolean(e[k]),i.setWrappedInstance=i.setWrappedInstance.bind(i),p()(i.store,'Could not find "'+k+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+k+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(c,r),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[O]=t||this.context[O],e},c.prototype.componentDidMount=function(){C&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return p()(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+E+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,u);this.selector=l(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(C){var e=(this.propsMode?this.props:this.context)[O];this.subscription=new m.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(A||w||this.propsMode&&this.subscription))return e;var t=g({},e);return A&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[O]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(h.createElement)(t,this.addExtraProps(e.props))},c}(h.Component);return c.WrappedComponent=t,c.displayName=a,c.childContextTypes=D,c.contextTypes=L,c.propTypes=L,d()(c,t)}}t.a=u;var c=r(/*! hoist-non-react-statics */"./node_modules/hoist-non-react-statics/index.js"),d=r.n(c),f=r(/*! invariant */"./node_modules/invariant/browser.js"),p=r.n(f),h=r(/*! react */"./node_modules/react/index.js"),m=(r.n(h),r(/*! ../utils/Subscription */"./node_modules/react-redux/es/utils/Subscription.js")),y=r(/*! ../utils/PropTypes */"./node_modules/react-redux/es/utils/PropTypes.js"),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v=0,b={}},"./node_modules/react-redux/es/connect/connect.js":/*!********************************************************!*\
  !*** ./node_modules/react-redux/es/connect/connect.js ***!
  \********************************************************/
/*! exports provided: createConnect, default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function i(e,t){return e===t}var a=r(/*! ../components/connectAdvanced */"./node_modules/react-redux/es/components/connectAdvanced.js"),s=r(/*! ../utils/shallowEqual */"./node_modules/react-redux/es/utils/shallowEqual.js"),l=r(/*! ./mapDispatchToProps */"./node_modules/react-redux/es/connect/mapDispatchToProps.js"),u=r(/*! ./mapStateToProps */"./node_modules/react-redux/es/connect/mapStateToProps.js"),c=r(/*! ./mergeProps */"./node_modules/react-redux/es/connect/mergeProps.js"),d=r(/*! ./selectorFactory */"./node_modules/react-redux/es/connect/selectorFactory.js"),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,r=void 0===t?a.a:t,p=e.mapStateToPropsFactories,h=void 0===p?u.a:p,m=e.mapDispatchToPropsFactories,y=void 0===m?l.a:m,g=e.mergePropsFactories,v=void 0===g?c.a:g,b=e.selectorFactory,_=void 0===b?d.a:b;return function(e,t,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l.pure,c=void 0===u||u,d=l.areStatesEqual,p=void 0===d?i:d,m=l.areOwnPropsEqual,g=void 0===m?s.a:m,b=l.areStatePropsEqual,E=void 0===b?s.a:b,T=l.areMergedPropsEqual,w=void 0===T?s.a:T,S=n(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=o(e,h,"mapStateToProps"),R=o(t,y,"mapDispatchToProps"),k=o(a,v,"mergeProps");return r(_,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:R,initMergeProps:k,pure:c,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:E,areMergedPropsEqual:w},S))}}()},"./node_modules/react-redux/es/connect/mapDispatchToProps.js":/*!*******************************************************************!*\
  !*** ./node_modules/react-redux/es/connect/mapDispatchToProps.js ***!
  \*******************************************************************/
/*! exports provided: whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject, default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){return"function"==typeof e?Object(s.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(s.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?Object(s.a)(function(t){return Object(a.bindActionCreators)(e,t)}):void 0}var a=r(/*! redux */"./node_modules/redux/es/index.js"),s=r(/*! ./wrapMapToProps */"./node_modules/react-redux/es/connect/wrapMapToProps.js");t.a=[n,o,i]},"./node_modules/react-redux/es/connect/mapStateToProps.js":/*!****************************************************************!*\
  !*** ./node_modules/react-redux/es/connect/mapStateToProps.js ***!
  \****************************************************************/
/*! exports provided: whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing, default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){return"function"==typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(i.a)(function(){return{}})}var i=r(/*! ./wrapMapToProps */"./node_modules/react-redux/es/connect/wrapMapToProps.js");t.a=[n,o]},"./node_modules/react-redux/es/connect/mergeProps.js":/*!***********************************************************!*\
  !*** ./node_modules/react-redux/es/connect/mergeProps.js ***!
  \***********************************************************/
/*! exports provided: defaultMergeProps, wrapMergePropsFunc, whenMergePropsIsFunction, whenMergePropsIsOmitted, default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t,r){return s({},r,e,t)}function o(e){return function(t,r){var n=(r.displayName,r.pure),o=r.areMergedPropsEqual,i=!1,a=void 0;return function(t,r,s){var l=e(t,r,s);return i?n&&o(l,a)||(a=l):(i=!0,a=l),a}}}function i(e){return"function"==typeof e?o(e):void 0}function a(e){return e?void 0:function(){return n}}var s=(r(/*! ../utils/verifyPlainObject */"./node_modules/react-redux/es/utils/verifyPlainObject.js"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e});t.a=[i,a]},"./node_modules/react-redux/es/connect/selectorFactory.js":/*!****************************************************************!*\
  !*** ./node_modules/react-redux/es/connect/selectorFactory.js ***!
  \****************************************************************/
/*! exports provided: impureFinalPropsSelectorFactory, pureFinalPropsSelectorFactory, default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function i(e,t,r,n,o){function i(o,i){return h=o,m=i,y=e(h,m),g=t(n,m),v=r(y,g,m),p=!0,v}function a(){return y=e(h,m),t.dependsOnOwnProps&&(g=t(n,m)),v=r(y,g,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(g=t(n,m)),v=r(y,g,m)}function l(){var t=e(h,m),n=!f(t,y);return y=t,n&&(v=r(y,g,m)),v}function u(e,t){var r=!d(t,m),n=!c(e,h);return h=e,m=t,r&&n?a():r?s():n?l():v}var c=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1,h=void 0,m=void 0,y=void 0,g=void 0,v=void 0;return function(e,t){return p?u(e,t):i(e,t)}}function a(e,t){var r=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,l=n(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=r(e,l),c=a(e,l),d=s(e,l);return(l.pure?i:o)(u,c,d,e,l)}t.a=a;r(/*! ./verifySubselectors */"./node_modules/react-redux/es/connect/verifySubselectors.js")},"./node_modules/react-redux/es/connect/verifySubselectors.js":/*!*******************************************************************!*\
  !*** ./node_modules/react-redux/es/connect/verifySubselectors.js ***!
  \*******************************************************************/
/*! exports provided: default */
function(e,t,r){"use strict";r(/*! ../utils/warning */"./node_modules/react-redux/es/utils/warning.js")},"./node_modules/react-redux/es/connect/wrapMapToProps.js":/*!***************************************************************!*\
  !*** ./node_modules/react-redux/es/connect/wrapMapToProps.js ***!
  \***************************************************************/
/*! exports provided: wrapMapToPropsConstant, getDependsOnOwnProps, wrapMapToPropsFunc */
/*! exports used: wrapMapToPropsConstant, wrapMapToPropsFunc */
function(e,t,r){"use strict";function n(e){return function(t,r){function n(){return o}var o=e(t,r);return n.dependsOnOwnProps=!1,n}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,r){var n=(r.displayName,function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)});return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=o(e);var i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=o(i),i=n(t,r)),i},n}}t.a=n,t.b=i;r(/*! ../utils/verifyPlainObject */"./node_modules/react-redux/es/utils/verifyPlainObject.js")},"./node_modules/react-redux/es/index.js":/*!**********************************************!*\
  !*** ./node_modules/react-redux/es/index.js ***!
  \**********************************************/
/*! exports provided: Provider, createProvider, connectAdvanced, connect */
/*! all exports used */
function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./components/Provider */"./node_modules/react-redux/es/components/Provider.js"),o=r(/*! ./components/connectAdvanced */"./node_modules/react-redux/es/components/connectAdvanced.js"),i=r(/*! ./connect/connect */"./node_modules/react-redux/es/connect/connect.js");r.d(t,"Provider",function(){return n.b}),r.d(t,"createProvider",function(){return n.a}),r.d(t,"connectAdvanced",function(){return o.a}),r.d(t,"connect",function(){return i.a})},"./node_modules/react-redux/es/utils/PropTypes.js":/*!********************************************************!*\
  !*** ./node_modules/react-redux/es/utils/PropTypes.js ***!
  \********************************************************/
/*! exports provided: subscriptionShape, storeShape */
/*! exports used: storeShape, subscriptionShape */
function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});var n=r(/*! prop-types */"./node_modules/prop-types/index.js"),o=r.n(n),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},"./node_modules/react-redux/es/utils/Subscription.js":/*!***********************************************************!*\
  !*** ./node_modules/react-redux/es/utils/Subscription.js ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==i&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}r.d(t,"a",function(){return s});var i=null,a={notify:function(){}},s=function(){function e(t,r,o){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=o,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},"./node_modules/react-redux/es/utils/shallowEqual.js":/*!***********************************************************!*\
  !*** ./node_modules/react-redux/es/utils/shallowEqual.js ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}t.a=o;var i=Object.prototype.hasOwnProperty},"./node_modules/react-redux/es/utils/verifyPlainObject.js":/*!****************************************************************!*\
  !*** ./node_modules/react-redux/es/utils/verifyPlainObject.js ***!
  \****************************************************************/
/*! exports provided: default */
function(e,t,r){"use strict";r(/*! lodash-es/isPlainObject */"./node_modules/lodash-es/isPlainObject.js"),r(/*! ./warning */"./node_modules/react-redux/es/utils/warning.js")},"./node_modules/react-redux/es/utils/warning.js":/*!******************************************************!*\
  !*** ./node_modules/react-redux/es/utils/warning.js ***!
  \******************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=n},"./node_modules/react/cjs/react.production.min.js":/*!********************************************************!*\
  !*** ./node_modules/react/cjs/react.production.min.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);throw t=Error(r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function o(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||_}function i(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||_}function a(){}function s(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||_}function l(e,t,r,n,o,i,a){return{$$typeof:R,type:e,key:t,ref:r,props:a,_owner:i}}function u(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function c(e,t,r,n){if(O.length){var o=O.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function f(e,t,r,o){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===A)return r(o,e,""===t?"."+p(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){i=e[s];var l=t+p(i,s);a+=f(i,l,r,o)}else if("function"==typeof(l=j&&e[j]||e["@@iterator"]))for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=t+p(i,s++),a+=f(i,l,r,o);else"object"===i&&(r=""+e,n("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return a}function p(e,t){return"object"==typeof e&&null!==e&&null!=e.key?u(e.key):t.toString(36)}function h(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,n,r,b.thatReturnsArgument):null!=e&&(l.isValidElement(e)&&(e=l.cloneAndReplaceKey(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+r)),n.push(e))}function y(e,t,r,n,o){var i="";null!=r&&(i=(""+r).replace(x,"$&/")+"/"),t=c(t,i,n,o),null==e||f(e,"",m,t),d(t)}var g=r(/*! object-assign */"./node_modules/object-assign/index.js"),v=r(/*! fbjs/lib/emptyObject */"./node_modules/fbjs/lib/emptyObject.js");r(/*! fbjs/lib/invariant */"./node_modules/fbjs/lib/invariant.js");var b=r(/*! fbjs/lib/emptyFunction */"./node_modules/fbjs/lib/emptyFunction.js"),_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&n("85"),this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var E=i.prototype=new a;E.constructor=i,g(E,o.prototype),E.isPureReactComponent=!0;var T=s.prototype=new a;T.constructor=s,g(T,o.prototype),T.unstable_isAsyncReactComponent=!0,T.render=function(){return this.props.children};var w={Component:o,PureComponent:i,AsyncComponent:s},S={current:null},C=Object.prototype.hasOwnProperty,R="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,k={key:!0,ref:!0,__self:!0,__source:!0};l.createElement=function(e,t,r){var n,o={},i=null,a=null,s=null,u=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),s=void 0===t.__self?null:t.__self,u=void 0===t.__source?null:t.__source,t)C.call(t,n)&&!k.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];o.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===o[n]&&(o[n]=c[n]);return l(e,i,a,s,u,S.current,o)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,r){var n=g({},e.props),o=e.key,i=e.ref,a=e._self,s=e._source,u=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)C.call(t,d)&&!k.hasOwnProperty(d)&&(n[d]=void 0===t[d]&&void 0!==c?c[d]:t[d])}var d=arguments.length-2;if(1===d)n.children=r;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];n.children=c}return l(e.type,o,i,a,s,u,n)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===R};var j="function"==typeof Symbol&&Symbol.iterator,A="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,x=/\/+/g,O=[],P={forEach:function(e,t,r){if(null==e)return e;t=c(null,null,t,r),null==e||f(e,"",h,t),d(t)},map:function(e,t,r){if(null==e)return e;var n=[];return y(e,n,null,t,r),n},count:function(e){return null==e?0:f(e,"",b.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,b.thatReturnsArgument),t}};e.exports={Children:{map:P.map,forEach:P.forEach,count:P.count,toArray:P.toArray,only:function(e){return l.isValidElement(e)||n("143"),e}},Component:w.Component,PureComponent:w.PureComponent,unstable_AsyncComponent:w.AsyncComponent,createElement:l.createElement,cloneElement:l.cloneElement,isValidElement:l.isValidElement,createFactory:l.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:g}}},"./node_modules/react/index.js":/*!*************************************!*\
  !*** ./node_modules/react/index.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";e.exports=r(/*! ./cjs/react.production.min.js */"./node_modules/react/cjs/react.production.min.js")},"./node_modules/redux/es/applyMiddleware.js":/*!**************************************************!*\
  !*** ./node_modules/redux/es/applyMiddleware.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,a){var s=e(r,n,a),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=o.a.apply(void 0,u)(s.dispatch),i({},s,{dispatch:l})}}}t.a=n;var o=r(/*! ./compose */"./node_modules/redux/es/compose.js"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},"./node_modules/redux/es/bindActionCreators.js":/*!*****************************************************!*\
  !*** ./node_modules/redux/es/bindActionCreators.js ***!
  \*****************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;i<r.length;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.a=o},"./node_modules/redux/es/combineReducers.js":/*!**************************************************!*\
  !*** ./node_modules/redux/es/combineReducers.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(r[a]=e[a])}var s=Object.keys(r),l=void 0;try{o(r)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var o=!1,i={},a=0;a<s.length;a++){var u=s[a],c=r[u],d=e[u],f=c(d,t);if(void 0===f){var p=n(u,t);throw new Error(p)}i[u]=f,o=o||f!==d}return o?i:e}}t.a=i;var a=r(/*! ./createStore */"./node_modules/redux/es/createStore.js");r(/*! lodash-es/isPlainObject */"./node_modules/lodash-es/isPlainObject.js"),r(/*! ./utils/warning */"./node_modules/redux/es/utils/warning.js")},"./node_modules/redux/es/compose.js":/*!******************************************!*\
  !*** ./node_modules/redux/es/compose.js ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */
function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=n},"./node_modules/redux/es/createStore.js":/*!**********************************************!*\
  !*** ./node_modules/redux/es/createStore.js ***!
  \**********************************************/
/*! exports provided: ActionTypes, default */
/*! exports used: ActionTypes, default */
function(e,t,r){"use strict";function n(e,t,r){function i(){g===y&&(g=y.slice())}function l(){return m}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),g.push(e),function(){if(t){t=!1,i();var r=g.indexOf(e);g.splice(r,1)}}}function c(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=h(m,e)}finally{v=!1}for(var t=y=g,r=0;r<t.length;r++){(0,t[r])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:s.INIT})}function f(){var e,t=u;return e={subscribe:function(e){function r(){e.next&&e.next(l())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return r(),{unsubscribe:t(r)}}},e[a.a]=function(){return this},e}var p;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(n)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,y=[],g=y,v=!1;return c({type:s.INIT}),p={dispatch:c,subscribe:u,getState:l,replaceReducer:d},p[a.a]=f,p}r.d(t,"a",function(){return s}),t.b=n;var o=r(/*! lodash-es/isPlainObject */"./node_modules/lodash-es/isPlainObject.js"),i=r(/*! symbol-observable */"./node_modules/symbol-observable/index.js"),a=r.n(i),s={INIT:"@@redux/INIT"}},"./node_modules/redux/es/index.js":/*!****************************************!*\
  !*** ./node_modules/redux/es/index.js ***!
  \****************************************/
/*! exports provided: createStore, combineReducers, bindActionCreators, applyMiddleware, compose */
/*! all exports used */
function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./createStore */"./node_modules/redux/es/createStore.js"),o=r(/*! ./combineReducers */"./node_modules/redux/es/combineReducers.js"),i=r(/*! ./bindActionCreators */"./node_modules/redux/es/bindActionCreators.js"),a=r(/*! ./applyMiddleware */"./node_modules/redux/es/applyMiddleware.js"),s=r(/*! ./compose */"./node_modules/redux/es/compose.js");r(/*! ./utils/warning */"./node_modules/redux/es/utils/warning.js");r.d(t,"createStore",function(){return n.b}),r.d(t,"combineReducers",function(){return o.a}),r.d(t,"bindActionCreators",function(){return i.a}),r.d(t,"applyMiddleware",function(){return a.a}),r.d(t,"compose",function(){return s.a})},"./node_modules/redux/es/utils/warning.js":/*!************************************************!*\
  !*** ./node_modules/redux/es/utils/warning.js ***!
  \************************************************/
/*! exports provided: default */
function(e,t,r){"use strict"},"./node_modules/style-loader/lib/addStyles.js":/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=h[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(c(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(c(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:a}}}}function o(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s=i[1],l=i[2],u=i[3],c={css:s,media:l,sourceMap:u};n[a]?n[a].parts.push(c):r.push(n[a]={id:a,parts:[c]})}return r}function i(e,t){var r=y(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),i(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),i(e,t),t}function u(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function c(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=v++;r=g||(g=s(t)),n=d.bind(null,r,u,!1),o=d.bind(null,r,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(t),n=p.bind(null,r,t),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=f.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function d(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=_(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),y=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e.call(this,r)),t[r]}}(function(e){return document.querySelector(e)}),g=null,v=0,b=[],_=r(/*! ./urls */"./node_modules/style-loader/lib/urls.js");e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=o(e,t);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a],l=h[s.id];l.refs--,i.push(l)}if(e){n(o(e,t),t)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var E=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},"./node_modules/style-loader/lib/urls.js":/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},"./node_modules/symbol-observable/index.js":/*!*************************************************!*\
  !*** ./node_modules/symbol-observable/index.js ***!
  \*************************************************/
/*! no static exports found */
/*! exports used: default */
function(e,t,r){e.exports=r(/*! ./lib/index */"./node_modules/symbol-observable/lib/index.js")},"./node_modules/symbol-observable/lib/index.js":/*!*****************************************************!*\
  !*** ./node_modules/symbol-observable/lib/index.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(/*! ./ponyfill */"./node_modules/symbol-observable/lib/ponyfill.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var s=(0,a.default)(o);t.default=s}).call(t,r(/*! ./../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"),r(/*! ./../../webpack/buildin/module.js */"./node_modules/webpack/buildin/module.js")(e))},"./node_modules/symbol-observable/lib/ponyfill.js":/*!********************************************************!*\
  !*** ./node_modules/symbol-observable/lib/ponyfill.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"./node_modules/webpack/buildin/global.js":/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./node_modules/webpack/buildin/module.js":/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/*! all exports used */
function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},0:/*!****************************************************!*\
  !*** multi react-hot-loader/patch ./cams/index.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
function(e,t,r){r(/*! react-hot-loader/patch */"./node_modules/react-hot-loader/patch.js"),e.exports=r(/*! ./cams/index.js */"./cams/index.js")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwNTc2YzkwN2MxOTI0MDczYzM1OCIsIndlYnBhY2s6Ly8vLi9jYW1zL0FwcC5qcyIsIndlYnBhY2s6Ly8vLi9jYW1zL2FjdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY2Ftcy9iZWFjaGVzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vY2Ftcy9jb21wb25lbnRzL0xheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9jYW1zL2NvbXBvbmVudHMvUGxheWVyLmpzIiwid2VicGFjazovLy8uL2NhbXMvY29tcG9uZW50cy9QbGF5ZXJzLmpzIiwid2VicGFjazovLy8uL2NhbXMvY29udGFpbmVycy9QbGF5ZXJzQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL2NhbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY2Ftcy9yZWR1Y2Vycy9jYW1lcmFzLmpzIiwid2VicGFjazovLy8uL2NhbXMvcmVkdWNlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzIiwid2VicGFjazovLy8uL2NhbXMvc3R5bGVzLnNjc3M/N2M4MyIsIndlYnBhY2s6Ly8vLi9jYW1zL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9jYW1zL3N0eWxlcy5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXZlbnRMaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ZvY3VzTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3QvaGxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX292ZXJBcmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9mb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L19oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L2JhYmVsLWhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L29wdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9zZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9BcHBDb250YWluZXIucHJvZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL2luZGV4LnByb2QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL3BhdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL3BhdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL2Nvbm5lY3RBZHZhbmNlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9jb25uZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvbWVyZ2VQcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3Qvd3JhcE1hcFRvUHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1Byb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9zaGFsbG93RXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvYmluZEFjdGlvbkNyZWF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jb21iaW5lUmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NyZWF0ZVN0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvcG9ueWZpbGwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJob3REaXNwb3NlQ2h1bmsiLCJjaHVua0lkIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGFyc2V0Iiwic3JjIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJob3RDdXJyZW50SGFzaCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRNYW5pZmVzdCIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwiZXJyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImUiLCJob3RDcmVhdGVSZXF1aXJlIiwibW9kdWxlSWQiLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJmbiIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiY2hpbGRyZW4iLCJjb25zb2xlIiwid2FybiIsIm5hbWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImZpbmlzaENodW5rTG9hZGluZyIsImhvdENodW5rc0xvYWRpbmciLCJob3RTdGF0dXMiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiX21haW4iLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsImkiLCJsZW5ndGgiLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJjaGVjayIsImhvdENoZWNrIiwiYXBwbHkiLCJob3RBcHBseSIsImwiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwiZGF0YSIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwidW5kZWZpbmVkIiwibmV3U3RhdHVzIiwidG9Nb2R1bGVJZCIsImlkIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdFJlcXVlc3RUaW1lb3V0IiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsInByb21pc2UiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJkZWZlcnJlZCIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImNiIiwiaiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsInVwZGF0ZU1vZHVsZUlkIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yZ2luYWxFcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ0aGlzIiwibSIsImQiLCJnZXR0ZXIiLCJvIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCIuL2NhbXMvQXBwLmpzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsImRlZmF1bHQiLCJfZ2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9MYXlvdXQiLCJfTGF5b3V0MiIsIl9QbGF5ZXJzQ29udGFpbmVyIiwiX1BsYXllcnNDb250YWluZXIyIiwiQXBwIiwiX0NvbXBvbmVudCIsIl9fcHJvdG9fXyIsImFyZ3VtZW50cyIsImtleSIsImNsYXNzTmFtZSIsIkNvbXBvbmVudCIsIi4vY2Ftcy9hY3Rpb25zL2luZGV4LmpzIiwic2V0VmlzaWJpbGl0eUZpbHRlciIsImZpbHRlciIsInNldE5ld0NhbWVyYSIsImNhbWVyYSIsImFkZE5ld0NhbWVyYSIsInVybCIsImRlbGV0ZUNhbWVyYSIsIi4vY2Ftcy9iZWFjaGVzLmpzb24iLCJiZWFjaGVzIiwiLi9jYW1zL2NvbXBvbmVudHMvTGF5b3V0LmpzIiwiTGF5b3V0IiwiX3JlZiIsIi4vY2Ftcy9jb21wb25lbnRzL1BsYXllci5qcyIsIl9obHMiLCJfaGxzMiIsIl91dGlscyIsIl9wcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsIl9yZWFjdERvbSIsIl9vcHRpb24iLCJfb3B0aW9uMiIsIl9zZWxlY3QiLCJfc2VsZWN0MiIsIl9idXR0b24iLCJfYnV0dG9uMiIsIlBsYXllciIsInByb3BzIiwiX3RoaXMiLCJzdGF0ZSIsInBsYXkiLCJobHMiLCJyZXJlbmRlciIsIl90aGlzMiIsImlzU3VwcG9ydGVkIiwiYmVhY2hIbHMiLCJsb2FkU291cmNlIiwiYXR0YWNoTWVkaWEiLCJyZWZzIiwidmlkZW8iLCJvbiIsIkV2ZW50cyIsIk1BTklGRVNUX1BBUlNFRCIsInNldFN0YXRlIiwic3RvcExvYWQiLCJfdGhpczMiLCJzdGFydExvYWQiLCJzZXR1cFBsYXllciIsInBhdXNlIiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwiX3RoaXM0IiwiZm9vdGVyIiwib25DaGFuZ2UiLCJldmVudCIsIm9uQ2xpY2siLCJpbmRleCIsInRhcmdldCIsImJlYWNoTmFtZXMiLCJiZWFjaCIsImxhYmVsIiwidmFyaWFudCIsImNvbG9yIiwicmVmIiwiYXV0b1BsYXkiLCJjb250cm9scyIsInByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJmdW5jIiwiLi9jYW1zL2NvbXBvbmVudHMvUGxheWVycy5qcyIsIl9QbGF5ZXIiLCJfUGxheWVyMiIsIlBsYXllcnNDb250YWluZXIiLCJjYW1lcmFzIiwiLi9jYW1zL2NvbnRhaW5lcnMvUGxheWVyc0NvbnRhaW5lci5qcyIsIl9rZXlzIiwiX2tleXMyIiwiX3JlYWN0UmVkdXgiLCJfUGxheWVycyIsIl9QbGF5ZXJzMiIsIl9hY3Rpb25zIiwiX2JlYWNoZXMiLCJtYXBTdGF0ZVRvUHJvcHMiLCJyZWR1Y2UiLCJtZW1vIiwiYmVhY2hLZXkiLCJzb3J0IiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwiZGlzcGF0Y2giLCJjb25uZWN0IiwiLi9jYW1zL2luZGV4LmpzIiwiX3N0eWxlcyIsIl9yZWFjdEhvdExvYWRlciIsIm5ld09iaiIsIl9yZWFjdERvbTIiLCJfQXBwIiwiX0FwcDIiLCJfcmVkdXgiLCJfcmVkdWNlcnMiLCJfcmVkdWNlcnMyIiwicm9vdEVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdG9yZSIsImNyZWF0ZVN0b3JlIiwicmVuZGVyIiwiUHJvdmlkZXIiLCJBcHBDb250YWluZXIiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaHJlZiIsIndpbmRvdyIsInN1YnN0cmluZyIsIi4vY2Ftcy9yZWR1Y2Vycy9jYW1lcmFzLmpzIiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsIl90b0NvbnN1bWFibGVBcnJheTMiLCJhY3Rpb24iLCJuZXdTdGF0ZSIsIi4vY2Ftcy9yZWR1Y2Vycy9pbmRleC5qcyIsIl92aXNpYmlsaXR5RmlsdGVyIiwiX3Zpc2liaWxpdHlGaWx0ZXIyIiwiX2NhbWVyYXMiLCJfY2FtZXJhczIiLCJ3ZWJjYW1zIiwiY29tYmluZVJlZHVjZXJzIiwidmlzaWJpbGl0eUZpbHRlciIsIi4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzIiwiLi9jYW1zL3N0eWxlcy5zY3NzIiwiY29udGVudCIsInRyYW5zZm9ybSIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCIuL2NhbXMvdXRpbHMvdXRpbHMuanMiLCJ1dGlscyIsImlzTW9iaWxlIiwidGVzdCIsInN1YnN0ciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJfc2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZSIsIl9jcmVhdGUyIiwiX3R5cGVvZjIiLCJfdHlwZW9mMyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNvbnN0cnVjdG9yIiwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJfZnJvbSIsIl9mcm9tMiIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwiX2l0ZXJhdG9yIiwiX2l0ZXJhdG9yMiIsIl9zeW1ib2wiLCJfc3ltYm9sMiIsIl90eXBlb2YiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyIsImZyb20iLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIiRPYmplY3QiLCJQIiwiRCIsImNyZWF0ZSIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwiaXQiLCJkZXNjIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwiZ2V0UHJvdG90eXBlT2YiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJzZXRQcm90b3R5cGVPZiIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCJTeW1ib2wiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwiZiIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJpc09iamVjdCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsInRvSU9iamVjdCIsInRvTGVuZ3RoIiwidG9BYnNvbHV0ZUluZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImVsIiwiZnJvbUluZGV4IiwiTyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwiY29mIiwiVEFHIiwiQVJHIiwidHJ5R2V0IiwiVCIsIkIiLCJjYWxsZWUiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwidG9TdHJpbmciLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsImNvcmUiLCJ2ZXJzaW9uIiwiX19lIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qcyIsIiRkZWZpbmVQcm9wZXJ0eSIsImNyZWF0ZURlc2MiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwiYUZ1bmN0aW9uIiwidGhhdCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJpcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwic3BsaXQiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwiZ2V0S2V5cyIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwic3ltYm9scyIsImlzRW51bSIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJnbG9iYWwiLCJjdHgiLCJoaWRlIiwiJGV4cG9ydCIsInNvdXJjZSIsIm93biIsIm91dCIsIklTX0ZPUkNFRCIsIkYiLCJJU19HTE9CQUwiLCJHIiwiSVNfU1RBVElDIiwiUyIsIklTX1BST1RPIiwiSVNfQklORCIsIklTX1dSQVAiLCJXIiwiZXhwUHJvdG8iLCJDIiwiRnVuY3Rpb24iLCJ2aXJ0dWFsIiwiUiIsIlUiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJleGVjIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIk1hdGgiLCJfX2ciLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJkUCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzIiwiZG9jdW1lbnRFbGVtZW50IiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwiSXRlcmF0b3JzIiwiSVRFUkFUT1IiLCJBcnJheVByb3RvIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwiYXJnIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJhbk9iamVjdCIsIml0ZXJhdG9yIiwiZW50cmllcyIsInJldCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsInNldFRvU3RyaW5nVGFnIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJOQU1FIiwibmV4dCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIkxJQlJBUlkiLCJyZWRlZmluZSIsImhhcyIsIiRpdGVyQ3JlYXRlIiwiQlVHR1kiLCJyZXR1cm5UaGlzIiwiQmFzZSIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiZ2V0TWV0aG9kIiwia2luZCIsInByb3RvIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCIkZW50cmllcyIsIiRhbnlOYXRpdmUiLCJ2YWx1ZXMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJTQUZFX0NMT1NJTkciLCJyaXRlciIsInNraXBDbG9zaW5nIiwic2FmZSIsIml0ZXIiLCJkb25lIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwiTUVUQSIsInNldERlc2MiLCJpc0V4dGVuc2libGUiLCJGUkVFWkUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNldE1ldGEiLCJ3IiwiZmFzdEtleSIsImdldFdlYWsiLCJvbkZyZWV6ZSIsIm1ldGEiLCJORUVEIiwiS0VZIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJkUHMiLCJlbnVtQnVnS2V5cyIsIklFX1BST1RPIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJjb250ZW50V2luZG93Iiwid3JpdGUiLCJsdCIsImNsb3NlIiwiUHJvcGVydGllcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiQXR0cmlidXRlcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwiZ09QRCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJnT1BOIiwid2luZG93TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCIka2V5cyIsImhpZGRlbktleXMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsInRvT2JqZWN0IiwiT2JqZWN0UHJvdG8iLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJhcnJheUluZGV4T2YiLCJuYW1lcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJmYWlscyIsImV4cCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwiYml0bWFwIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsImJ1Z2d5IiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwiZGVmIiwidGFnIiwic3RhdCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwic2hhcmVkIiwidWlkIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ0b0ludGVnZXIiLCJkZWZpbmVkIiwiVE9fU1RSSU5HIiwicG9zIiwiU3RyaW5nIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcyIsIm1heCIsIm1pbiIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIklPYmplY3QiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ2YWwiLCJ2YWx1ZU9mIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcyIsInB4IiwicmFuZG9tIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3a3NFeHQiLCIkU3ltYm9sIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwiVVNFX1NZTUJPTCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsImNsYXNzb2YiLCJnZXRJdGVyYXRvck1ldGhvZCIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwiaXNBcnJheUl0ZXIiLCJjcmVhdGVQcm9wZXJ0eSIsImdldEl0ZXJGbiIsImFycmF5TGlrZSIsInN0ZXAiLCJhTGVuIiwibWFwZm4iLCJtYXBwaW5nIiwiaXRlckZuIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwiYWRkVG9VbnNjb3BhYmxlcyIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsIl9rIiwiQXJndW1lbnRzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIiRnZXRQcm90b3R5cGVPZiIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIiRhdCIsInBvaW50IiwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIkRFU0NSSVBUT1JTIiwiJGZhaWxzIiwid2tzIiwid2tzRGVmaW5lIiwiZW51bUtleXMiLCJnT1BORXh0IiwiJEdPUEQiLCIkRFAiLCIkSlNPTiIsIl9zdHJpbmdpZnkiLCJzdHJpbmdpZnkiLCJISURERU4iLCJUT19QUklNSVRJVkUiLCJTeW1ib2xSZWdpc3RyeSIsIkFsbFN5bWJvbHMiLCJPUFN5bWJvbHMiLCJVU0VfTkFUSVZFIiwiUU9iamVjdCIsInNldHRlciIsImZpbmRDaGlsZCIsInNldFN5bWJvbERlc2MiLCJwcm90b0Rlc2MiLCJ3cmFwIiwic3ltIiwiaXNTeW1ib2wiLCIkZGVmaW5lUHJvcGVydGllcyIsIiRjcmVhdGUiLCIkcHJvcGVydHlJc0VudW1lcmFibGUiLCJFIiwiJGdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIiRnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiJGdldE93blByb3BlcnR5U3ltYm9scyIsIklTX09QIiwiJHNldCIsImVzNlN5bWJvbHMiLCJ3ZWxsS25vd25TeW1ib2xzIiwiayIsImZvciIsImtleUZvciIsInVzZVNldHRlciIsInVzZVNpbXBsZSIsInJlcGxhY2VyIiwiJHJlcGxhY2VyIiwiYXJncyIsIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwiVE9fU1RSSU5HX1RBRyIsIkRPTUl0ZXJhYmxlcyIsIkNvbGxlY3Rpb24iLCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2NzcyIsIi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInRvQ29tbWVudCIsInNvdXJjZXMiLCJzb3VyY2VSb290Iiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJsaXN0IiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FdmVudExpc3RlbmVyLmpzIiwiZW1wdHlGdW5jdGlvbiIsIkV2ZW50TGlzdGVuZXIiLCJsaXN0ZW4iLCJldmVudFR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiZGV0YWNoRXZlbnQiLCJjYXB0dXJlIiwicmVnaXN0ZXJEZWZhdWx0IiwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJjYW5Vc2VET00iLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsImNhblVzZVdvcmtlcnMiLCJXb3JrZXIiLCJjYW5Vc2VFdmVudExpc3RlbmVycyIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qcyIsImNvbnRhaW5zTm9kZSIsIm91dGVyTm9kZSIsImlubmVyTm9kZSIsImlzVGV4dE5vZGUiLCJwYXJlbnROb2RlIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJtYWtlRW1wdHlGdW5jdGlvbiIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qcyIsImVtcHR5T2JqZWN0IiwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZm9jdXNOb2RlLmpzIiwiZm9jdXNOb2RlIiwibm9kZSIsImZvY3VzIiwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudC5qcyIsImdldEFjdGl2ZUVsZW1lbnQiLCJkb2MiLCJhY3RpdmVFbGVtZW50IiwiYm9keSIsIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsInZhbGlkYXRlRm9ybWF0IiwiYXJnSW5kZXgiLCJyZXBsYWNlIiwiZnJhbWVzVG9Qb3AiLCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCJpc05vZGUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanMiLCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9zaGFsbG93RXF1YWwuanMiLCJ4IiwieSIsInNoYWxsb3dFcXVhbCIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzQiIsIi4vbm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L2hscy5qcyIsInJvb3QiLCJmYWN0b3J5IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIm5vb3AiLCJmb3JtYXRNc2ciLCJtc2ciLCJjb25zb2xlUHJpbnRGbiIsIl9sZW4iLCJfa2V5IiwiZXhwb3J0TG9nZ2VyRnVuY3Rpb25zIiwiZGVidWdDb25maWciLCJfbGVuMiIsImZ1bmN0aW9ucyIsIl9rZXkyIiwiZXhwb3J0ZWRMb2dnZXIiLCJiaW5kIiwiZW5hYmxlTG9ncyIsImxvZ2dlciIsImZha2VMb2dnZXIiLCJ0cmFjZSIsImRlYnVnIiwibG9nIiwiaW5mbyIsIk1FRElBX0FUVEFDSElORyIsIk1FRElBX0FUVEFDSEVEIiwiTUVESUFfREVUQUNISU5HIiwiTUVESUFfREVUQUNIRUQiLCJCVUZGRVJfUkVTRVQiLCJCVUZGRVJfQ09ERUNTIiwiQlVGRkVSX0NSRUFURUQiLCJCVUZGRVJfQVBQRU5ESU5HIiwiQlVGRkVSX0FQUEVOREVEIiwiQlVGRkVSX0VPUyIsIkJVRkZFUl9GTFVTSElORyIsIkJVRkZFUl9GTFVTSEVEIiwiTUFOSUZFU1RfTE9BRElORyIsIk1BTklGRVNUX0xPQURFRCIsIkxFVkVMX1NXSVRDSCIsIkxFVkVMX1NXSVRDSElORyIsIkxFVkVMX1NXSVRDSEVEIiwiTEVWRUxfTE9BRElORyIsIkxFVkVMX0xPQURFRCIsIkxFVkVMX1VQREFURUQiLCJMRVZFTF9QVFNfVVBEQVRFRCIsIkFVRElPX1RSQUNLU19VUERBVEVEIiwiQVVESU9fVFJBQ0tfU1dJVENIIiwiQVVESU9fVFJBQ0tfU1dJVENISU5HIiwiQVVESU9fVFJBQ0tfU1dJVENIRUQiLCJBVURJT19UUkFDS19MT0FESU5HIiwiQVVESU9fVFJBQ0tfTE9BREVEIiwiU1VCVElUTEVfVFJBQ0tTX1VQREFURUQiLCJTVUJUSVRMRV9UUkFDS19TV0lUQ0giLCJTVUJUSVRMRV9UUkFDS19MT0FESU5HIiwiU1VCVElUTEVfVFJBQ0tfTE9BREVEIiwiU1VCVElUTEVfRlJBR19QUk9DRVNTRUQiLCJJTklUX1BUU19GT1VORCIsIkZSQUdfTE9BRElORyIsIkZSQUdfTE9BRF9QUk9HUkVTUyIsIkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCIsIkZSQUdfTE9BREVEIiwiRlJBR19ERUNSWVBURUQiLCJGUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5UIiwiRlJBR19QQVJTSU5HX1VTRVJEQVRBIiwiRlJBR19QQVJTSU5HX01FVEFEQVRBIiwiRlJBR19QQVJTSU5HX0RBVEEiLCJGUkFHX1BBUlNFRCIsIkZSQUdfQlVGRkVSRUQiLCJGUkFHX0NIQU5HRUQiLCJGUFNfRFJPUCIsIkZQU19EUk9QX0xFVkVMX0NBUFBJTkciLCJFUlJPUiIsIkRFU1RST1lJTkciLCJLRVlfTE9BRElORyIsIktFWV9MT0FERUQiLCJTVFJFQU1fU1RBVEVfVFJBTlNJVElPTiIsIkVycm9yVHlwZXMiLCJFcnJvckRldGFpbHMiLCJORVRXT1JLX0VSUk9SIiwiTUVESUFfRVJST1IiLCJNVVhfRVJST1IiLCJPVEhFUl9FUlJPUiIsIk1BTklGRVNUX0xPQURfRVJST1IiLCJNQU5JRkVTVF9MT0FEX1RJTUVPVVQiLCJNQU5JRkVTVF9QQVJTSU5HX0VSUk9SIiwiTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUiIsIkxFVkVMX0xPQURfRVJST1IiLCJMRVZFTF9MT0FEX1RJTUVPVVQiLCJMRVZFTF9TV0lUQ0hfRVJST1IiLCJBVURJT19UUkFDS19MT0FEX0VSUk9SIiwiQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUIiwiRlJBR19MT0FEX0VSUk9SIiwiRlJBR19MT09QX0xPQURJTkdfRVJST1IiLCJGUkFHX0xPQURfVElNRU9VVCIsIkZSQUdfREVDUllQVF9FUlJPUiIsIkZSQUdfUEFSU0lOR19FUlJPUiIsIlJFTVVYX0FMTE9DX0VSUk9SIiwiS0VZX0xPQURfRVJST1IiLCJLRVlfTE9BRF9USU1FT1VUIiwiQlVGRkVSX0FERF9DT0RFQ19FUlJPUiIsIkJVRkZFUl9BUFBFTkRfRVJST1IiLCJCVUZGRVJfQVBQRU5ESU5HX0VSUk9SIiwiQlVGRkVSX1NUQUxMRURfRVJST1IiLCJCVUZGRVJfRlVMTF9FUlJPUiIsIkJVRkZFUl9TRUVLX09WRVJfSE9MRSIsIkJVRkZFUl9OVURHRV9PTl9TVEFMTCIsIklOVEVSTkFMX0VYQ0VQVElPTiIsIl9jbGFzc0NhbGxDaGVjayIsIklEMyIsImlzSGVhZGVyIiwib2Zmc2V0IiwiaXNGb290ZXIiLCJnZXRJRDNEYXRhIiwiZnJvbnQiLCJfcmVhZFNpemUiLCJzdWJhcnJheSIsInNpemUiLCJnZXRUaW1lU3RhbXAiLCJmcmFtZXMiLCJnZXRJRDNGcmFtZXMiLCJmcmFtZSIsImlzVGltZVN0YW1wRnJhbWUiLCJfcmVhZFRpbWVTdGFtcCIsIl9nZXRGcmFtZURhdGEiLCJmcm9tQ2hhckNvZGUiLCJpZDNEYXRhIiwiZW5kIiwiZnJhbWVEYXRhIiwiX2RlY29kZUZyYW1lIiwiX2RlY29kZVByaXZGcmFtZSIsIl9kZWNvZGVUZXh0RnJhbWUiLCJfZGVjb2RlVVJMRnJhbWUiLCJ0aW1lU3RhbXBGcmFtZSIsImJ5dGVMZW5ndGgiLCJVaW50OEFycmF5IiwicHRzMzNCaXQiLCJ0aW1lc3RhbXAiLCJyb3VuZCIsIm93bmVyIiwiX3V0ZjhBcnJheVRvU3RyIiwicHJpdmF0ZURhdGEiLCJidWZmZXIiLCJkZXNjcmlwdGlvbiIsInRleHQiLCJhcnJheSIsImNoYXIyIiwiY2hhcjMiLCJFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwiX21heExpc3RlbmVycyIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImVtaXQiLCJlciIsImhhbmRsZXIiLCJsZW4iLCJsaXN0ZW5lcnMiLCJjb250ZXh0IiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsIm5ld0xpc3RlbmVyIiwid2FybmVkIiwib25jZSIsImciLCJyZW1vdmVMaXN0ZW5lciIsImZpcmVkIiwicG9zaXRpb24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJsaXN0ZW5lckNvdW50IiwiZXZsaXN0ZW5lciIsImVtaXR0ZXIiLCJVUkxfUkVHRVgiLCJGSVJTVF9TRUdNRU5UX1JFR0VYIiwiU0xBU0hfRE9UX1JFR0VYIiwiU0xBU0hfRE9UX0RPVF9SRUdFWCIsIlVSTFRvb2xraXQiLCJidWlsZEFic29sdXRlVVJMIiwiYmFzZVVSTCIsInJlbGF0aXZlVVJMIiwib3B0cyIsInRyaW0iLCJhbHdheXNOb3JtYWxpemUiLCJiYXNlUGFydHNGb3JOb3JtYWxpc2UiLCJwYXJzZVVSTCIsImJhc2VQYXJ0cyIsInBhdGgiLCJub3JtYWxpemVQYXRoIiwiYnVpbGRVUkxGcm9tUGFydHMiLCJyZWxhdGl2ZVBhcnRzIiwic2NoZW1lIiwibmV0TG9jIiwicGF0aFBhcnRzIiwiYnVpbHRQYXJ0cyIsInBhcmFtcyIsInF1ZXJ5IiwiZnJhZ21lbnQiLCJiYXNlVVJMUGF0aCIsIm5ld1BhdGgiLCJsYXN0SW5kZXhPZiIsInBhcnRzIiwicmV2ZXJzZSIsImZhc3RfYWVzX2tleV9fY2xhc3NDYWxsQ2hlY2siLCJhZXNfZGVjcnlwdG9yX19jbGFzc0NhbGxDaGVjayIsImRlY3J5cHRlcl9fY2xhc3NDYWxsQ2hlY2siLCJnZXRBdWRpb0NvbmZpZyIsIm9ic2VydmVyIiwiYXVkaW9Db2RlYyIsImFkdHNPYmplY3RUeXBlIiwiYWR0c1NhbXBsZWluZ0luZGV4IiwiYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4IiwiYWR0c0NoYW5lbENvbmZpZyIsImNvbmZpZyIsInRvTG93ZXJDYXNlIiwibWFuaWZlc3RDb2RlYyIsImFkdHNTYW1wbGVpbmdSYXRlcyIsInRyaWdnZXIiLCJFdmVudCIsImVycm9ycyIsImRldGFpbHMiLCJmYXRhbCIsInJlYXNvbiIsInNhbXBsZXJhdGUiLCJjaGFubmVsQ291bnQiLCJjb2RlYyIsImlzSGVhZGVyUGF0dGVybiIsImdldEhlYWRlckxlbmd0aCIsImdldEZ1bGxGcmFtZUxlbmd0aCIsImFkdHNfcHJvYmUiLCJoZWFkZXJMZW5ndGgiLCJmcmFtZUxlbmd0aCIsIm5ld09mZnNldCIsImluaXRUcmFja0NvbmZpZyIsInRyYWNrIiwiZ2V0RnJhbWVEdXJhdGlvbiIsInBhcnNlRnJhbWVIZWFkZXIiLCJwdHMiLCJmcmFtZUluZGV4IiwiZnJhbWVEdXJhdGlvbiIsInN0YW1wIiwiYXBwZW5kRnJhbWUiLCJoZWFkZXIiLCJhYWNTYW1wbGUiLCJ1bml0IiwiZHRzIiwic2FtcGxlcyIsInNhbXBsZSIsImFhY2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrIiwibXA0ZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2siLCJleHBfZ29sb21iX19jbGFzc0NhbGxDaGVjayIsInNhbXBsZV9hZXNfX2NsYXNzQ2FsbENoZWNrIiwidHNkZW11eGVyX19jbGFzc0NhbGxDaGVjayIsIm1wM2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrIiwiYWFjX19jbGFzc0NhbGxDaGVjayIsIm1wNF9nZW5lcmF0b3JfX2NsYXNzQ2FsbENoZWNrIiwibXA0X3JlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrIiwicGFzc3Rocm91Z2hfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2siLCJkZW11eGVyX2lubGluZV9fY2xhc3NDYWxsQ2hlY2siLCJldmVudHMiLCJBRVNDcnlwdG8iLCJzdWJ0bGUiLCJpdiIsImFlc0lWIiwiZGVjcnlwdCIsImFlc19jcnlwdG8iLCJGYXN0QUVTS2V5IiwiZXhwYW5kS2V5IiwiaW1wb3J0S2V5IiwiZmFzdF9hZXNfa2V5IiwiQUVTRGVjcnlwdG9yIiwicmNvbiIsInN1Yk1peCIsIlVpbnQzMkFycmF5IiwiaW52U3ViTWl4Iiwic0JveCIsImludlNCb3giLCJpbml0VGFibGUiLCJ1aW50OEFycmF5VG9VaW50MzJBcnJheV8iLCJhcnJheUJ1ZmZlciIsInZpZXciLCJEYXRhVmlldyIsIm5ld0FycmF5IiwiZ2V0VWludDMyIiwic3ViTWl4MCIsInN1Yk1peDEiLCJzdWJNaXgyIiwic3ViTWl4MyIsImludlN1Yk1peDAiLCJpbnZTdWJNaXgxIiwiaW52U3ViTWl4MiIsImludlN1Yk1peDMiLCJ4aSIsInN4IiwieDIiLCJ4NCIsIng4IiwidCIsImtleUJ1ZmZlciIsInNhbWVLZXkiLCJrZXlTaXplIiwia3NSb3dzIiwia3NSb3ciLCJpbnZLc1JvdyIsImtleVNjaGVkdWxlIiwiaW52S2V5U2NoZWR1bGUiLCJzYm94IiwicHJldiIsIm5ldHdvcmtUb0hvc3RPcmRlclN3YXAiLCJ3b3JkIiwiaW5wdXRBcnJheUJ1ZmZlciIsIm5Sb3VuZHMiLCJpbnZTQk9YIiwiaW5pdFZlY3RvciIsImluaXRWZWN0b3IwIiwiaW5pdFZlY3RvcjEiLCJpbml0VmVjdG9yMiIsImluaXRWZWN0b3IzIiwiaW5wdXRJbnQzMiIsIkludDMyQXJyYXkiLCJvdXRwdXRJbnQzMiIsInQwIiwidDEiLCJ0MiIsInQzIiwiczAiLCJzMSIsInMyIiwiczMiLCJpbnB1dFdvcmRzMCIsImlucHV0V29yZHMxIiwiaW5wdXRXb3JkczIiLCJpbnB1dFdvcmRzMyIsInN3YXBXb3JkIiwiZGVzdHJveSIsImFlc19kZWNyeXB0b3IiLCJkZWNyeXB0ZXJfRGVjcnlwdGVyIiwiRGVjcnlwdGVyIiwibG9nRW5hYmxlZCIsImJyb3dzZXJDcnlwdG8iLCJjcnlwdG8iLCJ3ZWJraXRTdWJ0bGUiLCJkaXNhYmxlV2ViQ3J5cHRvIiwiaXNTeW5jIiwiZW5hYmxlU29mdHdhcmVBRVMiLCJkZWNyeXB0b3IiLCJmYXN0QWVzS2V5IiwiYWVzS2V5IiwiY2F0Y2giLCJvbldlYkNyeXB0b0Vycm9yIiwibWVzc2FnZSIsImNyeXB0X2RlY3J5cHRlciIsImlkMyIsImFhY2RlbXV4ZXJfQUFDRGVtdXhlciIsIkFBQ0RlbXV4ZXIiLCJyZW11eGVyIiwicmVzZXRJbml0U2VnbWVudCIsImluaXRTZWdtZW50IiwidmlkZW9Db2RlYyIsImR1cmF0aW9uIiwiX2F1ZGlvVHJhY2siLCJjb250YWluZXIiLCJzZXF1ZW5jZU51bWJlciIsImlzQUFDIiwiaW5wdXRUaW1lU2NhbGUiLCJyZXNldFRpbWVTdGFtcCIsInByb2JlIiwiYXBwZW5kIiwidGltZU9mZnNldCIsImNvbnRpZ3VvdXMiLCJhY2N1cmF0ZVRpbWVPZmZzZXQiLCJpZDNTYW1wbGVzIiwicmVtdXgiLCJhYWNkZW11eGVyIiwiVUlOVDMyX01BWCIsInBvdyIsIm1wNGRlbXV4ZXJfTVA0RGVtdXhlciIsIk1QNERlbXV4ZXIiLCJpbml0UFRTIiwiaW5pdERhdGEiLCJwYXJzZUluaXRTZWdtZW50IiwidHJhY2tzIiwiYXVkaW8iLCJhdWRpb3ZpZGVvIiwiYmluMnN0ciIsInJlYWRVaW50MzIiLCJzdGFydCIsIndyaXRlVWludDMyIiwiZmluZEJveCIsInN1YnJlc3VsdHMiLCJlbmRib3giLCJyZXN1bHRzIiwidHJhayIsInRraGQiLCJ0cmFja0lkIiwibWRoZCIsInRpbWVzY2FsZSIsImhkbHIiLCJoZGxyVHlwZSIsInNvdW4iLCJ2aWRlIiwiZ2V0U3RhcnREVFMiLCJ0cmFmcyIsImJhc2VUaW1lcyIsInRyYWYiLCJ0ZmhkIiwic2NhbGUiLCJ0ZmR0IiwiaXNGaW5pdGUiLCJvZmZzZXRTdGFydERUUyIsImJhc2VNZWRpYURlY29kZVRpbWUiLCJ1cHBlciIsImxvd2VyIiwic3RhcnREVFMiLCJfc3RhcnREVFMiLCJtcDRkZW11eGVyIiwiTXBlZ0F1ZGlvIiwiQml0cmF0ZXNNYXAiLCJTYW1wbGluZ1JhdGVNYXAiLCJwYXJzZUhlYWRlciIsInNhbXBsZVJhdGUiLCJoZWFkZXJCIiwiaGVhZGVyQyIsImhlYWRlckUiLCJoZWFkZXJGIiwiaGVhZGVyRyIsImNvbHVtbkluQml0cmF0ZXMiLCJiaXRSYXRlIiwiY29sdW1uSW5TYW1wbGVSYXRlcyIsInBhZGRpbmciLCJtcGVnYXVkaW8iLCJleHBfZ29sb21iX0V4cEdvbG9tYiIsIkV4cEdvbG9tYiIsImJ5dGVzQXZhaWxhYmxlIiwiYml0c0F2YWlsYWJsZSIsImxvYWRXb3JkIiwid29ya2luZ0J5dGVzIiwiYXZhaWxhYmxlQnl0ZXMiLCJza2lwQml0cyIsImNvdW50Iiwic2tpcEJ5dGVzIiwicmVhZEJpdHMiLCJiaXRzIiwidmFsdSIsInNraXBMWiIsImxlYWRpbmdaZXJvQ291bnQiLCJza2lwVUVHIiwic2tpcEVHIiwicmVhZFVFRyIsImNseiIsInJlYWRFRyIsInJlYWRCb29sZWFuIiwicmVhZFVCeXRlIiwicmVhZFVTaG9ydCIsInJlYWRVSW50Iiwic2tpcFNjYWxpbmdMaXN0IiwiZGVsdGFTY2FsZSIsImxhc3RTY2FsZSIsIm5leHRTY2FsZSIsInJlYWRTUFMiLCJwcm9maWxlSWRjIiwibnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlIiwicGljV2lkdGhJbk1ic01pbnVzMSIsInBpY0hlaWdodEluTWFwVW5pdHNNaW51czEiLCJmcmFtZU1ic09ubHlGbGFnIiwic2NhbGluZ0xpc3RDb3VudCIsImZyYW1lQ3JvcExlZnRPZmZzZXQiLCJmcmFtZUNyb3BSaWdodE9mZnNldCIsImZyYW1lQ3JvcFRvcE9mZnNldCIsImZyYW1lQ3JvcEJvdHRvbU9mZnNldCIsImNocm9tYUZvcm1hdElkYyIsInBpY09yZGVyQ250VHlwZSIsInBpeGVsUmF0aW8iLCJ3aWR0aCIsImhlaWdodCIsInJlYWRTbGljZVR5cGUiLCJleHBfZ29sb21iIiwic2FtcGxlX2Flc19TYW1wbGVBZXNEZWNyeXB0ZXIiLCJTYW1wbGVBZXNEZWNyeXB0ZXIiLCJkZWNyeXB0ZGF0YSIsImRpc2NhcmRFUEIiLCJkZWNyeXB0ZXIiLCJkZWNyeXB0QnVmZmVyIiwiZW5jcnlwdGVkRGF0YSIsImRlY3J5cHRBYWNTYW1wbGUiLCJzYW1wbGVJbmRleCIsInN5bmMiLCJjdXJVbml0IiwiZW5jcnlwdGVkQnVmZmVyIiwiYnl0ZU9mZnNldCIsImxvY2FsdGhpcyIsImRlY3J5cHRlZERhdGEiLCJkZWNyeXB0QWFjU2FtcGxlcyIsImdldEF2Y0VuY3J5cHRlZERhdGEiLCJkZWNvZGVkRGF0YSIsImVuY3J5cHRlZERhdGFMZW4iLCJJbnQ4QXJyYXkiLCJvdXRwdXRQb3MiLCJpbnB1dFBvcyIsImdldEF2Y0RlY3J5cHRlZFVuaXQiLCJkZWNyeXB0QXZjU2FtcGxlIiwidW5pdEluZGV4IiwiZGVjcnlwdEF2Y1NhbXBsZXMiLCJjdXJVbml0cyIsInVuaXRzIiwic2FtcGxlX2FlcyIsInRzZGVtdXhlcl9UU0RlbXV4ZXIiLCJUU0RlbXV4ZXIiLCJ0eXBlU3VwcG9ydGVkIiwic2FtcGxlQWVzIiwic2V0RGVjcnlwdERhdGEiLCJtZXRob2QiLCJwbXRQYXJzZWQiLCJfcG10SWQiLCJfYXZjVHJhY2siLCJkcm9wcGVkIiwiX2lkM1RyYWNrIiwiX3R4dFRyYWNrIiwiYWFjT3ZlckZsb3ciLCJhYWNMYXN0UFRTIiwiYXZjU2FtcGxlIiwiX2R1cmF0aW9uIiwic3R0IiwicGlkIiwicGVzIiwidW5rbm93blBJRHMiLCJhdmNUcmFjayIsImF1ZGlvVHJhY2siLCJpZDNUcmFjayIsImF2Y0lkIiwiYXVkaW9JZCIsImlkM0lkIiwicG10SWQiLCJhdmNEYXRhIiwicGVzRGF0YSIsImF1ZGlvRGF0YSIsInBhcnNlUEFUIiwiX3BhcnNlUEFUIiwicGFyc2VQTVQiLCJfcGFyc2VQTVQiLCJwYXJzZVBFUyIsIl9wYXJzZVBFUyIsInBhcnNlQVZDUEVTIiwiX3BhcnNlQVZDUEVTIiwicGFyc2VBQUNQRVMiLCJfcGFyc2VBQUNQRVMiLCJwYXJzZU1QRUdQRVMiLCJfcGFyc2VNUEVHUEVTIiwicGFyc2VJRDNQRVMiLCJfcGFyc2VJRDNQRVMiLCJwYXJzZWRQSURzIiwibXBlZyIsIm1wMyIsImF2YyIsImRlY3J5cHRBbmRSZW11eCIsInZpZGVvVHJhY2siLCJ0ZXh0VHJhY2siLCJkZWNyeXB0QW5kUmVtdXhBdmMiLCJfaW5pdFBUUyIsIl9pbml0RFRTIiwibXBlZ1N1cHBvcnRlZCIsImlzU2FtcGxlQWVzIiwic2VjdGlvbkxlbmd0aCIsInRhYmxlRW5kIiwicHJvZ3JhbUluZm9MZW5ndGgiLCJzdHJlYW0iLCJmcmFnIiwicGVzRmxhZ3MiLCJwZXNMZW4iLCJwZXNIZHJMZW4iLCJwZXNQdHMiLCJwZXNEdHMiLCJwYXlsb2FkU3RhcnRPZmZzZXQiLCJuZXdEYXRhIiwiZGF0YUxlbiIsInB1c2hBY2Nlc1VuaXQiLCJuYlNhbXBsZXMiLCJmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5Iiwic3BzIiwibGFzdCIsImV4cEdvbG9tYkRlY29kZXIiLCJfcGFyc2VBVkNOQUx1Iiwic3BzZm91bmQiLCJjcmVhdGVBVkNTYW1wbGUiLCJhdWRGb3VuZCIsInNsaWNlVHlwZSIsInBheWxvYWRUeXBlIiwicGF5bG9hZFNpemUiLCJlbmRPZkNhcHRpb25zIiwiZmlyc3RCeXRlIiwic2Vjb25kQnl0ZSIsInRvdGFsQ0NzIiwiYnl0ZUFycmF5IiwiX2luc2VydFNhbXBsZUluT3JkZXIiLCJieXRlcyIsImNvZGVjYXJyYXkiLCJjb2RlY3N0cmluZyIsInBwcyIsIl9nZXRMYXN0TmFsVW5pdCIsImxhc3RVbml0Iiwib3ZlcmZsb3ciLCJ1bml0VHlwZSIsImxhc3RVbml0VHlwZSIsIm5hbHVTdGF0ZSIsImxhc3RTdGF0ZSIsImxhc3RVbml0U3RhcnQiLCJ0bXAiLCJfbGFzdFVuaXQiLCJfdG1wIiwibmV3TGVuZ3RoIiwiRVBCUG9zaXRpb25zIiwic291cmNlSW5kZXgiLCJzaGlmdCIsIm5ld1BUUyIsImFicyIsInRzZGVtdXhlciIsIm1wM2RlbXV4ZXJfTVAzRGVtdXhlciIsIk1QM0RlbXV4ZXIiLCJtcDNkZW11eGVyIiwiQUFDIiwiZ2V0U2lsZW50RnJhbWUiLCJhYWMiLCJtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVgiLCJNUDQiLCJpbml0IiwidHlwZXMiLCJhdmMxIiwiYXZjQyIsImJ0cnQiLCJkaW5mIiwiZHJlZiIsImVzZHMiLCJmdHlwIiwibWRhdCIsIm1kaWEiLCJtZmhkIiwibWluZiIsIm1vb2YiLCJtb292IiwibXA0YSIsIi5tcDMiLCJtdmV4IiwibXZoZCIsInBhc3AiLCJzZHRwIiwic3RibCIsInN0Y28iLCJzdHNjIiwic3RzZCIsInN0c3oiLCJzdHRzIiwidHJ1biIsInRyZXgiLCJ2bWhkIiwic21oZCIsInZpZGVvSGRsciIsImF1ZGlvSGRsciIsIkhETFJfVFlQRVMiLCJTVFRTIiwiU1RTQyIsIlNUQ08iLCJTVFNaIiwiVk1IRCIsIlNNSEQiLCJTVFNEIiwibWFqb3JCcmFuZCIsImF2YzFCcmFuZCIsIm1pbm9yVmVyc2lvbiIsIkZUWVAiLCJib3giLCJESU5GIiwicGF5bG9hZCIsInVwcGVyV29yZER1cmF0aW9uIiwibG93ZXJXb3JkRHVyYXRpb24iLCJzbiIsImJveGVzIiwiZmxhZ3MiLCJkZXBlbmRzT24iLCJpc0RlcGVuZGVkT24iLCJoYXNSZWR1bmRhbmN5IiwiYXZjYyIsImhTcGFjaW5nIiwidlNwYWNpbmciLCJjb25maWdsZW4iLCJzYW1wbGVEZXBlbmRlbmN5VGFibGUiLCJ1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lIiwibG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSIsImN0cyIsImFycmF5bGVuIiwiaXNMZWFkaW5nIiwicGFkZGluZ1ZhbHVlIiwiaXNOb25TeW5jIiwiZGVncmFkUHJpbyIsIm1vdmllIiwibXA0X2dlbmVyYXRvciIsIm1wNF9yZW11eGVyX01QNFJlbXV4ZXIiLCJNUDRSZW11eGVyIiwiaXNTYWZhcmkiLCJtYXRjaCIsIklTR2VuZXJhdGVkIiwiZGVmYXVsdFRpbWVTdGFtcCIsImdlbmVyYXRlSVMiLCJuYkF1ZGlvU2FtcGxlcyIsIm5iVmlkZW9TYW1wbGVzIiwiYXVkaW9UaW1lT2Zmc2V0IiwidmlkZW9UaW1lT2Zmc2V0IiwiYXVkaW92aWRlb0RlbHRhRHRzIiwicmVtdXhBdWRpbyIsImF1ZGlvVHJhY2tMZW5ndGgiLCJlbmRQVFMiLCJzdGFydFBUUyIsInJlbXV4VmlkZW8iLCJ2aWRlb0RhdGEiLCJyZW11eEVtcHR5QXVkaW8iLCJyZW11eElEMyIsInJlbXV4VGV4dCIsImluaXREVFMiLCJhdWRpb1NhbXBsZXMiLCJ2aWRlb1NhbXBsZXMiLCJjb21wdXRlUFRTRFRTIiwiSW5maW5pdHkiLCJtZXRhZGF0YSIsIm1wNFNhbXBsZUR1cmF0aW9uIiwiZmlyc3RQVFMiLCJmaXJzdERUUyIsImxhc3RQVFMiLCJsYXN0RFRTIiwidGltZVNjYWxlIiwiaW5wdXRTYW1wbGVzIiwib3V0cHV0U2FtcGxlcyIsInB0c05vcm1hbGl6ZSIsIl9QVFNOb3JtYWxpemUiLCJuZXh0QXZjRHRzIiwiZGVsdGFkdHMiLCJkZWx0YXB0cyIsIlBUU0RUU3NoaWZ0IiwiY3VyciIsImRlbHRhIiwibmJOYWx1IiwibmFsdUxlbiIsIl9zYW1wbGUiLCJuYlVuaXRzIiwic2FtcGxlTGVuIiwibWRhdFNpemUiLCJzZXRVaW50MzIiLCJfaTIiLCJhdmNTYW1wbGVVbml0cyIsIm1wNFNhbXBsZUxlbmd0aCIsImNvbXBvc2l0aW9uVGltZU9mZnNldCIsIl9qIiwiX25iVW5pdHMiLCJ1bml0RGF0YSIsInVuaXREYXRhTGVuIiwibGFzdEZyYW1lRHVyYXRpb24iLCJzdHJldGNoU2hvcnRWaWRlb1RyYWNrIiwibWF4QnVmZmVySG9sZSIsIm1heFNlZWtIb2xlIiwiZ2FwVG9sZXJhbmNlIiwiZGVsdGFUb0ZyYW1lRW5kIiwibmV4dEF1ZGlvUHRzIiwiZGF0YTEiLCJkYXRhMiIsImVuZERUUyIsIm5iIiwibXA0U2FtcGxlIiwiZmlsbEZyYW1lIiwibXA0dGltZVNjYWxlIiwic2NhbGVGYWN0b3IiLCJpbnB1dFNhbXBsZUR1cmF0aW9uIiwicmF3TVBFRyIsIm1heEF1ZGlvRnJhbWVzRHJpZnQiLCJuZXh0UHRzIiwidG9GaXhlZCIsIm1pc3NpbmciLCJuZXdTdGFtcCIsIl9qMiIsIl9uYlNhbXBsZXMiLCJhdWRpb1NhbXBsZSIsIl9wdHMiLCJfZGVsdGEiLCJudW1NaXNzaW5nRnJhbWVzIiwiX2kzIiwidW5pdExlbiIsImxhc3RTYW1wbGVEdXJhdGlvbiIsInNpbGVudEZyYW1lIiwicmVmZXJlbmNlIiwibXA0X3JlbXV4ZXIiLCJwYXNzdGhyb3VnaF9yZW11eGVyX1Bhc3NUaHJvdWdoUmVtdXhlciIsIlBhc3NUaHJvdWdoUmVtdXhlciIsInJhd0RhdGEiLCJzdHJlYW1UeXBlIiwicGFzc3Rocm91Z2hfcmVtdXhlciIsImRlbXV4ZXJfaW5saW5lX0RlbXV4ZXJJbmxpbmUiLCJEZW11eGVySW5saW5lIiwiZGVtdXhlciIsImRpc2NvbnRpbnVpdHkiLCJ0cmFja1N3aXRjaCIsImRlZmF1bHRJbml0UFRTIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJEYXRlIiwiZW5kVGltZSIsInN0YXRzIiwidHN0YXJ0IiwidGRlY3J5cHQiLCJwdXNoRGVjcnlwdGVkIiwibXV4Q29uZmlnIiwiZGVtdXgiLCJtdXgiLCJfcmVtdXhlciIsImF0dHJfbGlzdF9fY2xhc3NDYWxsQ2hlY2siLCJpc0NvZGVjVHlwZSIsInR5cGVDb2RlcyIsInNhbXBsZUVudHJ5Q29kZXNJU08iLCJpc0NvZGVjU3VwcG9ydGVkSW5NcDQiLCJNZWRpYVNvdXJjZSIsImlzVHlwZVN1cHBvcnRlZCIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2luaGVyaXRzIiwicGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayIsImZyYWdtZW50X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2siLCJmcmFnbWVudF9sb2FkZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJmcmFnbWVudF9sb2FkZXJfX2luaGVyaXRzIiwia2V5X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2siLCJrZXlfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwia2V5X2xvYWRlcl9faW5oZXJpdHMiLCJkZW11eGVyX19jbGFzc0NhbGxDaGVjayIsInVwZGF0ZVBUUyIsImZyYWdtZW50cyIsImZyb21JZHgiLCJ0b0lkeCIsImZyYWdGcm9tIiwiZnJhZ1RvIiwiZnJhZ1RvUFRTIiwibGV2ZWwiLCJ1cGRhdGVGcmFnUFRTRFRTIiwibWF4U3RhcnRQVFMiLCJkZWx0YVBUUyIsImRyaWZ0Iiwic3RhcnRTTiIsImVuZFNOIiwiZnJhZ0lkeCIsIlBUU0tub3duIiwibWVyZ2VEZXRhaWxzIiwib2xkRGV0YWlscyIsIm5ld0RldGFpbHMiLCJQVFNGcmFnIiwib2xkZnJhZ21lbnRzIiwibmV3ZnJhZ21lbnRzIiwiY2NPZmZzZXQiLCJvbGRGcmFnIiwibmV3RnJhZyIsImNjIiwiYmFja3RyYWNrZWQiLCJzbGlkaW5nIiwiZmluZEZpcnN0RnJhZ1dpdGhDQyIsImZpcnN0RnJhZyIsImN1cnJlbnRGcmFnIiwiZmluZEZyYWdXaXRoQ0MiLCJDQyIsImJpbmFyeV9zZWFyY2giLCJzZWFyY2giLCJjYW5kaWRhdGUiLCJzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzIiwibGFzdEZyYWciLCJsYXN0TGV2ZWwiLCJzaG91bGRBbGlnbiIsImVuZENDIiwic3RhcnRDQyIsImZpbmREaXNjb250aW51b3VzUmVmZXJlbmNlRnJhZyIsInByZXZEZXRhaWxzIiwiY3VyRGV0YWlscyIsInByZXZGcmFncyIsImN1ckZyYWdzIiwicHJldlN0YXJ0RnJhZyIsImFkanVzdFB0cyIsImFsaWduRGlzY29udGludWl0aWVzIiwicmVmZXJlbmNlRnJhZyIsImxhc3RQRFQiLCJwcm9ncmFtRGF0ZVRpbWUiLCJuZXdQRFQiLCJzdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJzdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInN0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyIsImxldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwibGV2ZWxfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImxldmVsX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwiaWQzX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwiaWQzX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJpZDNfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMiLCJld21hX19jbGFzc0NhbGxDaGVjayIsImV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl9fY2xhc3NDYWxsQ2hlY2siLCJhYnJfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJhYnJfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImFicl9jb250cm9sbGVyX19pbmhlcml0cyIsImJ1ZmZlcl9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsImJ1ZmZlcl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiYnVmZmVyX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwiY2FwX2xldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwiY2FwX2xldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJjYXBfbGV2ZWxfY29udHJvbGxlcl9faW5oZXJpdHMiLCJmcHNfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJmcHNfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImZwc19jb250cm9sbGVyX19pbmhlcml0cyIsInhocl9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrIiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJhdWRpb190cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMiLCJhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyIsIlZUVFBhcnNlciIsImRlY29kZXIiLCJTdHJpbmdEZWNvZGVyIiwicmVnaW9uTGlzdCIsInBhcnNlVGltZVN0YW1wIiwiaW5wdXQiLCJjb21wdXRlU2Vjb25kcyIsIlNldHRpbmdzIiwicGFyc2VPcHRpb25zIiwia2V5VmFsdWVEZWxpbSIsImdyb3VwRGVsaW0iLCJncm91cHMiLCJrdiIsInYiLCJwYXJzZUN1ZSIsImN1ZSIsImNvbnN1bWVUaW1lU3RhbXAiLCJ0cyIsIm9JbnB1dCIsInNraXBXaGl0ZXNwYWNlIiwic2V0dGluZ3MiLCJyZWdpb24iLCJhbHQiLCJ2YWxzIiwidmFsczAiLCJpbnRlZ2VyIiwicGVyY2VudCIsImNlbnRlciIsInZlcnRpY2FsIiwibGluZSIsImRlZmF1bHRzIiwibGluZUFsaWduIiwic25hcFRvTGluZXMiLCJhbGlnbiIsImZpeExpbmVCcmVha3MiLCJuZXdDdWUiLCJjYXB0aW9uU2NyZWVuIiwicm93IiwiaW5kZW50aW5nIiwiaW5kZW50IiwiVlRUQ3VlIiwiVGV4dFRyYWNrQ3VlIiwiciIsInJvd3MiLCJpc0VtcHR5IiwiY2hhcnMiLCJ1Y2hhciIsImN1ZVN0YXJ0VGltZSIsImFkZEN1ZSIsImNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayIsInRpbWVsaW5lX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwidGltZWxpbmVfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInRpbWVsaW5lX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwiY2xlYXJDdXJyZW50Q3VlcyIsImN1ZXMiLCJyZW1vdmVDdWUiLCJyZXVzZVZ0dFRleHRUcmFjayIsImluVXNlVHJhY2siLCJtYW5pZmVzdFRyYWNrIiwidGV4dFRyYWNrMSIsInRleHRUcmFjazIiLCJpbnRlcnNlY3Rpb24iLCJ4MSIsInkxIiwieTIiLCJzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsInN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19pbmhlcml0cyIsImZpbHRlclN1YnRpdGxlVHJhY2tzIiwidGV4dFRyYWNrTGlzdCIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwiaGxzX19jbGFzc0NhbGxDaGVjayIsImN1ZXNfbmFtZXNwYWNlT2JqZWN0IiwidXJsX3Rvb2xraXQiLCJ1cmxfdG9vbGtpdF9kZWZhdWx0IiwiZXZlbnRfaGFuZGxlcl9FdmVudEhhbmRsZXIiLCJFdmVudEhhbmRsZXIiLCJvbkV2ZW50IiwiaGFuZGxlZEV2ZW50cyIsInVzZUdlbmVyaWNIYW5kbGVyIiwicmVnaXN0ZXJMaXN0ZW5lcnMiLCJ1bnJlZ2lzdGVyTGlzdGVuZXJzIiwiaXNFdmVudEhhbmRsZXIiLCJvZmYiLCJvbkV2ZW50R2VuZXJpYyIsImV2ZW50VG9GdW5jdGlvbiIsImZ1bmNOYW1lIiwiZXZlbnRfaGFuZGxlciIsIkRFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCIsIkFUVFJfTElTVF9SRUdFWCIsIkF0dHJMaXN0IiwiYXR0cnMiLCJwYXJzZUF0dHJMaXN0IiwiYXR0ciIsImRlY2ltYWxJbnRlZ2VyIiwiYXR0ck5hbWUiLCJpbnRWYWx1ZSIsInBhcnNlSW50IiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsImhleGFkZWNpbWFsSW50ZWdlciIsInN0cmluZ1ZhbHVlIiwiaGV4YWRlY2ltYWxJbnRlZ2VyQXNOdW1iZXIiLCJkZWNpbWFsRmxvYXRpbmdQb2ludCIsInBhcnNlRmxvYXQiLCJlbnVtZXJhdGVkU3RyaW5nIiwiZGVjaW1hbFJlc29sdXRpb24iLCJyZXMiLCJsYXN0SW5kZXgiLCJhdHRyX2xpc3QiLCJhM2RzIiwiYWMtMyIsImFjLTQiLCJhbGFjIiwiYWxhdyIsImRyYTEiLCJkdHMrIiwiZHRzLSIsImR0c2MiLCJkdHNlIiwiZHRzaCIsImVjLTMiLCJlbmNhIiwiZzcxOSIsImc3MjYiLCJtNGFlIiwibWhhMSIsIm1oYTIiLCJtaG0xIiwibWhtMiIsIm1scGEiLCJyYXcgIiwiT3B1cyIsInNhbXIiLCJzYXdiIiwic2F3cCIsInNldmMiLCJzcWNwIiwic3NtdiIsInR3b3MiLCJ1bGF3IiwiYXZjMiIsImF2YzMiLCJhdmM0IiwiYXZjcCIsImRyYWMiLCJkdmF2IiwiZHZoZSIsImVuY3YiLCJoZXYxIiwiaHZjMSIsIm1qcDIiLCJtcDR2IiwibXZjMSIsIm12YzIiLCJtdmMzIiwibXZjNCIsInJlc3YiLCJydjYwIiwiczI2MyIsInN2YzEiLCJzdmMyIiwidmMtMSIsInZwMDgiLCJ2cDA5IiwiX2NyZWF0ZUNsYXNzIiwiTUFTVEVSX1BMQVlMSVNUX1JFR0VYIiwiTUFTVEVSX1BMQVlMSVNUX01FRElBX1JFR0VYIiwiTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVCIsIlJlZ0V4cCIsIkxFVkVMX1BMQVlMSVNUX1JFR0VYX1NMT1ciLCJwbGF5bGlzdF9sb2FkZXJfTGV2ZWxLZXkiLCJMZXZlbEtleSIsIl91cmkiLCJyZWx1cmkiLCJiYXNldXJpIiwicGxheWxpc3RfbG9hZGVyX0ZyYWdtZW50IiwiRnJhZ21lbnQiLCJfdXJsIiwiX2J5dGVSYW5nZSIsIl9kZWNyeXB0ZGF0YSIsInRhZ0xpc3QiLCJjcmVhdGVJbml0aWFsaXphdGlvblZlY3RvciIsInNlZ21lbnROdW1iZXIiLCJ1aW50OFZpZXciLCJmcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5IiwibGV2ZWxrZXkiLCJ1cmkiLCJjbG9uZU9iaiIsInJlbHVybCIsImJhc2V1cmwiLCJfcHJvZ3JhbURhdGVUaW1lIiwicmF3UHJvZ3JhbURhdGVUaW1lIiwiYnl0ZVJhbmdlIiwicmF3Qnl0ZVJhbmdlIiwibGFzdEJ5dGVSYW5nZUVuZE9mZnNldCIsInBsYXlsaXN0X2xvYWRlcl9QbGF5bGlzdExvYWRlciIsIl9FdmVudEhhbmRsZXIiLCJQbGF5bGlzdExvYWRlciIsImxvYWRlcnMiLCJsb2FkZXJOYW1lIiwibG9hZGVyIiwib25NYW5pZmVzdExvYWRpbmciLCJsb2FkIiwib25MZXZlbExvYWRpbmciLCJvbkF1ZGlvVHJhY2tMb2FkaW5nIiwib25TdWJ0aXRsZVRyYWNrTG9hZGluZyIsImxvYWRlckNvbnRleHQiLCJhYm9ydCIsInJldHJ5IiwicmV0cnlEZWxheSIsIm1heFJldHJ5RGVsYXkiLCJtYW5pZmVzdExvYWRpbmdNYXhSZXRyeSIsIm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQiLCJtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0IiwibGV2ZWxMb2FkaW5nTWF4UmV0cnkiLCJsZXZlbExvYWRpbmdUaW1lT3V0IiwibGV2ZWxMb2FkaW5nUmV0cnlEZWxheSIsImxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCIsInBMb2FkZXIiLCJyZXNwb25zZVR5cGUiLCJsb2FkZXJDb25maWciLCJsb2FkZXJDYWxsYmFja3MiLCJtYXhSZXRyeSIsIm9uU3VjY2VzcyIsImxvYWRzdWNjZXNzIiwib25FcnJvciIsImxvYWRlcnJvciIsIm9uVGltZW91dCIsImxvYWR0aW1lb3V0IiwiYmFzZVVybCIsInBhcnNlTWFzdGVyUGxheWxpc3QiLCJsZXZlbHMiLCJyZXNvbHV0aW9uIiwiYml0cmF0ZSIsImNvZGVjcyIsImZpbHRlcmVkIiwicHJlZmVycmVkIiwidW5rbm93bkNvZGVjcyIsIkNPREVDUyIsImF2YzF0b2F2Y290aSIsInBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYSIsIm1lZGlhcyIsIm1lZGlhIiwiVFlQRSIsImdyb3VwSWQiLCJhdXRvc2VsZWN0IiwiQVVUT1NFTEVDVCIsImZvcmNlZCIsIlVSSSIsImxhbmciLCJMQU5HVUFHRSIsImF2Y2RhdGEiLCJwYXJzZUxldmVsUGxheWxpc3QiLCJjdXJyZW50U04iLCJ0b3RhbGR1cmF0aW9uIiwibGl2ZSIsInByZXZGcmFnIiwidGl0bGUiLCJieXRlUmFuZ2VFbmRPZmZzZXQiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0b1VwcGVyQ2FzZSIsInRhcmdldGR1cmF0aW9uIiwiZGVjcnlwdHBhcmFtcyIsImtleUF0dHJzIiwiZGVjcnlwdG1ldGhvZCIsImRlY3J5cHR1cmkiLCJkZWNyeXB0aXYiLCJzdGFydFBhcmFtcyIsInN0YXJ0QXR0cnMiLCJzdGFydFRpbWVPZmZzZXQiLCJtYXBBdHRycyIsIkJZVEVSQU5HRSIsImF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiIsInJlc3BvbnNlIiwibmV0d29ya0RldGFpbHMiLCJ0bG9hZCIsImlzTGV2ZWwiLCJsZXZlbElkIiwibGV2ZWxEZXRhaWxzIiwiYXVkaW9UcmFja3MiLCJ0cGFyc2VkIiwic3VidGl0bGVzIiwiZW1iZWRkZWRBdWRpb0ZvdW5kIiwiQVVESU8iLCJ1bnNoaWZ0IiwicGxheWxpc3RfbG9hZGVyIiwiZnJhZ21lbnRfbG9hZGVyX0ZyYWdtZW50TG9hZGVyIiwiRnJhZ21lbnRMb2FkZXIiLCJvbkZyYWdMb2FkaW5nIiwibG9hZGVkIiwiZkxvYWRlciIsInByb2dyZXNzRGF0YSIsImJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwiZnJhZ0xvYWRpbmdUaW1lT3V0IiwiZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCJvblByb2dyZXNzIiwibG9hZHByb2dyZXNzIiwiZnJhZ21lbnRfbG9hZGVyIiwia2V5X2xvYWRlcl9LZXlMb2FkZXIiLCJLZXlMb2FkZXIiLCJkZWNyeXB0a2V5IiwiZGVjcnlwdHVybCIsIm9uS2V5TG9hZGluZyIsImZyYWdMb2FkaW5nTWF4UmV0cnkiLCJmcmFnTG9hZGluZ1JldHJ5RGVsYXkiLCJrZXlfbG9hZGVyIiwiQmluYXJ5U2VhcmNoIiwiY29tcGFyaXNvbkZ1bmN0aW9uIiwibWluSW5kZXgiLCJtYXhJbmRleCIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRFbGVtZW50IiwiY29tcGFyaXNvblJlc3VsdCIsIkJ1ZmZlckhlbHBlciIsImlzQnVmZmVyZWQiLCJidWZmZXJlZCIsImJ1ZmZlckluZm8iLCJtYXhIb2xlRHVyYXRpb24iLCJ2YnVmZmVyZWQiLCJidWZmZXJlZEluZm8iLCJuZXh0U3RhcnQiLCJidWZmZXJMZW4iLCJidWZmZXJTdGFydCIsImJ1ZmZlckVuZCIsImJ1ZmZlclN0YXJ0TmV4dCIsImJ1ZmZlcmVkMiIsImRpZmYiLCJidWYybGVuIiwiYnVmMmVuZCIsImJ1ZmZlcl9oZWxwZXIiLCJkZW11eGVyX2lubGluZSIsImV2ZW50c19ldmVudHMiLCJldmVudHNfZGVmYXVsdCIsIndlYndvcmtpZnlfd2VicGFjayIsIndlYndvcmtpZnlfd2VicGFja19kZWZhdWx0IiwiZGVtdXhlcl9EZW11eGVyIiwiRGVtdXhlciIsImZvcndhcmRNZXNzYWdlIiwiZXYiLCJtcDQiLCJlbmFibGVXb3JrZXIiLCJvbndtc2ciLCJvbldvcmtlck1lc3NhZ2UiLCJvbmVycm9yIiwiZmlsZW5hbWUiLCJsaW5lbm8iLCJwb3N0TWVzc2FnZSIsImNtZCIsIlVSTCIsInJldm9rZU9iamVjdFVSTCIsIm9iamVjdFVSTCIsInRlcm1pbmF0ZSIsIm5leHRTTiIsImRlbXV4X2RlbXV4ZXIiLCJUaW1lUmFuZ2VzIiwidGltZVJhbmdlcyIsInN0cmVhbV9jb250cm9sbGVyX19jcmVhdGVDbGFzcyIsIlN0YXRlIiwiU1RPUFBFRCIsIklETEUiLCJGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWSIsIldBSVRJTkdfTEVWRUwiLCJQQVJTSU5HIiwiUEFSU0VEIiwiRU5ERUQiLCJzdHJlYW1fY29udHJvbGxlcl9TdHJlYW1Db250cm9sbGVyIiwiU3RyZWFtQ29udHJvbGxlciIsImF1ZGlvQ29kZWNTd2FwIiwidGlja3MiLCJfc3RhdGUiLCJvbnRpY2siLCJ0aWNrIiwidGltZXIiLCJjbGVhckludGVydmFsIiwic3RhcnRQb3NpdGlvbiIsImxhc3RDdXJyZW50VGltZSIsInNldEludGVydmFsIiwiZnJhZ0xvYWRFcnJvciIsInN0YXJ0RnJhZ1JlcXVlc3RlZCIsInN0YXJ0TGV2ZWwiLCJiaXRyYXRlVGVzdCIsIm5leHRMb2FkTGV2ZWwiLCJsb2FkZWRtZXRhZGF0YSIsIm5leHRMb2FkUG9zaXRpb24iLCJmb3JjZVN0YXJ0TG9hZCIsImZyYWdDdXJyZW50IiwiZnJhZ1ByZXZpb3VzIiwiZG9UaWNrIiwic2V0VGltZW91dCIsIl9kb1RpY2tJZGxlIiwicmV0cnlEYXRlIiwic2Vla2luZyIsIl9jaGVja0J1ZmZlciIsIl9jaGVja0ZyYWdtZW50Q2hhbmdlZCIsImxldmVsTGFzdExvYWRlZCIsInN0YXJ0RnJhZ1ByZWZldGNoIiwiY3VycmVudFRpbWUiLCJsZXZlbEluZm8iLCJsZXZlbEJpdHJhdGUiLCJtYXhCdWZMZW4iLCJtYXhCdWZmZXJTaXplIiwibWF4QnVmZmVyTGVuZ3RoIiwibWF4TWF4QnVmZmVyTGVuZ3RoIiwibWVkaWFCdWZmZXIiLCJhbHRBdWRpbyIsIl9mZXRjaFBheWxvYWRPckVvcyIsImZyYWdMZW4iLCJpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSIsIl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50IiwiX2ZpbmRGcmFnbWVudCIsIl9sb2FkRnJhZ21lbnRPcktleSIsIm1heExhdGVuY3kiLCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uIiwibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IiwibWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSIsImxpdmVTeW5jUG9zaXRpb24iLCJjb21wdXRlTGl2ZVBvc2l0aW9uIiwidGFyZ2V0U04iLCJmcmFnTmV4dCIsImZvdW5kRnJhZyIsImZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCIsImNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSIsImN1clNOSWR4Iiwic2FtZUxldmVsIiwibmV4dEZyYWciLCJsb2FkQ291bnRlciIsImZyYWdMb2FkSWR4IiwibWF4VGhyZXNob2xkIiwiZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkIiwibG9hZElkeCIsImF1dG9MZXZlbCIsImF1dG9MZXZlbEVuYWJsZWQiLCJnZXRCdWZmZXJlZEZyYWciLCJfYnVmZmVyZWRGcmFncyIsImZvbGxvd2luZ0J1ZmZlcmVkRnJhZyIsImZyYWdQbGF5aW5nQ3VycmVudCIsInBsYXliYWNrUmF0ZSIsImZyYWdQbGF5aW5nIiwiZnJhZ1BsYXlpbmdMZXZlbCIsImltbWVkaWF0ZUxldmVsU3dpdGNoIiwiaW1tZWRpYXRlU3dpdGNoIiwicHJldmlvdXNseVBhdXNlZCIsInBhdXNlZCIsImZsdXNoTWFpbkJ1ZmZlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiaW1tZWRpYXRlTGV2ZWxTd2l0Y2hFbmQiLCJuZXh0TGV2ZWxTd2l0Y2giLCJmZXRjaGRlbGF5IiwibmV4dEJ1ZmZlcmVkRnJhZyIsIm5leHRMZXZlbElkIiwibmV4dExldmVsIiwiZnJhZ0xhc3RLYnBzIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJmbHVzaFNjb3BlIiwib25NZWRpYUF0dGFjaGVkIiwib252c2Vla2luZyIsIm9uTWVkaWFTZWVraW5nIiwib252c2Vla2VkIiwib25NZWRpYVNlZWtlZCIsIm9udmVuZGVkIiwib25NZWRpYUVuZGVkIiwiYXV0b1N0YXJ0TG9hZCIsIm9uTWVkaWFEZXRhY2hpbmciLCJlbmRlZCIsInRvbGVyYW5jZSIsImZyYWdTdGFydE9mZnNldCIsImZyYWdFbmRPZmZzZXQiLCJzdGFsbGVkIiwib25NYW5pZmVzdFBhcnNlZCIsImhlYWFjIiwiYXVkaW9Db2RlY1N3aXRjaCIsIm9uTGV2ZWxMb2FkZWQiLCJuZXdMZXZlbElkIiwiY3VyTGV2ZWwiLCJvbktleUxvYWRlZCIsIm9uRnJhZ0xvYWRlZCIsImZyYWdMb2FkZWQiLCJjdXJyZW50TGV2ZWwiLCJ0YnVmZmVyZWQiLCJkZWZhdWx0QXVkaW9Db2RlYyIsImxhc3RBdWRpb0NvZGVjIiwicGVuZGluZ0J1ZmZlcmluZyIsImFwcGVuZGVkIiwibWVkaWFTZWVraW5nIiwiaW5pdFNlZ21lbnREYXRhIiwib25GcmFnUGFyc2luZ0luaXRTZWdtZW50IiwiZnJhZ05ldyIsInRyYWNrTmFtZSIsInVhIiwibGV2ZWxDb2RlYyIsIm9uRnJhZ1BhcnNpbmdEYXRhIiwib25GcmFnUGFyc2VkIiwiX2NoZWNrQXBwZW5kZWRQYXJzZWQiLCJvbkF1ZGlvVHJhY2tTd2l0Y2hpbmciLCJvbkF1ZGlvVHJhY2tTd2l0Y2hlZCIsInZpZGVvQnVmZmVyIiwib25CdWZmZXJDcmVhdGVkIiwibWVkaWFUcmFjayIsImFsdGVybmF0ZSIsIm9uQnVmZmVyQXBwZW5kZWQiLCJwZW5kaW5nIiwiYnVmZmVyZWRGcmFncyIsInRvdGFsIiwidGZpcnN0IiwibWVkaWFCdWZmZXJlZCIsImRlbGF5IiwiX3JlZHVjZU1heEJ1ZmZlckxlbmd0aCIsImxldmVsUmV0cnkiLCJtaW5MZW5ndGgiLCJzdGFydFBvc2l0aW9uQnVmZmVyZWQiLCJmaXJzdGJ1ZmZlcmVkUG9zaXRpb24iLCJzdGFydE5vdEJ1ZmZlcmVkQnV0Q2xvc2UiLCJleHBlY3RlZFBsYXlpbmciLCJwbGF5aGVhZE1vdmluZyIsInN0YWxsUmVwb3J0ZWQiLCJudWRnZVJldHJ5IiwidG5vdyIsInN0YWxsZWREdXJhdGlvbiIsImxvd0J1ZmZlcldhdGNoZG9nUGVyaW9kIiwibmV4dEJ1ZmZlclN0YXJ0IiwibnVkZ2VPZmZzZXQiLCJob2xlIiwiaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kIiwibnVkZ2VNYXhSZXRyeSIsIl9jdXJyZW50VGltZSIsInRhcmdldFRpbWUiLCJvbkZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZCIsIm9uQnVmZmVyRmx1c2hlZCIsInN3YXBBdWRpb0NvZGVjIiwidGFyZ2V0TGF0ZW5jeSIsImxpdmVTeW5jRHVyYXRpb24iLCJsaXZlU3luY0R1cmF0aW9uQ291bnQiLCJwcmV2aW91c1N0YXRlIiwiX2xpdmVTeW5jUG9zaXRpb24iLCJzdHJlYW1fY29udHJvbGxlciIsImxldmVsX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzIiwibGV2ZWxfY29udHJvbGxlcl9MZXZlbENvbnRyb2xsZXIiLCJMZXZlbENvbnRyb2xsZXIiLCJfbWFudWFsTGV2ZWwiLCJjbGVhblRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiY2FubG9hZCIsIl9sZXZlbHMiLCJsb2FkRXJyb3IiLCJvbk1hbmlmZXN0TG9hZGVkIiwiYml0cmF0ZVN0YXJ0IiwibGV2ZWxTZXQiLCJsZXZlbEZyb21TZXQiLCJ2aWRlb0NvZGVjRm91bmQiLCJhdWRpb0NvZGVjRm91bmQiLCJjaHJvbWVPckZpcmVmb3giLCJmcmFnbWVudEVycm9yIiwidXJsSWQiLCJfcmVmMiIsIl9maXJzdExldmVsIiwiZmlyc3RMZXZlbCIsInNldExldmVsSW50ZXJuYWwiLCJuZXdMZXZlbCIsIl9sZXZlbCIsImxldmVsUHJvcGVydGllcyIsImxldmVsRXJyb3IiLCJsZXZlbEluZGV4IiwicmVkdW5kYW50TGV2ZWxzIiwibmV4dEF1dG9MZXZlbCIsIl9yZWYzIiwicmVsb2FkSW50ZXJ2YWwiLCJ0cmVxdWVzdCIsIl9zdGFydExldmVsIiwiY29uZmlnU3RhcnRMZXZlbCIsImxldmVsX2NvbnRyb2xsZXIiLCJpZDNfdHJhY2tfY29udHJvbGxlcl9JRDNUcmFja0NvbnRyb2xsZXIiLCJJRDNUcmFja0NvbnRyb2xsZXIiLCJvbkZyYWdQYXJzaW5nTWV0YWRhdGEiLCJhZGRUZXh0VHJhY2siLCJtb2RlIiwiQ3VlIiwiV2ViS2l0RGF0YUN1ZSIsImlkM190cmFja19jb250cm9sbGVyIiwiRVdNQSIsImhhbGZMaWZlIiwiYWxwaGFfIiwiZXN0aW1hdGVfIiwidG90YWxXZWlnaHRfIiwid2VpZ2h0IiwiYWRqQWxwaGEiLCJnZXRUb3RhbFdlaWdodCIsImdldEVzdGltYXRlIiwiemVyb0ZhY3RvciIsImV3bWEiLCJld21hX2JhbmR3aWR0aF9lc3RpbWF0b3JfRXdtYUJhbmRXaWR0aEVzdGltYXRvciIsIkV3bWFCYW5kV2lkdGhFc3RpbWF0b3IiLCJzbG93IiwiZmFzdCIsImRlZmF1bHRFc3RpbWF0ZSIsImRlZmF1bHRFc3RpbWF0ZV8iLCJtaW5XZWlnaHRfIiwibWluRGVsYXlNc18iLCJzbG93XyIsImZhc3RfIiwiZHVyYXRpb25NcyIsIm51bUJ5dGVzIiwiYmFuZHdpZHRoIiwiY2FuRXN0aW1hdGUiLCJld21hX2JhbmR3aWR0aF9lc3RpbWF0b3IiLCJhYnJfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJhYnJfY29udHJvbGxlcl9BYnJDb250cm9sbGVyIiwiQWJyQ29udHJvbGxlciIsImxhc3RMb2FkZWRGcmFnTGV2ZWwiLCJfbmV4dEF1dG9MZXZlbCIsIl9id0VzdGltYXRvciIsIm9uQ2hlY2siLCJfYWJhbmRvblJ1bGVzQ2hlY2siLCJjbGVhclRpbWVyIiwiaXNMaXZlIiwiZXdtYUZhc3QiLCJld21hU2xvdyIsImFickV3bWFGYXN0TGl2ZSIsImFickV3bWFTbG93TGl2ZSIsImFickV3bWFGYXN0Vm9EIiwiYWJyRXdtYVNsb3dWb0QiLCJhYnJFd21hRGVmYXVsdEVzdGltYXRlIiwibWluQXV0b0xldmVsIiwiYWJvcnRlZCIsInJlcXVlc3REZWxheSIsImxvYWRSYXRlIiwiYnciLCJyZWFsQml0cmF0ZSIsImV4cGVjdGVkTGVuIiwiZnJhZ0xvYWRlZERlbGF5IiwiYnVmZmVyU3RhcnZhdGlvbkRlbGF5IiwiZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5IiwibGV2ZWxOZXh0Qml0cmF0ZSIsImFick1heFdpdGhSZWFsQml0cmF0ZSIsImxvYWRlZEJ5dGVzIiwibG9hZGVkRHVyYXRpb24iLCJvbkZyYWdCdWZmZXJlZCIsImZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIiwiYndFc3RpbWF0ZSIsImJpdHJhdGVUZXN0RGVsYXkiLCJfZmluZEJlc3RMZXZlbCIsImN1cnJlbnRGcmFnRHVyYXRpb24iLCJjdXJyZW50QnciLCJtYXhBdXRvTGV2ZWwiLCJtYXhGZXRjaER1cmF0aW9uIiwiYndGYWN0b3IiLCJid1VwRmFjdG9yIiwiYXZnRHVyYXRpb24iLCJhZGp1c3RlZGJ3IiwiZmV0Y2hEdXJhdGlvbiIsImZvcmNlZEF1dG9MZXZlbCIsImJ3RXN0aW1hdG9yIiwibmV4dEFCUkF1dG9MZXZlbCIsIl9uZXh0QUJSQXV0b0xldmVsIiwiYXZnYnciLCJiZXN0TGV2ZWwiLCJhYnJCYW5kV2lkdGhGYWN0b3IiLCJhYnJCYW5kV2lkdGhVcEZhY3RvciIsIm1heFN0YXJ2YXRpb25EZWxheSIsIm1heExvYWRpbmdEZWxheSIsImFicl9jb250cm9sbGVyIiwiYnVmZmVyX2NvbnRyb2xsZXJfQnVmZmVyQ29udHJvbGxlciIsIkJ1ZmZlckNvbnRyb2xsZXIiLCJfbXNEdXJhdGlvbiIsIl9sZXZlbER1cmF0aW9uIiwib25zYnVlIiwib25TQlVwZGF0ZUVuZCIsIm9uc2JlIiwib25TQlVwZGF0ZUVycm9yIiwicGVuZGluZ1RyYWNrcyIsIm9uTGV2ZWxQdHNVcGRhdGVkIiwiYXVkaW9CdWZmZXIiLCJzb3VyY2VCdWZmZXIiLCJ0aW1lc3RhbXBPZmZzZXQiLCJ1cGRhdGluZyIsImF1ZGlvVGltZXN0YW1wT2Zmc2V0IiwiYXVkaW9FeHBlY3RlZCIsInZpZGVvRXhwZWN0ZWQiLCJzb3VyY2VCdWZmZXJOYiIsIm9uTWVkaWFBdHRhY2hpbmciLCJtcyIsIm1lZGlhU291cmNlIiwib25tc28iLCJvbk1lZGlhU291cmNlT3BlbiIsIm9ubXNlIiwib25NZWRpYVNvdXJjZUVuZGVkIiwib25tc2MiLCJvbk1lZGlhU291cmNlQ2xvc2UiLCJjcmVhdGVPYmplY3RVUkwiLCJlbmRPZlN0cmVhbSIsInJlbW92ZUF0dHJpYnV0ZSIsImZsdXNoUmFuZ2UiLCJzZWdtZW50cyIsImNoZWNrUGVuZGluZ1RyYWNrcyIsInBlbmRpbmdUcmFja3NOYiIsImNyZWF0ZVNvdXJjZUJ1ZmZlcnMiLCJkb0FwcGVuZGluZyIsIl9uZWVkc0ZsdXNoIiwiZG9GbHVzaCIsIl9uZWVkc0VvcyIsImNoZWNrRW9zIiwiYXBwZW5kaW5nIiwiY291bnRlciIsInNlZ21lbnQiLCJ1cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbiIsIm9uQnVmZmVyUmVzZXQiLCJzYiIsInJlbW92ZVNvdXJjZUJ1ZmZlciIsIm9uQnVmZmVyQ29kZWNzIiwibWltZVR5cGUiLCJhZGRTb3VyY2VCdWZmZXIiLCJvbkJ1ZmZlckFwcGVuZGluZyIsIm9uQnVmZmVyQXBwZW5kRmFpbCIsIm9uQnVmZmVyRW9zIiwiZGF0YVR5cGUiLCJzYm9iaiIsIm9uQnVmZmVyRmx1c2hpbmciLCJmbHVzaEJ1ZmZlckNvdW50ZXIiLCJvbkxldmVsVXBkYXRlZCIsImxldmVsRHVyYXRpb24iLCJyYW5nZSIsImZsdXNoQnVmZmVyIiwiYXBwZW5kQnVmZmVyIiwiYXBwZW5kRXJyb3IiLCJjb2RlIiwiYXBwZW5kRXJyb3JNYXhSZXRyeSIsInR5cGVJbiIsImJ1ZlN0YXJ0IiwiYnVmRW5kIiwiZmx1c2hTdGFydCIsImZsdXNoRW5kIiwiYnVmZmVyX2NvbnRyb2xsZXIiLCJjYXBfbGV2ZWxfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJjYXBfbGV2ZWxfY29udHJvbGxlcl9DYXBMZXZlbENvbnRyb2xsZXIiLCJDYXBMZXZlbENvbnRyb2xsZXIiLCJjYXBMZXZlbFRvUGxheWVyU2l6ZSIsInJlc3RyaWN0ZWRMZXZlbHMiLCJhdXRvTGV2ZWxDYXBwaW5nIiwib25GcHNEcm9wTGV2ZWxDYXBwaW5nIiwiaXNMZXZlbEFsbG93ZWQiLCJkcm9wcGVkTGV2ZWwiLCJIVE1MVmlkZW9FbGVtZW50IiwiZ2V0TWF4TGV2ZWwiLCJkZXRlY3RQbGF5ZXJTaXplIiwibGV2ZWxzTGVuZ3RoIiwic3RyZWFtQ29udHJvbGxlciIsImNhcExldmVsSW5kZXgiLCJ2YWxpZExldmVscyIsImdldE1heExldmVsQnlNZWRpYVNpemUiLCJtZWRpYVdpZHRoIiwibWVkaWFIZWlnaHQiLCJtYXhMZXZlbEluZGV4IiwiY2xpZW50V2lkdGgiLCJvZmZzZXRXaWR0aCIsImNvbnRlbnRTY2FsZUZhY3RvciIsImNsaWVudEhlaWdodCIsIm9mZnNldEhlaWdodCIsImRldmljZVBpeGVsUmF0aW8iLCJjYXBfbGV2ZWxfY29udHJvbGxlciIsImZwc19jb250cm9sbGVyX0ZQU0NvbnRyb2xsZXIiLCJGUFNDb250cm9sbGVyIiwiaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSIsImNhcExldmVsT25GUFNEcm9wIiwiZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkiLCJjaGVja0ZQU0ludGVydmFsIiwiZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QiLCJjaGVja0ZQUyIsImRlY29kZWRGcmFtZXMiLCJkcm9wcGVkRnJhbWVzIiwibGFzdFRpbWUiLCJjdXJyZW50UGVyaW9kIiwiY3VycmVudERyb3BwZWQiLCJsYXN0RHJvcHBlZEZyYW1lcyIsImN1cnJlbnREZWNvZGVkIiwibGFzdERlY29kZWRGcmFtZXMiLCJkcm9wcGVkRlBTIiwidG90YWxEcm9wcGVkRnJhbWVzIiwiZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQiLCJ2aWRlb1BsYXliYWNrUXVhbGl0eSIsInRvdGFsVmlkZW9GcmFtZXMiLCJkcm9wcGVkVmlkZW9GcmFtZXMiLCJ3ZWJraXREZWNvZGVkRnJhbWVDb3VudCIsIndlYmtpdERyb3BwZWRGcmFtZUNvdW50IiwiZnBzX2NvbnRyb2xsZXIiLCJ4aHJfbG9hZGVyX1hockxvYWRlciIsIlhockxvYWRlciIsInhoclNldHVwIiwicmV0cnlUaW1lb3V0IiwibG9hZEludGVybmFsIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJvbnByb2dyZXNzIiwiY3VycmVudFRhcmdldCIsInJlc3BvbnNlVVJMIiwic3RhdHVzVGV4dCIsImxlbmd0aENvbXB1dGFibGUiLCJ4aHJfbG9hZGVyIiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJhdWRpb190cmFja19jb250cm9sbGVyX0F1ZGlvVHJhY2tDb250cm9sbGVyIiwiQXVkaW9UcmFja0NvbnRyb2xsZXIiLCJ1cGRhdGVUcmFjayIsImRlZmF1bHRGb3VuZCIsIm9uQXVkaW9UcmFja0xvYWRlZCIsInNldEF1ZGlvVHJhY2tJbnRlcm5hbCIsIm5ld0lkIiwiZXZlbnRPYmoiLCJhdWRpb1RyYWNrSWQiLCJhdWRpb190cmFja19jb250cm9sbGVyIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUiLCJTVEFSVElORyIsIlBBVVNFRCIsIldBSVRJTkdfVFJBQ0siLCJXQUlUSU5HX0lOSVRfUFRTIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfQXVkaW9TdHJlYW1Db250cm9sbGVyIiwiQXVkaW9TdHJlYW1Db250cm9sbGVyIiwid2FpdGluZ0ZyYWdtZW50IiwidmlkZW9UcmFja0NDIiwib25Jbml0UHRzRm91bmQiLCJkZW11eGVySWQiLCJ0cmFja0RldGFpbHMiLCJtYWluQnVmZmVySW5mbyIsImF1ZGlvU3dpdGNoIiwibmV4dEJ1ZmZlcmVkIiwiaXNTZWVraW5nIiwid2FpdGluZ0ZyYWciLCJ3YWl0aW5nRnJhZ0NDIiwib25BdWRpb1RyYWNrc1VwZGF0ZWQiLCJhcHBlbmRPYmoiLCJwZW5kaW5nRGF0YSIsImFwcGVuZE9uQnVmZmVyRmx1c2giLCJfY29uZmlnIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXIiLCJ2dHRjdWUiLCJmaW5kRGlyZWN0aW9uU2V0dGluZyIsImRpcmVjdGlvblNldHRpbmciLCJmaW5kQWxpZ25TZXR0aW5nIiwiYWxpZ25TZXR0aW5nIiwiZXh0ZW5kIiwiY29iaiIsImlzSUU4IiwiYmFzZU9iaiIsImhhc0JlZW5SZXNldCIsIl9pZCIsIl9wYXVzZU9uRXhpdCIsIl9zdGFydFRpbWUiLCJfZW5kVGltZSIsIl90ZXh0IiwiX3JlZ2lvbiIsIl92ZXJ0aWNhbCIsIl9zbmFwVG9MaW5lcyIsIl9saW5lIiwiX2xpbmVBbGlnbiIsIl9wb3NpdGlvbiIsIl9wb3NpdGlvbkFsaWduIiwiX3NpemUiLCJfYWxpZ24iLCJzZXR0aW5nIiwiU3ludGF4RXJyb3IiLCJhdXRvS2V5d29yZCIsImRpc3BsYXlTdGF0ZSIsIiIsImxyIiwicmwiLCJtaWRkbGUiLCJsZWZ0IiwicmlnaHQiLCJnZXRDdWVBc0hUTUwiLCJXZWJWVFQiLCJjb252ZXJ0Q3VlVG9ET01UcmVlIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZGZsdCIsImRlZmF1bHRLZXkiLCJjb2xsZWN0TmV4dExpbmUiLCJhbHJlYWR5Q29sbGVjdGVkTGluZSIsImhhc1N1YnN0cmluZyIsIm9uY3VlIiwiZmx1c2giLCJvbmZsdXNoIiwidnR0cGFyc2VyIiwic3BlY2lhbENlYTYwOENoYXJzQ29kZXMiLCI0MiIsIjkyIiwiOTQiLCI5NSIsIjk2IiwiMTIzIiwiMTI0IiwiMTI1IiwiMTI2IiwiMTI3IiwiMTI4IiwiMTI5IiwiMTMwIiwiMTMxIiwiMTMyIiwiMTMzIiwiMTM0IiwiMTM1IiwiMTM2IiwiMTM3IiwiMTM4IiwiMTM5IiwiMTQwIiwiMTQxIiwiMTQyIiwiMTQzIiwiMTQ0IiwiMTQ1IiwiMTQ2IiwiMTQ3IiwiMTQ4IiwiMTQ5IiwiMTUwIiwiMTUxIiwiMTUyIiwiMTUzIiwiMTU0IiwiMTU1IiwiMTU2IiwiMTU3IiwiMTU4IiwiMTU5IiwiMTYwIiwiMTYxIiwiMTYyIiwiMTYzIiwiMTY0IiwiMTY1IiwiMTY2IiwiMTY3IiwiMTY4IiwiMTY5IiwiMTcwIiwiMTcxIiwiMTcyIiwiMTczIiwiMTc0IiwiMTc1IiwiMTc2IiwiMTc3IiwiMTc4IiwiMTc5IiwiMTgwIiwiMTgxIiwiMTgyIiwiMTgzIiwiMTg0IiwiMTg1IiwiMTg2IiwiMTg3IiwiMTg4IiwiMTg5IiwiMTkwIiwiMTkxIiwiMTkyIiwiMTkzIiwiMTk0IiwiMTk1IiwiMTk2IiwiMTk3IiwiMTk4IiwiMTk5IiwiMjAwIiwiMjAxIiwiMjAyIiwiMjAzIiwiMjA0IiwiMjA1IiwiMjA2IiwiMjA3IiwiZ2V0Q2hhckZvckJ5dGUiLCJieXRlIiwiY2hhckNvZGUiLCJOUl9ST1dTIiwiTlJfQ09MUyIsInJvd3NMb3dDaDEiLCIxNyIsIjE4IiwiMjEiLCIyMiIsIjIzIiwiMTYiLCIxOSIsIjIwIiwicm93c0hpZ2hDaDEiLCJyb3dzTG93Q2gyIiwiMjUiLCIyNiIsIjI5IiwiMzAiLCIzMSIsIjI0IiwiMjciLCIyOCIsInJvd3NIaWdoQ2gyIiwiYmFja2dyb3VuZENvbG9ycyIsImNlYV82MDhfcGFyc2VyX2xvZ2dlciIsInZlcmJvc2VGaWx0ZXIiLCJEQVRBIiwiREVCVUciLCJJTkZPIiwiV0FSTklORyIsIlRFWFQiLCJ0aW1lIiwidmVyYm9zZUxldmVsIiwic2V0VGltZSIsIm5ld1RpbWUiLCJzZXZlcml0eSIsIm1pbkxldmVsIiwibnVtQXJyYXlUb0hleEFycmF5IiwibnVtQXJyYXkiLCJoZXhBcnJheSIsIlBlblN0YXRlIiwiZm9yZWdyb3VuZCIsInVuZGVybGluZSIsIml0YWxpY3MiLCJiYWNrZ3JvdW5kIiwiZmxhc2giLCJyZXNldCIsInNldFN0eWxlcyIsInN0eWxlcyIsImF0dHJpYnMiLCJpc0RlZmF1bHQiLCJlcXVhbHMiLCJvdGhlciIsImNvcHkiLCJuZXdQZW5TdGF0ZSIsIlN0eWxlZFVuaWNvZGVDaGFyIiwicGVuU3RhdGUiLCJzZXRDaGFyIiwic2V0UGVuU3RhdGUiLCJuZXdDaGFyIiwiUm93IiwiY3VyclBlblN0YXRlIiwiZXF1YWwiLCJlbXB0eSIsInNldEN1cnNvciIsImFic1BvcyIsIm1vdmVDdXJzb3IiLCJyZWxQb3MiLCJuZXdQb3MiLCJiYWNrU3BhY2UiLCJpbnNlcnRDaGFyIiwiY2hhciIsImNsZWFyRnJvbVBvcyIsInN0YXJ0UG9zIiwiY2xlYXIiLCJjbGVhclRvRW5kT2ZSb3ciLCJnZXRUZXh0U3RyaW5nIiwic2V0UGVuU3R5bGVzIiwiQ2FwdGlvblNjcmVlbiIsImN1cnJSb3ciLCJuclJvbGxVcFJvd3MiLCJzZXRQZW4iLCJzZXRQQUMiLCJwYWNEYXRhIiwibmV3Um93IiwidG9wUm93SW5kZXgiLCJsYXN0T3V0cHV0U2NyZWVuIiwicHJldkxpbmVUaW1lIiwicHJldlBvcyIsInNldEJrZ0RhdGEiLCJia2dEYXRhIiwic2V0Um9sbFVwUm93cyIsIm5yUm93cyIsInJvbGxVcCIsImdldERpc3BsYXlUZXh0IiwidG9wUm93IiwiYXNPbmVSb3ciLCJkaXNwbGF5VGV4dCIsInJvd05yIiwicm93VGV4dCIsImdldFRleHRBbmRGb3JtYXQiLCJDZWE2MDhDaGFubmVsIiwiY2hhbm5lbE51bWJlciIsIm91dHB1dEZpbHRlciIsImNoTnIiLCJ2ZXJib3NlIiwiZGlzcGxheWVkTWVtb3J5Iiwibm9uRGlzcGxheWVkTWVtb3J5IiwiY3VyclJvbGxVcFJvdyIsIndyaXRlU2NyZWVuIiwibGFzdEN1ZUVuZFRpbWUiLCJnZXRIYW5kbGVyIiwic2V0SGFuZGxlciIsIm5ld0hhbmRsZXIiLCJzZXRNb2RlIiwibmV3TW9kZSIsImluc2VydENoYXJzIiwib3V0cHV0RGF0YVVwZGF0ZSIsImNjUkNMIiwiY2NCUyIsImNjQU9GIiwiY2NBT04iLCJjY0RFUiIsImNjUlUiLCJjY0ZPTiIsImNjUkRDIiwiY2NUUiIsImNjUlREIiwiY2NFRE0iLCJjY0NSIiwiY2NFTk0iLCJjY0VPQyIsImNjVE8iLCJuckNvbHMiLCJjY01JRFJPVyIsImNvbG9ySW5kZXgiLCJjb2xvcnMiLCJ1cGRhdGVEYXRhIiwiY3VlU3BsaXRBdFRpbWUiLCJDZWE2MDhQYXJzZXIiLCJmaWVsZCIsIm91dDEiLCJvdXQyIiwib3V0cHV0cyIsImNoYW5uZWxzIiwiY3VyckNoTnIiLCJsYXN0Q21kQSIsImxhc3RDbWRCIiwiYnVmZmVyZWREYXRhIiwiZGF0YUNvdW50ZXJzIiwiYWRkRGF0YSIsImJ5dGVMaXN0IiwiY21kRm91bmQiLCJjaGFyc0ZvdW5kIiwicGFyc2VDbWQiLCJwYXJzZU1pZHJvdyIsInBhcnNlUEFDIiwicGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyIsInBhcnNlQ2hhcnMiLCJjaGFubmVsIiwiY29uZDEiLCJjb25kMiIsImNhc2UxIiwiY2FzZTIiLCJpbnRlcnByZXRQQUMiLCJwYWNJbmRleCIsImNoYW5uZWxOciIsImNoYXJDb2RlcyIsImNoYXJDb2RlMSIsIm9uZUNvZGUiLCJoZXhDb2RlcyIsImNlYV82MDhfcGFyc2VyIiwic3RhcnRzV2l0aCIsImlucHV0U3RyaW5nIiwic2VhcmNoU3RyaW5nIiwiY3VlU3RyaW5nMm1pbGxpcyIsInRpbWVTdHJpbmciLCJzZWNzIiwibWlucyIsImhvdXJzIiwiaGFzaCIsImNhbGN1bGF0ZU9mZnNldCIsInZ0dENDcyIsInByZXNlbnRhdGlvblRpbWUiLCJjdXJyQ0MiLCJwcmV2Q0MiLCJuZXciLCJwcmVzZW50YXRpb25PZmZzZXQiLCJXZWJWVFRQYXJzZXIiLCJ2dHRCeXRlQXJyYXkiLCJzeW5jUFRTIiwiY2FsbEJhY2siLCJlcnJvckNhbGxCYWNrIiwicmUiLCJ2dHRMaW5lcyIsImN1ZVRpbWUiLCJtcGVnVHMiLCJsb2NhbFRpbWUiLCJwYXJzaW5nRXJyb3IiLCJpbkhlYWRlciIsInBhcnNlciIsImN1ZU9mZnNldCIsImVzY2FwZSIsIm9ucGFyc2luZ2Vycm9yIiwid2VidnR0X3BhcnNlciIsInRpbWVsaW5lX2NvbnRyb2xsZXJfVGltZWxpbmVDb250cm9sbGVyIiwiVGltZWxpbmVDb250cm9sbGVyIiwiZW5hYmxlZCIsIkN1ZXMiLCJjdWVIYW5kbGVyIiwidGV4dFRyYWNrcyIsInVucGFyc2VkVnR0RnJhZ3MiLCJjdWVSYW5nZXMiLCJlbmFibGVDRUE3MDhDYXB0aW9ucyIsInNlbmRBZGRUcmFja0V2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2hhbm5lbDEiLCJleGlzdGluZ1RyYWNrMSIsImdldEV4aXN0aW5nVHJhY2siLCJjcmVhdGVUZXh0VHJhY2siLCJjYXB0aW9uc1RleHRUcmFjazFMYWJlbCIsImNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZSIsImFkZEN1ZXMiLCJjaGFubmVsMiIsImV4aXN0aW5nVHJhY2syIiwiY2FwdGlvbnNUZXh0VHJhY2syTGFiZWwiLCJjZWE2MDhQYXJzZXIiLCJyYW5nZXMiLCJtZXJnZWQiLCJjdWVSYW5nZSIsIm92ZXJsYXAiLCJwcm9wTmFtZSIsImxhc3RTbiIsImVuYWJsZVdlYlZUVCIsImluVXNlVHJhY2tzIiwib25MZXZlbFN3aXRjaGluZyIsImNsb3NlZENhcHRpb25zIiwiY3VycmVudFRyYWNrIiwiZ2V0Q3VlQnlJZCIsInRleHRUcmFja0N1ZSIsInN1Y2Nlc3MiLCJvbkZyYWdQYXJzaW5nVXNlcmRhdGEiLCJjY2RhdGFzIiwiZXh0cmFjdENlYTYwOERhdGEiLCJ0bXBCeXRlIiwiY2NieXRlMSIsImNjYnl0ZTIiLCJjY1ZhbGlkIiwiY2NUeXBlIiwiYWN0dWFsQ0NCeXRlcyIsInRpbWVsaW5lX2NvbnRyb2xsZXIiLCJzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyIsInN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfU3VidGl0bGVUcmFja0NvbnRyb2xsZXIiLCJTdWJ0aXRsZVRyYWNrQ29udHJvbGxlciIsIl9vblRleHRUcmFja3NDaGFuZ2VkIiwic3VidGl0bGVUcmFjayIsInRyYWNrQ2hhbmdlTGlzdGVuZXIiLCJ1c2VUZXh0VHJhY2tQb2xsaW5nIiwic3VidGl0bGVQb2xsaW5nSW50ZXJ2YWwiLCJzdWJ0aXRsZVRyYWNrcyIsIm9uVGljayIsIm9uU3VidGl0bGVUcmFja0xvYWRlZCIsInNldFN1YnRpdGxlVHJhY2tJbnRlcm5hbCIsInN1YnRpdGxlVHJhY2tJZCIsInN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXIiLCJzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIiLCJTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIiLCJ2dHRGcmFnU05zUHJvY2Vzc2VkIiwidnR0RnJhZ1F1ZXVlcyIsImN1cnJlbnRseVByb2Nlc3NpbmciLCJjdXJyZW50VHJhY2tJZCIsImNsZWFyVnR0RnJhZ1F1ZXVlcyIsIm9uU3VidGl0bGVGcmFnUHJvY2Vzc2VkIiwib25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQiLCJvblN1YnRpdGxlVHJhY2tTd2l0Y2giLCJwcm9jZXNzZWRGcmFnU05zIiwiZnJhZ1F1ZXVlIiwiY3VycmVudEZyYWdTTiIsImFscmVhZHlQcm9jZXNzZWQiLCJhbHJlYWR5SW5RdWV1ZSIsInNvbWUiLCJmcmFnSW5RdWV1ZSIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyIiwiaGxzRGVmYXVsdENvbmZpZyIsImZldGNoU2V0dXAiLCJhYnJDb250cm9sbGVyIiwiYnVmZmVyQ29udHJvbGxlciIsImNhcExldmVsQ29udHJvbGxlciIsImZwc0NvbnRyb2xsZXIiLCJtaW5BdXRvQml0cmF0ZSIsInN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciIsInN1YnRpdGxlVHJhY2tDb250cm9sbGVyIiwidGltZWxpbmVDb250cm9sbGVyIiwiY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlIiwiYXVkaW9TdHJlYW1Db250cm9sbGVyIiwiYXVkaW9UcmFja0NvbnRyb2xsZXIiLCJobHNfX2NyZWF0ZUNsYXNzIiwiaGxzX0hscyIsIkhscyIsImRlZmF1bHRDb25maWciLCJEZWZhdWx0Q29uZmlnIiwicHJvcCIsIl9hdXRvTGV2ZWxDYXBwaW5nIiwicGxheUxpc3RMb2FkZXIiLCJmcmFnbWVudExvYWRlciIsImtleUxvYWRlciIsImlkM1RyYWNrQ29udHJvbGxlciIsImxldmVsQ29udHJvbGxlciIsIm5ldHdvcmtDb250cm9sbGVycyIsIkNvbnRyb2xsZXIiLCJjb3JlQ29tcG9uZW50cyIsIldlYktpdE1lZGlhU291cmNlIiwiU291cmNlQnVmZmVyIiwiV2ViS2l0U291cmNlQnVmZmVyIiwic291cmNlQnVmZmVyVmFsaWRBUEkiLCJkZXRhY2hNZWRpYSIsImNvbXBvbmVudCIsImNvbnRyb2xsZXIiLCJyZWNvdmVyTWVkaWFFcnJvciIsImxvYWRMZXZlbCIsIm1hbnVhbExldmVsIiwid2VicGFja0Jvb3RzdHJhcEZ1bmMiLCJvZSIsIkVOVFJZX01PRFVMRSIsInF1b3RlUmVnRXhwIiwic3RyIiwiZ2V0TW9kdWxlRGVwZW5kZW5jaWVzIiwicmV0dmFsIiwiZm5TdHJpbmciLCJ3cmFwcGVyU2lnbmF0dXJlIiwid2VicGFja1JlcXVpcmVOYW1lIiwiZ2V0UmVxdWlyZWRNb2R1bGVzIiwibW9kdWxlc1F1ZXVlIiwicmVxdWlyZWRNb2R1bGVzIiwic2Vlbk1vZHVsZXMiLCJtb2R1bGVUb0NoZWNrIiwibmV3TW9kdWxlcyIsImFsbCIsImJsb2IiLCJCbG9iIiwiYmFyZSIsIndlYmtpdFVSTCIsIm1velVSTCIsIm1zVVJMIiwid29ya2VyVXJsIiwid29ya2VyIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZW11eF9kZW11eGVyX2lubGluZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfbG9nZ2VyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX19fZGVmYXVsdCIsIkRlbXV4ZXJXb3JrZXIiLCJ0cmFuc2ZlcmFibGUiLCIuL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIlJFQUNUX1NUQVRJQ1MiLCJjaGlsZENvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlcyIsImRlZmF1bHRQcm9wcyIsImRpc3BsYXlOYW1lIiwiZ2V0RGVmYXVsdFByb3BzIiwibWl4aW5zIiwiS05PV05fU1RBVElDUyIsImNhbGxlciIsImFyaXR5Iiwib2JqZWN0UHJvdG90eXBlIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJibGFja2xpc3QiLCJpbmhlcml0ZWRDb21wb25lbnQiLCIuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yb290X2pzX18iLCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCJiYXNlR2V0VGFnIiwidW5kZWZpbmVkVGFnIiwibnVsbFRhZyIsInN5bVRvU3RyaW5nVGFnIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRSYXdUYWdfanNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fb2JqZWN0VG9TdHJpbmdfanNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fU3ltYm9sX2pzX18iLCJ0b1N0cmluZ1RhZyIsIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZnJlZUdsb2JhbC5qcyIsImZyZWVHbG9iYWwiLCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFByb3RvdHlwZS5qcyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb3ZlckFyZ19qc19fIiwiZ2V0UHJvdG90eXBlIiwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRSYXdUYWcuanMiLCJnZXRSYXdUYWciLCJpc093biIsInVubWFza2VkIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RQcm90byIsIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanMiLCJvYmplY3RUb1N0cmluZyIsIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlckFyZy5qcyIsIm92ZXJBcmciLCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3Jvb3QuanMiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZyZWVHbG9iYWxfanNfXyIsImZyZWVTZWxmIiwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qcyIsImlzT2JqZWN0TGlrZSIsIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc1BsYWluT2JqZWN0LmpzIiwiaXNQbGFpbk9iamVjdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faXNPYmplY3RMaWtlX2pzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Jhc2VHZXRUYWdfanNfXyIsIm9iamVjdFRhZyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0UHJvdG90eXBlX2pzX18iLCJDdG9yIiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImZ1bmNQcm90byIsIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvY29uZmlnLmpzIiwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvZm9ybXMuanMiLCJnZXRNZW51UG9zaXRpb25hbENTU0ZuIiwid3JhcHBlckVsIiwibnVtUm93cyIsInNlbGVjdGVkUm93IiwidG9wIiwiaW5pdFRvcCIsIm1pblRvcCIsIm1heFRvcCIsInZpZXdIZWlnaHQiLCJyb3dIZWlnaHQiLCJtZW51UGFkZGluZyIsIndyYXBwZXJQYWRkaW5nIiwiaW5wdXRIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY3JvbGxJZGVhbCIsInNjcm9sbE1heCIsInNjcm9sbFRvcCIsImdldE1lbnVQb3NpdGlvbmFsQ1NTIiwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzIiwianFMaXRlQWRkQ2xhc3MiLCJlbGVtZW50IiwiY3NzQ2xhc3NlcyIsInNldEF0dHJpYnV0ZSIsImNzc0NsYXNzIiwiZXhpc3RpbmdDbGFzc2VzIiwiX2dldEV4aXN0aW5nQ2xhc3NlcyIsInNwbGl0Q2xhc3NlcyIsImpxTGl0ZUNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJuYW1lVHlwZSIsImpxTGl0ZVR5cGUiLCJfY2FtZWxDYXNlIiwic3R5bGVPYmoiLCJfZ2V0Q3VyckNzc1Byb3AiLCJvdXRPYmoiLCJqcUxpdGVIYXNDbGFzcyIsImNscyIsImdldEF0dHJpYnV0ZSIsInNvbWV2YXIiLCJ0eXBlU3RyIiwianFMaXRlT24iLCJ1c2VDYXB0dXJlIiwiY2FjaGUiLCJfbXVpRXZlbnRDYWNoZSIsImpxTGl0ZU9mZiIsImFyZ3NMaXN0IiwianFMaXRlT25lIiwib25GbiIsImpxTGl0ZVNjcm9sbExlZnQiLCJ3aW4iLCJkb2NFbCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsImNsaWVudExlZnQiLCJzY3JvbGxUbyIsImpxTGl0ZVNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwianFMaXRlT2Zmc2V0IiwicmVjdCIsImpxTGl0ZVJlYWR5IiwiYWRkIiwicmVtIiwicHJlIiwicG9sbCIsImRvU2Nyb2xsIiwiY3JlYXRlRXZlbnRPYmplY3QiLCJmcmFtZUVsZW1lbnQiLCJqcUxpdGVSZW1vdmVDbGFzcyIsIlNQRUNJQUxfQ0hBUlNfUkVHRVhQIiwiXyIsInNlcGFyYXRvciIsImxldHRlciIsIk1PWl9IQUNLX1JFR0VYUCIsImVsZW0iLCJjb21wdXRlZCIsImdldFByb3BlcnR5VmFsdWUiLCJhZGRDbGFzcyIsImNzcyIsImhhc0NsYXNzIiwib25lIiwicmVhZHkiLCJyZW1vdmVDbGFzcyIsIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvbGliL3V0aWwuanMiLCJsb2dGbiIsImxvYWRTdHlsZUZuIiwiY3NzVGV4dCIsInN0eWxlU2hlZXQiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyYWlzZUVycm9yRm4iLCJ1c2VDb25zb2xlIiwiY2xhc3NOYW1lc0ZuIiwiY2xhc3NlcyIsImNzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzRm4iLCJfc3VwcG9ydHNQb2ludGVyRXZlbnRzIiwicG9pbnRlckV2ZW50cyIsImNhbGxiYWNrRm4iLCJkaXNwYXRjaEV2ZW50Rm4iLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImVuYWJsZVNjcm9sbExvY2tGbiIsInNjcm9sbExvY2siLCJjc3NQcm9wcyIsImNzc1N0ciIsImh0bWxFbCIsImJvZHlFbCIsInNjcm9sbEJhcldpZHRoIiwiZ2V0U2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJqcUxpdGUiLCJzY3JvbGxXaWR0aCIsInNjcm9sbExvY2tDbHMiLCJzY3JvbGxTdHlsZUVsIiwic2Nyb2xsRXZlbnRIYW5kbGVyIiwic2Nyb2xsTG9ja1BvcyIsImRpc2FibGVTY3JvbGxMb2NrRm4iLCJyZXNldFBvcyIsInJlbW92ZUNoaWxkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lRm4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfc2Nyb2xsQmFyV2lkdGgiLCJ0YWdOYW1lIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiaW5uZXJIVE1MIiwiY2xhc3NOYW1lcyIsImRpc2FibGVTY3JvbGxMb2NrIiwiZW5hYmxlU2Nyb2xsTG9jayIsImxvYWRTdHlsZSIsInJhaXNlRXJyb3IiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L19oZWxwZXJzLmpzIiwiY29udHJvbGxlZE1lc3NhZ2UiLCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L2JhYmVsLWhlbHBlcnMuanMiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJiYWJlbEhlbHBlcnMiLCJjbGFzc0NhbGxDaGVjayIsImNyZWF0ZUNsYXNzIiwiZXh0ZW5kcyIsImFzc2lnbiIsImluaGVyaXRzIiwiaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwicG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzIiwiX2pxTGl0ZSIsIl91dGlsIiwidXRpbCIsImJ0bkF0dHJzIiwiQnV0dG9uIiwiX1JlYWN0JENvbXBvbmVudCIsInJpcHBsZVN0eWxlIiwicmlwcGxlSXNWaXNpYmxlIiwib25Nb3VzZURvd25DQiIsIm9uTW91c2VVcENCIiwib25Nb3VzZUxlYXZlQ0IiLCJvblRvdWNoU3RhcnRDQiIsIm9uVG91Y2hFbmRDQiIsImJ1dHRvbkVsUmVmIiwiX211aURyb3Bkb3duIiwiX211aVJpcHBsZSIsInNob3dSaXBwbGUiLCJvbk1vdXNlRG93biIsImhpZGVSaXBwbGUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoRW5kIiwiY2xpY2tFdiIsInRvdWNoZXMiLCJyYWRpdXMiLCJzcXJ0IiwiZGlhbWV0ZXJQeCIsInBhZ2VZIiwicGFnZVgiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJyaXBwbGVFbCIsInJpcHBsZUVsUmVmIiwiX3Byb3BzIiwicmVhY3RQcm9wcyIsIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3Qvb3B0aW9uLmpzIiwiX2Zvcm1zIiwiT3B0aW9uIiwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9zZWxlY3QuanMiLCJmb3JtbGliIiwiX2hlbHBlcnMiLCJTZWxlY3QiLCJzaG93TWVudSIsInJlYWRPbmx5Iiwib25Jbm5lckNoYW5nZUNCIiwib25Jbm5lck1vdXNlRG93bkNCIiwib25PdXRlckNsaWNrQ0IiLCJvbk91dGVyS2V5RG93bkNCIiwiaGlkZU1lbnVDQiIsIm9uTWVudUNoYW5nZUNCIiwiY29udHJvbEVsIiwiX211aVNlbGVjdCIsImJ1dHRvbiIsInVzZURlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImRpc2FibGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsIndyYXBwZXJFbFJlZiIsIm9uS2V5RG93biIsImtleUNvZGUiLCJtZW51RWxlbSIsIk1lbnUiLCJvcHRpb25FbHMiLCJvbkNsb3NlIiwidGFiSW5kZXhXcmFwcGVyIiwidGFiSW5kZXhJbm5lciIsImRlZmF1bHRWYWx1ZSIsInRhYkluZGV4IiwicmVxdWlyZWQiLCJfUmVhY3QkQ29tcG9uZW50MiIsIm9yaWdJbmRleCIsIm9uS2V5RG93bkNCIiwib25LZXlQcmVzc0NCIiwicSIsInFUaW1lb3V0Iiwic2VsZWN0ZWRQb3MiLCJzZWxlY3RlZCIsInN0b3BQcm9wYWdhdGlvbiIsInNlbGVjdEFuZERlc3Ryb3kiLCJpbmNyZW1lbnQiLCJkZWNyZW1lbnQiLCJwcmVmaXhSZWdleCIsImlubmVyVGV4dCIsIm1lbnVJdGVtcyIsInRleHRDb250ZW50IiwiLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsInByb3BJc0VudW1lcmFibGUiLCJ0ZXN0MSIsInRlc3QyIiwidGVzdDMiLCJ0byIsIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwiY29tcG9uZW50TmFtZSIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImJvb2wiLCJudW1iZXIiLCJzeW1ib2wiLCJhbnkiLCJhcnJheU9mIiwiaW5zdGFuY2VPZiIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qcyIsImphIiwicGEiLCJsYSIsIm9hIiwicWEiLCJwbHVnaW5zIiwiZXh0cmFjdEV2ZW50cyIsImV2ZW50VHlwZXMiLCJldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyIsInJhIiwicmVnaXN0cmF0aW9uTmFtZSIsInJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzIiwicmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsIkxhIiwiX3JlbmRlcmVkQ29tcG9uZW50IiwiTWEiLCJfaG9zdE5vZGUiLCJIYSIsIk5hIiwiX2ZsYWdzIiwiRmEiLCJoYXNDYWNoZWRDaGlsZE5vZGVzIiwiX3JlbmRlcmVkQ2hpbGRyZW4iLCJfZG9tSUQiLCJuZXh0U2libGluZyIsIkFhIiwiRWEiLCJCYSIsIm5vZGVWYWx1ZSIsIk9hIiwieWEiLCJ6YSIsIlJhIiwiZ2V0TmFtZSIsIlphIiwiZWZmZWN0VGFnIiwiWGEiLCJXYSIsIlRhIiwiJGEiLCJhYiIsInNpYmxpbmciLCJzdGF0ZU5vZGUiLCJjdXJyZW50IiwiSyIsIl9oYXNDYXVnaHRFcnJvciIsIl9jYXVnaHRFcnJvciIsImRiIiwiX2hhc1JldGhyb3dFcnJvciIsIl9yZXRocm93RXJyb3IiLCJnYiIsImhiIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSIsImViIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yIiwibWIiLCJpYiIsImdldEluc3RhbmNlRnJvbU5vZGUiLCJqYiIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUiLCJnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlIiwib2IiLCJwYiIsInFiIiwidWIiLCJzcmNFbGVtZW50IiwiY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQiLCJ0YiIsInhiIiwidGFyZ2V0SW5zdCIsImFuY2VzdG9ycyIsInZiIiwiY29udGFpbmVySW5mbyIsIl9ob3N0UGFyZW50IiwiZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUiLCJ5YiIsIl9oYW5kbGVUb3BMZXZlbCIsInRvcExldmVsVHlwZSIsIm5hdGl2ZUV2ZW50IiwiQ2IiLCJEYiIsIkZiIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiaXNQZXJzaXN0ZW50IiwicmVsZWFzZSIsIkdiIiwiSGIiLCJJYiIsIkxiIiwiS2IiLCJpbXBsZW1lbnRhdGlvbiIsImhhc0ZlYXR1cmUiLCJNYiIsIlFiIiwiT2IiLCJOYiIsIlBiIiwiVmIiLCJVYiIsIlRiIiwiU2IiLCJmYyIsImVjIiwiZGMiLCJqYyIsInJjIiwiYWEiLCJDaGlsZHJlbiIsInRjIiwieWMiLCJ4YyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiemMiLCJBYyIsImdldFZhbHVlIiwic2V0VmFsdWUiLCJzdG9wVHJhY2tpbmciLCJfdmFsdWVUcmFja2VyIiwiQ2MiLCJJYyIsImxhc3RDaGlsZCIsIkhjIiwiUmMiLCJOYyIsIkxjIiwiTWMiLCJvZCIsImhkIiwiZ2QiLCJwZCIsImZpcnN0IiwiaGFzRm9yY2VVcGRhdGUiLCJjYWxsYmFja0xpc3QiLCJxZCIsInJkIiwicHJpb3JpdHlMZXZlbCIsInNkIiwidXBkYXRlUXVldWUiLCJtZCIsIm5kIiwicGFydGlhbFN0YXRlIiwiaXNSZXBsYWNlIiwiaXNGb3JjZWQiLCJpc1RvcExldmVsVW5tb3VudCIsInRkIiwiTWQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQiLCJOZCIsInpkIiwiT2QiLCJnZXRDaGlsZENvbnRleHQiLCJiZSIsIm1lbW9pemVkU3RhdGUiLCJtZW1vaXplZFByb3BzIiwicGVuZGluZ1Byb3BzIiwiaW50ZXJuYWxDb250ZXh0VGFnIiwiYWUiLCJsYXN0RWZmZWN0IiwiZmlyc3RFZmZlY3QiLCJuZXh0RWZmZWN0IiwicGVuZGluZ1dvcmtQcmlvcml0eSIsIlpkIiwiY2UiLCJpc1JlYWN0Q29tcG9uZW50IiwiUmQiLCJRZCIsIlRkIiwiTGUiLCJKZSIsIk1lIiwiX293bmVyIiwiQWUiLCJnZXRQdWJsaWNJbnN0YW5jZSIsIl9zdHJpbmdSZWYiLCJkYSIsIk5lIiwiT2UiLCJJZSIsIk1hcCIsIkdlIiwiSGUiLCJCZSIsInVlIiwic2UiLCJEZSIsInZlIiwiRWUiLCJ3ZSIsIkNlIiwieGUiLCJGZSIsInRlIiwiJCR0eXBlb2YiLCJLZSIsInBlIiwicWUiLCJ5ZSIsIkgiLCJDYSIsIlYiLCJ6ZSIsImVmIiwidXBkYXRlciIsIlBhIiwiaXNNb3VudGVkIiwiZGYiLCJlbnF1ZXVlU2V0U3RhdGUiLCJaZSIsImVucXVldWVSZXBsYWNlU3RhdGUiLCIkZSIsImVucXVldWVGb3JjZVVwZGF0ZSIsImFmIiwiYWRvcHRDbGFzc0luc3RhbmNlIiwiY29uc3RydWN0Q2xhc3NJbnN0YW5jZSIsIlhlIiwiWWUiLCJXZSIsIlZlIiwibW91bnRDbGFzc0luc3RhbmNlIiwiZWQiLCJlbmFibGVBc3luY1N1YnRyZWVBUEkiLCJ1bnN0YWJsZV9pc0FzeW5jUmVhY3RDb21wb25lbnQiLCJVZSIsImNvbXBvbmVudFdpbGxNb3VudCIsImJmIiwiY29tcG9uZW50RGlkTW91bnQiLCJUZSIsInVwZGF0ZUNsYXNzSW5zdGFuY2UiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiY2YiLCJjb21wb25lbnREaWRVcGRhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJpc1B1cmVSZWFjdENvbXBvbmVudCIsImVhIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIkxmIiwiZmYiLCJnZiIsImhmIiwiSmYiLCJxZiIsIktmIiwiRmYiLCJwZW5kaW5nQ29udGV4dCIsInBmIiwiamYiLCJ1ZiIsInRmIiwib2YiLCJ5ZiIsInNob3VsZFNldFRleHRDb250ZW50IiwidXNlU3luY1NjaGVkdWxpbmciLCJzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlIiwicHVzaEhvc3RDb250ZXh0IiwicHVzaEhvc3RDb250YWluZXIiLCJlbnRlckh5ZHJhdGlvblN0YXRlIiwicmVzZXRIeWRyYXRpb25TdGF0ZSIsInRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlIiwibGQiLCJiZWdpbldvcmsiLCJEZiIsInJmIiwibWYiLCJsZiIsInNmIiwibmYiLCJrZiIsIkdmIiwid2YiLCJIZiIsIkVmIiwieGYiLCJBZiIsInpmIiwiQmYiLCJDZiIsImJlZ2luRmFpbGVkV29yayIsIklmIiwiZWciLCJjcmVhdGVJbnN0YW5jZSIsImNyZWF0ZVRleHRJbnN0YW5jZSIsImFwcGVuZEluaXRpYWxDaGlsZCIsImZpbmFsaXplSW5pdGlhbENoaWxkcmVuIiwicHJlcGFyZVVwZGF0ZSIsImdldFJvb3RIb3N0Q29udGFpbmVyIiwicG9wSG9zdENvbnRleHQiLCJnZXRIb3N0Q29udGV4dCIsInBvcEhvc3RDb250YWluZXIiLCJwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UiLCJwb3BIeWRyYXRpb25TdGF0ZSIsImNvbXBsZXRlV29yayIsImRnIiwiUWYiLCJSZiIsIk5mIiwiU2YiLCJPZiIsImFnIiwiVGYiLCJjZyIsImJnIiwiVWYiLCJWZiIsIldmIiwiWGYiLCJZZiIsIk1mIiwiWmYiLCJQZiIsImhnIiwidmciLCJsZyIsImtnIiwibmciLCJtZyIsInFnIiwiamciLCJjb21wb25lbnRXaWxsVW5tb3VudCIsIm9nIiwiY29tbWl0TW91bnQiLCJjb21taXRVcGRhdGUiLCJyZXNldFRleHRDb250ZW50IiwiY29tbWl0VGV4dFVwZGF0ZSIsImFwcGVuZENoaWxkVG9Db250YWluZXIiLCJpbnNlcnRJbkNvbnRhaW5lckJlZm9yZSIsInJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciIsImNvbW1pdFBsYWNlbWVudCIsInVnIiwicmciLCJjb21taXREZWxldGlvbiIsImNvbW1pdFdvcmsiLCJjb21taXRMaWZlQ3ljbGVzIiwic2ciLCJ0ZyIsInBnIiwiY29tbWl0QXR0YWNoUmVmIiwiY29tbWl0RGV0YWNoUmVmIiwiQWciLCJ6ZyIsImdldENoaWxkSG9zdENvbnRleHQiLCJnZXRSb290SG9zdENvbnRleHQiLCJ3ZyIsInhnIiwieWciLCJyZXNldEhvc3RDb250YWluZXIiLCJIZyIsIkdnIiwiRWciLCJCZyIsIkNnIiwiRGciLCJjYW5IeWRyYXRlSW5zdGFuY2UiLCJjYW5IeWRyYXRlVGV4dEluc3RhbmNlIiwiZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nIiwiZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQiLCJoeWRyYXRlSW5zdGFuY2UiLCJoeWRyYXRlVGV4dEluc3RhbmNlIiwiZGlkTm90SHlkcmF0ZUluc3RhbmNlIiwiZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlIiwiRmciLCJoaCIsIm1hIiwiaXNTY2hlZHVsZWQiLCJuZXh0U2NoZWR1bGVkUm9vdCIsInpiIiwieiIsIkpnIiwiZ2giLCJJIiwiTGciLCJuYyIsIm9jIiwiSGQiLCJuYSIsIk9nIiwiS2ciLCJUZyIsIlVpIiwidSIsIllnIiwiYWgiLCJQaCIsIlpnIiwiJGciLCJVZyIsIldnIiwidmYiLCJWZyIsIlhnIiwiSWQiLCJNaCIsIkpkIiwiVmkiLCJHZCIsIk5oIiwiT2giLCJlaCIsImNvbXBvbmVudERpZENhdGNoIiwiY29tcG9uZW50U3RhY2siLCJiaCIsIkphIiwiTmciLCJ2YSIsIkxoIiwiZmgiLCJNZyIsIlJnIiwiQWIiLCJ0aW1lUmVtYWluaW5nIiwiUGciLCJRZyIsIkRhIiwiS2QiLCJZYSIsIklnIiwiY2giLCJkaCIsIkJiIiwiJGYiLCJLYSIsIlNldCIsImZlIiwiZ2UiLCJoZSIsImllIiwiX2RlYnVnT3duZXIiLCJfZGVidWdTb3VyY2UiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJlcnJvckJvdW5kYXJ5IiwiZXJyb3JCb3VuZGFyeUZvdW5kIiwiZXJyb3JCb3VuZGFyeU5hbWUiLCJ3aWxsUmV0cnkiLCJXaSIsIlhpIiwicGMiLCJZaSIsIlNnIiwic2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrIiwicHJlcGFyZUZvckNvbW1pdCIsInJlc2V0QWZ0ZXJDb21taXQiLCJzY2hlZHVsZVVwZGF0ZSIsImdldFByaW9yaXR5Q29udGV4dCIsImJhdGNoZWRVcGRhdGVzIiwidW5iYXRjaGVkVXBkYXRlcyIsImZsdXNoU3luYyIsImRlZmVycmVkVXBkYXRlcyIsImloIiwiamgiLCJfcHJvY2Vzc0NoaWxkQ29udGV4dCIsIl9jb250ZXh0Iiwic2giLCJ0aCIsInJoIiwidmgiLCJ1aCIsIkJoIiwiQ2giLCJEaCIsIkFoIiwiRmgiLCJFaCIsIkdoIiwiSmgiLCJJaCIsImRpc3BhdGNoQ29uZmlnIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiX2Rpc3BhdGNoSW5zdGFuY2VzIiwiS2giLCJIaCIsInRyYXZlcnNlVHdvUGhhc2UiLCJfdGFyZ2V0SW5zdCIsIlFoIiwiZ2V0UGFyZW50SW5zdGFuY2UiLCJSaCIsIlNoIiwiWSIsIkludGVyZmFjZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJldHVyblZhbHVlIiwiY2EiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsIlpoIiwiZXZlbnRQb29sIiwiJGgiLCJkZXN0cnVjdG9yIiwiWWgiLCJnZXRQb29sZWQiLCJhaSIsImJpIiwibWkiLCJjaSIsIm5pIiwiZGV0YWlsIiwicGkiLCJ3aGljaCIsImxpIiwiamkiLCJxaSIsIm9pIiwiZGkiLCJWaCIsImdldERhdGEiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsImlpIiwidGkiLCJzaSIsInZpIiwidWkiLCJjaGFuZ2UiLCJlbnF1ZXVlU3RhdGVSZXN0b3JlIiwiVGgiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzIiwieWkiLCJKYiIsImVucXVldWVFdmVudHMiLCJwcm9jZXNzRXZlbnRRdWV1ZSIsInppIiwiQmMiLCJ1cGRhdGVWYWx1ZUlmQ2hhbmdlZCIsIkFpIiwiQ2kiLCJ3aSIsIkRpIiwicHJvcGVydHlOYW1lIiwiRWkiLCJGaSIsIkdpIiwiSGkiLCJKaSIsIkxpIiwiZ2V0TW9kaWZpZXJTdGF0ZSIsIktpIiwiTWkiLCJOaSIsImNqIiwiYWoiLCJUaSIsImlhIiwiemgiLCJoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsImdldFNlbGVjdGlvbiIsImFuY2hvck5vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsIiRpIiwiU2kiLCJzZWxlY3QiLCJaaSIsImVqIiwiZmoiLCJnaiIsImhqIiwia2oiLCJsaiIsIm1qIiwibmoiLCJvaiIsIkJqIiwiYWsiLCJEaiIsIkdqIiwiSGoiLCJGaiIsImJrIiwiaGFzQXR0cmlidXRlIiwiSWoiLCJjayIsIl9yZWFjdFJvb3RDb250YWluZXIiLCJYaiIsInVwZGF0ZUNvbnRhaW5lciIsImNyZWF0ZUNvbnRhaW5lciIsImdldFB1YmxpY1Jvb3RJbnN0YW5jZSIsImRrIiwibmUiLCJjcmVhdGVQb3J0YWwiLCJiYSIsImZhIiwiaGEiLCJmYiIsImthIiwiTmFtZXNwYWNlcyIsImh0bWwiLCJtYXRobWwiLCJzdmciLCJnZXRJbnRyaW5zaWNOYW1lc3BhY2UiLCJnZXRDaGlsZE5hbWVzcGFjZSIsInBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMiLCJpbmplY3RFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lIiwic2EiLCJ0YSIsImF1dG9Gb2N1cyIsImRlZmF1bHRDaGVja2VkIiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwid2EiLCJNVVNUX1VTRV9QUk9QRVJUWSIsIkhBU19CT09MRUFOX1ZBTFVFIiwiSEFTX05VTUVSSUNfVkFMVUUiLCJIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSIsIkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUiLCJIQVNfU1RSSU5HX0JPT0xFQU5fVkFMVUUiLCJpbmplY3RET01Qcm9wZXJ0eUNvbmZpZyIsIkRPTUF0dHJpYnV0ZU5hbWVzcGFjZXMiLCJET01BdHRyaWJ1dGVOYW1lcyIsIkRPTU11dGF0aW9uTWV0aG9kcyIsInhhIiwicHJvcGVydGllcyIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVOYW1lc3BhY2UiLCJtdXRhdGlvbk1ldGhvZCIsIm11c3RVc2VQcm9wZXJ0eSIsImhhc0Jvb2xlYW5WYWx1ZSIsImhhc051bWVyaWNWYWx1ZSIsImhhc1Bvc2l0aXZlTnVtZXJpY1ZhbHVlIiwiaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSIsImhhc1N0cmluZ0Jvb2xlYW5WYWx1ZSIsIklEX0FUVFJJQlVURV9OQU1FIiwiUk9PVF9BVFRSSUJVVEVfTkFNRSIsIkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIiLCJBVFRSSUJVVEVfTkFNRV9DSEFSIiwic2hvdWxkU2V0QXR0cmlidXRlIiwiaXNSZXNlcnZlZFByb3AiLCJzaG91bGRBdHRyaWJ1dGVBY2NlcHRCb29sZWFuVmFsdWUiLCJnZXRQcm9wZXJ0eUluZm8iLCJpbmplY3Rpb24iLCJBIiwiSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsIkZ1bmN0aW9uYWxDb21wb25lbnQiLCJDbGFzc0NvbXBvbmVudCIsIkhvc3RSb290IiwiSG9zdFBvcnRhbCIsIkhvc3RDb21wb25lbnQiLCJIb3N0VGV4dCIsIkNvcm91dGluZUNvbXBvbmVudCIsIkNvcm91dGluZUhhbmRsZXJQaGFzZSIsIllpZWxkQ29tcG9uZW50IiwiRUxFTUVOVF9OT0RFIiwiVEVYVF9OT0RFIiwiQ09NTUVOVF9OT0RFIiwiRE9DVU1FTlRfTk9ERSIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJHYSIsIklhIiwicHJlY2FjaGVDaGlsZE5vZGVzIiwicHJlY2FjaGVOb2RlIiwidW5jYWNoZU5vZGUiLCJwcmVjYWNoZUZpYmVyTm9kZSIsInVwZGF0ZUZpYmVyUHJvcHMiLCJfcmVhY3RJbnRlcm5hbEZpYmVyIiwiUWEiLCJSZWFjdEN1cnJlbnRPd25lciIsIl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEIiwiSiIsIk5vRWZmZWN0IiwiUGVyZm9ybWVkV29yayIsIlBsYWNlbWVudCIsIlVwZGF0ZSIsIlBsYWNlbWVudEFuZFVwZGF0ZSIsIkRlbGV0aW9uIiwiQ29udGVudFJlc2V0IiwiQ2FsbGJhY2siLCJFcnIiLCJSZWYiLCJTYSIsIlVhIiwiVmEiLCJiYiIsImlzRmliZXJNb3VudGVkIiwiZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgiLCJmaW5kQ3VycmVudEhvc3RGaWJlciIsImZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyIsImluamVjdEVycm9yVXRpbHMiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2siLCJoYXNDYXVnaHRFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJpc0VuZGlzaCIsImlzTW92ZWlzaCIsImlzU3RhcnRpc2giLCJleGVjdXRlRGlyZWN0RGlzcGF0Y2giLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlIiwiaGFzRGlzcGF0Y2hlcyIsImluamVjdENvbXBvbmVudFRyZWUiLCJrYiIsImxiIiwiaW5qZWN0RmliZXJDb250cm9sbGVkSG9zdENvbXBvbmVudCIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwicmIiLCJpbmplY3RTdGFja0JhdGNoZWRVcGRhdGVzIiwiaW5qZWN0RmliZXJCYXRjaGVkVXBkYXRlcyIsIndiIiwiX2VuYWJsZWQiLCJzZXRIYW5kbGVUb3BMZXZlbCIsInNldEVuYWJsZWQiLCJpc0VuYWJsZWQiLCJ0cmFwQnViYmxlZEV2ZW50IiwidHJhcENhcHR1cmVkRXZlbnQiLCJMIiwiRWIiLCJnZXRMaXN0ZW5lciIsIl9jdXJyZW50RWxlbWVudCIsIl9yb290Tm9kZUlEIiwiYW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uaXRlcmF0aW9uIiwiYW5pbWF0aW9uc3RhcnQiLCJ0cmFuc2l0aW9uZW5kIiwiYW5pbWF0aW9uIiwidHJhbnNpdGlvbiIsIlJiIiwidG9wQWJvcnQiLCJ0b3BBbmltYXRpb25FbmQiLCJ0b3BBbmltYXRpb25JdGVyYXRpb24iLCJ0b3BBbmltYXRpb25TdGFydCIsInRvcEJsdXIiLCJ0b3BDYW5jZWwiLCJ0b3BDYW5QbGF5IiwidG9wQ2FuUGxheVRocm91Z2giLCJ0b3BDaGFuZ2UiLCJ0b3BDbGljayIsInRvcENsb3NlIiwidG9wQ29tcG9zaXRpb25FbmQiLCJ0b3BDb21wb3NpdGlvblN0YXJ0IiwidG9wQ29tcG9zaXRpb25VcGRhdGUiLCJ0b3BDb250ZXh0TWVudSIsInRvcENvcHkiLCJ0b3BDdXQiLCJ0b3BEb3VibGVDbGljayIsInRvcERyYWciLCJ0b3BEcmFnRW5kIiwidG9wRHJhZ0VudGVyIiwidG9wRHJhZ0V4aXQiLCJ0b3BEcmFnTGVhdmUiLCJ0b3BEcmFnT3ZlciIsInRvcERyYWdTdGFydCIsInRvcERyb3AiLCJ0b3BEdXJhdGlvbkNoYW5nZSIsInRvcEVtcHRpZWQiLCJ0b3BFbmNyeXB0ZWQiLCJ0b3BFbmRlZCIsInRvcEVycm9yIiwidG9wRm9jdXMiLCJ0b3BJbnB1dCIsInRvcEtleURvd24iLCJ0b3BLZXlQcmVzcyIsInRvcEtleVVwIiwidG9wTG9hZGVkRGF0YSIsInRvcExvYWQiLCJ0b3BMb2FkZWRNZXRhZGF0YSIsInRvcExvYWRTdGFydCIsInRvcE1vdXNlRG93biIsInRvcE1vdXNlTW92ZSIsInRvcE1vdXNlT3V0IiwidG9wTW91c2VPdmVyIiwidG9wTW91c2VVcCIsInRvcFBhc3RlIiwidG9wUGF1c2UiLCJ0b3BQbGF5IiwidG9wUGxheWluZyIsInRvcFByb2dyZXNzIiwidG9wUmF0ZUNoYW5nZSIsInRvcFNjcm9sbCIsInRvcFNlZWtlZCIsInRvcFNlZWtpbmciLCJ0b3BTZWxlY3Rpb25DaGFuZ2UiLCJ0b3BTdGFsbGVkIiwidG9wU3VzcGVuZCIsInRvcFRleHRJbnB1dCIsInRvcFRpbWVVcGRhdGUiLCJ0b3BUb2dnbGUiLCJ0b3BUb3VjaENhbmNlbCIsInRvcFRvdWNoRW5kIiwidG9wVG91Y2hNb3ZlIiwidG9wVG91Y2hTdGFydCIsInRvcFRyYW5zaXRpb25FbmQiLCJ0b3BWb2x1bWVDaGFuZ2UiLCJ0b3BXYWl0aW5nIiwidG9wV2hlZWwiLCJNIiwiaGFuZGxlVG9wTGV2ZWwiLCJsaXN0ZW5UbyIsImlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMiLCJXYiIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYm9yZGVySW1hZ2VPdXRzZXQiLCJib3JkZXJJbWFnZVNsaWNlIiwiYm9yZGVySW1hZ2VXaWR0aCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImNvbHVtbnMiLCJmbGV4IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZmxleE9yZGVyIiwiZ3JpZFJvdyIsImdyaWRSb3dFbmQiLCJncmlkUm93U3BhbiIsImdyaWRSb3dTdGFydCIsImdyaWRDb2x1bW4iLCJncmlkQ29sdW1uRW5kIiwiZ3JpZENvbHVtblNwYW4iLCJncmlkQ29sdW1uU3RhcnQiLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJ0YWJTaXplIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5IiwiZmxvb2RPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VEYXNob2Zmc2V0Iiwic3Ryb2tlTWl0ZXJsaW1pdCIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXaWR0aCIsIlhiIiwiWWIiLCJpc1VuaXRsZXNzTnVtYmVyIiwic2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zIiwiYmFja2dyb3VuZEF0dGFjaG1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kUG9zaXRpb25YIiwiYmFja2dyb3VuZFBvc2l0aW9uWSIsImJhY2tncm91bmRSZXBlYXQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJib3JkZXIiLCJib3JkZXJXaWR0aCIsImJvcmRlclN0eWxlIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJCb3R0b20iLCJib3JkZXJCb3R0b21XaWR0aCIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJib3JkZXJMZWZ0IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyTGVmdENvbG9yIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJSaWdodFdpZHRoIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlclJpZ2h0Q29sb3IiLCJib3JkZXJUb3AiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlclRvcFN0eWxlIiwiYm9yZGVyVG9wQ29sb3IiLCJmb250IiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJvdXRsaW5lIiwib3V0bGluZVdpZHRoIiwib3V0bGluZVN0eWxlIiwib3V0bGluZUNvbG9yIiwiWmIiLCIkYiIsImFjIiwiRWMiLCJiYyIsImNyZWF0ZURhbmdlcm91c1N0cmluZ0ZvclN0eWxlcyIsInNldFZhbHVlRm9yU3R5bGVzIiwic2V0UHJvcGVydHkiLCJnYyIsInNldEF0dHJpYnV0ZUZvcklEIiwic2V0QXR0cmlidXRlRm9yUm9vdCIsImdldFZhbHVlRm9yUHJvcGVydHkiLCJnZXRWYWx1ZUZvckF0dHJpYnV0ZSIsInNldFZhbHVlRm9yUHJvcGVydHkiLCJkZWxldGVWYWx1ZUZvclByb3BlcnR5Iiwic2V0QXR0cmlidXRlTlMiLCJzZXRWYWx1ZUZvckF0dHJpYnV0ZSIsImRlbGV0ZVZhbHVlRm9yQXR0cmlidXRlIiwiaGMiLCJpYyIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUiLCJrYyIsInBoYXNlIiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50RmliZXJPd25lck5hbWUiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtIiwibGMiLCJtYyIsImdldEhvc3RQcm9wcyIsImNoZWNrZWQiLCJfd3JhcHBlclN0YXRlIiwiaW5pdGlhbFZhbHVlIiwiaW5pdGlhbENoZWNrZWQiLCJpbml0V3JhcHBlclN0YXRlIiwiY29udHJvbGxlZCIsInVwZGF0ZVdyYXBwZXIiLCJwb3N0TW91bnRXcmFwcGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm0iLCJxYyIsInNjIiwidmFsaWRhdGVQcm9wcyIsInVjIiwid2FzTXVsdGlwbGUiLCJtdWx0aXBsZSIsInBvc3RVcGRhdGVXcmFwcGVyIiwidmMiLCJ3YyIsIm1lbnVpdGVtIiwiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImVtYmVkIiwiaHIiLCJpbWciLCJrZXlnZW4iLCJsaW5rIiwicGFyYW0iLCJ3YnIiLCJfZ2V0VHJhY2tlckZyb21Ob2RlIiwiRGMiLCJGYyIsIk1TQXBwIiwiZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24iLCJuYW1lc3BhY2VVUkkiLCJHYyIsIkpjIiwiT2MiLCJQYyIsIlFjIiwiU2MiLCJOIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0SW5pdGlhbFByb3BlcnRpZXMiLCJfX2h0bWwiLCJvbmNsaWNrIiwiZGlmZlByb3BlcnRpZXMiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiZGlmZkh5ZHJhdGVkUHJvcGVydGllcyIsImRpZmZIeWRyYXRlZFRleHQiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50Iiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCIsIlRjIiwicmVxdWVzdElkbGVDYWxsYmFjayIsIlVjIiwiVmMiLCJXYyIsIlhjIiwiWWMiLCJaYyIsIiRjIiwiYWQiLCJiZCIsImNkIiwiamUiLCJrZSIsImRkIiwicklDIiwiUSIsIk5vV29yayIsIlN5bmNocm9ub3VzUHJpb3JpdHkiLCJUYXNrUHJpb3JpdHkiLCJIaWdoUHJpb3JpdHkiLCJMb3dQcmlvcml0eSIsIk9mZnNjcmVlblByaW9yaXR5IiwiZmQiLCJqZCIsImtkIiwidWQiLCJhZGRVcGRhdGUiLCJhZGRSZXBsYWNlVXBkYXRlIiwiYWRkRm9yY2VVcGRhdGUiLCJnZXRVcGRhdGVQcmlvcml0eSIsImFkZFRvcExldmVsVXBkYXRlIiwiYmVnaW5VcGRhdGVRdWV1ZSIsImNvbW1pdENhbGxiYWNrcyIsInZkIiwid2QiLCJ4ZCIsImNyZWF0ZUN1cnNvciIsInlkIiwiQWQiLCJCZCIsIkNkIiwiRGQiLCJFZCIsIkZkIiwiTGQiLCJnZXRVbm1hc2tlZENvbnRleHQiLCJjYWNoZUNvbnRleHQiLCJnZXRNYXNrZWRDb250ZXh0IiwiaGFzQ29udGV4dENoYW5nZWQiLCJpc0NvbnRleHRDb25zdW1lciIsImlzQ29udGV4dFByb3ZpZGVyIiwicG9wQ29udGV4dFByb3ZpZGVyIiwicG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwicHVzaFRvcExldmVsQ29udGV4dE9iamVjdCIsImN1cnNvciIsInByb2Nlc3NDaGlsZENvbnRleHQiLCJwdXNoQ29udGV4dFByb3ZpZGVyIiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyIiwicmVzZXRDb250ZXh0IiwiZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQiLCJQZCIsIk5vQ29udGV4dCIsIkFzeW5jVXBkYXRlcyIsIlNkIiwiVWQiLCJWZCIsIldkIiwiWGQiLCJZZCIsIiRkIiwiZGUiLCJjcmVhdGVXb3JrSW5Qcm9ncmVzcyIsImNyZWF0ZUhvc3RSb290RmliZXIiLCJjcmVhdGVGaWJlckZyb21FbGVtZW50IiwiY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiY3JlYXRlRmliZXJGcm9tRWxlbWVudFR5cGUiLCJjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbiIsImNyZWF0ZUZpYmVyRnJvbUNvcm91dGluZSIsImNyZWF0ZUZpYmVyRnJvbVlpZWxkIiwiY3JlYXRlRmliZXJGcm9tUG9ydGFsIiwibGFyZ2VyUHJpb3JpdHkiLCJlZSIsImxlIiwiY3JlYXRlQ29yb3V0aW5lIiwiY3JlYXRlWWllbGQiLCJpc0Nvcm91dGluZSIsImlzWWllbGQiLCJSRUFDVF9ZSUVMRF9UWVBFIiwiUkVBQ1RfQ09ST1VUSU5FX1RZUEUiLCJpc1BvcnRhbCIsIlJFQUNUX1BPUlRBTF9UWVBFIiwiUGUiLCJRZSIsIlJlIiwiU2UiLCJyZWNvbmNpbGVDaGlsZEZpYmVycyIsInJlY29uY2lsZUNoaWxkRmliZXJzSW5QbGFjZSIsIm1vdW50Q2hpbGRGaWJlcnNJblBsYWNlIiwiY2xvbmVDaGlsZEZpYmVycyIsImZnIiwiZ2ciLCJpZyIsImluamVjdEludGVybmFscyIsIl9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsInN1cHBvcnRzRmliZXIiLCJpbmplY3QiLCJvbkNvbW1pdEZpYmVyUm9vdCIsIm9uQ29tbWl0RmliZXJVbm1vdW50Iiwib25Db21taXRSb290Iiwib25Db21taXRVbm1vdW50IiwiX2luamVjdEZpYmVyIiwia2giLCJsaCIsIm1oIiwibmgiLCJvaCIsInBoIiwicWgiLCJ3aCIsImdldE9mZnNldHMiLCJyYW5nZUNvdW50IiwiZ2V0UmFuZ2VBdCIsInN0YXJ0Q29udGFpbmVyIiwiZW5kQ29udGFpbmVyIiwiY2xvbmVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInNldEVuZCIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJjb2xsYXBzZWQiLCJzZXRPZmZzZXRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJ4aCIsInloIiwiY29udGVudEVkaXRhYmxlIiwiZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24iLCJmb2N1c2VkRWxlbSIsInNlbGVjdGlvblJhbmdlIiwicmVzdG9yZVNlbGVjdGlvbiIsInNldFNlbGVjdGlvbiIsIl9pbmplY3RTdGFjayIsImlzQW5jZXN0b3IiLCJnZXRMb3dlc3RDb21tb25BbmNlc3RvciIsInRyYXZlcnNlRW50ZXJMZWF2ZSIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0IiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMiLCJhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMiLCJYIiwiX3Jvb3QiLCJfc3RhcnRUZXh0IiwiX2ZhbGxiYWNrVGV4dCIsIlVoIiwiaW5pdGlhbGl6ZSIsImdldFRleHQiLCJXaCIsIlhoIiwiZXZlbnRQaGFzZSIsInRpbWVTdGFtcCIsImlzVHJ1c3RlZCIsImNhbmNlbEJ1YmJsZSIsInBlcnNpc3QiLCJhdWdtZW50Q2xhc3MiLCJlaSIsImRvY3VtZW50TW9kZSIsImZpIiwiZ2kiLCJoaSIsImtpIiwiYmVmb3JlSW5wdXQiLCJidWJibGVkIiwiY2FwdHVyZWQiLCJjb21wb3NpdGlvbkVuZCIsImNvbXBvc2l0aW9uU3RhcnQiLCJjb21wb3NpdGlvblVwZGF0ZSIsInJpIiwiZGF0ZSIsImRhdGV0aW1lIiwiZGF0ZXRpbWUtbG9jYWwiLCJlbWFpbCIsIm1vbnRoIiwicGFzc3dvcmQiLCJ0ZWwiLCJ3ZWVrIiwiQmkiLCJJaSIsIl9pc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJwYXJlbnRXaW5kb3ciLCJBbHQiLCJDb250cm9sIiwiTWV0YSIsIlNoaWZ0Iiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsInNoaWZ0S2V5IiwiYnV0dG9ucyIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsIk9pIiwibW91c2VFbnRlciIsIm1vdXNlTGVhdmUiLCJQaSIsIlFpIiwiUmkiLCJiaiIsImRqIiwiYW5pbWF0aW9uTmFtZSIsImVsYXBzZWRUaW1lIiwicHNldWRvRWxlbWVudCIsImNsaXBib2FyZERhdGEiLCJpaiIsIkVzYyIsIlNwYWNlYmFyIiwiTGVmdCIsIlVwIiwiUmlnaHQiLCJEb3duIiwiRGVsIiwiV2luIiwiQXBwcyIsIlNjcm9sbCIsIk1velByaW50YWJsZUtleSIsImpqIiwiOCIsIjkiLCIxMiIsIjEzIiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDUiLCI0NiIsIjExMiIsIjExMyIsIjExNCIsIjExNSIsIjExNiIsIjExNyIsIjExOCIsIjExOSIsIjEyMCIsIjEyMSIsIjEyMiIsIjIyNCIsInJlcGVhdCIsImxvY2FsZSIsImRhdGFUcmFuc2ZlciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImRlbHRhWCIsIndoZWVsRGVsdGFYIiwiZGVsdGFZIiwid2hlZWxEZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGVsdGFaIiwiZGVsdGFNb2RlIiwicGoiLCJxaiIsInJqIiwiU2ltcGxlRXZlbnRQbHVnaW4iLCJFbnRlckxlYXZlRXZlbnRQbHVnaW4iLCJDaGFuZ2VFdmVudFBsdWdpbiIsIlNlbGVjdEV2ZW50UGx1Z2luIiwiQmVmb3JlSW5wdXRFdmVudFBsdWdpbiIsInNqIiwiWiIsInRqIiwidWoiLCJ2aiIsIndqIiwiYWxsb3dGdWxsU2NyZWVuIiwiYWxsb3dUcmFuc3BhcmVuY3kiLCJhc3luYyIsImNvbHMiLCJkZWZlciIsImRvd25sb2FkIiwiZHJhZ2dhYmxlIiwiZm9ybU5vVmFsaWRhdGUiLCJoaWRkZW4iLCJsb29wIiwibXV0ZWQiLCJub1ZhbGlkYXRlIiwicGxheXNJbmxpbmUiLCJyZXZlcnNlZCIsInJvd1NwYW4iLCJzY29wZWQiLCJzZWFtbGVzcyIsInNwYW4iLCJzcGVsbENoZWNrIiwiaXRlbVNjb3BlIiwiYWNjZXB0Q2hhcnNldCIsImh0bWxGb3IiLCJodHRwRXF1aXYiLCJ2YWxpZGl0eSIsImJhZElucHV0IiwieGoiLCJ5aiIsInhsaW5rIiwieG1sIiwiemoiLCJhdXRvUmV2ZXJzZSIsImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQiLCJwcmVzZXJ2ZUFscGhhIiwieGxpbmtBY3R1YXRlIiwieGxpbmtBcmNyb2xlIiwieGxpbmtIcmVmIiwieGxpbmtSb2xlIiwieGxpbmtTaG93IiwieGxpbmtUaXRsZSIsInhsaW5rVHlwZSIsInhtbEJhc2UiLCJ4bWxMYW5nIiwieG1sU3BhY2UiLCJBaiIsIkNqIiwiRWoiLCJKaiIsIktqIiwiTGoiLCJNaiIsIk5qIiwiT2oiLCJQaiIsIlFqIiwiUmoiLCJTaiIsIlRqIiwiVWoiLCJWaiIsIldqIiwiZmluZEhvc3RJbnN0YW5jZSIsIllqIiwiWmoiLCJmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFscyIsImVrIiwiaHlkcmF0ZSIsInVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImZpbmRET01Ob2RlIiwidW5zdGFibGVfY3JlYXRlUG9ydGFsIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJ1bnN0YWJsZV9kZWZlcnJlZFVwZGF0ZXMiLCJFdmVudFBsdWdpbkh1YiIsIkV2ZW50UGx1Z2luUmVnaXN0cnkiLCJFdmVudFByb3BhZ2F0b3JzIiwiUmVhY3RDb250cm9sbGVkQ29tcG9uZW50IiwiUmVhY3RET01Db21wb25lbnRUcmVlIiwiUmVhY3RET01FdmVudExpc3RlbmVyIiwiZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UiLCJmaW5kSG9zdEluc3RhbmNlQnlGaWJlciIsImJ1bmRsZVR5cGUiLCJyZW5kZXJlclBhY2thZ2VOYW1lIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2luZGV4LmpzIiwiY2hlY2tEQ0UiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2luZGV4LmpzIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLmpzIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLnByb2QuanMiLCJSZWFjdCIsIm9ubHkiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5qcyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL2luZGV4LnByb2QuanMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9wYXRjaC5qcyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL3BhdGNoLnByb2QuanMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL3BhdGNoLmpzIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9Qcm92aWRlci5qcyIsImNyZWF0ZVByb3ZpZGVyIiwiX1Byb3ZpZGVyJGNoaWxkQ29udGV4Iiwic3RvcmVLZXkiLCJzdWJLZXkiLCJzdWJzY3JpcHRpb25LZXkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfUHJvcFR5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9jb25uZWN0QWR2YW5jZWQuanMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJtYWtlU2VsZWN0b3JTdGF0ZWZ1bCIsInNvdXJjZVNlbGVjdG9yIiwic2VsZWN0b3IiLCJydW4iLCJnZXRTdGF0ZSIsImNvbm5lY3RBZHZhbmNlZCIsInNlbGVjdG9yRmFjdG9yeSIsIl9jb250ZXh0VHlwZXMiLCJfY2hpbGRDb250ZXh0VHlwZXMiLCJfcmVmJGdldERpc3BsYXlOYW1lIiwiZ2V0RGlzcGxheU5hbWUiLCJfcmVmJG1ldGhvZE5hbWUiLCJtZXRob2ROYW1lIiwiX3JlZiRyZW5kZXJDb3VudFByb3AiLCJyZW5kZXJDb3VudFByb3AiLCJfcmVmJHNob3VsZEhhbmRsZVN0YXQiLCJzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMiLCJfcmVmJHN0b3JlS2V5IiwiX3JlZiR3aXRoUmVmIiwid2l0aFJlZiIsImNvbm5lY3RPcHRpb25zIiwiaG90UmVsb2FkaW5nVmVyc2lvbiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdXRpbHNfUHJvcFR5cGVzX18iLCJXcmFwcGVkQ29tcG9uZW50IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2ludmFyaWFudF9fX2RlZmF1bHQiLCJ3cmFwcGVkQ29tcG9uZW50TmFtZSIsInNlbGVjdG9yRmFjdG9yeU9wdGlvbnMiLCJfZXh0ZW5kcyIsIkNvbm5lY3QiLCJyZW5kZXJDb3VudCIsInByb3BzTW9kZSIsIkJvb2xlYW4iLCJzZXRXcmFwcGVkSW5zdGFuY2UiLCJpbml0U2VsZWN0b3IiLCJpbml0U3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uIiwidHJ5U3Vic2NyaWJlIiwiZm9yY2VVcGRhdGUiLCJ0cnlVbnN1YnNjcmliZSIsIm5vdGlmeU5lc3RlZFN1YnMiLCJnZXRXcmFwcGVkSW5zdGFuY2UiLCJ3cmFwcGVkSW5zdGFuY2UiLCJwYXJlbnRTdWIiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX1N1YnNjcmlwdGlvbl9fIiwib25TdGF0ZUNoYW5nZSIsIm5vdGlmeU5lc3RlZFN1YnNPbkNvbXBvbmVudERpZFVwZGF0ZSIsImR1bW15U3RhdGUiLCJpc1N1YnNjcmliZWQiLCJhZGRFeHRyYVByb3BzIiwid2l0aEV4dHJhcyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hvaXN0X25vbl9yZWFjdF9zdGF0aWNzX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9ob2lzdF9ub25fcmVhY3Rfc3RhdGljc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2ludmFyaWFudF9fIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9jb25uZWN0LmpzIiwiZmFjdG9yaWVzIiwic3RyaWN0RXF1YWwiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbXBvbmVudHNfY29ubmVjdEFkdmFuY2VkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3V0aWxzX3NoYWxsb3dFcXVhbF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19tYXBEaXNwYXRjaFRvUHJvcHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbWFwU3RhdGVUb1Byb3BzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21lcmdlUHJvcHNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc2VsZWN0b3JGYWN0b3J5X18iLCJfcmVmJGNvbm5lY3RIT0MiLCJjb25uZWN0SE9DIiwiX3JlZiRtYXBTdGF0ZVRvUHJvcHNGIiwibWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIiwiX3JlZiRtYXBEaXNwYXRjaFRvUHJvIiwibWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzIiwiX3JlZiRtZXJnZVByb3BzRmFjdG9yIiwibWVyZ2VQcm9wc0ZhY3RvcmllcyIsIl9yZWYkc2VsZWN0b3JGYWN0b3J5IiwibWVyZ2VQcm9wcyIsIl9yZWYyJHB1cmUiLCJwdXJlIiwiX3JlZjIkYXJlU3RhdGVzRXF1YWwiLCJhcmVTdGF0ZXNFcXVhbCIsIl9yZWYyJGFyZU93blByb3BzRXF1YSIsImFyZU93blByb3BzRXF1YWwiLCJfcmVmMiRhcmVTdGF0ZVByb3BzRXEiLCJhcmVTdGF0ZVByb3BzRXF1YWwiLCJfcmVmMiRhcmVNZXJnZWRQcm9wc0UiLCJhcmVNZXJnZWRQcm9wc0VxdWFsIiwiZXh0cmFPcHRpb25zIiwiaW5pdE1hcFN0YXRlVG9Qcm9wcyIsImluaXRNYXBEaXNwYXRjaFRvUHJvcHMiLCJpbml0TWVyZ2VQcm9wcyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvbWFwRGlzcGF0Y2hUb1Byb3BzLmpzIiwid2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb24iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3dyYXBNYXBUb1Byb3BzX18iLCJ3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNNaXNzaW5nIiwid2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlZHV4X18iLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21hcFN0YXRlVG9Qcm9wcy5qcyIsIndoZW5NYXBTdGF0ZVRvUHJvcHNJc0Z1bmN0aW9uIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX193cmFwTWFwVG9Qcm9wc19fIiwid2hlbk1hcFN0YXRlVG9Qcm9wc0lzTWlzc2luZyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvbWVyZ2VQcm9wcy5qcyIsImRlZmF1bHRNZXJnZVByb3BzIiwic3RhdGVQcm9wcyIsImRpc3BhdGNoUHJvcHMiLCJvd25Qcm9wcyIsIndyYXBNZXJnZVByb3BzRnVuYyIsImhhc1J1bk9uY2UiLCJtZXJnZWRQcm9wcyIsIm5leHRNZXJnZWRQcm9wcyIsIndoZW5NZXJnZVByb3BzSXNGdW5jdGlvbiIsIndoZW5NZXJnZVByb3BzSXNPbWl0dGVkIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanMiLCJpbXB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwicHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkiLCJoYW5kbGVGaXJzdENhbGwiLCJmaXJzdFN0YXRlIiwiZmlyc3RPd25Qcm9wcyIsImhhc1J1bkF0TGVhc3RPbmNlIiwiaGFuZGxlTmV3UHJvcHNBbmROZXdTdGF0ZSIsImRlcGVuZHNPbk93blByb3BzIiwiaGFuZGxlTmV3UHJvcHMiLCJoYW5kbGVOZXdTdGF0ZSIsIm5leHRTdGF0ZVByb3BzIiwic3RhdGVQcm9wc0NoYW5nZWQiLCJoYW5kbGVTdWJzZXF1ZW50Q2FsbHMiLCJuZXh0T3duUHJvcHMiLCJwcm9wc0NoYW5nZWQiLCJzdGF0ZUNoYW5nZWQiLCJmaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC92ZXJpZnlTdWJzZWxlY3RvcnMuanMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L3dyYXBNYXBUb1Byb3BzLmpzIiwid3JhcE1hcFRvUHJvcHNDb25zdGFudCIsImdldENvbnN0YW50IiwiY29uc3RhbnRTZWxlY3RvciIsImNvbnN0YW50IiwiZ2V0RGVwZW5kc09uT3duUHJvcHMiLCJtYXBUb1Byb3BzIiwid3JhcE1hcFRvUHJvcHNGdW5jIiwicHJveHkiLCJzdGF0ZU9yRGlzcGF0Y2giLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9pbmRleC5qcyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9uZW50c19Qcm92aWRlcl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jb21wb25lbnRzX2Nvbm5lY3RBZHZhbmNlZF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jb25uZWN0X2Nvbm5lY3RfXyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1Byb3BUeXBlcy5qcyIsInN1YnNjcmlwdGlvblNoYXBlIiwic3RvcmVTaGFwZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQiLCJzdWJzY3JpYmUiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9TdWJzY3JpcHRpb24uanMiLCJjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24iLCJDTEVBUkVEIiwibm90aWZ5IiwiU3Vic2NyaXB0aW9uIiwibnVsbExpc3RlbmVycyIsInVuc3Vic2NyaWJlIiwiYWRkTmVzdGVkU3ViIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvc2hhbGxvd0VxdWFsLmpzIiwiaGFzT3duIiwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QuanMiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy93YXJuaW5nLmpzIiwid2FybmluZyIsIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcyIsIj0iLCI6Iiwia2V5UHJlZml4IiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUFuZFJlcGxhY2VLZXkiLCJQdXJlQ29tcG9uZW50IiwiQXN5bmNDb21wb25lbnQiLCJfX3NlbGYiLCJfX3NvdXJjZSIsImNyZWF0ZUZhY3RvcnkiLCJfc2VsZiIsIl9zb3VyY2UiLCJjbG9uZUVsZW1lbnQiLCJ0b0FycmF5IiwidW5zdGFibGVfQXN5bmNDb21wb25lbnQiLCIuL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyIsIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qcyIsImFwcGx5TWlkZGxld2FyZSIsIm1pZGRsZXdhcmVzIiwicmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJfZGlzcGF0Y2giLCJtaWRkbGV3YXJlQVBJIiwibWlkZGxld2FyZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9zZV9fIiwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvYmluZEFjdGlvbkNyZWF0b3JzLmpzIiwiYmluZEFjdGlvbkNyZWF0b3IiLCJhY3Rpb25DcmVhdG9yIiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiYWN0aW9uQ3JlYXRvcnMiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY29tYmluZVJlZHVjZXJzLmpzIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25UeXBlIiwiYXNzZXJ0UmVkdWNlclNoYXBlIiwicmVkdWNlcnMiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZVN0b3JlX18iLCJJTklUIiwicmVkdWNlcktleXMiLCJmaW5hbFJlZHVjZXJzIiwiZmluYWxSZWR1Y2VyS2V5cyIsInNoYXBlQXNzZXJ0aW9uRXJyb3IiLCJoYXNDaGFuZ2VkIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanMiLCJjb21wb3NlIiwiZnVuY3MiLCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jcmVhdGVTdG9yZS5qcyIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiY3VycmVudExpc3RlbmVycyIsImN1cnJlbnRTdGF0ZSIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9sb2Rhc2hfZXNfaXNQbGFpbk9iamVjdF9fIiwiaXNEaXNwYXRjaGluZyIsImN1cnJlbnRSZWR1Y2VyIiwicmVwbGFjZVJlZHVjZXIiLCJuZXh0UmVkdWNlciIsIkFjdGlvblR5cGVzIiwib2JzZXJ2YWJsZSIsIm91dGVyU3Vic2NyaWJlIiwib2JzZXJ2ZVN0YXRlIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3N5bWJvbF9vYnNlcnZhYmxlX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zeW1ib2xfb2JzZXJ2YWJsZV9fIiwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvaW5kZXguanMiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbWJpbmVSZWR1Y2Vyc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19iaW5kQWN0aW9uQ3JlYXRvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYXBwbHlNaWRkbGV3YXJlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2NvbXBvc2VfXyIsIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanMiLCIuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwicGFydCIsImluc2VydFN0eWxlRWxlbWVudCIsImdldEVsZW1lbnQiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhZGRBdHRycyIsImNyZWF0ZUxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwidXBkYXRlTGluayIsImFwcGx5VG9UYWciLCJyZXBsYWNlVGV4dCIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJmaXhVcmxzIiwib2xkU3JjIiwiaXNPbGRJRSIsImF0b2IiLCJxdWVyeVNlbGVjdG9yIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCIkMSIsIm5ld1VybCIsIi4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2luZGV4LmpzIiwiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvbGliL2luZGV4LmpzIiwiX3BvbnlmaWxsIiwiX3BvbnlmaWxsMiIsIi4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9wb255ZmlsbC5qcyIsInN5bWJvbE9ic2VydmFibGVQb255ZmlsbCIsIl9TeW1ib2wiLCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzIiwiZXZhbCIsIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsIjAiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDQW5CLFFBQUFDLEdBQUFDLFNBQ0FDLGlCQUFBRCxHQVNBLFFBQUFFLEdBQUFGLEdBQ0EsR0FBQUcsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUFDLEVBQUFDLEVBQUEsR0FBQVosRUFBQSxJQUFBYSxFQUFBLGlCQUNBVixFQUFBVyxZQUFBUixHQUdBLFFBQUFTLEdBQUFDLEdBRUEsTUFEQUEsTUFBQSxJQUNBLEdBQUFDLFNBQUEsU0FBQUMsRUFBQUMsR0FDQSxzQkFBQUMsZ0JBQ0EsTUFBQUQsR0FBQSxHQUFBRSxPQUFBLHNCQUNBLEtBQ0EsR0FBQUMsR0FBQSxHQUFBRixnQkFDQUcsRUFBQVosRUFBQUMsRUFBQSxHQUFBQyxFQUFBLGtCQUNBUyxHQUFBRSxLQUFBLE1BQUFELEdBQUEsR0FDQUQsRUFBQUcsUUFBQVQsRUFDQU0sRUFBQUksS0FBQSxNQUNLLE1BQUFDLEdBQ0wsTUFBQVIsR0FBQVEsR0FFQUwsRUFBQU0sbUJBQUEsV0FDQSxPQUFBTixFQUFBTyxXQUNBLE9BQUFQLEVBQUFRLE9BRUFYLEVBQUEsR0FBQUUsT0FBQSx1QkFBQUUsRUFBQSxvQkFDTSxVQUFBRCxFQUFBUSxPQUVOWixRQUNNLFVBQUFJLEVBQUFRLFFBQUEsTUFBQVIsRUFBQVEsT0FFTlgsRUFBQSxHQUFBRSxPQUFBLHVCQUFBRSxFQUFBLGlCQUNNLENBRU4sSUFDQSxHQUFBUSxHQUFBQyxLQUFBQyxNQUFBWCxFQUFBWSxjQUNPLE1BQUFDLEdBRVAsV0FEQWhCLEdBQUFnQixHQUdBakIsRUFBQWEsT0FnQkEsUUFBQUssR0FBQUMsR0FDQSxHQUFBQyxH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QSxHQXFHQUMsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUlBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsSUFBQSxJQUNBQyxJQUFBLEdBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBR0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsSUFBQSxJQUNBQyxJQUFBLEdBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUdBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxHQUNBQyxJQUFBLEdBQ0FDLElBQUEsR0FDQUMsSUFBQSxJQUNBQyxJQUFBLEtBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEs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QUF5QyxRQUFBaXpCLEd4TDg2eEJNaTlIOzs7OztBQU1BLFNBQVUzeUosRUFBUXlDLEd5THg4eEJ4QnpDLEVBQUF5QyxRQUFBLFNBQUF6QyxHQW9CQSxNQW5CQUEsR0FBQTR5SixrQkFDQTV5SixFQUFBNnlKLFVBQUEsYUFDQTd5SixFQUFBOHlKLFNBRUE5eUosRUFBQTdFLFdBQUE2RSxFQUFBN0UsYUFDQUksT0FBQUksZUFBQXFFLEVBQUEsVUFDQW5FLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE1BQUFrRSxHQUFBaEMsS0FHQXpDLE9BQUFJLGVBQUFxRSxFQUFBLE1BQ0FuRSxZQUFBLEVBQ0FDLElBQUEsV0FDQSxNQUFBa0UsR0FBQTVDLEtBR0E0QyxFQUFBNHlKLGdCQUFBLEdBRUE1eUosSXpMZzl4Qk0reUo7Ozs7O0FBTUEsU0FBVS95SixFQUFReUMsRUFBUzNKLEdBRWpDQSwrQkFBaUQsNENBQ2pEa0gsRUFBT3lDLFFBQVUzSix3QkFBMEMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fSA7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4vKioqKioqLyBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbi8qKioqKiovIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XHJcbi8qKioqKiovIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyB0aW1lb3V0XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjA1NzZjOTA3YzE5MjQwNzNjMzU4XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuLyoqKioqKi8gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuLyoqKioqKi8gXHRcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGZuO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhvdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4vKioqKioqLyBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4vKioqKioqLyBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdERlZmVycmVkO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbi8qKioqKiovIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZighdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XHJcbi8qKioqKiovIFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbi8qKioqKiovIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbi8qKioqKiovIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbi8qKioqKiovIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xyXG4vKioqKioqLyBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRpZihob3RBcHBseU9uVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXHJcbi8qKioqKiovIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxyXG4vKioqKioqLyBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XHJcbi8qKioqKiovIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xyXG4vKioqKioqLyBcdFx0XHR9KS50aGVuKFxyXG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdCk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIGNiO1xyXG4vKioqKioqLyBcdFx0dmFyIGk7XHJcbi8qKioqKiovIFx0XHR2YXIgajtcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGU7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlSWQ7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWQ6IGlkXHJcbi8qKioqKiovIFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9tYWluKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighcGFyZW50KSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcclxuLyoqKioqKi8gXHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiKTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQ7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaG90VXBkYXRlW2lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc3VsdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYocmVzdWx0LmNoYWluKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdHN3aXRjaChyZXN1bHQudHlwZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBjaGFpbkluZm8pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIiBpbiBcIiArIHJlc3VsdC5wYXJlbnRJZCArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vblVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25BY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EaXNwb3NlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZWZhdWx0OlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihhYm9ydEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZG9BcHBseSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcihtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZG9EaXNwb3NlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIGlkeDtcclxuLyoqKioqKi8gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHZhciBkYXRhID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4vKioqKioqLyBcdFx0XHRmb3IoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXHJcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIGRlcGVuZGVuY3k7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihjYikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcihpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuLyoqKioqKi8gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3JnaW5hbEVycm9yOiBlcnIsIC8vIFRPRE8gcmVtb3ZlIGluIHdlYnBhY2sgNFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyMjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuLyoqKioqKi8gXHRcdGlmKGVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcclxuLyoqKioqKi8gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4vKioqKioqLyBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovICh7XG5cbi8qKiovIFwiLi9jYW1zL0FwcC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9BcHAuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2sgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcIik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcIik7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcIik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXCIpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9MYXlvdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvTGF5b3V0ICovIFwiLi9jYW1zL2NvbXBvbmVudHMvTGF5b3V0LmpzXCIpO1xuXG52YXIgX0xheW91dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MYXlvdXQpO1xuXG52YXIgX1BsYXllcnNDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbnRhaW5lcnMvUGxheWVyc0NvbnRhaW5lciAqLyBcIi4vY2Ftcy9jb250YWluZXJzL1BsYXllcnNDb250YWluZXIuanNcIik7XG5cbnZhciBfUGxheWVyc0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGF5ZXJzQ29udGFpbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gSWYgeW91IHVzZSBSZWFjdCBSb3V0ZXIsIG1ha2UgdGhpcyBjb21wb25lbnRcbi8vIHJlbmRlciA8Um91dGVyPiB3aXRoIHlvdXIgcm91dGVzLiBDdXJyZW50bHksXG4vLyBvbmx5IHN5bmNocm9ub3VzIHJvdXRlcyBhcmUgaG90IHJlbG9hZGVkLCBhbmRcbi8vIHlvdSB3aWxsIHNlZSBhIHdhcm5pbmcgZnJvbSA8Um91dGVyPiBvbiBldmVyeSByZWxvYWQuXG4vLyBZb3UgY2FuIGlnbm9yZSB0aGlzIHdhcm5pbmcuIEZvciBkZXRhaWxzLCBzZWU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzIxODJcbnZhciBBcHAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEFwcCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEFwcCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChBcHAuX19wcm90b19fIHx8ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEFwcCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEFwcCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfTGF5b3V0Mi5kZWZhdWx0LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdoZWFkZXInLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BhZ2VfX2hlYWRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdQb3J0dWdhbCBCZWFjaCBDYW1zJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUGxheWVyc0NvbnRhaW5lcjIuZGVmYXVsdCwgbnVsbClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIEFwcDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFwcDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9jYW1zL2FjdGlvbnMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9jYW1zL2FjdGlvbnMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBzZXRWaXNpYmlsaXR5RmlsdGVyID0gZXhwb3J0cy5zZXRWaXNpYmlsaXR5RmlsdGVyID0gZnVuY3Rpb24gc2V0VmlzaWJpbGl0eUZpbHRlcihmaWx0ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnU0VUX1ZJU0lCSUxJVFlfRklMVEVSJyxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXJcbiAgICB9O1xufTtcblxudmFyIHNldE5ld0NhbWVyYSA9IGV4cG9ydHMuc2V0TmV3Q2FtZXJhID0gZnVuY3Rpb24gc2V0TmV3Q2FtZXJhKGNhbWVyYSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdTRVRfTkVXX0NBTUVSQScsXG4gICAgICAgIGNhbWVyYTogY2FtZXJhXG4gICAgfTtcbn07XG5cbnZhciBhZGROZXdDYW1lcmEgPSBleHBvcnRzLmFkZE5ld0NhbWVyYSA9IGZ1bmN0aW9uIGFkZE5ld0NhbWVyYSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnQUREX05FV19DQU1FUkEnLFxuICAgICAgICB1cmw6ICdhcnJpZmFuYScsXG4gICAgICAgIG5hbWU6ICdBcnJpZmFuYSdcbiAgICB9O1xufTtcblxudmFyIGRlbGV0ZUNhbWVyYSA9IGV4cG9ydHMuZGVsZXRlQ2FtZXJhID0gZnVuY3Rpb24gZGVsZXRlQ2FtZXJhKGNhbWVyYSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdERUxFVEVfQ0FNRVJBJyxcbiAgICAgICAgY2FtZXJhOiBjYW1lcmFcbiAgICB9O1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9jYW1zL2JlYWNoZXMuanNvblwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9iZWFjaGVzLmpzb24gKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7XCJiZWFjaGVzXCI6W3tcIm5hbWVcIjpcIkx1elwiLFwidXJsXCI6XCJsdXpcIn0se1wibmFtZVwiOlwiTGFnb3NcIixcInVybFwiOlwibWVpYXByYWlhXCJ9LHtcIm5hbWVcIjpcIkFycmlmYW5hXCIsXCJ1cmxcIjpcImFycmlmYW5hXCJ9LHtcIm5hbWVcIjpcIkFtb3JlaXJhXCIsXCJ1cmxcIjpcImJjYW1vcmVpcmFcIn0se1wibmFtZVwiOlwiWmFtYnVqZWlyYSBkbyBNYXJcIixcInVybFwiOlwiemFtYnVqZWlyYVwifSx7XCJuYW1lXCI6XCJTw6NvIFRvcnBlc1wiLFwidXJsXCI6XCJzYW90b3JwZXNcIn1dfVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2NhbXMvY29tcG9uZW50cy9MYXlvdXQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9jb21wb25lbnRzL0xheW91dC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IExheW91dDtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBMYXlvdXQoX3JlZikge1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBcInBhZ2VcIiB9LFxuICAgICAgICBjaGlsZHJlblxuICAgICk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY2Ftcy9jb21wb25lbnRzL1BsYXllci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9jYW1zL2NvbXBvbmVudHMvUGxheWVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2sgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcIik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcIik7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcIik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXCIpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9obHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBobHMuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9obHMuanNcIik7XG5cbnZhciBfaGxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hscyk7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy91dGlscyAqLyBcIi4vY2Ftcy91dGlscy91dGlscy5qc1wiKTtcblxudmFyIF91dGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91dGlscyk7XG5cbnZhciBfcHJvcFR5cGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcHJvcC10eXBlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC1kb20gKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanNcIik7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX29wdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG11aWNzcy9saWIvcmVhY3Qvb3B0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9vcHRpb24uanNcIik7XG5cbnZhciBfb3B0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29wdGlvbik7XG5cbnZhciBfc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbXVpY3NzL2xpYi9yZWFjdC9zZWxlY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L3NlbGVjdC5qc1wiKTtcblxudmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxudmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtdWljc3MvbGliL3JlYWN0L2J1dHRvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzXCIpO1xuXG52YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUGxheWVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShQbGF5ZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUGxheWVyKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFBsYXllcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoUGxheWVyLl9fcHJvdG9fXyB8fCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQbGF5ZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwbGF5OiB0cnVlLFxuICAgICAgICAgICAgaGxzOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcmVuZGVyOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUGxheWVyLCBbe1xuICAgICAgICBrZXk6ICdzZXR1cFBsYXllcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cFBsYXllcigpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoX2hsczIuZGVmYXVsdC5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJlYWNoSGxzID0gbmV3IF9obHMyLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBiZWFjaEhscy5sb2FkU291cmNlKCdodHRwczovL3ZpZGVvLWF1dGgxLmlvbC5wdC9iZWFjaGNhbS8nICsgdGhpcy5wcm9wcy51cmwgKyAnL3BsYXlsaXN0Lm0zdTgnKTtcbiAgICAgICAgICAgICAgICBiZWFjaEhscy5hdHRhY2hNZWRpYSh0aGlzLnJlZnMudmlkZW8pO1xuICAgICAgICAgICAgICAgIGJlYWNoSGxzLm9uKF9obHMyLmRlZmF1bHQuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlZnMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBobHM6IGJlYWNoSGxzIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMudmlkZW8uc3JjID0gJ2h0dHBzOi8vdmlkZW8tYXV0aDEuaW9sLnB0L2JlYWNoY2FtLycgKyB0aGlzLnByb3BzLnVybCArICcvcGxheWxpc3QubTN1OCc7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLnZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlcmVuZGVyOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGF1c2UnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcGxheTogZmFsc2UgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmhscy5zdG9wTG9hZCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwbGF5JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBsYXk6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmhscy5zdGFydExvYWQoMCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmhscy5vbihfaGxzMi5kZWZhdWx0LkV2ZW50cy5NQU5JRkVTVF9QQVJTRUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnJlZnMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5zZXR1cFBsYXllcigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnRXaWxsVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnMudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBQbGF5ZXIoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRQcm9wcy51cmwgIT09IHRoaXMucHJvcHMudXJsO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBmb290ZXIgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZCcgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX3NlbGVjdDIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcHMudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5wcm9wcy5vbkNsaWNrKHsgaW5kZXg6IF90aGlzNC5wcm9wcy5pbmRleCwgdXJsOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYmVhY2hOYW1lcy5tYXAoZnVuY3Rpb24gKGJlYWNoLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfb3B0aW9uMi5kZWZhdWx0LCB7IGtleToga2V5LCB2YWx1ZTogYmVhY2gudXJsLCBsYWJlbDogYmVhY2gubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB2YXIgcGxheVBhdXNlID0gdGhpcy5zdGF0ZS5wbGF5ID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BsYXllcl9fdG9nZ2xlLXBsYXknLCB2YXJpYW50OiAnZmFiJywgY29sb3I6ICdwaW1hcnknLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5wYXVzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7IGNsYXNzTmFtZTogJ2ZhIGZhLXBhdXNlJyB9KVxuICAgICAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9idXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwbGF5ZXJfX3RvZ2dsZS1wbGF5JywgdmFyaWFudDogJ2ZhYicsIGNvbG9yOiAncGltYXJ5Jywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2knLCB7IGNsYXNzTmFtZTogJ2ZhIGZhLXBsYXknIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2FydGljbGUnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGxheWVyJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnbWFpbicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAncGxheWVyX19jb250ZW50JyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9idXR0b24yLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BsYXllcl9fZGVsZXRlJywgdmFyaWFudDogJ2ZhYicsIGNvbG9yOiAnZGFuZ2VyJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5wcm9wcy5kZWxldGVDYW1lcmEoeyBpbmRleDogX3RoaXM0LnByb3BzLmluZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHhENydcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJywgeyByZWY6ICd2aWRlbycsIGF1dG9QbGF5OiB0cnVlLCBjb250cm9sczogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdmb290ZXInLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BsYXllcl9fZm9vdGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICBmb290ZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBQbGF5ZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQbGF5ZXI7XG5cblxuUGxheWVyLnByb3BUeXBlcyA9IHtcbiAgICB1cmw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgbmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9jYW1zL2NvbXBvbmVudHMvUGxheWVycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9jb21wb25lbnRzL1BsYXllcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2sgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcIik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcIik7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcIik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXCIpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9QbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL1BsYXllciAqLyBcIi4vY2Ftcy9jb21wb25lbnRzL1BsYXllci5qc1wiKTtcblxudmFyIF9QbGF5ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxheWVyKTtcblxudmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBtdWljc3MvbGliL3JlYWN0L2J1dHRvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzXCIpO1xuXG52YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUGxheWVyc0NvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUGxheWVyc0NvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQbGF5ZXJzQ29udGFpbmVyKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFBsYXllcnNDb250YWluZXIpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoUGxheWVyc0NvbnRhaW5lci5fX3Byb3RvX18gfHwgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUGxheWVyc0NvbnRhaW5lcikpLmNhbGwodGhpcywgcHJvcHMpKTtcbiAgICB9XG5cbiAgICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQbGF5ZXJzQ29udGFpbmVyLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3BsYXllcnNfX3dyYXBwZXInIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdwbGF5ZXJzJyB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNhbWVyYXMubWFwKGZ1bmN0aW9uIChjYW1lcmEsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1BsYXllcjIuZGVmYXVsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNhbWVyYS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY2FtZXJhLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWFjaE5hbWVzOiBfdGhpczIucHJvcHMuYmVhY2hOYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDYW1lcmE6IF90aGlzMi5wcm9wcy5kZWxldGVDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogX3RoaXMyLnByb3BzLm9uQ2xpY2sgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgeyBjb2xvcjogJ3ByaW1hcnknLCBvbkNsaWNrOiB0aGlzLnByb3BzLmFkZE5ld0NhbWVyYSB9LFxuICAgICAgICAgICAgICAgICAgICAnQWRkIENhbWVyYSdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IGlkOiAnd2dfdGFyZ2V0X2Rpdl81MTI2NzBfNzIxODk0NzAnIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBQbGF5ZXJzQ29udGFpbmVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGxheWVyc0NvbnRhaW5lcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9jYW1zL2NvbnRhaW5lcnMvUGxheWVyc0NvbnRhaW5lci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9jb250YWluZXJzL1BsYXllcnNDb250YWluZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanNcIik7XG5cbnZhciBfa2V5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9rZXlzKTtcblxudmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtcmVkdXggKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9pbmRleC5qc1wiKTtcblxudmFyIF9QbGF5ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tcG9uZW50cy9QbGF5ZXJzICovIFwiLi9jYW1zL2NvbXBvbmVudHMvUGxheWVycy5qc1wiKTtcblxudmFyIF9QbGF5ZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYXllcnMpO1xuXG52YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9hY3Rpb25zICovIFwiLi9jYW1zL2FjdGlvbnMvaW5kZXguanNcIik7XG5cbnZhciBfYmVhY2hlcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2JlYWNoZXMuanNvbiAqLyBcIi4vY2Ftcy9iZWFjaGVzLmpzb25cIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYW1lcmFzOiBzdGF0ZS5jYW1lcmFzLFxuICAgICAgICBiZWFjaE5hbWVzOiAoMCwgX2tleXMyLmRlZmF1bHQpKF9iZWFjaGVzLmJlYWNoZXMpLnJlZHVjZShmdW5jdGlvbiAobWVtbywgYmVhY2hLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZW1vLmNvbmNhdChfYmVhY2hlcy5iZWFjaGVzW2JlYWNoS2V5XSk7XG4gICAgICAgIH0sIFtdKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYS5uYW1lID4gYi5uYW1lKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmIChhLm5hbWUgPCBiLm5hbWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KVxuICAgIH07XG59O1xuXG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhjYW1lcmEpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgoMCwgX2FjdGlvbnMuc2V0TmV3Q2FtZXJhKShjYW1lcmEpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkTmV3Q2FtZXJhOiBmdW5jdGlvbiBhZGROZXdDYW1lcmEoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goKDAsIF9hY3Rpb25zLmFkZE5ld0NhbWVyYSkoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUNhbWVyYTogZnVuY3Rpb24gZGVsZXRlQ2FtZXJhKGNhbWVyYSkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCgwLCBfYWN0aW9ucy5kZWxldGVDYW1lcmEpKGNhbWVyYSkpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbnZhciBQbGF5ZXJzQ29udGFpbmVyID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShfUGxheWVyczIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBsYXllcnNDb250YWluZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY2Ftcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9jYW1zL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9zdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3N0eWxlcy5zY3NzICovIFwiLi9jYW1zL3N0eWxlcy5zY3NzXCIpO1xuXG52YXIgc3R5bGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3N0eWxlcyk7XG5cbnZhciBfcmVhY3RIb3RMb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdC1ob3QtbG9hZGVyICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9pbmRleC5qc1wiKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcIik7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtZG9tICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9BcHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0FwcCAqLyBcIi4vY2Ftcy9BcHAuanNcIik7XG5cbnZhciBfQXBwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcCk7XG5cbnZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LXJlZHV4ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaW5kZXguanNcIik7XG5cbnZhciBfcmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWR1eCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlZHVjZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZWR1Y2VycyAqLyBcIi4vY2Ftcy9yZWR1Y2Vycy9pbmRleC5qc1wiKTtcblxudmFyIF9yZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1Y2Vycyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbnZhciByb290RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpO1xudmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX3JlZHVjZXJzMi5kZWZhdWx0KTtcblxudmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihDb21wb25lbnQpIHtcbiAgICByZXR1cm4gX3JlYWN0RG9tMi5kZWZhdWx0LnJlbmRlcihfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgX3JlYWN0UmVkdXguUHJvdmlkZXIsXG4gICAgICAgIHsgc3RvcmU6IHN0b3JlIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0SG90TG9hZGVyLkFwcENvbnRhaW5lcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIG51bGwpXG4gICAgICAgIClcbiAgICApLCByb290RWwpO1xufTtcblxuLy8gcmVnaXN0ZXIgc2VydmljZSB3b3JrZXJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zdy5qcycpO1xufVxuXG5yZW5kZXIoX0FwcDIuZGVmYXVsdCk7XG5pZiAodHJ1ZSkgbW9kdWxlLmhvdC5hY2NlcHQoLyohIC4vQXBwICovIFwiLi9jYW1zL0FwcC5qc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlbmRlcihfQXBwMi5kZWZhdWx0KTtcbn0pO1xuaWYgKGxvY2F0aW9uLnByb3RvY29sICE9ICdodHRwczonKSB7XG4gICAgbG9jYXRpb24uaHJlZiA9ICdodHRwczonICsgd2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5sZW5ndGgpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2NhbXMvcmVkdWNlcnMvY2FtZXJhcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2NhbXMvcmVkdWNlcnMvY2FtZXJhcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGJhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheSAqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qc1wiKTtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXG52YXIgX2JlYWNoZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9iZWFjaGVzLmpzb24gKi8gXCIuL2NhbXMvYmVhY2hlcy5qc29uXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2FtZXJhcyA9IGZ1bmN0aW9uIGNhbWVyYXMoKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBfYmVhY2hlcy5iZWFjaGVzLnNsaWNlKDIsIDQpO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NFVF9ORVdfQ0FNRVJBJzpcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShzdGF0ZSkpO1xuICAgICAgICAgICAgbmV3U3RhdGVbYWN0aW9uLmNhbWVyYS5pbmRleF0gPSBfYmVhY2hlcy5iZWFjaGVzLmZpbHRlcihmdW5jdGlvbiAoYmVhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVhY2gudXJsID09PSBhY3Rpb24uY2FtZXJhLnVybDtcbiAgICAgICAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAobWVtbywgYmVhY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVhY2g7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIGNhc2UgJ0FERF9ORVdfQ0FNRVJBJzpcbiAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoc3RhdGUpLCBbe1xuICAgICAgICAgICAgICAgIHVybDogYWN0aW9uLnVybCxcbiAgICAgICAgICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZVxuICAgICAgICAgICAgfV0pO1xuICAgICAgICBjYXNlICdERUxFVEVfQ0FNRVJBJzpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24gKGNhbWVyYSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggIT09IGFjdGlvbi5jYW1lcmEuaW5kZXg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjYW1lcmFzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2NhbXMvcmVkdWNlcnMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9yZWR1Y2Vycy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlZHV4ICovIFwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvaW5kZXguanNcIik7XG5cbnZhciBfdmlzaWJpbGl0eUZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdmlzaWJpbGl0eUZpbHRlciAqLyBcIi4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzXCIpO1xuXG52YXIgX3Zpc2liaWxpdHlGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlzaWJpbGl0eUZpbHRlcik7XG5cbnZhciBfY2FtZXJhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2FtZXJhcyAqLyBcIi4vY2Ftcy9yZWR1Y2Vycy9jYW1lcmFzLmpzXCIpO1xuXG52YXIgX2NhbWVyYXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FtZXJhcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB3ZWJjYW1zID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcbiAgICB2aXNpYmlsaXR5RmlsdGVyOiBfdmlzaWJpbGl0eUZpbHRlcjIuZGVmYXVsdCxcbiAgICBjYW1lcmFzOiBfY2FtZXJhczIuZGVmYXVsdFxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHdlYmNhbXM7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgdmlzaWJpbGl0eUZpbHRlciA9IGZ1bmN0aW9uIHZpc2liaWxpdHlGaWx0ZXIoKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnU0hPV19BTEwnO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NFVF9WSVNJQklMSVRZX0ZJTFRFUic6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmZpbHRlcjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB2aXNpYmlsaXR5RmlsdGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2NhbXMvc3R5bGVzLnNjc3NcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2Ftcy9zdHlsZXMuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXI/aW1wb3J0TG9hZGVycz0xIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGVzLnNjc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHt9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZih0cnVlKSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KC8qISAhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXI/aW1wb3J0TG9hZGVycz0xIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGVzLnNjc3MgKi8gXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyP2ltcG9ydExvYWRlcnM9MSEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlcy5zY3NzICovIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9pbXBvcnRMb2FkZXJzPTEhLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2NhbXMvc3R5bGVzLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY2Ftcy91dGlscy91dGlscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9jYW1zL3V0aWxzL3V0aWxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHV0aWxzID0ge307XG5cbnV0aWxzLmlzTW9iaWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgIChmdW5jdGlvbiAoYSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBjaGVjaztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbHM7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qc1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qc1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1wiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb3JlLWpzL29iamVjdC9jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qc1wiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVycy90eXBlb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXJzL3R5cGVvZiAqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29yZS1qcy9hcnJheS9mcm9tICovIFwiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanNcIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKDAsIF9mcm9tMi5kZWZhdWx0KShhcnIpO1xuICB9XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb3JlLWpzL3N5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanNcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9fY29yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXCIpLkFycmF5LmZyb207XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qc1wiKTtcbnZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9fY29yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXCIpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXCIpO1xudmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9tb2R1bGVzL19jb3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcIikuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9tb2R1bGVzL19jb3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcIikuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvX2NvcmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qc1wiKS5PYmplY3Qua2V5cztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9tb2R1bGVzL19jb3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcIikuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanNcIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanNcIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvX2NvcmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qc1wiKS5TeW1ib2w7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL21vZHVsZXMvX3drcy1leHQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qc1wiKS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXMtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWlvYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1wiKTtcbnZhciB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWxlbmd0aCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanNcIik7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8tYWJzb2x1dGUtaW5kZXggKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tYWJzb2x1dGUtaW5kZXguanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXCIpO1xudmFyIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3drcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanNcIikoJ3RvU3RyaW5nVGFnJyk7XG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIEFSRyA9IGNvZihmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjUuMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZHAgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXCIpO1xudmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19wcm9wZXJ0eS1kZXNjICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGlmIChpbmRleCBpbiBvYmplY3QpICRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2EtZnVuY3Rpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2ZhaWxzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXCIpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXMtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qc1wiKTtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcIikuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3Qta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1wiKTtcbnZhciBnT1BTID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWdvcHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcIik7XG52YXIgcElFID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LXBpZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYgKGdldFN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpO1xuICAgIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAoc3ltYm9scy5sZW5ndGggPiBpKSBpZiAoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcIik7XG52YXIgY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2NvcmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qc1wiKTtcbnZhciBjdHggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jdHggKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXCIpO1xudmFyIGhpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19oaWRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcIik7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciBJU19XUkFQID0gdHlwZSAmICRleHBvcnQuVztcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGtleSwgb3duLCBvdXQ7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG93biAmJiBrZXkgaW4gZXhwb3J0cykgY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbiAoQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEMpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDKCk7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmIChJU19QUk9UTykge1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmICh0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKSBoaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZFAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZHAgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXCIpO1xudmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19wcm9wZXJ0eS1kZXNjICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2Rlc2NyaXB0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXCIpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcIikuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2Rlc2NyaXB0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXCIpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1wiKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZG9tLWNyZWF0ZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXCIpKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXCIpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1wiKTtcbnZhciBJVEVSQVRPUiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3drcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanNcIikoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2NvZiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1wiKTtcbnZhciBkZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fcHJvcGVydHktZGVzYyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXCIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fc2V0LXRvLXN0cmluZy10YWcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcIik7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hpZGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qc1wiKShJdGVyYXRvclByb3RvdHlwZSwgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1wiKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIExJQlJBUlkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19saWJyYXJ5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanNcIik7XG52YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2V4cG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcIik7XG52YXIgcmVkZWZpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19yZWRlZmluZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1wiKTtcbnZhciBoaWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faGlkZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXCIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcIik7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1wiKTtcbnZhciAkaXRlckNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2l0ZXItY3JlYXRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXCIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fc2V0LXRvLXN0cmluZy10YWcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcIik7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZ3BvICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcIik7XG52YXIgSVRFUkFUT1IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL193a3MgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXCIpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSkgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIElURVJBVE9SID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1wiKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRvbmUsIHZhbHVlKSB7XG4gIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lIH07XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIE1FVEEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL191aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzXCIpKCdtZXRhJyk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19pcy1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXCIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcIik7XG52YXIgc2V0RGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1kcCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcIikuZjtcbnZhciBpZCA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcIikoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcIik7XG52YXIgZFBzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWRwcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXCIpO1xudmFyIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZW51bS1idWcta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXCIpO1xudmFyIElFX1BST1RPID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fc2hhcmVkLWtleSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXCIpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2RvbS1jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1wiKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faHRtbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXCIpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19hbi1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXCIpO1xudmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faWU4LWRvbS1kZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcIik7XG52YXIgdG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL190by1wcmltaXRpdmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXCIpO1xudmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1wiKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZFAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZHAgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fYW4tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qc1wiKTtcbnZhciBnZXRLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZGVzY3JpcHRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcIikgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgPSBnZXRLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpID0gMDtcbiAgdmFyIFA7XG4gIHdoaWxlIChsZW5ndGggPiBpKSBkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcElFID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LXBpZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzXCIpO1xudmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19wcm9wZXJ0eS1kZXNjICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcIik7XG52YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8taW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXCIpO1xudmFyIHRvUHJpbWl0aXZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8tcHJpbWl0aXZlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXCIpO1xudmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faWU4LWRvbS1kZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcIik7XG52YXIgZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2Rlc2NyaXB0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXCIpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8taW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXCIpO1xudmFyIGdPUE4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZ29wbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1wiKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3Qta2V5cy1pbnRlcm5hbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1wiKTtcbnZhciBoaWRkZW5LZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZW51bS1idWcta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXCIpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1wiKTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcIik7XG52YXIgSUVfUFJPVE8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19zaGFyZWQta2V5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanNcIikoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXCIpO1xudmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWlvYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1wiKTtcbnZhciBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19hcnJheS1pbmNsdWRlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1wiKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19zaGFyZWQta2V5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanNcIikoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3Qta2V5cy1pbnRlcm5hbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1wiKTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2VudW0tYnVnLWtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1wiKTtcbnZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fY29yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXCIpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMpIHtcbiAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldO1xuICB2YXIgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faGlkZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXCIpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcIik7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19hbi1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXCIpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2N0eCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcIikoRnVuY3Rpb24uY2FsbCwgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWdvcGQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanNcIikuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWRwICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1wiKS5mO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcIik7XG52YXIgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1wiKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIHRhZywgc3RhdCkge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3NoYXJlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcIikoJ2tleXMnKTtcbnZhciB1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL191aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzXCIpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8taW50ZWdlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXCIpO1xudmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19kZWZpbmVkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcIik7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWludGVnZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qc1wiKTtcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzXCIpO1xudmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19kZWZpbmVkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWludGVnZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qc1wiKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZGVmaW5lZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXMtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qc1wiKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1wiKTtcbnZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fY29yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXCIpO1xudmFyIExJQlJBUlkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19saWJyYXJ5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanNcIik7XG52YXIgd2tzRXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzLWV4dCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzXCIpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWRwICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1wiKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZiAobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSkgZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwgeyB2YWx1ZTogd2tzRXh0LmYobmFtZSkgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5leHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL193a3MgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXCIpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3NoYXJlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcIikoJ3drcycpO1xudmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3VpZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcIik7XG52YXIgU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1wiKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fY2xhc3NvZiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXCIpO1xudmFyIElURVJBVE9SID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1wiKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19pdGVyYXRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jb3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcIikuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjdHggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jdHggKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXCIpO1xudmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19leHBvcnQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXCIpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1wiKTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlci1jYWxsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1wiKTtcbnZhciBpc0FycmF5SXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2lzLWFycmF5LWl0ZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1wiKTtcbnZhciB0b0xlbmd0aCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3RvLWxlbmd0aCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanNcIik7XG52YXIgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19jcmVhdGUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzXCIpO1xudmFyIGdldEl0ZXJGbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXCIpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19pdGVyLWRldGVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1wiKShmdW5jdGlvbiAoaXRlcikgeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi8pIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KGFycmF5TGlrZSk7XG4gICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5O1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgbWFwZm4gPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYgKG1hcHBpbmcpIG1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDKCk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgIGZvciAocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2FkZC10by11bnNjb3BhYmxlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanNcIik7XG52YXIgc3RlcCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2l0ZXItc3RlcCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcIik7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1wiKTtcbnZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL190by1pb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcIik7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlci1kZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcIikoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19leHBvcnQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXCIpO1xuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgY3JlYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtY3JlYXRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanNcIikgfSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1wiKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1wiKSwgJ09iamVjdCcsIHsgZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1kcCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcIikuZiB9KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fdG8tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1wiKTtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZ3BvICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcIik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1zYXAgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1wiKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCkge1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4yLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL190by1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXCIpO1xudmFyICRrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcIik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1zYXAgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1wiKSgna2V5cycsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1wiKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fc2V0LXByb3RvICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qc1wiKS5zZXQgfSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICRhdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3N0cmluZy1hdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanNcIikodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2l0ZXItZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXCIpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGluZGV4ID0gdGhpcy5faTtcbiAgdmFyIHBvaW50O1xuICBpZiAoaW5kZXggPj0gTy5sZW5ndGgpIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHsgdmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZSB9O1xufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzXCIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcIik7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1wiKTtcbnZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1wiKTtcbnZhciByZWRlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3JlZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzXCIpO1xudmFyIE1FVEEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19tZXRhICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanNcIikuS0VZO1xudmFyICRmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2ZhaWxzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXCIpO1xudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3NoYXJlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcIik7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19zZXQtdG8tc3RyaW5nLXRhZyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1wiKTtcbnZhciB1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL191aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzXCIpO1xudmFyIHdrcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3drcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanNcIik7XG52YXIgd2tzRXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzLWV4dCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzXCIpO1xudmFyIHdrc0RlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3drcy1kZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1wiKTtcbnZhciBlbnVtS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2VudW0ta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcIik7XG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2lzLWFycmF5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fYW4tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qc1wiKTtcbnZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL190by1pb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcIik7XG52YXIgdG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL190by1wcmltaXRpdmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXCIpO1xudmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19wcm9wZXJ0eS1kZXNjICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcIik7XG52YXIgX2NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1wiKTtcbnZhciBnT1BORXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb2JqZWN0LWdvcG4tZXh0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1wiKTtcbnZhciAkR09QRCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1nb3BkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzXCIpO1xudmFyICREUCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1kcCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcIik7XG52YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3Qta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1wiKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZ29wbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1wiKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX29iamVjdC1waWUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1wiKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3QtZ29wcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qc1wiKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIV9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2xpYnJhcnkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1wiKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHsgYTogUyB9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpIHtcbiAgICBpZiAoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpICRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIGlmICgkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoJHJlcGxhY2VyKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19oaWRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcIikoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzLWRlZmluZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzXCIpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL193a3MtZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanNcIikoJ29ic2VydmFibGUnKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VzNi5hcnJheS5pdGVyYXRvciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1wiKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzXCIpO1xudmFyIGhpZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19oaWRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcIik7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1wiKTtcbnZhciBUT19TVFJJTkdfVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fd2tzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1wiKSgndG9TdHJpbmdUYWcnKTtcblxudmFyIERPTUl0ZXJhYmxlcyA9ICgnQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCwnICtcbiAgJ0RPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsJyArXG4gICdNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LCcgK1xuICAnU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsJyArXG4gICdUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdCcpLnNwbGl0KCcsJyk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgRE9NSXRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gIHZhciBOQU1FID0gRE9NSXRlcmFibGVzW2ldO1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXTtcbiAgdmFyIHByb3RvID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYgKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSkgaGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2Nzc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2NzcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVJvYm90byk7XCIsIFwiXCJdKTtcblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pLCBcIi5wbGF5ZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtiYWNrZ3JvdW5kLWNvbG9yOiNhOWE5YTk7Ym94LXNoYWRvdzowIDI3cHggNTVweCAwIHJnYmEoMCwwLDAsLjMpLDAgMTdweCAxN3B4IDAgcmdiYSgwLDAsMCwuMTUpO3Bvc2l0aW9uOnJlbGF0aXZlfS5wbGF5ZXI6aG92ZXIgLnBsYXllcl9fZGVsZXRle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO29wYWNpdHk6MX0ucGxheWVyX19jb250ZW50e3BhZGRpbmctYm90dG9tOjU2LjI1JTtoZWlnaHQ6MDtmbGV4OjE7d2lkdGg6MTAwJX0ucGxheWVyX19jb250ZW50IHZpZGVve3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudH0ucGxheWVyX19mb290ZXJ7d2lkdGg6OTYlO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjEwcHg7bWluLWhlaWdodDo1MHB4O21heC1oZWlnaHQ6MH0ucGxheWVyX19mb290ZXIsLnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZHtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZHt3aWR0aDoxMDAlfS5wbGF5ZXJfX2Zvb3Rlcl9fdW5jb2xsYXBzZWQgLm11aS1idG46Zm9jdXMsLnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZCAubXVpLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5wbGF5ZXJfX2Zvb3RlciAubXVpLXNlbGVjdHt3aWR0aDoxMDAlfS5wbGF5ZXJfX3RvZ2dsZS1wbGF5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLXRvcDotMjcuNXB4IWltcG9ydGFudDttYXJnaW4tbGVmdDotMjcuNXB4IWltcG9ydGFudH0ucGxheWVyX19kZWxldGV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjVweH0ucGxheWVyIGgye2NvbG9yOiNmZmY7bWFyZ2luLWxlZnQ6MiV9LnBsYXllcnNfX3dyYXBwZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjVweDt3aWR0aDo5NyV9LnBsYXllcnNfX3dyYXBwZXI+Lm11aS1idG57bWFyZ2luLXRvcDozMHB4fS5wbGF5ZXJze2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDIsMWZyKTtncmlkLWdhcDoxMHB4O2dyaWQtYXV0by1yb3dzOm1pbm1heCgxMDBweCxhdXRvKX1AbWVkaWEgKG1heC13aWR0aDo5NjBweCl7LnBsYXllcnN7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgxLDFmcil9fS5saW5rc3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ubGlua3tiYWNrZ3JvdW5kLWNvbG9yOiMyODVhZmY7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2UtaW4tb3V0O21hcmdpbjowIDVweDtjdXJzb3I6cG9pbnRlcn0ubGluazpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMyNzM1ZmZ9LmxpbmstLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiM3YTdjZmZ9LmxpbmsgYXtjb2xvcjojZmZmO3BhZGRpbmc6MTBweCAyMHB4fS5wYWdle2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjAgNXB4IDVweDt3aWR0aDoxMDB2dztvdmVyZmxvdzphdXRvO21pbi1oZWlnaHQ6MTAwdmh9LnBhZ2UsLnBhZ2VfX2hlYWRlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6Y2VudGVyfS5wYWdlX19oZWFkZXJ7aGVpZ2h0OjY1cHg7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpO2NvbG9yOiNmZmY7cGFkZGluZy1ib3R0b206MTBweH0ucGFnZV9faGVhZGVyIGgxe21hcmdpbi1sZWZ0OjMwcHg7Zm9udC1zaXplOjI0cHh9I3dnX3RhcmdldF9kaXZfNTEyNjcwXzcyMTg5NDcwe2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdmVyZmxvdzphdXRvIWltcG9ydGFudH1ib2R5e2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246Y29sdW1uO21pbi1oZWlnaHQ6MTAwdmg7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWZ9bGl7bGlzdC1zdHlsZTpub25lO2ZvbnQtc2l6ZToyNHB4fWF7ZGlzcGxheTpibG9jazt0ZXh0LWRlY29yYXRpb246bm9uZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FdmVudExpc3RlbmVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXZlbnRMaXN0ZW5lci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGVtcHR5RnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VtcHR5RnVuY3Rpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eUZ1bmN0aW9uLmpzXCIpO1xuXG4vKipcbiAqIFVwc3RyZWFtIHZlcnNpb24gb2YgZXZlbnQgbGlzdGVuZXIuIERvZXMgbm90IHRha2UgaW50byBhY2NvdW50IHNwZWNpZmljXG4gKiBuYXR1cmUgb2YgcGxhdGZvcm0uXG4gKi9cbnZhciBFdmVudExpc3RlbmVyID0ge1xuICAvKipcbiAgICogTGlzdGVuIHRvIERPTSBldmVudHMgZHVyaW5nIHRoZSBidWJibGUgcGhhc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRhcmdldCBET00gZWxlbWVudCB0byByZWdpc3RlciBsaXN0ZW5lciBvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSBFdmVudCB0eXBlLCBlLmcuICdjbGljaycgb3IgJ21vdXNlb3ZlcicuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IE9iamVjdCB3aXRoIGEgYHJlbW92ZWAgbWV0aG9kLlxuICAgKi9cbiAgbGlzdGVuOiBmdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0YWNoRXZlbnQpIHtcbiAgICAgIHRhcmdldC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnRUeXBlLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICB0YXJnZXQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTGlzdGVuIHRvIERPTSBldmVudHMgZHVyaW5nIHRoZSBjYXB0dXJlIHBoYXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0YXJnZXQgRE9NIGVsZW1lbnQgdG8gcmVnaXN0ZXIgbGlzdGVuZXIgb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgRXZlbnQgdHlwZSwgZS5nLiAnY2xpY2snIG9yICdtb3VzZW92ZXInLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7b2JqZWN0fSBPYmplY3Qgd2l0aCBhIGByZW1vdmVgIG1ldGhvZC5cbiAgICovXG4gIGNhcHR1cmU6IGZ1bmN0aW9uIGNhcHR1cmUodGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdGVkIHRvIGxpc3RlbiB0byBldmVudHMgZHVyaW5nIHRoZSBjYXB0dXJlIHBoYXNlIG9uIGEgJyArICdicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FwdHVyZSBwaGFzZS4gWW91ciBhcHBsaWNhdGlvbiAnICsgJ3dpbGwgbm90IHJlY2VpdmUgc29tZSBldmVudHMuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGVtcHR5RnVuY3Rpb25cbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIHJlZ2lzdGVyRGVmYXVsdDogZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0KCkge31cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRMaXN0ZW5lcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuXG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG4vKipcbiAqIFNpbXBsZSwgbGlnaHR3ZWlnaHQgbW9kdWxlIGFzc2lzdGluZyB3aXRoIHRoZSBkZXRlY3Rpb24gYW5kIGNvbnRleHQgb2ZcbiAqIFdvcmtlci4gSGVscHMgYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCBhbGxvd3MgY29kZSB0byByZWFzb24gYWJvdXRcbiAqIHdoZXRoZXIgb3Igbm90IHRoZXkgYXJlIGluIGEgV29ya2VyLCBldmVuIGlmIHRoZXkgbmV2ZXIgaW5jbHVkZSB0aGUgbWFpblxuICogYFJlYWN0V29ya2VyYCBkZXBlbmRlbmN5LlxuICovXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cbiAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cbiAgY2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cbiAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG4gIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuXG4gIGlzSW5Xb3JrZXI6ICFjYW5Vc2VET00gLy8gRm9yIG5vdywgdGhpcyBpcyB0cnVlIC0gbWlnaHQgY2hhbmdlIGluIHRoZSBmdXR1cmUuXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY29udGFpbnNOb2RlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG52YXIgaXNUZXh0Tm9kZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaXNUZXh0Tm9kZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanNcIik7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIERPTSBub2RlIGNvbnRhaW5zIG9yIGlzIGFub3RoZXIgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAoJ2NvbnRhaW5zJyBpbiBvdXRlck5vZGUpIHtcbiAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zTm9kZTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuXG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAoZmFsc2UpIHtcbiAgT2JqZWN0LmZyZWV6ZShlbXB0eU9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlPYmplY3Q7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ZvY3VzTm9kZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZm9jdXNOb2RlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgaW5wdXQvdGV4dGFyZWEgdG8gZm9jdXNcbiAqL1xuXG5mdW5jdGlvbiBmb2N1c05vZGUobm9kZSkge1xuICAvLyBJRTggY2FuIHRocm93IFwiQ2FuJ3QgbW92ZSBmb2N1cyB0byB0aGUgY29udHJvbCBiZWNhdXNlIGl0IGlzIGludmlzaWJsZSxcbiAgLy8gbm90IGVuYWJsZWQsIG9yIG9mIGEgdHlwZSB0aGF0IGRvZXMgbm90IGFjY2VwdCB0aGUgZm9jdXMuXCIgZm9yIGFsbCBraW5kcyBvZlxuICAvLyByZWFzb25zIHRoYXQgYXJlIHRvbyBleHBlbnNpdmUgYW5kIGZyYWdpbGUgdG8gdGVzdC5cbiAgdHJ5IHtcbiAgICBub2RlLmZvY3VzKCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9jdXNOb2RlO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgZmItd3d3L3R5cGVvZi11bmRlZmluZWQgKi9cblxuLyoqXG4gKiBTYW1lIGFzIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYnV0IHdyYXBzIGluIGEgdHJ5LWNhdGNoIGJsb2NrLiBJbiBJRSBpdCBpc1xuICogbm90IHNhZmUgdG8gY2FsbCBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGlmIHRoZXJlIGlzIG5vdGhpbmcgZm9jdXNlZC5cbiAqXG4gKiBUaGUgYWN0aXZlRWxlbWVudCB3aWxsIGJlIG51bGwgb25seSBpZiB0aGUgZG9jdW1lbnQgb3IgZG9jdW1lbnQgYm9keSBpcyBub3RcbiAqIHlldCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7P0RPTURvY3VtZW50fSBkb2MgRGVmYXVsdHMgdG8gY3VycmVudCBkb2N1bWVudC5cbiAqIEByZXR1cm4gez9ET01FbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KGRvYykgLyo/RE9NRWxlbWVudCove1xuICBkb2MgPSBkb2MgfHwgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHVuZGVmaW5lZCk7XG4gIGlmICh0eXBlb2YgZG9jID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvYy5hY3RpdmVFbGVtZW50IHx8IGRvYy5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvYy5ib2R5O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QWN0aXZlRWxlbWVudDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cblxuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5pZiAoZmFsc2UpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaXNOb2RlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBhIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBpc05vZGUob2JqZWN0KSB7XG4gIHZhciBkb2MgPSBvYmplY3QgPyBvYmplY3Qub3duZXJEb2N1bWVudCB8fCBvYmplY3QgOiBkb2N1bWVudDtcbiAgdmFyIGRlZmF1bHRWaWV3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgcmV0dXJuICEhKG9iamVjdCAmJiAodHlwZW9mIGRlZmF1bHRWaWV3Lk5vZGUgPT09ICdmdW5jdGlvbicgPyBvYmplY3QgaW5zdGFuY2VvZiBkZWZhdWx0Vmlldy5Ob2RlIDogdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc1RleHROb2RlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgaXNOb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pc05vZGUgKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanNcIik7XG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gdGV4dCBub2RlLlxuICovXG5mdW5jdGlvbiBpc1RleHROb2RlKG9iamVjdCkge1xuICByZXR1cm4gaXNOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9zaGFsbG93RXF1YWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cblxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICovXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgaWYgKHggPT09IHkpIHtcbiAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgIC8vIEFkZGVkIHRoZSBub256ZXJvIHkgY2hlY2sgdG8gbWFrZSBGbG93IGhhcHB5LCBidXQgaXQgaXMgcmVkdW5kYW50XG4gICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKGlzKG9iakEsIG9iakIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93RXF1YWw7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L2hscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3QvaGxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHJ1ZSlcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkhsc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJIbHNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBlbmFibGVMb2dzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJiXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbG9nZ2VyOyB9KTtcbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBmYWtlTG9nZ2VyID0ge1xuICB0cmFjZTogbm9vcCxcbiAgZGVidWc6IG5vb3AsXG4gIGxvZzogbm9vcCxcbiAgd2Fybjogbm9vcCxcbiAgaW5mbzogbm9vcCxcbiAgZXJyb3I6IG5vb3Bcbn07XG5cbnZhciBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG5cbi8qZ2xvYmFscyBzZWxmOiBmYWxzZSAqL1xuXG4vL2xldCBsYXN0Q2FsbFRpbWU7XG4vLyBmdW5jdGlvbiBmb3JtYXRNc2dXaXRoVGltZUluZm8odHlwZSwgbXNnKSB7XG4vLyAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4vLyAgIGNvbnN0IGRpZmYgPSBsYXN0Q2FsbFRpbWUgPyAnKycgKyAobm93IC0gbGFzdENhbGxUaW1lKSA6ICcwJztcbi8vICAgbGFzdENhbGxUaW1lID0gbm93O1xuLy8gICBtc2cgPSAobmV3IERhdGUobm93KSkudG9JU09TdHJpbmcoKSArICcgfCBbJyArICB0eXBlICsgJ10gPiAnICsgbXNnICsgJyAoICcgKyBkaWZmICsgJyBtcyApJztcbi8vICAgcmV0dXJuIG1zZztcbi8vIH1cblxuZnVuY3Rpb24gZm9ybWF0TXNnKHR5cGUsIG1zZykge1xuICBtc2cgPSAnWycgKyB0eXBlICsgJ10gPiAnICsgbXNnO1xuICByZXR1cm4gbXNnO1xufVxuXG5mdW5jdGlvbiBjb25zb2xlUHJpbnRGbih0eXBlKSB7XG4gIHZhciBmdW5jID0gc2VsZi5jb25zb2xlW3R5cGVdO1xuICBpZiAoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJnc1swXSkge1xuICAgICAgICBhcmdzWzBdID0gZm9ybWF0TXNnKHR5cGUsIGFyZ3NbMF0pO1xuICAgICAgfVxuICAgICAgZnVuYy5hcHBseShzZWxmLmNvbnNvbGUsIGFyZ3MpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG5vb3A7XG59XG5cbmZ1bmN0aW9uIGV4cG9ydExvZ2dlckZ1bmN0aW9ucyhkZWJ1Z0NvbmZpZykge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmN0aW9ucyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBmdW5jdGlvbnNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICBmdW5jdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGV4cG9ydGVkTG9nZ2VyW3R5cGVdID0gZGVidWdDb25maWdbdHlwZV0gPyBkZWJ1Z0NvbmZpZ1t0eXBlXS5iaW5kKGRlYnVnQ29uZmlnKSA6IGNvbnNvbGVQcmludEZuKHR5cGUpO1xuICB9KTtcbn1cblxudmFyIGVuYWJsZUxvZ3MgPSBmdW5jdGlvbiBlbmFibGVMb2dzKGRlYnVnQ29uZmlnKSB7XG4gIGlmIChkZWJ1Z0NvbmZpZyA9PT0gdHJ1ZSB8fCAodHlwZW9mIGRlYnVnQ29uZmlnID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihkZWJ1Z0NvbmZpZykpID09PSAnb2JqZWN0Jykge1xuICAgIGV4cG9ydExvZ2dlckZ1bmN0aW9ucyhkZWJ1Z0NvbmZpZyxcbiAgICAvLyBSZW1vdmUgb3V0IGZyb20gbGlzdCBoZXJlIHRvIGhhcmQtZGlzYWJsZSBhIGxvZy1sZXZlbFxuICAgIC8vJ3RyYWNlJyxcbiAgICAnZGVidWcnLCAnbG9nJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicpO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gdXNlIGJpbmQgb24gY29uc29sZSBvYmplY3QgYW55d2F5XG4gICAgLy8gZmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBuZWVkZWRcbiAgICB0cnkge1xuICAgICAgZXhwb3J0ZWRMb2dnZXIubG9nKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXhwb3J0ZWRMb2dnZXIgPSBmYWtlTG9nZ2VyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gIH1cbn07XG5cbnZhciBsb2dnZXIgPSBleHBvcnRlZExvZ2dlcjtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9ICh7XG4gIC8vIGZpcmVkIGJlZm9yZSBNZWRpYVNvdXJjZSBpcyBhdHRhY2hpbmcgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgbWVkaWEgfVxuICBNRURJQV9BVFRBQ0hJTkc6ICdobHNNZWRpYUF0dGFjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gc3VjY2VzZnVsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICBNRURJQV9BVFRBQ0hFRDogJ2hsc01lZGlhQXR0YWNoZWQnLFxuICAvLyBmaXJlZCBiZWZvcmUgZGV0YWNoaW5nIE1lZGlhU291cmNlIGZyb20gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICBNRURJQV9ERVRBQ0hJTkc6ICdobHNNZWRpYURldGFjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gZGV0YWNoZWQgZnJvbSBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyB9XG4gIE1FRElBX0RFVEFDSEVEOiAnaGxzTWVkaWFEZXRhY2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gd2UgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHJlc2V0IC0gZGF0YTogeyB9XG4gIEJVRkZFUl9SRVNFVDogJ2hsc0J1ZmZlclJlc2V0JyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBrbm93IGFib3V0IHRoZSBjb2RlY3MgdGhhdCB3ZSBuZWVkIGJ1ZmZlcnMgZm9yIHRvIHB1c2ggaW50byAtIGRhdGE6IHt0cmFja3MgOiB7IGNvbnRhaW5lciwgY29kZWMsIGxldmVsQ29kZWMsIGluaXRTZWdtZW50LCBtZXRhZGF0YSB9fVxuICBCVUZGRVJfQ09ERUNTOiAnaGxzQnVmZmVyQ29kZWNzJyxcbiAgLy8gZmlyZWQgd2hlbiBzb3VyY2VidWZmZXJzIGhhdmUgYmVlbiBjcmVhdGVkIC0gZGF0YTogeyB0cmFja3MgOiB0cmFja3MgfVxuICBCVUZGRVJfQ1JFQVRFRDogJ2hsc0J1ZmZlckNyZWF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIHdlIGFwcGVuZCBhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGE6IHsgc2VnbWVudDogc2VnbWVudCBvYmplY3QgfVxuICBCVUZGRVJfQVBQRU5ESU5HOiAnaGxzQnVmZmVyQXBwZW5kaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBhcmUgZG9uZSB3aXRoIGFwcGVuZGluZyBhIG1lZGlhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGEgOiB7IHBhcmVudCA6IHNlZ21lbnQgcGFyZW50IHRoYXQgdHJpZ2dlcmVkIEJVRkZFUl9BUFBFTkRJTkcsIHBlbmRpbmcgOiBuYiBvZiBzZWdtZW50cyB3YWl0aW5nIGZvciBhcHBlbmRpbmcgZm9yIHRoaXMgc2VnbWVudCBwYXJlbnR9XG4gIEJVRkZFUl9BUFBFTkRFRDogJ2hsc0J1ZmZlckFwcGVuZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgc3RyZWFtIGlzIGZpbmlzaGVkIGFuZCB3ZSB3YW50IHRvIG5vdGlmeSB0aGUgbWVkaWEgYnVmZmVyIHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGRhdGEgLSBkYXRhOiB7IH1cbiAgQlVGRkVSX0VPUzogJ2hsc0J1ZmZlckVvcycsXG4gIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBzaG91bGQgYmUgZmx1c2hlZCAtIGRhdGEgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0IH1cbiAgQlVGRkVSX0ZMVVNISU5HOiAnaGxzQnVmZmVyRmx1c2hpbmcnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBtZWRpYSBidWZmZXIgaGFzIGJlZW4gZmx1c2hlZCAtIGRhdGE6IHsgfVxuICBCVUZGRVJfRkxVU0hFRDogJ2hsc0J1ZmZlckZsdXNoZWQnLFxuICAvLyBmaXJlZCB0byBzaWduYWwgdGhhdCBhIG1hbmlmZXN0IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBtYW5pZmVzdFVSTH1cbiAgTUFOSUZFU1RfTE9BRElORzogJ2hsc01hbmlmZXN0TG9hZGluZycsXG4gIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGF1ZGlvVHJhY2tzIDogWyBhdmFpbGFibGUgYXVkaW8gdHJhY2tzXSwgdXJsIDogbWFuaWZlc3RVUkwsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWV9fVxuICBNQU5JRkVTVF9MT0FERUQ6ICdobHNNYW5pZmVzdExvYWRlZCcsXG4gIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIHBhcnNlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGZpcnN0TGV2ZWwgOiBpbmRleCBvZiBmaXJzdCBxdWFsaXR5IGxldmVsIGFwcGVhcmluZyBpbiBNYW5pZmVzdH1cbiAgTUFOSUZFU1RfUEFSU0VEOiAnaGxzTWFuaWZlc3RQYXJzZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgc3dpdGNoIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgbGV2ZWwgOiBpZCBvZiBuZXcgbGV2ZWwgfSAvLyBkZXByZWNhdGVkIGluIGZhdm9yIExFVkVMX1NXSVRDSElOR1xuICBMRVZFTF9TV0lUQ0g6ICdobHNMZXZlbFN3aXRjaCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgcmVxdWVzdGVkIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gIExFVkVMX1NXSVRDSElORzogJ2hsc0xldmVsU3dpdGNoaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHN3aXRjaCBpcyBlZmZlY3RpdmUgLSBkYXRhOiB7IGxldmVsIDogaWQgb2YgbmV3IGxldmVsIH1cbiAgTEVWRUxfU1dJVENIRUQ6ICdobHNMZXZlbFN3aXRjaGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHBsYXlsaXN0IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBsZXZlbCBVUkwsIGxldmVsIDogaWQgb2YgbGV2ZWwgYmVpbmcgbG9hZGVkfVxuICBMRVZFTF9MT0FESU5HOiAnaGxzTGV2ZWxMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHBsYXlsaXN0IGxvYWRpbmcgZmluaXNoZXMgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIGxvYWRlZCBsZXZlbCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZX0gfVxuICBMRVZFTF9MT0FERUQ6ICdobHNMZXZlbExvYWRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCdzIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQgYmFzZWQgb24gcHJldmlvdXMgZGV0YWlscywgYWZ0ZXIgaXQgaGFzIGJlZW4gbG9hZGVkIC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgbGV2ZWwgOiBpZCBvZiB1cGRhdGVkIGxldmVsIH1cbiAgTEVWRUxfVVBEQVRFRDogJ2hsc0xldmVsVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCdzIFBUUyBpbmZvcm1hdGlvbiBoYXMgYmVlbiB1cGRhdGVkIGFmdGVyIHBhcnNpbmcgYSBmcmFnbWVudCAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgdXBkYXRlZCBsZXZlbCwgZHJpZnQ6IFBUUyBkcmlmdCBvYnNlcnZlZCB3aGVuIHBhcnNpbmcgbGFzdCBmcmFnbWVudCB9XG4gIExFVkVMX1BUU19VUERBVEVEOiAnaGxzTGV2ZWxQdHNVcGRhdGVkJyxcbiAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgYXVkaW8gdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgYXVkaW9UcmFja3MgOiBhdWRpb1RyYWNrcyB9XG4gIEFVRElPX1RSQUNLU19VUERBVEVEOiAnaGxzQXVkaW9UcmFja3NVcGRhdGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBzd2l0Y2ggb2NjdXJzIC0gZGF0YTogeyBpZCA6IGF1ZGlvIHRyYWNrIGlkIH0gLy8gZGVwcmVjYXRlZCBpbiBmYXZvciBBVURJT19UUkFDS19TV0lUQ0hJTkdcbiAgQVVESU9fVFJBQ0tfU1dJVENIOiAnaGxzQXVkaW9UcmFja1N3aXRjaCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoaW5nIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX1NXSVRDSElORzogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGFuIGF1ZGlvIHRyYWNrIHN3aXRjaCBhY3R1YWxseSBvY2N1cnMgLSBkYXRhOiB7IGlkIDogYXVkaW8gdHJhY2sgaWQgfVxuICBBVURJT19UUkFDS19TV0lUQ0hFRDogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IGF1ZGlvIHRyYWNrIFVSTCwgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX0xPQURJTkc6ICdobHNBdWRpb1RyYWNrTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogYXVkaW8gdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gIEFVRElPX1RSQUNLX0xPQURFRDogJ2hsc0F1ZGlvVHJhY2tMb2FkZWQnLFxuICAvLyBmaXJlZCB0byBub3RpZnkgdGhhdCBzdWJ0aXRsZSB0cmFjayBsaXN0cyBoYXMgYmVlbiB1cGRhdGVkIC0gZGF0YTogeyBzdWJ0aXRsZVRyYWNrcyA6IHN1YnRpdGxlVHJhY2tzIH1cbiAgU1VCVElUTEVfVFJBQ0tTX1VQREFURUQ6ICdobHNTdWJ0aXRsZVRyYWNrc1VwZGF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGFuIHN1YnRpdGxlIHRyYWNrIHN3aXRjaCBvY2N1cnMgLSBkYXRhOiB7IGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICBTVUJUSVRMRV9UUkFDS19TV0lUQ0g6ICdobHNTdWJ0aXRsZVRyYWNrU3dpdGNoJyxcbiAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBzdWJ0aXRsZSB0cmFjayBVUkwsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICBTVUJUSVRMRV9UUkFDS19MT0FESU5HOiAnaGxzU3VidGl0bGVUcmFja0xvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgc3VidGl0bGUgdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gIFNVQlRJVExFX1RSQUNLX0xPQURFRDogJ2hsc1N1YnRpdGxlVHJhY2tMb2FkZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgc3VidGl0bGUgZnJhZ21lbnQgaGFzIGJlZW4gcHJvY2Vzc2VkIC0gZGF0YTogeyBzdWNjZXNzIDogYm9vbGVhbiwgZnJhZyA6IHRoZSBwcm9jZXNzZWQgZnJhZyB9XG4gIFNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEOiAnaGxzU3VidGl0bGVGcmFnUHJvY2Vzc2VkJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgZmlyc3QgdGltZXN0YW1wIGlzIGZvdW5kIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGluaXRQVFM6IGluaXRQVFMsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBJTklUX1BUU19GT1VORDogJ2hsc0luaXRQdHNGb3VuZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfTE9BRElORzogJ2hsc0ZyYWdMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgaXMgcHJvZ3Jlc3NpbmcgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHsgdHJlcXVlc3QsIHRmaXJzdCwgbG9hZGVkIH0gfVxuICBGUkFHX0xPQURfUFJPR1JFU1M6ICdobHNGcmFnTG9hZFByb2dyZXNzJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBhYm9ydGluZyBmb3IgZW1lcmdlbmN5IHN3aXRjaCBkb3duIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVEOiAnaGxzRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgaXMgY29tcGxldGVkIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBwYXlsb2FkIDogZnJhZ21lbnQgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gIEZSQUdfTE9BREVEOiAnaGxzRnJhZ0xvYWRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBoYXMgZmluaXNoZWQgZGVjcnlwdGluZyAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIHN0YXRzIDogeyB0c3RhcnQsIHRkZWNyeXB0IH0gfVxuICBGUkFHX0RFQ1JZUFRFRDogJ2hsc0ZyYWdEZWNyeXB0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIEluaXQgU2VnbWVudCBoYXMgYmVlbiBleHRyYWN0ZWQgZnJvbSBmcmFnbWVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIG1vb3YgOiBtb292IE1QNCBib3gsIGNvZGVjcyA6IGNvZGVjcyBmb3VuZCB3aGlsZSBwYXJzaW5nIGZyYWdtZW50IH1cbiAgRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVDogJ2hsc0ZyYWdQYXJzaW5nSW5pdFNlZ21lbnQnLFxuICAvLyBmaXJlZCB3aGVuIHBhcnNpbmcgc2VpIHRleHQgaXMgY29tcGxldGVkIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgc2FtcGxlcyA6IFsgc2VpIHNhbXBsZXMgcGVzIF0gfVxuICBGUkFHX1BBUlNJTkdfVVNFUkRBVEE6ICdobHNGcmFnUGFyc2luZ1VzZXJkYXRhJyxcbiAgLy8gZmlyZWQgd2hlbiBwYXJzaW5nIGlkMyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBpZDMgc2FtcGxlcyBwZXMgXSB9XG4gIEZSQUdfUEFSU0lOR19NRVRBREFUQTogJ2hsc0ZyYWdQYXJzaW5nTWV0YWRhdGEnLFxuICAvLyBmaXJlZCB3aGVuIGRhdGEgaGF2ZSBiZWVuIGV4dHJhY3RlZCBmcm9tIGZyYWdtZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgZGF0YTEgOiBtb29mIE1QNCBib3ggb3IgVFMgZnJhZ21lbnRzLCBkYXRhMiA6IG1kYXQgTVA0IGJveCBvciBudWxsfVxuICBGUkFHX1BBUlNJTkdfREFUQTogJ2hsc0ZyYWdQYXJzaW5nRGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gZnJhZ21lbnQgcGFyc2luZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19QQVJTRUQ6ICdobHNGcmFnUGFyc2VkJyxcbiAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCByZW11eGVkIE1QNCBib3hlcyBoYXZlIGFsbCBiZWVuIGFwcGVuZGVkIGludG8gU291cmNlQnVmZmVyIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgdHBhcnNlZCwgdGJ1ZmZlcmVkLCBsZW5ndGgsIGJ3RXN0aW1hdGUgfSB9XG4gIEZSQUdfQlVGRkVSRUQ6ICdobHNGcmFnQnVmZmVyZWQnLFxuICAvLyBmaXJlZCB3aGVuIGZyYWdtZW50IG1hdGNoaW5nIHdpdGggY3VycmVudCBtZWRpYSBwb3NpdGlvbiBpcyBjaGFuZ2luZyAtIGRhdGEgOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfQ0hBTkdFRDogJ2hsc0ZyYWdDaGFuZ2VkJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBGUFMgZHJvcCBldmVudCAtIGRhdGE6IHsgY3VyZW50RHJvcHBlZCwgY3VycmVudERlY29kZWQsIHRvdGFsRHJvcHBlZEZyYW1lcyB9XG4gIEZQU19EUk9QOiAnaGxzRnBzRHJvcCcsXG4gIC8vdHJpZ2dlcmVkIHdoZW4gRlBTIGRyb3AgdHJpZ2dlcnMgYXV0byBsZXZlbCBjYXBwaW5nIC0gZGF0YTogeyBsZXZlbCwgZHJvcHBlZGxldmVsIH1cbiAgRlBTX0RST1BfTEVWRUxfQ0FQUElORzogJ2hsc0Zwc0Ryb3BMZXZlbENhcHBpbmcnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBlcnJvciBldmVudCAtIGRhdGE6IHsgdHlwZSA6IGVycm9yIHR5cGUsIGRldGFpbHMgOiBlcnJvciBkZXRhaWxzLCBmYXRhbCA6IGlmIHRydWUsIGhscy5qcyBjYW5ub3Qvd2lsbCBub3QgdHJ5IHRvIHJlY292ZXIsIGlmIGZhbHNlLCBobHMuanMgd2lsbCB0cnkgdG8gcmVjb3ZlcixvdGhlciBlcnJvciBzcGVjaWZpYyBkYXRhIH1cbiAgRVJST1I6ICdobHNFcnJvcicsXG4gIC8vIGZpcmVkIHdoZW4gaGxzLmpzIGluc3RhbmNlIHN0YXJ0cyBkZXN0cm95aW5nLiBEaWZmZXJlbnQgZnJvbSBNRURJQV9ERVRBQ0hFRCBhcyBvbmUgY291bGQgd2FudCB0byBkZXRhY2ggYW5kIHJlYXR0YWNoIGEgbWVkaWEgdG8gdGhlIGluc3RhbmNlIG9mIGhscy5qcyB0byBoYW5kbGUgbWlkLXJvbGxzIGZvciBleGFtcGxlIC0gZGF0YTogeyB9XG4gIERFU1RST1lJTkc6ICdobHNEZXN0cm95aW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGRlY3J5cHQga2V5IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgS0VZX0xPQURJTkc6ICdobHNLZXlMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGRlY3J5cHQga2V5IGxvYWRpbmcgaXMgY29tcGxldGVkIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBwYXlsb2FkIDoga2V5IHBheWxvYWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbGVuZ3RoIH0gfVxuICBLRVlfTE9BREVEOiAnaGxzS2V5TG9hZGVkJyxcbiAgLy8gZmlyZWQgdXBvbiBzdHJlYW0gY29udHJvbGxlciBzdGF0ZSB0cmFuc2l0aW9ucyAtIGRhdGE6IHsgcHJldmlvdXNTdGF0ZSwgbmV4dFN0YXRlIH1cbiAgU1RSRUFNX1NUQVRFX1RSQU5TSVRJT046ICdobHNTdHJlYW1TdGF0ZVRyYW5zaXRpb24nXG59KTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBFcnJvclR5cGVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRXJyb3JEZXRhaWxzOyB9KTtcbnZhciBFcnJvclR5cGVzID0ge1xuICAvLyBJZGVudGlmaWVyIGZvciBhIG5ldHdvcmsgZXJyb3IgKGxvYWRpbmcgZXJyb3IgLyB0aW1lb3V0IC4uLilcbiAgTkVUV09SS19FUlJPUjogJ25ldHdvcmtFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWVkaWEgRXJyb3IgKHZpZGVvL3BhcnNpbmcvbWVkaWFzb3VyY2UgZXJyb3IpXG4gIE1FRElBX0VSUk9SOiAnbWVkaWFFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbXV4IEVycm9yIChkZW11eGluZy9yZW11eGluZylcbiAgTVVYX0VSUk9SOiAnbXV4RXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbGwgb3RoZXIgZXJyb3JzXG4gIE9USEVSX0VSUk9SOiAnb3RoZXJFcnJvcidcbn07XG5cbnZhciBFcnJvckRldGFpbHMgPSB7XG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3QgbG9hZCBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTUFOSUZFU1RfTE9BRF9FUlJPUjogJ21hbmlmZXN0TG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtYW5pZmVzdCBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIE1BTklGRVNUX0xPQURfVElNRU9VVDogJ21hbmlmZXN0TG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IHBhcnNpbmcgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgTUFOSUZFU1RfUEFSU0lOR19FUlJPUjogJ21hbmlmZXN0UGFyc2luZ0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtYW5pZmVzdCB3aXRoIG9ubHkgaW5jb21wYXRpYmxlIGNvZGVjcyBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVhc29uIDogZXJyb3IgcmVhc29ufVxuICBNQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SOiAnbWFuaWZlc3RJbmNvbXBhdGlibGVDb2RlY3NFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgbG9hZCBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTEVWRUxfTE9BRF9FUlJPUjogJ2xldmVsTG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIExFVkVMX0xPQURfVElNRU9VVDogJ2xldmVsTG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGxldmVsIHN3aXRjaCBlcnJvciAtIGRhdGE6IHsgbGV2ZWwgOiBmYXVsdHkgbGV2ZWwgSWQsIGV2ZW50IDogZXJyb3IgZGVzY3JpcHRpb259XG4gIExFVkVMX1NXSVRDSF9FUlJPUjogJ2xldmVsU3dpdGNoRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBhdWRpbyB0cmFjayBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBBVURJT19UUkFDS19MT0FEX0VSUk9SOiAnYXVkaW9UcmFja0xvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUOiAnYXVkaW9UcmFja0xvYWRUaW1lT3V0JyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgRlJBR19MT0FEX0VSUk9SOiAnZnJhZ0xvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvb3AgbG9hZGluZyBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdH1cbiAgRlJBR19MT09QX0xPQURJTkdfRVJST1I6ICdmcmFnTG9vcExvYWRpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvYWQgdGltZW91dCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdH1cbiAgRlJBR19MT0FEX1RJTUVPVVQ6ICdmcmFnTG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGZyYWdtZW50IGRlY3J5cHRpb24gZXJyb3IgZXZlbnQgLSBkYXRhOiB7aWQgOiBkZW11eGVyIElkLGZyYWc6IGZyYWdtZW50IG9iamVjdCwgcmVhc29uIDogcGFyc2luZyBlcnJvciBkZXNjcmlwdGlvbiB9XG4gIEZSQUdfREVDUllQVF9FUlJPUjogJ2ZyYWdEZWNyeXB0RXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGZyYWdtZW50IHBhcnNpbmcgZXJyb3IgZXZlbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBJZCwgcmVhc29uIDogcGFyc2luZyBlcnJvciBkZXNjcmlwdGlvbiB9XG4gIC8vIHdpbGwgYmUgcmVuYW1lZCBERU1VWF9QQVJTSU5HX0VSUk9SIGFuZCBzd2l0Y2hlZCB0byBNVVhfRVJST1IgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICBGUkFHX1BBUlNJTkdfRVJST1I6ICdmcmFnUGFyc2luZ0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSByZW11eCBhbGxvYyBlcnJvciBldmVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIElkLCBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBieXRlcyA6IG5iIG9mIGJ5dGVzIG9uIHdoaWNoIGFsbG9jYXRpb24gZmFpbGVkICwgcmVhc29uIDogZXJyb3IgdGV4dCB9XG4gIFJFTVVYX0FMTE9DX0VSUk9SOiAncmVtdXhBbGxvY0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZGVjcnlwdCBrZXkgbG9hZCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgS0VZX0xPQURfRVJST1I6ICdrZXlMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIHRpbWVvdXQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3R9XG4gIEtFWV9MT0FEX1RJTUVPVVQ6ICdrZXlMb2FkVGltZU91dCcsXG4gIC8vIFRyaWdnZXJlZCB3aGVuIGFuIGV4Y2VwdGlvbiBvY2N1cnMgd2hpbGUgYWRkaW5nIGEgc291cmNlQnVmZmVyIHRvIE1lZGlhU291cmNlIC0gZGF0YSA6IHsgIGVyciA6IGV4Y2VwdGlvbiAsIG1pbWVUeXBlIDogbWltZVR5cGUgfVxuICBCVUZGRVJfQUREX0NPREVDX0VSUk9SOiAnYnVmZmVyQWRkQ29kZWNFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIGFwcGVuZCBlcnJvciAtIGRhdGE6IGFwcGVuZCBlcnJvciBkZXNjcmlwdGlvblxuICBCVUZGRVJfQVBQRU5EX0VSUk9SOiAnYnVmZmVyQXBwZW5kRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBhcHBlbmRpbmcgZXJyb3IgZXZlbnQgLSBkYXRhOiBhcHBlbmRpbmcgZXJyb3IgZGVzY3JpcHRpb25cbiAgQlVGRkVSX0FQUEVORElOR19FUlJPUjogJ2J1ZmZlckFwcGVuZGluZ0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgc3RhbGxlZCBlcnJvciBldmVudFxuICBCVUZGRVJfU1RBTExFRF9FUlJPUjogJ2J1ZmZlclN0YWxsZWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIGZ1bGwgZXZlbnRcbiAgQlVGRkVSX0ZVTExfRVJST1I6ICdidWZmZXJGdWxsRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBzZWVrIG92ZXIgaG9sZSBldmVudFxuICBCVUZGRVJfU0VFS19PVkVSX0hPTEU6ICdidWZmZXJTZWVrT3ZlckhvbGUnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBudWRnZSBvbiBzdGFsbCAocGxheWJhY2sgaXMgc3R1Y2sgYWx0aG91Z2ggY3VycmVudFRpbWUgaXMgaW4gYSBidWZmZXJlZCBhcmVhKVxuICBCVUZGRVJfTlVER0VfT05fU1RBTEw6ICdidWZmZXJOdWRnZU9uU3RhbGwnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBpbnRlcm5hbCBleGNlcHRpb24gaGFwcGVuaW5nIGluc2lkZSBobHMuanMgd2hpbGUgaGFuZGxpbmcgYW4gZXZlbnRcbiAgSU5URVJOQUxfRVhDRVBUSU9OOiAnaW50ZXJuYWxFeGNlcHRpb24nXG59O1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIElEMyBwYXJzZXJcbiAqL1xudmFyIElEMyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSUQzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJRDMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhbiBJRDMgaGVhZGVyIGNhbiBiZSBmb3VuZCBhdCBvZmZzZXQgaW4gZGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gVHJ1ZSBpZiBhbiBJRDMgaGVhZGVyIGlzIGZvdW5kXG4gICAqL1xuICBJRDMuaXNIZWFkZXIgPSBmdW5jdGlvbiBpc0hlYWRlcihkYXRhLCBvZmZzZXQpIHtcbiAgICAvKlxuICAgICogaHR0cDovL2lkMy5vcmcvaWQzdjIuMy4wXG4gICAgKiBbMF0gICAgID0gJ0knXG4gICAgKiBbMV0gICAgID0gJ0QnXG4gICAgKiBbMl0gICAgID0gJzMnXG4gICAgKiBbMyw0XSAgID0ge1ZlcnNpb259XG4gICAgKiBbNV0gICAgID0ge0ZsYWdzfVxuICAgICogWzYtOV0gICA9IHtJRDMgU2l6ZX1cbiAgICAqXG4gICAgKiBBbiBJRDN2MiB0YWcgY2FuIGJlIGRldGVjdGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXR0ZXJuOlxuICAgICogICQ0OSA0NCAzMyB5eSB5eSB4eCB6eiB6eiB6eiB6elxuICAgICogV2hlcmUgeXkgaXMgbGVzcyB0aGFuICRGRiwgeHggaXMgdGhlICdmbGFncycgYnl0ZSBhbmQgenogaXMgbGVzcyB0aGFuICQ4MFxuICAgICovXG4gICAgaWYgKG9mZnNldCArIDEwIDw9IGRhdGEubGVuZ3RoKSB7XG4gICAgICAvL2xvb2sgZm9yICdJRDMnIGlkZW50aWZpZXJcbiAgICAgIGlmIChkYXRhW29mZnNldF0gPT09IDB4NDkgJiYgZGF0YVtvZmZzZXQgKyAxXSA9PT0gMHg0NCAmJiBkYXRhW29mZnNldCArIDJdID09PSAweDMzKSB7XG4gICAgICAgIC8vY2hlY2sgdmVyc2lvbiBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgM10gPCAweEZGICYmIGRhdGFbb2Zmc2V0ICsgNF0gPCAweEZGKSB7XG4gICAgICAgICAgLy9jaGVjayBzaXplIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgIGlmIChkYXRhW29mZnNldCArIDZdIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDddIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDhdIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDldIDwgMHg4MCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGZvb3RlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhIC0gVGhlIGRhdGEgdG8gc2VhcmNoIGluXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZ1xuICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGZvb3RlciBpcyBmb3VuZFxuICAgKi9cblxuXG4gIElEMy5pc0Zvb3RlciA9IGZ1bmN0aW9uIGlzRm9vdGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8qXG4gICAgKiBUaGUgZm9vdGVyIGlzIGEgY29weSBvZiB0aGUgaGVhZGVyLCBidXQgd2l0aCBhIGRpZmZlcmVudCBpZGVudGlmaWVyXG4gICAgKi9cbiAgICBpZiAob2Zmc2V0ICsgMTAgPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIC8vbG9vayBmb3IgJzNESScgaWRlbnRpZmllclxuICAgICAgaWYgKGRhdGFbb2Zmc2V0XSA9PT0gMHgzMyAmJiBkYXRhW29mZnNldCArIDFdID09PSAweDQ0ICYmIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4NDkpIHtcbiAgICAgICAgLy9jaGVjayB2ZXJzaW9uIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4RkYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4RkYpIHtcbiAgICAgICAgICAvL2NoZWNrIHNpemUgaXMgd2l0aGluIHJhbmdlXG4gICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgN10gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOF0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW55IGFkamFjZW50IElEMyB0YWdzIGZvdW5kIGluIGRhdGEgc3RhcnRpbmcgYXQgb2Zmc2V0LCBhcyBvbmUgYmxvY2sgb2YgZGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IC0gVGhlIGJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBhbnkgSUQzIHRhZ3MgZm91bmRcbiAgICovXG5cblxuICBJRDMuZ2V0SUQzRGF0YSA9IGZ1bmN0aW9uIGdldElEM0RhdGEoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIGZyb250ID0gb2Zmc2V0O1xuICAgIHZhciBsZW5ndGggPSAwO1xuXG4gICAgd2hpbGUgKElEMy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAvL0lEMyBoZWFkZXIgaXMgMTAgYnl0ZXNcbiAgICAgIGxlbmd0aCArPSAxMDtcblxuICAgICAgdmFyIHNpemUgPSBJRDMuX3JlYWRTaXplKGRhdGEsIG9mZnNldCArIDYpO1xuICAgICAgbGVuZ3RoICs9IHNpemU7XG5cbiAgICAgIGlmIChJRDMuaXNGb290ZXIoZGF0YSwgb2Zmc2V0ICsgMTApKSB7XG4gICAgICAgIC8vSUQzIGZvb3RlciBpcyAxMCBieXRlc1xuICAgICAgICBsZW5ndGggKz0gMTA7XG4gICAgICB9XG5cbiAgICAgIG9mZnNldCArPSBsZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkYXRhLnN1YmFycmF5KGZyb250LCBmcm9udCArIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICBJRDMuX3JlYWRTaXplID0gZnVuY3Rpb24gX3JlYWRTaXplKGRhdGEsIG9mZnNldCkge1xuICAgIHZhciBzaXplID0gMDtcbiAgICBzaXplID0gKGRhdGFbb2Zmc2V0XSAmIDB4N2YpIDw8IDIxO1xuICAgIHNpemUgfD0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDdmKSA8PCAxNDtcbiAgICBzaXplIHw9IChkYXRhW29mZnNldCArIDJdICYgMHg3ZikgPDwgNztcbiAgICBzaXplIHw9IGRhdGFbb2Zmc2V0ICsgM10gJiAweDdmO1xuICAgIHJldHVybiBzaXplO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZWFyY2hlcyBmb3IgdGhlIEVsZW1lbnRhcnkgU3RyZWFtIHRpbWVzdGFtcCBmb3VuZCBpbiB0aGUgSUQzIGRhdGEgY2h1bmtcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhIC0gQmxvY2sgb2YgZGF0YSBjb250YWluaW5nIG9uZSBvciBtb3JlIElEMyB0YWdzXG4gICAqIEByZXR1cm4ge251bWJlcn0gLSBUaGUgdGltZXN0YW1wXG4gICAqL1xuXG5cbiAgSUQzLmdldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIGdldFRpbWVTdGFtcChkYXRhKSB7XG4gICAgdmFyIGZyYW1lcyA9IElEMy5nZXRJRDNGcmFtZXMoZGF0YSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBmcmFtZSA9IGZyYW1lc1tpXTtcbiAgICAgIGlmIChJRDMuaXNUaW1lU3RhbXBGcmFtZShmcmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIElEMy5fcmVhZFRpbWVTdGFtcChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBJRDMgZnJhbWUgaXMgYW4gRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZyYW1lXG4gICAqIEBwYXJhbSB7SUQzIGZyYW1lfSBmcmFtZVxuICAgKi9cblxuXG4gIElEMy5pc1RpbWVTdGFtcEZyYW1lID0gZnVuY3Rpb24gaXNUaW1lU3RhbXBGcmFtZShmcmFtZSkge1xuICAgIHJldHVybiBmcmFtZSAmJiBmcmFtZS5rZXkgPT09ICdQUklWJyAmJiBmcmFtZS5pbmZvID09PSAnY29tLmFwcGxlLnN0cmVhbWluZy50cmFuc3BvcnRTdHJlYW1UaW1lc3RhbXAnO1xuICB9O1xuXG4gIElEMy5fZ2V0RnJhbWVEYXRhID0gZnVuY3Rpb24gX2dldEZyYW1lRGF0YShkYXRhKSB7XG4gICAgLypcbiAgICBGcmFtZSBJRCAgICAgICAkeHggeHggeHggeHggKGZvdXIgY2hhcmFjdGVycylcbiAgICBTaXplICAgICAgICAgICAkeHggeHggeHggeHhcbiAgICBGbGFncyAgICAgICAgICAkeHggeHhcbiAgICAqL1xuICAgIHZhciB0eXBlID0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdLCBkYXRhWzNdKTtcbiAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoZGF0YSwgNCk7XG5cbiAgICAvL3NraXAgZnJhbWUgaWQsIHNpemUsIGFuZCBmbGFnc1xuICAgIHZhciBvZmZzZXQgPSAxMDtcblxuICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHNpemU6IHNpemUsIGRhdGE6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBzaXplKSB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIElEMyBmcmFtZXMgZm91bmQgaW4gYWxsIHRoZSBJRDMgdGFncyBpbiB0aGUgaWQzRGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGlkM0RhdGEgLSBUaGUgSUQzIGRhdGEgY29udGFpbmluZyBvbmUgb3IgbW9yZSBJRDMgdGFnc1xuICAgKiBAcmV0dXJuIHtJRDMgZnJhbWVbXX0gLSBBcnJheSBvZiBJRDMgZnJhbWUgb2JqZWN0c1xuICAgKi9cblxuXG4gIElEMy5nZXRJRDNGcmFtZXMgPSBmdW5jdGlvbiBnZXRJRDNGcmFtZXMoaWQzRGF0YSkge1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBmcmFtZXMgPSBbXTtcblxuICAgIHdoaWxlIChJRDMuaXNIZWFkZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgICAgdmFyIHNpemUgPSBJRDMuX3JlYWRTaXplKGlkM0RhdGEsIG9mZnNldCArIDYpO1xuICAgICAgLy9za2lwIHBhc3QgSUQzIGhlYWRlclxuICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgdmFyIGVuZCA9IG9mZnNldCArIHNpemU7XG4gICAgICAvL2xvb3AgdGhyb3VnaCBmcmFtZXMgaW4gdGhlIElEMyB0YWdcbiAgICAgIHdoaWxlIChvZmZzZXQgKyA4IDwgZW5kKSB7XG4gICAgICAgIHZhciBmcmFtZURhdGEgPSBJRDMuX2dldEZyYW1lRGF0YShpZDNEYXRhLnN1YmFycmF5KG9mZnNldCkpO1xuICAgICAgICB2YXIgZnJhbWUgPSBJRDMuX2RlY29kZUZyYW1lKGZyYW1lRGF0YSk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIGZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvL3NraXAgZnJhbWUgaGVhZGVyIGFuZCBmcmFtZSBkYXRhXG4gICAgICAgIG9mZnNldCArPSBmcmFtZURhdGEuc2l6ZSArIDEwO1xuICAgICAgfVxuXG4gICAgICBpZiAoSUQzLmlzRm9vdGVyKGlkM0RhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmcmFtZXM7XG4gIH07XG5cbiAgSUQzLl9kZWNvZGVGcmFtZSA9IGZ1bmN0aW9uIF9kZWNvZGVGcmFtZShmcmFtZSkge1xuICAgIGlmIChmcmFtZS50eXBlID09PSAnUFJJVicpIHtcbiAgICAgIHJldHVybiBJRDMuX2RlY29kZVByaXZGcmFtZShmcmFtZSk7XG4gICAgfSBlbHNlIGlmIChmcmFtZS50eXBlWzBdID09PSAnVCcpIHtcbiAgICAgIHJldHVybiBJRDMuX2RlY29kZVRleHRGcmFtZShmcmFtZSk7XG4gICAgfSBlbHNlIGlmIChmcmFtZS50eXBlWzBdID09PSAnVycpIHtcbiAgICAgIHJldHVybiBJRDMuX2RlY29kZVVSTEZyYW1lKGZyYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIElEMy5fcmVhZFRpbWVTdGFtcCA9IGZ1bmN0aW9uIF9yZWFkVGltZVN0YW1wKHRpbWVTdGFtcEZyYW1lKSB7XG4gICAgaWYgKHRpbWVTdGFtcEZyYW1lLmRhdGEuYnl0ZUxlbmd0aCA9PT0gOCkge1xuICAgICAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSh0aW1lU3RhbXBGcmFtZS5kYXRhKTtcbiAgICAgIC8vIHRpbWVzdGFtcCBpcyAzMyBiaXQgZXhwcmVzc2VkIGFzIGEgYmlnLWVuZGlhbiBlaWdodC1vY3RldCBudW1iZXIsXG4gICAgICAvLyB3aXRoIHRoZSB1cHBlciAzMSBiaXRzIHNldCB0byB6ZXJvLlxuICAgICAgdmFyIHB0czMzQml0ID0gZGF0YVszXSAmIDB4MTtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSAoZGF0YVs0XSA8PCAyMykgKyAoZGF0YVs1XSA8PCAxNSkgKyAoZGF0YVs2XSA8PCA3KSArIGRhdGFbN107XG4gICAgICB0aW1lc3RhbXAgLz0gNDU7XG5cbiAgICAgIGlmIChwdHMzM0JpdCkge1xuICAgICAgICB0aW1lc3RhbXAgKz0gNDc3MjE4NTguODQ7IC8vIDJeMzIgLyA5MFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aW1lc3RhbXApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgSUQzLl9kZWNvZGVQcml2RnJhbWUgPSBmdW5jdGlvbiBfZGVjb2RlUHJpdkZyYW1lKGZyYW1lKSB7XG4gICAgLypcbiAgICBGb3JtYXQ6IDx0ZXh0IHN0cmluZz5cXDA8YmluYXJ5IGRhdGE+XG4gICAgKi9cbiAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFyIG93bmVyID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhKTtcbiAgICB2YXIgcHJpdmF0ZURhdGEgPSBuZXcgVWludDhBcnJheShmcmFtZS5kYXRhLnN1YmFycmF5KG93bmVyLmxlbmd0aCArIDEpKTtcblxuICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogb3duZXIsIGRhdGE6IHByaXZhdGVEYXRhLmJ1ZmZlciB9O1xuICB9O1xuXG4gIElEMy5fZGVjb2RlVGV4dEZyYW1lID0gZnVuY3Rpb24gX2RlY29kZVRleHRGcmFtZShmcmFtZSkge1xuICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoZnJhbWUudHlwZSA9PT0gJ1RYWFgnKSB7XG4gICAgICAvKlxuICAgICAgRm9ybWF0OlxuICAgICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICAgIFsxLT9dID0ge0Rlc2NyaXB0aW9ufVxcMHtWYWx1ZX1cbiAgICAgICovXG4gICAgICB2YXIgaW5kZXggPSAxO1xuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KGluZGV4KSk7XG5cbiAgICAgIGluZGV4ICs9IGRlc2NyaXB0aW9uLmxlbmd0aCArIDE7XG4gICAgICB2YXIgdmFsdWUgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLypcbiAgICAgIEZvcm1hdDpcbiAgICAgIFswXSAgID0ge1RleHQgRW5jb2Rpbmd9XG4gICAgICBbMS0/XSA9IHtWYWx1ZX1cbiAgICAgICovXG4gICAgICB2YXIgdGV4dCA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheSgxKSk7XG4gICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGRhdGE6IHRleHQgfTtcbiAgICB9XG4gIH07XG5cbiAgSUQzLl9kZWNvZGVVUkxGcmFtZSA9IGZ1bmN0aW9uIF9kZWNvZGVVUkxGcmFtZShmcmFtZSkge1xuICAgIGlmIChmcmFtZS50eXBlID09PSAnV1hYWCcpIHtcbiAgICAgIC8qXG4gICAgICBGb3JtYXQ6XG4gICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1VSTH1cbiAgICAgICovXG4gICAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gMTtcbiAgICAgIHZhciBkZXNjcmlwdGlvbiA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuXG4gICAgICBpbmRleCArPSBkZXNjcmlwdGlvbi5sZW5ndGggKyAxO1xuICAgICAgdmFyIHZhbHVlID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KGluZGV4KSk7XG5cbiAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogZGVzY3JpcHRpb24sIGRhdGE6IHZhbHVlIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qXG4gICAgICBGb3JtYXQ6XG4gICAgICBbMC0/XSA9IHtVUkx9XG4gICAgICAqL1xuICAgICAgdmFyIHVybCA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YSk7XG4gICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGRhdGE6IHVybCB9O1xuICAgIH1cbiAgfTtcblxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg5MzY5ODQvdWludDhhcnJheS10by1zdHJpbmctaW4tamF2YXNjcmlwdC8yMjM3MzE5N1xuICAvLyBodHRwOi8vd3d3Lm9uaWNvcy5jb20vc3RhZmYvaXovYW11c2UvamF2YXNjcmlwdC9leHBlcnQvdXRmLnR4dFxuICAvKiB1dGYuanMgLSBVVEYtOCA8PT4gVVRGLTE2IGNvbnZlcnRpb25cbiAgICpcbiAgICogQ29weXJpZ2h0IChDKSAxOTk5IE1hc2FuYW8gSXp1bW8gPGl6QG9uaWNvcy5jby5qcD5cbiAgICogVmVyc2lvbjogMS4wXG4gICAqIExhc3RNb2RpZmllZDogRGVjIDI1IDE5OTlcbiAgICogVGhpcyBsaWJyYXJ5IGlzIGZyZWUuICBZb3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0LlxuICAgKi9cblxuXG4gIElEMy5fdXRmOEFycmF5VG9TdHIgPSBmdW5jdGlvbiBfdXRmOEFycmF5VG9TdHIoYXJyYXkpIHtcblxuICAgIHZhciBjaGFyMiA9IHZvaWQgMDtcbiAgICB2YXIgY2hhcjMgPSB2b2lkIDA7XG4gICAgdmFyIG91dCA9ICcnO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjID0gYXJyYXlbaSsrXTtcbiAgICAgIHN3aXRjaCAoYyA+PiA0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICBjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpjYXNlIDc6XG4gICAgICAgICAgLy8gMHh4eHh4eHhcbiAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpjYXNlIDEzOlxuICAgICAgICAgIC8vIDExMHggeHh4eCAgIDEweHggeHh4eFxuICAgICAgICAgIGNoYXIyID0gYXJyYXlbaSsrXTtcbiAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDB4MUYpIDw8IDYgfCBjaGFyMiAmIDB4M0YpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIC8vIDExMTAgeHh4eCAgMTB4eCB4eHh4ICAxMHh4IHh4eHhcbiAgICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgICAgY2hhcjMgPSBhcnJheVtpKytdO1xuICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMHgwRikgPDwgMTIgfCAoY2hhcjIgJiAweDNGKSA8PCA2IHwgKGNoYXIzICYgMHgzRikgPDwgMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfTtcblxuICByZXR1cm4gSUQzO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKElEMyk7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTgwOFxyXG5cclxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xyXG4oZnVuY3Rpb24ocm9vdCkgeyBcclxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHJcbiAgdmFyIFVSTF9SRUdFWCA9IC9eKCg/OlteXFwvOz8jXSs6KT8pKFxcL1xcL1teXFwvXFw7PyNdKik/KC4qPyk/Pyg7Lio/KT8oXFw/Lio/KT8oIy4qPyk/JC87XHJcbiAgdmFyIEZJUlNUX1NFR01FTlRfUkVHRVggPSAvXihbXlxcLzs/I10qKSguKikkLztcclxuICB2YXIgU0xBU0hfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLig/PVxcLykvZztcclxuICB2YXIgU0xBU0hfRE9UX0RPVF9SRUdFWCA9IC8oPzpcXC98XilcXC5cXC5cXC8oPyFcXC5cXC5cXC8pLio/KD89XFwvKS9nO1xyXG5cclxuICB2YXIgVVJMVG9vbGtpdCA9IHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcbiAgICAvLyBJZiBvcHRzLmFsd2F5c05vcm1hbGl6ZSBpcyB0cnVlIHRoZW4gdGhlIHBhdGggd2lsbCBhbHdheXMgYmUgbm9ybWFsaXplZCBldmVuIHdoZW4gaXQgc3RhcnRzIHdpdGggLyBvciAvL1xyXG4gICAgLy8gRS5nXHJcbiAgICAvLyBXaXRoIG9wdHMuYWx3YXlzTm9ybWFsaXplID0gZmFsc2UgKGRlZmF1bHQsIHNwZWMgY29tcGxpYW50KVxyXG4gICAgLy8gaHR0cDovL2EuY29tL2IvY2QgKyAvZS9mLy4uL2cgPT4gaHR0cDovL2EuY29tL2UvZi8uLi9nXHJcbiAgICAvLyBXaXRoIG9wdHMuYWx3YXlzTm9ybWFsaXplID0gdHJ1ZSAoZGVmYXVsdCwgbm90IHNwZWMgY29tcGxpYW50KVxyXG4gICAgLy8gaHR0cDovL2EuY29tL2IvY2QgKyAvZS9mLy4uL2cgPT4gaHR0cDovL2EuY29tL2UvZ1xyXG4gICAgYnVpbGRBYnNvbHV0ZVVSTDogZnVuY3Rpb24oYmFzZVVSTCwgcmVsYXRpdmVVUkwsIG9wdHMpIHtcclxuICAgICAgb3B0cyA9IG9wdHMgfHwge307XHJcbiAgICAgIC8vIHJlbW92ZSBhbnkgcmVtYWluaW5nIHNwYWNlIGFuZCBDUkxGXHJcbiAgICAgIGJhc2VVUkwgPSBiYXNlVVJMLnRyaW0oKTtcclxuICAgICAgcmVsYXRpdmVVUkwgPSByZWxhdGl2ZVVSTC50cmltKCk7XHJcbiAgICAgIGlmICghcmVsYXRpdmVVUkwpIHtcclxuICAgICAgICAvLyAyYSkgSWYgdGhlIGVtYmVkZGVkIFVSTCBpcyBlbnRpcmVseSBlbXB0eSwgaXQgaW5oZXJpdHMgdGhlXHJcbiAgICAgICAgLy8gZW50aXJlIGJhc2UgVVJMIChpLmUuLCBpcyBzZXQgZXF1YWwgdG8gdGhlIGJhc2UgVVJMKVxyXG4gICAgICAgIC8vIGFuZCB3ZSBhcmUgZG9uZS5cclxuICAgICAgICBpZiAoIW9wdHMuYWx3YXlzTm9ybWFsaXplKSB7XHJcbiAgICAgICAgICByZXR1cm4gYmFzZVVSTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJhc2VQYXJ0c0Zvck5vcm1hbGlzZSA9IHRoaXMucGFyc2VVUkwoYmFzZVVSTCk7XHJcbiAgICAgICAgaWYgKCFiYXNlUGFydHMpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXNlUGFydHNGb3JOb3JtYWxpc2UucGF0aCA9IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChiYXNlUGFydHNGb3JOb3JtYWxpc2UucGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRVUkxGcm9tUGFydHMoYmFzZVBhcnRzRm9yTm9ybWFsaXNlKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgcmVsYXRpdmVQYXJ0cyA9IHRoaXMucGFyc2VVUkwocmVsYXRpdmVVUkwpO1xyXG4gICAgICBpZiAoIXJlbGF0aXZlUGFydHMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSByZWxhdGl2ZSBVUkwuJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlbGF0aXZlUGFydHMuc2NoZW1lKSB7XHJcbiAgICAgICAgLy8gMmIpIElmIHRoZSBlbWJlZGRlZCBVUkwgc3RhcnRzIHdpdGggYSBzY2hlbWUgbmFtZSwgaXQgaXNcclxuICAgICAgICAvLyBpbnRlcnByZXRlZCBhcyBhbiBhYnNvbHV0ZSBVUkwgYW5kIHdlIGFyZSBkb25lLlxyXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcclxuICAgICAgICAgIHJldHVybiByZWxhdGl2ZVVSTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKHJlbGF0aXZlUGFydHMucGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRVUkxGcm9tUGFydHMocmVsYXRpdmVQYXJ0cyk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGJhc2VQYXJ0cyA9IHRoaXMucGFyc2VVUkwoYmFzZVVSTCk7XHJcbiAgICAgIGlmICghYmFzZVBhcnRzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgYmFzZSBVUkwuJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFiYXNlUGFydHMubmV0TG9jICYmIGJhc2VQYXJ0cy5wYXRoICYmIGJhc2VQYXJ0cy5wYXRoWzBdICE9PSAnLycpIHtcclxuICAgICAgICAvLyBJZiBuZXRMb2MgbWlzc2luZyBhbmQgcGF0aCBkb2Vzbid0IHN0YXJ0IHdpdGggJy8nLCBhc3N1bWUgZXZlcnRoaW5nIGJlZm9yZSB0aGUgZmlyc3QgJy8nIGlzIHRoZSBuZXRMb2NcclxuICAgICAgICAvLyBUaGlzIGNhdXNlcyAnZXhhbXBsZS5jb20vYScgdG8gYmUgaGFuZGxlZCBhcyAnLy9leGFtcGxlLmNvbS9hJyBpbnN0ZWFkIG9mICcvZXhhbXBsZS5jb20vYSdcclxuICAgICAgICB2YXIgcGF0aFBhcnRzID0gRklSU1RfU0VHTUVOVF9SRUdFWC5leGVjKGJhc2VQYXJ0cy5wYXRoKTtcclxuICAgICAgICBiYXNlUGFydHMubmV0TG9jID0gcGF0aFBhcnRzWzFdO1xyXG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gcGF0aFBhcnRzWzJdO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChiYXNlUGFydHMubmV0TG9jICYmICFiYXNlUGFydHMucGF0aCkge1xyXG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gJy8nO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBidWlsdFBhcnRzID0ge1xyXG4gICAgICAgIC8vIDJjKSBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIHNjaGVtZSBvZlxyXG4gICAgICAgIC8vIHRoZSBiYXNlIFVSTC5cclxuICAgICAgICBzY2hlbWU6IGJhc2VQYXJ0cy5zY2hlbWUsXHJcbiAgICAgICAgbmV0TG9jOiByZWxhdGl2ZVBhcnRzLm5ldExvYyxcclxuICAgICAgICBwYXRoOiBudWxsLFxyXG4gICAgICAgIHBhcmFtczogcmVsYXRpdmVQYXJ0cy5wYXJhbXMsXHJcbiAgICAgICAgcXVlcnk6IHJlbGF0aXZlUGFydHMucXVlcnksXHJcbiAgICAgICAgZnJhZ21lbnQ6IHJlbGF0aXZlUGFydHMuZnJhZ21lbnRcclxuICAgICAgfTtcclxuICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLm5ldExvYykge1xyXG4gICAgICAgIC8vIDMpIElmIHRoZSBlbWJlZGRlZCBVUkwncyA8bmV0X2xvYz4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXHJcbiAgICAgICAgLy8gU3RlcCA3LiAgT3RoZXJ3aXNlLCB0aGUgZW1iZWRkZWQgVVJMIGluaGVyaXRzIHRoZSA8bmV0X2xvYz5cclxuICAgICAgICAvLyAoaWYgYW55KSBvZiB0aGUgYmFzZSBVUkwuXHJcbiAgICAgICAgYnVpbHRQYXJ0cy5uZXRMb2MgPSBiYXNlUGFydHMubmV0TG9jO1xyXG4gICAgICAgIC8vIDQpIElmIHRoZSBlbWJlZGRlZCBVUkwgcGF0aCBpcyBwcmVjZWRlZCBieSBhIHNsYXNoIFwiL1wiLCB0aGVcclxuICAgICAgICAvLyBwYXRoIGlzIG5vdCByZWxhdGl2ZSBhbmQgd2Ugc2tpcCB0byBTdGVwIDcuXHJcbiAgICAgICAgaWYgKHJlbGF0aXZlUGFydHMucGF0aFswXSAhPT0gJy8nKSB7XHJcbiAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucGF0aCkge1xyXG4gICAgICAgICAgICAvLyA1KSBJZiB0aGUgZW1iZWRkZWQgVVJMIHBhdGggaXMgZW1wdHkgKGFuZCBub3QgcHJlY2VkZWQgYnkgYVxyXG4gICAgICAgICAgICAvLyBzbGFzaCksIHRoZW4gdGhlIGVtYmVkZGVkIFVSTCBpbmhlcml0cyB0aGUgYmFzZSBVUkwgcGF0aFxyXG4gICAgICAgICAgICBidWlsdFBhcnRzLnBhdGggPSBiYXNlUGFydHMucGF0aDtcclxuICAgICAgICAgICAgLy8gNWEpIGlmIHRoZSBlbWJlZGRlZCBVUkwncyA8cGFyYW1zPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cclxuICAgICAgICAgICAgLy8gc3RlcCA3OyBvdGhlcndpc2UsIGl0IGluaGVyaXRzIHRoZSA8cGFyYW1zPiBvZiB0aGUgYmFzZVxyXG4gICAgICAgICAgICAvLyBVUkwgKGlmIGFueSkgYW5kXHJcbiAgICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXJhbXMpIHtcclxuICAgICAgICAgICAgICBidWlsdFBhcnRzLnBhcmFtcyA9IGJhc2VQYXJ0cy5wYXJhbXM7XHJcbiAgICAgICAgICAgICAgLy8gNWIpIGlmIHRoZSBlbWJlZGRlZCBVUkwncyA8cXVlcnk+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xyXG4gICAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHF1ZXJ5PiBvZiB0aGUgYmFzZVxyXG4gICAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmQgd2Ugc2tpcCB0byBzdGVwIDcuXHJcbiAgICAgICAgICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLnF1ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBidWlsdFBhcnRzLnF1ZXJ5ID0gYmFzZVBhcnRzLnF1ZXJ5O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gNikgVGhlIGxhc3Qgc2VnbWVudCBvZiB0aGUgYmFzZSBVUkwncyBwYXRoIChhbnl0aGluZ1xyXG4gICAgICAgICAgICAvLyBmb2xsb3dpbmcgdGhlIHJpZ2h0bW9zdCBzbGFzaCBcIi9cIiwgb3IgdGhlIGVudGlyZSBwYXRoIGlmIG5vXHJcbiAgICAgICAgICAgIC8vIHNsYXNoIGlzIHByZXNlbnQpIGlzIHJlbW92ZWQgYW5kIHRoZSBlbWJlZGRlZCBVUkwncyBwYXRoIGlzXHJcbiAgICAgICAgICAgIC8vIGFwcGVuZGVkIGluIGl0cyBwbGFjZS5cclxuICAgICAgICAgICAgdmFyIGJhc2VVUkxQYXRoID0gYmFzZVBhcnRzLnBhdGg7XHJcbiAgICAgICAgICAgIHZhciBuZXdQYXRoID0gYmFzZVVSTFBhdGguc3Vic3RyaW5nKDAsIGJhc2VVUkxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIHJlbGF0aXZlUGFydHMucGF0aDtcclxuICAgICAgICAgICAgYnVpbHRQYXJ0cy5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKG5ld1BhdGgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYnVpbHRQYXJ0cy5wYXRoID09PSBudWxsKSB7XHJcbiAgICAgICAgYnVpbHRQYXJ0cy5wYXRoID0gb3B0cy5hbHdheXNOb3JtYWxpemUgPyBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKSA6IHJlbGF0aXZlUGFydHMucGF0aDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhidWlsdFBhcnRzKTtcclxuICAgIH0sXHJcbiAgICBwYXJzZVVSTDogZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgIHZhciBwYXJ0cyA9IFVSTF9SRUdFWC5leGVjKHVybCk7XHJcbiAgICAgIGlmICghcGFydHMpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHNjaGVtZTogcGFydHNbMV0gfHwgJycsXHJcbiAgICAgICAgbmV0TG9jOiBwYXJ0c1syXSB8fCAnJyxcclxuICAgICAgICBwYXRoOiBwYXJ0c1szXSB8fCAnJyxcclxuICAgICAgICBwYXJhbXM6IHBhcnRzWzRdIHx8ICcnLFxyXG4gICAgICAgIHF1ZXJ5OiBwYXJ0c1s1XSB8fCAnJyxcclxuICAgICAgICBmcmFnbWVudDogcGFydHNbNl0gfHwgJydcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBub3JtYWxpemVQYXRoOiBmdW5jdGlvbihwYXRoKSB7XHJcbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgb3BlcmF0aW9ucyBhcmVcclxuICAgICAgLy8gdGhlbiBhcHBsaWVkLCBpbiBvcmRlciwgdG8gdGhlIG5ldyBwYXRoOlxyXG4gICAgICAvLyA2YSkgQWxsIG9jY3VycmVuY2VzIG9mIFwiLi9cIiwgd2hlcmUgXCIuXCIgaXMgYSBjb21wbGV0ZSBwYXRoXHJcbiAgICAgIC8vIHNlZ21lbnQsIGFyZSByZW1vdmVkLlxyXG4gICAgICAvLyA2YikgSWYgdGhlIHBhdGggZW5kcyB3aXRoIFwiLlwiIGFzIGEgY29tcGxldGUgcGF0aCBzZWdtZW50LFxyXG4gICAgICAvLyB0aGF0IFwiLlwiIGlzIHJlbW92ZWQuXHJcbiAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJykucmVwbGFjZShTTEFTSF9ET1RfUkVHRVgsICcnKTtcclxuICAgICAgLy8gNmMpIEFsbCBvY2N1cnJlbmNlcyBvZiBcIjxzZWdtZW50Pi8uLi9cIiwgd2hlcmUgPHNlZ21lbnQ+IGlzIGFcclxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIGFyZSByZW1vdmVkLlxyXG4gICAgICAvLyBSZW1vdmFsIG9mIHRoZXNlIHBhdGggc2VnbWVudHMgaXMgcGVyZm9ybWVkIGl0ZXJhdGl2ZWx5LFxyXG4gICAgICAvLyByZW1vdmluZyB0aGUgbGVmdG1vc3QgbWF0Y2hpbmcgcGF0dGVybiBvbiBlYWNoIGl0ZXJhdGlvbixcclxuICAgICAgLy8gdW50aWwgbm8gbWF0Y2hpbmcgcGF0dGVybiByZW1haW5zLlxyXG4gICAgICAvLyA2ZCkgSWYgdGhlIHBhdGggZW5kcyB3aXRoIFwiPHNlZ21lbnQ+Ly4uXCIsIHdoZXJlIDxzZWdtZW50PiBpcyBhXHJcbiAgICAgIC8vIGNvbXBsZXRlIHBhdGggc2VnbWVudCBub3QgZXF1YWwgdG8gXCIuLlwiLCB0aGF0XHJcbiAgICAgIC8vIFwiPHNlZ21lbnQ+Ly4uXCIgaXMgcmVtb3ZlZC5cclxuICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoICE9PSAocGF0aCA9IHBhdGgucmVwbGFjZShTTEFTSF9ET1RfRE9UX1JFR0VYLCAnJykpLmxlbmd0aCkge30gLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcbiAgICAgIHJldHVybiBwYXRoLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XHJcbiAgICB9LFxyXG4gICAgYnVpbGRVUkxGcm9tUGFydHM6IGZ1bmN0aW9uKHBhcnRzKSB7XHJcbiAgICAgIHJldHVybiBwYXJ0cy5zY2hlbWUgKyBwYXJ0cy5uZXRMb2MgKyBwYXJ0cy5wYXRoICsgcGFydHMucGFyYW1zICsgcGFydHMucXVlcnkgKyBwYXJ0cy5mcmFnbWVudDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xyXG4gIGlmKHRydWUpXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFVSTFRvb2xraXQ7XHJcbiAgZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXHJcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkgeyByZXR1cm4gVVJMVG9vbGtpdDsgfSk7XHJcbiAgZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXHJcbiAgICBleHBvcnRzW1wiVVJMVG9vbGtpdFwiXSA9IFVSTFRvb2xraXQ7XHJcbiAgZWxzZVxyXG4gICAgcm9vdFtcIlVSTFRvb2xraXRcIl0gPSBVUkxUb29sa2l0O1xyXG59KSh0aGlzKTtcclxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9ldmVudHMuanNcbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2Vycm9ycy5qc1xudmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Flcy1jcnlwdG8uanNcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBBRVNDcnlwdG8gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFFU0NyeXB0byhzdWJ0bGUsIGl2KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFFU0NyeXB0byk7XG5cbiAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcbiAgICB0aGlzLmFlc0lWID0gaXY7XG4gIH1cblxuICBBRVNDcnlwdG8ucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiBkZWNyeXB0KGRhdGEsIGtleSkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5kZWNyeXB0KHsgbmFtZTogJ0FFUy1DQkMnLCBpdjogdGhpcy5hZXNJViB9LCBrZXksIGRhdGEpO1xuICB9O1xuXG4gIHJldHVybiBBRVNDcnlwdG87XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGFlc19jcnlwdG8gPSAoQUVTQ3J5cHRvKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Zhc3QtYWVzLWtleS5qc1xuZnVuY3Rpb24gZmFzdF9hZXNfa2V5X19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBGYXN0QUVTS2V5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGYXN0QUVTS2V5KHN1YnRsZSwga2V5KSB7XG4gICAgZmFzdF9hZXNfa2V5X19jbGFzc0NhbGxDaGVjayh0aGlzLCBGYXN0QUVTS2V5KTtcblxuICAgIHRoaXMuc3VidGxlID0gc3VidGxlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgRmFzdEFFU0tleS5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gZXhwYW5kS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIHRoaXMua2V5LCB7IG5hbWU6ICdBRVMtQ0JDJyB9LCBmYWxzZSwgWydlbmNyeXB0JywgJ2RlY3J5cHQnXSk7XG4gIH07XG5cbiAgcmV0dXJuIEZhc3RBRVNLZXk7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZhc3RfYWVzX2tleSA9IChGYXN0QUVTS2V5KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Flcy1kZWNyeXB0b3IuanNcbmZ1bmN0aW9uIGFlc19kZWNyeXB0b3JfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEFFU0RlY3J5cHRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQUVTRGVjcnlwdG9yKCkge1xuICAgIGFlc19kZWNyeXB0b3JfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFFU0RlY3J5cHRvcik7XG5cbiAgICAvLyBTdGF0aWMgYWZ0ZXIgcnVubmluZyBpbml0VGFibGVcbiAgICB0aGlzLnJjb24gPSBbMHgwLCAweDEsIDB4MiwgMHg0LCAweDgsIDB4MTAsIDB4MjAsIDB4NDAsIDB4ODAsIDB4MWIsIDB4MzZdO1xuICAgIHRoaXMuc3ViTWl4ID0gW25ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpXTtcbiAgICB0aGlzLmludlN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgdGhpcy5zQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgdGhpcy5pbnZTQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG5cbiAgICAvLyBDaGFuZ2VzIGR1cmluZyBydW50aW1lXG4gICAgdGhpcy5rZXkgPSBuZXcgVWludDMyQXJyYXkoMCk7XG5cbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuICB9XG5cbiAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuXG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS51aW50OEFycmF5VG9VaW50MzJBcnJheV8gPSBmdW5jdGlvbiB1aW50OEFycmF5VG9VaW50MzJBcnJheV8oYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBuZXdBcnJheVtpXSA9IHZpZXcuZ2V0VWludDMyKGkgKiA0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9O1xuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuaW5pdFRhYmxlID0gZnVuY3Rpb24gaW5pdFRhYmxlKCkge1xuICAgIHZhciBzQm94ID0gdGhpcy5zQm94O1xuICAgIHZhciBpbnZTQm94ID0gdGhpcy5pbnZTQm94O1xuICAgIHZhciBzdWJNaXggPSB0aGlzLnN1Yk1peDtcbiAgICB2YXIgc3ViTWl4MCA9IHN1Yk1peFswXTtcbiAgICB2YXIgc3ViTWl4MSA9IHN1Yk1peFsxXTtcbiAgICB2YXIgc3ViTWl4MiA9IHN1Yk1peFsyXTtcbiAgICB2YXIgc3ViTWl4MyA9IHN1Yk1peFszXTtcbiAgICB2YXIgaW52U3ViTWl4ID0gdGhpcy5pbnZTdWJNaXg7XG4gICAgdmFyIGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgdmFyIGludlN1Yk1peDIgPSBpbnZTdWJNaXhbMl07XG4gICAgdmFyIGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICB2YXIgZCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeGkgPSAwO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIGRbaV0gPSBpIDw8IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkW2ldID0gaSA8PCAxIF4gMHgxMWI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICB2YXIgc3ggPSB4aSBeIHhpIDw8IDEgXiB4aSA8PCAyIF4geGkgPDwgMyBeIHhpIDw8IDQ7XG4gICAgICBzeCA9IHN4ID4+PiA4IF4gc3ggJiAweGZmIF4gMHg2MztcbiAgICAgIHNCb3hbeF0gPSBzeDtcbiAgICAgIGludlNCb3hbc3hdID0geDtcblxuICAgICAgLy8gQ29tcHV0ZSBtdWx0aXBsaWNhdGlvblxuICAgICAgdmFyIHgyID0gZFt4XTtcbiAgICAgIHZhciB4NCA9IGRbeDJdO1xuICAgICAgdmFyIHg4ID0gZFt4NF07XG5cbiAgICAgIC8vIENvbXB1dGUgc3ViL2ludlN1YiBieXRlcywgbWl4IGNvbHVtbnMgdGFibGVzXG4gICAgICB2YXIgdCA9IGRbc3hdICogMHgxMDEgXiBzeCAqIDB4MTAxMDEwMDtcbiAgICAgIHN1Yk1peDBbeF0gPSB0IDw8IDI0IHwgdCA+Pj4gODtcbiAgICAgIHN1Yk1peDFbeF0gPSB0IDw8IDE2IHwgdCA+Pj4gMTY7XG4gICAgICBzdWJNaXgyW3hdID0gdCA8PCA4IHwgdCA+Pj4gMjQ7XG4gICAgICBzdWJNaXgzW3hdID0gdDtcblxuICAgICAgLy8gQ29tcHV0ZSBpbnYgc3ViIGJ5dGVzLCBpbnYgbWl4IGNvbHVtbnMgdGFibGVzXG4gICAgICB0ID0geDggKiAweDEwMTAxMDEgXiB4NCAqIDB4MTAwMDEgXiB4MiAqIDB4MTAxIF4geCAqIDB4MTAxMDEwMDtcbiAgICAgIGludlN1Yk1peDBbc3hdID0gdCA8PCAyNCB8IHQgPj4+IDg7XG4gICAgICBpbnZTdWJNaXgxW3N4XSA9IHQgPDwgMTYgfCB0ID4+PiAxNjtcbiAgICAgIGludlN1Yk1peDJbc3hdID0gdCA8PCA4IHwgdCA+Pj4gMjQ7XG4gICAgICBpbnZTdWJNaXgzW3N4XSA9IHQ7XG5cbiAgICAgIC8vIENvbXB1dGUgbmV4dCBjb3VudGVyXG4gICAgICBpZiAoIXgpIHtcbiAgICAgICAgeCA9IHhpID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV07XG4gICAgICAgIHhpIF49IGRbZFt4aV1dO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmV4cGFuZEtleSA9IGZ1bmN0aW9uIGV4cGFuZEtleShrZXlCdWZmZXIpIHtcbiAgICAvLyBjb252ZXJ0IGtleUJ1ZmZlciB0byBVaW50MzJBcnJheVxuICAgIHZhciBrZXkgPSB0aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhrZXlCdWZmZXIpO1xuICAgIHZhciBzYW1lS2V5ID0gdHJ1ZTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgIHdoaWxlIChvZmZzZXQgPCBrZXkubGVuZ3RoICYmIHNhbWVLZXkpIHtcbiAgICAgIHNhbWVLZXkgPSBrZXlbb2Zmc2V0XSA9PT0gdGhpcy5rZXlbb2Zmc2V0XTtcbiAgICAgIG9mZnNldCsrO1xuICAgIH1cblxuICAgIGlmIChzYW1lS2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdmFyIGtleVNpemUgPSB0aGlzLmtleVNpemUgPSBrZXkubGVuZ3RoO1xuXG4gICAgaWYgKGtleVNpemUgIT09IDQgJiYga2V5U2l6ZSAhPT0gNiAmJiBrZXlTaXplICE9PSA4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWVzIGtleSBzaXplPScgKyBrZXlTaXplKTtcbiAgICB9XG5cbiAgICB2YXIga3NSb3dzID0gdGhpcy5rc1Jvd3MgPSAoa2V5U2l6ZSArIDYgKyAxKSAqIDQ7XG4gICAgdmFyIGtzUm93ID0gdm9pZCAwO1xuICAgIHZhciBpbnZLc1JvdyA9IHZvaWQgMDtcblxuICAgIHZhciBrZXlTY2hlZHVsZSA9IHRoaXMua2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKTtcbiAgICB2YXIgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlID0gbmV3IFVpbnQzMkFycmF5KGtzUm93cyk7XG4gICAgdmFyIHNib3ggPSB0aGlzLnNCb3g7XG4gICAgdmFyIHJjb24gPSB0aGlzLnJjb247XG5cbiAgICB2YXIgaW52U3ViTWl4ID0gdGhpcy5pbnZTdWJNaXg7XG4gICAgdmFyIGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgdmFyIGludlN1Yk1peDIgPSBpbnZTdWJNaXhbMl07XG4gICAgdmFyIGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICB2YXIgcHJldiA9IHZvaWQgMDtcbiAgICB2YXIgdCA9IHZvaWQgMDtcblxuICAgIGZvciAoa3NSb3cgPSAwOyBrc1JvdyA8IGtzUm93czsga3NSb3crKykge1xuICAgICAgaWYgKGtzUm93IDwga2V5U2l6ZSkge1xuICAgICAgICBwcmV2ID0ga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5W2tzUm93XTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ID0gcHJldjtcblxuICAgICAgaWYgKGtzUm93ICUga2V5U2l6ZSA9PT0gMCkge1xuICAgICAgICAvLyBSb3Qgd29yZFxuICAgICAgICB0ID0gdCA8PCA4IHwgdCA+Pj4gMjQ7XG5cbiAgICAgICAgLy8gU3ViIHdvcmRcbiAgICAgICAgdCA9IHNib3hbdCA+Pj4gMjRdIDw8IDI0IHwgc2JveFt0ID4+PiAxNiAmIDB4ZmZdIDw8IDE2IHwgc2JveFt0ID4+PiA4ICYgMHhmZl0gPDwgOCB8IHNib3hbdCAmIDB4ZmZdO1xuXG4gICAgICAgIC8vIE1peCBSY29uXG4gICAgICAgIHQgXj0gcmNvbltrc1JvdyAvIGtleVNpemUgfCAwXSA8PCAyNDtcbiAgICAgIH0gZWxzZSBpZiAoa2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0KSB7XG4gICAgICAgIC8vIFN1YiB3b3JkXG4gICAgICAgIHQgPSBzYm94W3QgPj4+IDI0XSA8PCAyNCB8IHNib3hbdCA+Pj4gMTYgJiAweGZmXSA8PCAxNiB8IHNib3hbdCA+Pj4gOCAmIDB4ZmZdIDw8IDggfCBzYm94W3QgJiAweGZmXTtcbiAgICAgIH1cblxuICAgICAga2V5U2NoZWR1bGVba3NSb3ddID0gcHJldiA9IChrZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdCkgPj4+IDA7XG4gICAgfVxuXG4gICAgZm9yIChpbnZLc1JvdyA9IDA7IGludktzUm93IDwga3NSb3dzOyBpbnZLc1JvdysrKSB7XG4gICAgICBrc1JvdyA9IGtzUm93cyAtIGludktzUm93O1xuICAgICAgaWYgKGludktzUm93ICYgMykge1xuICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gNF07XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnZLc1JvdyA8IDQgfHwga3NSb3cgPD0gNCkge1xuICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXiBpbnZTdWJNaXgxW3Nib3hbdCA+Pj4gMTYgJiAweGZmXV0gXiBpbnZTdWJNaXgyW3Nib3hbdCA+Pj4gOCAmIDB4ZmZdXSBeIGludlN1Yk1peDNbc2JveFt0ICYgMHhmZl1dO1xuICAgICAgfVxuXG4gICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPj4+IDA7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFkZGluZyB0aGlzIGFzIGEgbWV0aG9kIGdyZWF0bHkgaW1wcm92ZXMgcGVyZm9ybWFuY2UuXG5cblxuICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAgPSBmdW5jdGlvbiBuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHdvcmQpIHtcbiAgICByZXR1cm4gd29yZCA8PCAyNCB8ICh3b3JkICYgMHhmZjAwKSA8PCA4IHwgKHdvcmQgJiAweGZmMDAwMCkgPj4gOCB8IHdvcmQgPj4+IDI0O1xuICB9O1xuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uIGRlY3J5cHQoaW5wdXRBcnJheUJ1ZmZlciwgb2Zmc2V0LCBhZXNJVikge1xuICAgIHZhciBuUm91bmRzID0gdGhpcy5rZXlTaXplICsgNjtcbiAgICB2YXIgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlO1xuICAgIHZhciBpbnZTQk9YID0gdGhpcy5pbnZTQm94O1xuXG4gICAgdmFyIGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgIHZhciBpbnZTdWJNaXgwID0gaW52U3ViTWl4WzBdO1xuICAgIHZhciBpbnZTdWJNaXgxID0gaW52U3ViTWl4WzFdO1xuICAgIHZhciBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgIHZhciBpbnZTdWJNaXgzID0gaW52U3ViTWl4WzNdO1xuXG4gICAgdmFyIGluaXRWZWN0b3IgPSB0aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhhZXNJVik7XG4gICAgdmFyIGluaXRWZWN0b3IwID0gaW5pdFZlY3RvclswXTtcbiAgICB2YXIgaW5pdFZlY3RvcjEgPSBpbml0VmVjdG9yWzFdO1xuICAgIHZhciBpbml0VmVjdG9yMiA9IGluaXRWZWN0b3JbMl07XG4gICAgdmFyIGluaXRWZWN0b3IzID0gaW5pdFZlY3RvclszXTtcblxuICAgIHZhciBpbnB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRBcnJheUJ1ZmZlcik7XG4gICAgdmFyIG91dHB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRJbnQzMi5sZW5ndGgpO1xuXG4gICAgdmFyIHQwID0gdm9pZCAwLFxuICAgICAgICB0MSA9IHZvaWQgMCxcbiAgICAgICAgdDIgPSB2b2lkIDAsXG4gICAgICAgIHQzID0gdm9pZCAwO1xuICAgIHZhciBzMCA9IHZvaWQgMCxcbiAgICAgICAgczEgPSB2b2lkIDAsXG4gICAgICAgIHMyID0gdm9pZCAwLFxuICAgICAgICBzMyA9IHZvaWQgMDtcbiAgICB2YXIgaW5wdXRXb3JkczAgPSB2b2lkIDAsXG4gICAgICAgIGlucHV0V29yZHMxID0gdm9pZCAwLFxuICAgICAgICBpbnB1dFdvcmRzMiA9IHZvaWQgMCxcbiAgICAgICAgaW5wdXRXb3JkczMgPSB2b2lkIDA7XG5cbiAgICB2YXIga3NSb3csIGk7XG4gICAgdmFyIHN3YXBXb3JkID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGlucHV0SW50MzIubGVuZ3RoKSB7XG4gICAgICBpbnB1dFdvcmRzMCA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0XSk7XG4gICAgICBpbnB1dFdvcmRzMSA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMV0pO1xuICAgICAgaW5wdXRXb3JkczIgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDJdKTtcbiAgICAgIGlucHV0V29yZHMzID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAzXSk7XG5cbiAgICAgIHMwID0gaW5wdXRXb3JkczAgXiBpbnZLZXlTY2hlZHVsZVswXTtcbiAgICAgIHMxID0gaW5wdXRXb3JkczMgXiBpbnZLZXlTY2hlZHVsZVsxXTtcbiAgICAgIHMyID0gaW5wdXRXb3JkczIgXiBpbnZLZXlTY2hlZHVsZVsyXTtcbiAgICAgIHMzID0gaW5wdXRXb3JkczEgXiBpbnZLZXlTY2hlZHVsZVszXTtcblxuICAgICAga3NSb3cgPSA0O1xuXG4gICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHJvdW5kcyBvZiBkZWNyeXB0aW9uXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgblJvdW5kczsgaSsrKSB7XG4gICAgICAgIHQwID0gaW52U3ViTWl4MFtzMCA+Pj4gMjRdIF4gaW52U3ViTWl4MVtzMSA+PiAxNiAmIDB4ZmZdIF4gaW52U3ViTWl4MltzMiA+PiA4ICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MzICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICAgIHQxID0gaW52U3ViTWl4MFtzMSA+Pj4gMjRdIF4gaW52U3ViTWl4MVtzMiA+PiAxNiAmIDB4ZmZdIF4gaW52U3ViTWl4MltzMyA+PiA4ICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MwICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICB0MiA9IGludlN1Yk1peDBbczIgPj4+IDI0XSBeIGludlN1Yk1peDFbczMgPj4gMTYgJiAweGZmXSBeIGludlN1Yk1peDJbczAgPj4gOCAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMSAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgICAgdDMgPSBpbnZTdWJNaXgwW3MzID4+PiAyNF0gXiBpbnZTdWJNaXgxW3MwID4+IDE2ICYgMHhmZl0gXiBpbnZTdWJNaXgyW3MxID4+IDggJiAweGZmXSBeIGludlN1Yk1peDNbczIgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgM107XG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxuICAgICAgICBzMCA9IHQwO1xuICAgICAgICBzMSA9IHQxO1xuICAgICAgICBzMiA9IHQyO1xuICAgICAgICBzMyA9IHQzO1xuXG4gICAgICAgIGtzUm93ID0ga3NSb3cgKyA0O1xuICAgICAgfVxuXG4gICAgICAvLyBTaGlmdCByb3dzLCBzdWIgYnl0ZXMsIGFkZCByb3VuZCBrZXlcbiAgICAgIHQwID0gaW52U0JPWFtzMCA+Pj4gMjRdIDw8IDI0IF4gaW52U0JPWFtzMSA+PiAxNiAmIDB4ZmZdIDw8IDE2IF4gaW52U0JPWFtzMiA+PiA4ICYgMHhmZl0gPDwgOCBeIGludlNCT1hbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgIHQxID0gaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0IF4gaW52U0JPWFtzMiA+PiAxNiAmIDB4ZmZdIDw8IDE2IF4gaW52U0JPWFtzMyA+PiA4ICYgMHhmZl0gPDwgOCBeIGludlNCT1hbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICB0MiA9IGludlNCT1hbczIgPj4+IDI0XSA8PCAyNCBeIGludlNCT1hbczMgPj4gMTYgJiAweGZmXSA8PCAxNiBeIGludlNCT1hbczAgPj4gOCAmIDB4ZmZdIDw8IDggXiBpbnZTQk9YW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgdDMgPSBpbnZTQk9YW3MzID4+PiAyNF0gPDwgMjQgXiBpbnZTQk9YW3MwID4+IDE2ICYgMHhmZl0gPDwgMTYgXiBpbnZTQk9YW3MxID4+IDggJiAweGZmXSA8PCA4IF4gaW52U0JPWFtzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgIGtzUm93ID0ga3NSb3cgKyAzO1xuXG4gICAgICAvLyBXcml0ZVxuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0XSA9IHN3YXBXb3JkKHQwIF4gaW5pdFZlY3RvcjApO1xuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMV0gPSBzd2FwV29yZCh0MyBeIGluaXRWZWN0b3IxKTtcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDJdID0gc3dhcFdvcmQodDIgXiBpbml0VmVjdG9yMik7XG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAzXSA9IHN3YXBXb3JkKHQxIF4gaW5pdFZlY3RvcjMpO1xuXG4gICAgICAvLyByZXNldCBpbml0VmVjdG9yIHRvIGxhc3QgNCB1bnNpZ25lZCBpbnRcbiAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XG4gICAgICBpbml0VmVjdG9yMSA9IGlucHV0V29yZHMxO1xuICAgICAgaW5pdFZlY3RvcjIgPSBpbnB1dFdvcmRzMjtcbiAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XG5cbiAgICAgIG9mZnNldCA9IG9mZnNldCArIDQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dEludDMyLmJ1ZmZlcjtcbiAgfTtcblxuICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMua2V5ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMua2V5U2l6ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmtzUm93cyA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuc0JveCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmludlNCb3ggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zdWJNaXggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnZTdWJNaXggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5rZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmludktleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5yY29uID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHJldHVybiBBRVNEZWNyeXB0b3I7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGFlc19kZWNyeXB0b3IgPSAoQUVTRGVjcnlwdG9yKTtcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXG52YXIgbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY3J5cHQvZGVjcnlwdGVyLmpzXG5mdW5jdGlvbiBkZWNyeXB0ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxuXG5cblxuXG4vKmdsb2JhbHMgc2VsZjogZmFsc2UgKi9cblxudmFyIGRlY3J5cHRlcl9EZWNyeXB0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERlY3J5cHRlcihvYnNlcnZlciwgY29uZmlnKSB7XG4gICAgZGVjcnlwdGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWNyeXB0ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBicm93c2VyQ3J5cHRvID0gY3J5cHRvID8gY3J5cHRvIDogc2VsZi5jcnlwdG87XG4gICAgICB0aGlzLnN1YnRsZSA9IGJyb3dzZXJDcnlwdG8uc3VidGxlIHx8IGJyb3dzZXJDcnlwdG8ud2Via2l0U3VidGxlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gIXRoaXMuc3VidGxlO1xuICB9XG5cbiAgRGVjcnlwdGVyLnByb3RvdHlwZS5pc1N5bmMgPSBmdW5jdGlvbiBpc1N5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzYWJsZVdlYkNyeXB0byAmJiB0aGlzLmNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUztcbiAgfTtcblxuICBEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiBkZWNyeXB0KGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh0aGlzLmRpc2FibGVXZWJDcnlwdG8gJiYgdGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVMpIHtcbiAgICAgIGlmICh0aGlzLmxvZ0VuYWJsZWQpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdKUyBBRVMgZGVjcnlwdCcpO1xuICAgICAgICB0aGlzLmxvZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWNyeXB0b3IgPSB0aGlzLmRlY3J5cHRvcjtcbiAgICAgIGlmICghZGVjcnlwdG9yKSB7XG4gICAgICAgIHRoaXMuZGVjcnlwdG9yID0gZGVjcnlwdG9yID0gbmV3IGFlc19kZWNyeXB0b3IoKTtcbiAgICAgIH1cbiAgICAgIGRlY3J5cHRvci5leHBhbmRLZXkoa2V5KTtcbiAgICAgIGNhbGxiYWNrKGRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmxvZ0VuYWJsZWQpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdXZWJDcnlwdG8gQUVTIGRlY3J5cHQnKTtcbiAgICAgICAgdGhpcy5sb2dFbmFibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgc3VidGxlID0gdGhpcy5zdWJ0bGU7XG4gICAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYXN0QWVzS2V5ID0gbmV3IGZhc3RfYWVzX2tleShzdWJ0bGUsIGtleSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmFzdEFlc0tleS5leHBhbmRLZXkoKS50aGVuKGZ1bmN0aW9uIChhZXNLZXkpIHtcbiAgICAgICAgLy8gZGVjcnlwdCB1c2luZyB3ZWIgY3J5cHRvXG4gICAgICAgIHZhciBjcnlwdG8gPSBuZXcgYWVzX2NyeXB0byhzdWJ0bGUsIGl2KTtcbiAgICAgICAgY3J5cHRvLmRlY3J5cHQoZGF0YSwgYWVzS2V5KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgX3RoaXMub25XZWJDcnlwdG9FcnJvcihlcnIsIGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgRGVjcnlwdGVyLnByb3RvdHlwZS5vbldlYkNyeXB0b0Vycm9yID0gZnVuY3Rpb24gb25XZWJDcnlwdG9FcnJvcihlcnIsIGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1dlYkNyeXB0byBFcnJvciwgZGlzYWJsZSBXZWJDcnlwdG8gQVBJJyk7XG4gICAgICB0aGlzLmRpc2FibGVXZWJDcnlwdG8gPSB0cnVlO1xuICAgICAgdGhpcy5sb2dFbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGVjcnlwdChkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdkZWNyeXB0aW5nIGVycm9yIDogJyArIGVyci5tZXNzYWdlKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihFdmVudC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfREVDUllQVF9FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogZXJyLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9O1xuXG4gIERlY3J5cHRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xuICAgIGlmIChkZWNyeXB0b3IpIHtcbiAgICAgIGRlY3J5cHRvci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlY3J5cHRvciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIERlY3J5cHRlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY3J5cHRfZGVjcnlwdGVyID0gKGRlY3J5cHRlcl9EZWNyeXB0ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvYWR0cy5qc1xuLyoqXG4gKiAgQURUUyBwYXJzZXIgaGVscGVyXG4gKi9cblxuXG5cbmZ1bmN0aW9uIGdldEF1ZGlvQ29uZmlnKG9ic2VydmVyLCBkYXRhLCBvZmZzZXQsIGF1ZGlvQ29kZWMpIHtcbiAgdmFyIGFkdHNPYmplY3RUeXBlLFxuICAgICAgLy8gOmludFxuICBhZHRzU2FtcGxlaW5nSW5kZXgsXG4gICAgICAvLyA6aW50XG4gIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCxcbiAgICAgIC8vIDppbnRcbiAgYWR0c0NoYW5lbENvbmZpZyxcbiAgICAgIC8vIDppbnRcbiAgY29uZmlnLFxuICAgICAgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxuICAgICAgbWFuaWZlc3RDb2RlYyA9IGF1ZGlvQ29kZWMsXG4gICAgICBhZHRzU2FtcGxlaW5nUmF0ZXMgPSBbOTYwMDAsIDg4MjAwLCA2NDAwMCwgNDgwMDAsIDQ0MTAwLCAzMjAwMCwgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXTtcbiAgLy8gYnl0ZSAyXG4gIGFkdHNPYmplY3RUeXBlID0gKChkYXRhW29mZnNldCArIDJdICYgMHhDMCkgPj4+IDYpICsgMTtcbiAgYWR0c1NhbXBsZWluZ0luZGV4ID0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDNDKSA+Pj4gMjtcbiAgaWYgKGFkdHNTYW1wbGVpbmdJbmRleCA+IGFkdHNTYW1wbGVpbmdSYXRlcy5sZW5ndGggLSAxKSB7XG4gICAgb2JzZXJ2ZXIudHJpZ2dlcihFdmVudC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogJ2ludmFsaWQgQURUUyBzYW1wbGluZyBpbmRleDonICsgYWR0c1NhbXBsZWluZ0luZGV4IH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBhZHRzQ2hhbmVsQ29uZmlnID0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDAxKSA8PCAyO1xuICAvLyBieXRlIDNcbiAgYWR0c0NoYW5lbENvbmZpZyB8PSAoZGF0YVtvZmZzZXQgKyAzXSAmIDB4QzApID4+PiA2O1xuICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21hbmlmZXN0IGNvZGVjOicgKyBhdWRpb0NvZGVjICsgJyxBRFRTIGRhdGE6dHlwZTonICsgYWR0c09iamVjdFR5cGUgKyAnLHNhbXBsZWluZ0luZGV4OicgKyBhZHRzU2FtcGxlaW5nSW5kZXggKyAnWycgKyBhZHRzU2FtcGxlaW5nUmF0ZXNbYWR0c1NhbXBsZWluZ0luZGV4XSArICdIel0sY2hhbm5lbENvbmZpZzonICsgYWR0c0NoYW5lbENvbmZpZyk7XG4gIC8vIGZpcmVmb3g6IGZyZXEgbGVzcyB0aGFuIDI0a0h6ID0gQUFDIFNCUiAoSEUtQUFDKVxuICBpZiAoL2ZpcmVmb3gvaS50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICBpZiAoYWR0c1NhbXBsZWluZ0luZGV4ID49IDYpIHtcbiAgICAgIGFkdHNPYmplY3RUeXBlID0gNTtcbiAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAgIC8vIEhFLUFBQyB1c2VzIFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbikgLCBoaWdoIGZyZXF1ZW5jaWVzIGFyZSBjb25zdHJ1Y3RlZCBmcm9tIGxvdyBmcmVxdWVuY2llc1xuICAgICAgLy8gdGhlcmUgaXMgYSBmYWN0b3IgMiBiZXR3ZWVuIGZyYW1lIHNhbXBsZSByYXRlIGFuZCBvdXRwdXQgc2FtcGxlIHJhdGVcbiAgICAgIC8vIG11bHRpcGx5IGZyZXF1ZW5jeSBieSAyIChzZWUgdGFibGUgYmVsb3csIGVxdWl2YWxlbnQgdG8gc3Vic3RyYWN0IDMpXG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXggLSAzO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgfVxuICAgIC8vIEFuZHJvaWQgOiBhbHdheXMgdXNlIEFBQ1xuICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgYWR0c09iamVjdFR5cGUgPSAyO1xuICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgLyogIGZvciBvdGhlciBicm93c2VycyAoQ2hyb21lL1ZpdmFsZGkvT3BlcmEgLi4uKVxuICAgICAgICBhbHdheXMgZm9yY2UgYXVkaW8gdHlwZSB0byBiZSBIRS1BQUMgU0JSLCBhcyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IGF1ZGlvIGNvZGVjIHN3aXRjaCBwcm9wZXJseSAobGlrZSBDaHJvbWUgLi4uKVxuICAgICovXG4gICAgYWR0c09iamVjdFR5cGUgPSA1O1xuICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAvLyBpZiAobWFuaWZlc3QgY29kZWMgaXMgSEUtQUFDIG9yIEhFLUFBQ3YyKSBPUiAobWFuaWZlc3QgY29kZWMgbm90IHNwZWNpZmllZCBBTkQgZnJlcXVlbmN5IGxlc3MgdGhhbiAyNGtIeilcbiAgICBpZiAoYXVkaW9Db2RlYyAmJiAoYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjI5JykgIT09IC0xIHx8IGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB8fCAhYXVkaW9Db2RlYyAmJiBhZHRzU2FtcGxlaW5nSW5kZXggPj0gNikge1xuICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIChtYW5pZmVzdCBjb2RlYyBpcyBBQUMpIEFORCAoZnJlcXVlbmN5IGxlc3MgdGhhbiAyNGtIeiBBTkQgbmIgY2hhbm5lbCBpcyAxKSBPUiAobWFuaWZlc3QgY29kZWMgbm90IHNwZWNpZmllZCBhbmQgbW9ubyBhdWRpbylcbiAgICAgIC8vIENocm9tZSBmYWlscyB0byBwbGF5IGJhY2sgd2l0aCBsb3cgZnJlcXVlbmN5IEFBQyBMQyBtb25vIHdoZW4gaW5pdGlhbGl6ZWQgd2l0aCBIRS1BQUMuICBUaGlzIGlzIG5vdCBhIHByb2JsZW0gd2l0aCBzdGVyZW8uXG4gICAgICBpZiAoYXVkaW9Db2RlYyAmJiBhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuMicpICE9PSAtMSAmJiAoYWR0c1NhbXBsZWluZ0luZGV4ID49IDYgJiYgYWR0c0NoYW5lbENvbmZpZyA9PT0gMSB8fCAvdml2YWxkaS9pLnRlc3QodXNlckFnZW50KSkgfHwgIWF1ZGlvQ29kZWMgJiYgYWR0c0NoYW5lbENvbmZpZyA9PT0gMSkge1xuICAgICAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgIH1cbiAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleDtcbiAgICB9XG4gIH1cbiAgLyogcmVmZXIgdG8gaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9TVBFRy00X0F1ZGlvI0F1ZGlvX1NwZWNpZmljX0NvbmZpZ1xuICAgICAgSVNPIDE0NDk2LTMgKEFBQykucGRmIC0gVGFibGUgMS4xMyDigJQgU3ludGF4IG9mIEF1ZGlvU3BlY2lmaWNDb25maWcoKVxuICAgIEF1ZGlvIFByb2ZpbGUgLyBBdWRpbyBPYmplY3QgVHlwZVxuICAgIDA6IE51bGxcbiAgICAxOiBBQUMgTWFpblxuICAgIDI6IEFBQyBMQyAoTG93IENvbXBsZXhpdHkpXG4gICAgMzogQUFDIFNTUiAoU2NhbGFibGUgU2FtcGxlIFJhdGUpXG4gICAgNDogQUFDIExUUCAoTG9uZyBUZXJtIFByZWRpY3Rpb24pXG4gICAgNTogU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKVxuICAgIDY6IEFBQyBTY2FsYWJsZVxuICAgc2FtcGxpbmcgZnJlcVxuICAgIDA6IDk2MDAwIEh6XG4gICAgMTogODgyMDAgSHpcbiAgICAyOiA2NDAwMCBIelxuICAgIDM6IDQ4MDAwIEh6XG4gICAgNDogNDQxMDAgSHpcbiAgICA1OiAzMjAwMCBIelxuICAgIDY6IDI0MDAwIEh6XG4gICAgNzogMjIwNTAgSHpcbiAgICA4OiAxNjAwMCBIelxuICAgIDk6IDEyMDAwIEh6XG4gICAgMTA6IDExMDI1IEh6XG4gICAgMTE6IDgwMDAgSHpcbiAgICAxMjogNzM1MCBIelxuICAgIDEzOiBSZXNlcnZlZFxuICAgIDE0OiBSZXNlcnZlZFxuICAgIDE1OiBmcmVxdWVuY3kgaXMgd3JpdHRlbiBleHBsaWN0bHlcbiAgICBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgVGhlc2UgYXJlIHRoZSBjaGFubmVsIGNvbmZpZ3VyYXRpb25zOlxuICAgIDA6IERlZmluZWQgaW4gQU9UIFNwZWNpZmMgQ29uZmlnXG4gICAgMTogMSBjaGFubmVsOiBmcm9udC1jZW50ZXJcbiAgICAyOiAyIGNoYW5uZWxzOiBmcm9udC1sZWZ0LCBmcm9udC1yaWdodFxuICAqL1xuICAvLyBhdWRpb09iamVjdFR5cGUgPSBwcm9maWxlID0+IHByb2ZpbGUsIHRoZSBNUEVHLTQgQXVkaW8gT2JqZWN0IFR5cGUgbWludXMgMVxuICBjb25maWdbMF0gPSBhZHRzT2JqZWN0VHlwZSA8PCAzO1xuICAvLyBzYW1wbGluZ0ZyZXF1ZW5jeUluZGV4XG4gIGNvbmZpZ1swXSB8PSAoYWR0c1NhbXBsZWluZ0luZGV4ICYgMHgwRSkgPj4gMTtcbiAgY29uZmlnWzFdIHw9IChhZHRzU2FtcGxlaW5nSW5kZXggJiAweDAxKSA8PCA3O1xuICAvLyBjaGFubmVsQ29uZmlndXJhdGlvblxuICBjb25maWdbMV0gfD0gYWR0c0NoYW5lbENvbmZpZyA8PCAzO1xuICBpZiAoYWR0c09iamVjdFR5cGUgPT09IDUpIHtcbiAgICAvLyBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXhcbiAgICBjb25maWdbMV0gfD0gKGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCAmIDB4MEUpID4+IDE7XG4gICAgY29uZmlnWzJdID0gKGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gICAgLy8gYWR0c09iamVjdFR5cGUgKGZvcmNlIHRvIDIsIGNocm9tZSBpcyBjaGVja2luZyB0aGF0IG9iamVjdCB0eXBlIGlzIGxlc3MgdGhhbiA1ID8/P1xuICAgIC8vICAgIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9jaHJvbWl1bS9zcmMuZ2l0LysvbWFzdGVyL21lZGlhL2Zvcm1hdHMvbXA0L2FhYy5jY1xuICAgIGNvbmZpZ1syXSB8PSAyIDw8IDI7XG4gICAgY29uZmlnWzNdID0gMDtcbiAgfVxuICByZXR1cm4geyBjb25maWc6IGNvbmZpZywgc2FtcGxlcmF0ZTogYWR0c1NhbXBsZWluZ1JhdGVzW2FkdHNTYW1wbGVpbmdJbmRleF0sIGNoYW5uZWxDb3VudDogYWR0c0NoYW5lbENvbmZpZywgY29kZWM6ICdtcDRhLjQwLicgKyBhZHRzT2JqZWN0VHlwZSwgbWFuaWZlc3RDb2RlYzogbWFuaWZlc3RDb2RlYyB9O1xufVxuXG5mdW5jdGlvbiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSB7XG4gIHJldHVybiBkYXRhW29mZnNldF0gPT09IDB4ZmYgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweGY2KSA9PT0gMHhmMDtcbn1cblxuZnVuY3Rpb24gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCkge1xuICByZXR1cm4gISEoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDEpID8gNyA6IDk7XG59XG5cbmZ1bmN0aW9uIGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpIHtcbiAgcmV0dXJuIChkYXRhW29mZnNldCArIDNdICYgMHgwMykgPDwgMTEgfCBkYXRhW29mZnNldCArIDRdIDw8IDMgfCAoZGF0YVtvZmZzZXQgKyA1XSAmIDB4RTApID4+PiA1O1xufVxuXG5mdW5jdGlvbiBpc0hlYWRlcihkYXRhLCBvZmZzZXQpIHtcbiAgLy8gTG9vayBmb3IgQURUUyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTExIFgwMFggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxXG4gIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAvLyBNb3JlIGluZm8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgaWYgKG9mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWR0c19wcm9iZShkYXRhLCBvZmZzZXQpIHtcbiAgLy8gc2FtZSBhcyBpc0hlYWRlciBidXQgd2UgYWxzbyBjaGVjayB0aGF0IEFEVFMgZnJhbWUgZm9sbG93cyBsYXN0IEFEVFMgZnJhbWVcbiAgLy8gb3IgZW5kIG9mIGRhdGEgaXMgcmVhY2hlZFxuICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpKSB7XG4gICAgLy8gQURUUyBoZWFkZXIgTGVuZ3RoXG4gICAgdmFyIGhlYWRlckxlbmd0aCA9IGdldEhlYWRlckxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICAgIC8vIEFEVFMgZnJhbWUgTGVuZ3RoXG4gICAgdmFyIGZyYW1lTGVuZ3RoID0gaGVhZGVyTGVuZ3RoO1xuICAgIGlmIChvZmZzZXQgKyA1IDwgZGF0YS5sZW5ndGgpIHtcbiAgICAgIGZyYW1lTGVuZ3RoID0gZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgfVxuICAgIHZhciBuZXdPZmZzZXQgPSBvZmZzZXQgKyBmcmFtZUxlbmd0aDtcbiAgICBpZiAobmV3T2Zmc2V0ID09PSBkYXRhLmxlbmd0aCB8fCBuZXdPZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG5ld09mZnNldCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGluaXRUcmFja0NvbmZpZyh0cmFjaywgb2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYykge1xuICBpZiAoIXRyYWNrLnNhbXBsZXJhdGUpIHtcbiAgICB2YXIgY29uZmlnID0gZ2V0QXVkaW9Db25maWcob2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYyk7XG4gICAgdHJhY2suY29uZmlnID0gY29uZmlnLmNvbmZpZztcbiAgICB0cmFjay5zYW1wbGVyYXRlID0gY29uZmlnLnNhbXBsZXJhdGU7XG4gICAgdHJhY2suY2hhbm5lbENvdW50ID0gY29uZmlnLmNoYW5uZWxDb3VudDtcbiAgICB0cmFjay5jb2RlYyA9IGNvbmZpZy5jb2RlYztcbiAgICB0cmFjay5tYW5pZmVzdENvZGVjID0gY29uZmlnLm1hbmlmZXN0Q29kZWM7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdwYXJzZWQgY29kZWM6JyArIHRyYWNrLmNvZGVjICsgJyxyYXRlOicgKyBjb25maWcuc2FtcGxlcmF0ZSArICcsbmIgY2hhbm5lbDonICsgY29uZmlnLmNoYW5uZWxDb3VudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RnJhbWVEdXJhdGlvbihzYW1wbGVyYXRlKSB7XG4gIHJldHVybiAxMDI0ICogOTAwMDAgLyBzYW1wbGVyYXRlO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZyYW1lSGVhZGVyKGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4LCBmcmFtZUR1cmF0aW9uKSB7XG4gIHZhciBoZWFkZXJMZW5ndGgsIGZyYW1lTGVuZ3RoLCBzdGFtcDtcbiAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFRoZSBwcm90ZWN0aW9uIHNraXAgYml0IHRlbGxzIHVzIGlmIHdlIGhhdmUgMiBieXRlcyBvZiBDUkMgZGF0YSBhdCB0aGUgZW5kIG9mIHRoZSBBRFRTIGhlYWRlclxuICBoZWFkZXJMZW5ndGggPSBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgLy8gcmV0cmlldmUgZnJhbWUgc2l6ZVxuICBmcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICBmcmFtZUxlbmd0aCAtPSBoZWFkZXJMZW5ndGg7XG5cbiAgaWYgKGZyYW1lTGVuZ3RoID4gMCAmJiBvZmZzZXQgKyBoZWFkZXJMZW5ndGggKyBmcmFtZUxlbmd0aCA8PSBsZW5ndGgpIHtcbiAgICBzdGFtcCA9IHB0cyArIGZyYW1lSW5kZXggKiBmcmFtZUR1cmF0aW9uO1xuICAgIC8vbG9nZ2VyLmxvZyhgQUFDIGZyYW1lLCBvZmZzZXQvbGVuZ3RoL3RvdGFsL3B0czoke29mZnNldCtoZWFkZXJMZW5ndGh9LyR7ZnJhbWVMZW5ndGh9LyR7ZGF0YS5ieXRlTGVuZ3RofS8keyhzdGFtcC85MCkudG9GaXhlZCgwKX1gKTtcbiAgICByZXR1cm4geyBoZWFkZXJMZW5ndGg6IGhlYWRlckxlbmd0aCwgZnJhbWVMZW5ndGg6IGZyYW1lTGVuZ3RoLCBzdGFtcDogc3RhbXAgfTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCkge1xuICB2YXIgZnJhbWVEdXJhdGlvbiA9IGdldEZyYW1lRHVyYXRpb24odHJhY2suc2FtcGxlcmF0ZSk7XG4gIHZhciBoZWFkZXIgPSBwYXJzZUZyYW1lSGVhZGVyKGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4LCBmcmFtZUR1cmF0aW9uKTtcbiAgaWYgKGhlYWRlcikge1xuICAgIHZhciBzdGFtcCA9IGhlYWRlci5zdGFtcDtcbiAgICB2YXIgaGVhZGVyTGVuZ3RoID0gaGVhZGVyLmhlYWRlckxlbmd0aDtcbiAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG5cbiAgICAvL2xvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgdmFyIGFhY1NhbXBsZSA9IHtcbiAgICAgIHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0ICsgaGVhZGVyTGVuZ3RoLCBvZmZzZXQgKyBoZWFkZXJMZW5ndGggKyBmcmFtZUxlbmd0aCksXG4gICAgICBwdHM6IHN0YW1wLFxuICAgICAgZHRzOiBzdGFtcFxuICAgIH07XG5cbiAgICB0cmFjay5zYW1wbGVzLnB1c2goYWFjU2FtcGxlKTtcbiAgICB0cmFjay5sZW4gKz0gZnJhbWVMZW5ndGg7XG5cbiAgICByZXR1cm4geyBzYW1wbGU6IGFhY1NhbXBsZSwgbGVuZ3RoOiBmcmFtZUxlbmd0aCArIGhlYWRlckxlbmd0aCB9O1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZGVtdXgvaWQzLmpzXG52YXIgaWQzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvYWFjZGVtdXhlci5qc1xuZnVuY3Rpb24gYWFjZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEFBQyBkZW11eGVyXG4gKi9cblxuXG5cblxudmFyIGFhY2RlbXV4ZXJfQUFDRGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQUFDRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnKSB7XG4gICAgYWFjZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQUFDRGVtdXhlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgfVxuXG4gIEFBQ0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL2FkdHMnLCB0eXBlOiAnYXVkaW8nLCBpZDogMCwgc2VxdWVuY2VOdW1iZXI6IDAsIGlzQUFDOiB0cnVlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICB9O1xuXG4gIEFBQ0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gcmVzZXRUaW1lU3RhbXAoKSB7fTtcblxuICBBQUNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gcHJvYmUoZGF0YSkge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaGVjayBmb3IgdGhlIEFEVFMgc3luYyB3b3JkXG4gICAgLy8gTG9vayBmb3IgQURUUyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTExIFgwMFggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxXG4gICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyAwIGZvciBBRFRTXG4gICAgLy8gTW9yZSBpbmZvIGh0dHBzOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocD90aXRsZT1BRFRTXG4gICAgdmFyIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCAwKSB8fCBbXTtcbiAgICB2YXIgb2Zmc2V0ID0gaWQzRGF0YS5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDsgb2Zmc2V0IDwgbGVuZ3RoOyBvZmZzZXQrKykge1xuICAgICAgaWYgKGFkdHNfcHJvYmUoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FEVFMgc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBBQUNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcbiAgICB2YXIgaWQzRGF0YSA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRJRDNEYXRhKGRhdGEsIDApIHx8IFtdO1xuICAgIHZhciB0aW1lc3RhbXAgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0VGltZVN0YW1wKGlkM0RhdGEpO1xuICAgIHZhciBwdHMgPSB0aW1lc3RhbXAgPyA5MCAqIHRpbWVzdGFtcCA6IHRpbWVPZmZzZXQgKiA5MDAwMDtcbiAgICB2YXIgZnJhbWVJbmRleCA9IDA7XG4gICAgdmFyIHN0YW1wID0gcHRzO1xuICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgb2Zmc2V0ID0gaWQzRGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgaWQzU2FtcGxlcyA9IFt7IHB0czogc3RhbXAsIGR0czogc3RhbXAsIGRhdGE6IGlkM0RhdGEgfV07XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKGlzSGVhZGVyKGRhdGEsIG9mZnNldCkgJiYgb2Zmc2V0ICsgNSA8IGxlbmd0aCkge1xuICAgICAgICBpbml0VHJhY2tDb25maWcodHJhY2ssIHRoaXMub2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgdHJhY2subWFuaWZlc3RDb2RlYyk7XG4gICAgICAgIHZhciBmcmFtZSA9IGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1VuYWJsZSB0byBwYXJzZSBBQUMgZnJhbWUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgb2Zmc2V0ICs9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW11eGVyLnJlbXV4KHRyYWNrLCB7IHNhbXBsZXM6IFtdIH0sIHsgc2FtcGxlczogaWQzU2FtcGxlcywgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH0sIHsgc2FtcGxlczogW10gfSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgfTtcblxuICBBQUNEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIHJldHVybiBBQUNEZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhYWNkZW11eGVyID0gKGFhY2RlbXV4ZXJfQUFDRGVtdXhlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9tcDRkZW11eGVyLmpzXG5mdW5jdGlvbiBtcDRkZW11eGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogTVA0IGRlbXV4ZXJcbiAqL1xuLy9pbXBvcnQge2xvZ2dlcn0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuXG52YXIgVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG5cbnZhciBtcDRkZW11eGVyX01QNERlbXV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1QNERlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIpIHtcbiAgICBtcDRkZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBNUDREZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICB9XG5cbiAgTVA0RGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcChpbml0UFRTKSB7XG4gICAgdGhpcy5pbml0UFRTID0gaW5pdFBUUztcbiAgfTtcblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gcmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICAvL2pzaGludCB1bnVzZWQ6ZmFsc2VcbiAgICBpZiAoaW5pdFNlZ21lbnQgJiYgaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCkge1xuICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YSA9IE1QNERlbXV4ZXIucGFyc2VJbml0U2VnbWVudChpbml0U2VnbWVudCk7XG4gICAgICB2YXIgdHJhY2tzID0ge307XG4gICAgICBpZiAoaW5pdERhdGEuYXVkaW8gJiYgaW5pdERhdGEudmlkZW8pIHtcbiAgICAgICAgdHJhY2tzLmF1ZGlvdmlkZW8gPSB7IGNvbnRhaW5lcjogJ3ZpZGVvL21wNCcsIGNvZGVjOiBhdWRpb0NvZGVjICsgJywnICsgdmlkZW9Db2RlYywgaW5pdFNlZ21lbnQ6IGR1cmF0aW9uID8gaW5pdFNlZ21lbnQgOiBudWxsIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaW5pdERhdGEuYXVkaW8pIHtcbiAgICAgICAgICB0cmFja3MuYXVkaW8gPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL21wNCcsIGNvZGVjOiBhdWRpb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdERhdGEudmlkZW8pIHtcbiAgICAgICAgICB0cmFja3MudmlkZW8gPSB7IGNvbnRhaW5lcjogJ3ZpZGVvL21wNCcsIGNvZGVjOiB2aWRlb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCB7IHRyYWNrczogdHJhY2tzIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgfVxuICAgICAgaWYgKHZpZGVvQ29kZWMpIHtcbiAgICAgICAgdGhpcy52aWRlb0NvZGVjID0gdmlkZW9Db2RlYztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgTVA0RGVtdXhlci5wcm9iZSA9IGZ1bmN0aW9uIHByb2JlKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGggPj0gOCkge1xuICAgICAgdmFyIGRhdGFUeXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGRhdGEuc3ViYXJyYXkoNCwgOCkpO1xuICAgICAgcmV0dXJuIFsnbW9vZicsICdmdHlwJywgJ3N0eXAnXS5pbmRleE9mKGRhdGFUeXBlKSA+PSAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5iaW4yc3RyID0gZnVuY3Rpb24gYmluMnN0cihidWZmZXIpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBidWZmZXIpO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIucmVhZFVpbnQzMiA9IGZ1bmN0aW9uIHJlYWRVaW50MzIoYnVmZmVyLCBvZmZzZXQpIHtcbiAgICBpZiAoYnVmZmVyLmRhdGEpIHtcbiAgICAgIG9mZnNldCArPSBidWZmZXIuc3RhcnQ7XG4gICAgICBidWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICB9XG5cbiAgICB2YXIgdmFsID0gYnVmZmVyW29mZnNldF0gPDwgMjQgfCBidWZmZXJbb2Zmc2V0ICsgMV0gPDwgMTYgfCBidWZmZXJbb2Zmc2V0ICsgMl0gPDwgOCB8IGJ1ZmZlcltvZmZzZXQgKyAzXTtcbiAgICByZXR1cm4gdmFsIDwgMCA/IDQyOTQ5NjcyOTYgKyB2YWwgOiB2YWw7XG4gIH07XG5cbiAgTVA0RGVtdXhlci53cml0ZVVpbnQzMiA9IGZ1bmN0aW9uIHdyaXRlVWludDMyKGJ1ZmZlciwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgIGlmIChidWZmZXIuZGF0YSkge1xuICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5zdGFydDtcbiAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5kYXRhO1xuICAgIH1cbiAgICBidWZmZXJbb2Zmc2V0XSA9IHZhbHVlID4+IDI0O1xuICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IHZhbHVlID4+IDE2ICYgMHhmZjtcbiAgICBidWZmZXJbb2Zmc2V0ICsgMl0gPSB2YWx1ZSA+PiA4ICYgMHhmZjtcbiAgICBidWZmZXJbb2Zmc2V0ICsgM10gPSB2YWx1ZSAmIDB4ZmY7XG4gIH07XG5cbiAgLy8gRmluZCB0aGUgZGF0YSBmb3IgYSBib3ggc3BlY2lmaWVkIGJ5IGl0cyBwYXRoXG5cblxuICBNUDREZW11eGVyLmZpbmRCb3ggPSBmdW5jdGlvbiBmaW5kQm94KGRhdGEsIHBhdGgpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdLFxuICAgICAgICBpLFxuICAgICAgICBzaXplLFxuICAgICAgICB0eXBlLFxuICAgICAgICBlbmQsXG4gICAgICAgIHN1YnJlc3VsdHMsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRib3g7XG5cbiAgICBpZiAoZGF0YS5kYXRhKSB7XG4gICAgICBzdGFydCA9IGRhdGEuc3RhcnQ7XG4gICAgICBlbmQgPSBkYXRhLmVuZDtcbiAgICAgIGRhdGEgPSBkYXRhLmRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIGVuZCA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAoIXBhdGgubGVuZ3RoKSB7XG4gICAgICAvLyBzaG9ydC1jaXJjdWl0IHRoZSBzZWFyY2ggZm9yIGVtcHR5IHBhdGhzXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgIHNpemUgPSBNUDREZW11eGVyLnJlYWRVaW50MzIoZGF0YSwgaSk7XG4gICAgICB0eXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGRhdGEuc3ViYXJyYXkoaSArIDQsIGkgKyA4KSk7XG4gICAgICBlbmRib3ggPSBzaXplID4gMSA/IGkgKyBzaXplIDogZW5kO1xuXG4gICAgICBpZiAodHlwZSA9PT0gcGF0aFswXSkge1xuXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIGVuZCBvZiB0aGUgcGF0aCBhbmQgd2UndmUgZm91bmQgdGhlIGJveCB3ZSB3ZXJlXG4gICAgICAgICAgLy8gbG9va2luZyBmb3JcbiAgICAgICAgICByZXN1bHRzLnB1c2goeyBkYXRhOiBkYXRhLCBzdGFydDogaSArIDgsIGVuZDogZW5kYm94IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgYm94IGFsb25nIHRoZSBwYXRoXG4gICAgICAgICAgc3VicmVzdWx0cyA9IE1QNERlbXV4ZXIuZmluZEJveCh7IGRhdGE6IGRhdGEsIHN0YXJ0OiBpICsgOCwgZW5kOiBlbmRib3ggfSwgcGF0aC5zbGljZSgxKSk7XG4gICAgICAgICAgaWYgKHN1YnJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc3VicmVzdWx0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpID0gZW5kYm94O1xuICAgIH1cblxuICAgIC8vIHdlJ3ZlIGZpbmlzaGVkIHNlYXJjaGluZyBhbGwgb2YgZGF0YVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW4gTVA0IGluaXRpYWxpemF0aW9uIHNlZ21lbnQgYW5kIGV4dHJhY3RzIHN0cmVhbSB0eXBlIGFuZFxuICAgKiB0aW1lc2NhbGUgdmFsdWVzIGZvciBhbnkgZGVjbGFyZWQgdHJhY2tzLiBUaW1lc2NhbGUgdmFsdWVzIGluZGljYXRlIHRoZVxuICAgKiBudW1iZXIgb2YgY2xvY2sgdGlja3MgcGVyIHNlY29uZCB0byBhc3N1bWUgZm9yIHRpbWUtYmFzZWQgdmFsdWVzXG4gICAqIGVsc2V3aGVyZSBpbiB0aGUgTVA0LlxuICAgKlxuICAgKiBUbyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWUgb2YgYW4gTVA0LCB5b3UgbmVlZCB0d28gcGllY2VzIG9mXG4gICAqIGluZm9ybWF0aW9uOiB0aGUgdGltZXNjYWxlIHVuaXQgYW5kIHRoZSBlYXJsaWVzdCBiYXNlIG1lZGlhIGRlY29kZVxuICAgKiB0aW1lLiBNdWx0aXBsZSB0aW1lc2NhbGVzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aGluIGFuIE1QNCBidXQgdGhlXG4gICAqIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiB0aGUgdGltZXNjYWxlIGZyb21cbiAgICogdGhlIG1lZGlhIGhlYWRlciBib3ggZm9yIHRoZSB0cmFjazpcbiAgICogYGBgXG4gICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1kaGQudGltZXNjYWxlXG4gICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IGhkbHJcbiAgICogYGBgXG4gICAqIEBwYXJhbSBpbml0IHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgdGhlIGluaXQgc2VnbWVudFxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGEgaGFzaCBvZiB0cmFjayB0eXBlIHRvIHRpbWVzY2FsZSB2YWx1ZXMgb3IgbnVsbCBpZlxuICAgKiB0aGUgaW5pdCBzZWdtZW50IGlzIG1hbGZvcm1lZC5cbiAgICovXG5cblxuICBNUDREZW11eGVyLnBhcnNlSW5pdFNlZ21lbnQgPSBmdW5jdGlvbiBwYXJzZUluaXRTZWdtZW50KGluaXRTZWdtZW50KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciB0cmFrcyA9IE1QNERlbXV4ZXIuZmluZEJveChpbml0U2VnbWVudCwgWydtb292JywgJ3RyYWsnXSk7XG5cbiAgICB0cmFrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFrKSB7XG4gICAgICB2YXIgdGtoZCA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ3RraGQnXSlbMF07XG4gICAgICBpZiAodGtoZCkge1xuICAgICAgICB2YXIgdmVyc2lvbiA9IHRraGQuZGF0YVt0a2hkLnN0YXJ0XTtcbiAgICAgICAgdmFyIGluZGV4ID0gdmVyc2lvbiA9PT0gMCA/IDEyIDogMjA7XG4gICAgICAgIHZhciB0cmFja0lkID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRraGQsIGluZGV4KTtcblxuICAgICAgICB2YXIgbWRoZCA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnbWRoZCddKVswXTtcbiAgICAgICAgaWYgKG1kaGQpIHtcbiAgICAgICAgICB2ZXJzaW9uID0gbWRoZC5kYXRhW21kaGQuc3RhcnRdO1xuICAgICAgICAgIGluZGV4ID0gdmVyc2lvbiA9PT0gMCA/IDEyIDogMjA7XG4gICAgICAgICAgdmFyIHRpbWVzY2FsZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihtZGhkLCBpbmRleCk7XG5cbiAgICAgICAgICB2YXIgaGRsciA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnaGRsciddKVswXTtcbiAgICAgICAgICBpZiAoaGRscikge1xuICAgICAgICAgICAgdmFyIGhkbHJUeXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGhkbHIuZGF0YS5zdWJhcnJheShoZGxyLnN0YXJ0ICsgOCwgaGRsci5zdGFydCArIDEyKSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHsgJ3NvdW4nOiAnYXVkaW8nLCAndmlkZSc6ICd2aWRlbycgfVtoZGxyVHlwZV07XG4gICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICByZXN1bHRbdHJhY2tJZF0gPSB7IHRpbWVzY2FsZTogdGltZXNjYWxlLCB0eXBlOiB0eXBlIH07XG4gICAgICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IHsgdGltZXNjYWxlOiB0aW1lc2NhbGUsIGlkOiB0cmFja0lkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBiYXNlIG1lZGlhIGRlY29kZSBzdGFydCB0aW1lLCBpbiBzZWNvbmRzLCBmb3IgYW4gTVA0XG4gICAqIGZyYWdtZW50LiBJZiBtdWx0aXBsZSBmcmFnbWVudHMgYXJlIHNwZWNpZmllZCwgdGhlIGVhcmxpZXN0IHRpbWUgaXNcbiAgICogcmV0dXJuZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGNhbiBiZSBwYXJzZWQgZnJvbSB0cmFjayBmcmFnbWVudFxuICAgKiBtZXRhZGF0YTpcbiAgICogYGBgXG4gICAqIG1vb2YgPiB0cmFmID4gdGZkdC5iYXNlTWVkaWFEZWNvZGVUaW1lXG4gICAqIGBgYFxuICAgKiBJdCByZXF1aXJlcyB0aGUgdGltZXNjYWxlIHZhbHVlIGZyb20gdGhlIG1kaGQgdG8gaW50ZXJwcmV0LlxuICAgKlxuICAgKiBAcGFyYW0gdGltZXNjYWxlIHtvYmplY3R9IGEgaGFzaCBvZiB0cmFjayBpZHMgdG8gdGltZXNjYWxlIHZhbHVlcy5cbiAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgZWFybGllc3QgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSBmb3IgdGhlXG4gICAqIGZyYWdtZW50LCBpbiBzZWNvbmRzXG4gICAqL1xuXG5cbiAgTVA0RGVtdXhlci5nZXRTdGFydERUUyA9IGZ1bmN0aW9uIGdldFN0YXJ0RFRTKGluaXREYXRhLCBmcmFnbWVudCkge1xuICAgIHZhciB0cmFmcywgYmFzZVRpbWVzLCByZXN1bHQ7XG5cbiAgICAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW5kIG9mIGVhY2ggdHJhY2sgZnJhZ21lbnQgYm94XG4gICAgdHJhZnMgPSBNUDREZW11eGVyLmZpbmRCb3goZnJhZ21lbnQsIFsnbW9vZicsICd0cmFmJ10pO1xuXG4gICAgLy8gZGV0ZXJtaW5lIHRoZSBzdGFydCB0aW1lcyBmb3IgZWFjaCB0cmFja1xuICAgIGJhc2VUaW1lcyA9IFtdLmNvbmNhdC5hcHBseShbXSwgdHJhZnMubWFwKGZ1bmN0aW9uICh0cmFmKSB7XG4gICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZoZCddKS5tYXAoZnVuY3Rpb24gKHRmaGQpIHtcbiAgICAgICAgdmFyIGlkLCBzY2FsZSwgYmFzZVRpbWU7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICAgIGlkID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmaGQsIDQpO1xuICAgICAgICAvLyBhc3N1bWUgYSA5MGtIeiBjbG9jayBpZiBubyB0aW1lc2NhbGUgd2FzIHNwZWNpZmllZFxuICAgICAgICBzY2FsZSA9IGluaXREYXRhW2lkXS50aW1lc2NhbGUgfHwgOTBlMztcblxuICAgICAgICAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuICAgICAgICBiYXNlVGltZSA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFmLCBbJ3RmZHQnXSkubWFwKGZ1bmN0aW9uICh0ZmR0KSB7XG4gICAgICAgICAgdmFyIHZlcnNpb24sIHJlc3VsdDtcblxuICAgICAgICAgIHZlcnNpb24gPSB0ZmR0LmRhdGFbdGZkdC5zdGFydF07XG4gICAgICAgICAgcmVzdWx0ID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICByZXN1bHQgKj0gTWF0aC5wb3coMiwgMzIpO1xuXG4gICAgICAgICAgICByZXN1bHQgKz0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KVswXTtcbiAgICAgICAgLy8gY29udmVydCBiYXNlIHRpbWUgdG8gc2Vjb25kc1xuICAgICAgICByZXR1cm4gYmFzZVRpbWUgLyBzY2FsZTtcbiAgICAgIH0pO1xuICAgIH0pKTtcblxuICAgIC8vIHJldHVybiB0aGUgbWluaW11bVxuICAgIHJlc3VsdCA9IE1hdGgubWluLmFwcGx5KG51bGwsIGJhc2VUaW1lcyk7XG4gICAgcmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgPyByZXN1bHQgOiAwO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIub2Zmc2V0U3RhcnREVFMgPSBmdW5jdGlvbiBvZmZzZXRTdGFydERUUyhpbml0RGF0YSwgZnJhZ21lbnQsIHRpbWVPZmZzZXQpIHtcbiAgICBNUDREZW11eGVyLmZpbmRCb3goZnJhZ21lbnQsIFsnbW9vZicsICd0cmFmJ10pLm1hcChmdW5jdGlvbiAodHJhZikge1xuICAgICAgcmV0dXJuIE1QNERlbXV4ZXIuZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkubWFwKGZ1bmN0aW9uICh0ZmhkKSB7XG4gICAgICAgIC8vIGdldCB0aGUgdHJhY2sgaWQgZnJvbSB0aGUgdGZoZFxuICAgICAgICB2YXIgaWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgIC8vIGFzc3VtZSBhIDkwa0h6IGNsb2NrIGlmIG5vIHRpbWVzY2FsZSB3YXMgc3BlY2lmaWVkXG4gICAgICAgIHZhciB0aW1lc2NhbGUgPSBpbml0RGF0YVtpZF0udGltZXNjYWxlIHx8IDkwZTM7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGhlIHRmZHRcbiAgICAgICAgTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZkdCddKS5tYXAoZnVuY3Rpb24gKHRmZHQpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICB2YXIgYmFzZU1lZGlhRGVjb2RlVGltZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmR0LCA0KTtcbiAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgTVA0RGVtdXhlci53cml0ZVVpbnQzMih0ZmR0LCA0LCBiYXNlTWVkaWFEZWNvZGVUaW1lIC0gdGltZU9mZnNldCAqIHRpbWVzY2FsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lIC09IHRpbWVPZmZzZXQgKiB0aW1lc2NhbGU7XG4gICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5tYXgoYmFzZU1lZGlhRGVjb2RlVGltZSwgMCk7XG4gICAgICAgICAgICB2YXIgdXBwZXIgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgICAgIHZhciBsb3dlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgTVA0RGVtdXhlci53cml0ZVVpbnQzMih0ZmR0LCA0LCB1cHBlcik7XG4gICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDgsIGxvd2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG5cbiAgTVA0RGVtdXhlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIHZhciBpbml0RGF0YSA9IHRoaXMuaW5pdERhdGE7XG4gICAgaWYgKCFpbml0RGF0YSkge1xuICAgICAgdGhpcy5yZXNldEluaXRTZWdtZW50KGRhdGEsIHRoaXMuYXVkaW9Db2RlYywgdGhpcy52aWRlb0NvZGVjKTtcbiAgICAgIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RFRTID0gdm9pZCAwLFxuICAgICAgICBpbml0UFRTID0gdGhpcy5pbml0UFRTO1xuICAgIGlmIChpbml0UFRTID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBfc3RhcnREVFMgPSBNUDREZW11eGVyLmdldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhKTtcbiAgICAgIHRoaXMuaW5pdFBUUyA9IGluaXRQVFMgPSBfc3RhcnREVFMgLSB0aW1lT2Zmc2V0O1xuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCwgeyBpbml0UFRTOiBpbml0UFRTIH0pO1xuICAgIH1cbiAgICBNUDREZW11eGVyLm9mZnNldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhLCBpbml0UFRTKTtcbiAgICBzdGFydERUUyA9IE1QNERlbXV4ZXIuZ2V0U3RhcnREVFMoaW5pdERhdGEsIGRhdGEpO1xuICAgIHRoaXMucmVtdXhlci5yZW11eChpbml0RGF0YS5hdWRpbywgaW5pdERhdGEudmlkZW8sIG51bGwsIG51bGwsIHN0YXJ0RFRTLCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRhdGEpO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge307XG5cbiAgcmV0dXJuIE1QNERlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wNGRlbXV4ZXIgPSAobXA0ZGVtdXhlcl9NUDREZW11eGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1xuLyoqXG4gKiAgTVBFRyBwYXJzZXIgaGVscGVyXG4gKi9cblxudmFyIE1wZWdBdWRpbyA9IHtcblxuICAgIEJpdHJhdGVzTWFwOiBbMzIsIDY0LCA5NiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDI4OCwgMzIwLCAzNTIsIDM4NCwgNDE2LCA0NDgsIDMyLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzg0LCAzMiwgNDAsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAzMiwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTQ0LCAxNjAsIDE3NiwgMTkyLCAyMjQsIDI1NiwgOCwgMTYsIDI0LCAzMiwgNDAsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE0NCwgMTYwXSxcblxuICAgIFNhbXBsaW5nUmF0ZU1hcDogWzQ0MTAwLCA0ODAwMCwgMzIwMDAsIDIyMDUwLCAyNDAwMCwgMTYwMDAsIDExMDI1LCAxMjAwMCwgODAwMF0sXG5cbiAgICBhcHBlbmRGcmFtZTogZnVuY3Rpb24gYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KSB7XG4gICAgICAgIC8vIFVzaW5nIGh0dHA6Ly93d3cuZGF0YXZveWFnZS5jb20vbXBnc2NyaXB0L21wZWdoZHIuaHRtIGFzIGEgcmVmZXJlbmNlXG4gICAgICAgIGlmIChvZmZzZXQgKyAyNCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGhlYWRlciAmJiBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZUR1cmF0aW9uID0gMTE1MiAqIDkwMDAwIC8gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB2YXIgc3RhbXAgPSBwdHMgKyBmcmFtZUluZGV4ICogZnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBzYW1wbGUgPSB7IHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGgpLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH07XG5cbiAgICAgICAgICAgIHRyYWNrLmNvbmZpZyA9IFtdO1xuICAgICAgICAgICAgdHJhY2suY2hhbm5lbENvdW50ID0gaGVhZGVyLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBoZWFkZXIuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgICAgICAgdHJhY2subGVuICs9IGhlYWRlci5mcmFtZUxlbmd0aDtcblxuICAgICAgICAgICAgcmV0dXJuIHsgc2FtcGxlOiBzYW1wbGUsIGxlbmd0aDogaGVhZGVyLmZyYW1lTGVuZ3RoIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG5cbiAgICBwYXJzZUhlYWRlcjogZnVuY3Rpb24gcGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBoZWFkZXJCID0gZGF0YVtvZmZzZXQgKyAxXSA+PiAzICYgMztcbiAgICAgICAgdmFyIGhlYWRlckMgPSBkYXRhW29mZnNldCArIDFdID4+IDEgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyRSA9IGRhdGFbb2Zmc2V0ICsgMl0gPj4gNCAmIDE1O1xuICAgICAgICB2YXIgaGVhZGVyRiA9IGRhdGFbb2Zmc2V0ICsgMl0gPj4gMiAmIDM7XG4gICAgICAgIHZhciBoZWFkZXJHID0gISEoZGF0YVtvZmZzZXQgKyAyXSAmIDIpO1xuICAgICAgICBpZiAoaGVhZGVyQiAhPT0gMSAmJiBoZWFkZXJFICE9PSAwICYmIGhlYWRlckUgIT09IDE1ICYmIGhlYWRlckYgIT09IDMpIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW5JbkJpdHJhdGVzID0gaGVhZGVyQiA9PT0gMyA/IDMgLSBoZWFkZXJDIDogaGVhZGVyQyA9PT0gMyA/IDMgOiA0O1xuICAgICAgICAgICAgdmFyIGJpdFJhdGUgPSBNcGVnQXVkaW8uQml0cmF0ZXNNYXBbY29sdW1uSW5CaXRyYXRlcyAqIDE0ICsgaGVhZGVyRSAtIDFdICogMTAwMDtcbiAgICAgICAgICAgIHZhciBjb2x1bW5JblNhbXBsZVJhdGVzID0gaGVhZGVyQiA9PT0gMyA/IDAgOiBoZWFkZXJCID09PSAyID8gMSA6IDI7XG4gICAgICAgICAgICB2YXIgc2FtcGxlUmF0ZSA9IE1wZWdBdWRpby5TYW1wbGluZ1JhdGVNYXBbY29sdW1uSW5TYW1wbGVSYXRlcyAqIDMgKyBoZWFkZXJGXTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gaGVhZGVyRyA/IDEgOiAwO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWxDb3VudCA9IGRhdGFbb2Zmc2V0ICsgM10gPj4gNiA9PT0gMyA/IDEgOiAyOyAvLyBJZiBiaXRzIG9mIGNoYW5uZWwgbW9kZSBhcmUgYDExYCB0aGVuIGl0IGlzIGEgc2luZ2xlIGNoYW5uZWwgKE1vbm8pXG4gICAgICAgICAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXJDID09PSAzID8gKGhlYWRlckIgPT09IDMgPyAxMiA6IDYpICogYml0UmF0ZSAvIHNhbXBsZVJhdGUgKyBwYWRkaW5nIDw8IDIgOiAoaGVhZGVyQiA9PT0gMyA/IDE0NCA6IDcyKSAqIGJpdFJhdGUgLyBzYW1wbGVSYXRlICsgcGFkZGluZyB8IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUsIGNoYW5uZWxDb3VudDogY2hhbm5lbENvdW50LCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIGlzSGVhZGVyUGF0dGVybjogZnVuY3Rpb24gaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZGF0YVtvZmZzZXRdID09PSAweGZmICYmIChkYXRhW29mZnNldCArIDFdICYgMHhlMCkgPT09IDB4ZTAgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDA2KSAhPT0gMHgwMDtcbiAgICB9LFxuXG4gICAgaXNIZWFkZXI6IGZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAgICAgICAvLyBMb29rIGZvciBNUEVHIGhlYWRlciB8IDExMTEgMTExMSB8IDExMVggWFlaWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDEgYW5kIFkgb3IgWiBzaG91bGQgYmUgMVxuICAgICAgICAvLyBMYXllciBiaXRzIChwb3NpdGlvbiAxNCBhbmQgMTUpIGluIGhlYWRlciBzaG91bGQgYmUgYWx3YXlzIGRpZmZlcmVudCBmcm9tIDAgKExheWVyIEkgb3IgTGF5ZXIgSUkgb3IgTGF5ZXIgSUlJKVxuICAgICAgICAvLyBNb3JlIGluZm8gaHR0cDovL3d3dy5tcDMtdGVjaC5vcmcvcHJvZ3JhbW1lci9mcmFtZV9oZWFkZXIuaHRtbFxuICAgICAgICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgcHJvYmU6IGZ1bmN0aW9uIHByb2JlKGRhdGEsIG9mZnNldCkge1xuICAgICAgICAvLyBzYW1lIGFzIGlzSGVhZGVyIGJ1dCB3ZSBhbHNvIGNoZWNrIHRoYXQgTVBFRyBmcmFtZSBmb2xsb3dzIGxhc3QgTVBFRyBmcmFtZVxuICAgICAgICAvLyBvciBlbmQgb2YgZGF0YSBpcyByZWFjaGVkXG4gICAgICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgLy8gTVBFRyBoZWFkZXIgTGVuZ3RoXG4gICAgICAgICAgICB2YXIgaGVhZGVyTGVuZ3RoID0gNDtcbiAgICAgICAgICAgIC8vIE1QRUcgZnJhbWUgTGVuZ3RoXG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5wYXJzZUhlYWRlcihkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIGZyYW1lTGVuZ3RoID0gaGVhZGVyTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGhlYWRlciAmJiBoZWFkZXIuZnJhbWVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmcmFtZUxlbmd0aCA9IGhlYWRlci5mcmFtZUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXdPZmZzZXQgPSBvZmZzZXQgKyBmcmFtZUxlbmd0aDtcbiAgICAgICAgICAgIGlmIChuZXdPZmZzZXQgPT09IGRhdGEubGVuZ3RoIHx8IG5ld09mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiB0aGlzLmlzSGVhZGVyUGF0dGVybihkYXRhLCBuZXdPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wZWdhdWRpbyA9IChNcGVnQXVkaW8pO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvZXhwLWdvbG9tYi5qc1xuZnVuY3Rpb24gZXhwX2dvbG9tYl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFBhcnNlciBmb3IgZXhwb25lbnRpYWwgR29sb21iIGNvZGVzLCBhIHZhcmlhYmxlLWJpdHdpZHRoIG51bWJlciBlbmNvZGluZyBzY2hlbWUgdXNlZCBieSBoMjY0LlxuKi9cblxuXG5cbnZhciBleHBfZ29sb21iX0V4cEdvbG9tYiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXhwR29sb21iKGRhdGEpIHtcbiAgICBleHBfZ29sb21iX19jbGFzc0NhbGxDaGVjayh0aGlzLCBFeHBHb2xvbWIpO1xuXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAvLyB0aGUgbnVtYmVyIG9mIGJ5dGVzIGxlZnQgdG8gZXhhbWluZSBpbiB0aGlzLmRhdGFcbiAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgIC8vIHRoZSBjdXJyZW50IHdvcmQgYmVpbmcgZXhhbWluZWRcbiAgICB0aGlzLndvcmQgPSAwOyAvLyA6dWludFxuICAgIC8vIHRoZSBudW1iZXIgb2YgYml0cyBsZWZ0IHRvIGV4YW1pbmUgaW4gdGhlIGN1cnJlbnQgd29yZFxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IDA7IC8vIDp1aW50XG4gIH1cblxuICAvLyAoKTp2b2lkXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLmxvYWRXb3JkID0gZnVuY3Rpb24gbG9hZFdvcmQoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsXG4gICAgICAgIGJ5dGVzQXZhaWxhYmxlID0gdGhpcy5ieXRlc0F2YWlsYWJsZSxcbiAgICAgICAgcG9zaXRpb24gPSBkYXRhLmJ5dGVMZW5ndGggLSBieXRlc0F2YWlsYWJsZSxcbiAgICAgICAgd29ya2luZ0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCksXG4gICAgICAgIGF2YWlsYWJsZUJ5dGVzID0gTWF0aC5taW4oNCwgYnl0ZXNBdmFpbGFibGUpO1xuICAgIGlmIChhdmFpbGFibGVCeXRlcyA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBieXRlcyBhdmFpbGFibGUnKTtcbiAgICB9XG4gICAgd29ya2luZ0J5dGVzLnNldChkYXRhLnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIGF2YWlsYWJsZUJ5dGVzKSk7XG4gICAgdGhpcy53b3JkID0gbmV3IERhdGFWaWV3KHdvcmtpbmdCeXRlcy5idWZmZXIpLmdldFVpbnQzMigwKTtcbiAgICAvLyB0cmFjayB0aGUgYW1vdW50IG9mIHRoaXMuZGF0YSB0aGF0IGhhcyBiZWVuIHByb2Nlc3NlZFxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IGF2YWlsYWJsZUJ5dGVzICogODtcbiAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlIC09IGF2YWlsYWJsZUJ5dGVzO1xuICB9O1xuXG4gIC8vIChjb3VudDppbnQpOnZvaWRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcEJpdHMgPSBmdW5jdGlvbiBza2lwQml0cyhjb3VudCkge1xuICAgIHZhciBza2lwQnl0ZXM7IC8vIDppbnRcbiAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlID4gY291bnQpIHtcbiAgICAgIHRoaXMud29yZCA8PD0gY291bnQ7XG4gICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gY291bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50IC09IHRoaXMuYml0c0F2YWlsYWJsZTtcbiAgICAgIHNraXBCeXRlcyA9IGNvdW50ID4+IDM7XG4gICAgICBjb3VudCAtPSBza2lwQnl0ZXMgPj4gMztcbiAgICAgIHRoaXMuYnl0ZXNBdmFpbGFibGUgLT0gc2tpcEJ5dGVzO1xuICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgICAgdGhpcy53b3JkIDw8PSBjb3VudDtcbiAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBjb3VudDtcbiAgICB9XG4gIH07XG5cbiAgLy8gKHNpemU6aW50KTp1aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRCaXRzID0gZnVuY3Rpb24gcmVhZEJpdHMoc2l6ZSkge1xuICAgIHZhciBiaXRzID0gTWF0aC5taW4odGhpcy5iaXRzQXZhaWxhYmxlLCBzaXplKSxcbiAgICAgICAgLy8gOnVpbnRcbiAgICB2YWx1ID0gdGhpcy53b3JkID4+PiAzMiAtIGJpdHM7IC8vIDp1aW50XG4gICAgaWYgKHNpemUgPiAzMikge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0Nhbm5vdCByZWFkIG1vcmUgdGhhbiAzMiBiaXRzIGF0IGEgdGltZScpO1xuICAgIH1cbiAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gYml0cztcbiAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlID4gMCkge1xuICAgICAgdGhpcy53b3JkIDw8PSBiaXRzO1xuICAgIH0gZWxzZSBpZiAodGhpcy5ieXRlc0F2YWlsYWJsZSA+IDApIHtcbiAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICB9XG4gICAgYml0cyA9IHNpemUgLSBiaXRzO1xuICAgIGlmIChiaXRzID4gMCAmJiB0aGlzLmJpdHNBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB2YWx1IDw8IGJpdHMgfCB0aGlzLnJlYWRCaXRzKGJpdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdTtcbiAgICB9XG4gIH07XG5cbiAgLy8gKCk6dWludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwTFogPSBmdW5jdGlvbiBza2lwTFooKSB7XG4gICAgdmFyIGxlYWRpbmdaZXJvQ291bnQ7IC8vIDp1aW50XG4gICAgZm9yIChsZWFkaW5nWmVyb0NvdW50ID0gMDsgbGVhZGluZ1plcm9Db3VudCA8IHRoaXMuYml0c0F2YWlsYWJsZTsgKytsZWFkaW5nWmVyb0NvdW50KSB7XG4gICAgICBpZiAoMCAhPT0gKHRoaXMud29yZCAmIDB4ODAwMDAwMDAgPj4+IGxlYWRpbmdaZXJvQ291bnQpKSB7XG4gICAgICAgIC8vIHRoZSBmaXJzdCBiaXQgb2Ygd29ya2luZyB3b3JkIGlzIDFcbiAgICAgICAgdGhpcy53b3JkIDw8PSBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gbGVhZGluZ1plcm9Db3VudDtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHdlIGV4aGF1c3RlZCB3b3JkIGFuZCBzdGlsbCBoYXZlIG5vdCBmb3VuZCBhIDFcbiAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQgKyB0aGlzLnNraXBMWigpO1xuICB9O1xuXG4gIC8vICgpOnZvaWRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcFVFRyA9IGZ1bmN0aW9uIHNraXBVRUcoKSB7XG4gICAgdGhpcy5za2lwQml0cygxICsgdGhpcy5za2lwTFooKSk7XG4gIH07XG5cbiAgLy8gKCk6dm9pZFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwRUcgPSBmdW5jdGlvbiBza2lwRUcoKSB7XG4gICAgdGhpcy5za2lwQml0cygxICsgdGhpcy5za2lwTFooKSk7XG4gIH07XG5cbiAgLy8gKCk6dWludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVUVHID0gZnVuY3Rpb24gcmVhZFVFRygpIHtcbiAgICB2YXIgY2x6ID0gdGhpcy5za2lwTFooKTsgLy8gOnVpbnRcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhjbHogKyAxKSAtIDE7XG4gIH07XG5cbiAgLy8gKCk6aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRFRyA9IGZ1bmN0aW9uIHJlYWRFRygpIHtcbiAgICB2YXIgdmFsdSA9IHRoaXMucmVhZFVFRygpOyAvLyA6aW50XG4gICAgaWYgKDB4MDEgJiB2YWx1KSB7XG4gICAgICAvLyB0aGUgbnVtYmVyIGlzIG9kZCBpZiB0aGUgbG93IG9yZGVyIGJpdCBpcyBzZXRcbiAgICAgIHJldHVybiAxICsgdmFsdSA+Pj4gMTsgLy8gYWRkIDEgdG8gbWFrZSBpdCBldmVuLCBhbmQgZGl2aWRlIGJ5IDJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC0xICogKHZhbHUgPj4+IDEpOyAvLyBkaXZpZGUgYnkgdHdvIHRoZW4gbWFrZSBpdCBuZWdhdGl2ZVxuICAgIH1cbiAgfTtcblxuICAvLyBTb21lIGNvbnZlbmllbmNlIGZ1bmN0aW9uc1xuICAvLyA6Qm9vbGVhblxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkQm9vbGVhbiA9IGZ1bmN0aW9uIHJlYWRCb29sZWFuKCkge1xuICAgIHJldHVybiAxID09PSB0aGlzLnJlYWRCaXRzKDEpO1xuICB9O1xuXG4gIC8vICgpOmludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVUJ5dGUgPSBmdW5jdGlvbiByZWFkVUJ5dGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoOCk7XG4gIH07XG5cbiAgLy8gKCk6aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVU2hvcnQgPSBmdW5jdGlvbiByZWFkVVNob3J0KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDE2KTtcbiAgfTtcbiAgLy8gKCk6aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVSW50ID0gZnVuY3Rpb24gcmVhZFVJbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMzIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZHZhbmNlIHRoZSBFeHBHb2xvbWIgZGVjb2RlciBwYXN0IGEgc2NhbGluZyBsaXN0LiBUaGUgc2NhbGluZ1xuICAgKiBsaXN0IGlzIG9wdGlvbmFsbHkgdHJhbnNtaXR0ZWQgYXMgcGFydCBvZiBhIHNlcXVlbmNlIHBhcmFtZXRlclxuICAgKiBzZXQgYW5kIGlzIG5vdCByZWxldmFudCB0byB0cmFuc211eGluZy5cbiAgICogQHBhcmFtIGNvdW50IHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZW50cmllcyBpbiB0aGlzIHNjYWxpbmcgbGlzdFxuICAgKiBAc2VlIFJlY29tbWVuZGF0aW9uIElUVS1UIEguMjY0LCBTZWN0aW9uIDcuMy4yLjEuMS4xXG4gICAqL1xuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwU2NhbGluZ0xpc3QgPSBmdW5jdGlvbiBza2lwU2NhbGluZ0xpc3QoY291bnQpIHtcbiAgICB2YXIgbGFzdFNjYWxlID0gOCxcbiAgICAgICAgbmV4dFNjYWxlID0gOCxcbiAgICAgICAgaixcbiAgICAgICAgZGVsdGFTY2FsZTtcbiAgICBmb3IgKGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgaWYgKG5leHRTY2FsZSAhPT0gMCkge1xuICAgICAgICBkZWx0YVNjYWxlID0gdGhpcy5yZWFkRUcoKTtcbiAgICAgICAgbmV4dFNjYWxlID0gKGxhc3RTY2FsZSArIGRlbHRhU2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgfVxuICAgICAgbGFzdFNjYWxlID0gbmV4dFNjYWxlID09PSAwID8gbGFzdFNjYWxlIDogbmV4dFNjYWxlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVhZCBhIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQgYW5kIHJldHVybiBzb21lIGludGVyZXN0aW5nIHZpZGVvXG4gICAqIHByb3BlcnRpZXMuIEEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldCBpcyB0aGUgSDI2NCBtZXRhZGF0YSB0aGF0XG4gICAqIGRlc2NyaWJlcyB0aGUgcHJvcGVydGllcyBvZiB1cGNvbWluZyB2aWRlbyBmcmFtZXMuXG4gICAqIEBwYXJhbSBkYXRhIHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgYSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0XG4gICAqIEByZXR1cm4ge29iamVjdH0gYW4gb2JqZWN0IHdpdGggY29uZmlndXJhdGlvbiBwYXJzZWQgZnJvbSB0aGVcbiAgICogc2VxdWVuY2UgcGFyYW1ldGVyIHNldCwgaW5jbHVkaW5nIHRoZSBkaW1lbnNpb25zIG9mIHRoZVxuICAgKiBhc3NvY2lhdGVkIHZpZGVvIGZyYW1lcy5cbiAgICovXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRTUFMgPSBmdW5jdGlvbiByZWFkU1BTKCkge1xuICAgIHZhciBmcmFtZUNyb3BMZWZ0T2Zmc2V0ID0gMCxcbiAgICAgICAgZnJhbWVDcm9wUmlnaHRPZmZzZXQgPSAwLFxuICAgICAgICBmcmFtZUNyb3BUb3BPZmZzZXQgPSAwLFxuICAgICAgICBmcmFtZUNyb3BCb3R0b21PZmZzZXQgPSAwLFxuICAgICAgICBwcm9maWxlSWRjLFxuICAgICAgICBwcm9maWxlQ29tcGF0LFxuICAgICAgICBsZXZlbElkYyxcbiAgICAgICAgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlLFxuICAgICAgICBwaWNXaWR0aEluTWJzTWludXMxLFxuICAgICAgICBwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxLFxuICAgICAgICBmcmFtZU1ic09ubHlGbGFnLFxuICAgICAgICBzY2FsaW5nTGlzdENvdW50LFxuICAgICAgICBpLFxuICAgICAgICByZWFkVUJ5dGUgPSB0aGlzLnJlYWRVQnl0ZS5iaW5kKHRoaXMpLFxuICAgICAgICByZWFkQml0cyA9IHRoaXMucmVhZEJpdHMuYmluZCh0aGlzKSxcbiAgICAgICAgcmVhZFVFRyA9IHRoaXMucmVhZFVFRy5iaW5kKHRoaXMpLFxuICAgICAgICByZWFkQm9vbGVhbiA9IHRoaXMucmVhZEJvb2xlYW4uYmluZCh0aGlzKSxcbiAgICAgICAgc2tpcEJpdHMgPSB0aGlzLnNraXBCaXRzLmJpbmQodGhpcyksXG4gICAgICAgIHNraXBFRyA9IHRoaXMuc2tpcEVHLmJpbmQodGhpcyksXG4gICAgICAgIHNraXBVRUcgPSB0aGlzLnNraXBVRUcuYmluZCh0aGlzKSxcbiAgICAgICAgc2tpcFNjYWxpbmdMaXN0ID0gdGhpcy5za2lwU2NhbGluZ0xpc3QuYmluZCh0aGlzKTtcblxuICAgIHJlYWRVQnl0ZSgpO1xuICAgIHByb2ZpbGVJZGMgPSByZWFkVUJ5dGUoKTsgLy8gcHJvZmlsZV9pZGNcbiAgICBwcm9maWxlQ29tcGF0ID0gcmVhZEJpdHMoNSk7IC8vIGNvbnN0cmFpbnRfc2V0WzAtNF1fZmxhZywgdSg1KVxuICAgIHNraXBCaXRzKDMpOyAvLyByZXNlcnZlZF96ZXJvXzNiaXRzIHUoMyksXG4gICAgbGV2ZWxJZGMgPSByZWFkVUJ5dGUoKTsgLy9sZXZlbF9pZGMgdSg4KVxuICAgIHNraXBVRUcoKTsgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcbiAgICAvLyBzb21lIHByb2ZpbGVzIGhhdmUgbW9yZSBvcHRpb25hbCBkYXRhIHdlIGRvbid0IG5lZWRcbiAgICBpZiAocHJvZmlsZUlkYyA9PT0gMTAwIHx8IHByb2ZpbGVJZGMgPT09IDExMCB8fCBwcm9maWxlSWRjID09PSAxMjIgfHwgcHJvZmlsZUlkYyA9PT0gMjQ0IHx8IHByb2ZpbGVJZGMgPT09IDQ0IHx8IHByb2ZpbGVJZGMgPT09IDgzIHx8IHByb2ZpbGVJZGMgPT09IDg2IHx8IHByb2ZpbGVJZGMgPT09IDExOCB8fCBwcm9maWxlSWRjID09PSAxMjgpIHtcbiAgICAgIHZhciBjaHJvbWFGb3JtYXRJZGMgPSByZWFkVUVHKCk7XG4gICAgICBpZiAoY2hyb21hRm9ybWF0SWRjID09PSAzKSB7XG4gICAgICAgIHNraXBCaXRzKDEpOyAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuICAgICAgfVxuICAgICAgc2tpcFVFRygpOyAvLyBiaXRfZGVwdGhfbHVtYV9taW51czhcbiAgICAgIHNraXBVRUcoKTsgLy8gYml0X2RlcHRoX2Nocm9tYV9taW51czhcbiAgICAgIHNraXBCaXRzKDEpOyAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7XG4gICAgICAgIC8vIHNlcV9zY2FsaW5nX21hdHJpeF9wcmVzZW50X2ZsYWdcbiAgICAgICAgc2NhbGluZ0xpc3RDb3VudCA9IGNocm9tYUZvcm1hdElkYyAhPT0gMyA/IDggOiAxMjtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNjYWxpbmdMaXN0Q291bnQ7IGkrKykge1xuICAgICAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAvLyBzZXFfc2NhbGluZ19saXN0X3ByZXNlbnRfZmxhZ1sgaSBdXG4gICAgICAgICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgICAgICAgc2tpcFNjYWxpbmdMaXN0KDE2KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNraXBTY2FsaW5nTGlzdCg2NCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNraXBVRUcoKTsgLy8gbG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNFxuICAgIHZhciBwaWNPcmRlckNudFR5cGUgPSByZWFkVUVHKCk7XG4gICAgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMCkge1xuICAgICAgcmVhZFVFRygpOyAvL2xvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiX21pbnVzNFxuICAgIH0gZWxzZSBpZiAocGljT3JkZXJDbnRUeXBlID09PSAxKSB7XG4gICAgICBza2lwQml0cygxKTsgLy8gZGVsdGFfcGljX29yZGVyX2Fsd2F5c196ZXJvX2ZsYWdcbiAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX25vbl9yZWZfcGljXG4gICAgICBza2lwRUcoKTsgLy8gb2Zmc2V0X2Zvcl90b3BfdG9fYm90dG9tX2ZpZWxkXG4gICAgICBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGUgPSByZWFkVUVHKCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlOyBpKyspIHtcbiAgICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3JfcmVmX2ZyYW1lWyBpIF1cbiAgICAgIH1cbiAgICB9XG4gICAgc2tpcFVFRygpOyAvLyBtYXhfbnVtX3JlZl9mcmFtZXNcbiAgICBza2lwQml0cygxKTsgLy8gZ2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnXG4gICAgcGljV2lkdGhJbk1ic01pbnVzMSA9IHJlYWRVRUcoKTtcbiAgICBwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxID0gcmVhZFVFRygpO1xuICAgIGZyYW1lTWJzT25seUZsYWcgPSByZWFkQml0cygxKTtcbiAgICBpZiAoZnJhbWVNYnNPbmx5RmxhZyA9PT0gMCkge1xuICAgICAgc2tpcEJpdHMoMSk7IC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcbiAgICB9XG4gICAgc2tpcEJpdHMoMSk7IC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcbiAgICBpZiAocmVhZEJvb2xlYW4oKSkge1xuICAgICAgLy8gZnJhbWVfY3JvcHBpbmdfZmxhZ1xuICAgICAgZnJhbWVDcm9wTGVmdE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ID0gcmVhZFVFRygpO1xuICAgICAgZnJhbWVDcm9wVG9wT2Zmc2V0ID0gcmVhZFVFRygpO1xuICAgICAgZnJhbWVDcm9wQm90dG9tT2Zmc2V0ID0gcmVhZFVFRygpO1xuICAgIH1cbiAgICB2YXIgcGl4ZWxSYXRpbyA9IFsxLCAxXTtcbiAgICBpZiAocmVhZEJvb2xlYW4oKSkge1xuICAgICAgLy8gdnVpX3BhcmFtZXRlcnNfcHJlc2VudF9mbGFnXG4gICAgICBpZiAocmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvSWRjID0gcmVhZFVCeXRlKCk7XG4gICAgICAgIHN3aXRjaCAoYXNwZWN0UmF0aW9JZGMpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzEsIDFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTIsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzEwLCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNiwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbNDAsIDMzXTticmVhaztcbiAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzI0LCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyMCwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMzIsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzgwLCAzM107YnJlYWs7XG4gICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTgsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNSwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzY0LCAzM107YnJlYWs7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTYwLCA5OV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbNCwgM107YnJlYWs7XG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMywgMl07YnJlYWs7XG4gICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMiwgMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAyNTU6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbcmVhZFVCeXRlKCkgPDwgOCB8IHJlYWRVQnl0ZSgpLCByZWFkVUJ5dGUoKSA8PCA4IHwgcmVhZFVCeXRlKCldO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IE1hdGguY2VpbCgocGljV2lkdGhJbk1ic01pbnVzMSArIDEpICogMTYgLSBmcmFtZUNyb3BMZWZ0T2Zmc2V0ICogMiAtIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ICogMiksXG4gICAgICBoZWlnaHQ6ICgyIC0gZnJhbWVNYnNPbmx5RmxhZykgKiAocGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSArIDEpICogMTYgLSAoZnJhbWVNYnNPbmx5RmxhZyA/IDIgOiA0KSAqIChmcmFtZUNyb3BUb3BPZmZzZXQgKyBmcmFtZUNyb3BCb3R0b21PZmZzZXQpLFxuICAgICAgcGl4ZWxSYXRpbzogcGl4ZWxSYXRpb1xuICAgIH07XG4gIH07XG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkU2xpY2VUeXBlID0gZnVuY3Rpb24gcmVhZFNsaWNlVHlwZSgpIHtcbiAgICAvLyBza2lwIE5BTHUgdHlwZVxuICAgIHRoaXMucmVhZFVCeXRlKCk7XG4gICAgLy8gZGlzY2FyZCBmaXJzdF9tYl9pbl9zbGljZVxuICAgIHRoaXMucmVhZFVFRygpO1xuICAgIC8vIHJldHVybiBzbGljZV90eXBlXG4gICAgcmV0dXJuIHRoaXMucmVhZFVFRygpO1xuICB9O1xuXG4gIHJldHVybiBFeHBHb2xvbWI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGV4cF9nb2xvbWIgPSAoZXhwX2dvbG9tYl9FeHBHb2xvbWIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvc2FtcGxlLWFlcy5qc1xuZnVuY3Rpb24gc2FtcGxlX2Flc19fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFNBTVBMRS1BRVMgZGVjcnlwdGVyXG4qL1xuXG5cblxudmFyIHNhbXBsZV9hZXNfU2FtcGxlQWVzRGVjcnlwdGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTYW1wbGVBZXNEZWNyeXB0ZXIob2JzZXJ2ZXIsIGNvbmZpZywgZGVjcnlwdGRhdGEsIGRpc2NhcmRFUEIpIHtcbiAgICBzYW1wbGVfYWVzX19jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW1wbGVBZXNEZWNyeXB0ZXIpO1xuXG4gICAgdGhpcy5kZWNyeXB0ZGF0YSA9IGRlY3J5cHRkYXRhO1xuICAgIHRoaXMuZGlzY2FyZEVQQiA9IGRpc2NhcmRFUEI7XG4gICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgY3J5cHRfZGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcpO1xuICB9XG5cbiAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QnVmZmVyID0gZnVuY3Rpb24gZGVjcnlwdEJ1ZmZlcihlbmNyeXB0ZWREYXRhLCBjYWxsYmFjaykge1xuICAgIHRoaXMuZGVjcnlwdGVyLmRlY3J5cHQoZW5jcnlwdGVkRGF0YSwgdGhpcy5kZWNyeXB0ZGF0YS5rZXkuYnVmZmVyLCB0aGlzLmRlY3J5cHRkYXRhLml2LmJ1ZmZlciwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8vIEFBQyAtIGVuY3J5cHQgYWxsIGZ1bGwgMTYgYnl0ZXMgYmxvY2tzIHN0YXJ0aW5nIGZyb20gb2Zmc2V0IDE2XG5cblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRBYWNTYW1wbGUgPSBmdW5jdGlvbiBkZWNyeXB0QWFjU2FtcGxlKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaywgc3luYykge1xuICAgIHZhciBjdXJVbml0ID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdDtcbiAgICB2YXIgZW5jcnlwdGVkRGF0YSA9IGN1clVuaXQuc3ViYXJyYXkoMTYsIGN1clVuaXQubGVuZ3RoIC0gY3VyVW5pdC5sZW5ndGggJSAxNik7XG4gICAgdmFyIGVuY3J5cHRlZEJ1ZmZlciA9IGVuY3J5cHRlZERhdGEuYnVmZmVyLnNsaWNlKGVuY3J5cHRlZERhdGEuYnl0ZU9mZnNldCwgZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0ICsgZW5jcnlwdGVkRGF0YS5sZW5ndGgpO1xuXG4gICAgdmFyIGxvY2FsdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZEJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgIGRlY3J5cHRlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKTtcbiAgICAgIGN1clVuaXQuc2V0KGRlY3J5cHRlZERhdGEsIDE2KTtcblxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIGxvY2FsdGhpcy5kZWNyeXB0QWFjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCArIDEsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRBYWNTYW1wbGVzID0gZnVuY3Rpb24gZGVjcnlwdEFhY1NhbXBsZXMoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgZm9yICg7OyBzYW1wbGVJbmRleCsrKSB7XG4gICAgICBpZiAoc2FtcGxlSW5kZXggPj0gc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdC5sZW5ndGggPCAzMikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN5bmMgPSB0aGlzLmRlY3J5cHRlci5pc1N5bmMoKTtcblxuICAgICAgdGhpcy5kZWNyeXB0QWFjU2FtcGxlKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaywgc3luYyk7XG5cbiAgICAgIGlmICghc3luYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEFWQyAtIGVuY3J5cHQgb25lIDE2IGJ5dGVzIGJsb2NrIG91dCBvZiB0ZW4sIHN0YXJ0aW5nIGZyb20gb2Zmc2V0IDMyXG5cblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0VuY3J5cHRlZERhdGEgPSBmdW5jdGlvbiBnZXRBdmNFbmNyeXB0ZWREYXRhKGRlY29kZWREYXRhKSB7XG4gICAgdmFyIGVuY3J5cHRlZERhdGFMZW4gPSBNYXRoLmZsb29yKChkZWNvZGVkRGF0YS5sZW5ndGggLSA0OCkgLyAxNjApICogMTYgKyAxNjtcbiAgICB2YXIgZW5jcnlwdGVkRGF0YSA9IG5ldyBJbnQ4QXJyYXkoZW5jcnlwdGVkRGF0YUxlbik7XG4gICAgdmFyIG91dHB1dFBvcyA9IDA7XG4gICAgZm9yICh2YXIgaW5wdXRQb3MgPSAzMjsgaW5wdXRQb3MgPD0gZGVjb2RlZERhdGEubGVuZ3RoIC0gMTY7IGlucHV0UG9zICs9IDE2MCwgb3V0cHV0UG9zICs9IDE2KSB7XG4gICAgICBlbmNyeXB0ZWREYXRhLnNldChkZWNvZGVkRGF0YS5zdWJhcnJheShpbnB1dFBvcywgaW5wdXRQb3MgKyAxNiksIG91dHB1dFBvcyk7XG4gICAgfVxuICAgIHJldHVybiBlbmNyeXB0ZWREYXRhO1xuICB9O1xuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZ2V0QXZjRGVjcnlwdGVkVW5pdCA9IGZ1bmN0aW9uIGdldEF2Y0RlY3J5cHRlZFVuaXQoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpIHtcbiAgICBkZWNyeXB0ZWREYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSk7XG4gICAgdmFyIGlucHV0UG9zID0gMDtcbiAgICBmb3IgKHZhciBvdXRwdXRQb3MgPSAzMjsgb3V0cHV0UG9zIDw9IGRlY29kZWREYXRhLmxlbmd0aCAtIDE2OyBvdXRwdXRQb3MgKz0gMTYwLCBpbnB1dFBvcyArPSAxNikge1xuICAgICAgZGVjb2RlZERhdGEuc2V0KGRlY3J5cHRlZERhdGEuc3ViYXJyYXkoaW5wdXRQb3MsIGlucHV0UG9zICsgMTYpLCBvdXRwdXRQb3MpO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZERhdGE7XG4gIH07XG5cbiAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QXZjU2FtcGxlID0gZnVuY3Rpb24gZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYykge1xuICAgIHZhciBkZWNvZGVkRGF0YSA9IHRoaXMuZGlzY2FyZEVQQihjdXJVbml0LmRhdGEpO1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gdGhpcy5nZXRBdmNFbmNyeXB0ZWREYXRhKGRlY29kZWREYXRhKTtcbiAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcblxuICAgIHRoaXMuZGVjcnlwdEJ1ZmZlcihlbmNyeXB0ZWREYXRhLmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgIGN1clVuaXQuZGF0YSA9IGxvY2FsdGhpcy5nZXRBdmNEZWNyeXB0ZWRVbml0KGRlY29kZWREYXRhLCBkZWNyeXB0ZWREYXRhKTtcblxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIGxvY2FsdGhpcy5kZWNyeXB0QXZjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4ICsgMSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEF2Y1NhbXBsZXMgPSBmdW5jdGlvbiBkZWNyeXB0QXZjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaykge1xuICAgIGZvciAoOzsgc2FtcGxlSW5kZXgrKywgdW5pdEluZGV4ID0gMCkge1xuICAgICAgaWYgKHNhbXBsZUluZGV4ID49IHNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1clVuaXRzID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdHM7XG4gICAgICBmb3IgKDs7IHVuaXRJbmRleCsrKSB7XG4gICAgICAgIGlmICh1bml0SW5kZXggPj0gY3VyVW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VyVW5pdCA9IGN1clVuaXRzW3VuaXRJbmRleF07XG4gICAgICAgIGlmIChjdXJVbml0Lmxlbmd0aCA8PSA0OCB8fCBjdXJVbml0LnR5cGUgIT09IDEgJiYgY3VyVW5pdC50eXBlICE9PSA1KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuXG4gICAgICAgIHRoaXMuZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYyk7XG5cbiAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTYW1wbGVBZXNEZWNyeXB0ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNhbXBsZV9hZXMgPSAoc2FtcGxlX2Flc19TYW1wbGVBZXNEZWNyeXB0ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvdHNkZW11eGVyLmpzXG5mdW5jdGlvbiB0c2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBoaWdobHkgb3B0aW1pemVkIFRTIGRlbXV4ZXI6XG4gKiBwYXJzZSBQQVQsIFBNVFxuICogZXh0cmFjdCBQRVMgcGFja2V0IGZyb20gYXVkaW8gYW5kIHZpZGVvIFBJRHNcbiAqIGV4dHJhY3QgQVZDL0gyNjQgTkFMIHVuaXRzIGFuZCBBQUMvQURUUyBzYW1wbGVzIGZyb20gUEVTIHBhY2tldFxuICogdHJpZ2dlciB0aGUgcmVtdXhlciB1cG9uIHBhcnNpbmcgY29tcGxldGlvblxuICogaXQgYWxzbyB0cmllcyB0byB3b3JrYXJvdW5kIGFzIGJlc3QgYXMgaXQgY2FuIGF1ZGlvIGNvZGVjIHN3aXRjaCAoSEUtQUFDIHRvIEFBQyBhbmQgdmljZSB2ZXJzYSksIHdpdGhvdXQgaGF2aW5nIHRvIHJlc3RhcnQgdGhlIE1lZGlhU291cmNlLlxuICogaXQgYWxzbyBjb250cm9scyB0aGUgcmVtdXhpbmcgcHJvY2VzcyA6XG4gKiB1cG9uIGRpc2NvbnRpbnVpdHkgb3IgbGV2ZWwgc3dpdGNoIGRldGVjdGlvbiwgaXQgd2lsbCBhbHNvIG5vdGlmaWVzIHRoZSByZW11eGVyIHNvIHRoYXQgaXQgY2FuIHJlc2V0IGl0cyBzdGF0ZS5cbiovXG5cblxuXG5cblxuXG4vLyBpbXBvcnQgSGV4IGZyb20gJy4uL3V0aWxzL2hleCc7XG5cblxuXG52YXIgdHNkZW11eGVyX1RTRGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVFNEZW11eGVyKG9ic2VydmVyLCByZW11eGVyLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQpIHtcbiAgICB0c2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRTRGVtdXhlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICAgIHRoaXMuc2FtcGxlQWVzID0gbnVsbDtcbiAgfVxuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuc2V0RGVjcnlwdERhdGEgPSBmdW5jdGlvbiBzZXREZWNyeXB0RGF0YShkZWNyeXB0ZGF0YSkge1xuICAgIGlmIChkZWNyeXB0ZGF0YSAhPSBudWxsICYmIGRlY3J5cHRkYXRhLmtleSAhPSBudWxsICYmIGRlY3J5cHRkYXRhLm1ldGhvZCA9PT0gJ1NBTVBMRS1BRVMnKSB7XG4gICAgICB0aGlzLnNhbXBsZUFlcyA9IG5ldyBzYW1wbGVfYWVzKHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnLCBkZWNyeXB0ZGF0YSwgdGhpcy5kaXNjYXJkRVBCKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zYW1wbGVBZXMgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgLy8gYSBUUyBmcmFnbWVudCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCAzIFRTIHBhY2tldHMsIGEgUEFULCBhIFBNVCwgYW5kIG9uZSBQSUQsIGVhY2ggc3RhcnRpbmcgd2l0aCAweDQ3XG4gICAgaWYgKGRhdGEubGVuZ3RoID49IDMgKiAxODggJiYgZGF0YVswXSA9PT0gMHg0NyAmJiBkYXRhWzE4OF0gPT09IDB4NDcgJiYgZGF0YVsyICogMTg4XSA9PT0gMHg0Nykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gcmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICB0aGlzLnBtdFBhcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BtdElkID0gLTE7XG4gICAgdGhpcy5fYXZjVHJhY2sgPSB7IGNvbnRhaW5lcjogJ3ZpZGVvL21wMnQnLCB0eXBlOiAndmlkZW8nLCBpZDogLTEsIGlucHV0VGltZVNjYWxlOiA5MDAwMCwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW46IDAsIGRyb3BwZWQ6IDAgfTtcbiAgICB0aGlzLl9hdWRpb1RyYWNrID0geyBjb250YWluZXI6ICd2aWRlby9tcDJ0JywgdHlwZTogJ2F1ZGlvJywgaWQ6IC0xLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAsIGR1cmF0aW9uOiBkdXJhdGlvbiwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW46IDAsIGlzQUFDOiB0cnVlIH07XG4gICAgdGhpcy5faWQzVHJhY2sgPSB7IHR5cGU6ICdpZDMnLCBpZDogLTEsIGlucHV0VGltZVNjYWxlOiA5MDAwMCwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW46IDAgfTtcbiAgICB0aGlzLl90eHRUcmFjayA9IHsgdHlwZTogJ3RleHQnLCBpZDogLTEsIGlucHV0VGltZVNjYWxlOiA5MDAwMCwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW46IDAgfTtcbiAgICAvLyBmbHVzaCBhbnkgcGFydGlhbCBjb250ZW50XG4gICAgdGhpcy5hYWNPdmVyRmxvdyA9IG51bGw7XG4gICAgdGhpcy5hYWNMYXN0UFRTID0gbnVsbDtcbiAgICB0aGlzLmF2Y1NhbXBsZSA9IG51bGw7XG4gICAgdGhpcy5hdWRpb0NvZGVjID0gYXVkaW9Db2RlYztcbiAgICB0aGlzLnZpZGVvQ29kZWMgPSB2aWRlb0NvZGVjO1xuICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIHJlc2V0VGltZVN0YW1wKCkge307XG5cbiAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIHN0YXJ0LFxuICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgc3R0LFxuICAgICAgICBwaWQsXG4gICAgICAgIGF0ZixcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBwZXMsXG4gICAgICAgIHVua25vd25QSURzID0gZmFsc2U7XG4gICAgdGhpcy5jb250aWd1b3VzID0gY29udGlndW91cztcbiAgICB2YXIgcG10UGFyc2VkID0gdGhpcy5wbXRQYXJzZWQsXG4gICAgICAgIGF2Y1RyYWNrID0gdGhpcy5fYXZjVHJhY2ssXG4gICAgICAgIGF1ZGlvVHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLFxuICAgICAgICBpZDNUcmFjayA9IHRoaXMuX2lkM1RyYWNrLFxuICAgICAgICBhdmNJZCA9IGF2Y1RyYWNrLmlkLFxuICAgICAgICBhdWRpb0lkID0gYXVkaW9UcmFjay5pZCxcbiAgICAgICAgaWQzSWQgPSBpZDNUcmFjay5pZCxcbiAgICAgICAgcG10SWQgPSB0aGlzLl9wbXRJZCxcbiAgICAgICAgYXZjRGF0YSA9IGF2Y1RyYWNrLnBlc0RhdGEsXG4gICAgICAgIGF1ZGlvRGF0YSA9IGF1ZGlvVHJhY2sucGVzRGF0YSxcbiAgICAgICAgaWQzRGF0YSA9IGlkM1RyYWNrLnBlc0RhdGEsXG4gICAgICAgIHBhcnNlUEFUID0gdGhpcy5fcGFyc2VQQVQsXG4gICAgICAgIHBhcnNlUE1UID0gdGhpcy5fcGFyc2VQTVQsXG4gICAgICAgIHBhcnNlUEVTID0gdGhpcy5fcGFyc2VQRVMsXG4gICAgICAgIHBhcnNlQVZDUEVTID0gdGhpcy5fcGFyc2VBVkNQRVMuYmluZCh0aGlzKSxcbiAgICAgICAgcGFyc2VBQUNQRVMgPSB0aGlzLl9wYXJzZUFBQ1BFUy5iaW5kKHRoaXMpLFxuICAgICAgICBwYXJzZU1QRUdQRVMgPSB0aGlzLl9wYXJzZU1QRUdQRVMuYmluZCh0aGlzKSxcbiAgICAgICAgcGFyc2VJRDNQRVMgPSB0aGlzLl9wYXJzZUlEM1BFUy5iaW5kKHRoaXMpO1xuXG4gICAgLy8gZG9uJ3QgcGFyc2UgbGFzdCBUUyBwYWNrZXQgaWYgaW5jb21wbGV0ZVxuICAgIGxlbiAtPSBsZW4gJSAxODg7XG4gICAgLy8gbG9vcCB0aHJvdWdoIFRTIHBhY2tldHNcbiAgICBmb3IgKHN0YXJ0ID0gMDsgc3RhcnQgPCBsZW47IHN0YXJ0ICs9IDE4OCkge1xuICAgICAgaWYgKGRhdGFbc3RhcnRdID09PSAweDQ3KSB7XG4gICAgICAgIHN0dCA9ICEhKGRhdGFbc3RhcnQgKyAxXSAmIDB4NDApO1xuICAgICAgICAvLyBwaWQgaXMgYSAxMy1iaXQgZmllbGQgc3RhcnRpbmcgYXQgdGhlIGxhc3QgYml0IG9mIFRTWzFdXG4gICAgICAgIHBpZCA9ICgoZGF0YVtzdGFydCArIDFdICYgMHgxZikgPDwgOCkgKyBkYXRhW3N0YXJ0ICsgMl07XG4gICAgICAgIGF0ZiA9IChkYXRhW3N0YXJ0ICsgM10gJiAweDMwKSA+PiA0O1xuICAgICAgICAvLyBpZiBhbiBhZGFwdGlvbiBmaWVsZCBpcyBwcmVzZW50LCBpdHMgbGVuZ3RoIGlzIHNwZWNpZmllZCBieSB0aGUgZmlmdGggYnl0ZSBvZiB0aGUgVFMgcGFja2V0IGhlYWRlci5cbiAgICAgICAgaWYgKGF0ZiA+IDEpIHtcbiAgICAgICAgICBvZmZzZXQgPSBzdGFydCArIDUgKyBkYXRhW3N0YXJ0ICsgNF07XG4gICAgICAgICAgLy8gY29udGludWUgaWYgdGhlcmUgaXMgb25seSBhZGFwdGF0aW9uIGZpZWxkXG4gICAgICAgICAgaWYgKG9mZnNldCA9PT0gc3RhcnQgKyAxODgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBzdGFydCArIDQ7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChwaWQpIHtcbiAgICAgICAgICBjYXNlIGF2Y0lkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBpZiAoYXZjRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXZjRGF0YSkpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VBVkNQRVMocGVzLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXZjRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdmNEYXRhKSB7XG4gICAgICAgICAgICAgIGF2Y0RhdGEuZGF0YS5wdXNoKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBzdGFydCArIDE4OCkpO1xuICAgICAgICAgICAgICBhdmNEYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGF1ZGlvSWQ6XG4gICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF1ZGlvRGF0YSkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2suaXNBQUMpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlQUFDUEVTKHBlcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBhcnNlTVBFR1BFUyhwZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhdWRpb0RhdGEgPSB7IGRhdGE6IFtdLCBzaXplOiAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXVkaW9EYXRhKSB7XG4gICAgICAgICAgICAgIGF1ZGlvRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgIGF1ZGlvRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBpZDNJZDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlSUQzUEVTKHBlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWQzRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZDNEYXRhKSB7XG4gICAgICAgICAgICAgIGlkM0RhdGEuZGF0YS5wdXNoKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBzdGFydCArIDE4OCkpO1xuICAgICAgICAgICAgICBpZDNEYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgIG9mZnNldCArPSBkYXRhW29mZnNldF0gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG10SWQgPSB0aGlzLl9wbXRJZCA9IHBhcnNlUEFUKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHBtdElkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YVtvZmZzZXRdICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJzZWRQSURzID0gcGFyc2VQTVQoZGF0YSwgb2Zmc2V0LCB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZyA9PT0gdHJ1ZSB8fCB0aGlzLnR5cGVTdXBwb3J0ZWQubXAzID09PSB0cnVlLCB0aGlzLnNhbXBsZUFlcyAhPSBudWxsKTtcblxuICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdHJhY2sgaWQgaWYgdHJhY2sgUElEIGZvdW5kIHdoaWxlIHBhcnNpbmcgUE1UXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGF2b2lkIHJlc2V0dGluZyB0aGUgUElEIHRvIC0xIGluIGNhc2VcbiAgICAgICAgICAgIC8vIHRyYWNrIFBJRCB0cmFuc2llbnRseSBkaXNhcHBlYXJzIGZyb20gdGhlIHN0cmVhbVxuICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBoYXBwZW4gaW4gY2FzZSBvZiB0cmFuc2llbnQgbWlzc2luZyBhdWRpbyBzYW1wbGVzIGZvciBleGFtcGxlXG4gICAgICAgICAgICBhdmNJZCA9IHBhcnNlZFBJRHMuYXZjO1xuICAgICAgICAgICAgaWYgKGF2Y0lkID4gMCkge1xuICAgICAgICAgICAgICBhdmNUcmFjay5pZCA9IGF2Y0lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXVkaW9JZCA9IHBhcnNlZFBJRHMuYXVkaW87XG4gICAgICAgICAgICBpZiAoYXVkaW9JZCA+IDApIHtcbiAgICAgICAgICAgICAgYXVkaW9UcmFjay5pZCA9IGF1ZGlvSWQ7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhY2suaXNBQUMgPSBwYXJzZWRQSURzLmlzQUFDO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWQzSWQgPSBwYXJzZWRQSURzLmlkMztcbiAgICAgICAgICAgIGlmIChpZDNJZCA+IDApIHtcbiAgICAgICAgICAgICAgaWQzVHJhY2suaWQgPSBpZDNJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bmtub3duUElEcyAmJiAhcG10UGFyc2VkKSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygncmVwYXJzZSBmcm9tIGJlZ2lubmluZycpO1xuICAgICAgICAgICAgICB1bmtub3duUElEcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAvLyB3ZSBzZXQgaXQgdG8gLTE4OCwgdGhlICs9IDE4OCBpbiB0aGUgZm9yIGxvb3Agd2lsbCByZXNldCBzdGFydCB0byAwXG4gICAgICAgICAgICAgIHN0YXJ0ID0gLTE4ODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBtdFBhcnNlZCA9IHRoaXMucG10UGFyc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgY2FzZSAweDFmZmY6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdW5rbm93blBJRHMgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnVFMgcGFja2V0IGRpZCBub3Qgc3RhcnQgd2l0aCAweDQ3JyB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdHJ5IHRvIHBhcnNlIGxhc3QgUEVTIHBhY2tldHNcbiAgICBpZiAoYXZjRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXZjRGF0YSkpKSB7XG4gICAgICBwYXJzZUFWQ1BFUyhwZXMsIHRydWUpO1xuICAgICAgYXZjVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVpdGhlciBhdmNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgIGF2Y1RyYWNrLnBlc0RhdGEgPSBhdmNEYXRhO1xuICAgIH1cblxuICAgIGlmIChhdWRpb0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF1ZGlvRGF0YSkpKSB7XG4gICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICBwYXJzZUFBQ1BFUyhwZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VNUEVHUEVTKHBlcyk7XG4gICAgICB9XG4gICAgICBhdWRpb1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXVkaW9EYXRhICYmIGF1ZGlvRGF0YS5zaXplKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGFzdCBBQUMgUEVTIHBhY2tldCB0cnVuY2F0ZWQsbWlnaHQgb3ZlcmxhcCBiZXR3ZWVuIGZyYWdtZW50cycpO1xuICAgICAgfVxuICAgICAgLy8gZWl0aGVyIGF1ZGlvRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICBhdWRpb1RyYWNrLnBlc0RhdGEgPSBhdWRpb0RhdGE7XG4gICAgfVxuXG4gICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSkge1xuICAgICAgcGFyc2VJRDNQRVMocGVzKTtcbiAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlaXRoZXIgaWQzRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICBpZDNUcmFjay5wZXNEYXRhID0gaWQzRGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zYW1wbGVBZXMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5yZW11eGVyLnJlbXV4KGF1ZGlvVHJhY2ssIGF2Y1RyYWNrLCBpZDNUcmFjaywgdGhpcy5fdHh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjcnlwdEFuZFJlbXV4KGF1ZGlvVHJhY2ssIGF2Y1RyYWNrLCBpZDNUcmFjaywgdGhpcy5fdHh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuZGVjcnlwdEFuZFJlbXV4ID0gZnVuY3Rpb24gZGVjcnlwdEFuZFJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIGlmIChhdWRpb1RyYWNrLnNhbXBsZXMgJiYgYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgdmFyIGxvY2FsdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QWFjU2FtcGxlcyhhdWRpb1RyYWNrLnNhbXBsZXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBbmRSZW11eEF2YyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjcnlwdEFuZFJlbXV4QXZjKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuZGVjcnlwdEFuZFJlbXV4QXZjID0gZnVuY3Rpb24gZGVjcnlwdEFuZFJlbXV4QXZjKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMpIHtcbiAgICAgIHZhciBsb2NhbHRoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5zYW1wbGVBZXMuZGVjcnlwdEF2Y1NhbXBsZXModmlkZW9UcmFjay5zYW1wbGVzLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsdGhpcy5yZW11eGVyLnJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW11eGVyLnJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5faW5pdFBUUyA9IHRoaXMuX2luaXREVFMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZHVyYXRpb24gPSAwO1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlUEFUID0gZnVuY3Rpb24gX3BhcnNlUEFUKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIHNraXAgdGhlIFBTSSBoZWFkZXIgYW5kIHBhcnNlIHRoZSBmaXJzdCBQTVQgZW50cnlcbiAgICByZXR1cm4gKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgxRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMTFdO1xuICAgIC8vbG9nZ2VyLmxvZygnUE1UIFBJRDonICArIHRoaXMuX3BtdElkKTtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBNVCA9IGZ1bmN0aW9uIF9wYXJzZVBNVChkYXRhLCBvZmZzZXQsIG1wZWdTdXBwb3J0ZWQsIGlzU2FtcGxlQWVzKSB7XG4gICAgdmFyIHNlY3Rpb25MZW5ndGgsXG4gICAgICAgIHRhYmxlRW5kLFxuICAgICAgICBwcm9ncmFtSW5mb0xlbmd0aCxcbiAgICAgICAgcGlkLFxuICAgICAgICByZXN1bHQgPSB7IGF1ZGlvOiAtMSwgYXZjOiAtMSwgaWQzOiAtMSwgaXNBQUM6IHRydWUgfTtcbiAgICBzZWN0aW9uTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDBmKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAyXTtcbiAgICB0YWJsZUVuZCA9IG9mZnNldCArIDMgKyBzZWN0aW9uTGVuZ3RoIC0gNDtcbiAgICAvLyB0byBkZXRlcm1pbmUgd2hlcmUgdGhlIHRhYmxlIGlzLCB3ZSBoYXZlIHRvIGZpZ3VyZSBvdXQgaG93XG4gICAgLy8gbG9uZyB0aGUgcHJvZ3JhbSBpbmZvIGRlc2NyaXB0b3JzIGFyZVxuICAgIHByb2dyYW1JbmZvTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgwZikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMTFdO1xuICAgIC8vIGFkdmFuY2UgdGhlIG9mZnNldCB0byB0aGUgZmlyc3QgZW50cnkgaW4gdGhlIG1hcHBpbmcgdGFibGVcbiAgICBvZmZzZXQgKz0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcbiAgICB3aGlsZSAob2Zmc2V0IDwgdGFibGVFbmQpIHtcbiAgICAgIHBpZCA9IChkYXRhW29mZnNldCArIDFdICYgMHgxRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMl07XG4gICAgICBzd2l0Y2ggKGRhdGFbb2Zmc2V0XSkge1xuICAgICAgICBjYXNlIDB4Y2Y6XG4gICAgICAgICAgLy8gU0FNUExFLUFFUyBBQUNcbiAgICAgICAgICBpZiAoIWlzU2FtcGxlQWVzKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICAgIC8vIElTTy9JRUMgMTM4MTgtNyBBRFRTIEFBQyAoTVBFRy0yIGxvd2VyIGJpdC1yYXRlIGF1ZGlvKVxuICAgICAgICBjYXNlIDB4MGY6XG4gICAgICAgICAgLy9sb2dnZXIubG9nKCdBQUMgUElEOicgICsgcGlkKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmF1ZGlvID09PSAtMSkge1xuICAgICAgICAgICAgcmVzdWx0LmF1ZGlvID0gcGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBQYWNrZXRpemVkIG1ldGFkYXRhIChJRDMpXG4gICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ0lEMyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgIGlmIChyZXN1bHQuaWQzID09PSAtMSkge1xuICAgICAgICAgICAgcmVzdWx0LmlkMyA9IHBpZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAweGRiOlxuICAgICAgICAgIC8vIFNBTVBMRS1BRVMgQVZDXG4gICAgICAgICAgaWYgKCFpc1NhbXBsZUFlcykge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd1bmtvd24gc3RyZWFtIHR5cGU6JyArIGRhdGFbb2Zmc2V0XSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgICAvLyBJVFUtVCBSZWMuIEguMjY0IGFuZCBJU08vSUVDIDE0NDk2LTEwIChsb3dlciBiaXQtcmF0ZSB2aWRlbylcbiAgICAgICAgY2FzZSAweDFiOlxuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnQVZDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5hdmMgPT09IC0xKSB7XG4gICAgICAgICAgICByZXN1bHQuYXZjID0gcGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBJU08vSUVDIDExMTcyLTMgKE1QRUctMSBhdWRpbylcbiAgICAgICAgLy8gb3IgSVNPL0lFQyAxMzgxOC0zIChNUEVHLTIgaGFsdmVkIHNhbXBsZSByYXRlIGF1ZGlvKVxuICAgICAgICBjYXNlIDB4MDM6XG4gICAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ01QRUcgUElEOicgICsgcGlkKTtcbiAgICAgICAgICBpZiAoIW1wZWdTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVBFRyBhdWRpbyBmb3VuZCwgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIgZm9yIG5vdycpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmF1ZGlvID09PSAtMSkge1xuICAgICAgICAgICAgcmVzdWx0LmF1ZGlvID0gcGlkO1xuICAgICAgICAgICAgcmVzdWx0LmlzQUFDID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMHgyNDpcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdIRVZDIHN0cmVhbSB0eXBlIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGZvciBub3cnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndW5rb3duIHN0cmVhbSB0eXBlOicgKyBkYXRhW29mZnNldF0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gbW92ZSB0byB0aGUgbmV4dCB0YWJsZSBlbnRyeVxuICAgICAgLy8gc2tpcCBwYXN0IHRoZSBlbGVtZW50YXJ5IHN0cmVhbSBkZXNjcmlwdG9ycywgaWYgcHJlc2VudFxuICAgICAgb2Zmc2V0ICs9ICgoZGF0YVtvZmZzZXQgKyAzXSAmIDB4MEYpIDw8IDggfCBkYXRhW29mZnNldCArIDRdKSArIDU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VQRVMgPSBmdW5jdGlvbiBfcGFyc2VQRVMoc3RyZWFtKSB7XG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBmcmFnLFxuICAgICAgICBwZXNGbGFncyxcbiAgICAgICAgcGVzUHJlZml4LFxuICAgICAgICBwZXNMZW4sXG4gICAgICAgIHBlc0hkckxlbixcbiAgICAgICAgcGVzRGF0YSxcbiAgICAgICAgcGVzUHRzLFxuICAgICAgICBwZXNEdHMsXG4gICAgICAgIHBheWxvYWRTdGFydE9mZnNldCxcbiAgICAgICAgZGF0YSA9IHN0cmVhbS5kYXRhO1xuICAgIC8vIHNhZmV0eSBjaGVja1xuICAgIGlmICghc3RyZWFtIHx8IHN0cmVhbS5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyB3ZSBtaWdodCBuZWVkIHVwIHRvIDE5IGJ5dGVzIHRvIHJlYWQgUEVTIGhlYWRlclxuICAgIC8vIGlmIGZpcnN0IGNodW5rIG9mIGRhdGEgaXMgbGVzcyB0aGFuIDE5IGJ5dGVzLCBsZXQncyBtZXJnZSBpdCB3aXRoIGZvbGxvd2luZyBvbmVzIHVudGlsIHdlIGdldCAxOSBieXRlc1xuICAgIC8vIHVzdWFsbHkgb25seSBvbmUgbWVyZ2UgaXMgbmVlZGVkIChhbmQgdGhpcyBpcyByYXJlIC4uLilcbiAgICB3aGlsZSAoZGF0YVswXS5sZW5ndGggPCAxOSAmJiBkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YVswXS5sZW5ndGggKyBkYXRhWzFdLmxlbmd0aCk7XG4gICAgICBuZXdEYXRhLnNldChkYXRhWzBdKTtcbiAgICAgIG5ld0RhdGEuc2V0KGRhdGFbMV0sIGRhdGFbMF0ubGVuZ3RoKTtcbiAgICAgIGRhdGFbMF0gPSBuZXdEYXRhO1xuICAgICAgZGF0YS5zcGxpY2UoMSwgMSk7XG4gICAgfVxuICAgIC8vcmV0cmlldmUgUFRTL0RUUyBmcm9tIGZpcnN0IGZyYWdtZW50XG4gICAgZnJhZyA9IGRhdGFbMF07XG4gICAgcGVzUHJlZml4ID0gKGZyYWdbMF0gPDwgMTYpICsgKGZyYWdbMV0gPDwgOCkgKyBmcmFnWzJdO1xuICAgIGlmIChwZXNQcmVmaXggPT09IDEpIHtcbiAgICAgIHBlc0xlbiA9IChmcmFnWzRdIDw8IDgpICsgZnJhZ1s1XTtcbiAgICAgIC8vIGlmIFBFUyBwYXJzZWQgbGVuZ3RoIGlzIG5vdCB6ZXJvIGFuZCBncmVhdGVyIHRoYW4gdG90YWwgcmVjZWl2ZWQgbGVuZ3RoLCBzdG9wIHBhcnNpbmcuIFBFUyBtaWdodCBiZSB0cnVuY2F0ZWRcbiAgICAgIC8vIG1pbnVzIDYgOiBQRVMgaGVhZGVyIHNpemVcbiAgICAgIGlmIChwZXNMZW4gJiYgcGVzTGVuID4gc3RyZWFtLnNpemUgLSA2KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcGVzRmxhZ3MgPSBmcmFnWzddO1xuICAgICAgaWYgKHBlc0ZsYWdzICYgMHhDMCkge1xuICAgICAgICAvKiBQRVMgaGVhZGVyIGRlc2NyaWJlZCBoZXJlIDogaHR0cDovL2R2ZC5zb3VyY2Vmb3JnZS5uZXQvZHZkaW5mby9wZXMtaGRyLmh0bWxcbiAgICAgICAgICAgIGFzIFBUUyAvIERUUyBpcyAzMyBiaXQgd2UgY2Fubm90IHVzZSBiaXR3aXNlIG9wZXJhdG9yIGluIEpTLFxuICAgICAgICAgICAgYXMgQml0d2lzZSBvcGVyYXRvcnMgdHJlYXQgdGhlaXIgb3BlcmFuZHMgYXMgYSBzZXF1ZW5jZSBvZiAzMiBiaXRzICovXG4gICAgICAgIHBlc1B0cyA9IChmcmFnWzldICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgIChmcmFnWzEwXSAmIDB4RkYpICogNDE5NDMwNCArIC8vIDEgPDwgMjJcbiAgICAgICAgKGZyYWdbMTFdICYgMHhGRSkgKiAxNjM4NCArIC8vIDEgPDwgMTRcbiAgICAgICAgKGZyYWdbMTJdICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgKGZyYWdbMTNdICYgMHhGRSkgLyAyO1xuICAgICAgICAvLyBjaGVjayBpZiBncmVhdGVyIHRoYW4gMl4zMiAtMVxuICAgICAgICBpZiAocGVzUHRzID4gNDI5NDk2NzI5NSkge1xuICAgICAgICAgIC8vIGRlY3JlbWVudCAyXjMzXG4gICAgICAgICAgcGVzUHRzIC09IDg1ODk5MzQ1OTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBlc0ZsYWdzICYgMHg0MCkge1xuICAgICAgICAgIHBlc0R0cyA9IChmcmFnWzE0XSAmIDB4MEUpICogNTM2ODcwOTEyICsgLy8gMSA8PCAyOVxuICAgICAgICAgIChmcmFnWzE1XSAmIDB4RkYpICogNDE5NDMwNCArIC8vIDEgPDwgMjJcbiAgICAgICAgICAoZnJhZ1sxNl0gJiAweEZFKSAqIDE2Mzg0ICsgLy8gMSA8PCAxNFxuICAgICAgICAgIChmcmFnWzE3XSAmIDB4RkYpICogMTI4ICsgLy8gMSA8PCA3XG4gICAgICAgICAgKGZyYWdbMThdICYgMHhGRSkgLyAyO1xuICAgICAgICAgIC8vIGNoZWNrIGlmIGdyZWF0ZXIgdGhhbiAyXjMyIC0xXG4gICAgICAgICAgaWYgKHBlc0R0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgIC8vIGRlY3JlbWVudCAyXjMzXG4gICAgICAgICAgICBwZXNEdHMgLT0gODU4OTkzNDU5MjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlc1B0cyAtIHBlc0R0cyA+IDYwICogOTAwMDApIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oTWF0aC5yb3VuZCgocGVzUHRzIC0gcGVzRHRzKSAvIDkwMDAwKSArICdzIGRlbHRhIGJldHdlZW4gUFRTIGFuZCBEVFMsIGFsaWduIHRoZW0nKTtcbiAgICAgICAgICAgIHBlc1B0cyA9IHBlc0R0cztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVzRHRzID0gcGVzUHRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwZXNIZHJMZW4gPSBmcmFnWzhdO1xuICAgICAgLy8gOSBieXRlcyA6IDYgYnl0ZXMgZm9yIFBFUyBoZWFkZXIgKyAzIGJ5dGVzIGZvciBQRVMgZXh0ZW5zaW9uXG4gICAgICBwYXlsb2FkU3RhcnRPZmZzZXQgPSBwZXNIZHJMZW4gKyA5O1xuXG4gICAgICBzdHJlYW0uc2l6ZSAtPSBwYXlsb2FkU3RhcnRPZmZzZXQ7XG4gICAgICAvL3JlYXNzZW1ibGUgUEVTIHBhY2tldFxuICAgICAgcGVzRGF0YSA9IG5ldyBVaW50OEFycmF5KHN0cmVhbS5zaXplKTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBkYXRhTGVuID0gZGF0YS5sZW5ndGg7IGogPCBkYXRhTGVuOyBqKyspIHtcbiAgICAgICAgZnJhZyA9IGRhdGFbal07XG4gICAgICAgIHZhciBsZW4gPSBmcmFnLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChwYXlsb2FkU3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICBpZiAocGF5bG9hZFN0YXJ0T2Zmc2V0ID4gbGVuKSB7XG4gICAgICAgICAgICAvLyB0cmltIGZ1bGwgZnJhZyBpZiBQRVMgaGVhZGVyIGJpZ2dlciB0aGFuIGZyYWdcbiAgICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCAtPSBsZW47XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJpbSBwYXJ0aWFsIGZyYWcgaWYgUEVTIGhlYWRlciBzbWFsbGVyIHRoYW4gZnJhZ1xuICAgICAgICAgICAgZnJhZyA9IGZyYWcuc3ViYXJyYXkocGF5bG9hZFN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIGxlbiAtPSBwYXlsb2FkU3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICBwYXlsb2FkU3RhcnRPZmZzZXQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwZXNEYXRhLnNldChmcmFnLCBpKTtcbiAgICAgICAgaSArPSBsZW47XG4gICAgICB9XG4gICAgICBpZiAocGVzTGVuKSB7XG4gICAgICAgIC8vIHBheWxvYWQgc2l6ZSA6IHJlbW92ZSBQRVMgaGVhZGVyICsgUEVTIGV4dGVuc2lvblxuICAgICAgICBwZXNMZW4gLT0gcGVzSGRyTGVuICsgMztcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGRhdGE6IHBlc0RhdGEsIHB0czogcGVzUHRzLCBkdHM6IHBlc0R0cywgbGVuOiBwZXNMZW4gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUucHVzaEFjY2VzVW5pdCA9IGZ1bmN0aW9uIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCBhdmNUcmFjaykge1xuICAgIGlmIChhdmNTYW1wbGUudW5pdHMubGVuZ3RoICYmIGF2Y1NhbXBsZS5mcmFtZSkge1xuICAgICAgdmFyIHNhbXBsZXMgPSBhdmNUcmFjay5zYW1wbGVzO1xuICAgICAgdmFyIG5iU2FtcGxlcyA9IHNhbXBsZXMubGVuZ3RoO1xuICAgICAgLy8gb25seSBwdXNoIEFWQyBzYW1wbGUgaWYgc3RhcnRpbmcgd2l0aCBhIGtleWZyYW1lIGlzIG5vdCBtYW5kYXRvcnkgT1JcbiAgICAgIC8vICAgIGlmIGtleWZyYW1lIGFscmVhZHkgZm91bmQgaW4gdGhpcyBmcmFnbWVudCBPUlxuICAgICAgLy8gICAgICAga2V5ZnJhbWUgZm91bmQgaW4gbGFzdCBmcmFnbWVudCAodHJhY2suc3BzKSBBTkRcbiAgICAgIC8vICAgICAgICAgIHNhbXBsZXMgYWxyZWFkeSBhcHBlbmRlZCAod2UgYWxyZWFkeSBmb3VuZCBhIGtleWZyYW1lIGluIHRoaXMgZnJhZ21lbnQpIE9SIGZyYWdtZW50IGlzIGNvbnRpZ3VvdXNcbiAgICAgIGlmICghdGhpcy5jb25maWcuZm9yY2VLZXlGcmFtZU9uRGlzY29udGludWl0eSB8fCBhdmNTYW1wbGUua2V5ID09PSB0cnVlIHx8IGF2Y1RyYWNrLnNwcyAmJiAobmJTYW1wbGVzIHx8IHRoaXMuY29udGlndW91cykpIHtcbiAgICAgICAgYXZjU2FtcGxlLmlkID0gbmJTYW1wbGVzO1xuICAgICAgICBzYW1wbGVzLnB1c2goYXZjU2FtcGxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRyb3BwZWQgc2FtcGxlcywgdHJhY2sgaXRcbiAgICAgICAgYXZjVHJhY2suZHJvcHBlZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXZjU2FtcGxlLmRlYnVnLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKGF2Y1NhbXBsZS5wdHMgKyAnLycgKyBhdmNTYW1wbGUuZHRzICsgJzonICsgYXZjU2FtcGxlLmRlYnVnKTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VBVkNQRVMgPSBmdW5jdGlvbiBfcGFyc2VBVkNQRVMocGVzLCBsYXN0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vbG9nZ2VyLmxvZygncGFyc2UgbmV3IFBFUycpO1xuICAgIHZhciB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLFxuICAgICAgICB1bml0cyA9IHRoaXMuX3BhcnNlQVZDTkFMdShwZXMuZGF0YSksXG4gICAgICAgIGRlYnVnID0gZmFsc2UsXG4gICAgICAgIGV4cEdvbG9tYkRlY29kZXIsXG4gICAgICAgIGF2Y1NhbXBsZSA9IHRoaXMuYXZjU2FtcGxlLFxuICAgICAgICBwdXNoLFxuICAgICAgICBzcHNmb3VuZCA9IGZhbHNlLFxuICAgICAgICBpLFxuICAgICAgICBwdXNoQWNjZXNVbml0ID0gdGhpcy5wdXNoQWNjZXNVbml0LmJpbmQodGhpcyksXG4gICAgICAgIGNyZWF0ZUFWQ1NhbXBsZSA9IGZ1bmN0aW9uIGNyZWF0ZUFWQ1NhbXBsZShrZXksIHB0cywgZHRzLCBkZWJ1Zykge1xuICAgICAgcmV0dXJuIHsga2V5OiBrZXksIHB0czogcHRzLCBkdHM6IGR0cywgdW5pdHM6IFtdLCBkZWJ1ZzogZGVidWcgfTtcbiAgICB9O1xuICAgIC8vZnJlZSBwZXMuZGF0YSB0byBzYXZlIHVwIHNvbWUgbWVtb3J5XG4gICAgcGVzLmRhdGEgPSBudWxsO1xuXG4gICAgLy8gaWYgbmV3IE5BTCB1bml0cyBmb3VuZCBhbmQgbGFzdCBzYW1wbGUgc3RpbGwgdGhlcmUsIGxldCdzIHB1c2ggLi4uXG4gICAgLy8gdGhpcyBoZWxwcyBwYXJzaW5nIHN0cmVhbXMgd2l0aCBtaXNzaW5nIEFVRCAob25seSBkbyB0aGlzIGlmIEFVRCBuZXZlciBmb3VuZClcbiAgICBpZiAoYXZjU2FtcGxlICYmIHVuaXRzLmxlbmd0aCAmJiAhdHJhY2suYXVkRm91bmQpIHtcbiAgICAgIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCB0cmFjayk7XG4gICAgICBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgIH1cblxuICAgIHVuaXRzLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgIHN3aXRjaCAodW5pdC50eXBlKSB7XG4gICAgICAgIC8vTkRSXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIWF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlID0gX3RoaXMuYXZjU2FtcGxlID0gY3JlYXRlQVZDU2FtcGxlKHRydWUsIHBlcy5wdHMsIHBlcy5kdHMsICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ05EUiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgIHZhciBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgIC8vIG9ubHkgY2hlY2sgc2xpY2UgdHlwZSB0byBkZXRlY3QgS0YgaW4gY2FzZSBTUFMgZm91bmQgaW4gc2FtZSBwYWNrZXQgKGFueSBrZXlmcmFtZSBpcyBwcmVjZWRlZCBieSBTUFMgLi4uKVxuICAgICAgICAgIGlmIChzcHNmb3VuZCAmJiBkYXRhLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIC8vIHJldHJpZXZlIHNsaWNlIHR5cGUgYnkgcGFyc2luZyBiZWdpbm5pbmcgb2YgTkFMIHVuaXQgKGZvbGxvdyBIMjY0IHNwZWMsIHNsaWNlX2hlYWRlciBkZWZpbml0aW9uKSB0byBkZXRlY3Qga2V5ZnJhbWUgZW1iZWRkZWQgaW4gTkRSXG4gICAgICAgICAgICB2YXIgc2xpY2VUeXBlID0gbmV3IGV4cF9nb2xvbWIoZGF0YSkucmVhZFNsaWNlVHlwZSgpO1xuICAgICAgICAgICAgLy8gMiA6IEkgc2xpY2UsIDQgOiBTSSBzbGljZSwgNyA6IEkgc2xpY2UsIDk6IFNJIHNsaWNlXG4gICAgICAgICAgICAvLyBTSSBzbGljZSA6IEEgc2xpY2UgdGhhdCBpcyBjb2RlZCB1c2luZyBpbnRyYSBwcmVkaWN0aW9uIG9ubHkgYW5kIHVzaW5nIHF1YW50aXNhdGlvbiBvZiB0aGUgcHJlZGljdGlvbiBzYW1wbGVzLlxuICAgICAgICAgICAgLy8gQW4gU0kgc2xpY2UgY2FuIGJlIGNvZGVkIHN1Y2ggdGhhdCBpdHMgZGVjb2RlZCBzYW1wbGVzIGNhbiBiZSBjb25zdHJ1Y3RlZCBpZGVudGljYWxseSB0byBhbiBTUCBzbGljZS5cbiAgICAgICAgICAgIC8vIEkgc2xpY2U6IEEgc2xpY2UgdGhhdCBpcyBub3QgYW4gU0kgc2xpY2UgdGhhdCBpcyBkZWNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seS5cbiAgICAgICAgICAgIC8vaWYgKHNsaWNlVHlwZSA9PT0gMiB8fCBzbGljZVR5cGUgPT09IDcpIHtcbiAgICAgICAgICAgIGlmIChzbGljZVR5cGUgPT09IDIgfHwgc2xpY2VUeXBlID09PSA0IHx8IHNsaWNlVHlwZSA9PT0gNyB8fCBzbGljZVR5cGUgPT09IDkpIHtcbiAgICAgICAgICAgICAgYXZjU2FtcGxlLmtleSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL0lEUlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgLy8gaGFuZGxlIFBFUyBub3Qgc3RhcnRpbmcgd2l0aCBBVURcbiAgICAgICAgICBpZiAoIWF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlID0gX3RoaXMuYXZjU2FtcGxlID0gY3JlYXRlQVZDU2FtcGxlKHRydWUsIHBlcy5wdHMsIHBlcy5kdHMsICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ0lEUiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhdmNTYW1wbGUua2V5ID0gdHJ1ZTtcbiAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL1NFSVxuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgaWYgKGRlYnVnICYmIGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICdTRUkgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgZXhwR29sb21iRGVjb2RlciA9IG5ldyBleHBfZ29sb21iKF90aGlzLmRpc2NhcmRFUEIodW5pdC5kYXRhKSk7XG5cbiAgICAgICAgICAvLyBza2lwIGZyYW1lVHlwZVxuICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG5cbiAgICAgICAgICB2YXIgcGF5bG9hZFR5cGUgPSAwO1xuICAgICAgICAgIHZhciBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgICAgICAgdmFyIGVuZE9mQ2FwdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgYiA9IDA7XG5cbiAgICAgICAgICB3aGlsZSAoIWVuZE9mQ2FwdGlvbnMgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSA+IDEpIHtcbiAgICAgICAgICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgYiA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgIHBheWxvYWRUeXBlICs9IGI7XG4gICAgICAgICAgICB9IHdoaWxlIChiID09PSAweEZGKTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgcGF5bG9hZCBzaXplLlxuICAgICAgICAgICAgcGF5bG9hZFNpemUgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBiID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGIgPT09IDB4RkYpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGVyZSBjYW4gYmUgbW9yZSB0aGFuIG9uZSBwYXlsb2FkIGluIGFuIFNFSSBwYWNrZXQuLi5cbiAgICAgICAgICAgIC8vIFRPRE86IG5lZWQgdG8gcmVhZCB0eXBlIGFuZCBzaXplIGluIGEgd2hpbGUgbG9vcCB0byBnZXQgdGhlbSBhbGxcbiAgICAgICAgICAgIGlmIChwYXlsb2FkVHlwZSA9PT0gNCAmJiBleHBHb2xvbWJEZWNvZGVyLmJ5dGVzQXZhaWxhYmxlICE9PSAwKSB7XG5cbiAgICAgICAgICAgICAgZW5kT2ZDYXB0aW9ucyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcblxuICAgICAgICAgICAgICBpZiAoY291bnRyeUNvZGUgPT09IDE4MSkge1xuICAgICAgICAgICAgICAgIHZhciBwcm92aWRlckNvZGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVU2hvcnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlckNvZGUgPT09IDQ5KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdXNlclN0cnVjdHVyZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVJbnQoKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJ1Y3R1cmUgPT09IDB4NDc0MTM5MzQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJEYXRhVHlwZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmF3IENFQS02MDggYnl0ZXMgd3JhcHBlZCBpbiBDRUEtNzA4IHBhY2tldFxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRhdGFUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0Qnl0ZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHNlY29uZEJ5dGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsQ0NzID0gMzEgJiBmaXJzdEJ5dGU7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVBcnJheSA9IFtmaXJzdEJ5dGUsIHNlY29uZEJ5dGVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvdGFsQ0NzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMgYnl0ZXMgcGVyIENDXG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkucHVzaChleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2luc2VydFNhbXBsZUluT3JkZXIoX3RoaXMuX3R4dFRyYWNrLnNhbXBsZXMsIHsgdHlwZTogMywgcHRzOiBwZXMucHRzLCBieXRlczogYnl0ZUFycmF5IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWRTaXplIDwgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSkge1xuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF5bG9hZFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vU1BTXG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICBzcHNmb3VuZCA9IHRydWU7XG4gICAgICAgICAgaWYgKGRlYnVnICYmIGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICdTUFMgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0cmFjay5zcHMpIHtcbiAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSBuZXcgZXhwX2dvbG9tYih1bml0LmRhdGEpO1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFNQUygpO1xuICAgICAgICAgICAgdHJhY2sud2lkdGggPSBjb25maWcud2lkdGg7XG4gICAgICAgICAgICB0cmFjay5oZWlnaHQgPSBjb25maWcuaGVpZ2h0O1xuICAgICAgICAgICAgdHJhY2sucGl4ZWxSYXRpbyA9IGNvbmZpZy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgdHJhY2suc3BzID0gW3VuaXQuZGF0YV07XG4gICAgICAgICAgICB0cmFjay5kdXJhdGlvbiA9IF90aGlzLl9kdXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBjb2RlY2FycmF5ID0gdW5pdC5kYXRhLnN1YmFycmF5KDEsIDQpO1xuICAgICAgICAgICAgdmFyIGNvZGVjc3RyaW5nID0gJ2F2YzEuJztcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGggPSBjb2RlY2FycmF5W2ldLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvZGVjc3RyaW5nICs9IGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjay5jb2RlYyA9IGNvZGVjc3RyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9QUFNcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChkZWJ1ZyAmJiBhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnUFBTICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdHJhY2sucHBzKSB7XG4gICAgICAgICAgICB0cmFjay5wcHMgPSBbdW5pdC5kYXRhXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEFVRFxuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgIHRyYWNrLmF1ZEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBwdXNoQWNjZXNVbml0KGF2Y1NhbXBsZSwgdHJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhdmNTYW1wbGUgPSBfdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUoZmFsc2UsIHBlcy5wdHMsIHBlcy5kdHMsIGRlYnVnID8gJ0FVRCAnIDogJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBGaWxsZXIgRGF0YVxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICd1bmtub3duIE5BTCAnICsgdW5pdC50eXBlICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChhdmNTYW1wbGUgJiYgcHVzaCkge1xuICAgICAgICB2YXIgX3VuaXRzID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgICBfdW5pdHMucHVzaCh1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiBsYXN0IFBFUyBwYWNrZXQsIHB1c2ggc2FtcGxlc1xuICAgIGlmIChsYXN0ICYmIGF2Y1NhbXBsZSkge1xuICAgICAgcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIHRyYWNrKTtcbiAgICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5faW5zZXJ0U2FtcGxlSW5PcmRlciA9IGZ1bmN0aW9uIF9pbnNlcnRTYW1wbGVJbk9yZGVyKGFyciwgZGF0YSkge1xuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICBpZiAoZGF0YS5wdHMgPj0gYXJyW2xlbiAtIDFdLnB0cykge1xuICAgICAgICBhcnIucHVzaChkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIHBvcyA9IGxlbiAtIDE7IHBvcyA+PSAwOyBwb3MtLSkge1xuICAgICAgICAgIGlmIChkYXRhLnB0cyA8IGFycltwb3NdLnB0cykge1xuICAgICAgICAgICAgYXJyLnNwbGljZShwb3MsIDAsIGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9nZXRMYXN0TmFsVW5pdCA9IGZ1bmN0aW9uIF9nZXRMYXN0TmFsVW5pdCgpIHtcbiAgICB2YXIgYXZjU2FtcGxlID0gdGhpcy5hdmNTYW1wbGUsXG4gICAgICAgIGxhc3RVbml0ID0gdm9pZCAwO1xuICAgIC8vIHRyeSB0byBmYWxsYmFjayB0byBwcmV2aW91cyBzYW1wbGUgaWYgY3VycmVudCBvbmUgaXMgZW1wdHlcbiAgICBpZiAoIWF2Y1NhbXBsZSB8fCBhdmNTYW1wbGUudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdmNUcmFjayxcbiAgICAgICAgICBzYW1wbGVzID0gdHJhY2suc2FtcGxlcztcbiAgICAgIGF2Y1NhbXBsZSA9IHNhbXBsZXNbc2FtcGxlcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgaWYgKGF2Y1NhbXBsZSkge1xuICAgICAgdmFyIHVuaXRzID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgbGFzdFVuaXQgPSB1bml0c1t1bml0cy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RVbml0O1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlQVZDTkFMdSA9IGZ1bmN0aW9uIF9wYXJzZUFWQ05BTHUoYXJyYXkpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGxlbiA9IGFycmF5LmJ5dGVMZW5ndGgsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvdmVyZmxvdyxcbiAgICAgICAgdHJhY2sgPSB0aGlzLl9hdmNUcmFjayxcbiAgICAgICAgc3RhdGUgPSB0cmFjay5uYWx1U3RhdGUgfHwgMCxcbiAgICAgICAgbGFzdFN0YXRlID0gc3RhdGU7XG4gICAgdmFyIHVuaXRzID0gW10sXG4gICAgICAgIHVuaXQsXG4gICAgICAgIHVuaXRUeXBlLFxuICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gLTEsXG4gICAgICAgIGxhc3RVbml0VHlwZTtcbiAgICAvL2xvZ2dlci5sb2coJ1BFUzonICsgSGV4LmhleER1bXAoYXJyYXkpKTtcblxuICAgIGlmIChzdGF0ZSA9PT0gLTEpIHtcbiAgICAgIC8vIHNwZWNpYWwgdXNlIGNhc2Ugd2hlcmUgd2UgZm91bmQgMyBvciA0LWJ5dGUgc3RhcnQgY29kZXMgZXhhY3RseSBhdCB0aGUgZW5kIG9mIHByZXZpb3VzIFBFUyBwYWNrZXRcbiAgICAgIGxhc3RVbml0U3RhcnQgPSAwO1xuICAgICAgLy8gTkFMdSB0eXBlIGlzIHZhbHVlIHJlYWQgZnJvbSBvZmZzZXQgMFxuICAgICAgbGFzdFVuaXRUeXBlID0gYXJyYXlbMF0gJiAweDFmO1xuICAgICAgc3RhdGUgPSAwO1xuICAgICAgaSA9IDE7XG4gICAgfVxuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHZhbHVlID0gYXJyYXlbaSsrXTtcbiAgICAgIC8vIG9wdGltaXphdGlvbi4gc3RhdGUgMCBhbmQgMSBhcmUgdGhlIHByZWRvbWluYW50IGNhc2UuIGxldCdzIGhhbmRsZSB0aGVtIG91dHNpZGUgb2YgdGhlIHN3aXRjaC9jYXNlXG4gICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT09IDEpIHtcbiAgICAgICAgc3RhdGUgPSB2YWx1ZSA/IDAgOiAyO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIGhlcmUgd2UgaGF2ZSBzdGF0ZSBlaXRoZXIgZXF1YWwgdG8gMiBvciAzXG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHN0YXRlID0gMztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDEpIHtcbiAgICAgICAgaWYgKGxhc3RVbml0U3RhcnQgPj0gMCkge1xuICAgICAgICAgIHVuaXQgPSB7IGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIGkgLSBzdGF0ZSAtIDEpLCB0eXBlOiBsYXN0VW5pdFR5cGUgfTtcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ3B1c2hpbmcgTkFMVSwgdHlwZS9zaXplOicgKyB1bml0LnR5cGUgKyAnLycgKyB1bml0LmRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsYXN0VW5pdFN0YXJ0IGlzIHVuZGVmaW5lZCA9PiB0aGlzIGlzIHRoZSBmaXJzdCBzdGFydCBjb2RlIGZvdW5kIGluIHRoaXMgUEVTIHBhY2tldFxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHN0YXJ0IGNvZGUgZGVsaW1pdGVyIGlzIG92ZXJsYXBwaW5nIGJldHdlZW4gMiBQRVMgcGFja2V0cyxcbiAgICAgICAgICAvLyBpZSBpdCBzdGFydGVkIGluIGxhc3QgcGFja2V0IChsYXN0U3RhdGUgbm90IHplcm8pXG4gICAgICAgICAgLy8gYW5kIGVuZGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBQRVMgcGFja2V0IChpIDw9IDQgLSBsYXN0U3RhdGUpXG4gICAgICAgICAgdmFyIGxhc3RVbml0ID0gdGhpcy5fZ2V0TGFzdE5hbFVuaXQoKTtcbiAgICAgICAgICBpZiAobGFzdFVuaXQpIHtcbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUgJiYgaSA8PSA0IC0gbGFzdFN0YXRlKSB7XG4gICAgICAgICAgICAgIC8vIHN0YXJ0IGRlbGltaXRlciBvdmVybGFwcGluZyBiZXR3ZWVuIFBFUyBwYWNrZXRzXG4gICAgICAgICAgICAgIC8vIHN0cmlwIHN0YXJ0IGRlbGltaXRlciBieXRlcyBmcm9tIHRoZSBlbmQgb2YgbGFzdCBOQUwgdW5pdFxuICAgICAgICAgICAgICAvLyBjaGVjayBpZiBsYXN0VW5pdCBoYWQgYSBzdGF0ZSBkaWZmZXJlbnQgZnJvbSB6ZXJvXG4gICAgICAgICAgICAgIGlmIChsYXN0VW5pdC5zdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIHN0cmlwIGxhc3QgYnl0ZXNcbiAgICAgICAgICAgICAgICBsYXN0VW5pdC5kYXRhID0gbGFzdFVuaXQuZGF0YS5zdWJhcnJheSgwLCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGggLSBsYXN0U3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBOQUwgdW5pdHMgYXJlIG5vdCBzdGFydGluZyByaWdodCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBQRVMgcGFja2V0LCBwdXNoIHByZWNlZGluZyBkYXRhIGludG8gcHJldmlvdXMgTkFMIHVuaXQuXG4gICAgICAgICAgICBvdmVyZmxvdyA9IGkgLSBzdGF0ZSAtIDE7XG4gICAgICAgICAgICBpZiAob3ZlcmZsb3cgPiAwKSB7XG4gICAgICAgICAgICAgIC8vbG9nZ2VyLmxvZygnZmlyc3QgTkFMVSBmb3VuZCB3aXRoIG92ZXJmbG93OicgKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgVWludDhBcnJheShsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGggKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgIHRtcC5zZXQobGFzdFVuaXQuZGF0YSwgMCk7XG4gICAgICAgICAgICAgIHRtcC5zZXQoYXJyYXkuc3ViYXJyYXkoMCwgb3ZlcmZsb3cpLCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICBsYXN0VW5pdC5kYXRhID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB3ZSBjYW4gcmVhZCB1bml0IHR5cGVcbiAgICAgICAgaWYgKGkgPCBsZW4pIHtcbiAgICAgICAgICB1bml0VHlwZSA9IGFycmF5W2ldICYgMHgxZjtcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ2ZpbmQgTkFMVSBAIG9mZnNldDonICsgaSArICcsdHlwZTonICsgdW5pdFR5cGUpO1xuICAgICAgICAgIGxhc3RVbml0U3RhcnQgPSBpO1xuICAgICAgICAgIGxhc3RVbml0VHlwZSA9IHVuaXRUeXBlO1xuICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub3QgZW5vdWdoIGJ5dGUgdG8gcmVhZCB1bml0IHR5cGUuIGxldCdzIHJlYWQgaXQgb24gbmV4dCBQRVMgcGFyc2luZ1xuICAgICAgICAgIHN0YXRlID0gLTE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3RVbml0U3RhcnQgPj0gMCAmJiBzdGF0ZSA+PSAwKSB7XG4gICAgICB1bml0ID0geyBkYXRhOiBhcnJheS5zdWJhcnJheShsYXN0VW5pdFN0YXJ0LCBsZW4pLCB0eXBlOiBsYXN0VW5pdFR5cGUsIHN0YXRlOiBzdGF0ZSB9O1xuICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgIC8vbG9nZ2VyLmxvZygncHVzaGluZyBOQUxVLCB0eXBlL3NpemUvc3RhdGU6JyArIHVuaXQudHlwZSArICcvJyArIHVuaXQuZGF0YS5ieXRlTGVuZ3RoICsgJy8nICsgc3RhdGUpO1xuICAgIH1cbiAgICAvLyBubyBOQUx1IGZvdW5kXG4gICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gYXBwZW5kIHBlcy5kYXRhIHRvIHByZXZpb3VzIE5BTCB1bml0XG4gICAgICB2YXIgX2xhc3RVbml0ID0gdGhpcy5fZ2V0TGFzdE5hbFVuaXQoKTtcbiAgICAgIGlmIChfbGFzdFVuaXQpIHtcbiAgICAgICAgdmFyIF90bXAgPSBuZXcgVWludDhBcnJheShfbGFzdFVuaXQuZGF0YS5ieXRlTGVuZ3RoICsgYXJyYXkuYnl0ZUxlbmd0aCk7XG4gICAgICAgIF90bXAuc2V0KF9sYXN0VW5pdC5kYXRhLCAwKTtcbiAgICAgICAgX3RtcC5zZXQoYXJyYXksIF9sYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICBfbGFzdFVuaXQuZGF0YSA9IF90bXA7XG4gICAgICB9XG4gICAgfVxuICAgIHRyYWNrLm5hbHVTdGF0ZSA9IHN0YXRlO1xuICAgIHJldHVybiB1bml0cztcbiAgfTtcblxuICAvKipcbiAgICogcmVtb3ZlIEVtdWxhdGlvbiBQcmV2ZW50aW9uIGJ5dGVzIGZyb20gYSBSQlNQXG4gICAqL1xuXG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kaXNjYXJkRVBCID0gZnVuY3Rpb24gZGlzY2FyZEVQQihkYXRhKSB7XG4gICAgdmFyIGxlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgRVBCUG9zaXRpb25zID0gW10sXG4gICAgICAgIGkgPSAxLFxuICAgICAgICBuZXdMZW5ndGgsXG4gICAgICAgIG5ld0RhdGE7XG5cbiAgICAvLyBGaW5kIGFsbCBgRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXNgXG4gICAgd2hpbGUgKGkgPCBsZW5ndGggLSAyKSB7XG4gICAgICBpZiAoZGF0YVtpXSA9PT0gMCAmJiBkYXRhW2kgKyAxXSA9PT0gMCAmJiBkYXRhW2kgKyAyXSA9PT0gMHgwMykge1xuICAgICAgICBFUEJQb3NpdGlvbnMucHVzaChpICsgMik7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBubyBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB3ZXJlIGZvdW5kIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAgIC8vIGFycmF5XG4gICAgaWYgKEVQQlBvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIG5ldyBhcnJheSB0byBob2xkIHRoZSBOQUwgdW5pdCBkYXRhXG4gICAgbmV3TGVuZ3RoID0gbGVuZ3RoIC0gRVBCUG9zaXRpb25zLmxlbmd0aDtcbiAgICBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTtcbiAgICB2YXIgc291cmNlSW5kZXggPSAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5ld0xlbmd0aDsgc291cmNlSW5kZXgrKywgaSsrKSB7XG4gICAgICBpZiAoc291cmNlSW5kZXggPT09IEVQQlBvc2l0aW9uc1swXSkge1xuICAgICAgICAvLyBTa2lwIHRoaXMgYnl0ZVxuICAgICAgICBzb3VyY2VJbmRleCsrO1xuICAgICAgICAvLyBSZW1vdmUgdGhpcyBwb3NpdGlvbiBpbmRleFxuICAgICAgICBFUEJQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0RhdGE7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VBQUNQRVMgPSBmdW5jdGlvbiBfcGFyc2VBQUNQRVMocGVzKSB7XG4gICAgdmFyIHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjayxcbiAgICAgICAgZGF0YSA9IHBlcy5kYXRhLFxuICAgICAgICBwdHMgPSBwZXMucHRzLFxuICAgICAgICBzdGFydE9mZnNldCA9IDAsXG4gICAgICAgIGFhY092ZXJGbG93ID0gdGhpcy5hYWNPdmVyRmxvdyxcbiAgICAgICAgYWFjTGFzdFBUUyA9IHRoaXMuYWFjTGFzdFBUUyxcbiAgICAgICAgZnJhbWVEdXJhdGlvbixcbiAgICAgICAgZnJhbWVJbmRleCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBzdGFtcCxcbiAgICAgICAgbGVuO1xuICAgIGlmIChhYWNPdmVyRmxvdykge1xuICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGFhY092ZXJGbG93LmJ5dGVMZW5ndGggKyBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgdG1wLnNldChhYWNPdmVyRmxvdywgMCk7XG4gICAgICB0bXAuc2V0KGRhdGEsIGFhY092ZXJGbG93LmJ5dGVMZW5ndGgpO1xuICAgICAgLy9sb2dnZXIubG9nKGBBQUM6IGFwcGVuZCBvdmVyZmxvd2luZyAke2FhY092ZXJGbG93LmJ5dGVMZW5ndGh9IGJ5dGVzIHRvIGJlZ2lubmluZyBvZiBuZXcgUEVTYCk7XG4gICAgICBkYXRhID0gdG1wO1xuICAgIH1cbiAgICAvLyBsb29rIGZvciBBRFRTIGhlYWRlciAoMHhGRkZ4KVxuICAgIGZvciAob2Zmc2V0ID0gc3RhcnRPZmZzZXQsIGxlbiA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW4gLSAxOyBvZmZzZXQrKykge1xuICAgICAgaWYgKGlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIEFEVFMgaGVhZGVyIGRvZXMgbm90IHN0YXJ0IHN0cmFpZ2h0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgUEVTIHBheWxvYWQsIHJhaXNlIGFuIGVycm9yXG4gICAgaWYgKG9mZnNldCkge1xuICAgICAgdmFyIHJlYXNvbiwgZmF0YWw7XG4gICAgICBpZiAob2Zmc2V0IDwgbGVuIC0gMSkge1xuICAgICAgICByZWFzb24gPSAnQUFDIFBFUyBkaWQgbm90IHN0YXJ0IHdpdGggQURUUyBoZWFkZXIsb2Zmc2V0OicgKyBvZmZzZXQ7XG4gICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWFzb24gPSAnbm8gQURUUyBoZWFkZXIgZm91bmQgaW4gQUFDIFBFUyc7XG4gICAgICAgIGZhdGFsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3BhcnNpbmcgZXJyb3I6JyArIHJlYXNvbik7XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogZmF0YWwsIHJlYXNvbjogcmVhc29uIH0pO1xuICAgICAgaWYgKGZhdGFsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0VHJhY2tDb25maWcodHJhY2ssIHRoaXMub2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgdGhpcy5hdWRpb0NvZGVjKTtcbiAgICBmcmFtZUluZGV4ID0gMDtcbiAgICBmcmFtZUR1cmF0aW9uID0gZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcblxuICAgIC8vIGlmIGxhc3QgQUFDIGZyYW1lIGlzIG92ZXJmbG93aW5nLCB3ZSBzaG91bGQgZW5zdXJlIHRpbWVzdGFtcHMgYXJlIGNvbnRpZ3VvdXM6XG4gICAgLy8gZmlyc3Qgc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZnJhbWVEdXJhdGlvblxuICAgIGlmIChhYWNPdmVyRmxvdyAmJiBhYWNMYXN0UFRTKSB7XG4gICAgICB2YXIgbmV3UFRTID0gYWFjTGFzdFBUUyArIGZyYW1lRHVyYXRpb247XG4gICAgICBpZiAoTWF0aC5hYnMobmV3UFRTIC0gcHRzKSA+IDEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBQUM6IGFsaWduIFBUUyBmb3Igb3ZlcmxhcHBpbmcgZnJhbWVzIGJ5ICcgKyBNYXRoLnJvdW5kKChuZXdQVFMgLSBwdHMpIC8gOTApKTtcbiAgICAgICAgcHRzID0gbmV3UFRTO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vc2NhbiBmb3IgYWFjIHNhbXBsZXNcbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBpZiAoaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiBvZmZzZXQgKyA1IDwgbGVuKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZyhgJHtNYXRoLnJvdW5kKGZyYW1lLnNhbXBsZS5wdHMpfSA6IEFBQ2ApO1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ1VuYWJsZSB0byBwYXJzZSBBQUMgZnJhbWUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9mZnNldCA8IGxlbikge1xuICAgICAgYWFjT3ZlckZsb3cgPSBkYXRhLnN1YmFycmF5KG9mZnNldCwgbGVuKTtcbiAgICAgIC8vbG9nZ2VyLmxvZyhgQUFDOiBvdmVyZmxvdyBkZXRlY3RlZDoke2xlbi1vZmZzZXR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFhY092ZXJGbG93ID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5hYWNPdmVyRmxvdyA9IGFhY092ZXJGbG93O1xuICAgIHRoaXMuYWFjTGFzdFBUUyA9IHN0YW1wO1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlTVBFR1BFUyA9IGZ1bmN0aW9uIF9wYXJzZU1QRUdQRVMocGVzKSB7XG4gICAgdmFyIGRhdGEgPSBwZXMuZGF0YTtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgdmFyIGZyYW1lSW5kZXggPSAwO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBwdHMgPSBwZXMucHRzO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgaWYgKG1wZWdhdWRpby5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IG1wZWdhdWRpby5hcHBlbmRGcmFtZSh0aGlzLl9hdWRpb1RyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIE1wZWcgYXVkaW8gZnJhbWUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlSUQzUEVTID0gZnVuY3Rpb24gX3BhcnNlSUQzUEVTKHBlcykge1xuICAgIHRoaXMuX2lkM1RyYWNrLnNhbXBsZXMucHVzaChwZXMpO1xuICB9O1xuXG4gIHJldHVybiBUU0RlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRzZGVtdXhlciA9ICh0c2RlbXV4ZXJfVFNEZW11eGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanNcbmZ1bmN0aW9uIG1wM2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBNUDMgZGVtdXhlclxuICovXG5cblxuXG5cbnZhciBtcDNkZW11eGVyX01QM0RlbXV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1QM0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZykge1xuICAgIG1wM2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QM0RlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gIH1cblxuICBNUDNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gcmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICB0aGlzLl9hdWRpb1RyYWNrID0geyBjb250YWluZXI6ICdhdWRpby9tcGVnJywgdHlwZTogJ2F1ZGlvJywgaWQ6IC0xLCBzZXF1ZW5jZU51bWJlcjogMCwgaXNBQUM6IGZhbHNlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICB9O1xuXG4gIE1QM0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gcmVzZXRUaW1lU3RhbXAoKSB7fTtcblxuICBNUDNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gcHJvYmUoZGF0YSkge1xuICAgIC8vIGNoZWNrIGlmIGRhdGEgY29udGFpbnMgSUQzIHRpbWVzdGFtcCBhbmQgTVBFRyBzeW5jIHdvcmRcbiAgICB2YXIgb2Zmc2V0LCBsZW5ndGg7XG4gICAgdmFyIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCAwKTtcbiAgICBpZiAoaWQzRGF0YSAmJiBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0VGltZVN0YW1wKGlkM0RhdGEpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIExvb2sgZm9yIE1QRUcgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExWCBYWVpYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMSBhbmQgWSBvciBaIHNob3VsZCBiZSAxXG4gICAgICAvLyBMYXllciBiaXRzIChwb3NpdGlvbiAxNCBhbmQgMTUpIGluIGhlYWRlciBzaG91bGQgYmUgYWx3YXlzIGRpZmZlcmVudCBmcm9tIDAgKExheWVyIEkgb3IgTGF5ZXIgSUkgb3IgTGF5ZXIgSUlJKVxuICAgICAgLy8gTW9yZSBpbmZvIGh0dHA6Ly93d3cubXAzLXRlY2gub3JnL3Byb2dyYW1tZXIvZnJhbWVfaGVhZGVyLmh0bWxcbiAgICAgIGZvciAob2Zmc2V0ID0gaWQzRGF0YS5sZW5ndGgsIGxlbmd0aCA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMSwgb2Zmc2V0ICsgMTAwKTsgb2Zmc2V0IDwgbGVuZ3RoOyBvZmZzZXQrKykge1xuICAgICAgICBpZiAobXBlZ2F1ZGlvLnByb2JlKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01QRUcgQXVkaW8gc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG5cbiAgTVAzRGVtdXhlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIHZhciBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgMCk7XG4gICAgdmFyIHB0cyA9IDkwICogaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldFRpbWVTdGFtcChpZDNEYXRhKTtcbiAgICB2YXIgb2Zmc2V0ID0gaWQzRGF0YS5sZW5ndGg7XG4gICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBmcmFtZUluZGV4ID0gMCxcbiAgICAgICAgc3RhbXAgPSAwO1xuICAgIHZhciB0cmFjayA9IHRoaXMuX2F1ZGlvVHJhY2s7XG5cbiAgICB2YXIgaWQzU2FtcGxlcyA9IFt7IHB0czogcHRzLCBkdHM6IHB0cywgZGF0YTogaWQzRGF0YSB9XTtcblxuICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGgpIHtcbiAgICAgIGlmIChtcGVnYXVkaW8uaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICB2YXIgZnJhbWUgPSBtcGVnYXVkaW8uYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICBzdGFtcCA9IGZyYW1lLnNhbXBsZS5wdHM7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIE1wZWcgYXVkaW8gZnJhbWUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgb2Zmc2V0ICs9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW11eGVyLnJlbXV4KHRyYWNrLCB7IHNhbXBsZXM6IFtdIH0sIHsgc2FtcGxlczogaWQzU2FtcGxlcywgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH0sIHsgc2FtcGxlczogW10gfSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgfTtcblxuICBNUDNEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIHJldHVybiBNUDNEZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtcDNkZW11eGVyID0gKG1wM2RlbXV4ZXJfTVAzRGVtdXhlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9oZWxwZXIvYWFjLmpzXG5mdW5jdGlvbiBhYWNfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiAgQUFDIGhlbHBlclxuICovXG5cbnZhciBBQUMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFBQygpIHtcbiAgICBhYWNfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFBQyk7XG4gIH1cblxuICBBQUMuZ2V0U2lsZW50RnJhbWUgPSBmdW5jdGlvbiBnZXRTaWxlbnRGcmFtZShjb2RlYywgY2hhbm5lbENvdW50KSB7XG4gICAgc3dpdGNoIChjb2RlYykge1xuICAgICAgY2FzZSAnbXA0YS40MC4yJzpcbiAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgyMSwgMHgwMCwgMHg0OSwgMHg5MCwgMHgwMiwgMHgxOSwgMHgwMCwgMHgyMywgMHg4MF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMykge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4ZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNCkge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNSkge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MiwgMHgzMCwgMHgwNCwgMHg5OSwgMHgwMCwgMHgyMSwgMHg5MCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNikge1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MiwgMHgzMCwgMHgwNCwgMHg5OSwgMHgwMCwgMHgyMSwgMHg5MCwgMHgwMiwgMHgwMCwgMHhiMiwgMHgwMCwgMHgyMCwgMHgwOCwgMHhlMF0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gaGFuZGxlIEhFLUFBQyBiZWxvdyAobXA0YS40MC41IC8gbXA0YS40MC4yOSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZSAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDRlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MWMsIDB4NiwgMHhmMSwgMHhjMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZV92MiAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMykge1xuICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTB8MHwwOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZV92MiAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gQUFDO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhYWMgPSAoQUFDKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanNcbmZ1bmN0aW9uIG1wNF9nZW5lcmF0b3JfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBHZW5lcmF0ZSBNUDQgQm94XG4qL1xuXG4vL2ltcG9ydCBIZXggZnJvbSAnLi4vdXRpbHMvaGV4JztcblxudmFyIG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG5cbnZhciBNUDQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1QNCgpIHtcbiAgICBtcDRfZ2VuZXJhdG9yX19jbGFzc0NhbGxDaGVjayh0aGlzLCBNUDQpO1xuICB9XG5cbiAgTVA0LmluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICAgIE1QNC50eXBlcyA9IHtcbiAgICAgIGF2YzE6IFtdLCAvLyBjb2RpbmduYW1lXG4gICAgICBhdmNDOiBbXSxcbiAgICAgIGJ0cnQ6IFtdLFxuICAgICAgZGluZjogW10sXG4gICAgICBkcmVmOiBbXSxcbiAgICAgIGVzZHM6IFtdLFxuICAgICAgZnR5cDogW10sXG4gICAgICBoZGxyOiBbXSxcbiAgICAgIG1kYXQ6IFtdLFxuICAgICAgbWRoZDogW10sXG4gICAgICBtZGlhOiBbXSxcbiAgICAgIG1maGQ6IFtdLFxuICAgICAgbWluZjogW10sXG4gICAgICBtb29mOiBbXSxcbiAgICAgIG1vb3Y6IFtdLFxuICAgICAgbXA0YTogW10sXG4gICAgICAnLm1wMyc6IFtdLFxuICAgICAgbXZleDogW10sXG4gICAgICBtdmhkOiBbXSxcbiAgICAgIHBhc3A6IFtdLFxuICAgICAgc2R0cDogW10sXG4gICAgICBzdGJsOiBbXSxcbiAgICAgIHN0Y286IFtdLFxuICAgICAgc3RzYzogW10sXG4gICAgICBzdHNkOiBbXSxcbiAgICAgIHN0c3o6IFtdLFxuICAgICAgc3R0czogW10sXG4gICAgICB0ZmR0OiBbXSxcbiAgICAgIHRmaGQ6IFtdLFxuICAgICAgdHJhZjogW10sXG4gICAgICB0cmFrOiBbXSxcbiAgICAgIHRydW46IFtdLFxuICAgICAgdHJleDogW10sXG4gICAgICB0a2hkOiBbXSxcbiAgICAgIHZtaGQ6IFtdLFxuICAgICAgc21oZDogW11cbiAgICB9O1xuXG4gICAgdmFyIGk7XG4gICAgZm9yIChpIGluIE1QNC50eXBlcykge1xuICAgICAgaWYgKE1QNC50eXBlcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBNUDQudHlwZXNbaV0gPSBbaS5jaGFyQ29kZUF0KDApLCBpLmNoYXJDb2RlQXQoMSksIGkuY2hhckNvZGVBdCgyKSwgaS5jaGFyQ29kZUF0KDMpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmlkZW9IZGxyID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAweDc2LCAweDY5LCAweDY0LCAweDY1LCAvLyBoYW5kbGVyX3R5cGU6ICd2aWRlJ1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4NTYsIDB4NjksIDB4NjQsIDB4NjUsIDB4NmYsIDB4NDgsIDB4NjEsIDB4NmUsIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogJ1ZpZGVvSGFuZGxlcidcbiAgICBdKTtcblxuICAgIHZhciBhdWRpb0hkbHIgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIDB4NzMsIDB4NmYsIDB4NzUsIDB4NmUsIC8vIGhhbmRsZXJfdHlwZTogJ3NvdW4nXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHg1MywgMHg2ZiwgMHg3NSwgMHg2ZSwgMHg2NCwgMHg0OCwgMHg2MSwgMHg2ZSwgMHg2NCwgMHg2YywgMHg2NSwgMHg3MiwgMHgwMCAvLyBuYW1lOiAnU291bmRIYW5kbGVyJ1xuICAgIF0pO1xuXG4gICAgTVA0LkhETFJfVFlQRVMgPSB7XG4gICAgICAndmlkZW8nOiB2aWRlb0hkbHIsXG4gICAgICAnYXVkaW8nOiBhdWRpb0hkbHJcbiAgICB9O1xuXG4gICAgdmFyIGRyZWYgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyBlbnRyeV9jb3VudFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MGMsIC8vIGVudHJ5X3NpemVcbiAgICAweDc1LCAweDcyLCAweDZjLCAweDIwLCAvLyAndXJsJyB0eXBlXG4gICAgMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMSAvLyBlbnRyeV9mbGFnc1xuICAgIF0pO1xuXG4gICAgdmFyIHN0Y28gPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCAvLyBlbnRyeV9jb3VudFxuICAgIF0pO1xuXG4gICAgTVA0LlNUVFMgPSBNUDQuU1RTQyA9IE1QNC5TVENPID0gc3RjbztcblxuICAgIE1QNC5TVFNaID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb25cbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHNhbXBsZV9zaXplXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0pO1xuICAgIE1QNC5WTUhEID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb25cbiAgICAweDAwLCAweDAwLCAweDAxLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIC8vIGdyYXBoaWNzbW9kZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gb3Bjb2xvclxuICAgIF0pO1xuICAgIE1QNC5TTUhEID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb25cbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIC8vIGJhbGFuY2VcbiAgICAweDAwLCAweDAwIC8vIHJlc2VydmVkXG4gICAgXSk7XG5cbiAgICBNUDQuU1RTRCA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDFdKTsgLy8gZW50cnlfY291bnRcblxuICAgIHZhciBtYWpvckJyYW5kID0gbmV3IFVpbnQ4QXJyYXkoWzEwNSwgMTE1LCAxMTEsIDEwOV0pOyAvLyBpc29tXG4gICAgdmFyIGF2YzFCcmFuZCA9IG5ldyBVaW50OEFycmF5KFs5NywgMTE4LCA5OSwgNDldKTsgLy8gYXZjMVxuICAgIHZhciBtaW5vclZlcnNpb24gPSBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMV0pO1xuXG4gICAgTVA0LkZUWVAgPSBNUDQuYm94KE1QNC50eXBlcy5mdHlwLCBtYWpvckJyYW5kLCBtaW5vclZlcnNpb24sIG1ham9yQnJhbmQsIGF2YzFCcmFuZCk7XG4gICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gIH07XG5cbiAgTVA0LmJveCA9IGZ1bmN0aW9uIGJveCh0eXBlKSB7XG4gICAgdmFyIHBheWxvYWQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICBzaXplID0gOCxcbiAgICAgICAgaSA9IHBheWxvYWQubGVuZ3RoLFxuICAgICAgICBsZW4gPSBpLFxuICAgICAgICByZXN1bHQ7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBzaXplIHdlIG5lZWQgdG8gYWxsb2NhdGVcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBzaXplICs9IHBheWxvYWRbaV0uYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgcmVzdWx0WzBdID0gc2l6ZSA+PiAyNCAmIDB4ZmY7XG4gICAgcmVzdWx0WzFdID0gc2l6ZSA+PiAxNiAmIDB4ZmY7XG4gICAgcmVzdWx0WzJdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgICByZXN1bHRbM10gPSBzaXplICYgMHhmZjtcbiAgICByZXN1bHQuc2V0KHR5cGUsIDQpO1xuICAgIC8vIGNvcHkgdGhlIHBheWxvYWQgaW50byB0aGUgcmVzdWx0XG4gICAgZm9yIChpID0gMCwgc2l6ZSA9IDg7IGkgPCBsZW47IGkrKykge1xuICAgICAgLy8gY29weSBwYXlsb2FkW2ldIGFycmF5IEAgb2Zmc2V0IHNpemVcbiAgICAgIHJlc3VsdC5zZXQocGF5bG9hZFtpXSwgc2l6ZSk7XG4gICAgICBzaXplICs9IHBheWxvYWRbaV0uYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBNUDQuaGRsciA9IGZ1bmN0aW9uIGhkbHIodHlwZSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5oZGxyLCBNUDQuSERMUl9UWVBFU1t0eXBlXSk7XG4gIH07XG5cbiAgTVA0Lm1kYXQgPSBmdW5jdGlvbiBtZGF0KGRhdGEpIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRhdCwgZGF0YSk7XG4gIH07XG5cbiAgTVA0Lm1kaGQgPSBmdW5jdGlvbiBtZGhkKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICBkdXJhdGlvbiAqPSB0aW1lc2NhbGU7XG4gICAgdmFyIHVwcGVyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIChtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVggKyAxKSk7XG4gICAgdmFyIGxvd2VyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAlIChtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVggKyAxKSk7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaGQsIG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uIDFcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAzLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgIHRpbWVzY2FsZSA+PiAyNCAmIDB4RkYsIHRpbWVzY2FsZSA+PiAxNiAmIDB4RkYsIHRpbWVzY2FsZSA+PiA4ICYgMHhGRiwgdGltZXNjYWxlICYgMHhGRiwgLy8gdGltZXNjYWxlXG4gICAgdXBwZXJXb3JkRHVyYXRpb24gPj4gMjQsIHVwcGVyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgdXBwZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gMjQsIGxvd2VyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uICYgMHhGRiwgMHg1NSwgMHhjNCwgLy8gJ3VuZCcgbGFuZ3VhZ2UgKHVuZGV0ZXJtaW5lZClcbiAgICAweDAwLCAweDAwXSkpO1xuICB9O1xuXG4gIE1QNC5tZGlhID0gZnVuY3Rpb24gbWRpYSh0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZCh0cmFjay50aW1lc2NhbGUsIHRyYWNrLmR1cmF0aW9uKSwgTVA0LmhkbHIodHJhY2sudHlwZSksIE1QNC5taW5mKHRyYWNrKSk7XG4gIH07XG5cbiAgTVA0Lm1maGQgPSBmdW5jdGlvbiBtZmhkKHNlcXVlbmNlTnVtYmVyKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1maGQsIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIHNlcXVlbmNlTnVtYmVyID4+IDI0LCBzZXF1ZW5jZU51bWJlciA+PiAxNiAmIDB4RkYsIHNlcXVlbmNlTnVtYmVyID4+IDggJiAweEZGLCBzZXF1ZW5jZU51bWJlciAmIDB4RkZdKSAvLyBzZXF1ZW5jZV9udW1iZXJcbiAgICApO1xuICB9O1xuXG4gIE1QNC5taW5mID0gZnVuY3Rpb24gbWluZih0cmFjaykge1xuICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgTVA0LmJveChNUDQudHlwZXMuc21oZCwgTVA0LlNNSEQpLCBNUDQuRElORiwgTVA0LnN0YmwodHJhY2spKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIE1QNC5ib3goTVA0LnR5cGVzLnZtaGQsIE1QNC5WTUhEKSwgTVA0LkRJTkYsIE1QNC5zdGJsKHRyYWNrKSk7XG4gICAgfVxuICB9O1xuXG4gIE1QNC5tb29mID0gZnVuY3Rpb24gbW9vZihzbiwgYmFzZU1lZGlhRGVjb2RlVGltZSwgdHJhY2spIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubW9vZiwgTVA0Lm1maGQoc24pLCBNUDQudHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkpO1xuICB9O1xuICAvKipcbiAgICogQHBhcmFtIHRyYWNrcy4uLiAob3B0aW9uYWwpIHthcnJheX0gdGhlIHRyYWNrcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb3ZpZVxuICAgKi9cblxuXG4gIE1QNC5tb292ID0gZnVuY3Rpb24gbW9vdih0cmFja3MpIHtcbiAgICB2YXIgaSA9IHRyYWNrcy5sZW5ndGgsXG4gICAgICAgIGJveGVzID0gW107XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBib3hlc1tpXSA9IE1QNC50cmFrKHRyYWNrc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tb292LCBNUDQubXZoZCh0cmFja3NbMF0udGltZXNjYWxlLCB0cmFja3NbMF0uZHVyYXRpb24pXS5jb25jYXQoYm94ZXMpLmNvbmNhdChNUDQubXZleCh0cmFja3MpKSk7XG4gIH07XG5cbiAgTVA0Lm12ZXggPSBmdW5jdGlvbiBtdmV4KHRyYWNrcykge1xuICAgIHZhciBpID0gdHJhY2tzLmxlbmd0aCxcbiAgICAgICAgYm94ZXMgPSBbXTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGJveGVzW2ldID0gTVA0LnRyZXgodHJhY2tzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tdmV4XS5jb25jYXQoYm94ZXMpKTtcbiAgfTtcblxuICBNUDQubXZoZCA9IGZ1bmN0aW9uIG12aGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uICo9IHRpbWVzY2FsZTtcbiAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCArIDEpKTtcbiAgICB2YXIgbG93ZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uICUgKG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCArIDEpKTtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLCAvLyBjcmVhdGlvbl90aW1lXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMywgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICB0aW1lc2NhbGUgPj4gMjQgJiAweEZGLCB0aW1lc2NhbGUgPj4gMTYgJiAweEZGLCB0aW1lc2NhbGUgPj4gOCAmIDB4RkYsIHRpbWVzY2FsZSAmIDB4RkYsIC8vIHRpbWVzY2FsZVxuICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LCB1cHBlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDI0LCBsb3dlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIDEuMCByYXRlXG4gICAgMHgwMSwgMHgwMCwgLy8gMS4wIHZvbHVtZVxuICAgIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHRyYW5zZm9ybWF0aW9uOiB1bml0eSBtYXRyaXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYgLy8gbmV4dF90cmFja19JRFxuICAgIF0pO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBieXRlcyk7XG4gIH07XG5cbiAgTVA0LnNkdHAgPSBmdW5jdGlvbiBzZHRwKHRyYWNrKSB7XG4gICAgdmFyIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdLFxuICAgICAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KDQgKyBzYW1wbGVzLmxlbmd0aCksXG4gICAgICAgIGZsYWdzLFxuICAgICAgICBpO1xuICAgIC8vIGxlYXZlIHRoZSBmdWxsIGJveCBoZWFkZXIgKDQgYnl0ZXMpIGFsbCB6ZXJvXG4gICAgLy8gd3JpdGUgdGhlIHNhbXBsZSB0YWJsZVxuICAgIGZvciAoaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbGFncyA9IHNhbXBsZXNbaV0uZmxhZ3M7XG4gICAgICBieXRlc1tpICsgNF0gPSBmbGFncy5kZXBlbmRzT24gPDwgNCB8IGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyIHwgZmxhZ3MuaGFzUmVkdW5kYW5jeTtcbiAgICB9XG5cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgYnl0ZXMpO1xuICB9O1xuXG4gIE1QNC5zdGJsID0gZnVuY3Rpb24gc3RibCh0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdGJsLCBNUDQuc3RzZCh0cmFjayksIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5TVFRTKSwgTVA0LmJveChNUDQudHlwZXMuc3RzYywgTVA0LlNUU0MpLCBNUDQuYm94KE1QNC50eXBlcy5zdHN6LCBNUDQuU1RTWiksIE1QNC5ib3goTVA0LnR5cGVzLnN0Y28sIE1QNC5TVENPKSk7XG4gIH07XG5cbiAgTVA0LmF2YzEgPSBmdW5jdGlvbiBhdmMxKHRyYWNrKSB7XG4gICAgdmFyIHNwcyA9IFtdLFxuICAgICAgICBwcHMgPSBbXSxcbiAgICAgICAgaSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgbGVuO1xuICAgIC8vIGFzc2VtYmxlIHRoZSBTUFNzXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJhY2suc3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhID0gdHJhY2suc3BzW2ldO1xuICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgc3BzLnB1c2gobGVuID4+PiA4ICYgMHhGRik7XG4gICAgICBzcHMucHVzaChsZW4gJiAweEZGKTtcbiAgICAgIHNwcyA9IHNwcy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YSkpOyAvLyBTUFNcbiAgICB9XG5cbiAgICAvLyBhc3NlbWJsZSB0aGUgUFBTc1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmFjay5wcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEgPSB0cmFjay5wcHNbaV07XG4gICAgICBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBwcHMucHVzaChsZW4gPj4+IDggJiAweEZGKTtcbiAgICAgIHBwcy5wdXNoKGxlbiAmIDB4RkYpO1xuICAgICAgcHBzID0gcHBzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhKSk7XG4gICAgfVxuXG4gICAgdmFyIGF2Y2MgPSBNUDQuYm94KE1QNC50eXBlcy5hdmNDLCBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvblxuICAgIHNwc1szXSwgLy8gcHJvZmlsZVxuICAgIHNwc1s0XSwgLy8gcHJvZmlsZSBjb21wYXRcbiAgICBzcHNbNV0sIC8vIGxldmVsXG4gICAgMHhmYyB8IDMsIC8vIGxlbmd0aFNpemVNaW51c09uZSwgaGFyZC1jb2RlZCB0byA0IGJ5dGVzXG4gICAgMHhFMCB8IHRyYWNrLnNwcy5sZW5ndGggLy8gM2JpdCByZXNlcnZlZCAoMTExKSArIG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzXG4gICAgXS5jb25jYXQoc3BzKS5jb25jYXQoW3RyYWNrLnBwcy5sZW5ndGggLy8gbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0c1xuICAgIF0pLmNvbmNhdChwcHMpKSksXG4gICAgICAgIC8vIFwiUFBTXCJcbiAgICB3aWR0aCA9IHRyYWNrLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSB0cmFjay5oZWlnaHQsXG4gICAgICAgIGhTcGFjaW5nID0gdHJhY2sucGl4ZWxSYXRpb1swXSxcbiAgICAgICAgdlNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzFdO1xuICAgIC8vY29uc29sZS5sb2coJ2F2Y2M6JyArIEhleC5oZXhEdW1wKGF2Y2MpKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAvLyBkYXRhX3JlZmVyZW5jZV9pbmRleFxuICAgIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIHdpZHRoID4+IDggJiAweEZGLCB3aWR0aCAmIDB4ZmYsIC8vIHdpZHRoXG4gICAgaGVpZ2h0ID4+IDggJiAweEZGLCBoZWlnaHQgJiAweGZmLCAvLyBoZWlnaHRcbiAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyBob3JpenJlc29sdXRpb25cbiAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyB2ZXJ0cmVzb2x1dGlvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZnJhbWVfY291bnRcbiAgICAweDEyLCAweDY0LCAweDYxLCAweDY5LCAweDZDLCAvL2RhaWx5bW90aW9uL2hscy5qc1xuICAgIDB4NzksIDB4NkQsIDB4NkYsIDB4NzQsIDB4NjksIDB4NkYsIDB4NkUsIDB4MkYsIDB4NjgsIDB4NkMsIDB4NzMsIDB4MkUsIDB4NkEsIDB4NzMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGNvbXByZXNzb3JuYW1lXG4gICAgMHgwMCwgMHgxOCwgLy8gZGVwdGggPSAyNFxuICAgIDB4MTEsIDB4MTFdKSwgLy8gcHJlX2RlZmluZWQgPSAtMVxuICAgIGF2Y2MsIE1QNC5ib3goTVA0LnR5cGVzLmJ0cnQsIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDFjLCAweDljLCAweDgwLCAvLyBidWZmZXJTaXplREJcbiAgICAweDAwLCAweDJkLCAweGM2LCAweGMwLCAvLyBtYXhCaXRyYXRlXG4gICAgMHgwMCwgMHgyZCwgMHhjNiwgMHhjMF0pKSwgLy8gYXZnQml0cmF0ZVxuICAgIE1QNC5ib3goTVA0LnR5cGVzLnBhc3AsIG5ldyBVaW50OEFycmF5KFtoU3BhY2luZyA+PiAyNCwgLy8gaFNwYWNpbmdcbiAgICBoU3BhY2luZyA+PiAxNiAmIDB4RkYsIGhTcGFjaW5nID4+IDggJiAweEZGLCBoU3BhY2luZyAmIDB4RkYsIHZTcGFjaW5nID4+IDI0LCAvLyB2U3BhY2luZ1xuICAgIHZTcGFjaW5nID4+IDE2ICYgMHhGRiwgdlNwYWNpbmcgPj4gOCAmIDB4RkYsIHZTcGFjaW5nICYgMHhGRl0pKSk7XG4gIH07XG5cbiAgTVA0LmVzZHMgPSBmdW5jdGlvbiBlc2RzKHRyYWNrKSB7XG4gICAgdmFyIGNvbmZpZ2xlbiA9IHRyYWNrLmNvbmZpZy5sZW5ndGg7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuXG4gICAgMHgwMywgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgMHgxNyArIGNvbmZpZ2xlbiwgLy8gbGVuZ3RoXG4gICAgMHgwMCwgMHgwMSwgLy9lc19pZFxuICAgIDB4MDAsIC8vIHN0cmVhbV9wcmlvcml0eVxuXG4gICAgMHgwNCwgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgMHgwZiArIGNvbmZpZ2xlbiwgLy8gbGVuZ3RoXG4gICAgMHg0MCwgLy9jb2RlYyA6IG1wZWc0X2F1ZGlvXG4gICAgMHgxNSwgLy8gc3RyZWFtX3R5cGVcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBidWZmZXJfc2l6ZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1heEJpdHJhdGVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBhdmdCaXRyYXRlXG5cbiAgICAweDA1IC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgIF0uY29uY2F0KFtjb25maWdsZW5dKS5jb25jYXQodHJhY2suY29uZmlnKS5jb25jYXQoWzB4MDYsIDB4MDEsIDB4MDJdKSk7IC8vIEdBU3BlY2lmaWNDb25maWcpKTsgLy8gbGVuZ3RoICsgYXVkaW8gY29uZmlnIGRlc2NyaXB0b3JcbiAgfTtcblxuICBNUDQubXA0YSA9IGZ1bmN0aW9uIG1wNGEodHJhY2spIHtcbiAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZGF0YV9yZWZlcmVuY2VfaW5kZXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbGNvdW50XG4gICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZToxNmJpdHNcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDJcbiAgICBzYW1wbGVyYXRlID4+IDggJiAweEZGLCBzYW1wbGVyYXRlICYgMHhmZiwgLy9cbiAgICAweDAwLCAweDAwXSksIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIE1QNC5lc2RzKHRyYWNrKSkpO1xuICB9O1xuXG4gIE1QNC5tcDMgPSBmdW5jdGlvbiBtcDModHJhY2spIHtcbiAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzWycubXAzJ10sIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZGF0YV9yZWZlcmVuY2VfaW5kZXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbGNvdW50XG4gICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZToxNmJpdHNcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDJcbiAgICBzYW1wbGVyYXRlID4+IDggJiAweEZGLCBzYW1wbGVyYXRlICYgMHhmZiwgLy9cbiAgICAweDAwLCAweDAwXSkpO1xuICB9O1xuXG4gIE1QNC5zdHNkID0gZnVuY3Rpb24gc3RzZCh0cmFjaykge1xuICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICBpZiAoIXRyYWNrLmlzQUFDICYmIHRyYWNrLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5tcDModHJhY2spKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuU1RTRCwgTVA0Lm1wNGEodHJhY2spKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQuYXZjMSh0cmFjaykpO1xuICAgIH1cbiAgfTtcblxuICBNUDQudGtoZCA9IGZ1bmN0aW9uIHRraGQodHJhY2spIHtcbiAgICB2YXIgaWQgPSB0cmFjay5pZCxcbiAgICAgICAgZHVyYXRpb24gPSB0cmFjay5kdXJhdGlvbiAqIHRyYWNrLnRpbWVzY2FsZSxcbiAgICAgICAgd2lkdGggPSB0cmFjay53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gdHJhY2suaGVpZ2h0LFxuICAgICAgICB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpLFxuICAgICAgICBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50a2hkLCBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgMHgwMCwgMHgwMCwgMHgwNywgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLCAvLyBjcmVhdGlvbl90aW1lXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMywgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICBpZCA+PiAyNCAmIDB4RkYsIGlkID4+IDE2ICYgMHhGRiwgaWQgPj4gOCAmIDB4RkYsIGlkICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LCB1cHBlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDI0LCBsb3dlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgLy8gbGF5ZXJcbiAgICAweDAwLCAweDAwLCAvLyBhbHRlcm5hdGVfZ3JvdXBcbiAgICAweDAwLCAweDAwLCAvLyBub24tYXVkaW8gdHJhY2sgdm9sdW1lXG4gICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAxLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDQwLCAweDAwLCAweDAwLCAweDAwLCAvLyB0cmFuc2Zvcm1hdGlvbjogdW5pdHkgbWF0cml4XG4gICAgd2lkdGggPj4gOCAmIDB4RkYsIHdpZHRoICYgMHhGRiwgMHgwMCwgMHgwMCwgLy8gd2lkdGhcbiAgICBoZWlnaHQgPj4gOCAmIDB4RkYsIGhlaWdodCAmIDB4RkYsIDB4MDAsIDB4MDAgLy8gaGVpZ2h0XG4gICAgXSkpO1xuICB9O1xuXG4gIE1QNC50cmFmID0gZnVuY3Rpb24gdHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgIHZhciBzYW1wbGVEZXBlbmRlbmN5VGFibGUgPSBNUDQuc2R0cCh0cmFjayksXG4gICAgICAgIGlkID0gdHJhY2suaWQsXG4gICAgICAgIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpLFxuICAgICAgICBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5mbG9vcihiYXNlTWVkaWFEZWNvZGVUaW1lICUgKG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCArIDEpKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgaWQgPj4gMjQsIGlkID4+IDE2ICYgMFhGRiwgaWQgPj4gOCAmIDBYRkYsIGlkICYgMHhGRl0pIC8vIHRyYWNrX0lEXG4gICAgKSwgTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIC8vIHZlcnNpb24gMVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAyNCwgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAxNiAmIDBYRkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gOCAmIDBYRkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgJiAweEZGLCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0LCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2ICYgMFhGRiwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiA4ICYgMFhGRiwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSAmIDB4RkZdKSksIE1QNC50cnVuKHRyYWNrLCBzYW1wbGVEZXBlbmRlbmN5VGFibGUubGVuZ3RoICsgMTYgKyAvLyB0ZmhkXG4gICAgMjAgKyAvLyB0ZmR0XG4gICAgOCArIC8vIHRyYWYgaGVhZGVyXG4gICAgMTYgKyAvLyBtZmhkXG4gICAgOCArIC8vIG1vb2YgaGVhZGVyXG4gICAgOCksIC8vIG1kYXQgaGVhZGVyXG4gICAgc2FtcGxlRGVwZW5kZW5jeVRhYmxlKTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgYSB0cmFjayBib3guXG4gICAqIEBwYXJhbSB0cmFjayB7b2JqZWN0fSBhIHRyYWNrIGRlZmluaXRpb25cbiAgICogQHJldHVybiB7VWludDhBcnJheX0gdGhlIHRyYWNrIGJveFxuICAgKi9cblxuXG4gIE1QNC50cmFrID0gZnVuY3Rpb24gdHJhayh0cmFjaykge1xuICAgIHRyYWNrLmR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gfHwgMHhmZmZmZmZmZjtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhaywgTVA0LnRraGQodHJhY2spLCBNUDQubWRpYSh0cmFjaykpO1xuICB9O1xuXG4gIE1QNC50cmV4ID0gZnVuY3Rpb24gdHJleCh0cmFjaykge1xuICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmV4LCBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICBpZCA+PiAyNCwgaWQgPj4gMTYgJiAwWEZGLCBpZCA+PiA4ICYgMFhGRiwgaWQgJiAweEZGLCAvLyB0cmFja19JRFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4XG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9zaXplXG4gICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMSAvLyBkZWZhdWx0X3NhbXBsZV9mbGFnc1xuICAgIF0pKTtcbiAgfTtcblxuICBNUDQudHJ1biA9IGZ1bmN0aW9uIHRydW4odHJhY2ssIG9mZnNldCkge1xuICAgIHZhciBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXSxcbiAgICAgICAgbGVuID0gc2FtcGxlcy5sZW5ndGgsXG4gICAgICAgIGFycmF5bGVuID0gMTIgKyAxNiAqIGxlbixcbiAgICAgICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheWxlbiksXG4gICAgICAgIGksXG4gICAgICAgIHNhbXBsZSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIHNpemUsXG4gICAgICAgIGZsYWdzLFxuICAgICAgICBjdHM7XG4gICAgb2Zmc2V0ICs9IDggKyBhcnJheWxlbjtcbiAgICBhcnJheS5zZXQoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MGYsIDB4MDEsIC8vIGZsYWdzXG4gICAgbGVuID4+PiAyNCAmIDB4RkYsIGxlbiA+Pj4gMTYgJiAweEZGLCBsZW4gPj4+IDggJiAweEZGLCBsZW4gJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICBvZmZzZXQgPj4+IDI0ICYgMHhGRiwgb2Zmc2V0ID4+PiAxNiAmIDB4RkYsIG9mZnNldCA+Pj4gOCAmIDB4RkYsIG9mZnNldCAmIDB4RkYgLy8gZGF0YV9vZmZzZXRcbiAgICBdLCAwKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICBkdXJhdGlvbiA9IHNhbXBsZS5kdXJhdGlvbjtcbiAgICAgIHNpemUgPSBzYW1wbGUuc2l6ZTtcbiAgICAgIGZsYWdzID0gc2FtcGxlLmZsYWdzO1xuICAgICAgY3RzID0gc2FtcGxlLmN0cztcbiAgICAgIGFycmF5LnNldChbZHVyYXRpb24gPj4+IDI0ICYgMHhGRiwgZHVyYXRpb24gPj4+IDE2ICYgMHhGRiwgZHVyYXRpb24gPj4+IDggJiAweEZGLCBkdXJhdGlvbiAmIDB4RkYsIC8vIHNhbXBsZV9kdXJhdGlvblxuICAgICAgc2l6ZSA+Pj4gMjQgJiAweEZGLCBzaXplID4+PiAxNiAmIDB4RkYsIHNpemUgPj4+IDggJiAweEZGLCBzaXplICYgMHhGRiwgLy8gc2FtcGxlX3NpemVcbiAgICAgIGZsYWdzLmlzTGVhZGluZyA8PCAyIHwgZmxhZ3MuZGVwZW5kc09uLCBmbGFncy5pc0RlcGVuZGVkT24gPDwgNiB8IGZsYWdzLmhhc1JlZHVuZGFuY3kgPDwgNCB8IGZsYWdzLnBhZGRpbmdWYWx1ZSA8PCAxIHwgZmxhZ3MuaXNOb25TeW5jLCBmbGFncy5kZWdyYWRQcmlvICYgMHhGMCA8PCA4LCBmbGFncy5kZWdyYWRQcmlvICYgMHgwRiwgLy8gc2FtcGxlX2ZsYWdzXG4gICAgICBjdHMgPj4+IDI0ICYgMHhGRiwgY3RzID4+PiAxNiAmIDB4RkYsIGN0cyA+Pj4gOCAmIDB4RkYsIGN0cyAmIDB4RkYgLy8gc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0XG4gICAgICBdLCAxMiArIDE2ICogaSk7XG4gICAgfVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cnVuLCBhcnJheSk7XG4gIH07XG5cbiAgTVA0LmluaXRTZWdtZW50ID0gZnVuY3Rpb24gaW5pdFNlZ21lbnQodHJhY2tzKSB7XG4gICAgaWYgKCFNUDQudHlwZXMpIHtcbiAgICAgIE1QNC5pbml0KCk7XG4gICAgfVxuICAgIHZhciBtb3ZpZSA9IE1QNC5tb292KHRyYWNrcyksXG4gICAgICAgIHJlc3VsdDtcbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShNUDQuRlRZUC5ieXRlTGVuZ3RoICsgbW92aWUuYnl0ZUxlbmd0aCk7XG4gICAgcmVzdWx0LnNldChNUDQuRlRZUCk7XG4gICAgcmVzdWx0LnNldChtb3ZpZSwgTVA0LkZUWVAuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gTVA0O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtcDRfZ2VuZXJhdG9yID0gKE1QNCk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9yZW11eC9tcDQtcmVtdXhlci5qc1xuZnVuY3Rpb24gbXA0X3JlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4qIGZNUDQgcmVtdXhlclxuKi9cblxuXG5cblxuXG5cblxuLy8gMTAgc2Vjb25kc1xudmFyIE1BWF9TSUxFTlRfRlJBTUVfRFVSQVRJT04gPSAxMCAqIDEwMDA7XG5cbnZhciBtcDRfcmVtdXhlcl9NUDRSZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNUDRSZW11eGVyKG9ic2VydmVyLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQsIHZlbmRvcikge1xuICAgIG1wNF9yZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBNUDRSZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHRoaXMuaXNTYWZhcmkgPSB2ZW5kb3IgJiYgdmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPiAtMSAmJiB1c2VyQWdlbnQgJiYgIXVzZXJBZ2VudC5tYXRjaCgnQ3JpT1MnKTtcbiAgICB0aGlzLklTR2VuZXJhdGVkID0gZmFsc2U7XG4gIH1cblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gcmVzZXRUaW1lU3RhbXAoZGVmYXVsdFRpbWVTdGFtcCkge1xuICAgIHRoaXMuX2luaXRQVFMgPSB0aGlzLl9pbml0RFRTID0gZGVmYXVsdFRpbWVTdGFtcDtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gcmVzZXRJbml0U2VnbWVudCgpIHtcbiAgICB0aGlzLklTR2VuZXJhdGVkID0gZmFsc2U7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXggPSBmdW5jdGlvbiByZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAvLyBnZW5lcmF0ZSBJbml0IFNlZ21lbnQgaWYgbmVlZGVkXG4gICAgaWYgKCF0aGlzLklTR2VuZXJhdGVkKSB7XG4gICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuSVNHZW5lcmF0ZWQpIHtcbiAgICAgIHZhciBuYkF1ZGlvU2FtcGxlcyA9IGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGg7XG4gICAgICB2YXIgbmJWaWRlb1NhbXBsZXMgPSB2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoO1xuICAgICAgdmFyIGF1ZGlvVGltZU9mZnNldCA9IHRpbWVPZmZzZXQ7XG4gICAgICB2YXIgdmlkZW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgICAgIGlmIChuYkF1ZGlvU2FtcGxlcyAmJiBuYlZpZGVvU2FtcGxlcykge1xuICAgICAgICAvLyB0aW1lT2Zmc2V0IGlzIGV4cGVjdGVkIHRvIGJlIHRoZSBvZmZzZXQgb2YgdGhlIGZpcnN0IHRpbWVzdGFtcCBvZiB0aGlzIGZyYWdtZW50IChmaXJzdCBEVFMpXG4gICAgICAgIC8vIGlmIGZpcnN0IGF1ZGlvIERUUyBpcyBub3QgYWxpZ25lZCB3aXRoIGZpcnN0IHZpZGVvIERUUyB0aGVuIHdlIG5lZWQgdG8gdGFrZSB0aGF0IGludG8gYWNjb3VudFxuICAgICAgICAvLyB3aGVuIHByb3ZpZGluZyB0aW1lT2Zmc2V0IHRvIHJlbXV4QXVkaW8gLyByZW11eFZpZGVvLiBpZiB3ZSBkb24ndCBkbyB0aGF0LCB0aGVyZSBtaWdodCBiZSBhIHBlcm1hbmVudCAvIHNtYWxsXG4gICAgICAgIC8vIGRyaWZ0IGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXNcbiAgICAgICAgdmFyIGF1ZGlvdmlkZW9EZWx0YUR0cyA9IChhdWRpb1RyYWNrLnNhbXBsZXNbMF0uZHRzIC0gdmlkZW9UcmFjay5zYW1wbGVzWzBdLmR0cykgLyB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICBhdWRpb1RpbWVPZmZzZXQgKz0gTWF0aC5tYXgoMCwgYXVkaW92aWRlb0RlbHRhRHRzKTtcbiAgICAgICAgdmlkZW9UaW1lT2Zmc2V0ICs9IE1hdGgubWF4KDAsIC1hdWRpb3ZpZGVvRGVsdGFEdHMpO1xuICAgICAgfVxuICAgICAgLy8gUHVycG9zZWZ1bGx5IHJlbXV4aW5nIGF1ZGlvIGJlZm9yZSB2aWRlbywgc28gdGhhdCByZW11eFZpZGVvIGNhbiB1c2UgbmV4dEF1ZGlvUHRzLCB3aGljaCBpc1xuICAgICAgLy8gY2FsY3VsYXRlZCBpbiByZW11eEF1ZGlvLlxuICAgICAgLy9sb2dnZXIubG9nKCduYiBBQUMgc2FtcGxlczonICsgYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICBpZiAobmJBdWRpb1NhbXBsZXMpIHtcbiAgICAgICAgLy8gaWYgaW5pdFNlZ21lbnQgd2FzIGdlbmVyYXRlZCB3aXRob3V0IHZpZGVvIHNhbXBsZXMsIHJlZ2VuZXJhdGUgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFhdWRpb1RyYWNrLnRpbWVzY2FsZSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3JlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgYXVkaW8gZGV0ZWN0ZWQnKTtcbiAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1ZGlvRGF0YSA9IHRoaXMucmVtdXhBdWRpbyhhdWRpb1RyYWNrLCBhdWRpb1RpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgIC8vbG9nZ2VyLmxvZygnbmIgQVZDIHNhbXBsZXM6JyArIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICB2YXIgYXVkaW9UcmFja0xlbmd0aCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoYXVkaW9EYXRhKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrTGVuZ3RoID0gYXVkaW9EYXRhLmVuZFBUUyAtIGF1ZGlvRGF0YS5zdGFydFBUUztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgaW5pdFNlZ21lbnQgd2FzIGdlbmVyYXRlZCB3aXRob3V0IHZpZGVvIHNhbXBsZXMsIHJlZ2VuZXJhdGUgaXQgYWdhaW5cbiAgICAgICAgICBpZiAoIXZpZGVvVHJhY2sudGltZXNjYWxlKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdyZWdlbmVyYXRlIEluaXRTZWdtZW50IGFzIHZpZGVvIGRldGVjdGVkJyk7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVtdXhWaWRlbyh2aWRlb1RyYWNrLCB2aWRlb1RpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGF1ZGlvVHJhY2tMZW5ndGgsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB2aWRlb0RhdGEgPSB2b2lkIDA7XG4gICAgICAgIC8vbG9nZ2VyLmxvZygnbmIgQVZDIHNhbXBsZXM6JyArIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICB2aWRlb0RhdGEgPSB0aGlzLnJlbXV4VmlkZW8odmlkZW9UcmFjaywgdmlkZW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWRlb0RhdGEgJiYgYXVkaW9UcmFjay5jb2RlYykge1xuICAgICAgICAgIHRoaXMucmVtdXhFbXB0eUF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgdmlkZW9EYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvL2xvZ2dlci5sb2coJ25iIElEMyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICBpZiAoaWQzVHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucmVtdXhJRDMoaWQzVHJhY2ssIHRpbWVPZmZzZXQpO1xuICAgIH1cbiAgICAvL2xvZ2dlci5sb2coJ25iIElEMyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICBpZiAodGV4dFRyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlbXV4VGV4dCh0ZXh0VHJhY2ssIHRpbWVPZmZzZXQpO1xuICAgIH1cbiAgICAvL25vdGlmeSBlbmQgb2YgcGFyc2luZ1xuICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQpO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLmdlbmVyYXRlSVMgPSBmdW5jdGlvbiBnZW5lcmF0ZUlTKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIHRpbWVPZmZzZXQpIHtcbiAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyLFxuICAgICAgICBhdWRpb1NhbXBsZXMgPSBhdWRpb1RyYWNrLnNhbXBsZXMsXG4gICAgICAgIHZpZGVvU2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcyxcbiAgICAgICAgdHlwZVN1cHBvcnRlZCA9IHRoaXMudHlwZVN1cHBvcnRlZCxcbiAgICAgICAgY29udGFpbmVyID0gJ2F1ZGlvL21wNCcsXG4gICAgICAgIHRyYWNrcyA9IHt9LFxuICAgICAgICBkYXRhID0geyB0cmFja3M6IHRyYWNrcyB9LFxuICAgICAgICBjb21wdXRlUFRTRFRTID0gdGhpcy5faW5pdFBUUyA9PT0gdW5kZWZpbmVkLFxuICAgICAgICBpbml0UFRTLFxuICAgICAgICBpbml0RFRTO1xuXG4gICAgaWYgKGNvbXB1dGVQVFNEVFMpIHtcbiAgICAgIGluaXRQVFMgPSBpbml0RFRTID0gSW5maW5pdHk7XG4gICAgfVxuICAgIGlmIChhdWRpb1RyYWNrLmNvbmZpZyAmJiBhdWRpb1NhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAvLyBsZXQncyB1c2UgYXVkaW8gc2FtcGxpbmcgcmF0ZSBhcyBNUDQgdGltZSBzY2FsZS5cbiAgICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IHRoZXJlIGlzIGEgaW50ZWdlciBuYiBvZiBhdWRpbyBmcmFtZXMgcGVyIGF1ZGlvIHNhbXBsZSAoMTAyNCBmb3IgQUFDKVxuICAgICAgLy8gdXNpbmcgYXVkaW8gc2FtcGxpbmcgcmF0ZSBoZXJlIGhlbHBzIGhhdmluZyBhbiBpbnRlZ2VyIE1QNCBmcmFtZSBkdXJhdGlvblxuICAgICAgLy8gdGhpcyBhdm9pZHMgcG90ZW50aWFsIHJvdW5kaW5nIGlzc3VlIGFuZCBBViBzeW5jIGlzc3VlXG4gICAgICBhdWRpb1RyYWNrLnRpbWVzY2FsZSA9IGF1ZGlvVHJhY2suc2FtcGxlcmF0ZTtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gc2FtcGxpbmcgcmF0ZSA6ICcgKyBhdWRpb1RyYWNrLnNhbXBsZXJhdGUpO1xuICAgICAgaWYgKCFhdWRpb1RyYWNrLmlzQUFDKSB7XG4gICAgICAgIGlmICh0eXBlU3VwcG9ydGVkLm1wZWcpIHtcbiAgICAgICAgICAvLyBDaHJvbWUgYW5kIFNhZmFyaVxuICAgICAgICAgIGNvbnRhaW5lciA9ICdhdWRpby9tcGVnJztcbiAgICAgICAgICBhdWRpb1RyYWNrLmNvZGVjID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZVN1cHBvcnRlZC5tcDMpIHtcbiAgICAgICAgICAvLyBGaXJlZm94XG4gICAgICAgICAgYXVkaW9UcmFjay5jb2RlYyA9ICdtcDMnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmFja3MuYXVkaW8gPSB7XG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICBjb2RlYzogYXVkaW9UcmFjay5jb2RlYyxcbiAgICAgICAgaW5pdFNlZ21lbnQ6ICFhdWRpb1RyYWNrLmlzQUFDICYmIHR5cGVTdXBwb3J0ZWQubXBlZyA/IG5ldyBVaW50OEFycmF5KCkgOiBtcDRfZ2VuZXJhdG9yLmluaXRTZWdtZW50KFthdWRpb1RyYWNrXSksXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgY2hhbm5lbENvdW50OiBhdWRpb1RyYWNrLmNoYW5uZWxDb3VudFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGNvbXB1dGVQVFNEVFMpIHtcbiAgICAgICAgLy8gcmVtZW1iZXIgZmlyc3QgUFRTIG9mIHRoaXMgZGVtdXhpbmcgY29udGV4dC4gZm9yIGF1ZGlvLCBQVFMgPSBEVFNcbiAgICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBhdWRpb1NhbXBsZXNbMF0ucHRzIC0gYXVkaW9UcmFjay5pbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvVHJhY2suc3BzICYmIHZpZGVvVHJhY2sucHBzICYmIHZpZGVvU2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIC8vIGxldCdzIHVzZSBpbnB1dCB0aW1lIHNjYWxlIGFzIE1QNCB2aWRlbyB0aW1lc2NhbGVcbiAgICAgIC8vIHdlIHVzZSBpbnB1dCB0aW1lIHNjYWxlIHN0cmFpZ2h0IGF3YXkgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzIG9uIGZyYW1lIGR1cmF0aW9uIC8gY3RzIGNvbXB1dGF0aW9uXG4gICAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgdmlkZW9UcmFjay50aW1lc2NhbGUgPSBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIHRyYWNrcy52aWRlbyA9IHtcbiAgICAgICAgY29udGFpbmVyOiAndmlkZW8vbXA0JyxcbiAgICAgICAgY29kZWM6IHZpZGVvVHJhY2suY29kZWMsXG4gICAgICAgIGluaXRTZWdtZW50OiBtcDRfZ2VuZXJhdG9yLmluaXRTZWdtZW50KFt2aWRlb1RyYWNrXSksXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgd2lkdGg6IHZpZGVvVHJhY2sud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB2aWRlb1RyYWNrLmhlaWdodFxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGNvbXB1dGVQVFNEVFMpIHtcbiAgICAgICAgaW5pdFBUUyA9IE1hdGgubWluKGluaXRQVFMsIHZpZGVvU2FtcGxlc1swXS5wdHMgLSBpbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQpO1xuICAgICAgICBpbml0RFRTID0gTWF0aC5taW4oaW5pdERUUywgdmlkZW9TYW1wbGVzWzBdLmR0cyAtIGlucHV0VGltZVNjYWxlICogdGltZU9mZnNldCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uSU5JVF9QVFNfRk9VTkQsIHsgaW5pdFBUUzogaW5pdFBUUyB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModHJhY2tzKS5sZW5ndGgpIHtcbiAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGRhdGEpO1xuICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IHRydWU7XG4gICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICB0aGlzLl9pbml0UFRTID0gaW5pdFBUUztcbiAgICAgICAgdGhpcy5faW5pdERUUyA9IGluaXREVFM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogZmFsc2UsIHJlYXNvbjogJ25vIGF1ZGlvL3ZpZGVvIHNhbXBsZXMgZm91bmQnIH0pO1xuICAgIH1cbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eFZpZGVvID0gZnVuY3Rpb24gcmVtdXhWaWRlbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYXVkaW9UcmFja0xlbmd0aCwgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIG9mZnNldCA9IDgsXG4gICAgICAgIHRpbWVTY2FsZSA9IHRyYWNrLnRpbWVzY2FsZSxcbiAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24sXG4gICAgICAgIG1kYXQsXG4gICAgICAgIG1vb2YsXG4gICAgICAgIGZpcnN0UFRTLFxuICAgICAgICBmaXJzdERUUyxcbiAgICAgICAgbmV4dERUUyxcbiAgICAgICAgbGFzdFBUUyxcbiAgICAgICAgbGFzdERUUyxcbiAgICAgICAgaW5wdXRTYW1wbGVzID0gdHJhY2suc2FtcGxlcyxcbiAgICAgICAgb3V0cHV0U2FtcGxlcyA9IFtdLFxuICAgICAgICBuYlNhbXBsZXMgPSBpbnB1dFNhbXBsZXMubGVuZ3RoLFxuICAgICAgICBwdHNOb3JtYWxpemUgPSB0aGlzLl9QVFNOb3JtYWxpemUsXG4gICAgICAgIGluaXREVFMgPSB0aGlzLl9pbml0RFRTO1xuXG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFjay5zYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICBsZXQgYXZjU2FtcGxlID0gdHJhY2suc2FtcGxlc1tpXTtcbiAgICAvLyAgIGxldCB1bml0cyA9IGF2Y1NhbXBsZS51bml0cztcbiAgICAvLyAgIGxldCB1bml0c1N0cmluZyA9ICcnO1xuICAgIC8vICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bml0cy5sZW5ndGggOyBqKyspIHtcbiAgICAvLyAgICAgdW5pdHNTdHJpbmcgKz0gdW5pdHNbal0udHlwZSArICcsJztcbiAgICAvLyAgICAgaWYgKHVuaXRzW2pdLmRhdGEubGVuZ3RoIDwgNTAwKSB7XG4gICAgLy8gICAgICAgdW5pdHNTdHJpbmcgKz0gSGV4LmhleER1bXAodW5pdHNbal0uZGF0YSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cbiAgICAvLyAgIGxvZ2dlci5sb2coYXZjU2FtcGxlLnB0cyArICcvJyArIGF2Y1NhbXBsZS5kdHMgKyAnLCcgKyB1bml0c1N0cmluZyArIGF2Y1NhbXBsZS51bml0cy5sZW5ndGgpO1xuICAgIC8vIH1cblxuICAgIC8vIGlmIHBhcnNlZCBmcmFnbWVudCBpcyBjb250aWd1b3VzIHdpdGggbGFzdCBvbmUsIGxldCdzIHVzZSBsYXN0IERUUyB2YWx1ZSBhcyByZWZlcmVuY2VcbiAgICB2YXIgbmV4dEF2Y0R0cyA9IHRoaXMubmV4dEF2Y0R0cztcblxuICAgIHZhciBpc1NhZmFyaSA9IHRoaXMuaXNTYWZhcmk7XG5cbiAgICAvLyBTYWZhcmkgZG9lcyBub3QgbGlrZSBvdmVybGFwcGluZyBEVFMgb24gY29uc2VjdXRpdmUgZnJhZ21lbnRzLiBsZXQncyB1c2UgbmV4dEF2Y0R0cyB0byBvdmVyY29tZSB0aGlzIGlmIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmVcbiAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgIC8vIGFsc28gY29uc2lkZXIgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGFzIGJlaW5nIGNvbnRpZ3VvdXMgKGV2ZW4gaWYgYSBsZXZlbCBzd2l0Y2ggb2NjdXJzKSxcbiAgICAgIC8vIGZvciBzYWtlIG9mIGNsYXJpdHk6XG4gICAgICAvLyBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXJlIGZyYWdzIHdpdGhcbiAgICAgIC8vICAtIGxlc3MgdGhhbiAxMDBtcyBnYXBzIGJldHdlZW4gbmV3IHRpbWUgb2Zmc2V0IChpZiBhY2N1cmF0ZSkgYW5kIG5leHQgZXhwZWN0ZWQgUFRTIE9SXG4gICAgICAvLyAgLSBsZXNzIHRoYW4gMjAwIG1zIFBUUyBnYXBzICh0aW1lU2NhbGUvNSlcbiAgICAgIGNvbnRpZ3VvdXMgfD0gaW5wdXRTYW1wbGVzLmxlbmd0aCAmJiBuZXh0QXZjRHRzICYmIChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdmNEdHMgLyB0aW1lU2NhbGUpIDwgMC4xIHx8IE1hdGguYWJzKGlucHV0U2FtcGxlc1swXS5wdHMgLSBuZXh0QXZjRHRzIC0gaW5pdERUUykgPCB0aW1lU2NhbGUgLyA1KTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRpZ3VvdXMpIHtcbiAgICAgIC8vIGlmIG5vdCBjb250aWd1b3VzLCBsZXQncyB1c2UgdGFyZ2V0IHRpbWVPZmZzZXRcbiAgICAgIG5leHRBdmNEdHMgPSB0aW1lT2Zmc2V0ICogdGltZVNjYWxlO1xuICAgIH1cblxuICAgIC8vIFBUUyBpcyBjb2RlZCBvbiAzM2JpdHMsIGFuZCBjYW4gbG9vcCBmcm9tIC0yXjMyIHRvIDJeMzJcbiAgICAvLyBwdHNOb3JtYWxpemUgd2lsbCBtYWtlIFBUUy9EVFMgdmFsdWUgbW9ub3RvbmljLCB3ZSB1c2UgbGFzdCBrbm93biBEVFMgdmFsdWUgYXMgcmVmZXJlbmNlIHZhbHVlXG4gICAgaW5wdXRTYW1wbGVzLmZvckVhY2goZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgc2FtcGxlLnB0cyA9IHB0c05vcm1hbGl6ZShzYW1wbGUucHRzIC0gaW5pdERUUywgbmV4dEF2Y0R0cyk7XG4gICAgICBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5kdHMgLSBpbml0RFRTLCBuZXh0QXZjRHRzKTtcbiAgICB9KTtcblxuICAgIC8vIHNvcnQgdmlkZW8gc2FtcGxlcyBieSBEVFMgdGhlbiBQVFMgdGhlbiBkZW11eCBpZCBvcmRlclxuICAgIGlucHV0U2FtcGxlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICB2YXIgZGVsdGFkdHMgPSBhLmR0cyAtIGIuZHRzO1xuICAgICAgdmFyIGRlbHRhcHRzID0gYS5wdHMgLSBiLnB0cztcbiAgICAgIHJldHVybiBkZWx0YWR0cyA/IGRlbHRhZHRzIDogZGVsdGFwdHMgPyBkZWx0YXB0cyA6IGEuaWQgLSBiLmlkO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlIGJyb2tlbiBzdHJlYW1zIHdpdGggUFRTIDwgRFRTLCB0b2xlcmFuY2UgdXAgMjAwbXMgKDE4MDAwIGluIDkwa0h6IHRpbWVzY2FsZSlcbiAgICB2YXIgUFRTRFRTc2hpZnQgPSBpbnB1dFNhbXBsZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4ocHJldiwgY3Vyci5wdHMgLSBjdXJyLmR0cyksIC0xODAwMCk7XG4gICAgfSwgMCk7XG4gICAgaWYgKFBUU0RUU3NoaWZ0IDwgMCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignUFRTIDwgRFRTIGRldGVjdGVkIGluIHZpZGVvIHNhbXBsZXMsIHNoaWZ0aW5nIERUUyBieSAnICsgTWF0aC5yb3VuZChQVFNEVFNzaGlmdCAvIDkwKSArICcgbXMgdG8gb3ZlcmNvbWUgdGhpcyBpc3N1ZScpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXRTYW1wbGVzW2ldLmR0cyArPSBQVFNEVFNzaGlmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb21wdXRlIGZpcnN0IERUUyBhbmQgbGFzdCBEVFMsIG5vcm1hbGl6ZSB0aGVtIGFnYWluc3QgcmVmZXJlbmNlIHZhbHVlXG4gICAgdmFyIHNhbXBsZSA9IGlucHV0U2FtcGxlc1swXTtcbiAgICBmaXJzdERUUyA9IE1hdGgubWF4KHNhbXBsZS5kdHMsIDApO1xuICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoc2FtcGxlLnB0cywgMCk7XG5cbiAgICAvLyBjaGVjayB0aW1lc3RhbXAgY29udGludWl0eSBhY2Nyb3NzIGNvbnNlY3V0aXZlIGZyYWdtZW50cyAodGhpcyBpcyB0byByZW1vdmUgaW50ZXItZnJhZ21lbnQgZ2FwL2hvbGUpXG4gICAgdmFyIGRlbHRhID0gTWF0aC5yb3VuZCgoZmlyc3REVFMgLSBuZXh0QXZjRHRzKSAvIDkwKTtcbiAgICAvLyBpZiBmcmFnbWVudCBhcmUgY29udGlndW91cywgZGV0ZWN0IGhvbGUvb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHNcbiAgICBpZiAoY29udGlndW91cykge1xuICAgICAgaWYgKGRlbHRhKSB7XG4gICAgICAgIGlmIChkZWx0YSA+IDEpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FWQzonICsgZGVsdGEgKyAnIG1zIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQsZmlsbGluZyBpdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRlbHRhIDwgLTEpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FWQzonICsgLWRlbHRhICsgJyBtcyBvdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBob2xlL2dhcCA6IHNldCBEVFMgdG8gbmV4dCBleHBlY3RlZCBEVFNcbiAgICAgICAgZmlyc3REVFMgPSBuZXh0QXZjRHRzO1xuICAgICAgICBpbnB1dFNhbXBsZXNbMF0uZHRzID0gZmlyc3REVFM7XG4gICAgICAgIC8vIG9mZnNldCBQVFMgYXMgd2VsbCwgZW5zdXJlIHRoYXQgUFRTIGlzIHNtYWxsZXIgb3IgZXF1YWwgdGhhbiBuZXcgRFRTXG4gICAgICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoZmlyc3RQVFMgLSBkZWx0YSwgbmV4dEF2Y0R0cyk7XG4gICAgICAgIGlucHV0U2FtcGxlc1swXS5wdHMgPSBmaXJzdFBUUztcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdWaWRlby9QVFMvRFRTIGFkanVzdGVkOiAnICsgTWF0aC5yb3VuZChmaXJzdFBUUyAvIDkwKSArICcvJyArIE1hdGgucm91bmQoZmlyc3REVFMgLyA5MCkgKyAnLGRlbHRhOicgKyBkZWx0YSArICcgbXMnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERUUyA9IGZpcnN0RFRTO1xuXG4gICAgLy8gY29tcHV0ZSBsYXN0UFRTL2xhc3REVFNcbiAgICBzYW1wbGUgPSBpbnB1dFNhbXBsZXNbaW5wdXRTYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgIGxhc3REVFMgPSBNYXRoLm1heChzYW1wbGUuZHRzLCAwKTtcbiAgICBsYXN0UFRTID0gTWF0aC5tYXgoc2FtcGxlLnB0cywgMCwgbGFzdERUUyk7XG5cbiAgICAvLyBvbiBTYWZhcmkgbGV0J3Mgc2lnbmFsIHRoZSBzYW1lIHNhbXBsZSBkdXJhdGlvbiBmb3IgYWxsIHNhbXBsZXNcbiAgICAvLyBzYW1wbGUgZHVyYXRpb24gKGFzIGV4cGVjdGVkIGJ5IHRydW4gTVA0IGJveGVzKSwgc2hvdWxkIGJlIHRoZSBkZWx0YSBiZXR3ZWVuIHNhbXBsZSBEVFNcbiAgICAvLyBzZXQgdGhpcyBjb25zdGFudCBkdXJhdGlvbiBhcyBiZWluZyB0aGUgYXZnIGRlbHRhIGJldHdlZW4gY29uc2VjdXRpdmUgRFRTLlxuICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBNYXRoLnJvdW5kKChsYXN0RFRTIC0gZmlyc3REVFMpIC8gKGlucHV0U2FtcGxlcy5sZW5ndGggLSAxKSk7XG4gICAgfVxuXG4gICAgdmFyIG5iTmFsdSA9IDAsXG4gICAgICAgIG5hbHVMZW4gPSAwO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBuYlNhbXBsZXM7IF9pKyspIHtcbiAgICAgIC8vIGNvbXB1dGUgdG90YWwvYXZjIHNhbXBsZSBsZW5ndGggYW5kIG5iIG9mIE5BTCB1bml0c1xuICAgICAgdmFyIF9zYW1wbGUgPSBpbnB1dFNhbXBsZXNbX2ldLFxuICAgICAgICAgIHVuaXRzID0gX3NhbXBsZS51bml0cyxcbiAgICAgICAgICBuYlVuaXRzID0gdW5pdHMubGVuZ3RoLFxuICAgICAgICAgIHNhbXBsZUxlbiA9IDA7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5iVW5pdHM7IGorKykge1xuICAgICAgICBzYW1wbGVMZW4gKz0gdW5pdHNbal0uZGF0YS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBuYWx1TGVuICs9IHNhbXBsZUxlbjtcbiAgICAgIG5iTmFsdSArPSBuYlVuaXRzO1xuICAgICAgX3NhbXBsZS5sZW5ndGggPSBzYW1wbGVMZW47XG5cbiAgICAgIC8vIG5vcm1hbGl6ZSBQVFMvRFRTXG4gICAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgLy8gc2FtcGxlIERUUyBpcyBjb21wdXRlZCB1c2luZyBhIGNvbnN0YW50IGRlY29kaW5nIG9mZnNldCAobXA0U2FtcGxlRHVyYXRpb24pIGJldHdlZW4gc2FtcGxlc1xuICAgICAgICBfc2FtcGxlLmR0cyA9IGZpcnN0RFRTICsgX2kgKiBtcDRTYW1wbGVEdXJhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVuc3VyZSBzYW1wbGUgbW9ub3RvbmljIERUU1xuICAgICAgICBfc2FtcGxlLmR0cyA9IE1hdGgubWF4KF9zYW1wbGUuZHRzLCBmaXJzdERUUyk7XG4gICAgICB9XG4gICAgICAvLyBlbnN1cmUgdGhhdCBjb21wdXRlZCB2YWx1ZSBpcyBncmVhdGVyIG9yIGVxdWFsIHRoYW4gc2FtcGxlIERUU1xuICAgICAgX3NhbXBsZS5wdHMgPSBNYXRoLm1heChfc2FtcGxlLnB0cywgX3NhbXBsZS5kdHMpO1xuICAgIH1cblxuICAgIC8qIGNvbmNhdGVuYXRlIHRoZSB2aWRlbyBkYXRhIGFuZCBjb25zdHJ1Y3QgdGhlIG1kYXQgaW4gcGxhY2VcbiAgICAgIChuZWVkIDggbW9yZSBieXRlcyB0byBmaWxsIGxlbmd0aCBhbmQgbXBkYXQgdHlwZSkgKi9cbiAgICB2YXIgbWRhdFNpemUgPSBuYWx1TGVuICsgNCAqIG5iTmFsdSArIDg7XG4gICAgdHJ5IHtcbiAgICAgIG1kYXQgPSBuZXcgVWludDhBcnJheShtZGF0U2l6ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NVVhfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLlJFTVVYX0FMTE9DX0VSUk9SLCBmYXRhbDogZmFsc2UsIGJ5dGVzOiBtZGF0U2l6ZSwgcmVhc29uOiAnZmFpbCBhbGxvY2F0aW5nIHZpZGVvIG1kYXQgJyArIG1kYXRTaXplIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgdmlldy5zZXRVaW50MzIoMCwgbWRhdFNpemUpO1xuICAgIG1kYXQuc2V0KG1wNF9nZW5lcmF0b3IudHlwZXMubWRhdCwgNCk7XG5cbiAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBuYlNhbXBsZXM7IF9pMisrKSB7XG4gICAgICB2YXIgYXZjU2FtcGxlID0gaW5wdXRTYW1wbGVzW19pMl0sXG4gICAgICAgICAgYXZjU2FtcGxlVW5pdHMgPSBhdmNTYW1wbGUudW5pdHMsXG4gICAgICAgICAgbXA0U2FtcGxlTGVuZ3RoID0gMCxcbiAgICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSB2b2lkIDA7XG4gICAgICAvLyBjb252ZXJ0IE5BTFUgYml0c3RyZWFtIHRvIE1QNCBmb3JtYXQgKHByZXBlbmQgTkFMVSB3aXRoIHNpemUgZmllbGQpXG4gICAgICBmb3IgKHZhciBfaiA9IDAsIF9uYlVuaXRzID0gYXZjU2FtcGxlVW5pdHMubGVuZ3RoOyBfaiA8IF9uYlVuaXRzOyBfaisrKSB7XG4gICAgICAgIHZhciB1bml0ID0gYXZjU2FtcGxlVW5pdHNbX2pdLFxuICAgICAgICAgICAgdW5pdERhdGEgPSB1bml0LmRhdGEsXG4gICAgICAgICAgICB1bml0RGF0YUxlbiA9IHVuaXQuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICB2aWV3LnNldFVpbnQzMihvZmZzZXQsIHVuaXREYXRhTGVuKTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIG1kYXQuc2V0KHVuaXREYXRhLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gdW5pdERhdGFMZW47XG4gICAgICAgIG1wNFNhbXBsZUxlbmd0aCArPSA0ICsgdW5pdERhdGFMZW47XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTYWZhcmkpIHtcbiAgICAgICAgLy8gZXhwZWN0ZWQgc2FtcGxlIGR1cmF0aW9uIGlzIHRoZSBEZWNvZGluZyBUaW1lc3RhbXAgZGlmZiBvZiBjb25zZWN1dGl2ZSBzYW1wbGVzXG4gICAgICAgIGlmIChfaTIgPCBuYlNhbXBsZXMgLSAxKSB7XG4gICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBpbnB1dFNhbXBsZXNbX2kyICsgMV0uZHRzIC0gYXZjU2FtcGxlLmR0cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcsXG4gICAgICAgICAgICAgIGxhc3RGcmFtZUR1cmF0aW9uID0gYXZjU2FtcGxlLmR0cyAtIGlucHV0U2FtcGxlc1tfaTIgPiAwID8gX2kyIC0gMSA6IF9pMl0uZHRzO1xuICAgICAgICAgIGlmIChjb25maWcuc3RyZXRjaFNob3J0VmlkZW9UcmFjaykge1xuICAgICAgICAgICAgLy8gSW4gc29tZSBjYXNlcywgYSBzZWdtZW50J3MgYXVkaW8gdHJhY2sgZHVyYXRpb24gbWF5IGV4Y2VlZCB0aGUgdmlkZW8gdHJhY2sgZHVyYXRpb24uXG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSd2ZSBhbHJlYWR5IHJlbXV4ZWQgYXVkaW8sIGFuZCB3ZSBrbm93IGhvdyBsb25nIHRoZSBhdWRpbyB0cmFjayBpcywgd2UgbG9vayB0b1xuICAgICAgICAgICAgLy8gc2VlIGlmIHRoZSBkZWx0YSB0byB0aGUgbmV4dCBzZWdtZW50IGlzIGxvbmdlciB0aGFuIHRoZSBtaW5pbXVtIG9mIG1heEJ1ZmZlckhvbGUgYW5kXG4gICAgICAgICAgICAvLyBtYXhTZWVrSG9sZS4gSWYgc28sIHBsYXliYWNrIHdvdWxkIHBvdGVudGlhbGx5IGdldCBzdHVjaywgc28gd2UgYXJ0aWZpY2lhbGx5IGluZmxhdGVcbiAgICAgICAgICAgIC8vIHRoZSBkdXJhdGlvbiBvZiB0aGUgbGFzdCBmcmFtZSB0byBtaW5pbWl6ZSBhbnkgcG90ZW50aWFsIGdhcCBiZXR3ZWVuIHNlZ21lbnRzLlxuICAgICAgICAgICAgdmFyIG1heEJ1ZmZlckhvbGUgPSBjb25maWcubWF4QnVmZmVySG9sZSxcbiAgICAgICAgICAgICAgICBtYXhTZWVrSG9sZSA9IGNvbmZpZy5tYXhTZWVrSG9sZSxcbiAgICAgICAgICAgICAgICBnYXBUb2xlcmFuY2UgPSBNYXRoLmZsb29yKE1hdGgubWluKG1heEJ1ZmZlckhvbGUsIG1heFNlZWtIb2xlKSAqIHRpbWVTY2FsZSksXG4gICAgICAgICAgICAgICAgZGVsdGFUb0ZyYW1lRW5kID0gKGF1ZGlvVHJhY2tMZW5ndGggPyBmaXJzdFBUUyArIGF1ZGlvVHJhY2tMZW5ndGggKiB0aW1lU2NhbGUgOiB0aGlzLm5leHRBdWRpb1B0cykgLSBhdmNTYW1wbGUucHRzO1xuICAgICAgICAgICAgaWYgKGRlbHRhVG9GcmFtZUVuZCA+IGdhcFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAvLyBXZSBzdWJ0cmFjdCBsYXN0RnJhbWVEdXJhdGlvbiBmcm9tIGRlbHRhVG9GcmFtZUVuZCB0byB0cnkgdG8gcHJldmVudCBhbnkgdmlkZW9cbiAgICAgICAgICAgICAgLy8gZnJhbWUgb3ZlcmxhcC4gbWF4QnVmZmVySG9sZS9tYXhTZWVrSG9sZSBzaG91bGQgYmUgPj4gbGFzdEZyYW1lRHVyYXRpb24gYW55d2F5LlxuICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGRlbHRhVG9GcmFtZUVuZCAtIGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICBpZiAobXA0U2FtcGxlRHVyYXRpb24gPCAwKSB7XG4gICAgICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0l0IGlzIGFwcHJveGltYXRlbHkgJyArIGRlbHRhVG9GcmFtZUVuZCAvIDkwICsgJyBtcyB0byB0aGUgbmV4dCBzZWdtZW50OyB1c2luZyBkdXJhdGlvbiAnICsgbXA0U2FtcGxlRHVyYXRpb24gLyA5MCArICcgbXMgZm9yIHRoZSBsYXN0IHZpZGVvIGZyYW1lLicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gTWF0aC5yb3VuZChhdmNTYW1wbGUucHRzIC0gYXZjU2FtcGxlLmR0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSBNYXRoLm1heCgwLCBtcDRTYW1wbGVEdXJhdGlvbiAqIE1hdGgucm91bmQoKGF2Y1NhbXBsZS5wdHMgLSBhdmNTYW1wbGUuZHRzKSAvIG1wNFNhbXBsZUR1cmF0aW9uKSk7XG4gICAgICB9XG5cbiAgICAgIC8vY29uc29sZS5sb2coJ1BUUy9EVFMvaW5pdERUUy9ub3JtUFRTL25vcm1EVFMvcmVsYXRpdmUgUFRTIDogJHthdmNTYW1wbGUucHRzfS8ke2F2Y1NhbXBsZS5kdHN9LyR7aW5pdERUU30vJHtwdHNub3JtfS8ke2R0c25vcm19LyR7KGF2Y1NhbXBsZS5wdHMvNDI5NDk2NzI5NikudG9GaXhlZCgzKX0nKTtcbiAgICAgIG91dHB1dFNhbXBsZXMucHVzaCh7XG4gICAgICAgIHNpemU6IG1wNFNhbXBsZUxlbmd0aCxcbiAgICAgICAgLy8gY29uc3RhbnQgZHVyYXRpb25cbiAgICAgICAgZHVyYXRpb246IG1wNFNhbXBsZUR1cmF0aW9uLFxuICAgICAgICBjdHM6IGNvbXBvc2l0aW9uVGltZU9mZnNldCxcbiAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgZGVncmFkUHJpbzogMCxcbiAgICAgICAgICBkZXBlbmRzT246IGF2Y1NhbXBsZS5rZXkgPyAyIDogMSxcbiAgICAgICAgICBpc05vblN5bmM6IGF2Y1NhbXBsZS5rZXkgPyAwIDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gbmV4dCBBVkMgc2FtcGxlIERUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgRFRTICsgbGFzdCBzYW1wbGUgZHVyYXRpb24gKGluIFBFUyB0aW1lc2NhbGUpXG4gICAgdGhpcy5uZXh0QXZjRHRzID0gbGFzdERUUyArIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgIHZhciBkcm9wcGVkID0gdHJhY2suZHJvcHBlZDtcbiAgICB0cmFjay5sZW4gPSAwO1xuICAgIHRyYWNrLm5iTmFsdSA9IDA7XG4gICAgdHJhY2suZHJvcHBlZCA9IDA7XG4gICAgaWYgKG91dHB1dFNhbXBsZXMubGVuZ3RoICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBvdXRwdXRTYW1wbGVzWzBdLmZsYWdzO1xuICAgICAgLy8gY2hyb21lIHdvcmthcm91bmQsIG1hcmsgZmlyc3Qgc2FtcGxlIGFzIGJlaW5nIGEgUmFuZG9tIEFjY2VzcyBQb2ludCB0byBhdm9pZCBzb3VyY2VidWZmZXIgYXBwZW5kIGlzc3VlXG4gICAgICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5NDEyXG4gICAgICBmbGFncy5kZXBlbmRzT24gPSAyO1xuICAgICAgZmxhZ3MuaXNOb25TeW5jID0gMDtcbiAgICB9XG4gICAgdHJhY2suc2FtcGxlcyA9IG91dHB1dFNhbXBsZXM7XG4gICAgbW9vZiA9IG1wNF9nZW5lcmF0b3IubW9vZih0cmFjay5zZXF1ZW5jZU51bWJlcisrLCBmaXJzdERUUywgdHJhY2spO1xuICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcblxuICAgIHZhciBkYXRhID0ge1xuICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICBkYXRhMjogbWRhdCxcbiAgICAgIHN0YXJ0UFRTOiBmaXJzdFBUUyAvIHRpbWVTY2FsZSxcbiAgICAgIGVuZFBUUzogKGxhc3RQVFMgKyBtcDRTYW1wbGVEdXJhdGlvbikgLyB0aW1lU2NhbGUsXG4gICAgICBzdGFydERUUzogZmlyc3REVFMgLyB0aW1lU2NhbGUsXG4gICAgICBlbmREVFM6IHRoaXMubmV4dEF2Y0R0cyAvIHRpbWVTY2FsZSxcbiAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICBuYjogb3V0cHV0U2FtcGxlcy5sZW5ndGgsXG4gICAgICBkcm9wcGVkOiBkcm9wcGVkXG4gICAgfTtcbiAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eEF1ZGlvID0gZnVuY3Rpb24gcmVtdXhBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGUsXG4gICAgICAgIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnRpbWVzY2FsZSxcbiAgICAgICAgc2NhbGVGYWN0b3IgPSBpbnB1dFRpbWVTY2FsZSAvIG1wNHRpbWVTY2FsZSxcbiAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSB0cmFjay5pc0FBQyA/IDEwMjQgOiAxMTUyLFxuICAgICAgICBpbnB1dFNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlRHVyYXRpb24gKiBzY2FsZUZhY3RvcixcbiAgICAgICAgcHRzTm9ybWFsaXplID0gdGhpcy5fUFRTTm9ybWFsaXplLFxuICAgICAgICBpbml0RFRTID0gdGhpcy5faW5pdERUUyxcbiAgICAgICAgcmF3TVBFRyA9ICF0cmFjay5pc0FBQyAmJiB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZztcblxuICAgIHZhciBvZmZzZXQsXG4gICAgICAgIG1wNFNhbXBsZSxcbiAgICAgICAgZmlsbEZyYW1lLFxuICAgICAgICBtZGF0LFxuICAgICAgICBtb29mLFxuICAgICAgICBmaXJzdFBUUyxcbiAgICAgICAgbGFzdFBUUyxcbiAgICAgICAgaW5wdXRTYW1wbGVzID0gdHJhY2suc2FtcGxlcyxcbiAgICAgICAgb3V0cHV0U2FtcGxlcyA9IFtdLFxuICAgICAgICBuZXh0QXVkaW9QdHMgPSB0aGlzLm5leHRBdWRpb1B0cztcblxuICAgIC8vIGZvciBhdWRpbyBzYW1wbGVzLCBhbHNvIGNvbnNpZGVyIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcyBiZWluZyBjb250aWd1b3VzIChldmVuIGlmIGEgbGV2ZWwgc3dpdGNoIG9jY3VycyksXG4gICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAvLyBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXJlIGZyYWdzIHdpdGhcbiAgICAvLyAgLSBsZXNzIHRoYW4gMTAwbXMgZ2FwcyBiZXR3ZWVuIG5ldyB0aW1lIG9mZnNldCAoaWYgYWNjdXJhdGUpIGFuZCBuZXh0IGV4cGVjdGVkIFBUUyBPUlxuICAgIC8vICAtIGxlc3MgdGhhbiAyMCBhdWRpbyBmcmFtZXMgZGlzdGFuY2VcbiAgICAvLyBjb250aWd1b3VzIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGZyb20gc2FtZSBxdWFsaXR5IGxldmVsIChzYW1lIGxldmVsLCBuZXcgU04gPSBvbGQgU04gKyAxKVxuICAgIC8vIHRoaXMgaGVscHMgZW5zdXJpbmcgYXVkaW8gY29udGludWl0eVxuICAgIC8vIGFuZCB0aGlzIGFsc28gYXZvaWRzIGF1ZGlvIGdsaXRjaGVzL2N1dCB3aGVuIHN3aXRjaGluZyBxdWFsaXR5LCBvciByZXBvcnRpbmcgd3JvbmcgZHVyYXRpb24gb24gZmlyc3QgYXVkaW8gZnJhbWVcbiAgICBjb250aWd1b3VzIHw9IGlucHV0U2FtcGxlcy5sZW5ndGggJiYgbmV4dEF1ZGlvUHRzICYmIChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKSA8IDAuMSB8fCBNYXRoLmFicyhpbnB1dFNhbXBsZXNbMF0ucHRzIC0gbmV4dEF1ZGlvUHRzIC0gaW5pdERUUykgPCAyMCAqIGlucHV0U2FtcGxlRHVyYXRpb24pO1xuXG4gICAgaWYgKCFjb250aWd1b3VzKSB7XG4gICAgICAvLyBpZiBmcmFnbWVudHMgYXJlIG5vdCBjb250aWd1b3VzLCBsZXQncyB1c2UgdGltZU9mZnNldCB0byBjb21wdXRlIG5leHQgQXVkaW8gUFRTXG4gICAgICBuZXh0QXVkaW9QdHMgPSB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGU7XG4gICAgfVxuXG4gICAgLy8gY29tcHV0ZSBub3JtYWxpemVkIFBUU1xuICAgIGlucHV0U2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0RFRTLCBuZXh0QXVkaW9QdHMpO1xuICAgIH0pO1xuXG4gICAgLy8gc29ydCBiYXNlZCBvbiBub3JtYWxpemVkIFBUUyAodGhpcyBpcyB0byBhdm9pZCBzb3J0aW5nIGlzc3VlcyBpbiBjYXNlIHRpbWVzdGFtcFxuICAgIC8vIHJlbG9vcCBpbiB0aGUgbWlkZGxlIG9mIG91ciBzYW1wbGVzIGFycmF5KVxuICAgIGlucHV0U2FtcGxlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5wdHMgLSBiLnB0cztcbiAgICB9KTtcblxuICAgIC8vIElmIHRoZSBhdWRpbyB0cmFjayBpcyBtaXNzaW5nIHNhbXBsZXMsIHRoZSBmcmFtZXMgc2VlbSB0byBnZXQgXCJsZWZ0LXNoaWZ0ZWRcIiB3aXRoaW4gdGhlXG4gICAgLy8gcmVzdWx0aW5nIG1wNCBzZWdtZW50LCBjYXVzaW5nIHN5bmMgaXNzdWVzIGFuZCBsZWF2aW5nIGdhcHMgYXQgdGhlIGVuZCBvZiB0aGUgYXVkaW8gc2VnbWVudC5cbiAgICAvLyBJbiBhbiBlZmZvcnQgdG8gcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nLCB3ZSBpbmplY3QgZnJhbWVzIGhlcmUgd2hlcmUgdGhlcmUgYXJlIGdhcHMuXG4gICAgLy8gV2hlbiBwb3NzaWJsZSwgd2UgaW5qZWN0IGEgc2lsZW50IGZyYW1lOyB3aGVuIHRoYXQncyBub3QgcG9zc2libGUsIHdlIGR1cGxpY2F0ZSB0aGUgbGFzdFxuICAgIC8vIGZyYW1lLlxuXG4gICAgLy8gb25seSBpbmplY3QvZHJvcCBhdWRpbyBmcmFtZXMgaW4gY2FzZSB0aW1lIG9mZnNldCBpcyBhY2N1cmF0ZVxuICAgIGlmIChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgdHJhY2suaXNBQUMpIHtcbiAgICAgIHZhciBtYXhBdWRpb0ZyYW1lc0RyaWZ0ID0gdGhpcy5jb25maWcubWF4QXVkaW9GcmFtZXNEcmlmdDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuZXh0UHRzID0gbmV4dEF1ZGlvUHRzOyBpIDwgaW5wdXRTYW1wbGVzLmxlbmd0aDspIHtcbiAgICAgICAgLy8gRmlyc3QsIGxldCdzIHNlZSBob3cgZmFyIG9mZiB0aGlzIGZyYW1lIGlzIGZyb20gd2hlcmUgd2UgZXhwZWN0IGl0IHRvIGJlXG4gICAgICAgIHZhciBzYW1wbGUgPSBpbnB1dFNhbXBsZXNbaV0sXG4gICAgICAgICAgICBkZWx0YTtcbiAgICAgICAgdmFyIHB0cyA9IHNhbXBsZS5wdHM7XG4gICAgICAgIGRlbHRhID0gcHRzIC0gbmV4dFB0cztcblxuICAgICAgICAvL2NvbnNvbGUubG9nKE1hdGgucm91bmQocHRzKSArICcvJyArIE1hdGgucm91bmQobmV4dFB0cykgKyAnLycgKyBNYXRoLnJvdW5kKGRlbHRhKSk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKDEwMDAgKiBkZWx0YSAvIGlucHV0VGltZVNjYWxlKTtcblxuICAgICAgICAvLyBJZiB3ZSdyZSBvdmVybGFwcGluZyBieSBtb3JlIHRoYW4gYSBkdXJhdGlvbiwgZHJvcCB0aGlzIHNhbXBsZVxuICAgICAgICBpZiAoZGVsdGEgPD0gLW1heEF1ZGlvRnJhbWVzRHJpZnQgKiBpbnB1dFNhbXBsZUR1cmF0aW9uKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignRHJvcHBpbmcgMSBhdWRpbyBmcmFtZSBAICcgKyAobmV4dFB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgJ3MgZHVlIHRvICcgKyBNYXRoLnJvdW5kKGR1cmF0aW9uKSArICcgbXMgb3ZlcmxhcC4nKTtcbiAgICAgICAgICBpbnB1dFNhbXBsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHRyYWNrLmxlbiAtPSBzYW1wbGUudW5pdC5sZW5ndGg7XG4gICAgICAgICAgLy8gRG9uJ3QgdG91Y2ggbmV4dFB0c05vcm0gb3IgaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IG1pc3NpbmcgZnJhbWVzIGlmOlxuICAgICAgICAvLyAxOiBXZSdyZSBtb3JlIHRoYW4gbWF4QXVkaW9GcmFtZXNEcmlmdCBmcmFtZSBhd2F5XG4gICAgICAgIC8vIDI6IE5vdCBtb3JlIHRoYW4gTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiBhd2F5XG4gICAgICAgIC8vIDM6IGN1cnJlbnRUaW1lIChha2EgbmV4dFB0c05vcm0pIGlzIG5vdCAwXG4gICAgICAgIGVsc2UgaWYgKGRlbHRhID49IG1heEF1ZGlvRnJhbWVzRHJpZnQgKiBpbnB1dFNhbXBsZUR1cmF0aW9uICYmIGR1cmF0aW9uIDwgTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiAmJiBuZXh0UHRzKSB7XG4gICAgICAgICAgICB2YXIgbWlzc2luZyA9IE1hdGgucm91bmQoZGVsdGEgLyBpbnB1dFNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0luamVjdGluZyAnICsgbWlzc2luZyArICcgYXVkaW8gZnJhbWUgQCAnICsgKG5leHRQdHMgLyBpbnB1dFRpbWVTY2FsZSkudG9GaXhlZCgzKSArICdzIGR1ZSB0byAnICsgTWF0aC5yb3VuZCgxMDAwICogZGVsdGEgLyBpbnB1dFRpbWVTY2FsZSkgKyAnIG1zIGdhcC4nKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWlzc2luZzsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBuZXdTdGFtcCA9IE1hdGgubWF4KG5leHRQdHMsIDApO1xuICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWMuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgaWYgKCFmaWxsRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1VuYWJsZSB0byBnZXQgc2lsZW50IGZyYW1lIGZvciBnaXZlbiBhdWRpbyBjb2RlYzsgZHVwbGljYXRpbmcgbGFzdCBmcmFtZSBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIGZpbGxGcmFtZSA9IHNhbXBsZS51bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzLnNwbGljZShpLCAwLCB7IHVuaXQ6IGZpbGxGcmFtZSwgcHRzOiBuZXdTdGFtcCwgZHRzOiBuZXdTdGFtcCB9KTtcbiAgICAgICAgICAgICAgdHJhY2subGVuICs9IGZpbGxGcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgIG5leHRQdHMgKz0gaW5wdXRTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGp1c3Qgc2FtcGxlIHRvIG5leHQgZXhwZWN0ZWQgcHRzXG4gICAgICAgICAgICBzYW1wbGUucHRzID0gc2FtcGxlLmR0cyA9IG5leHRQdHM7XG4gICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwganVzdCBhZGp1c3QgcHRzXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMC4xICogaW5wdXRTYW1wbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgICAvL2xvZ2dlci5sb2coYEludmFsaWQgZnJhbWUgZGVsdGEgJHtNYXRoLnJvdW5kKGRlbHRhICsgaW5wdXRTYW1wbGVEdXJhdGlvbil9IGF0IFBUUyAke01hdGgucm91bmQocHRzIC8gOTApfSAoc2hvdWxkIGJlICR7TWF0aC5yb3VuZChpbnB1dFNhbXBsZUR1cmF0aW9uKX0pLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHNhbXBsZS5kdHMgPSBuZXh0UHRzO1xuICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfajIgPSAwLCBfbmJTYW1wbGVzID0gaW5wdXRTYW1wbGVzLmxlbmd0aDsgX2oyIDwgX25iU2FtcGxlczsgX2oyKyspIHtcbiAgICAgIHZhciBhdWRpb1NhbXBsZSA9IGlucHV0U2FtcGxlc1tfajJdO1xuICAgICAgdmFyIHVuaXQgPSBhdWRpb1NhbXBsZS51bml0O1xuICAgICAgdmFyIF9wdHMgPSBhdWRpb1NhbXBsZS5wdHM7XG4gICAgICAvL2xvZ2dlci5sb2coYEF1ZGlvL1BUUzoke01hdGgucm91bmQocHRzLzkwKX1gKTtcbiAgICAgIC8vIGlmIG5vdCBmaXJzdCBzYW1wbGVcbiAgICAgIGlmIChsYXN0UFRTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gTWF0aC5yb3VuZCgoX3B0cyAtIGxhc3RQVFMpIC8gc2NhbGVGYWN0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9kZWx0YSA9IE1hdGgucm91bmQoMTAwMCAqIChfcHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0VGltZVNjYWxlKSxcbiAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSAwO1xuICAgICAgICAvLyBpZiBmcmFnbWVudCBhcmUgY29udGlndW91cywgZGV0ZWN0IGhvbGUvb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHNcbiAgICAgICAgLy8gY29udGlndW91cyBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBmcm9tIHNhbWUgcXVhbGl0eSBsZXZlbCAoc2FtZSBsZXZlbCwgbmV3IFNOID0gb2xkIFNOICsgMSlcbiAgICAgICAgaWYgKGNvbnRpZ3VvdXMgJiYgdHJhY2suaXNBQUMpIHtcbiAgICAgICAgICAvLyBsb2cgZGVsdGFcbiAgICAgICAgICBpZiAoX2RlbHRhKSB7XG4gICAgICAgICAgICBpZiAoX2RlbHRhID4gMCAmJiBfZGVsdGEgPCBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSBNYXRoLnJvdW5kKChfcHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0U2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coX2RlbHRhICsgJyBtcyBob2xlIGJldHdlZW4gQUFDIHNhbXBsZXMgZGV0ZWN0ZWQsZmlsbGluZyBpdCcpO1xuICAgICAgICAgICAgICBpZiAobnVtTWlzc2luZ0ZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWMuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGxGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgZmlsbEZyYW1lID0gdW5pdC5zdWJhcnJheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjay5sZW4gKz0gbnVtTWlzc2luZ0ZyYW1lcyAqIGZpbGxGcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBmcmFtZSBvdmVybGFwLCBvdmVybGFwcGluZyBmb3IgbW9yZSB0aGFuIGhhbGYgYSBmcmFtZSBkdXJhaW9uXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWx0YSA8IC0xMikge1xuICAgICAgICAgICAgICAvLyBkcm9wIG92ZXJsYXBwaW5nIGF1ZGlvIGZyYW1lcy4uLiBicm93c2VyIHdpbGwgZGVhbCB3aXRoIGl0XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZHJvcCBvdmVybGFwcGluZyBBQUMgc2FtcGxlLCBleHBlY3RlZC9wYXJzZWQvZGVsdGE6JyArIChuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZSkudG9GaXhlZCgzKSArICdzLycgKyAoX3B0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgJ3MvJyArIC1fZGVsdGEgKyAnbXMnKTtcbiAgICAgICAgICAgICAgdHJhY2subGVuIC09IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgUFRTL0RUUyB0byBleHBlY3RlZCBQVFMvRFRTXG4gICAgICAgICAgICBfcHRzID0gbmV4dEF1ZGlvUHRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZW1lbWJlciBmaXJzdCBQVFMgb2Ygb3VyIGF1ZGlvU2FtcGxlcywgZW5zdXJlIHZhbHVlIGlzIHBvc2l0aXZlXG4gICAgICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoMCwgX3B0cyk7XG4gICAgICAgIGlmICh0cmFjay5sZW4gPiAwKSB7XG4gICAgICAgICAgLyogY29uY2F0ZW5hdGUgdGhlIGF1ZGlvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgICAgICAgKG5lZWQgOCBtb3JlIGJ5dGVzIHRvIGZpbGwgbGVuZ3RoIGFuZCBtZGF0IHR5cGUpICovXG4gICAgICAgICAgdmFyIG1kYXRTaXplID0gcmF3TVBFRyA/IHRyYWNrLmxlbiA6IHRyYWNrLmxlbiArIDg7XG4gICAgICAgICAgb2Zmc2V0ID0gcmF3TVBFRyA/IDAgOiA4O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTVVYX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5SRU1VWF9BTExPQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBieXRlczogbWRhdFNpemUsIHJlYXNvbjogJ2ZhaWwgYWxsb2NhdGluZyBhdWRpbyBtZGF0ICcgKyBtZGF0U2l6ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyYXdNUEVHKSB7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigwLCBtZGF0U2l6ZSk7XG4gICAgICAgICAgICBtZGF0LnNldChtcDRfZ2VuZXJhdG9yLnR5cGVzLm1kYXQsIDQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBubyBhdWRpbyBzYW1wbGVzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IG51bU1pc3NpbmdGcmFtZXM7IF9pMysrKSB7XG4gICAgICAgICAgZmlsbEZyYW1lID0gYWFjLmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgaWYgKCFmaWxsRnJhbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnVW5hYmxlIHRvIGdldCBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjOyBkdXBsaWNhdGluZyB0aGlzIGZyYW1lIGluc3RlYWQuJyk7XG4gICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1kYXQuc2V0KGZpbGxGcmFtZSwgb2Zmc2V0KTtcbiAgICAgICAgICBvZmZzZXQgKz0gZmlsbEZyYW1lLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgbXA0U2FtcGxlID0ge1xuICAgICAgICAgICAgc2l6ZTogZmlsbEZyYW1lLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICBjdHM6IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAyNCxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgICAgICBkZXBlbmRzT246IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIG91dHB1dFNhbXBsZXMucHVzaChtcDRTYW1wbGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtZGF0LnNldCh1bml0LCBvZmZzZXQpO1xuICAgICAgdmFyIHVuaXRMZW4gPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICBvZmZzZXQgKz0gdW5pdExlbjtcbiAgICAgIC8vY29uc29sZS5sb2coJ1BUUy9EVFMvaW5pdERUUy9ub3JtUFRTL25vcm1EVFMvcmVsYXRpdmUgUFRTIDogJHthdWRpb1NhbXBsZS5wdHN9LyR7YXVkaW9TYW1wbGUuZHRzfS8ke2luaXREVFN9LyR7cHRzbm9ybX0vJHtkdHNub3JtfS8keyhhdWRpb1NhbXBsZS5wdHMvNDI5NDk2NzI5NikudG9GaXhlZCgzKX0nKTtcbiAgICAgIG1wNFNhbXBsZSA9IHtcbiAgICAgICAgc2l6ZTogdW5pdExlbixcbiAgICAgICAgY3RzOiAwLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgZGVncmFkUHJpbzogMCxcbiAgICAgICAgICBkZXBlbmRzT246IDFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG91dHB1dFNhbXBsZXMucHVzaChtcDRTYW1wbGUpO1xuICAgICAgbGFzdFBUUyA9IF9wdHM7XG4gICAgfVxuICAgIHZhciBsYXN0U2FtcGxlRHVyYXRpb24gPSAwO1xuICAgIHZhciBuYlNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzLmxlbmd0aDtcbiAgICAvL3NldCBsYXN0IHNhbXBsZSBkdXJhdGlvbiBhcyBiZWluZyBpZGVudGljYWwgdG8gcHJldmlvdXMgc2FtcGxlXG4gICAgaWYgKG5iU2FtcGxlcyA+PSAyKSB7XG4gICAgICBsYXN0U2FtcGxlRHVyYXRpb24gPSBvdXRwdXRTYW1wbGVzW25iU2FtcGxlcyAtIDJdLmR1cmF0aW9uO1xuICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAobmJTYW1wbGVzKSB7XG4gICAgICAvLyBuZXh0IGF1ZGlvIHNhbXBsZSBQVFMgc2hvdWxkIGJlIGVxdWFsIHRvIGxhc3Qgc2FtcGxlIFBUUyArIGR1cmF0aW9uXG4gICAgICB0aGlzLm5leHRBdWRpb1B0cyA9IG5leHRBdWRpb1B0cyA9IGxhc3RQVFMgKyBzY2FsZUZhY3RvciAqIGxhc3RTYW1wbGVEdXJhdGlvbjtcbiAgICAgIC8vbG9nZ2VyLmxvZygnQXVkaW8vUFRTL1BUU2VuZDonICsgYXVkaW9TYW1wbGUucHRzLnRvRml4ZWQoMCkgKyAnLycgKyB0aGlzLm5leHRBYWNEdHMudG9GaXhlZCgwKSk7XG4gICAgICB0cmFjay5sZW4gPSAwO1xuICAgICAgdHJhY2suc2FtcGxlcyA9IG91dHB1dFNhbXBsZXM7XG4gICAgICBpZiAocmF3TVBFRykge1xuICAgICAgICBtb29mID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vb2YgPSBtcDRfZ2VuZXJhdG9yLm1vb2YodHJhY2suc2VxdWVuY2VOdW1iZXIrKywgZmlyc3RQVFMgLyBzY2FsZUZhY3RvciwgdHJhY2spO1xuICAgICAgfVxuICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgdmFyIHN0YXJ0ID0gZmlyc3RQVFMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIHZhciBlbmQgPSBuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIHZhciBhdWRpb0RhdGEgPSB7XG4gICAgICAgIGRhdGExOiBtb29mLFxuICAgICAgICBkYXRhMjogbWRhdCxcbiAgICAgICAgc3RhcnRQVFM6IHN0YXJ0LFxuICAgICAgICBlbmRQVFM6IGVuZCxcbiAgICAgICAgc3RhcnREVFM6IHN0YXJ0LFxuICAgICAgICBlbmREVFM6IGVuZCxcbiAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgbmI6IG5iU2FtcGxlc1xuICAgICAgfTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEEsIGF1ZGlvRGF0YSk7XG4gICAgICByZXR1cm4gYXVkaW9EYXRhO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eEVtcHR5QXVkaW8gPSBmdW5jdGlvbiByZW11eEVtcHR5QXVkaW8odHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIHZpZGVvRGF0YSkge1xuICAgIHZhciBpbnB1dFRpbWVTY2FsZSA9IHRyYWNrLmlucHV0VGltZVNjYWxlLFxuICAgICAgICBtcDR0aW1lU2NhbGUgPSB0cmFjay5zYW1wbGVyYXRlID8gdHJhY2suc2FtcGxlcmF0ZSA6IGlucHV0VGltZVNjYWxlLFxuICAgICAgICBzY2FsZUZhY3RvciA9IGlucHV0VGltZVNjYWxlIC8gbXA0dGltZVNjYWxlLFxuICAgICAgICBuZXh0QXVkaW9QdHMgPSB0aGlzLm5leHRBdWRpb1B0cyxcblxuXG4gICAgLy8gc3luYyB3aXRoIHZpZGVvJ3MgdGltZXN0YW1wXG4gICAgc3RhcnREVFMgPSAobmV4dEF1ZGlvUHRzICE9PSB1bmRlZmluZWQgPyBuZXh0QXVkaW9QdHMgOiB2aWRlb0RhdGEuc3RhcnREVFMgKiBpbnB1dFRpbWVTY2FsZSkgKyB0aGlzLl9pbml0RFRTLFxuICAgICAgICBlbmREVFMgPSB2aWRlb0RhdGEuZW5kRFRTICogaW5wdXRUaW1lU2NhbGUgKyB0aGlzLl9pbml0RFRTLFxuXG4gICAgLy8gb25lIHNhbXBsZSdzIGR1cmF0aW9uIHZhbHVlXG4gICAgc2FtcGxlRHVyYXRpb24gPSAxMDI0LFxuICAgICAgICBmcmFtZUR1cmF0aW9uID0gc2NhbGVGYWN0b3IgKiBzYW1wbGVEdXJhdGlvbixcblxuXG4gICAgLy8gc2FtcGxlcyBjb3VudCBvZiB0aGlzIHNlZ21lbnQncyBkdXJhdGlvblxuICAgIG5iU2FtcGxlcyA9IE1hdGguY2VpbCgoZW5kRFRTIC0gc3RhcnREVFMpIC8gZnJhbWVEdXJhdGlvbiksXG5cblxuICAgIC8vIHNpbGVudCBmcmFtZVxuICAgIHNpbGVudEZyYW1lID0gYWFjLmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdyZW11eCBlbXB0eSBBdWRpbycpO1xuICAgIC8vIENhbid0IHJlbXV4IGlmIHdlIGNhbid0IGdlbmVyYXRlIGEgc2lsZW50IGZyYW1lLi4uXG4gICAgaWYgKCFzaWxlbnRGcmFtZSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10udHJhY2UoJ1VuYWJsZSB0byByZW11eEVtcHR5QXVkaW8gc2luY2Ugd2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGEgc2lsZW50IGZyYW1lIGZvciBnaXZlbiBhdWRpbyBjb2RlYyEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2FtcGxlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgIHZhciBzdGFtcCA9IHN0YXJ0RFRTICsgaSAqIGZyYW1lRHVyYXRpb247XG4gICAgICBzYW1wbGVzLnB1c2goeyB1bml0OiBzaWxlbnRGcmFtZSwgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCB9KTtcbiAgICAgIHRyYWNrLmxlbiArPSBzaWxlbnRGcmFtZS5sZW5ndGg7XG4gICAgfVxuICAgIHRyYWNrLnNhbXBsZXMgPSBzYW1wbGVzO1xuXG4gICAgdGhpcy5yZW11eEF1ZGlvKHRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzKTtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eElEMyA9IGZ1bmN0aW9uIHJlbXV4SUQzKHRyYWNrLCB0aW1lT2Zmc2V0KSB7XG4gICAgdmFyIGxlbmd0aCA9IHRyYWNrLnNhbXBsZXMubGVuZ3RoLFxuICAgICAgICBzYW1wbGU7XG4gICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgIHZhciBpbml0RFRTID0gdGhpcy5faW5pdERUUztcbiAgICAvLyBjb25zdW1lIHNhbXBsZXNcbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHNhbXBsZSA9IHRyYWNrLnNhbXBsZXNbaW5kZXhdO1xuICAgICAgICAvLyBzZXR0aW5nIGlkMyBwdHMsIGR0cyB0byByZWxhdGl2ZSB0aW1lXG4gICAgICAgIC8vIHVzaW5nIHRoaXMuX2luaXRQVFMgYW5kIHRoaXMuX2luaXREVFMgdG8gY2FsY3VsYXRlIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgc2FtcGxlLnB0cyA9IChzYW1wbGUucHRzIC0gaW5pdFBUUykgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgc2FtcGxlLmR0cyA9IChzYW1wbGUuZHRzIC0gaW5pdERUUykgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX01FVEFEQVRBLCB7XG4gICAgICAgIHNhbXBsZXM6IHRyYWNrLnNhbXBsZXNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICB0aW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eFRleHQgPSBmdW5jdGlvbiByZW11eFRleHQodHJhY2ssIHRpbWVPZmZzZXQpIHtcbiAgICB0cmFjay5zYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnB0cyAtIGIucHRzO1xuICAgIH0pO1xuXG4gICAgdmFyIGxlbmd0aCA9IHRyYWNrLnNhbXBsZXMubGVuZ3RoLFxuICAgICAgICBzYW1wbGU7XG4gICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgIC8vIGNvbnN1bWUgc2FtcGxlc1xuICAgIGlmIChsZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgc2FtcGxlID0gdHJhY2suc2FtcGxlc1tpbmRleF07XG4gICAgICAgIC8vIHNldHRpbmcgdGV4dCBwdHMsIGR0cyB0byByZWxhdGl2ZSB0aW1lXG4gICAgICAgIC8vIHVzaW5nIHRoaXMuX2luaXRQVFMgYW5kIHRoaXMuX2luaXREVFMgdG8gY2FsY3VsYXRlIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgc2FtcGxlLnB0cyA9IChzYW1wbGUucHRzIC0gaW5pdFBUUykgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX1VTRVJEQVRBLCB7XG4gICAgICAgIHNhbXBsZXM6IHRyYWNrLnNhbXBsZXNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICB0aW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5fUFRTTm9ybWFsaXplID0gZnVuY3Rpb24gX1BUU05vcm1hbGl6ZSh2YWx1ZSwgcmVmZXJlbmNlKSB7XG4gICAgdmFyIG9mZnNldDtcbiAgICBpZiAocmVmZXJlbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHJlZmVyZW5jZSA8IHZhbHVlKSB7XG4gICAgICAvLyAtIDJeMzNcbiAgICAgIG9mZnNldCA9IC04NTg5OTM0NTkyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyArIDJeMzNcbiAgICAgIG9mZnNldCA9IDg1ODk5MzQ1OTI7XG4gICAgfVxuICAgIC8qIFBUUyBpcyAzM2JpdCAoZnJvbSAwIHRvIDJeMzMgLTEpXG4gICAgICBpZiBkaWZmIGJldHdlZW4gdmFsdWUgYW5kIHJlZmVyZW5jZSBpcyBiaWdnZXIgdGhhbiBoYWxmIG9mIHRoZSBhbXBsaXR1ZGUgKDJeMzIpIHRoZW4gaXQgbWVhbnMgdGhhdFxuICAgICAgUFRTIGxvb3Bpbmcgb2NjdXJlZC4gZmlsbCB0aGUgZ2FwICovXG4gICAgd2hpbGUgKE1hdGguYWJzKHZhbHVlIC0gcmVmZXJlbmNlKSA+IDQyOTQ5NjcyOTYpIHtcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBNUDRSZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtcDRfcmVtdXhlciA9IChtcDRfcmVtdXhlcl9NUDRSZW11eGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3JlbXV4L3Bhc3N0aHJvdWdoLXJlbXV4ZXIuanNcbmZ1bmN0aW9uIHBhc3N0aHJvdWdoX3JlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBwYXNzdGhyb3VnaCByZW11eGVyXG4qL1xuXG5cbnZhciBwYXNzdGhyb3VnaF9yZW11eGVyX1Bhc3NUaHJvdWdoUmVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFzc1Rocm91Z2hSZW11eGVyKG9ic2VydmVyKSB7XG4gICAgcGFzc3Rocm91Z2hfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFzc1Rocm91Z2hSZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgfVxuXG4gIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fTtcblxuICBQYXNzVGhyb3VnaFJlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gcmVzZXRUaW1lU3RhbXAoKSB7fTtcblxuICBQYXNzVGhyb3VnaFJlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KCkge307XG5cbiAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5yZW11eCA9IGZ1bmN0aW9uIHJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCwgcmF3RGF0YSkge1xuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgdmFyIHN0cmVhbVR5cGUgPSAnJztcbiAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgc3RyZWFtVHlwZSArPSAnYXVkaW8nO1xuICAgIH1cbiAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgc3RyZWFtVHlwZSArPSAndmlkZW8nO1xuICAgIH1cbiAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwge1xuICAgICAgZGF0YTE6IHJhd0RhdGEsXG4gICAgICBzdGFydFBUUzogdGltZU9mZnNldCxcbiAgICAgIHN0YXJ0RFRTOiB0aW1lT2Zmc2V0LFxuICAgICAgdHlwZTogc3RyZWFtVHlwZSxcbiAgICAgIG5iOiAxLFxuICAgICAgZHJvcHBlZDogMFxuICAgIH0pO1xuICAgIC8vbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQpO1xuICB9O1xuXG4gIHJldHVybiBQYXNzVGhyb3VnaFJlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBhc3N0aHJvdWdoX3JlbXV4ZXIgPSAocGFzc3Rocm91Z2hfcmVtdXhlcl9QYXNzVGhyb3VnaFJlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvZGVtdXhlci1pbmxpbmUuanNcbmZ1bmN0aW9uIGRlbXV4ZXJfaW5saW5lX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qICBpbmxpbmUgZGVtdXhlci5cbiAqICAgcHJvYmUgZnJhZ21lbnRzIGFuZCBpbnN0YW50aWF0ZSBhcHByb3ByaWF0ZSBkZW11eGVyIGRlcGVuZGluZyBvbiBjb250ZW50IHR5cGUgKFRTRGVtdXhlciwgQUFDRGVtdXhlciwgLi4uKVxuICovXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIGRlbXV4ZXJfaW5saW5lX0RlbXV4ZXJJbmxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERlbXV4ZXJJbmxpbmUob2JzZXJ2ZXIsIHR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgdmVuZG9yKSB7XG4gICAgZGVtdXhlcl9pbmxpbmVfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlbXV4ZXJJbmxpbmUpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMudHlwZVN1cHBvcnRlZCA9IHR5cGVTdXBwb3J0ZWQ7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy52ZW5kb3IgPSB2ZW5kb3I7XG4gIH1cblxuICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZGVtdXhlciA9IHRoaXMuZGVtdXhlcjtcbiAgICBpZiAoZGVtdXhlcikge1xuICAgICAgZGVtdXhlci5kZXN0cm95KCk7XG4gICAgfVxuICB9O1xuXG4gIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKSB7XG4gICAgaWYgKGRhdGEuYnl0ZUxlbmd0aCA+IDAgJiYgZGVjcnlwdGRhdGEgIT0gbnVsbCAmJiBkZWNyeXB0ZGF0YS5rZXkgIT0gbnVsbCAmJiBkZWNyeXB0ZGF0YS5tZXRob2QgPT09ICdBRVMtMTI4Jykge1xuICAgICAgdmFyIGRlY3J5cHRlciA9IHRoaXMuZGVjcnlwdGVyO1xuICAgICAgaWYgKGRlY3J5cHRlciA9PSBudWxsKSB7XG4gICAgICAgIGRlY3J5cHRlciA9IHRoaXMuZGVjcnlwdGVyID0gbmV3IGNyeXB0X2RlY3J5cHRlcih0aGlzLm9ic2VydmVyLCB0aGlzLmNvbmZpZyk7XG4gICAgICB9XG4gICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgIC8vIHBlcmZvcm1hbmNlLm5vdygpIG5vdCBhdmFpbGFibGUgb24gV2ViV29ya2VyLCBhdCBsZWFzdCBvbiBTYWZhcmkgRGVza3RvcFxuICAgICAgdmFyIHN0YXJ0VGltZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIH1cbiAgICAgIGRlY3J5cHRlci5kZWNyeXB0KGRhdGEsIGRlY3J5cHRkYXRhLmtleS5idWZmZXIsIGRlY3J5cHRkYXRhLml2LmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgdmFyIGVuZFRpbWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0RFQ1JZUFRFRCwgeyBzdGF0czogeyB0c3RhcnQ6IHN0YXJ0VGltZSwgdGRlY3J5cHQ6IGVuZFRpbWUgfSB9KTtcbiAgICAgICAgbG9jYWx0aGlzLnB1c2hEZWNyeXB0ZWQobmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSksIGRlY3J5cHRkYXRhLCBuZXcgVWludDhBcnJheShpbml0U2VnbWVudCksIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgIH1cbiAgfTtcblxuICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5wdXNoRGVjcnlwdGVkID0gZnVuY3Rpb24gcHVzaERlY3J5cHRlZChkYXRhLCBkZWNyeXB0ZGF0YSwgaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUykge1xuICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgIGlmICghZGVtdXhlciB8fFxuICAgIC8vIGluIGNhc2Ugb2YgY29udGludWl0eSBjaGFuZ2UsIHdlIG1pZ2h0IHN3aXRjaCBmcm9tIGNvbnRlbnQgdHlwZSAoQUFDIGNvbnRhaW5lciB0byBUUyBjb250YWluZXIgZm9yIGV4YW1wbGUpXG4gICAgLy8gc28gbGV0J3MgY2hlY2sgdGhhdCBjdXJyZW50IGRlbXV4ZXIgaXMgc3RpbGwgdmFsaWRcbiAgICBkaXNjb250aW51aXR5ICYmICF0aGlzLnByb2JlKGRhdGEpKSB7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyO1xuICAgICAgdmFyIHR5cGVTdXBwb3J0ZWQgPSB0aGlzLnR5cGVTdXBwb3J0ZWQ7XG4gICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAvLyBwcm9iaW5nIG9yZGVyIGlzIFRTL0FBQy9NUDMvTVA0XG4gICAgICB2YXIgbXV4Q29uZmlnID0gW3sgZGVtdXg6IHRzZGVtdXhlciwgcmVtdXg6IG1wNF9yZW11eGVyIH0sIHsgZGVtdXg6IGFhY2RlbXV4ZXIsIHJlbXV4OiBtcDRfcmVtdXhlciB9LCB7IGRlbXV4OiBtcDNkZW11eGVyLCByZW11eDogbXA0X3JlbXV4ZXIgfSwgeyBkZW11eDogbXA0ZGVtdXhlciwgcmVtdXg6IHBhc3N0aHJvdWdoX3JlbXV4ZXIgfV07XG5cbiAgICAgIC8vIHByb2JlIGZvciBjb250ZW50IHR5cGVcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtdXhDb25maWcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIG11eCA9IG11eENvbmZpZ1tpXTtcbiAgICAgICAgdmFyIHByb2JlID0gbXV4LmRlbXV4LnByb2JlO1xuICAgICAgICBpZiAocHJvYmUoZGF0YSkpIHtcbiAgICAgICAgICB2YXIgX3JlbXV4ZXIgPSB0aGlzLnJlbXV4ZXIgPSBuZXcgbXV4LnJlbXV4KG9ic2VydmVyLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQsIHRoaXMudmVuZG9yKTtcbiAgICAgICAgICBkZW11eGVyID0gbmV3IG11eC5kZW11eChvYnNlcnZlciwgX3JlbXV4ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCk7XG4gICAgICAgICAgdGhpcy5wcm9iZSA9IHByb2JlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWRlbXV4ZXIpIHtcbiAgICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiB0cnVlLCByZWFzb246ICdubyBkZW11eCBtYXRjaGluZyB3aXRoIGNvbnRlbnQgZm91bmQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRlbXV4ZXIgPSBkZW11eGVyO1xuICAgIH1cbiAgICB2YXIgcmVtdXhlciA9IHRoaXMucmVtdXhlcjtcblxuICAgIGlmIChkaXNjb250aW51aXR5IHx8IHRyYWNrU3dpdGNoKSB7XG4gICAgICBkZW11eGVyLnJlc2V0SW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGR1cmF0aW9uKTtcbiAgICAgIHJlbXV4ZXIucmVzZXRJbml0U2VnbWVudCgpO1xuICAgIH1cbiAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgZGVtdXhlci5yZXNldFRpbWVTdGFtcChkZWZhdWx0SW5pdFBUUyk7XG4gICAgICByZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UFRTKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkZW11eGVyLnNldERlY3J5cHREYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkZW11eGVyLnNldERlY3J5cHREYXRhKGRlY3J5cHRkYXRhKTtcbiAgICB9XG4gICAgZGVtdXhlci5hcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgfTtcblxuICByZXR1cm4gRGVtdXhlcklubGluZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGVtdXhlcl9pbmxpbmUgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChkZW11eGVyX2lubGluZV9EZW11eGVySW5saW5lKTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGN1ZXNfbmFtZXNwYWNlT2JqZWN0ID0ge307XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQoY3Vlc19uYW1lc3BhY2VPYmplY3QsIFwibmV3Q3VlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3Q3VlOyB9KTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanNcbnZhciB1cmxfdG9vbGtpdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgdXJsX3Rvb2xraXRfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4odXJsX3Rvb2xraXQpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2V2ZW50cy5qc1xudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZXJyb3JzLmpzXG52YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy91dGlscy9sb2dnZXIuanNcbnZhciBsb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ldmVudC1oYW5kbGVyLmpzXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qXG4qXG4qIEFsbCBvYmplY3RzIGluIHRoZSBldmVudCBoYW5kbGluZyBjaGFpbiBzaG91bGQgaW5oZXJpdCBmcm9tIHRoaXMgY2xhc3NcbipcbiovXG5cblxuXG5cblxudmFyIGV2ZW50X2hhbmRsZXJfRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudEhhbmRsZXIoaGxzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50SGFuZGxlcik7XG5cbiAgICB0aGlzLmhscyA9IGhscztcbiAgICB0aGlzLm9uRXZlbnQgPSB0aGlzLm9uRXZlbnQuYmluZCh0aGlzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBldmVudHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBldmVudHNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlZEV2ZW50cyA9IGV2ZW50cztcbiAgICB0aGlzLnVzZUdlbmVyaWNIYW5kbGVyID0gdHJ1ZTtcblxuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5pc0V2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIGlzRXZlbnRIYW5kbGVyKCkge1xuICAgIHJldHVybiBfdHlwZW9mKHRoaXMuaGFuZGxlZEV2ZW50cykgPT09ICdvYmplY3QnICYmIHRoaXMuaGFuZGxlZEV2ZW50cy5sZW5ndGggJiYgdHlwZW9mIHRoaXMub25FdmVudCA9PT0gJ2Z1bmN0aW9uJztcbiAgfTtcblxuICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKHRoaXMuaXNFdmVudEhhbmRsZXIoKSkge1xuICAgICAgdGhpcy5oYW5kbGVkRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2hsc0V2ZW50R2VuZXJpYycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvcmJpZGRlbiBldmVudCBuYW1lOiAnICsgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLm9uKGV2ZW50LCB0aGlzLm9uRXZlbnQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5yZWdpc3Rlckxpc3RlbmVycyA9IGZ1bmN0aW9uIHVucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKHRoaXMuaXNFdmVudEhhbmRsZXIoKSkge1xuICAgICAgdGhpcy5oYW5kbGVkRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuaGxzLm9mZihldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogYXJndW1lbnRzOiBldmVudCAoc3RyaW5nKSwgZGF0YSAoYW55KVxuICAgKi9cblxuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25FdmVudCA9IGZ1bmN0aW9uIG9uRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB0aGlzLm9uRXZlbnRHZW5lcmljKGV2ZW50LCBkYXRhKTtcbiAgfTtcblxuICBFdmVudEhhbmRsZXIucHJvdG90eXBlLm9uRXZlbnRHZW5lcmljID0gZnVuY3Rpb24gb25FdmVudEdlbmVyaWMoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZXZlbnRUb0Z1bmN0aW9uID0gZnVuY3Rpb24gZXZlbnRUb0Z1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSAnb24nICsgZXZlbnQucmVwbGFjZSgnaGxzJywgJycpO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzW2Z1bmNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50ICcgKyBldmVudCArICcgaGFzIG5vIGdlbmVyaWMgaGFuZGxlciBpbiB0aGlzICcgKyB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyAnIGNsYXNzICh0cmllZCAnICsgZnVuY05hbWUgKyAnKScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNbZnVuY05hbWVdLmJpbmQodGhpcywgZGF0YSk7XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgZXZlbnRUb0Z1bmN0aW9uLmNhbGwodGhpcywgZXZlbnQsIGRhdGEpLmNhbGwoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdpbnRlcm5hbCBlcnJvciBoYXBwZW5lZCB3aGlsZSBwcm9jZXNzaW5nICcgKyBldmVudCArICc6JyArIGVyci5tZXNzYWdlKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5PVEhFUl9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uSU5URVJOQUxfRVhDRVBUSU9OLCBmYXRhbDogZmFsc2UsIGV2ZW50OiBldmVudCwgZXJyOiBlcnIgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBFdmVudEhhbmRsZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGV2ZW50X2hhbmRsZXIgPSAoZXZlbnRfaGFuZGxlcl9FdmVudEhhbmRsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXG5mdW5jdGlvbiBhdHRyX2xpc3RfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCA9IC9eKFxcZCspeChcXGQrKSQvO1xudmFyIEFUVFJfTElTVF9SRUdFWCA9IC9cXHMqKC4rPylcXHMqPSgoPzpcXFwiLio/XFxcIil8Lio/KSg/Oix8JCkvZztcblxuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9rYW5vbmdpbC9ub2RlLW0zdThwYXJzZS9ibG9iL21hc3Rlci9hdHRybGlzdC5qc1xuXG52YXIgQXR0ckxpc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEF0dHJMaXN0KGF0dHJzKSB7XG4gICAgYXR0cl9saXN0X19jbGFzc0NhbGxDaGVjayh0aGlzLCBBdHRyTGlzdCk7XG5cbiAgICBpZiAodHlwZW9mIGF0dHJzID09PSAnc3RyaW5nJykge1xuICAgICAgYXR0cnMgPSBBdHRyTGlzdC5wYXJzZUF0dHJMaXN0KGF0dHJzKTtcbiAgICB9XG4gICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgIHRoaXNbYXR0cl0gPSBhdHRyc1thdHRyXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBBdHRyTGlzdC5wcm90b3R5cGUuZGVjaW1hbEludGVnZXIgPSBmdW5jdGlvbiBkZWNpbWFsSW50ZWdlcihhdHRyTmFtZSkge1xuICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxMCk7XG4gICAgaWYgKGludFZhbHVlID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGludFZhbHVlO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5oZXhhZGVjaW1hbEludGVnZXIgPSBmdW5jdGlvbiBoZXhhZGVjaW1hbEludGVnZXIoYXR0ck5hbWUpIHtcbiAgICBpZiAodGhpc1thdHRyTmFtZV0pIHtcbiAgICAgIHZhciBzdHJpbmdWYWx1ZSA9ICh0aGlzW2F0dHJOYW1lXSB8fCAnMHgnKS5zbGljZSgyKTtcbiAgICAgIHN0cmluZ1ZhbHVlID0gKHN0cmluZ1ZhbHVlLmxlbmd0aCAmIDEgPyAnMCcgOiAnJykgKyBzdHJpbmdWYWx1ZTtcblxuICAgICAgdmFyIHZhbHVlID0gbmV3IFVpbnQ4QXJyYXkoc3RyaW5nVmFsdWUubGVuZ3RoIC8gMik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ1ZhbHVlLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICB2YWx1ZVtpXSA9IHBhcnNlSW50KHN0cmluZ1ZhbHVlLnNsaWNlKGkgKiAyLCBpICogMiArIDIpLCAxNik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICBBdHRyTGlzdC5wcm90b3R5cGUuaGV4YWRlY2ltYWxJbnRlZ2VyQXNOdW1iZXIgPSBmdW5jdGlvbiBoZXhhZGVjaW1hbEludGVnZXJBc051bWJlcihhdHRyTmFtZSkge1xuICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxNik7XG4gICAgaWYgKGludFZhbHVlID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGludFZhbHVlO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsRmxvYXRpbmdQb2ludCA9IGZ1bmN0aW9uIGRlY2ltYWxGbG9hdGluZ1BvaW50KGF0dHJOYW1lKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpc1thdHRyTmFtZV0pO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5lbnVtZXJhdGVkU3RyaW5nID0gZnVuY3Rpb24gZW51bWVyYXRlZFN0cmluZyhhdHRyTmFtZSkge1xuICAgIHJldHVybiB0aGlzW2F0dHJOYW1lXTtcbiAgfTtcblxuICBBdHRyTGlzdC5wcm90b3R5cGUuZGVjaW1hbFJlc29sdXRpb24gPSBmdW5jdGlvbiBkZWNpbWFsUmVzb2x1dGlvbihhdHRyTmFtZSkge1xuICAgIHZhciByZXMgPSBERUNJTUFMX1JFU09MVVRJT05fUkVHRVguZXhlYyh0aGlzW2F0dHJOYW1lXSk7XG4gICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBwYXJzZUludChyZXNbMV0sIDEwKSxcbiAgICAgIGhlaWdodDogcGFyc2VJbnQocmVzWzJdLCAxMClcbiAgICB9O1xuICB9O1xuXG4gIEF0dHJMaXN0LnBhcnNlQXR0ckxpc3QgPSBmdW5jdGlvbiBwYXJzZUF0dHJMaXN0KGlucHV0KSB7XG4gICAgdmFyIG1hdGNoLFxuICAgICAgICBhdHRycyA9IHt9O1xuICAgIEFUVFJfTElTVF9SRUdFWC5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlICgobWF0Y2ggPSBBVFRSX0xJU1RfUkVHRVguZXhlYyhpbnB1dCkpICE9PSBudWxsKSB7XG4gICAgICB2YXIgdmFsdWUgPSBtYXRjaFsyXSxcbiAgICAgICAgICBxdW90ZSA9ICdcIic7XG5cbiAgICAgIGlmICh2YWx1ZS5pbmRleE9mKHF1b3RlKSA9PT0gMCAmJiB2YWx1ZS5sYXN0SW5kZXhPZihxdW90ZSkgPT09IHZhbHVlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgICB9XG4gICAgICBhdHRyc1ttYXRjaFsxXV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJzO1xuICB9O1xuXG4gIHJldHVybiBBdHRyTGlzdDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYXR0cl9saXN0ID0gKEF0dHJMaXN0KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2NvZGVjcy5qc1xuLy8gZnJvbSBodHRwOi8vbXA0cmEub3JnL2NvZGVjcy5odG1sXG52YXIgc2FtcGxlRW50cnlDb2Rlc0lTTyA9IHtcbiAgICBhdWRpbzoge1xuICAgICAgICAnYTNkcyc6IHRydWUsXG4gICAgICAgICdhYy0zJzogdHJ1ZSxcbiAgICAgICAgJ2FjLTQnOiB0cnVlLFxuICAgICAgICAnYWxhYyc6IHRydWUsXG4gICAgICAgICdhbGF3JzogdHJ1ZSxcbiAgICAgICAgJ2RyYTEnOiB0cnVlLFxuICAgICAgICAnZHRzKyc6IHRydWUsXG4gICAgICAgICdkdHMtJzogdHJ1ZSxcbiAgICAgICAgJ2R0c2MnOiB0cnVlLFxuICAgICAgICAnZHRzZSc6IHRydWUsXG4gICAgICAgICdkdHNoJzogdHJ1ZSxcbiAgICAgICAgJ2VjLTMnOiB0cnVlLFxuICAgICAgICAnZW5jYSc6IHRydWUsXG4gICAgICAgICdnNzE5JzogdHJ1ZSxcbiAgICAgICAgJ2c3MjYnOiB0cnVlLFxuICAgICAgICAnbTRhZSc6IHRydWUsXG4gICAgICAgICdtaGExJzogdHJ1ZSxcbiAgICAgICAgJ21oYTInOiB0cnVlLFxuICAgICAgICAnbWhtMSc6IHRydWUsXG4gICAgICAgICdtaG0yJzogdHJ1ZSxcbiAgICAgICAgJ21scGEnOiB0cnVlLFxuICAgICAgICAnbXA0YSc6IHRydWUsXG4gICAgICAgICdyYXcgJzogdHJ1ZSxcbiAgICAgICAgJ09wdXMnOiB0cnVlLFxuICAgICAgICAnc2Ftcic6IHRydWUsXG4gICAgICAgICdzYXdiJzogdHJ1ZSxcbiAgICAgICAgJ3Nhd3AnOiB0cnVlLFxuICAgICAgICAnc2V2Yyc6IHRydWUsXG4gICAgICAgICdzcWNwJzogdHJ1ZSxcbiAgICAgICAgJ3NzbXYnOiB0cnVlLFxuICAgICAgICAndHdvcyc6IHRydWUsXG4gICAgICAgICd1bGF3JzogdHJ1ZVxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgICAgJ2F2YzEnOiB0cnVlLFxuICAgICAgICAnYXZjMic6IHRydWUsXG4gICAgICAgICdhdmMzJzogdHJ1ZSxcbiAgICAgICAgJ2F2YzQnOiB0cnVlLFxuICAgICAgICAnYXZjcCc6IHRydWUsXG4gICAgICAgICdkcmFjJzogdHJ1ZSxcbiAgICAgICAgJ2R2YXYnOiB0cnVlLFxuICAgICAgICAnZHZoZSc6IHRydWUsXG4gICAgICAgICdlbmN2JzogdHJ1ZSxcbiAgICAgICAgJ2hldjEnOiB0cnVlLFxuICAgICAgICAnaHZjMSc6IHRydWUsXG4gICAgICAgICdtanAyJzogdHJ1ZSxcbiAgICAgICAgJ21wNHYnOiB0cnVlLFxuICAgICAgICAnbXZjMSc6IHRydWUsXG4gICAgICAgICdtdmMyJzogdHJ1ZSxcbiAgICAgICAgJ212YzMnOiB0cnVlLFxuICAgICAgICAnbXZjNCc6IHRydWUsXG4gICAgICAgICdyZXN2JzogdHJ1ZSxcbiAgICAgICAgJ3J2NjAnOiB0cnVlLFxuICAgICAgICAnczI2Myc6IHRydWUsXG4gICAgICAgICdzdmMxJzogdHJ1ZSxcbiAgICAgICAgJ3N2YzInOiB0cnVlLFxuICAgICAgICAndmMtMSc6IHRydWUsXG4gICAgICAgICd2cDA4JzogdHJ1ZSxcbiAgICAgICAgJ3ZwMDknOiB0cnVlXG4gICAgfVxufTtcblxuZnVuY3Rpb24gaXNDb2RlY1R5cGUoY29kZWMsIHR5cGUpIHtcbiAgICB2YXIgdHlwZUNvZGVzID0gc2FtcGxlRW50cnlDb2Rlc0lTT1t0eXBlXTtcbiAgICByZXR1cm4gISF0eXBlQ29kZXMgJiYgdHlwZUNvZGVzW2NvZGVjLnNsaWNlKDAsIDQpXSA9PT0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNDb2RlY1N1cHBvcnRlZEluTXA0KGNvZGVjKSB7XG4gICAgcmV0dXJuIE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0O2NvZGVjcz1cIicgKyBjb2RlYyArICdcIicpO1xufVxuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanNcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gcGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUGxheWxpc3QgTG9hZGVyXG4qL1xuXG5cblxuXG5cblxuXG5cblxuLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20gaXMgeW91ciBmcmllbmRcbnZhciBNQVNURVJfUExBWUxJU1RfUkVHRVggPSAvI0VYVC1YLVNUUkVBTS1JTkY6KFteXFxuXFxyXSopW1xcclxcbl0rKFteXFxyXFxuXSspL2c7XG52YXIgTUFTVEVSX1BMQVlMSVNUX01FRElBX1JFR0VYID0gLyNFWFQtWC1NRURJQTooLiopL2c7XG5cbnZhciBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUID0gbmV3IFJlZ0V4cChbLyNFWFRJTkY6KFxcZCooPzpcXC5cXGQrKT8pKD86LCguKilcXHMrKT8vLnNvdXJjZSwgLy8gZHVyYXRpb24gKCNFWFRJTkY6PGR1cmF0aW9uPiw8dGl0bGU+KSwgZ3JvdXAgMSA9PiBkdXJhdGlvbiwgZ3JvdXAgMiA9PiB0aXRsZVxuL3woPyEjKShcXFMrKS8uc291cmNlLCAvLyBzZWdtZW50IFVSSSwgZ3JvdXAgMyA9PiB0aGUgVVJJIChub3RlIG5ld2xpbmUgaXMgbm90IGVhdGVuKVxuL3wjRVhULVgtQllURVJBTkdFOiooLispLy5zb3VyY2UsIC8vIG5leHQgc2VnbWVudCdzIGJ5dGVyYW5nZSwgZ3JvdXAgNCA9PiByYW5nZSBzcGVjICh4QHkpXG4vfCNFWFQtWC1QUk9HUkFNLURBVEUtVElNRTooLispLy5zb3VyY2UsIC8vIG5leHQgc2VnbWVudCdzIHByb2dyYW0gZGF0ZS90aW1lIGdyb3VwIDUgPT4gdGhlIGRhdGV0aW1lIHNwZWNcbi98Iy4qLy5zb3VyY2UgLy8gQWxsIG90aGVyIG5vbi1zZWdtZW50IG9yaWVudGVkIHRhZ3Mgd2lsbCBtYXRjaCB3aXRoIGFsbCBncm91cHMgZW1wdHlcbl0uam9pbignJyksICdnJyk7XG5cbnZhciBMRVZFTF9QTEFZTElTVF9SRUdFWF9TTE9XID0gLyg/Oig/OiMoRVhUTTNVKSl8KD86I0VYVC1YLShQTEFZTElTVC1UWVBFKTooLispKXwoPzojRVhULVgtKE1FRElBLVNFUVVFTkNFKTogKihcXGQrKSl8KD86I0VYVC1YLShUQVJHRVREVVJBVElPTik6ICooXFxkKykpfCg/OiNFWFQtWC0oS0VZKTooLispKXwoPzojRVhULVgtKFNUQVJUKTooLispKXwoPzojRVhULVgtKEVORExJU1QpKXwoPzojRVhULVgtKERJU0NPTlRJTlVJVFktU0VRKVVFTkNFOihcXGQrKSl8KD86I0VYVC1YLShESVMpQ09OVElOVUlUWSkpfCg/OiNFWFQtWC0oVkVSU0lPTik6KFxcZCspKXwoPzojRVhULVgtKE1BUCk6KC4rKSl8KD86KCMpKC4qKTooLiopKXwoPzooIykoLiopKSg/Oi4qKVxccj9cXG4/LztcblxudmFyIHBsYXlsaXN0X2xvYWRlcl9MZXZlbEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGV2ZWxLZXkoKSB7XG4gICAgcGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBMZXZlbEtleSk7XG5cbiAgICB0aGlzLm1ldGhvZCA9IG51bGw7XG4gICAgdGhpcy5rZXkgPSBudWxsO1xuICAgIHRoaXMuaXYgPSBudWxsO1xuICAgIHRoaXMuX3VyaSA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGV2ZWxLZXksIFt7XG4gICAga2V5OiAndXJpJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fdXJpICYmIHRoaXMucmVsdXJpKSB7XG4gICAgICAgIHRoaXMuX3VyaSA9IHVybF90b29sa2l0X2RlZmF1bHQuYS5idWlsZEFic29sdXRlVVJMKHRoaXMuYmFzZXVyaSwgdGhpcy5yZWx1cmksIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGV2ZWxLZXk7XG59KCk7XG5cbnZhciBwbGF5bGlzdF9sb2FkZXJfRnJhZ21lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xuICAgIHBsYXlsaXN0X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRnJhZ21lbnQpO1xuXG4gICAgdGhpcy5fdXJsID0gbnVsbDtcbiAgICB0aGlzLl9ieXRlUmFuZ2UgPSBudWxsO1xuICAgIHRoaXMuX2RlY3J5cHRkYXRhID0gbnVsbDtcbiAgICB0aGlzLnRhZ0xpc3QgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVdGlsaXR5IG1ldGhvZCBmb3IgcGFyc2VMZXZlbFBsYXlsaXN0IHRvIGNyZWF0ZSBhbiBpbml0aWFsaXphdGlvbiB2ZWN0b3IgZm9yIGEgZ2l2ZW4gc2VnbWVudFxuICAgKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAgICovXG4gIEZyYWdtZW50LnByb3RvdHlwZS5jcmVhdGVJbml0aWFsaXphdGlvblZlY3RvciA9IGZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yKHNlZ21lbnROdW1iZXIpIHtcbiAgICB2YXIgdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEyOyBpIDwgMTY7IGkrKykge1xuICAgICAgdWludDhWaWV3W2ldID0gc2VnbWVudE51bWJlciA+PiA4ICogKDE1IC0gaSkgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiB1aW50OFZpZXc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgbWV0aG9kIGZvciBwYXJzZUxldmVsUGxheWxpc3QgdG8gZ2V0IGEgZnJhZ21lbnQncyBkZWNyeXB0aW9uIGRhdGEgZnJvbSB0aGUgY3VycmVudGx5IHBhcnNlZCBlbmNyeXB0aW9uIGtleSBkYXRhXG4gICAqIEBwYXJhbSBsZXZlbGtleSAtIGEgcGxheWxpc3QncyBlbmNyeXB0aW9uIGluZm9cbiAgICogQHBhcmFtIHNlZ21lbnROdW1iZXIgLSB0aGUgZnJhZ21lbnQncyBzZWdtZW50IG51bWJlclxuICAgKiBAcmV0dXJucyB7Kn0gLSBhbiBvYmplY3QgdG8gYmUgYXBwbGllZCBhcyBhIGZyYWdtZW50J3MgZGVjcnlwdGRhdGFcbiAgICovXG5cblxuICBGcmFnbWVudC5wcm90b3R5cGUuZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleSA9IGZ1bmN0aW9uIGZyYWdtZW50RGVjcnlwdGRhdGFGcm9tTGV2ZWxrZXkobGV2ZWxrZXksIHNlZ21lbnROdW1iZXIpIHtcbiAgICB2YXIgZGVjcnlwdGRhdGEgPSBsZXZlbGtleTtcblxuICAgIGlmIChsZXZlbGtleSAmJiBsZXZlbGtleS5tZXRob2QgJiYgbGV2ZWxrZXkudXJpICYmICFsZXZlbGtleS5pdikge1xuICAgICAgZGVjcnlwdGRhdGEgPSBuZXcgcGxheWxpc3RfbG9hZGVyX0xldmVsS2V5KCk7XG4gICAgICBkZWNyeXB0ZGF0YS5tZXRob2QgPSBsZXZlbGtleS5tZXRob2Q7XG4gICAgICBkZWNyeXB0ZGF0YS5iYXNldXJpID0gbGV2ZWxrZXkuYmFzZXVyaTtcbiAgICAgIGRlY3J5cHRkYXRhLnJlbHVyaSA9IGxldmVsa2V5LnJlbHVyaTtcbiAgICAgIGRlY3J5cHRkYXRhLml2ID0gdGhpcy5jcmVhdGVJbml0aWFsaXphdGlvblZlY3RvcihzZWdtZW50TnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVjcnlwdGRhdGE7XG4gIH07XG5cbiAgRnJhZ21lbnQucHJvdG90eXBlLmNsb25lT2JqID0gZnVuY3Rpb24gY2xvbmVPYmoob2JqKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKEZyYWdtZW50LCBbe1xuICAgIGtleTogJ3VybCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIXRoaXMuX3VybCAmJiB0aGlzLnJlbHVybCkge1xuICAgICAgICB0aGlzLl91cmwgPSB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTCh0aGlzLmJhc2V1cmwsIHRoaXMucmVsdXJsLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl91cmw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5fdXJsID0gdmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncHJvZ3JhbURhdGVUaW1lJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fcHJvZ3JhbURhdGVUaW1lICYmIHRoaXMucmF3UHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIHRoaXMuX3Byb2dyYW1EYXRlVGltZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5yYXdQcm9ncmFtRGF0ZVRpbWUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9wcm9ncmFtRGF0ZVRpbWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYnl0ZVJhbmdlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fYnl0ZVJhbmdlKSB7XG4gICAgICAgIHZhciBieXRlUmFuZ2UgPSB0aGlzLl9ieXRlUmFuZ2UgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMucmF3Qnl0ZVJhbmdlKSB7XG4gICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMucmF3Qnl0ZVJhbmdlLnNwbGl0KCdAJywgMik7XG4gICAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHZhciBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID0gdGhpcy5sYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0O1xuICAgICAgICAgICAgYnl0ZVJhbmdlWzBdID0gbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA/IGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQgOiAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBwYXJzZUludChwYXJhbXNbMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBieXRlUmFuZ2VbMV0gPSBwYXJzZUludChwYXJhbXNbMF0pICsgYnl0ZVJhbmdlWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYnl0ZVJhbmdlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2J5dGVSYW5nZVN0YXJ0T2Zmc2V0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ5dGVSYW5nZVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdieXRlUmFuZ2VFbmRPZmZzZXQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzFdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlY3J5cHRkYXRhJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fZGVjcnlwdGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGVjcnlwdGRhdGEgPSB0aGlzLmZyYWdtZW50RGVjcnlwdGRhdGFGcm9tTGV2ZWxrZXkodGhpcy5sZXZlbGtleSwgdGhpcy5zbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fZGVjcnlwdGRhdGE7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZyYWdtZW50O1xufSgpO1xuXG52YXIgcGxheWxpc3RfbG9hZGVyX1BsYXlsaXN0TG9hZGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgX2luaGVyaXRzKFBsYXlsaXN0TG9hZGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBQbGF5bGlzdExvYWRlcihobHMpIHtcbiAgICBwbGF5bGlzdF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXlsaXN0TG9hZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19MT0FESU5HKSk7XG5cbiAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGZvciAodmFyIGxvYWRlck5hbWUgaW4gdGhpcy5sb2FkZXJzKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5sb2FkZXJzW2xvYWRlck5hbWVdO1xuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxvYWRlcnMgPSB7fTtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoZGF0YSkge1xuICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiAnbWFuaWZlc3QnIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGluZyA9IGZ1bmN0aW9uIG9uTGV2ZWxMb2FkaW5nKGRhdGEpIHtcbiAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogJ2xldmVsJywgbGV2ZWw6IGRhdGEubGV2ZWwsIGlkOiBkYXRhLmlkIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tMb2FkaW5nID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrTG9hZGluZyhkYXRhKSB7XG4gICAgdGhpcy5sb2FkKGRhdGEudXJsLCB7IHR5cGU6ICdhdWRpb1RyYWNrJywgaWQ6IGRhdGEuaWQgfSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja0xvYWRpbmcgPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tMb2FkaW5nKGRhdGEpIHtcbiAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogJ3N1YnRpdGxlVHJhY2snLCBpZDogZGF0YS5pZCB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQodXJsLCBjb250ZXh0KSB7XG4gICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gbG9hZGVyLmNvbnRleHQ7XG4gICAgICBpZiAobG9hZGVyQ29udGV4dCAmJiBsb2FkZXJDb250ZXh0LnVybCA9PT0gdXJsKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdwbGF5bGlzdCByZXF1ZXN0IG9uZ29pbmcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYWJvcnQgcHJldmlvdXMgbG9hZGVyIGZvciB0eXBlOicgKyBjb250ZXh0LnR5cGUpO1xuICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZyxcbiAgICAgICAgcmV0cnkgPSB2b2lkIDAsXG4gICAgICAgIHRpbWVvdXQgPSB2b2lkIDAsXG4gICAgICAgIHJldHJ5RGVsYXkgPSB2b2lkIDAsXG4gICAgICAgIG1heFJldHJ5RGVsYXkgPSB2b2lkIDA7XG4gICAgaWYgKGNvbnRleHQudHlwZSA9PT0gJ21hbmlmZXN0Jykge1xuICAgICAgcmV0cnkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nTWF4UmV0cnk7XG4gICAgICB0aW1lb3V0ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ7XG4gICAgICByZXRyeURlbGF5ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXk7XG4gICAgICBtYXhSZXRyeURlbGF5ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ01heFJldHJ5VGltZW91dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0cnkgPSBjb25maWcubGV2ZWxMb2FkaW5nTWF4UmV0cnk7XG4gICAgICB0aW1lb3V0ID0gY29uZmlnLmxldmVsTG9hZGluZ1RpbWVPdXQ7XG4gICAgICByZXRyeURlbGF5ID0gY29uZmlnLmxldmVsTG9hZGluZ1JldHJ5RGVsYXk7XG4gICAgICBtYXhSZXRyeURlbGF5ID0gY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dDtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbG9hZGluZyBwbGF5bGlzdCBmb3IgJyArIGNvbnRleHQudHlwZSArICcgJyArIChjb250ZXh0LmxldmVsIHx8IGNvbnRleHQuaWQpKTtcbiAgICB9XG4gICAgbG9hZGVyID0gdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSBjb250ZXh0LmxvYWRlciA9IHR5cGVvZiBjb25maWcucExvYWRlciAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgY29uZmlnLnBMb2FkZXIoY29uZmlnKSA6IG5ldyBjb25maWcubG9hZGVyKGNvbmZpZyk7XG4gICAgY29udGV4dC51cmwgPSB1cmw7XG4gICAgY29udGV4dC5yZXNwb25zZVR5cGUgPSAnJztcblxuICAgIHZhciBsb2FkZXJDb25maWcgPSB2b2lkIDAsXG4gICAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHZvaWQgMDtcbiAgICBsb2FkZXJDb25maWcgPSB7IHRpbWVvdXQ6IHRpbWVvdXQsIG1heFJldHJ5OiByZXRyeSwgcmV0cnlEZWxheTogcmV0cnlEZWxheSwgbWF4UmV0cnlEZWxheTogbWF4UmV0cnlEZWxheSB9O1xuICAgIGxvYWRlckNhbGxiYWNrcyA9IHsgb25TdWNjZXNzOiB0aGlzLmxvYWRzdWNjZXNzLmJpbmQodGhpcyksIG9uRXJyb3I6IHRoaXMubG9hZGVycm9yLmJpbmQodGhpcyksIG9uVGltZW91dDogdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpIH07XG4gICAgbG9hZGVyLmxvYWQoY29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3MpO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSh1cmwsIGJhc2VVcmwpIHtcbiAgICByZXR1cm4gdXJsX3Rvb2xraXRfZGVmYXVsdC5hLmJ1aWxkQWJzb2x1dGVVUkwoYmFzZVVybCwgdXJsLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUucGFyc2VNYXN0ZXJQbGF5bGlzdCA9IGZ1bmN0aW9uIHBhcnNlTWFzdGVyUGxheWxpc3Qoc3RyaW5nLCBiYXNldXJsKSB7XG4gICAgdmFyIGxldmVscyA9IFtdLFxuICAgICAgICByZXN1bHQgPSB2b2lkIDA7XG4gICAgTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG5cbiAgICBmdW5jdGlvbiBzZXRDb2RlY3MoY29kZWNzLCBsZXZlbCkge1xuICAgICAgWyd2aWRlbycsICdhdWRpbyddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICByZXR1cm4gaXNDb2RlY1R5cGUoY29kZWMsIHR5cGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwcmVmZXJyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgICAgICAgICByZXR1cm4gY29kZWMubGFzdEluZGV4T2YoJ2F2YzEnLCAwKSA9PT0gMCB8fCBjb2RlYy5sYXN0SW5kZXhPZignbXA0YScsIDApID09PSAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldmVsW3R5cGUgKyAnQ29kZWMnXSA9IHByZWZlcnJlZC5sZW5ndGggPiAwID8gcHJlZmVycmVkWzBdIDogZmlsdGVyZWRbMF07XG5cbiAgICAgICAgICAvLyByZW1vdmUgZnJvbSBsaXN0XG4gICAgICAgICAgY29kZWNzID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZC5pbmRleE9mKGNvZGVjKSA9PT0gLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsZXZlbC51bmtub3duQ29kZWNzID0gY29kZWNzO1xuICAgIH1cblxuICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT0gbnVsbCkge1xuICAgICAgdmFyIGxldmVsID0ge307XG5cbiAgICAgIHZhciBhdHRycyA9IGxldmVsLmF0dHJzID0gbmV3IGF0dHJfbGlzdChyZXN1bHRbMV0pO1xuICAgICAgbGV2ZWwudXJsID0gdGhpcy5yZXNvbHZlKHJlc3VsdFsyXSwgYmFzZXVybCk7XG5cbiAgICAgIHZhciByZXNvbHV0aW9uID0gYXR0cnMuZGVjaW1hbFJlc29sdXRpb24oJ1JFU09MVVRJT04nKTtcbiAgICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIGxldmVsLndpZHRoID0gcmVzb2x1dGlvbi53aWR0aDtcbiAgICAgICAgbGV2ZWwuaGVpZ2h0ID0gcmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBsZXZlbC5iaXRyYXRlID0gYXR0cnMuZGVjaW1hbEludGVnZXIoJ0FWRVJBR0UtQkFORFdJRFRIJykgfHwgYXR0cnMuZGVjaW1hbEludGVnZXIoJ0JBTkRXSURUSCcpO1xuICAgICAgbGV2ZWwubmFtZSA9IGF0dHJzLk5BTUU7XG5cbiAgICAgIHNldENvZGVjcyhbXS5jb25jYXQoKGF0dHJzLkNPREVDUyB8fCAnJykuc3BsaXQoL1sgLF0rLykpLCBsZXZlbCk7XG5cbiAgICAgIGlmIChsZXZlbC52aWRlb0NvZGVjICYmIGxldmVsLnZpZGVvQ29kZWMuaW5kZXhPZignYXZjMScpICE9PSAtMSkge1xuICAgICAgICBsZXZlbC52aWRlb0NvZGVjID0gdGhpcy5hdmMxdG9hdmNvdGkobGV2ZWwudmlkZW9Db2RlYyk7XG4gICAgICB9XG5cbiAgICAgIGxldmVscy5wdXNoKGxldmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIGxldmVscztcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUucGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhID0gZnVuY3Rpb24gcGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhKHN0cmluZywgYmFzZXVybCwgdHlwZSkge1xuICAgIHZhciBhdWRpb0NvZGVjID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgdmFyIHJlc3VsdCA9IHZvaWQgMCxcbiAgICAgICAgbWVkaWFzID0gW10sXG4gICAgICAgIGlkID0gMDtcbiAgICBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVgubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoKHJlc3VsdCA9IE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5leGVjKHN0cmluZykpICE9IG51bGwpIHtcbiAgICAgIHZhciBtZWRpYSA9IHt9O1xuICAgICAgdmFyIGF0dHJzID0gbmV3IGF0dHJfbGlzdChyZXN1bHRbMV0pO1xuICAgICAgaWYgKGF0dHJzLlRZUEUgPT09IHR5cGUpIHtcbiAgICAgICAgbWVkaWEuZ3JvdXBJZCA9IGF0dHJzWydHUk9VUC1JRCddO1xuICAgICAgICBtZWRpYS5uYW1lID0gYXR0cnMuTkFNRTtcbiAgICAgICAgbWVkaWEudHlwZSA9IHR5cGU7XG4gICAgICAgIG1lZGlhLmRlZmF1bHQgPSBhdHRycy5ERUZBVUxUID09PSAnWUVTJztcbiAgICAgICAgbWVkaWEuYXV0b3NlbGVjdCA9IGF0dHJzLkFVVE9TRUxFQ1QgPT09ICdZRVMnO1xuICAgICAgICBtZWRpYS5mb3JjZWQgPSBhdHRycy5GT1JDRUQgPT09ICdZRVMnO1xuICAgICAgICBpZiAoYXR0cnMuVVJJKSB7XG4gICAgICAgICAgbWVkaWEudXJsID0gdGhpcy5yZXNvbHZlKGF0dHJzLlVSSSwgYmFzZXVybCk7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWEubGFuZyA9IGF0dHJzLkxBTkdVQUdFO1xuICAgICAgICBpZiAoIW1lZGlhLm5hbWUpIHtcbiAgICAgICAgICBtZWRpYS5uYW1lID0gbWVkaWEubGFuZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICAgIG1lZGlhLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhLmlkID0gaWQrKztcbiAgICAgICAgbWVkaWFzLnB1c2gobWVkaWEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVkaWFzO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5hdmMxdG9hdmNvdGkgPSBmdW5jdGlvbiBhdmMxdG9hdmNvdGkoY29kZWMpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBhdmNkYXRhID0gY29kZWMuc3BsaXQoJy4nKTtcbiAgICBpZiAoYXZjZGF0YS5sZW5ndGggPiAyKSB7XG4gICAgICByZXN1bHQgPSBhdmNkYXRhLnNoaWZ0KCkgKyAnLic7XG4gICAgICByZXN1bHQgKz0gcGFyc2VJbnQoYXZjZGF0YS5zaGlmdCgpKS50b1N0cmluZygxNik7XG4gICAgICByZXN1bHQgKz0gKCcwMDAnICsgcGFyc2VJbnQoYXZjZGF0YS5zaGlmdCgpKS50b1N0cmluZygxNikpLnN1YnN0cigtNCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGNvZGVjO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5wYXJzZUxldmVsUGxheWxpc3QgPSBmdW5jdGlvbiBwYXJzZUxldmVsUGxheWxpc3Qoc3RyaW5nLCBiYXNldXJsLCBpZCwgdHlwZSkge1xuICAgIHZhciBjdXJyZW50U04gPSAwLFxuICAgICAgICB0b3RhbGR1cmF0aW9uID0gMCxcbiAgICAgICAgbGV2ZWwgPSB7IHR5cGU6IG51bGwsIHZlcnNpb246IG51bGwsIHVybDogYmFzZXVybCwgZnJhZ21lbnRzOiBbXSwgbGl2ZTogdHJ1ZSwgc3RhcnRTTjogMCB9LFxuICAgICAgICBsZXZlbGtleSA9IG5ldyBwbGF5bGlzdF9sb2FkZXJfTGV2ZWxLZXkoKSxcbiAgICAgICAgY2MgPSAwLFxuICAgICAgICBwcmV2RnJhZyA9IG51bGwsXG4gICAgICAgIGZyYWcgPSBuZXcgcGxheWxpc3RfbG9hZGVyX0ZyYWdtZW50KCksXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgaTtcblxuICAgIExFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QubGFzdEluZGV4ID0gMDtcblxuICAgIHdoaWxlICgocmVzdWx0ID0gTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICB2YXIgZHVyYXRpb24gPSByZXN1bHRbMV07XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgLy8gSU5GXG4gICAgICAgIGZyYWcuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uKTtcbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICB2YXIgdGl0bGUgPSAoJyAnICsgcmVzdWx0WzJdKS5zbGljZSgxKTtcbiAgICAgICAgZnJhZy50aXRsZSA9IHRpdGxlID8gdGl0bGUgOiBudWxsO1xuICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaCh0aXRsZSA/IFsnSU5GJywgZHVyYXRpb24sIHRpdGxlXSA6IFsnSU5GJywgZHVyYXRpb25dKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0WzNdKSB7XG4gICAgICAgIC8vIHVybFxuICAgICAgICBpZiAoIWlzTmFOKGZyYWcuZHVyYXRpb24pKSB7XG4gICAgICAgICAgdmFyIHNuID0gY3VycmVudFNOKys7XG4gICAgICAgICAgZnJhZy50eXBlID0gdHlwZTtcbiAgICAgICAgICBmcmFnLnN0YXJ0ID0gdG90YWxkdXJhdGlvbjtcbiAgICAgICAgICBmcmFnLmxldmVsa2V5ID0gbGV2ZWxrZXk7XG4gICAgICAgICAgZnJhZy5zbiA9IHNuO1xuICAgICAgICAgIGZyYWcubGV2ZWwgPSBpZDtcbiAgICAgICAgICBmcmFnLmNjID0gY2M7XG4gICAgICAgICAgZnJhZy5iYXNldXJsID0gYmFzZXVybDtcbiAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgZnJhZy5yZWx1cmwgPSAoJyAnICsgcmVzdWx0WzNdKS5zbGljZSgxKTtcblxuICAgICAgICAgIGxldmVsLmZyYWdtZW50cy5wdXNoKGZyYWcpO1xuICAgICAgICAgIHByZXZGcmFnID0gZnJhZztcbiAgICAgICAgICB0b3RhbGR1cmF0aW9uICs9IGZyYWcuZHVyYXRpb247XG5cbiAgICAgICAgICBmcmFnID0gbmV3IHBsYXlsaXN0X2xvYWRlcl9GcmFnbWVudCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdFs0XSkge1xuICAgICAgICAvLyBYLUJZVEVSQU5HRVxuICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9ICgnICcgKyByZXN1bHRbNF0pLnNsaWNlKDEpO1xuICAgICAgICBpZiAocHJldkZyYWcpIHtcbiAgICAgICAgICB2YXIgbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IHByZXZGcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgICBpZiAobGFzdEJ5dGVSYW5nZUVuZE9mZnNldCkge1xuICAgICAgICAgICAgZnJhZy5sYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID0gbGFzdEJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0WzVdKSB7XG4gICAgICAgIC8vIFBST0dSQU0tREFURS1USU1FXG4gICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSAoJyAnICsgcmVzdWx0WzVdKS5zbGljZSgxKTtcbiAgICAgICAgZnJhZy50YWdMaXN0LnB1c2goWydQUk9HUkFNLURBVEUtVElNRScsIGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lXSk7XG4gICAgICAgIGlmIChsZXZlbC5wcm9ncmFtRGF0ZVRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxldmVsLnByb2dyYW1EYXRlVGltZSA9IG5ldyBEYXRlKG5ldyBEYXRlKERhdGUucGFyc2UocmVzdWx0WzVdKSkgLSAxMDAwICogdG90YWxkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdFswXS5tYXRjaChMRVZFTF9QTEFZTElTVF9SRUdFWF9TTE9XKTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChyZXN1bHRbaV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICB2YXIgdmFsdWUxID0gKCcgJyArIHJlc3VsdFtpICsgMV0pLnNsaWNlKDEpO1xuICAgICAgICB2YXIgdmFsdWUyID0gKCcgJyArIHJlc3VsdFtpICsgMl0pLnNsaWNlKDEpO1xuXG4gICAgICAgIHN3aXRjaCAocmVzdWx0W2ldKSB7XG4gICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaCh2YWx1ZTIgPyBbdmFsdWUxLCB2YWx1ZTJdIDogW3ZhbHVlMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnUExBWUxJU1QtVFlQRSc6XG4gICAgICAgICAgICBsZXZlbC50eXBlID0gdmFsdWUxLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNRURJQS1TRVFVRU5DRSc6XG4gICAgICAgICAgICBjdXJyZW50U04gPSBsZXZlbC5zdGFydFNOID0gcGFyc2VJbnQodmFsdWUxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1RBUkdFVERVUkFUSU9OJzpcbiAgICAgICAgICAgIGxldmVsLnRhcmdldGR1cmF0aW9uID0gcGFyc2VGbG9hdCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnVkVSU0lPTic6XG4gICAgICAgICAgICBsZXZlbC52ZXJzaW9uID0gcGFyc2VJbnQodmFsdWUxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0VYVE0zVSc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdFTkRMSVNUJzpcbiAgICAgICAgICAgIGxldmVsLmxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0RJUyc6XG4gICAgICAgICAgICBjYysrO1xuICAgICAgICAgICAgZnJhZy50YWdMaXN0LnB1c2goWydESVMnXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdESVNDT05USU5VSVRZLVNFUSc6XG4gICAgICAgICAgICBjYyA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdLRVknOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LXBhbnRvcy1odHRwLWxpdmUtc3RyZWFtaW5nLTA4I3NlY3Rpb24tMy40LjRcbiAgICAgICAgICAgIHZhciBkZWNyeXB0cGFyYW1zID0gdmFsdWUxO1xuICAgICAgICAgICAgdmFyIGtleUF0dHJzID0gbmV3IGF0dHJfbGlzdChkZWNyeXB0cGFyYW1zKTtcbiAgICAgICAgICAgIHZhciBkZWNyeXB0bWV0aG9kID0ga2V5QXR0cnMuZW51bWVyYXRlZFN0cmluZygnTUVUSE9EJyksXG4gICAgICAgICAgICAgICAgZGVjcnlwdHVyaSA9IGtleUF0dHJzLlVSSSxcbiAgICAgICAgICAgICAgICBkZWNyeXB0aXYgPSBrZXlBdHRycy5oZXhhZGVjaW1hbEludGVnZXIoJ0lWJyk7XG4gICAgICAgICAgICBpZiAoZGVjcnlwdG1ldGhvZCkge1xuICAgICAgICAgICAgICBsZXZlbGtleSA9IG5ldyBwbGF5bGlzdF9sb2FkZXJfTGV2ZWxLZXkoKTtcbiAgICAgICAgICAgICAgaWYgKGRlY3J5cHR1cmkgJiYgWydBRVMtMTI4JywgJ1NBTVBMRS1BRVMnXS5pbmRleE9mKGRlY3J5cHRtZXRob2QpID49IDApIHtcbiAgICAgICAgICAgICAgICBsZXZlbGtleS5tZXRob2QgPSBkZWNyeXB0bWV0aG9kO1xuICAgICAgICAgICAgICAgIC8vIFVSSSB0byBnZXQgdGhlIGtleVxuICAgICAgICAgICAgICAgIGxldmVsa2V5LmJhc2V1cmkgPSBiYXNldXJsO1xuICAgICAgICAgICAgICAgIGxldmVsa2V5LnJlbHVyaSA9IGRlY3J5cHR1cmk7XG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkua2V5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBWZWN0b3IgKElWKVxuICAgICAgICAgICAgICAgIGxldmVsa2V5Lml2ID0gZGVjcnlwdGl2O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdTVEFSVCc6XG4gICAgICAgICAgICB2YXIgc3RhcnRQYXJhbXMgPSB2YWx1ZTE7XG4gICAgICAgICAgICB2YXIgc3RhcnRBdHRycyA9IG5ldyBhdHRyX2xpc3Qoc3RhcnRQYXJhbXMpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IHN0YXJ0QXR0cnMuZGVjaW1hbEZsb2F0aW5nUG9pbnQoJ1RJTUUtT0ZGU0VUJyk7XG4gICAgICAgICAgICAvL1RJTUUtT0ZGU0VUIGNhbiBiZSAwXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgbGV2ZWwuc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnTUFQJzpcbiAgICAgICAgICAgIHZhciBtYXBBdHRycyA9IG5ldyBhdHRyX2xpc3QodmFsdWUxKTtcbiAgICAgICAgICAgIGZyYWcucmVsdXJsID0gbWFwQXR0cnMuVVJJO1xuICAgICAgICAgICAgZnJhZy5yYXdCeXRlUmFuZ2UgPSBtYXBBdHRycy5CWVRFUkFOR0U7XG4gICAgICAgICAgICBmcmFnLmJhc2V1cmwgPSBiYXNldXJsO1xuICAgICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgICAgZnJhZy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIGZyYWcuc24gPSAnaW5pdFNlZ21lbnQnO1xuICAgICAgICAgICAgbGV2ZWwuaW5pdFNlZ21lbnQgPSBmcmFnO1xuICAgICAgICAgICAgZnJhZyA9IG5ldyBwbGF5bGlzdF9sb2FkZXJfRnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsaW5lIHBhcnNlZCBidXQgbm90IGhhbmRsZWQ6ICcgKyByZXN1bHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnJhZyA9IHByZXZGcmFnO1xuICAgIC8vbG9nZ2VyLmxvZygnZm91bmQgJyArIGxldmVsLmZyYWdtZW50cy5sZW5ndGggKyAnIGZyYWdtZW50cycpO1xuICAgIGlmIChmcmFnICYmICFmcmFnLnJlbHVybCkge1xuICAgICAgbGV2ZWwuZnJhZ21lbnRzLnBvcCgpO1xuICAgICAgdG90YWxkdXJhdGlvbiAtPSBmcmFnLmR1cmF0aW9uO1xuICAgIH1cbiAgICBsZXZlbC50b3RhbGR1cmF0aW9uID0gdG90YWxkdXJhdGlvbjtcbiAgICBsZXZlbC5hdmVyYWdldGFyZ2V0ZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uIC8gbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aDtcbiAgICBsZXZlbC5lbmRTTiA9IGN1cnJlbnRTTiAtIDE7XG4gICAgbGV2ZWwuc3RhcnRDQyA9IGxldmVsLmZyYWdtZW50c1swXSA/IGxldmVsLmZyYWdtZW50c1swXS5jYyA6IDA7XG4gICAgbGV2ZWwuZW5kQ0MgPSBjYztcbiAgICByZXR1cm4gbGV2ZWw7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gbG9hZHN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgdmFyIHN0cmluZyA9IHJlc3BvbnNlLmRhdGEsXG4gICAgICAgIHVybCA9IHJlc3BvbnNlLnVybCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZSxcbiAgICAgICAgaWQgPSBjb250ZXh0LmlkLFxuICAgICAgICBsZXZlbCA9IGNvbnRleHQubGV2ZWwsXG4gICAgICAgIGhscyA9IHRoaXMuaGxzO1xuXG4gICAgdGhpcy5sb2FkZXJzW3R5cGVdID0gdW5kZWZpbmVkO1xuICAgIC8vIHJlc3BvbnNlVVJMIG5vdCBzdXBwb3J0ZWQgb24gc29tZSBicm93c2VycyAoaXQgaXMgdXNlZCB0byBkZXRlY3QgVVJMIHJlZGlyZWN0aW9uKVxuICAgIC8vIGRhdGEtdXJpIG1vZGUgYWxzbyBub3Qgc3VwcG9ydGVkIChidXQgbm8gbmVlZCB0byBkZXRlY3QgcmVkaXJlY3Rpb24pXG4gICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAvLyBmYWxsYmFjayB0byBpbml0aWFsIFVSTFxuICAgICAgdXJsID0gY29udGV4dC51cmw7XG4gICAgfVxuICAgIHN0YXRzLnRsb2FkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgLy9zdGF0cy5tdGltZSA9IG5ldyBEYXRlKHRhcmdldC5nZXRSZXNwb25zZUhlYWRlcignTGFzdC1Nb2RpZmllZCcpKTtcbiAgICBpZiAoc3RyaW5nLmluZGV4T2YoJyNFWFRNM1UnKSA9PT0gMCkge1xuICAgICAgaWYgKHN0cmluZy5pbmRleE9mKCcjRVhUSU5GOicpID4gMCkge1xuICAgICAgICB2YXIgaXNMZXZlbCA9IHR5cGUgIT09ICdhdWRpb1RyYWNrJyAmJiB0eXBlICE9PSAnc3VidGl0bGVUcmFjaycsXG4gICAgICAgICAgICBsZXZlbElkID0gIWlzTmFOKGxldmVsKSA/IGxldmVsIDogIWlzTmFOKGlkKSA/IGlkIDogMCxcbiAgICAgICAgICAgIGxldmVsRGV0YWlscyA9IHRoaXMucGFyc2VMZXZlbFBsYXlsaXN0KHN0cmluZywgdXJsLCBsZXZlbElkLCB0eXBlID09PSAnYXVkaW9UcmFjaycgPyAnYXVkaW8nIDogdHlwZSA9PT0gJ3N1YnRpdGxlVHJhY2snID8gJ3N1YnRpdGxlJyA6ICdtYWluJyk7XG4gICAgICAgIGxldmVsRGV0YWlscy50bG9hZCA9IHN0YXRzLnRsb2FkO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ21hbmlmZXN0Jykge1xuICAgICAgICAgIC8vIGZpcnN0IHJlcXVlc3QsIHN0cmVhbSBtYW5pZmVzdCAobm8gbWFzdGVyIHBsYXlsaXN0KSwgZmlyZSBtYW5pZmVzdCBsb2FkZWQgZXZlbnQgd2l0aCBsZXZlbCBkZXRhaWxzXG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURFRCwgeyBsZXZlbHM6IFt7IHVybDogdXJsLCBkZXRhaWxzOiBsZXZlbERldGFpbHMgfV0sIGF1ZGlvVHJhY2tzOiBbXSwgdXJsOiB1cmwsIHN0YXRzOiBzdGF0cywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbikge1xuICAgICAgICAgIGlmIChpc0xldmVsKSB7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfTE9BREVELCB7IGRldGFpbHM6IGxldmVsRGV0YWlscywgbGV2ZWw6IGxldmVsIHx8IDAsIGlkOiBpZCB8fCAwLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhdWRpb1RyYWNrJykge1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BREVELCB7IGRldGFpbHM6IGxldmVsRGV0YWlscywgaWQ6IGlkLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N1YnRpdGxlVHJhY2snKSB7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19MT0FERUQsIHsgZGV0YWlsczogbGV2ZWxEZXRhaWxzLCBpZDogaWQsIHN0YXRzOiBzdGF0cywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLk1BTklGRVNUX1BBUlNJTkdfRVJST1IsIGZhdGFsOiB0cnVlLCB1cmw6IHVybCwgcmVhc29uOiAnaW52YWxpZCB0YXJnZXRkdXJhdGlvbicsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxldmVscyA9IHRoaXMucGFyc2VNYXN0ZXJQbGF5bGlzdChzdHJpbmcsIHVybCk7XG4gICAgICAgIC8vIG11bHRpIGxldmVsIHBsYXlsaXN0LCBwYXJzZSBsZXZlbCBpbmZvXG4gICAgICAgIGlmIChsZXZlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gdGhpcy5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdBVURJTycsIGxldmVsc1swXS5hdWRpb0NvZGVjKTtcbiAgICAgICAgICB2YXIgc3VidGl0bGVzID0gdGhpcy5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdTVUJUSVRMRVMnKTtcbiAgICAgICAgICBpZiAoYXVkaW9UcmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBoYXZlIGZvdW5kIGFuIGF1ZGlvIHRyYWNrIGVtYmVkZGVkIGluIG1haW4gcGxheWxpc3QgKGF1ZGlvIHRyYWNrIHdpdGhvdXQgVVJJIGF0dHJpYnV0ZSlcbiAgICAgICAgICAgIHZhciBlbWJlZGRlZEF1ZGlvRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgaWYgKCFhdWRpb1RyYWNrLnVybCkge1xuICAgICAgICAgICAgICAgIGVtYmVkZGVkQXVkaW9Gb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gaWYgbm8gZW1iZWRkZWQgYXVkaW8gdHJhY2sgZGVmaW5lZCwgYnV0IGF1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIHdlIG5lZWQgdG8gc2lnbmFsIHRoaXMgbWFpbiBhdWRpbyB0cmFja1xuICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBoYXBwZW4gd2l0aCBwbGF5bGlzdHMgd2l0aCBhbHQgYXVkaW8gcmVuZGl0aW9uIGluIHdoaWNoIHF1YWxpdHkgbGV2ZWxzIChtYWluKSBjb250YWlucyBib3RoIGF1ZGlvK3ZpZGVvLiBidXQgd2l0aCBtaXhlZCBhdWRpbyB0cmFjayBub3Qgc2lnbmFsZWRcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZEF1ZGlvRm91bmQgPT09IGZhbHNlICYmIGxldmVsc1swXS5hdWRpb0NvZGVjICYmICFsZXZlbHNbMF0uYXR0cnMuQVVESU8pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyBjb2RlYyBzaWduYWxlZCBpbiBxdWFsaXR5IGxldmVsLCBidXQgbm8gZW1iZWRkZWQgYXVkaW8gdHJhY2sgc2lnbmFsZWQsIGNyZWF0ZSBvbmUnKTtcbiAgICAgICAgICAgICAgYXVkaW9UcmFja3MudW5zaGlmdCh7IHR5cGU6ICdtYWluJywgbmFtZTogJ21haW4nIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BREVELCB7IGxldmVsczogbGV2ZWxzLCBhdWRpb1RyYWNrczogYXVkaW9UcmFja3MsIHN1YnRpdGxlczogc3VidGl0bGVzLCB1cmw6IHVybCwgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgdXJsOiB1cmwsIHJlYXNvbjogJ25vIGxldmVsIGZvdW5kIGluIG1hbmlmZXN0JywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTUFOSUZFU1RfUEFSU0lOR19FUlJPUiwgZmF0YWw6IHRydWUsIHVybDogdXJsLCByZWFzb246ICdubyBFWFRNM1UgZGVsaW1pdGVyJywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgIH1cbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gbG9hZGVycm9yKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgdmFyIGRldGFpbHMsXG4gICAgICAgIGZhdGFsLFxuICAgICAgICBsb2FkZXIgPSBjb250ZXh0LmxvYWRlcjtcbiAgICBzd2l0Y2ggKGNvbnRleHQudHlwZSkge1xuICAgICAgY2FzZSAnbWFuaWZlc3QnOlxuICAgICAgICBkZXRhaWxzID0gZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTUFOSUZFU1RfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xldmVsJzpcbiAgICAgICAgZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfRVJST1I7XG4gICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYXVkaW9UcmFjayc6XG4gICAgICAgIGRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5BVURJT19UUkFDS19MT0FEX0VSUk9SO1xuICAgICAgICBmYXRhbCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGRldGFpbHMsIGZhdGFsOiBmYXRhbCwgdXJsOiBsb2FkZXIudXJsLCBsb2FkZXI6IGxvYWRlciwgcmVzcG9uc2U6IHJlc3BvbnNlLCBjb250ZXh0OiBjb250ZXh0LCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICB2YXIgZGV0YWlscyxcbiAgICAgICAgZmF0YWwsXG4gICAgICAgIGxvYWRlciA9IGNvbnRleHQubG9hZGVyO1xuICAgIHN3aXRjaCAoY29udGV4dC50eXBlKSB7XG4gICAgICBjYXNlICdtYW5pZmVzdCc6XG4gICAgICAgIGRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9MT0FEX1RJTUVPVVQ7XG4gICAgICAgIGZhdGFsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsZXZlbCc6XG4gICAgICAgIGRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5MRVZFTF9MT0FEX1RJTUVPVVQ7XG4gICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYXVkaW9UcmFjayc6XG4gICAgICAgIGRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ7XG4gICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZGV0YWlscywgZmF0YWw6IGZhdGFsLCB1cmw6IGxvYWRlci51cmwsIGxvYWRlcjogbG9hZGVyLCBjb250ZXh0OiBjb250ZXh0LCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFBsYXlsaXN0TG9hZGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGxheWxpc3RfbG9hZGVyID0gKHBsYXlsaXN0X2xvYWRlcl9QbGF5bGlzdExvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzXG5mdW5jdGlvbiBmcmFnbWVudF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gZnJhZ21lbnRfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBmcmFnbWVudF9sb2FkZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBGcmFnbWVudCBMb2FkZXJcbiovXG5cblxuXG5cblxuXG52YXIgZnJhZ21lbnRfbG9hZGVyX0ZyYWdtZW50TG9hZGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgZnJhZ21lbnRfbG9hZGVyX19pbmhlcml0cyhGcmFnbWVudExvYWRlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gRnJhZ21lbnRMb2FkZXIoaGxzKSB7XG4gICAgZnJhZ21lbnRfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBGcmFnbWVudExvYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBmcmFnbWVudF9sb2FkZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRElORykpO1xuXG4gICAgX3RoaXMubG9hZGVycyA9IHt9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEZyYWdtZW50TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgbG9hZGVycyA9IHRoaXMubG9hZGVycztcbiAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIGxvYWRlcnMpIHtcbiAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJzW2xvYWRlck5hbWVdO1xuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxvYWRlcnMgPSB7fTtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRpbmcgPSBmdW5jdGlvbiBvbkZyYWdMb2FkaW5nKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZyxcbiAgICAgICAgdHlwZSA9IGZyYWcudHlwZSxcbiAgICAgICAgbG9hZGVyID0gdGhpcy5sb2FkZXJzW3R5cGVdLFxuICAgICAgICBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG5cbiAgICBmcmFnLmxvYWRlZCA9IDA7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYWJvcnQgcHJldmlvdXMgZnJhZ21lbnQgbG9hZGVyIGZvciB0eXBlOicgKyB0eXBlKTtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0gPSBmcmFnLmxvYWRlciA9IHR5cGVvZiBjb25maWcuZkxvYWRlciAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgY29uZmlnLmZMb2FkZXIoY29uZmlnKSA6IG5ldyBjb25maWcubG9hZGVyKGNvbmZpZyk7XG5cbiAgICB2YXIgbG9hZGVyQ29udGV4dCA9IHZvaWQgMCxcbiAgICAgICAgbG9hZGVyQ29uZmlnID0gdm9pZCAwLFxuICAgICAgICBsb2FkZXJDYWxsYmFja3MgPSB2b2lkIDA7XG4gICAgbG9hZGVyQ29udGV4dCA9IHsgdXJsOiBmcmFnLnVybCwgZnJhZzogZnJhZywgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLCBwcm9ncmVzc0RhdGE6IGZhbHNlIH07XG4gICAgdmFyIHN0YXJ0ID0gZnJhZy5ieXRlUmFuZ2VTdGFydE9mZnNldCxcbiAgICAgICAgZW5kID0gZnJhZy5ieXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgaWYgKCFpc05hTihzdGFydCkgJiYgIWlzTmFOKGVuZCkpIHtcbiAgICAgIGxvYWRlckNvbnRleHQucmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgbG9hZGVyQ29udGV4dC5yYW5nZUVuZCA9IGVuZDtcbiAgICB9XG4gICAgbG9hZGVyQ29uZmlnID0geyB0aW1lb3V0OiBjb25maWcuZnJhZ0xvYWRpbmdUaW1lT3V0LCBtYXhSZXRyeTogMCwgcmV0cnlEZWxheTogMCwgbWF4UmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0IH07XG4gICAgbG9hZGVyQ2FsbGJhY2tzID0geyBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSwgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSwgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcyksIG9uUHJvZ3Jlc3M6IHRoaXMubG9hZHByb2dyZXNzLmJpbmQodGhpcykgfTtcbiAgICBsb2FkZXIubG9hZChsb2FkZXJDb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gbG9hZHN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgdmFyIHBheWxvYWQgPSByZXNwb25zZS5kYXRhLFxuICAgICAgICBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgIC8vIGRldGFjaCBmcmFnbWVudCBsb2FkZXIgb24gbG9hZCBzdWNjZXNzXG4gICAgZnJhZy5sb2FkZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIHsgcGF5bG9hZDogcGF5bG9hZCwgZnJhZzogZnJhZywgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRlcnJvciA9IGZ1bmN0aW9uIGxvYWRlcnJvcihyZXNwb25zZSwgY29udGV4dCkge1xuICAgIHZhciBuZXR3b3JrRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgIHZhciBsb2FkZXIgPSBjb250ZXh0LmxvYWRlcjtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIHJlc3BvbnNlOiByZXNwb25zZSwgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICB9O1xuXG4gIEZyYWdtZW50TG9hZGVyLnByb3RvdHlwZS5sb2FkdGltZW91dCA9IGZ1bmN0aW9uIGxvYWR0aW1lb3V0KHN0YXRzLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgdmFyIGxvYWRlciA9IGNvbnRleHQubG9hZGVyO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQsIGZhdGFsOiBmYWxzZSwgZnJhZzogY29udGV4dC5mcmFnLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgLy8gZGF0YSB3aWxsIGJlIHVzZWQgZm9yIHByb2dyZXNzaXZlIHBhcnNpbmdcblxuXG4gIEZyYWdtZW50TG9hZGVyLnByb3RvdHlwZS5sb2FkcHJvZ3Jlc3MgPSBmdW5jdGlvbiBsb2FkcHJvZ3Jlc3Moc3RhdHMsIGNvbnRleHQsIGRhdGEpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG4gICAgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgZnJhZy5sb2FkZWQgPSBzdGF0cy5sb2FkZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FEX1BST0dSRVNTLCB7IGZyYWc6IGZyYWcsIHN0YXRzOiBzdGF0cywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICB9O1xuXG4gIHJldHVybiBGcmFnbWVudExvYWRlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZyYWdtZW50X2xvYWRlciA9IChmcmFnbWVudF9sb2FkZXJfRnJhZ21lbnRMb2FkZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanNcbmZ1bmN0aW9uIGtleV9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24ga2V5X2xvYWRlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24ga2V5X2xvYWRlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIERlY3J5cHQga2V5IExvYWRlclxuKi9cblxuXG5cblxuXG5cbnZhciBrZXlfbG9hZGVyX0tleUxvYWRlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGtleV9sb2FkZXJfX2luaGVyaXRzKEtleUxvYWRlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gS2V5TG9hZGVyKGhscykge1xuICAgIGtleV9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleUxvYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBrZXlfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BRElORykpO1xuXG4gICAgX3RoaXMubG9hZGVycyA9IHt9O1xuICAgIF90aGlzLmRlY3J5cHRrZXkgPSBudWxsO1xuICAgIF90aGlzLmRlY3J5cHR1cmwgPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEtleUxvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZm9yICh2YXIgbG9hZGVyTmFtZSBpbiB0aGlzLmxvYWRlcnMpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbbG9hZGVyTmFtZV07XG4gICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubG9hZGVycyA9IHt9O1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBLZXlMb2FkZXIucHJvdG90eXBlLm9uS2V5TG9hZGluZyA9IGZ1bmN0aW9uIG9uS2V5TG9hZGluZyhkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcsXG4gICAgICAgIHR5cGUgPSBmcmFnLnR5cGUsXG4gICAgICAgIGxvYWRlciA9IHRoaXMubG9hZGVyc1t0eXBlXSxcbiAgICAgICAgZGVjcnlwdGRhdGEgPSBmcmFnLmRlY3J5cHRkYXRhLFxuICAgICAgICB1cmkgPSBkZWNyeXB0ZGF0YS51cmk7XG4gICAgLy8gaWYgdXJpIGlzIGRpZmZlcmVudCBmcm9tIHByZXZpb3VzIG9uZSBvciBpZiBkZWNyeXB0IGtleSBub3QgcmV0cmlldmVkIHlldFxuICAgIGlmICh1cmkgIT09IHRoaXMuZGVjcnlwdHVybCB8fCB0aGlzLmRlY3J5cHRrZXkgPT09IG51bGwpIHtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG5cbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYWJvcnQgcHJldmlvdXMga2V5IGxvYWRlciBmb3IgdHlwZTonICsgdHlwZSk7XG4gICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgfVxuICAgICAgZnJhZy5sb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0gPSBuZXcgY29uZmlnLmxvYWRlcihjb25maWcpO1xuICAgICAgdGhpcy5kZWNyeXB0dXJsID0gdXJpO1xuICAgICAgdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcblxuICAgICAgdmFyIGxvYWRlckNvbnRleHQgPSB2b2lkIDAsXG4gICAgICAgICAgbG9hZGVyQ29uZmlnID0gdm9pZCAwLFxuICAgICAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHZvaWQgMDtcbiAgICAgIGxvYWRlckNvbnRleHQgPSB7IHVybDogdXJpLCBmcmFnOiBmcmFnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicgfTtcbiAgICAgIGxvYWRlckNvbmZpZyA9IHsgdGltZW91dDogY29uZmlnLmZyYWdMb2FkaW5nVGltZU91dCwgbWF4UmV0cnk6IGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5LCByZXRyeURlbGF5OiBjb25maWcuZnJhZ0xvYWRpbmdSZXRyeURlbGF5LCBtYXhSZXRyeURlbGF5OiBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQgfTtcbiAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHsgb25TdWNjZXNzOiB0aGlzLmxvYWRzdWNjZXNzLmJpbmQodGhpcyksIG9uRXJyb3I6IHRoaXMubG9hZGVycm9yLmJpbmQodGhpcyksIG9uVGltZW91dDogdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpIH07XG4gICAgICBmcmFnLmxvYWRlci5sb2FkKGxvYWRlckNvbnRleHQsIGxvYWRlckNvbmZpZywgbG9hZGVyQ2FsbGJhY2tzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGVjcnlwdGtleSkge1xuICAgICAgLy8gd2UgYWxyZWFkeSBsb2FkZWQgdGhpcyBrZXksIHJldHVybiBpdFxuICAgICAgZGVjcnlwdGRhdGEua2V5ID0gdGhpcy5kZWNyeXB0a2V5O1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURFRCwgeyBmcmFnOiBmcmFnIH0pO1xuICAgIH1cbiAgfTtcblxuICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gbG9hZHN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0KSB7XG4gICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgdGhpcy5kZWNyeXB0a2V5ID0gZnJhZy5kZWNyeXB0ZGF0YS5rZXkgPSBuZXcgVWludDhBcnJheShyZXNwb25zZS5kYXRhKTtcbiAgICAvLyBkZXRhY2ggZnJhZ21lbnQgbG9hZGVyIG9uIGxvYWQgc3VjY2Vzc1xuICAgIGZyYWcubG9hZGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubG9hZGVyc1tmcmFnLnR5cGVdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgfTtcblxuICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWRlcnJvciA9IGZ1bmN0aW9uIGxvYWRlcnJvcihyZXNwb25zZSwgY29udGV4dCkge1xuICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLFxuICAgICAgICBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGZyYWc6IGZyYWcsIHJlc3BvbnNlOiByZXNwb25zZSB9KTtcbiAgfTtcblxuICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZyxcbiAgICAgICAgbG9hZGVyID0gZnJhZy5sb2FkZXI7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuICAgIHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VULCBmYXRhbDogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEtleUxvYWRlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGtleV9sb2FkZXIgPSAoa2V5X2xvYWRlcl9LZXlMb2FkZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC5qc1xudmFyIEJpbmFyeVNlYXJjaCA9IHtcbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBmb3IgYW4gaXRlbSBpbiBhbiBhcnJheSB3aGljaCBtYXRjaGVzIGEgY2VydGFpbiBjb25kaXRpb24uXG4gICAgICogVGhpcyByZXF1aXJlcyB0aGUgY29uZGl0aW9uIHRvIG9ubHkgbWF0Y2ggb25lIGl0ZW0gaW4gdGhlIGFycmF5LFxuICAgICAqIGFuZCBmb3IgdGhlIGFycmF5IHRvIGJlIG9yZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyaXNvbkZ1bmN0aW9uXG4gICAgICogICAgICBDYWxsZWQgYW5kIHByb3ZpZGVkIGEgY2FuZGlkYXRlIGl0ZW0gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqICAgICAgU2hvdWxkIHJldHVybjpcbiAgICAgKiAgICAgICAgICA+IC0xIGlmIHRoZSBpdGVtIHNob3VsZCBiZSBsb2NhdGVkIGF0IGEgbG93ZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgKiAgICAgICAgICA+IDEgaWYgdGhlIGl0ZW0gc2hvdWxkIGJlIGxvY2F0ZWQgYXQgYSBoaWdoZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgKiAgICAgICAgICA+IDAgaWYgdGhlIGl0ZW0gaXMgdGhlIGl0ZW0geW91J3JlIGxvb2tpbmcgZm9yLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Kn0gVGhlIG9iamVjdCBpZiBpdCBpcyBmb3VuZCBvciBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaChsaXN0LCBjb21wYXJpc29uRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIG1pbkluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1heEluZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB3aGlsZSAobWluSW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IChtaW5JbmRleCArIG1heEluZGV4KSAvIDIgfCAwO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBsaXN0W2N1cnJlbnRJbmRleF07XG5cbiAgICAgICAgICAgIHZhciBjb21wYXJpc29uUmVzdWx0ID0gY29tcGFyaXNvbkZ1bmN0aW9uKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcGFyaXNvblJlc3VsdCA8IDApIHtcbiAgICAgICAgICAgICAgICBtYXhJbmRleCA9IGN1cnJlbnRJbmRleCAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJpbmFyeV9zZWFyY2ggPSAoQmluYXJ5U2VhcmNoKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2hlbHBlci9idWZmZXItaGVscGVyLmpzXG4vKipcbiAqIEJ1ZmZlciBIZWxwZXIgdXRpbHMsIHByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgYnVmZmVyIGxlbmd0aCByZXRyaWV2YWxcbiovXG5cbnZhciBCdWZmZXJIZWxwZXIgPSB7XG4gIGlzQnVmZmVyZWQ6IGZ1bmN0aW9uIGlzQnVmZmVyZWQobWVkaWEsIHBvc2l0aW9uKSB7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICB2YXIgYnVmZmVyZWQgPSBtZWRpYS5idWZmZXJlZDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uID49IGJ1ZmZlcmVkLnN0YXJ0KGkpICYmIHBvc2l0aW9uIDw9IGJ1ZmZlcmVkLmVuZChpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBidWZmZXJJbmZvOiBmdW5jdGlvbiBidWZmZXJJbmZvKG1lZGlhLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgdmFyIHZidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkLFxuICAgICAgICAgIGJ1ZmZlcmVkID0gW10sXG4gICAgICAgICAgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB2YnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnVmZmVyZWQucHVzaCh7IHN0YXJ0OiB2YnVmZmVyZWQuc3RhcnQoaSksIGVuZDogdmJ1ZmZlcmVkLmVuZChpKSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkSW5mbyhidWZmZXJlZCwgcG9zLCBtYXhIb2xlRHVyYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBsZW46IDAsIHN0YXJ0OiBwb3MsIGVuZDogcG9zLCBuZXh0U3RhcnQ6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgfSxcblxuICBidWZmZXJlZEluZm86IGZ1bmN0aW9uIGJ1ZmZlcmVkSW5mbyhidWZmZXJlZCwgcG9zLCBtYXhIb2xlRHVyYXRpb24pIHtcbiAgICB2YXIgYnVmZmVyZWQyID0gW10sXG5cbiAgICAvLyBidWZmZXJTdGFydCBhbmQgYnVmZmVyRW5kIGFyZSBidWZmZXIgYm91bmRhcmllcyBhcm91bmQgY3VycmVudCB2aWRlbyBwb3NpdGlvblxuICAgIGJ1ZmZlckxlbixcbiAgICAgICAgYnVmZmVyU3RhcnQsXG4gICAgICAgIGJ1ZmZlckVuZCxcbiAgICAgICAgYnVmZmVyU3RhcnROZXh0LFxuICAgICAgICBpO1xuICAgIC8vIHNvcnQgb24gYnVmZmVyLnN0YXJ0L3NtYWxsZXIgZW5kIChJRSBkb2VzIG5vdCBhbHdheXMgcmV0dXJuIHNvcnRlZCBidWZmZXJlZCByYW5nZSlcbiAgICBidWZmZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICB2YXIgZGlmZiA9IGEuc3RhcnQgLSBiLnN0YXJ0O1xuICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYi5lbmQgLSBhLmVuZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyB0aGVyZSBtaWdodCBiZSBzb21lIHNtYWxsIGhvbGVzIGJldHdlZW4gYnVmZmVyIHRpbWUgcmFuZ2VcbiAgICAvLyBjb25zaWRlciB0aGF0IGhvbGVzIHNtYWxsZXIgdGhhbiBtYXhIb2xlRHVyYXRpb24gYXJlIGlycmVsZXZhbnQgYW5kIGJ1aWxkIGFub3RoZXJcbiAgICAvLyBidWZmZXIgdGltZSByYW5nZSByZXByZXNlbnRhdGlvbnMgdGhhdCBkaXNjYXJkcyB0aG9zZSBob2xlc1xuICAgIGZvciAoaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGJ1ZjJsZW4gPSBidWZmZXJlZDIubGVuZ3RoO1xuICAgICAgaWYgKGJ1ZjJsZW4pIHtcbiAgICAgICAgdmFyIGJ1ZjJlbmQgPSBidWZmZXJlZDJbYnVmMmxlbiAtIDFdLmVuZDtcbiAgICAgICAgLy8gaWYgc21hbGwgaG9sZSAodmFsdWUgYmV0d2VlbiAwIG9yIG1heEhvbGVEdXJhdGlvbiApIG9yIG92ZXJsYXBwaW5nIChuZWdhdGl2ZSlcbiAgICAgICAgaWYgKGJ1ZmZlcmVkW2ldLnN0YXJ0IC0gYnVmMmVuZCA8IG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICAgIC8vIG1lcmdlIG92ZXJsYXBwaW5nIHRpbWUgcmFuZ2VzXG4gICAgICAgICAgLy8gdXBkYXRlIGxhc3RSYW5nZS5lbmQgb25seSBpZiBzbWFsbGVyIHRoYW4gaXRlbS5lbmRcbiAgICAgICAgICAvLyBlLmcuICBbIDEsIDE1XSB3aXRoICBbIDIsOF0gPT4gWyAxLDE1XSAobm8gbmVlZCB0byBtb2RpZnkgbGFzdFJhbmdlLmVuZClcbiAgICAgICAgICAvLyB3aGVyZWFzIFsgMSwgOF0gd2l0aCAgWyAyLDE1XSA9PiBbIDEsMTVdICggbGFzdFJhbmdlIHNob3VsZCBzd2l0Y2ggZnJvbSBbMSw4XSB0byBbMSwxNV0pXG4gICAgICAgICAgaWYgKGJ1ZmZlcmVkW2ldLmVuZCA+IGJ1ZjJlbmQpIHtcbiAgICAgICAgICAgIGJ1ZmZlcmVkMltidWYybGVuIC0gMV0uZW5kID0gYnVmZmVyZWRbaV0uZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBiaWcgaG9sZVxuICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmlyc3QgdmFsdWVcbiAgICAgICAgYnVmZmVyZWQyLnB1c2goYnVmZmVyZWRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwLCBidWZmZXJMZW4gPSAwLCBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHBvczsgaSA8IGJ1ZmZlcmVkMi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHN0YXJ0ID0gYnVmZmVyZWQyW2ldLnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IGJ1ZmZlcmVkMltpXS5lbmQ7XG4gICAgICAvL2xvZ2dlci5sb2coJ2J1ZiBzdGFydC9lbmQ6JyArIGJ1ZmZlcmVkLnN0YXJ0KGkpICsgJy8nICsgYnVmZmVyZWQuZW5kKGkpKTtcbiAgICAgIGlmIChwb3MgKyBtYXhIb2xlRHVyYXRpb24gPj0gc3RhcnQgJiYgcG9zIDwgZW5kKSB7XG4gICAgICAgIC8vIHBsYXkgcG9zaXRpb24gaXMgaW5zaWRlIHRoaXMgYnVmZmVyIFRpbWVSYW5nZSwgcmV0cmlldmUgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvbiBhbmQgYnVmZmVyIGxlbmd0aFxuICAgICAgICBidWZmZXJTdGFydCA9IHN0YXJ0O1xuICAgICAgICBidWZmZXJFbmQgPSBlbmQ7XG4gICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckVuZCAtIHBvcztcbiAgICAgIH0gZWxzZSBpZiAocG9zICsgbWF4SG9sZUR1cmF0aW9uIDwgc3RhcnQpIHtcbiAgICAgICAgYnVmZmVyU3RhcnROZXh0ID0gc3RhcnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBsZW46IGJ1ZmZlckxlbiwgc3RhcnQ6IGJ1ZmZlclN0YXJ0LCBlbmQ6IGJ1ZmZlckVuZCwgbmV4dFN0YXJ0OiBidWZmZXJTdGFydE5leHQgfTtcbiAgfVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYnVmZmVyX2hlbHBlciA9IChCdWZmZXJIZWxwZXIpO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qcyArIDE2IG1vZHVsZXNcbnZhciBkZW11eGVyX2lubGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xudmFyIGV2ZW50c19ldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGV2ZW50c19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihldmVudHNfZXZlbnRzKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy93ZWJ3b3JraWZ5LXdlYnBhY2svaW5kZXguanNcbnZhciB3ZWJ3b3JraWZ5X3dlYnBhY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHdlYndvcmtpZnlfd2VicGFja19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih3ZWJ3b3JraWZ5X3dlYnBhY2spO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9kZW11eGVyLmpzXG5mdW5jdGlvbiBkZW11eGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxuXG5cblxudmFyIGRlbXV4ZXJfRGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVtdXhlcihobHMsIGlkKSB7XG4gICAgZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVtdXhlcik7XG5cbiAgICB0aGlzLmhscyA9IGhscztcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgLy8gb2JzZXJ2ZXIgc2V0dXBcbiAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyID0gbmV3IGV2ZW50c19kZWZhdWx0LmEoKTtcbiAgICB2YXIgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICBvYnNlcnZlci50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGRhdGFbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBvYnNlcnZlci5lbWl0LmFwcGx5KG9ic2VydmVyLCBbZXZlbnQsIGV2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG5cbiAgICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgZGF0YVtfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgb2JzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuXG4gICAgdmFyIGZvcndhcmRNZXNzYWdlID0gZnVuY3Rpb24gKGV2LCBkYXRhKSB7XG4gICAgICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgICAgIGRhdGEuZnJhZyA9IHRoaXMuZnJhZztcbiAgICAgIGRhdGEuaWQgPSB0aGlzLmlkO1xuICAgICAgaGxzLnRyaWdnZXIoZXYsIGRhdGEpO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIC8vIGZvcndhcmQgZXZlbnRzIHRvIG1haW4gdGhyZWFkXG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfREVDUllQVEVELCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX01FVEFEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19VU0VSREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCwgZm9yd2FyZE1lc3NhZ2UpO1xuXG4gICAgdmFyIHR5cGVTdXBwb3J0ZWQgPSB7XG4gICAgICBtcDQ6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0JyksXG4gICAgICBtcGVnOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wZWcnKSxcbiAgICAgIG1wMzogTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCdhdWRpby9tcDQ7IGNvZGVjcz1cIm1wM1wiJylcbiAgICB9O1xuICAgIC8vIG5hdmlnYXRvci52ZW5kb3IgaXMgbm90IGFsd2F5cyBhdmFpbGFibGUgaW4gV2ViIFdvcmtlclxuICAgIC8vIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Xb3JrZXJHbG9iYWxTY29wZS9uYXZpZ2F0b3JcbiAgICB2YXIgdmVuZG9yID0gbmF2aWdhdG9yLnZlbmRvcjtcbiAgICBpZiAoY29uZmlnLmVuYWJsZVdvcmtlciAmJiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkZW11eGluZyBpbiB3ZWJ3b3JrZXInKTtcbiAgICAgIHZhciB3ID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdyA9IHRoaXMudyA9IHdlYndvcmtpZnlfd2VicGFja19kZWZhdWx0KCkoLypyZXF1aXJlLnJlc29sdmUqLyg5KSk7XG4gICAgICAgIHRoaXMub253bXNnID0gdGhpcy5vbldvcmtlck1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbndtc2cpO1xuICAgICAgICB3Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5JTlRFUk5BTF9FWENFUFRJT04sIGZhdGFsOiB0cnVlLCBldmVudDogJ2RlbXV4ZXJXb3JrZXInLCBlcnI6IHsgbWVzc2FnZTogZXZlbnQubWVzc2FnZSArICcgKCcgKyBldmVudC5maWxlbmFtZSArICc6JyArIGV2ZW50LmxpbmVubyArICcpJyB9IH0pO1xuICAgICAgICB9O1xuICAgICAgICB3LnBvc3RNZXNzYWdlKHsgY21kOiAnaW5pdCcsIHR5cGVTdXBwb3J0ZWQ6IHR5cGVTdXBwb3J0ZWQsIHZlbmRvcjogdmVuZG9yLCBpZDogaWQsIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkoY29uZmlnKSB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignZXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIERlbXV4ZXJXb3JrZXIsIGZhbGxiYWNrIG9uIERlbXV4ZXJJbmxpbmUnKTtcbiAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAvLyByZXZva2UgdGhlIE9iamVjdCBVUkwgdGhhdCB3YXMgdXNlZCB0byBjcmVhdGUgZGVtdXhlciB3b3JrZXIsIHNvIGFzIG5vdCB0byBsZWFrIGl0XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3Lm9iamVjdFVSTCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZW11eGVyID0gbmV3IGRlbXV4ZXJfaW5saW5lW1wiYVwiIC8qIGRlZmF1bHQgKi9dKG9ic2VydmVyLCB0eXBlU3VwcG9ydGVkLCBjb25maWcsIHZlbmRvcik7XG4gICAgICAgIHRoaXMudyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZW11eGVyID0gbmV3IGRlbXV4ZXJfaW5saW5lW1wiYVwiIC8qIGRlZmF1bHQgKi9dKG9ic2VydmVyLCB0eXBlU3VwcG9ydGVkLCBjb25maWcsIHZlbmRvcik7XG4gICAgfVxuICB9XG5cbiAgRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgaWYgKHcpIHtcbiAgICAgIHcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub253bXNnKTtcbiAgICAgIHcudGVybWluYXRlKCk7XG4gICAgICB0aGlzLncgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZGVtdXhlciA9IHRoaXMuZGVtdXhlcjtcbiAgICAgIGlmIChkZW11eGVyKSB7XG4gICAgICAgIGRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyO1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgRGVtdXhlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goZGF0YSwgaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGZyYWcsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKSB7XG4gICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgdmFyIHRpbWVPZmZzZXQgPSAhaXNOYU4oZnJhZy5zdGFydERUUykgPyBmcmFnLnN0YXJ0RFRTIDogZnJhZy5zdGFydDtcbiAgICB2YXIgZGVjcnlwdGRhdGEgPSBmcmFnLmRlY3J5cHRkYXRhO1xuICAgIHZhciBsYXN0RnJhZyA9IHRoaXMuZnJhZztcbiAgICB2YXIgZGlzY29udGludWl0eSA9ICEobGFzdEZyYWcgJiYgZnJhZy5jYyA9PT0gbGFzdEZyYWcuY2MpO1xuICAgIHZhciB0cmFja1N3aXRjaCA9ICEobGFzdEZyYWcgJiYgZnJhZy5sZXZlbCA9PT0gbGFzdEZyYWcubGV2ZWwpO1xuICAgIHZhciBuZXh0U04gPSBsYXN0RnJhZyAmJiBmcmFnLnNuID09PSBsYXN0RnJhZy5zbiArIDE7XG4gICAgdmFyIGNvbnRpZ3VvdXMgPSAhdHJhY2tTd2l0Y2ggJiYgbmV4dFNOO1xuICAgIGlmIChkaXNjb250aW51aXR5KSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2codGhpcy5pZCArICc6ZGlzY29udGludWl0eSBkZXRlY3RlZCcpO1xuICAgIH1cbiAgICBpZiAodHJhY2tTd2l0Y2gpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyh0aGlzLmlkICsgJzpzd2l0Y2ggZGV0ZWN0ZWQnKTtcbiAgICB9XG4gICAgdGhpcy5mcmFnID0gZnJhZztcbiAgICBpZiAodykge1xuICAgICAgLy8gcG9zdCBmcmFnbWVudCBwYXlsb2FkIGFzIHRyYW5zZmVyYWJsZSBvYmplY3RzIChubyBjb3B5KVxuICAgICAgdy5wb3N0TWVzc2FnZSh7IGNtZDogJ2RlbXV4JywgZGF0YTogZGF0YSwgZGVjcnlwdGRhdGE6IGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudDogaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWM6IGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWM6IHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQ6IHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHk6IGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoOiB0cmFja1N3aXRjaCwgY29udGlndW91czogY29udGlndW91cywgZHVyYXRpb246IGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFM6IGRlZmF1bHRJbml0UFRTIH0sIFtkYXRhXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgaWYgKGRlbXV4ZXIpIHtcbiAgICAgICAgZGVtdXhlci5wdXNoKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgRGVtdXhlci5wcm90b3R5cGUub25Xb3JrZXJNZXNzYWdlID0gZnVuY3Rpb24gb25Xb3JrZXJNZXNzYWdlKGV2KSB7XG4gICAgdmFyIGRhdGEgPSBldi5kYXRhLFxuICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAvL2NvbnNvbGUubG9nKCdvbldvcmtlck1lc3NhZ2U6JyArIGRhdGEuZXZlbnQpO1xuICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgIC8vIHJldm9rZSB0aGUgT2JqZWN0IFVSTCB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSBkZW11eGVyIHdvcmtlciwgc28gYXMgbm90IHRvIGxlYWsgaXRcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLncub2JqZWN0VVJMKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIEZSQUdfUEFSU0lOR19EQVRBOiBkYXRhMSBhbmQgZGF0YTIgYXJlIHRyYW5zZmVyYWJsZSBvYmplY3RzXG4gICAgICBjYXNlIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQTpcbiAgICAgICAgZGF0YS5kYXRhLmRhdGExID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5kYXRhMSk7XG4gICAgICAgIGlmIChkYXRhLmRhdGEyKSB7XG4gICAgICAgICAgZGF0YS5kYXRhLmRhdGEyID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5kYXRhMik7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRhdGEuZGF0YSA9IGRhdGEuZGF0YSB8fCB7fTtcbiAgICAgICAgZGF0YS5kYXRhLmZyYWcgPSB0aGlzLmZyYWc7XG4gICAgICAgIGRhdGEuZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICAgIGhscy50cmlnZ2VyKGRhdGEuZXZlbnQsIGRhdGEuZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGVtdXhfZGVtdXhlciA9IChkZW11eGVyX0RlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaGVscGVyL2xldmVsLWhlbHBlci5qc1xuLyoqXG4gKiBMZXZlbCBIZWxwZXIgY2xhc3MsIHByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgd2l0aCBwbGF5bGlzdCBzbGlkaW5nIGFuZCBkcmlmdFxuKi9cblxuXG5cbmZ1bmN0aW9uIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGZyb21JZHgsIHRvSWR4KSB7XG4gIHZhciBmcmFnRnJvbSA9IGZyYWdtZW50c1tmcm9tSWR4XSxcbiAgICAgIGZyYWdUbyA9IGZyYWdtZW50c1t0b0lkeF0sXG4gICAgICBmcmFnVG9QVFMgPSBmcmFnVG8uc3RhcnRQVFM7XG4gIC8vIGlmIHdlIGtub3cgc3RhcnRQVFNbdG9JZHhdXG4gIGlmICghaXNOYU4oZnJhZ1RvUFRTKSkge1xuICAgIC8vIHVwZGF0ZSBmcmFnbWVudCBkdXJhdGlvbi5cbiAgICAvLyBpdCBoZWxwcyB0byBmaXggZHJpZnRzIGJldHdlZW4gcGxheWxpc3QgcmVwb3J0ZWQgZHVyYXRpb24gYW5kIGZyYWdtZW50IHJlYWwgZHVyYXRpb25cbiAgICBpZiAodG9JZHggPiBmcm9tSWR4KSB7XG4gICAgICBmcmFnRnJvbS5kdXJhdGlvbiA9IGZyYWdUb1BUUyAtIGZyYWdGcm9tLnN0YXJ0O1xuICAgICAgaWYgKGZyYWdGcm9tLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCduZWdhdGl2ZSBkdXJhdGlvbiBjb21wdXRlZCBmb3IgZnJhZyAnICsgZnJhZ0Zyb20uc24gKyAnLGxldmVsICcgKyBmcmFnRnJvbS5sZXZlbCArICcsIHRoZXJlIHNob3VsZCBiZSBzb21lIGR1cmF0aW9uIGRyaWZ0IGJldHdlZW4gcGxheWxpc3QgYW5kIGZyYWdtZW50IScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnVG8uZHVyYXRpb24gPSBmcmFnRnJvbS5zdGFydCAtIGZyYWdUb1BUUztcbiAgICAgIGlmIChmcmFnVG8uZHVyYXRpb24gPCAwKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ25lZ2F0aXZlIGR1cmF0aW9uIGNvbXB1dGVkIGZvciBmcmFnICcgKyBmcmFnVG8uc24gKyAnLGxldmVsICcgKyBmcmFnVG8ubGV2ZWwgKyAnLCB0aGVyZSBzaG91bGQgYmUgc29tZSBkdXJhdGlvbiBkcmlmdCBiZXR3ZWVuIHBsYXlsaXN0IGFuZCBmcmFnbWVudCEnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gd2UgZG9udCBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICAgIGlmICh0b0lkeCA+IGZyb21JZHgpIHtcbiAgICAgIGZyYWdUby5zdGFydCA9IGZyYWdGcm9tLnN0YXJ0ICsgZnJhZ0Zyb20uZHVyYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYWdUby5zdGFydCA9IE1hdGgubWF4KGZyYWdGcm9tLnN0YXJ0IC0gZnJhZ1RvLmR1cmF0aW9uLCAwKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRnJhZ1BUU0RUUyhkZXRhaWxzLCBmcmFnLCBzdGFydFBUUywgZW5kUFRTLCBzdGFydERUUywgZW5kRFRTKSB7XG4gIC8vIHVwZGF0ZSBmcmFnIFBUUy9EVFNcbiAgdmFyIG1heFN0YXJ0UFRTID0gc3RhcnRQVFM7XG4gIGlmICghaXNOYU4oZnJhZy5zdGFydFBUUykpIHtcbiAgICAvLyBkZWx0YSBQVFMgYmV0d2VlbiBhdWRpbyBhbmQgdmlkZW9cbiAgICB2YXIgZGVsdGFQVFMgPSBNYXRoLmFicyhmcmFnLnN0YXJ0UFRTIC0gc3RhcnRQVFMpO1xuICAgIGlmIChpc05hTihmcmFnLmRlbHRhUFRTKSkge1xuICAgICAgZnJhZy5kZWx0YVBUUyA9IGRlbHRhUFRTO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnLmRlbHRhUFRTID0gTWF0aC5tYXgoZGVsdGFQVFMsIGZyYWcuZGVsdGFQVFMpO1xuICAgIH1cbiAgICBtYXhTdGFydFBUUyA9IE1hdGgubWF4KHN0YXJ0UFRTLCBmcmFnLnN0YXJ0UFRTKTtcbiAgICBzdGFydFBUUyA9IE1hdGgubWluKHN0YXJ0UFRTLCBmcmFnLnN0YXJ0UFRTKTtcbiAgICBlbmRQVFMgPSBNYXRoLm1heChlbmRQVFMsIGZyYWcuZW5kUFRTKTtcbiAgICBzdGFydERUUyA9IE1hdGgubWluKHN0YXJ0RFRTLCBmcmFnLnN0YXJ0RFRTKTtcbiAgICBlbmREVFMgPSBNYXRoLm1heChlbmREVFMsIGZyYWcuZW5kRFRTKTtcbiAgfVxuXG4gIHZhciBkcmlmdCA9IHN0YXJ0UFRTIC0gZnJhZy5zdGFydDtcbiAgZnJhZy5zdGFydCA9IGZyYWcuc3RhcnRQVFMgPSBzdGFydFBUUztcbiAgZnJhZy5tYXhTdGFydFBUUyA9IG1heFN0YXJ0UFRTO1xuICBmcmFnLmVuZFBUUyA9IGVuZFBUUztcbiAgZnJhZy5zdGFydERUUyA9IHN0YXJ0RFRTO1xuICBmcmFnLmVuZERUUyA9IGVuZERUUztcbiAgZnJhZy5kdXJhdGlvbiA9IGVuZFBUUyAtIHN0YXJ0UFRTO1xuXG4gIHZhciBzbiA9IGZyYWcuc247XG4gIC8vIGV4aXQgaWYgc24gb3V0IG9mIHJhbmdlXG4gIGlmICghZGV0YWlscyB8fCBzbiA8IGRldGFpbHMuc3RhcnRTTiB8fCBzbiA+IGRldGFpbHMuZW5kU04pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgZnJhZ0lkeCwgZnJhZ21lbnRzLCBpO1xuICBmcmFnSWR4ID0gc24gLSBkZXRhaWxzLnN0YXJ0U047XG4gIGZyYWdtZW50cyA9IGRldGFpbHMuZnJhZ21lbnRzO1xuICAvLyB1cGRhdGUgZnJhZyByZWZlcmVuY2UgaW4gZnJhZ21lbnRzIGFycmF5XG4gIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGZyYWdtZW50cyBhcnJheSBtaWdodCBub3QgY29udGFpbiB0aGlzIGZyYWcgb2JqZWN0LlxuICAvLyB0aGlzIHdpbGwgaGFwcHBlbiBpZiBwbGF5bGlzdCBoYXMgYmVlbiByZWZyZXNoZWQgYmV0d2VlbiBmcmFnIGxvYWRpbmcgYW5kIGNhbGwgdG8gdXBkYXRlRnJhZ1BUU0RUUygpXG4gIC8vIGlmIHdlIGRvbid0IHVwZGF0ZSBmcmFnLCB3ZSB3b24ndCBiZSBhYmxlIHRvIHByb3BhZ2F0ZSBQVFMgaW5mbyBvbiB0aGUgcGxheWxpc3RcbiAgLy8gcmVzdWx0aW5nIGluIGludmFsaWQgc2xpZGluZyBjb21wdXRhdGlvblxuICBmcmFnbWVudHNbZnJhZ0lkeF0gPSBmcmFnO1xuICAvLyBhZGp1c3QgZnJhZ21lbnQgUFRTL2R1cmF0aW9uIGZyb20gc2VxbnVtLTEgdG8gZnJhZyAwXG4gIGZvciAoaSA9IGZyYWdJZHg7IGkgPiAwOyBpLS0pIHtcbiAgICB1cGRhdGVQVFMoZnJhZ21lbnRzLCBpLCBpIC0gMSk7XG4gIH1cblxuICAvLyBhZGp1c3QgZnJhZ21lbnQgUFRTL2R1cmF0aW9uIGZyb20gc2VxbnVtIHRvIGxhc3QgZnJhZ1xuICBmb3IgKGkgPSBmcmFnSWR4OyBpIDwgZnJhZ21lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGksIGkgKyAxKTtcbiAgfVxuICBkZXRhaWxzLlBUU0tub3duID0gdHJ1ZTtcbiAgLy9sb2dnZXIubG9nKGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgc3RhcnQvZW5kOiR7c3RhcnRQVFMudG9GaXhlZCgzKX0vJHtlbmRQVFMudG9GaXhlZCgzKX1gKTtcblxuICByZXR1cm4gZHJpZnQ7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGV0YWlscyhvbGREZXRhaWxzLCBuZXdEZXRhaWxzKSB7XG4gIHZhciBzdGFydCA9IE1hdGgubWF4KG9sZERldGFpbHMuc3RhcnRTTiwgbmV3RGV0YWlscy5zdGFydFNOKSAtIG5ld0RldGFpbHMuc3RhcnRTTixcbiAgICAgIGVuZCA9IE1hdGgubWluKG9sZERldGFpbHMuZW5kU04sIG5ld0RldGFpbHMuZW5kU04pIC0gbmV3RGV0YWlscy5zdGFydFNOLFxuICAgICAgZGVsdGEgPSBuZXdEZXRhaWxzLnN0YXJ0U04gLSBvbGREZXRhaWxzLnN0YXJ0U04sXG4gICAgICBvbGRmcmFnbWVudHMgPSBvbGREZXRhaWxzLmZyYWdtZW50cyxcbiAgICAgIG5ld2ZyYWdtZW50cyA9IG5ld0RldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgY2NPZmZzZXQgPSAwLFxuICAgICAgUFRTRnJhZztcblxuICAvLyBjaGVjayBpZiBvbGQvbmV3IHBsYXlsaXN0cyBoYXZlIGZyYWdtZW50cyBpbiBjb21tb25cbiAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBsb29wIHRocm91Z2ggb3ZlcmxhcHBpbmcgU04gYW5kIHVwZGF0ZSBzdGFydFBUUyAsIGNjLCBhbmQgZHVyYXRpb24gaWYgYW55IGZvdW5kXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgIHZhciBvbGRGcmFnID0gb2xkZnJhZ21lbnRzW2RlbHRhICsgaV0sXG4gICAgICAgIG5ld0ZyYWcgPSBuZXdmcmFnbWVudHNbaV07XG4gICAgaWYgKG5ld0ZyYWcgJiYgb2xkRnJhZykge1xuICAgICAgY2NPZmZzZXQgPSBvbGRGcmFnLmNjIC0gbmV3RnJhZy5jYztcbiAgICAgIGlmICghaXNOYU4ob2xkRnJhZy5zdGFydFBUUykpIHtcbiAgICAgICAgbmV3RnJhZy5zdGFydCA9IG5ld0ZyYWcuc3RhcnRQVFMgPSBvbGRGcmFnLnN0YXJ0UFRTO1xuICAgICAgICBuZXdGcmFnLmVuZFBUUyA9IG9sZEZyYWcuZW5kUFRTO1xuICAgICAgICBuZXdGcmFnLmR1cmF0aW9uID0gb2xkRnJhZy5kdXJhdGlvbjtcbiAgICAgICAgbmV3RnJhZy5iYWNrdHJhY2tlZCA9IG9sZEZyYWcuYmFja3RyYWNrZWQ7XG4gICAgICAgIG5ld0ZyYWcuZHJvcHBlZCA9IG9sZEZyYWcuZHJvcHBlZDtcbiAgICAgICAgUFRTRnJhZyA9IG5ld0ZyYWc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGNjT2Zmc2V0KSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkaXNjb250aW51aXR5IHNsaWRpbmcgZnJvbSBwbGF5bGlzdCwgdGFrZSBkcmlmdCBpbnRvIGFjY291bnQnKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbmV3ZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdmcmFnbWVudHNbaV0uY2MgKz0gY2NPZmZzZXQ7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgYXQgbGVhc3Qgb25lIGZyYWdtZW50IGNvbnRhaW5zIFBUUyBpbmZvLCByZWNvbXB1dGUgUFRTIGluZm9ybWF0aW9uIGZvciBhbGwgZnJhZ21lbnRzXG4gIGlmIChQVFNGcmFnKSB7XG4gICAgdXBkYXRlRnJhZ1BUU0RUUyhuZXdEZXRhaWxzLCBQVFNGcmFnLCBQVFNGcmFnLnN0YXJ0UFRTLCBQVFNGcmFnLmVuZFBUUywgUFRTRnJhZy5zdGFydERUUywgUFRTRnJhZy5lbmREVFMpO1xuICB9IGVsc2Uge1xuICAgIC8vIGVuc3VyZSB0aGF0IGRlbHRhIGlzIHdpdGhpbiBvbGRmcmFnbWVudHMgcmFuZ2VcbiAgICAvLyBhbHNvIGFkanVzdCBzbGlkaW5nIGluIGNhc2UgZGVsdGEgaXMgMCAod2UgY291bGQgaGF2ZSBvbGQ9WzUwLTYwXSBhbmQgbmV3PW9sZD1bNTAtNjFdKVxuICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBhbHNvIG5lZWQgdG8gYWRqdXN0IHN0YXJ0IG9mZnNldCBvZiBhbGwgZnJhZ21lbnRzXG4gICAgaWYgKGRlbHRhID49IDAgJiYgZGVsdGEgPCBvbGRmcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBhZGp1c3Qgc3RhcnQgYnkgc2xpZGluZyBvZmZzZXRcbiAgICAgIHZhciBzbGlkaW5nID0gb2xkZnJhZ21lbnRzW2RlbHRhXS5zdGFydDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3ZnJhZ21lbnRzW2ldLnN0YXJ0ICs9IHNsaWRpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGlmIHdlIGFyZSBoZXJlLCBpdCBtZWFucyB3ZSBoYXZlIGZyYWdtZW50cyBvdmVybGFwcGluZyBiZXR3ZWVuXG4gIC8vIG9sZCBhbmQgbmV3IGxldmVsLiByZWxpYWJsZSBQVFMgaW5mbyBpcyB0aHVzIHJlbHlpbmcgb24gb2xkIGxldmVsXG4gIG5ld0RldGFpbHMuUFRTS25vd24gPSBvbGREZXRhaWxzLlBUU0tub3duO1xufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdGltZVJhbmdlcy5qc1xuLyoqXG4gKiAgVGltZVJhbmdlcyB0byBzdHJpbmcgaGVscGVyXG4gKi9cblxudmFyIFRpbWVSYW5nZXMgPSB7XG4gIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZyhyKSB7XG4gICAgdmFyIGxvZyA9ICcnLFxuICAgICAgICBsZW4gPSByLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsb2cgKz0gJ1snICsgci5zdGFydChpKS50b0ZpeGVkKDMpICsgJywnICsgci5lbmQoaSkudG9GaXhlZCgzKSArICddJztcbiAgICB9XG4gICAgcmV0dXJuIGxvZztcbiAgfVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZVJhbmdlcyA9IChUaW1lUmFuZ2VzKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1xuXG5cblxuZnVuY3Rpb24gZmluZEZpcnN0RnJhZ1dpdGhDQyhmcmFnbWVudHMsIGNjKSB7XG4gIHZhciBmaXJzdEZyYWcgPSBudWxsO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhZ21lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGN1cnJlbnRGcmFnID0gZnJhZ21lbnRzW2ldO1xuICAgIGlmIChjdXJyZW50RnJhZyAmJiBjdXJyZW50RnJhZy5jYyA9PT0gY2MpIHtcbiAgICAgIGZpcnN0RnJhZyA9IGN1cnJlbnRGcmFnO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpcnN0RnJhZztcbn1cblxuZnVuY3Rpb24gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCBDQykge1xuICByZXR1cm4gYmluYXJ5X3NlYXJjaC5zZWFyY2goZnJhZ21lbnRzLCBmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgaWYgKGNhbmRpZGF0ZS5jYyA8IENDKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGNhbmRpZGF0ZS5jYyA+IENDKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICB2YXIgc2hvdWxkQWxpZ24gPSBmYWxzZTtcbiAgaWYgKGxhc3RMZXZlbCAmJiBsYXN0TGV2ZWwuZGV0YWlscyAmJiBkZXRhaWxzKSB7XG4gICAgaWYgKGRldGFpbHMuZW5kQ0MgPiBkZXRhaWxzLnN0YXJ0Q0MgfHwgbGFzdEZyYWcgJiYgbGFzdEZyYWcuY2MgPCBkZXRhaWxzLnN0YXJ0Q0MpIHtcbiAgICAgIHNob3VsZEFsaWduID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNob3VsZEFsaWduO1xufVxuXG4vLyBGaW5kIHRoZSBmaXJzdCBmcmFnIGluIHRoZSBwcmV2aW91cyBsZXZlbCB3aGljaCBtYXRjaGVzIHRoZSBDQyBvZiB0aGUgZmlyc3QgZnJhZyBvZiB0aGUgbmV3IGxldmVsXG5mdW5jdGlvbiBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcocHJldkRldGFpbHMsIGN1ckRldGFpbHMpIHtcbiAgdmFyIHByZXZGcmFncyA9IHByZXZEZXRhaWxzLmZyYWdtZW50cztcbiAgdmFyIGN1ckZyYWdzID0gY3VyRGV0YWlscy5mcmFnbWVudHM7XG5cbiAgaWYgKCFjdXJGcmFncy5sZW5ndGggfHwgIXByZXZGcmFncy5sZW5ndGgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ05vIGZyYWdtZW50cyB0byBhbGlnbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmV2U3RhcnRGcmFnID0gZmluZEZpcnN0RnJhZ1dpdGhDQyhwcmV2RnJhZ3MsIGN1ckZyYWdzWzBdLmNjKTtcblxuICBpZiAoIXByZXZTdGFydEZyYWcgfHwgcHJldlN0YXJ0RnJhZyAmJiAhcHJldlN0YXJ0RnJhZy5zdGFydFBUUykge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTm8gZnJhZyBpbiBwcmV2aW91cyBsZXZlbCB0byBhbGlnbiBvbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBwcmV2U3RhcnRGcmFnO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RQdHMoc2xpZGluZywgZGV0YWlscykge1xuICBkZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIHZhciBzdGFydCA9IGZyYWcuc3RhcnQgKyBzbGlkaW5nO1xuICAgICAgZnJhZy5zdGFydCA9IGZyYWcuc3RhcnRQVFMgPSBzdGFydDtcbiAgICAgIGZyYWcuZW5kUFRTID0gc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgIH1cbiAgfSk7XG4gIGRldGFpbHMuUFRTS25vd24gPSB0cnVlO1xufVxuXG4vLyBJZiBhIGNoYW5nZSBpbiBDQyBpcyBkZXRlY3RlZCwgdGhlIFBUUyBjYW4gbm8gbG9uZ2VyIGJlIHJlbGllZCB1cG9uXG4vLyBBdHRlbXB0IHRvIGFsaWduIHRoZSBsZXZlbCBieSB1c2luZyB0aGUgbGFzdCBsZXZlbCAtIGZpbmQgdGhlIGxhc3QgZnJhZyBtYXRjaGluZyB0aGUgY3VycmVudCBDQyBhbmQgdXNlIGl0J3MgUFRTXG4vLyBhcyBhIHJlZmVyZW5jZVxuZnVuY3Rpb24gYWxpZ25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICBpZiAoc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgbGFzdExldmVsLCBkZXRhaWxzKSkge1xuICAgIHZhciByZWZlcmVuY2VGcmFnID0gZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnKGxhc3RMZXZlbC5kZXRhaWxzLCBkZXRhaWxzKTtcbiAgICBpZiAocmVmZXJlbmNlRnJhZykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBZGp1c3RpbmcgUFRTIHVzaW5nIGxhc3QgbGV2ZWwgZHVlIHRvIENDIGluY3JlYXNlIHdpdGhpbiBjdXJyZW50IGxldmVsJyk7XG4gICAgICBhZGp1c3RQdHMocmVmZXJlbmNlRnJhZy5zdGFydCwgZGV0YWlscyk7XG4gICAgfVxuICB9XG4gIC8vIHRyeSB0byBhbGlnbiB1c2luZyBwcm9ncmFtRGF0ZVRpbWUgYXR0cmlidXRlIChpZiBhdmFpbGFibGUpXG4gIGlmIChkZXRhaWxzLlBUU0tub3duID09PSBmYWxzZSAmJiBsYXN0TGV2ZWwgJiYgbGFzdExldmVsLmRldGFpbHMpIHtcbiAgICAvLyBpZiBsYXN0IGxldmVsIHNsaWRpbmcgaXMgMTAwMCBhbmQgaXRzIGZpcnN0IGZyYWcgUFJPR1JBTS1EQVRFLVRJTUUgaXMgMjAxNy0wOC0yMCAxOjEwOjAwIEFNXG4gICAgLy8gYW5kIGlmIG5ldyBkZXRhaWxzIGZpcnN0IGZyYWcgUFJPR1JBTSBEQVRFLVRJTUUgaXMgMjAxNy0wOC0yMCAxOjEwOjA4IEFNXG4gICAgLy8gdGhlbiB3ZSBjYW4gZGVkdWNlIHRoYXQgcGxheWxpc3QgQiBzbGlkaW5nIGlzIDEwMDArOCA9IDEwMDhzXG4gICAgdmFyIGxhc3RQRFQgPSBsYXN0TGV2ZWwuZGV0YWlscy5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgdmFyIG5ld1BEVCA9IGRldGFpbHMucHJvZ3JhbURhdGVUaW1lO1xuICAgIC8vIGRhdGUgZGlmZiBpcyBpbiBtcy4gZnJhZy5zdGFydCBpcyBpbiBzZWNvbmRzXG4gICAgdmFyIHNsaWRpbmcgPSAobmV3UERUIC0gbGFzdFBEVCkgLyAxMDAwICsgbGFzdExldmVsLmRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgIGlmICghaXNOYU4oc2xpZGluZykpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYWRqdXN0aW5nIFBUUyB1c2luZyBwcm9ncmFtRGF0ZVRpbWUgZGVsdGEsIHNsaWRpbmc6JyArIHNsaWRpbmcudG9GaXhlZCgzKSk7XG4gICAgICBhZGp1c3RQdHMoc2xpZGluZywgZGV0YWlscyk7XG4gICAgfVxuICB9XG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyLmpzXG52YXIgc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBzdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBzdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gc3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBTdHJlYW0gQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgU3RhdGUgPSB7XG4gIFNUT1BQRUQ6ICdTVE9QUEVEJyxcbiAgSURMRTogJ0lETEUnLFxuICBLRVlfTE9BRElORzogJ0tFWV9MT0FESU5HJyxcbiAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJyxcbiAgRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk6ICdGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWScsXG4gIFdBSVRJTkdfTEVWRUw6ICdXQUlUSU5HX0xFVkVMJyxcbiAgUEFSU0lORzogJ1BBUlNJTkcnLFxuICBQQVJTRUQ6ICdQQVJTRUQnLFxuICBCVUZGRVJfRkxVU0hJTkc6ICdCVUZGRVJfRkxVU0hJTkcnLFxuICBFTkRFRDogJ0VOREVEJyxcbiAgRVJST1I6ICdFUlJPUidcbn07XG5cbnZhciBzdHJlYW1fY29udHJvbGxlcl9TdHJlYW1Db250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgc3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzKFN0cmVhbUNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIFN0cmVhbUNvbnRyb2xsZXIoaGxzKSB7XG4gICAgc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmVhbUNvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gc3RyZWFtX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX1BBUlNFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DUkVBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQpKTtcblxuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMuYXVkaW9Db2RlY1N3YXAgPSBmYWxzZTtcbiAgICBfdGhpcy50aWNrcyA9IDA7XG4gICAgX3RoaXMuX3N0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICBfdGhpcy5vbnRpY2sgPSBfdGhpcy50aWNrLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlNUT1BQRUQ7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gc3RhcnRMb2FkKHN0YXJ0UG9zaXRpb24pIHtcbiAgICBpZiAodGhpcy5sZXZlbHMpIHtcbiAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgIGlmICghdGhpcy50aW1lcikge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vbnRpY2ssIDEwMCk7XG4gICAgICB9XG4gICAgICB0aGlzLmxldmVsID0gLTE7XG4gICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgICAvLyBkZXRlcm1pbmUgbG9hZCBsZXZlbFxuICAgICAgICB2YXIgc3RhcnRMZXZlbCA9IGhscy5zdGFydExldmVsO1xuICAgICAgICBpZiAoc3RhcnRMZXZlbCA9PT0gLTEpIHtcbiAgICAgICAgICAvLyAtMSA6IGd1ZXNzIHN0YXJ0IExldmVsIGJ5IGRvaW5nIGEgYml0cmF0ZSB0ZXN0IGJ5IGxvYWRpbmcgZmlyc3QgZnJhZ21lbnQgb2YgbG93ZXN0IHF1YWxpdHkgbGV2ZWxcbiAgICAgICAgICBzdGFydExldmVsID0gMDtcbiAgICAgICAgICB0aGlzLmJpdHJhdGVUZXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgbmV3IGxldmVsIHRvIHBsYXlsaXN0IGxvYWRlciA6IHRoaXMgd2lsbCB0cmlnZ2VyIHN0YXJ0IGxldmVsIGxvYWRcbiAgICAgICAgLy8gaGxzLm5leHRMb2FkTGV2ZWwgcmVtYWlucyB1bnRpbCBpdCBpcyBzZXQgdG8gYSBuZXcgdmFsdWUgb3IgdW50aWwgYSBuZXcgZnJhZyBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkXG4gICAgICAgIHRoaXMubGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCA9IHN0YXJ0TGV2ZWw7XG4gICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHN0YXJ0UG9zaXRpb24gdW5kZWZpbmVkIGJ1dCBsYXN0Q3VycmVudFRpbWUgc2V0LCBzZXQgc3RhcnRQb3NpdGlvbiB0byBsYXN0IGN1cnJlbnRUaW1lXG4gICAgICBpZiAobGFzdEN1cnJlbnRUaW1lID4gMCAmJiBzdGFydFBvc2l0aW9uID09PSAtMSkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ292ZXJyaWRlIHN0YXJ0UG9zaXRpb24gd2l0aCBsYXN0Q3VycmVudFRpbWUgQCcgKyBsYXN0Q3VycmVudFRpbWUudG9GaXhlZCgzKSk7XG4gICAgICAgIHN0YXJ0UG9zaXRpb24gPSBsYXN0Q3VycmVudFRpbWU7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvcmNlU3RhcnRMb2FkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uIHN0b3BMb2FkKCkge1xuICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICBpZiAoZnJhZykge1xuICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgIGZyYWcubG9hZGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgIHRoaXMuZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICB0aGlzLmZvcmNlU3RhcnRMb2FkID0gZmFsc2U7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgdGhpcy50aWNrcysrO1xuICAgIGlmICh0aGlzLnRpY2tzID09PSAxKSB7XG4gICAgICB0aGlzLmRvVGljaygpO1xuICAgICAgaWYgKHRoaXMudGlja3MgPiAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy50aWNrLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGlja3MgPSAwO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiBkb1RpY2soKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLkVSUk9SOlxuICAgICAgICAvL2Rvbid0IGRvIGFueXRoaW5nIGluIGVycm9yIHN0YXRlIHRvIGF2b2lkIGJyZWFraW5nIGZ1cnRoZXIgLi4uXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0ZS5CVUZGRVJfRkxVU0hJTkc6XG4gICAgICAgIC8vIGluIGJ1ZmZlciBmbHVzaGluZyBzdGF0ZSwgcmVzZXQgZnJhZ0xvYWRFcnJvciBjb3VudGVyXG4gICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0ZS5JRExFOlxuICAgICAgICB0aGlzLl9kb1RpY2tJZGxlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0ZS5XQUlUSU5HX0xFVkVMOlxuICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXTtcbiAgICAgICAgLy8gY2hlY2sgaWYgcGxheWxpc3QgaXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgaWYgKGxldmVsICYmIGxldmVsLmRldGFpbHMpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk6XG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdmFyIHJldHJ5RGF0ZSA9IHRoaXMucmV0cnlEYXRlO1xuICAgICAgICAvLyBpZiBjdXJyZW50IHRpbWUgaXMgZ3QgdGhhbiByZXRyeURhdGUsIG9yIGlmIG1lZGlhIHNlZWtpbmcgbGV0J3Mgc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICBpZiAoIXJldHJ5RGF0ZSB8fCBub3cgPj0gcmV0cnlEYXRlIHx8IHRoaXMubWVkaWEgJiYgdGhpcy5tZWRpYS5zZWVraW5nKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYUNvbnRyb2xsZXI6IHJldHJ5RGF0ZSByZWFjaGVkLCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlJyk7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLkVSUk9SOlxuICAgICAgY2FzZSBTdGF0ZS5TVE9QUEVEOlxuICAgICAgY2FzZSBTdGF0ZS5GUkFHX0xPQURJTkc6XG4gICAgICBjYXNlIFN0YXRlLlBBUlNJTkc6XG4gICAgICBjYXNlIFN0YXRlLlBBUlNFRDpcbiAgICAgIGNhc2UgU3RhdGUuRU5ERUQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIGNoZWNrIGJ1ZmZlclxuICAgIHRoaXMuX2NoZWNrQnVmZmVyKCk7XG4gICAgLy8gY2hlY2svdXBkYXRlIGN1cnJlbnQgZnJhZ21lbnRcbiAgICB0aGlzLl9jaGVja0ZyYWdtZW50Q2hhbmdlZCgpO1xuICB9O1xuXG4gIC8vIElyb25pY2FsbHkgdGhlIFwiaWRsZVwiIHN0YXRlIGlzIHRoZSBvbiB3ZSBkbyB0aGUgbW9zdCBsb2dpYyBpbiBpdCBzZWVtcyAuLi4uXG4gIC8vIE5PVEU6IE1heWJlIHdlIGNvdWxkIHJhdGhlciBzY2hlZHVsZSBhIGNoZWNrIGZvciBidWZmZXIgbGVuZ3RoIGFmdGVyIGhhbGYgb2YgdGhlIGN1cnJlbnRseVxuICAvLyAgICAgICBwbGF5ZWQgc2VnbWVudCwgb3Igb24gcGF1c2UvcGxheS9zZWVrIGluc3RlYWQgb2YgbmFpdmVseSBjaGVja2luZyBldmVyeSAxMDBtcz9cblxuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9kb1RpY2tJZGxlID0gZnVuY3Rpb24gX2RvVGlja0lkbGUoKSB7XG4gICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICBjb25maWcgPSBobHMuY29uZmlnLFxuICAgICAgICBtZWRpYSA9IHRoaXMubWVkaWE7XG5cbiAgICAvLyBpZiBzdGFydCBsZXZlbCBub3QgcGFyc2VkIHlldCBPUlxuICAgIC8vIGlmIHZpZGVvIG5vdCBhdHRhY2hlZCBBTkQgc3RhcnQgZnJhZ21lbnQgYWxyZWFkeSByZXF1ZXN0ZWQgT1Igc3RhcnQgZnJhZyBwcmVmZXRjaCBkaXNhYmxlXG4gICAgLy8gZXhpdCBsb29wLCBhcyB3ZSBlaXRoZXIgbmVlZCBtb3JlIGluZm8gKGxldmVsIG5vdCBwYXJzZWQpIG9yIHdlIG5lZWQgbWVkaWEgdG8gYmUgYXR0YWNoZWQgdG8gbG9hZCBuZXcgZnJhZ21lbnRcbiAgICBpZiAodGhpcy5sZXZlbExhc3RMb2FkZWQgPT09IHVuZGVmaW5lZCB8fCAhbWVkaWEgJiYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkIHx8ICFjb25maWcuc3RhcnRGcmFnUHJlZmV0Y2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBub3QgeWV0IGxvYWRlZCBhbnkgZnJhZ21lbnQsIHN0YXJ0IGxvYWRpbmcgZnJvbSBzdGFydCBwb3NpdGlvblxuICAgIHZhciBwb3MgPSB2b2lkIDA7XG4gICAgaWYgKHRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIHBvcyA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgfVxuICAgIC8vIGRldGVybWluZSBuZXh0IGxvYWQgbGV2ZWxcbiAgICB2YXIgbGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCxcbiAgICAgICAgbGV2ZWxJbmZvID0gdGhpcy5sZXZlbHNbbGV2ZWxdO1xuXG4gICAgaWYgKCFsZXZlbEluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbGV2ZWxCaXRyYXRlID0gbGV2ZWxJbmZvLmJpdHJhdGUsXG4gICAgICAgIG1heEJ1ZkxlbiA9IHZvaWQgMDtcblxuICAgIC8vIGNvbXB1dGUgbWF4IEJ1ZmZlciBMZW5ndGggdGhhdCB3ZSBjb3VsZCBnZXQgZnJvbSB0aGlzIGxvYWQgbGV2ZWwsIGJhc2VkIG9uIGxldmVsIGJpdHJhdGUuIGRvbid0IGJ1ZmZlciBtb3JlIHRoYW4gNjAgTUIgYW5kIG1vcmUgdGhhbiAzMHNcbiAgICBpZiAobGV2ZWxCaXRyYXRlKSB7XG4gICAgICBtYXhCdWZMZW4gPSBNYXRoLm1heCg4ICogY29uZmlnLm1heEJ1ZmZlclNpemUgLyBsZXZlbEJpdHJhdGUsIGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXhCdWZMZW4gPSBjb25maWcubWF4QnVmZmVyTGVuZ3RoO1xuICAgIH1cbiAgICBtYXhCdWZMZW4gPSBNYXRoLm1pbihtYXhCdWZMZW4sIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGgpO1xuXG4gICAgLy8gZGV0ZXJtaW5lIG5leHQgY2FuZGlkYXRlIGZyYWdtZW50IHRvIGJlIGxvYWRlZCwgYmFzZWQgb24gY3VycmVudCBwb3NpdGlvbiBhbmQgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgIC8vIGVuc3VyZSB1cCB0byBgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aGAgb2YgYnVmZmVyIHVwZnJvbnRcblxuICAgIHZhciBidWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogbWVkaWEsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLFxuICAgICAgICBidWZmZXJMZW4gPSBidWZmZXJJbmZvLmxlbjtcbiAgICAvLyBTdGF5IGlkbGUgaWYgd2UgYXJlIHN0aWxsIHdpdGggYnVmZmVyIG1hcmdpbnNcbiAgICBpZiAoYnVmZmVyTGVuID49IG1heEJ1Zkxlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudCAuLi5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgnYnVmZmVyIGxlbmd0aCBvZiAnICsgYnVmZmVyTGVuLnRvRml4ZWQoMykgKyAnIGlzIGJlbG93IG1heCBvZiAnICsgbWF4QnVmTGVuLnRvRml4ZWQoMykgKyAnLiBjaGVja2luZyBmb3IgbW9yZSBwYXlsb2FkIC4uLicpO1xuXG4gICAgLy8gc2V0IG5leHQgbG9hZCBsZXZlbCA6IHRoaXMgd2lsbCB0cmlnZ2VyIGEgcGxheWxpc3QgbG9hZCBpZiBuZWVkZWRcbiAgICB0aGlzLmxldmVsID0gaGxzLm5leHRMb2FkTGV2ZWwgPSBsZXZlbDtcblxuICAgIHZhciBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscztcbiAgICAvLyBpZiBsZXZlbCBpbmZvIG5vdCByZXRyaWV2ZWQgeWV0LCBzd2l0Y2ggc3RhdGUgYW5kIHdhaXQgZm9yIGxldmVsIHJldHJpZXZhbFxuICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIGVuc3VyZSB0aGF0IG5ldyBwbGF5bGlzdCBoYXMgYmVlbiByZWZyZXNoZWQgdG8gYXZvaWQgbG9hZGluZy90cnkgdG8gbG9hZFxuICAgIC8vIGEgdXNlbGVzcyBhbmQgb3V0ZGF0ZWQgZnJhZ21lbnQgKHRoYXQgbWlnaHQgZXZlbiBpbnRyb2R1Y2UgbG9hZCBlcnJvciBpZiBpdCBpcyBhbHJlYWR5IG91dCBvZiB0aGUgbGl2ZSBwbGF5bGlzdClcbiAgICBpZiAodHlwZW9mIGxldmVsRGV0YWlscyA9PT0gJ3VuZGVmaW5lZCcgfHwgbGV2ZWxEZXRhaWxzLmxpdmUgJiYgdGhpcy5sZXZlbExhc3RMb2FkZWQgIT09IGxldmVsKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV0FJVElOR19MRVZFTDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB3ZSBqdXN0IGdvdCBkb25lIGxvYWRpbmcgdGhlIGZpbmFsIGZyYWdtZW50IGFuZCB0aGVyZSBpcyBubyBvdGhlciBidWZmZXJlZCByYW5nZSBhZnRlciAuLi5cbiAgICAvLyByYXRpb25hbGUgaXMgdGhhdCBpbiBjYXNlIHRoZXJlIGFyZSBhbnkgYnVmZmVyZWQgcmFuZ2VzIGFmdGVyLCBpdCBtZWFucyB0aGF0IHRoZXJlIGFyZSB1bmJ1ZmZlcmVkIHBvcnRpb24gaW4gYmV0d2VlblxuICAgIC8vIHNvIHdlIHNob3VsZCBub3Qgc3dpdGNoIHRvIEVOREVEIGluIHRoYXQgY2FzZSwgdG8gYmUgYWJsZSB0byBidWZmZXIgdGhlbVxuICAgIC8vIGRvbnQgc3dpdGNoIHRvIEVOREVEIGlmIHdlIG5lZWQgdG8gYmFja3RyYWNrIGxhc3QgZnJhZ21lbnRcbiAgICB2YXIgZnJhZ1ByZXZpb3VzID0gdGhpcy5mcmFnUHJldmlvdXM7XG4gICAgaWYgKCFsZXZlbERldGFpbHMubGl2ZSAmJiBmcmFnUHJldmlvdXMgJiYgIWZyYWdQcmV2aW91cy5iYWNrdHJhY2tlZCAmJiBmcmFnUHJldmlvdXMuc24gPT09IGxldmVsRGV0YWlscy5lbmRTTiAmJiAhYnVmZmVySW5mby5uZXh0U3RhcnQpIHtcbiAgICAgIC8vIGZyYWdQcmV2aW91cyBpcyBsYXN0IGZyYWdtZW50LiByZXRyaWV2ZSBsZXZlbCBkdXJhdGlvbiB1c2luZyBsYXN0IGZyYWcgc3RhcnQgb2Zmc2V0ICsgZHVyYXRpb25cbiAgICAgIC8vIHJlYWwgZHVyYXRpb24gbWlnaHQgYmUgbG93ZXIgdGhhbiBpbml0aWFsIGR1cmF0aW9uIGlmIHRoZXJlIGFyZSBkcmlmdHMgYmV0d2VlbiByZWFsIGZyYWcgZHVyYXRpb24gYW5kIHBsYXlsaXN0IHNpZ25hbGluZ1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5taW4obWVkaWEuZHVyYXRpb24sIGZyYWdQcmV2aW91cy5zdGFydCArIGZyYWdQcmV2aW91cy5kdXJhdGlvbik7XG4gICAgICAvLyBpZiBldmVyeXRoaW5nIChhbG1vc3QpIHRpbCB0aGUgZW5kIGlzIGJ1ZmZlcmVkLCBsZXQncyBzaWduYWwgZW9zXG4gICAgICAvLyB3ZSBkb24ndCBjb21wYXJlIGV4YWN0bHkgbWVkaWEuZHVyYXRpb24gPT09IGJ1ZmZlckluZm8uZW5kIGFzIHRoZXJlIGNvdWxkIGJlIHNvbWUgc3VidGxlIG1lZGlhIGR1cmF0aW9uIGRpZmZlcmVuY2UgKGF1ZGlvL3ZpZGVvIG9mZnNldHMuLi4pXG4gICAgICAvLyB0b2xlcmF0ZSB1cCB0byBvbmUgZnJhZyBkdXJhdGlvbiB0byBjb3BlIHdpdGggdGhlc2UgY2FzZXMuXG4gICAgICAvLyBhbHNvIGNvcGUgd2l0aCBhbG1vc3QgemVybyBsYXN0IGZyYWcgZHVyYXRpb24gKG1heCBsYXN0IGZyYWcgZHVyYXRpb24gd2l0aCAyMDBtcykgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC82NTdcbiAgICAgIGlmIChkdXJhdGlvbiAtIE1hdGgubWF4KGJ1ZmZlckluZm8uZW5kLCBmcmFnUHJldmlvdXMuc3RhcnQpIDw9IE1hdGgubWF4KDAuMiwgZnJhZ1ByZXZpb3VzLmR1cmF0aW9uKSkge1xuICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgbWVkaWEgc3RyZWFtXG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGlmICh0aGlzLmFsdEF1ZGlvKSB7XG4gICAgICAgICAgZGF0YS50eXBlID0gJ3ZpZGVvJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRU9TLCBkYXRhKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVOREVEO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSB0aGUgbGV2ZWxEZXRhaWxzIGZvciB0aGUgc2VsZWN0ZWQgdmFyaWFudCwgbGV0cyBjb250aW51ZSBlbnJpY2hlbiBvdXIgc3RyZWFtIChsb2FkIGtleXMvZnJhZ21lbnRzIG9yIHRyaWdnZXIgRU9TLCBldGMuLilcbiAgICB0aGlzLl9mZXRjaFBheWxvYWRPckVvcyhwb3MsIGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscyk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2ZldGNoUGF5bG9hZE9yRW9zID0gZnVuY3Rpb24gX2ZldGNoUGF5bG9hZE9yRW9zKHBvcywgYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzLFxuICAgICAgICBsZXZlbCA9IHRoaXMubGV2ZWwsXG4gICAgICAgIGZyYWdtZW50cyA9IGxldmVsRGV0YWlscy5mcmFnbWVudHMsXG4gICAgICAgIGZyYWdMZW4gPSBmcmFnbWVudHMubGVuZ3RoO1xuXG4gICAgLy8gZW1wdHkgcGxheWxpc3RcbiAgICBpZiAoZnJhZ0xlbiA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGZpbmQgZnJhZ21lbnQgaW5kZXgsIGNvbnRpZ3VvdXMgd2l0aCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgdmFyIHN0YXJ0ID0gZnJhZ21lbnRzWzBdLnN0YXJ0LFxuICAgICAgICBlbmQgPSBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLnN0YXJ0ICsgZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5kdXJhdGlvbixcbiAgICAgICAgYnVmZmVyRW5kID0gYnVmZmVySW5mby5lbmQsXG4gICAgICAgIGZyYWcgPSB2b2lkIDA7XG5cbiAgICBpZiAobGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50ICYmICFsZXZlbERldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSkge1xuICAgICAgZnJhZyA9IGxldmVsRGV0YWlscy5pbml0U2VnbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW4gY2FzZSBvZiBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIG5vdCBsb2NhdGVkIGJlZm9yZSBwbGF5bGlzdCBzdGFydFxuICAgICAgaWYgKGxldmVsRGV0YWlscy5saXZlKSB7XG4gICAgICAgIHZhciBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSA9IHRoaXMuY29uZmlnLmluaXRpYWxMaXZlTWFuaWZlc3RTaXplO1xuICAgICAgICBpZiAoZnJhZ0xlbiA8IGluaXRpYWxMaXZlTWFuaWZlc3RTaXplKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQ2FuIG5vdCBzdGFydCBwbGF5YmFjayBvZiBhIGxldmVsLCByZWFzb246IG5vdCBlbm91Z2ggZnJhZ21lbnRzICcgKyBmcmFnTGVuICsgJyA8ICcgKyBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhZyA9IHRoaXMuX2Vuc3VyZUZyYWdtZW50QXRMaXZlUG9pbnQobGV2ZWxEZXRhaWxzLCBidWZmZXJFbmQsIHN0YXJ0LCBlbmQsIGZyYWdQcmV2aW91cywgZnJhZ21lbnRzLCBmcmFnTGVuKTtcbiAgICAgICAgLy8gaWYgaXQgZXhwbGljaXRlbHkgcmV0dXJucyBudWxsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50IGFuZCBleGl0IGZ1bmN0aW9uIG5vd1xuICAgICAgICBpZiAoZnJhZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVm9EIHBsYXlsaXN0OiBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgIGlmIChidWZmZXJFbmQgPCBzdGFydCkge1xuICAgICAgICAgIGZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICBmcmFnID0gdGhpcy5fZmluZEZyYWdtZW50KHN0YXJ0LCBmcmFnUHJldmlvdXMsIGZyYWdMZW4sIGZyYWdtZW50cywgYnVmZmVyRW5kLCBlbmQsIGxldmVsRGV0YWlscyk7XG4gICAgfVxuICAgIGlmIChmcmFnKSB7XG4gICAgICB0aGlzLl9sb2FkRnJhZ21lbnRPcktleShmcmFnLCBsZXZlbCwgbGV2ZWxEZXRhaWxzLCBwb3MsIGJ1ZmZlckVuZCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fZW5zdXJlRnJhZ21lbnRBdExpdmVQb2ludCA9IGZ1bmN0aW9uIF9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50KGxldmVsRGV0YWlscywgYnVmZmVyRW5kLCBzdGFydCwgZW5kLCBmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgZnJhZ0xlbikge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWcsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIHZhciBmcmFnID0gdm9pZCAwO1xuXG4gICAgLy8gY2hlY2sgaWYgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIHdpdGhpbiBzZWVrYWJsZSBib3VuZGFyaWVzIDpcbiAgICAvL2xvZ2dlci5sb2coYHN0YXJ0L3Bvcy9idWZFbmQvc2Vla2luZzoke3N0YXJ0LnRvRml4ZWQoMyl9LyR7cG9zLnRvRml4ZWQoMyl9LyR7YnVmZmVyRW5kLnRvRml4ZWQoMyl9LyR7dGhpcy5tZWRpYS5zZWVraW5nfWApO1xuICAgIHZhciBtYXhMYXRlbmN5ID0gY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uIDogY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCAqIGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbjtcblxuICAgIGlmIChidWZmZXJFbmQgPCBNYXRoLm1heChzdGFydCAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBlbmQgLSBtYXhMYXRlbmN5KSkge1xuICAgICAgdmFyIGxpdmVTeW5jUG9zaXRpb24gPSB0aGlzLmxpdmVTeW5jUG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc3RhcnQsIGxldmVsRGV0YWlscyk7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2J1ZmZlciBlbmQ6ICcgKyBidWZmZXJFbmQudG9GaXhlZCgzKSArICcgaXMgbG9jYXRlZCB0b28gZmFyIGZyb20gdGhlIGVuZCBvZiBsaXZlIHNsaWRpbmcgcGxheWxpc3QsIHJlc2V0IGN1cnJlbnRUaW1lIHRvIDogJyArIGxpdmVTeW5jUG9zaXRpb24udG9GaXhlZCgzKSk7XG4gICAgICBidWZmZXJFbmQgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLnJlYWR5U3RhdGUgJiYgbWVkaWEuZHVyYXRpb24gPiBsaXZlU3luY1Bvc2l0aW9uKSB7XG4gICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGxpdmVTeW5jUG9zaXRpb247XG4gICAgfVxuXG4gICAgLy8gaWYgZW5kIG9mIGJ1ZmZlciBncmVhdGVyIHRoYW4gbGl2ZSBlZGdlLCBkb24ndCBsb2FkIGFueSBmcmFnbWVudFxuICAgIC8vIHRoaXMgY291bGQgaGFwcGVuIGlmIGxpdmUgcGxheWxpc3QgaW50ZXJtaXR0ZW50bHkgc2xpZGVzIGluIHRoZSBwYXN0LlxuICAgIC8vIGxldmVsIDEgbG9hZGVkIFsxODI1ODAxNjEsMTgyNTgwMTY3XVxuICAgIC8vIGxldmVsIDEgbG9hZGVkIFsxODI1ODAxNjIsMTgyNTgwMTY5XVxuICAgIC8vIExvYWRpbmcgMTgyNTgwMTY4IG9mIFsxODI1ODAxNjIgLDE4MjU4MDE2OV0sbGV2ZWwgMSAuLlxuICAgIC8vIExvYWRpbmcgMTgyNTgwMTY5IG9mIFsxODI1ODAxNjIgLDE4MjU4MDE2OV0sbGV2ZWwgMSAuLlxuICAgIC8vIGxldmVsIDEgbG9hZGVkIFsxODI1ODAxNjIsMTgyNTgwMTY4XSA8PT09PT09PT09PT09PSBoZXJlIHdlIHNob3VsZCBoYXZlIGJ1ZmZlckVuZCA+IGVuZC4gaW4gdGhhdCBjYXNlIGJyZWFrIHRvIGF2b2lkIHJlbG9hZGluZyAxODI1ODAxNjhcbiAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTY0LDE4MjU4MDE3MV1cbiAgICAvL1xuICAgIC8vIGRvbid0IHJldHVybiBudWxsIGluIGNhc2UgbWVkaWEgbm90IGxvYWRlZCB5ZXQgKHJlYWR5c3RhdGUgPT09IDApXG4gICAgaWYgKGxldmVsRGV0YWlscy5QVFNLbm93biAmJiBidWZmZXJFbmQgPiBlbmQgJiYgbWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkICYmICFsZXZlbERldGFpbHMuUFRTS25vd24pIHtcbiAgICAgIC8qIHdlIGFyZSBzd2l0Y2hpbmcgbGV2ZWwgb24gbGl2ZSBwbGF5bGlzdCwgYnV0IHdlIGRvbid0IGhhdmUgYW55IFBUUyBpbmZvIGZvciB0aGF0IHF1YWxpdHkgbGV2ZWwgLi4uXG4gICAgICAgICB0cnkgdG8gbG9hZCBmcmFnIG1hdGNoaW5nIHdpdGggbmV4dCBTTi5cbiAgICAgICAgIGV2ZW4gaWYgU04gYXJlIG5vdCBzeW5jaHJvbml6ZWQgYmV0d2VlbiBwbGF5bGlzdHMsIGxvYWRpbmcgdGhpcyBmcmFnIHdpbGwgaGVscCB1c1xuICAgICAgICAgY29tcHV0ZSBwbGF5bGlzdCBzbGlkaW5nIGFuZCBmaW5kIHRoZSByaWdodCBvbmUgYWZ0ZXIgaW4gY2FzZSBpdCB3YXMgbm90IHRoZSByaWdodCBjb25zZWN1dGl2ZSBvbmUgKi9cbiAgICAgIGlmIChmcmFnUHJldmlvdXMpIHtcbiAgICAgICAgdmFyIHRhcmdldFNOID0gZnJhZ1ByZXZpb3VzLnNuICsgMTtcbiAgICAgICAgaWYgKHRhcmdldFNOID49IGxldmVsRGV0YWlscy5zdGFydFNOICYmIHRhcmdldFNOIDw9IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgIHZhciBmcmFnTmV4dCA9IGZyYWdtZW50c1t0YXJnZXRTTiAtIGxldmVsRGV0YWlscy5zdGFydFNOXTtcbiAgICAgICAgICBpZiAoZnJhZ1ByZXZpb3VzLmNjID09PSBmcmFnTmV4dC5jYykge1xuICAgICAgICAgICAgZnJhZyA9IGZyYWdOZXh0O1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIG5leHQgU046ICcgKyBmcmFnLnNuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBmcmFnIFNOIG5vdCBhdmFpbGFibGUgKG9yIG5vdCB3aXRoIHNhbWUgY29udGludWl0eSBjb3VudGVyKVxuICAgICAgICAvLyBsb29rIGZvciBhIGZyYWcgc2hhcmluZyB0aGUgc2FtZSBDQ1xuICAgICAgICBpZiAoIWZyYWcpIHtcbiAgICAgICAgICBmcmFnID0gYmluYXJ5X3NlYXJjaC5zZWFyY2goZnJhZ21lbnRzLCBmdW5jdGlvbiAoZnJhZykge1xuICAgICAgICAgICAgcmV0dXJuIGZyYWdQcmV2aW91cy5jYyAtIGZyYWcuY2M7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCBsb2FkIGZyYWcgd2l0aCBzYW1lIENDOiAnICsgZnJhZy5zbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZyYWcpIHtcbiAgICAgICAgLyogd2UgaGF2ZSBubyBpZGVhIGFib3V0IHdoaWNoIGZyYWdtZW50IHNob3VsZCBiZSBsb2FkZWQuXG4gICAgICAgICAgIHNvIGxldCdzIGxvYWQgbWlkIGZyYWdtZW50LiBpdCB3aWxsIGhlbHAgY29tcHV0aW5nIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGZpbmQgdGhlIHJpZ2h0IG9uZVxuICAgICAgICAqL1xuICAgICAgICBmcmFnID0gZnJhZ21lbnRzW01hdGgubWluKGZyYWdMZW4gLSAxLCBNYXRoLnJvdW5kKGZyYWdMZW4gLyAyKSldO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgdW5rbm93biwgbG9hZCBtaWRkbGUgZnJhZyA6ICcgKyBmcmFnLnNuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyYWc7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2ZpbmRGcmFnbWVudCA9IGZ1bmN0aW9uIF9maW5kRnJhZ21lbnQoc3RhcnQsIGZyYWdQcmV2aW91cywgZnJhZ0xlbiwgZnJhZ21lbnRzLCBidWZmZXJFbmQsIGVuZCwgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICB2YXIgZnJhZyA9IHZvaWQgMDtcbiAgICB2YXIgZm91bmRGcmFnID0gdm9pZCAwO1xuICAgIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgdmFyIGZyYWdOZXh0ID0gZnJhZ1ByZXZpb3VzID8gZnJhZ21lbnRzW2ZyYWdQcmV2aW91cy5zbiAtIGZyYWdtZW50c1swXS5zbiArIDFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QgPSBmdW5jdGlvbiBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoY2FuZGlkYXRlKSB7XG4gICAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgICAvLyB0aGlzIGlzIHRvIGNvcGUgd2l0aCBzaXR1YXRpb25zIGxpa2VcbiAgICAgIC8vIGJ1ZmZlckVuZCA9IDkuOTkxXG4gICAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgICAgLy8gZnJhZ1sxXSA6IFsxMCwyMF1cbiAgICAgIC8vIGJ1ZmZlckVuZCBpcyB3aXRoaW4gZnJhZ1swXSByYW5nZSAuLi4gYWx0aG91Z2ggd2hhdCB3ZSBhcmUgZXhwZWN0aW5nIGlzIHRvIHJldHVybiBmcmFnWzFdIGhlcmVcbiAgICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgICAgLy8gICAgICAgICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gICAgICAvLyAgICAgICAgICAgICAgPC0tLT4gICAgICAgICAgICAgICAgICAgICAgICAgPC0tLT5cbiAgICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAgIC8vIHByZXZpb3VzIGZyYWcgICAgICAgICBtYXRjaGluZyBmcmFnbWVudCAgICAgICAgIG5leHQgZnJhZ1xuICAgICAgLy8gIHJldHVybiAtMSAgICAgICAgICAgICByZXR1cm4gMCAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgIC8vbG9nZ2VyLmxvZyhgbGV2ZWwvc24vc3RhcnQvZW5kL2J1ZkVuZDoke2xldmVsfS8ke2NhbmRpZGF0ZS5zbn0vJHtjYW5kaWRhdGUuc3RhcnR9LyR7KGNhbmRpZGF0ZS5zdGFydCtjYW5kaWRhdGUuZHVyYXRpb24pfS8ke2J1ZmZlckVuZH1gKTtcbiAgICAgIC8vIFNldCB0aGUgbG9va3VwIHRvbGVyYW5jZSB0byBiZSBzbWFsbCBlbm91Z2ggdG8gZGV0ZWN0IHRoZSBjdXJyZW50IHNlZ21lbnQgLSBlbnN1cmVzIHdlIGRvbid0IHNraXAgb3ZlciB2ZXJ5IHNtYWxsIHNlZ21lbnRzXG4gICAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKTtcbiAgICAgIGlmIChjYW5kaWRhdGUuc3RhcnQgKyBjYW5kaWRhdGUuZHVyYXRpb24gLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPD0gYnVmZmVyRW5kKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfSAvLyBpZiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHdpbGwgaGF2ZSBuZWdhdGl2ZSB2YWx1ZSB0aGVuIGRvbid0IHJldHVybiAtMSBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmIGNhbmRpZGF0ZS5zdGFydCkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIGlmIChidWZmZXJFbmQgPCBlbmQpIHtcbiAgICAgIGlmIChidWZmZXJFbmQgPiBlbmQgLSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlKSB7XG4gICAgICAgIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwO1xuICAgICAgfVxuICAgICAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICAgICAgaWYgKGZyYWdOZXh0ICYmICFmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoZnJhZ05leHQpKSB7XG4gICAgICAgIGZvdW5kRnJhZyA9IGZyYWdOZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm91bmRGcmFnID0gYmluYXJ5X3NlYXJjaC5zZWFyY2goZnJhZ21lbnRzLCBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWFjaCBlbmQgb2YgcGxheWxpc3RcbiAgICAgIGZvdW5kRnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgfVxuICAgIGlmIChmb3VuZEZyYWcpIHtcbiAgICAgIGZyYWcgPSBmb3VuZEZyYWc7XG4gICAgICB2YXIgY3VyU05JZHggPSBmcmFnLnNuIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U047XG4gICAgICB2YXIgc2FtZUxldmVsID0gZnJhZ1ByZXZpb3VzICYmIGZyYWcubGV2ZWwgPT09IGZyYWdQcmV2aW91cy5sZXZlbDtcbiAgICAgIHZhciBwcmV2RnJhZyA9IGZyYWdtZW50c1tjdXJTTklkeCAtIDFdO1xuICAgICAgdmFyIG5leHRGcmFnID0gZnJhZ21lbnRzW2N1clNOSWR4ICsgMV07XG4gICAgICAvL2xvZ2dlci5sb2coJ2ZpbmQgU04gbWF0Y2hpbmcgd2l0aCBwb3M6JyArICBidWZmZXJFbmQgKyAnOicgKyBmcmFnLnNuKTtcbiAgICAgIGlmIChmcmFnUHJldmlvdXMgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgIGlmIChzYW1lTGV2ZWwgJiYgIWZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICBpZiAoZnJhZy5zbiA8IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgdmFyIGRlbHRhUFRTID0gZnJhZ1ByZXZpb3VzLmRlbHRhUFRTO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzaWduaWZpY2FudCBkZWx0YSBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbGFyZ2VyIHRoYW4gbWF4IGFsbG93ZWQgaG9sZSxcbiAgICAgICAgICAgIC8vIGFuZCBpZiBwcmV2aW91cyByZW11eGVkIGZyYWdtZW50IGRpZCBub3Qgc3RhcnQgd2l0aCBhIGtleWZyYW1lLiAoZnJhZ1ByZXZpb3VzLmRyb3BwZWQpXG4gICAgICAgICAgICAvLyBsZXQncyB0cnkgdG8gbG9hZCBwcmV2aW91cyBmcmFnbWVudCBhZ2FpbiB0byBnZXQgbGFzdCBrZXlmcmFtZVxuICAgICAgICAgICAgLy8gdGhlbiB3ZSB3aWxsIHJlbG9hZCBhZ2FpbiBjdXJyZW50IGZyYWdtZW50ICh0aGF0IHdheSB3ZSBzaG91bGQgYmUgYWJsZSB0byBmaWxsIHRoZSBidWZmZXIgaG9sZSAuLi4pXG4gICAgICAgICAgICBpZiAoZGVsdGFQVFMgJiYgZGVsdGFQVFMgPiBjb25maWcubWF4QnVmZmVySG9sZSAmJiBmcmFnUHJldmlvdXMuZHJvcHBlZCAmJiBjdXJTTklkeCkge1xuICAgICAgICAgICAgICBmcmFnID0gcHJldkZyYWc7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ1NOIGp1c3QgbG9hZGVkLCB3aXRoIGxhcmdlIFBUUyBnYXAgYmV0d2VlbiBhdWRpbyBhbmQgdmlkZW8sIG1heWJlIGZyYWcgaXMgbm90IHN0YXJ0aW5nIHdpdGggYSBrZXlmcmFtZSA/IGxvYWQgcHJldmlvdXMgb25lIHRvIHRyeSB0byBvdmVyY29tZSB0aGlzJyk7XG4gICAgICAgICAgICAgIC8vIGRlY3JlbWVudCBwcmV2aW91cyBmcmFnIGxvYWQgY291bnRlciB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciB3aGVuIG5leHQgZnJhZ21lbnQgd2lsbCBnZXQgcmVsb2FkZWRcbiAgICAgICAgICAgICAgZnJhZ1ByZXZpb3VzLmxvYWRDb3VudGVyLS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmcmFnID0gbmV4dEZyYWc7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnU04ganVzdCBsb2FkZWQsIGxvYWQgbmV4dCBvbmU6ICcgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhZyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAvLyBPbmx5IGJhY2t0cmFjayBhIG1heCBvZiAxIGNvbnNlY3V0aXZlIGZyYWdtZW50IHRvIHByZXZlbnQgc2xpZGluZyBiYWNrIHRvbyBmYXIgd2hlbiBsaXR0bGUgb3Igbm8gZnJhZ3Mgc3RhcnQgd2l0aCBrZXlmcmFtZXNcbiAgICAgICAgICBpZiAobmV4dEZyYWcgJiYgbmV4dEZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0FscmVhZHkgYmFja3RyYWNrZWQgZnJvbSBmcmFnbWVudCAnICsgbmV4dEZyYWcuc24gKyAnLCB3aWxsIG5vdCBiYWNrdHJhY2sgdG8gZnJhZ21lbnQgJyArIGZyYWcuc24gKyAnLiBMb2FkaW5nIGZyYWdtZW50ICcgKyBuZXh0RnJhZy5zbik7XG4gICAgICAgICAgICBmcmFnID0gbmV4dEZyYWc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGEgZnJhZ21lbnQgaGFzIGRyb3BwZWQgZnJhbWVzIGFuZCBpdCdzIGluIGEgc2FtZSBsZXZlbC9zZXF1ZW5jZSwgbG9hZCB0aGUgcHJldmlvdXMgZnJhZ21lbnQgdG8gdHJ5IGFuZCBmaW5kIHRoZSBrZXlmcmFtZVxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGRyb3BwZWQgY291bnQgbm93IHNpbmNlIGl0IHdvbid0IGJlIHJlc2V0IHVudGlsIHdlIHBhcnNlIHRoZSBmcmFnbWVudCBhZ2Fpbiwgd2hpY2ggcHJldmVudHMgaW5maW5pdGUgYmFja3RyYWNraW5nIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0xvYWRlZCBmcmFnbWVudCB3aXRoIGRyb3BwZWQgZnJhbWVzLCBiYWNrdHJhY2tpbmcgMSBzZWdtZW50IHRvIGZpbmQgYSBrZXlmcmFtZScpO1xuICAgICAgICAgICAgZnJhZy5kcm9wcGVkID0gMDtcbiAgICAgICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgICAgICBpZiAocHJldkZyYWcubG9hZENvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBwcmV2RnJhZy5sb2FkQ291bnRlci0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgIC8vIGNhbid0IGJhY2t0cmFjayBvbiB2ZXJ5IGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgICAgIGZyYWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZztcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fbG9hZEZyYWdtZW50T3JLZXkgPSBmdW5jdGlvbiBfbG9hZEZyYWdtZW50T3JLZXkoZnJhZywgbGV2ZWwsIGxldmVsRGV0YWlscywgcG9zLCBidWZmZXJFbmQpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIGNvbmZpZyA9IGhscy5jb25maWc7XG5cbiAgICAvL2xvZ2dlci5sb2coJ2xvYWRpbmcgZnJhZyAnICsgaSArJyxwb3MvYnVmRW5kOicgKyBwb3MudG9GaXhlZCgzKSArICcvJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICBpZiAoZnJhZy5kZWNyeXB0ZGF0YSAmJiBmcmFnLmRlY3J5cHRkYXRhLnVyaSAhPSBudWxsICYmIGZyYWcuZGVjcnlwdGRhdGEua2V5ID09IG51bGwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTG9hZGluZyBrZXkgZm9yICcgKyBmcmFnLnNuICsgJyBvZiBbJyArIGxldmVsRGV0YWlscy5zdGFydFNOICsgJyAsJyArIGxldmVsRGV0YWlscy5lbmRTTiArICddLGxldmVsICcgKyBsZXZlbCk7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuS0VZX0xPQURJTkc7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkaW5nICcgKyBmcmFnLnNuICsgJyBvZiBbJyArIGxldmVsRGV0YWlscy5zdGFydFNOICsgJyAsJyArIGxldmVsRGV0YWlscy5lbmRTTiArICddLGxldmVsICcgKyBsZXZlbCArICcsIGN1cnJlbnRUaW1lOicgKyBwb3MudG9GaXhlZCgzKSArICcsYnVmZmVyRW5kOicgKyBidWZmZXJFbmQudG9GaXhlZCgzKSk7XG4gICAgICAvLyBlbnN1cmUgdGhhdCB3ZSBhcmUgbm90IHJlbG9hZGluZyB0aGUgc2FtZSBmcmFnbWVudHMgaW4gbG9vcCAuLi5cbiAgICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5mcmFnTG9hZElkeCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mcmFnTG9hZElkeCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoZnJhZy5sb2FkQ291bnRlcikge1xuICAgICAgICBmcmFnLmxvYWRDb3VudGVyKys7XG4gICAgICAgIHZhciBtYXhUaHJlc2hvbGQgPSBjb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgICAvLyBpZiB0aGlzIGZyYWcgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQgMyB0aW1lcywgYW5kIGlmIGl0IGhhcyBiZWVuIHJlbG9hZGVkIHJlY2VudGx5XG4gICAgICAgIGlmIChmcmFnLmxvYWRDb3VudGVyID4gbWF4VGhyZXNob2xkICYmIE1hdGguYWJzKHRoaXMuZnJhZ0xvYWRJZHggLSBmcmFnLmxvYWRJZHgpIDwgbWF4VGhyZXNob2xkKSB7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT09QX0xPQURJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWcubG9hZENvdW50ZXIgPSAxO1xuICAgICAgfVxuICAgICAgZnJhZy5sb2FkSWR4ID0gdGhpcy5mcmFnTG9hZElkeDtcbiAgICAgIGZyYWcuYXV0b0xldmVsID0gaGxzLmF1dG9MZXZlbEVuYWJsZWQ7XG4gICAgICBmcmFnLmJpdHJhdGVUZXN0ID0gdGhpcy5iaXRyYXRlVGVzdDtcblxuICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAvLyBEb24ndCB1cGRhdGUgbmV4dExvYWRQb3NpdGlvbiBmb3IgZnJhZ21lbnRzIHdoaWNoIGFyZSBub3QgYnVmZmVyZWRcbiAgICAgIGlmICghaXNOYU4oZnJhZy5zbikgJiYgIWZyYWcuYml0cmF0ZVRlc3QpIHtcbiAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZnJhZy5zdGFydCArIGZyYWcuZHVyYXRpb247XG4gICAgICB9XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAvLyBsYXp5IGRlbXV4ZXIgaW5pdCwgYXMgdGhpcyBjb3VsZCB0YWtlIHNvbWUgdGltZSAuLi4gZG8gaXQgZHVyaW5nIGZyYWcgbG9hZGluZ1xuICAgICAgaWYgKCF0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgdGhpcy5kZW11eGVyID0gbmV3IGRlbXV4X2RlbXV4ZXIoaGxzLCAnbWFpbicpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkZSQUdfTE9BRElORztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0QnVmZmVyZWRGcmFnID0gZnVuY3Rpb24gZ2V0QnVmZmVyZWRGcmFnKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGJpbmFyeV9zZWFyY2guc2VhcmNoKHRoaXMuX2J1ZmZlcmVkRnJhZ3MsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICBpZiAocG9zaXRpb24gPCBmcmFnLnN0YXJ0UFRTKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPiBmcmFnLmVuZFBUUykge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmZvbGxvd2luZ0J1ZmZlcmVkRnJhZyA9IGZ1bmN0aW9uIGZvbGxvd2luZ0J1ZmZlcmVkRnJhZyhmcmFnKSB7XG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIC8vIHRyeSB0byBnZXQgcmFuZ2Ugb2YgbmV4dCBmcmFnbWVudCAoNTAwbXMgYWZ0ZXIgdGhpcyByYW5nZSlcbiAgICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcmVkRnJhZyhmcmFnLmVuZFBUUyArIDAuNSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9jaGVja0ZyYWdtZW50Q2hhbmdlZCA9IGZ1bmN0aW9uIF9jaGVja0ZyYWdtZW50Q2hhbmdlZCgpIHtcbiAgICB2YXIgZnJhZ1BsYXlpbmdDdXJyZW50LFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgdmlkZW8gPSB0aGlzLm1lZGlhO1xuICAgIGlmICh2aWRlbyAmJiB2aWRlby5yZWFkeVN0YXRlICYmIHZpZGVvLnNlZWtpbmcgPT09IGZhbHNlKSB7XG4gICAgICBjdXJyZW50VGltZSA9IHZpZGVvLmN1cnJlbnRUaW1lO1xuICAgICAgLyogaWYgdmlkZW8gZWxlbWVudCBpcyBpbiBzZWVrZWQgc3RhdGUsIGN1cnJlbnRUaW1lIGNhbiBvbmx5IGluY3JlYXNlLlxuICAgICAgICAoYXNzdW1pbmcgdGhhdCBwbGF5YmFjayByYXRlIGlzIHBvc2l0aXZlIC4uLilcbiAgICAgICAgQXMgc29tZXRpbWVzIGN1cnJlbnRUaW1lIGp1bXBzIGJhY2sgdG8gemVybyBhZnRlciBhXG4gICAgICAgIG1lZGlhIGRlY29kZSBlcnJvciwgY2hlY2sgdGhpcywgdG8gYXZvaWQgc2Vla2luZyBiYWNrIHRvXG4gICAgICAgIHdyb25nIHBvc2l0aW9uIGFmdGVyIGEgbWVkaWEgZGVjb2RlIGVycm9yXG4gICAgICAqL1xuICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdmlkZW8ucGxheWJhY2tSYXRlICogdGhpcy5sYXN0Q3VycmVudFRpbWUpIHtcbiAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgIH1cbiAgICAgIGlmIChidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQodmlkZW8sIGN1cnJlbnRUaW1lKSkge1xuICAgICAgICBmcmFnUGxheWluZ0N1cnJlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkRnJhZyhjdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2UgaWYgKGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUgKyAwLjEpKSB7XG4gICAgICAgIC8qIGVuc3VyZSB0aGF0IEZSQUdfQ0hBTkdFRCBldmVudCBpcyB0cmlnZ2VyZWQgYXQgc3RhcnR1cCxcbiAgICAgICAgICB3aGVuIGZpcnN0IHZpZGVvIGZyYW1lIGlzIGRpc3BsYXllZCBhbmQgcGxheWJhY2sgaXMgcGF1c2VkLlxuICAgICAgICAgIGFkZCBhIHRvbGVyYW5jZSBvZiAxMDBtcywgaW4gY2FzZSBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCxcbiAgICAgICAgICBjaGVjayBpZiBjdXJyZW50IHBvcysxMDBtcyBpcyBidWZmZXJlZCBhbmQgdXNlIHRoYXQgYnVmZmVyIHJhbmdlXG4gICAgICAgICAgZm9yIEZSQUdfQ0hBTkdFRCBldmVudCByZXBvcnRpbmcgKi9cbiAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcoY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgfVxuICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCkge1xuICAgICAgICB2YXIgZnJhZ1BsYXlpbmcgPSBmcmFnUGxheWluZ0N1cnJlbnQ7XG4gICAgICAgIGlmIChmcmFnUGxheWluZyAhPT0gdGhpcy5mcmFnUGxheWluZykge1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQ0hBTkdFRCwgeyBmcmFnOiBmcmFnUGxheWluZyB9KTtcbiAgICAgICAgICB2YXIgZnJhZ1BsYXlpbmdMZXZlbCA9IGZyYWdQbGF5aW5nLmxldmVsO1xuICAgICAgICAgIGlmICghdGhpcy5mcmFnUGxheWluZyB8fCB0aGlzLmZyYWdQbGF5aW5nLmxldmVsICE9PSBmcmFnUGxheWluZ0xldmVsKSB7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0hFRCwgeyBsZXZlbDogZnJhZ1BsYXlpbmdMZXZlbCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5mcmFnUGxheWluZyA9IGZyYWdQbGF5aW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCA6XG4gICAgIC0gcGF1c2UgcGxheWJhY2sgaWYgcGxheWluZ1xuICAgICAtIGNhbmNlbCBhbnkgcGVuZGluZyBsb2FkIHJlcXVlc3RcbiAgICAgLSBhbmQgdHJpZ2dlciBhIGJ1ZmZlciBmbHVzaFxuICAqL1xuXG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuaW1tZWRpYXRlTGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiBpbW1lZGlhdGVMZXZlbFN3aXRjaCgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2ltbWVkaWF0ZUxldmVsU3dpdGNoJyk7XG4gICAgaWYgKCF0aGlzLmltbWVkaWF0ZVN3aXRjaCkge1xuICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSB0cnVlO1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgICBwcmV2aW91c2x5UGF1c2VkID0gdm9pZCAwO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHByZXZpb3VzbHlQYXVzZWQgPSBtZWRpYS5wYXVzZWQ7XG4gICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkb24ndCByZXN0YXJ0IHBsYXliYWNrIGFmdGVyIGluc3RhbnQgbGV2ZWwgc3dpdGNoIGluIGNhc2UgbWVkaWEgbm90IGF0dGFjaGVkXG4gICAgICAgIHByZXZpb3VzbHlQYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5wcmV2aW91c2x5UGF1c2VkID0gcHJldmlvdXNseVBhdXNlZDtcbiAgICB9XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICBmcmFnQ3VycmVudC5sb2FkZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgLy8gaW5jcmVhc2UgZnJhZ21lbnQgbG9hZCBJbmRleCB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciBhZnRlciBidWZmZXIgZmx1c2hcbiAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmZyYWdMb2FkSWR4ICs9IDIgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICB9O1xuXG4gIC8qXG4gICAgIG9uIGltbWVkaWF0ZSBsZXZlbCBzd2l0Y2ggZW5kLCBhZnRlciBuZXcgZnJhZ21lbnQgaGFzIGJlZW4gYnVmZmVyZWQgOlxuICAgICAgLSBudWRnZSB2aWRlbyBkZWNvZGVyIGJ5IHNsaWdodGx5IGFkanVzdGluZyB2aWRlbyBjdXJyZW50VGltZSAoaWYgY3VycmVudFRpbWUgYnVmZmVyZWQpXG4gICAgICAtIHJlc3VtZSB0aGUgcGxheWJhY2sgaWYgbmVlZGVkXG4gICovXG5cblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCA9IGZ1bmN0aW9uIGltbWVkaWF0ZUxldmVsU3dpdGNoRW5kKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhICYmIG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSBmYWxzZTtcbiAgICAgIGlmIChidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIG1lZGlhLmN1cnJlbnRUaW1lKSkge1xuICAgICAgICAvLyBvbmx5IG51ZGdlIGlmIGN1cnJlbnRUaW1lIGlzIGJ1ZmZlcmVkXG4gICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lIC09IDAuMDAwMTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wcmV2aW91c2x5UGF1c2VkKSB7XG4gICAgICAgIG1lZGlhLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUubmV4dExldmVsU3dpdGNoID0gZnVuY3Rpb24gbmV4dExldmVsU3dpdGNoKCkge1xuICAgIC8qIHRyeSB0byBzd2l0Y2ggQVNBUCB3aXRob3V0IGJyZWFraW5nIHZpZGVvIHBsYXliYWNrIDpcbiAgICAgICBpbiBvcmRlciB0byBlbnN1cmUgc21vb3RoIGJ1dCBxdWljayBsZXZlbCBzd2l0Y2hpbmcsXG4gICAgICB3ZSBuZWVkIHRvIGZpbmQgdGhlIG5leHQgZmx1c2hhYmxlIGJ1ZmZlciByYW5nZVxuICAgICAgd2Ugc2hvdWxkIHRha2UgaW50byBhY2NvdW50IG5ldyBzZWdtZW50IGZldGNoIHRpbWVcbiAgICAqL1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgLy8gZW5zdXJlIHRoYXQgbWVkaWEgaXMgZGVmaW5lZCBhbmQgdGhhdCBtZXRhZGF0YSBhcmUgYXZhaWxhYmxlICh0byByZXRyaWV2ZSBjdXJyZW50VGltZSlcbiAgICBpZiAobWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgdmFyIGZldGNoZGVsYXkgPSB2b2lkIDAsXG4gICAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdm9pZCAwLFxuICAgICAgICAgIG5leHRCdWZmZXJlZEZyYWcgPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGluY3JlYXNlIGZyYWdtZW50IGxvYWQgSW5kZXggdG8gYXZvaWQgZnJhZyBsb29wIGxvYWRpbmcgZXJyb3IgYWZ0ZXIgYnVmZmVyIGZsdXNoXG4gICAgICAgIHRoaXMuZnJhZ0xvYWRJZHggKz0gMiAqIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTG9vcFRocmVzaG9sZDtcbiAgICAgIH1cbiAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lKTtcbiAgICAgIGlmIChmcmFnUGxheWluZ0N1cnJlbnQgJiYgZnJhZ1BsYXlpbmdDdXJyZW50LnN0YXJ0UFRTID4gMSkge1xuICAgICAgICAvLyBmbHVzaCBidWZmZXIgcHJlY2VkaW5nIGN1cnJlbnQgZnJhZ21lbnQgKGZsdXNoIHVudGlsIGN1cnJlbnQgZnJhZ21lbnQgc3RhcnQgb2Zmc2V0KVxuICAgICAgICAvLyBtaW51cyAxcyB0byBhdm9pZCB2aWRlbyBmcmVlemluZywgdGhhdCBjb3VsZCBoYXBwZW4gaWYgd2UgZmx1c2gga2V5ZnJhbWUgb2YgY3VycmVudCB2aWRlbyAuLi5cbiAgICAgICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoMCwgZnJhZ1BsYXlpbmdDdXJyZW50LnN0YXJ0UFRTIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoIW1lZGlhLnBhdXNlZCkge1xuICAgICAgICAvLyBhZGQgYSBzYWZldHkgZGVsYXkgb2YgMXNcbiAgICAgICAgdmFyIG5leHRMZXZlbElkID0gdGhpcy5obHMubmV4dExvYWRMZXZlbCxcbiAgICAgICAgICAgIG5leHRMZXZlbCA9IHRoaXMubGV2ZWxzW25leHRMZXZlbElkXSxcbiAgICAgICAgICAgIGZyYWdMYXN0S2JwcyA9IHRoaXMuZnJhZ0xhc3RLYnBzO1xuICAgICAgICBpZiAoZnJhZ0xhc3RLYnBzICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICBmZXRjaGRlbGF5ID0gdGhpcy5mcmFnQ3VycmVudC5kdXJhdGlvbiAqIG5leHRMZXZlbC5iaXRyYXRlIC8gKDEwMDAgKiBmcmFnTGFzdEticHMpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hkZWxheSA9IDA7XG4gICAgICB9XG4gICAgICAvL2xvZ2dlci5sb2coJ2ZldGNoZGVsYXk6JytmZXRjaGRlbGF5KTtcbiAgICAgIC8vIGZpbmQgYnVmZmVyIHJhbmdlIHRoYXQgd2lsbCBiZSByZWFjaGVkIG9uY2UgbmV3IGZyYWdtZW50IHdpbGwgYmUgZmV0Y2hlZFxuICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lICsgZmV0Y2hkZWxheSk7XG4gICAgICBpZiAobmV4dEJ1ZmZlcmVkRnJhZykge1xuICAgICAgICAvLyB3ZSBjYW4gZmx1c2ggYnVmZmVyIHJhbmdlIGZvbGxvd2luZyB0aGlzIG9uZSB3aXRob3V0IHN0YWxsaW5nIHBsYXliYWNrXG4gICAgICAgIG5leHRCdWZmZXJlZEZyYWcgPSB0aGlzLmZvbGxvd2luZ0J1ZmZlcmVkRnJhZyhuZXh0QnVmZmVyZWRGcmFnKTtcbiAgICAgICAgaWYgKG5leHRCdWZmZXJlZEZyYWcpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGVyZSwgd2UgY2FuIGFsc28gY2FuY2VsIGFueSBsb2FkaW5nL2RlbXV4aW5nIGluIHByb2dyZXNzLCBhcyB0aGV5IGFyZSB1c2VsZXNzXG4gICAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgICAgICBmcmFnQ3VycmVudC5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgICAgLy8gc3RhcnQgZmx1c2ggcG9zaXRpb24gaXMgdGhlIHN0YXJ0IFBUUyBvZiBuZXh0IGJ1ZmZlcmVkIGZyYWcuXG4gICAgICAgICAgLy8gd2UgdXNlIGZyYWcubmF4U3RhcnRQVFMgd2hpY2ggaXMgbWF4KGF1ZGlvIHN0YXJ0UFRTLCB2aWRlbyBzdGFydFBUUykuXG4gICAgICAgICAgLy8gaW4gY2FzZSB0aGVyZSBpcyBhIHNtYWxsIFBUUyBEZWx0YSBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgdXNpbmcgbWF4U3RhcnRQVFMgYXZvaWRzIGZsdXNoaW5nIGxhc3Qgc2FtcGxlcyBmcm9tIGN1cnJlbnQgZnJhZ21lbnRcbiAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcihuZXh0QnVmZmVyZWRGcmFnLm1heFN0YXJ0UFRTLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoTWFpbkJ1ZmZlciA9IGZ1bmN0aW9uIGZsdXNoTWFpbkJ1ZmZlcihzdGFydE9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICB2YXIgZmx1c2hTY29wZSA9IHsgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQ6IGVuZE9mZnNldCB9O1xuICAgIC8vIGlmIGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgYXJlIHVzZWQsIG9ubHkgZmx1c2ggdmlkZW8sIG90aGVyd2lzZSBmbHVzaCBldmVyeXRoaW5nXG4gICAgaWYgKHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgIGZsdXNoU2NvcGUudHlwZSA9ICd2aWRlbyc7XG4gICAgfVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgZmx1c2hTY29wZSk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGVkKGRhdGEpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA9IGRhdGEubWVkaWE7XG4gICAgdGhpcy5vbnZzZWVraW5nID0gdGhpcy5vbk1lZGlhU2Vla2luZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub252c2Vla2VkID0gdGhpcy5vbk1lZGlhU2Vla2VkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbnZlbmRlZCA9IHRoaXMub25NZWRpYUVuZGVkLmJpbmQodGhpcyk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub252c2Vla2luZyk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbnZlbmRlZCk7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmICh0aGlzLmxldmVscyAmJiBjb25maWcuYXV0b1N0YXJ0TG9hZCkge1xuICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVNFIGRldGFjaGluZyBhbmQgdmlkZW8gZW5kZWQsIHJlc2V0IHN0YXJ0UG9zaXRpb24nKTtcbiAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG5cbiAgICAvLyByZXNldCBmcmFnbWVudCBsb2FkaW5nIGNvdW50ZXIgb24gTVNFIGRldGFjaGluZyB0byBhdm9pZCByZXBvcnRpbmcgRlJBR19MT09QX0xPQURJTkdfRVJST1IgYWZ0ZXIgZXJyb3IgcmVjb3ZlcnlcbiAgICB2YXIgbGV2ZWxzID0gdGhpcy5sZXZlbHM7XG4gICAgaWYgKGxldmVscykge1xuICAgICAgLy8gcmVzZXQgZnJhZ21lbnQgbG9hZCBjb3VudGVyXG4gICAgICBsZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgaWYgKGxldmVsLmRldGFpbHMpIHtcbiAgICAgICAgICBsZXZlbC5kZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICAgICAgZnJhZ21lbnQubG9hZENvdW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBmcmFnbWVudC5iYWNrdHJhY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSB2aWRlbyBsaXN0ZW5lcnNcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wTG9hZCgpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTZWVraW5nID0gZnVuY3Rpb24gb25NZWRpYVNlZWtpbmcoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgY3VycmVudFRpbWUgPSBtZWRpYSA/IG1lZGlhLmN1cnJlbnRUaW1lIDogdW5kZWZpbmVkLFxuICAgICAgICBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIWlzTmFOKGN1cnJlbnRUaW1lKSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYSBzZWVraW5nIHRvICcgKyBjdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICB9XG4gICAgdmFyIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYTtcbiAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXIuYnVmZmVySW5mbyhtZWRpYUJ1ZmZlciwgY3VycmVudFRpbWUsIHRoaXMuY29uZmlnLm1heEJ1ZmZlckhvbGUpO1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5GUkFHX0xPQURJTkcpIHtcbiAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgc2Vla2luZyB0byBhIHVuYnVmZmVyZWQgYXJlYSBBTkQgaWYgZnJhZyBsb2FkaW5nIGlzIGluIHByb2dyZXNzXG4gICAgICBpZiAoYnVmZmVySW5mby5sZW4gPT09IDAgJiYgZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgdmFyIHRvbGVyYW5jZSA9IGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlLFxuICAgICAgICAgICAgZnJhZ1N0YXJ0T2Zmc2V0ID0gZnJhZ0N1cnJlbnQuc3RhcnQgLSB0b2xlcmFuY2UsXG4gICAgICAgICAgICBmcmFnRW5kT2Zmc2V0ID0gZnJhZ0N1cnJlbnQuc3RhcnQgKyBmcmFnQ3VycmVudC5kdXJhdGlvbiArIHRvbGVyYW5jZTtcbiAgICAgICAgLy8gY2hlY2sgaWYgd2Ugc2VlayBwb3NpdGlvbiB3aWxsIGJlIG91dCBvZiBjdXJyZW50bHkgbG9hZGVkIGZyYWcgcmFuZ2UgOiBpZiBvdXQgY2FuY2VsIGZyYWcgbG9hZCwgaWYgaW4sIGRvbid0IGRvIGFueXRoaW5nXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA8IGZyYWdTdGFydE9mZnNldCB8fCBjdXJyZW50VGltZSA+IGZyYWdFbmRPZmZzZXQpIHtcbiAgICAgICAgICBpZiAoZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NlZWtpbmcgb3V0c2lkZSBvZiBidWZmZXIgd2hpbGUgZnJhZ21lbnQgbG9hZCBpbiBwcm9ncmVzcywgY2FuY2VsIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gbG9hZCBuZXcgZnJhZ21lbnRcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NlZWtpbmcgb3V0c2lkZSBvZiBidWZmZXIgYnV0IHdpdGhpbiBjdXJyZW50bHkgbG9hZGVkIGZyYWdtZW50IHJhbmdlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkVOREVEKSB7XG4gICAgICAvLyBpZiBzZWVraW5nIHRvIHVuYnVmZmVyZWQgYXJlYSwgY2xlYW4gdXAgZnJhZ1ByZXZpb3VzXG4gICAgICBpZiAoYnVmZmVySW5mby5sZW4gPT09IDApIHtcbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSAwO1xuICAgICAgfVxuICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gY2hlY2sgZm9yIHBvdGVudGlhbCBuZXcgZnJhZ21lbnRcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIH1cbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfVxuICAgIC8vIGF2b2lkIHJlcG9ydGluZyBmcmFnbWVudCBsb29wIGxvYWRpbmcgZXJyb3IgaW4gY2FzZSB1c2VyIGlzIHNlZWtpbmcgc2V2ZXJhbCB0aW1lcyBvbiBzYW1lIHBvc2l0aW9uXG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlLkZSQUdfTE9BRElORyAmJiB0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZnJhZ0xvYWRJZHggKz0gMiAqIGNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8vIGluIGNhc2Ugc2Vla2luZyBvY2N1cnMgYWx0aG91Z2ggbm8gbWVkaWEgYnVmZmVyZWQsIGFkanVzdCBzdGFydFBvc2l0aW9uIGFuZCBuZXh0TG9hZFBvc2l0aW9uIHRvIHNlZWsgdGFyZ2V0XG4gICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSBjdXJyZW50VGltZTtcbiAgICB9XG4gICAgLy8gdGljayB0byBzcGVlZCB1cCBwcm9jZXNzaW5nXG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNlZWtlZCA9IGZ1bmN0aW9uIG9uTWVkaWFTZWVrZWQoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgY3VycmVudFRpbWUgPSBtZWRpYSA/IG1lZGlhLmN1cnJlbnRUaW1lIDogdW5kZWZpbmVkO1xuICAgIGlmICghaXNOYU4oY3VycmVudFRpbWUpKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNlZWtlZCB0byAnICsgY3VycmVudFRpbWUudG9GaXhlZCgzKSk7XG4gICAgfVxuICAgIC8vIHRpY2sgdG8gc3BlZWQgdXAgRlJBR01FTlRfUExBWUlORyB0cmlnZ2VyaW5nXG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUVuZGVkID0gZnVuY3Rpb24gb25NZWRpYUVuZGVkKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgZW5kZWQnKTtcbiAgICAvLyByZXNldCBzdGFydFBvc2l0aW9uIGFuZCBsYXN0Q3VycmVudFRpbWUgdG8gcmVzdGFydCBwbGF5YmFjayBAIHN0cmVhbSBiZWdpbm5pbmdcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICAvLyByZXNldCBidWZmZXIgb24gbWFuaWZlc3QgbG9hZGluZ1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndHJpZ2dlciBCVUZGRVJfUkVTRVQnKTtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfUkVTRVQpO1xuICAgIHRoaXMuX2J1ZmZlcmVkRnJhZ3MgPSBbXTtcbiAgICB0aGlzLnN0YWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RQYXJzZWQoZGF0YSkge1xuICAgIHZhciBhYWMgPSBmYWxzZSxcbiAgICAgICAgaGVhYWMgPSBmYWxzZSxcbiAgICAgICAgY29kZWM7XG4gICAgZGF0YS5sZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIC8vIGRldGVjdCBpZiB3ZSBoYXZlIGRpZmZlcmVudCBraW5kIG9mIGF1ZGlvIGNvZGVjcyB1c2VkIGFtb25nc3QgcGxheWxpc3RzXG4gICAgICBjb2RlYyA9IGxldmVsLmF1ZGlvQ29kZWM7XG4gICAgICBpZiAoY29kZWMpIHtcbiAgICAgICAgaWYgKGNvZGVjLmluZGV4T2YoJ21wNGEuNDAuMicpICE9PSAtMSkge1xuICAgICAgICAgIGFhYyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkge1xuICAgICAgICAgIGhlYWFjID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuYXVkaW9Db2RlY1N3aXRjaCA9IGFhYyAmJiBoZWFhYztcbiAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2JvdGggQUFDL0hFLUFBQyBhdWRpbyBmb3VuZCBpbiBsZXZlbHM7IGRlY2xhcmluZyBsZXZlbCBjb2RlYyBhcyBIRS1BQUMnKTtcbiAgICB9XG4gICAgdGhpcy5sZXZlbHMgPSBkYXRhLmxldmVscztcbiAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoY29uZmlnLmF1dG9TdGFydExvYWQgfHwgdGhpcy5mb3JjZVN0YXJ0TG9hZCkge1xuICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIG9uTGV2ZWxMb2FkZWQoZGF0YSkge1xuICAgIHZhciBuZXdEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgIHZhciBuZXdMZXZlbElkID0gZGF0YS5sZXZlbDtcbiAgICB2YXIgbGFzdExldmVsID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbExhc3RMb2FkZWRdO1xuICAgIHZhciBjdXJMZXZlbCA9IHRoaXMubGV2ZWxzW25ld0xldmVsSWRdO1xuICAgIHZhciBkdXJhdGlvbiA9IG5ld0RldGFpbHMudG90YWxkdXJhdGlvbjtcbiAgICB2YXIgc2xpZGluZyA9IDA7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xldmVsICcgKyBuZXdMZXZlbElkICsgJyBsb2FkZWQgWycgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyAnLCcgKyBuZXdEZXRhaWxzLmVuZFNOICsgJ10sZHVyYXRpb246JyArIGR1cmF0aW9uKTtcblxuICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgIHZhciBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gd2UgYWxyZWFkeSBoYXZlIGRldGFpbHMgZm9yIHRoYXQgbGV2ZWwsIG1lcmdlIHRoZW1cbiAgICAgICAgbWVyZ2VEZXRhaWxzKGN1ckRldGFpbHMsIG5ld0RldGFpbHMpO1xuICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgIHRoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzbGlkaW5nLCBjdXJEZXRhaWxzKTtcbiAgICAgICAgaWYgKG5ld0RldGFpbHMuUFRTS25vd24gJiYgIWlzTmFOKHNsaWRpbmcpKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0IHNsaWRpbmc6JyArIHNsaWRpbmcudG9GaXhlZCgzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0IC0gb3V0ZGF0ZWQgUFRTLCB1bmtub3duIHNsaWRpbmcnKTtcbiAgICAgICAgICBhbGlnbkRpc2NvbnRpbnVpdGllcyh0aGlzLmZyYWdQcmV2aW91cywgbGFzdExldmVsLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICAgICAgYWxpZ25EaXNjb250aW51aXRpZXModGhpcy5mcmFnUHJldmlvdXMsIGxhc3RMZXZlbCwgbmV3RGV0YWlscyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gb3ZlcnJpZGUgbGV2ZWwgaW5mb1xuICAgIGN1ckxldmVsLmRldGFpbHMgPSBuZXdEZXRhaWxzO1xuICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkID0gbmV3TGV2ZWxJZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9VUERBVEVELCB7IGRldGFpbHM6IG5ld0RldGFpbHMsIGxldmVsOiBuZXdMZXZlbElkIH0pO1xuXG4gICAgaWYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gY29tcHV0ZSBzdGFydCBwb3NpdGlvbiBpZiBzZXQgdG8gLTEuIHVzZSBpdCBzdHJhaWdodCBhd2F5IGlmIHZhbHVlIGlzIGRlZmluZWRcbiAgICAgIGlmICh0aGlzLnN0YXJ0UG9zaXRpb24gPT09IC0xIHx8IHRoaXMubGFzdEN1cnJlbnRUaW1lID09PSAtMSkge1xuICAgICAgICAvLyBmaXJzdCwgY2hlY2sgaWYgc3RhcnQgdGltZSBvZmZzZXQgaGFzIGJlZW4gc2V0IGluIHBsYXlsaXN0LCBpZiB5ZXMsIHVzZSB0aGlzIHZhbHVlXG4gICAgICAgIHZhciBzdGFydFRpbWVPZmZzZXQgPSBuZXdEZXRhaWxzLnN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgaWYgKCFpc05hTihzdGFydFRpbWVPZmZzZXQpKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0VGltZU9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbmVnYXRpdmUgc3RhcnQgdGltZSBvZmZzZXQgJyArIHN0YXJ0VGltZU9mZnNldCArICcsIGNvdW50IGZyb20gZW5kIG9mIGxhc3QgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgIHN0YXJ0VGltZU9mZnNldCA9IHNsaWRpbmcgKyBkdXJhdGlvbiArIHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzdGFydCB0aW1lIG9mZnNldCBmb3VuZCBpbiBwbGF5bGlzdCwgYWRqdXN0IHN0YXJ0UG9zaXRpb24gdG8gJyArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIHNldCBzdGFydCBwb3NpdGlvbiB0byBiZSBmcmFnbWVudCBOLXRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCAodXN1YWxseSAzKVxuICAgICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzbGlkaW5nLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnY29uZmlndXJlIHN0YXJ0UG9zaXRpb24gdG8gJyArIHRoaXMuc3RhcnRQb3NpdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgIH1cbiAgICAvLyBvbmx5IHN3aXRjaCBiYXRjayB0byBJRExFIHN0YXRlIGlmIHdlIHdlcmUgd2FpdGluZyBmb3IgbGV2ZWwgdG8gc3RhcnQgZG93bmxvYWRpbmcgYSBuZXcgZnJhZ21lbnRcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuV0FJVElOR19MRVZFTCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgfVxuICAgIC8vdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gb25LZXlMb2FkZWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkZWQoZGF0YSkge1xuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQsXG4gICAgICAgIGZyYWdMb2FkZWQgPSBkYXRhLmZyYWc7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZSQUdfTE9BRElORyAmJiBmcmFnQ3VycmVudCAmJiBmcmFnTG9hZGVkLnR5cGUgPT09ICdtYWluJyAmJiBmcmFnTG9hZGVkLmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiBmcmFnTG9hZGVkLnNuID09PSBmcmFnQ3VycmVudC5zbikge1xuICAgICAgdmFyIHN0YXRzID0gZGF0YS5zdGF0cyxcbiAgICAgICAgICBjdXJyZW50TGV2ZWwgPSB0aGlzLmxldmVsc1tmcmFnQ3VycmVudC5sZXZlbF0sXG4gICAgICAgICAgZGV0YWlscyA9IGN1cnJlbnRMZXZlbC5kZXRhaWxzO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkZWQgICcgKyBmcmFnQ3VycmVudC5zbiArICcgb2YgWycgKyBkZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgZGV0YWlscy5lbmRTTiArICddLGxldmVsICcgKyBmcmFnQ3VycmVudC5sZXZlbCk7XG4gICAgICAvLyByZXNldCBmcmFnIGJpdHJhdGUgdGVzdCBpbiBhbnkgY2FzZSBhZnRlciBmcmFnIGxvYWRlZCBldmVudFxuICAgICAgdGhpcy5iaXRyYXRlVGVzdCA9IGZhbHNlO1xuICAgICAgdGhpcy5zdGF0cyA9IHN0YXRzO1xuICAgICAgLy8gaWYgdGhpcyBmcmFnIHdhcyBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCBBTkQgaWYgaGxzLm5leHRMb2FkTGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgIC8vIHRoZW4gdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCBiZSBhYmxlIHRvIGxvYWQgYSBmcmFnbWVudCBhdCBhIGhpZ2hlciBxdWFsaXR5IGxldmVsXG4gICAgICBpZiAoZnJhZ0xvYWRlZC5iaXRyYXRlVGVzdCA9PT0gdHJ1ZSAmJiB0aGlzLmhscy5uZXh0TG9hZExldmVsKSB7XG4gICAgICAgIC8vIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgLi4uIHdlIGp1c3QgbG9hZGVkIGEgZnJhZ21lbnQgdG8gZGV0ZXJtaW5lIGFkZXF1YXRlIHN0YXJ0IGJpdHJhdGUgYW5kIGluaXRpYWxpemUgYXV0b3N3aXRjaCBhbGdvXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICBzdGF0cy50cGFyc2VkID0gc3RhdHMudGJ1ZmZlcmVkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdtYWluJyB9KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKGZyYWdMb2FkZWQuc24gPT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgZGV0YWlscy5pbml0U2VnbWVudC5kYXRhID0gZGF0YS5wYXlsb2FkO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZ0N1cnJlbnQsIGlkOiAnbWFpbicgfSk7XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlBBUlNJTkc7XG4gICAgICAgIC8vIHRyYW5zbXV4IHRoZSBNUEVHLVRTIGRhdGEgdG8gSVNPLUJNRkYgc2VnbWVudHNcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gZGV0YWlscy50b3RhbGR1cmF0aW9uLFxuICAgICAgICAgICAgbGV2ZWwgPSBmcmFnQ3VycmVudC5sZXZlbCxcbiAgICAgICAgICAgIHNuID0gZnJhZ0N1cnJlbnQuc24sXG4gICAgICAgICAgICBhdWRpb0NvZGVjID0gdGhpcy5jb25maWcuZGVmYXVsdEF1ZGlvQ29kZWMgfHwgY3VycmVudExldmVsLmF1ZGlvQ29kZWM7XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2FwKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2FwcGluZyBwbGF5bGlzdCBhdWRpbyBjb2RlYycpO1xuICAgICAgICAgIGlmIChhdWRpb0NvZGVjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSB0aGlzLmxhc3RBdWRpb0NvZGVjO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hcHBlbmRlZCA9IGZhbHNlO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1BhcnNpbmcgJyArIHNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sbGV2ZWwgJyArIGxldmVsICsgJywgY2MgJyArIGZyYWdDdXJyZW50LmNjKTtcbiAgICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgICAgIGlmICghZGVtdXhlcikge1xuICAgICAgICAgIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhfZGVtdXhlcih0aGlzLmhscywgJ21haW4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aW1lIE9mZnNldCBpcyBhY2N1cmF0ZSBpZiBsZXZlbCBQVFMgaXMga25vd24sIG9yIGlmIHBsYXlsaXN0IGlzIG5vdCBzbGlkaW5nIChub3QgbGl2ZSkgYW5kIGlmIG1lZGlhIGlzIG5vdCBzZWVraW5nICh0aGlzIGlzIHRvIG92ZXJjb21lIHBvdGVudGlhbCB0aW1lc3RhbXAgZHJpZnRzIGJldHdlZW4gcGxheWxpc3RzIGFuZCBmcmFnbWVudHMpXG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIHZhciBtZWRpYVNlZWtpbmcgPSBtZWRpYSAmJiBtZWRpYS5zZWVraW5nO1xuICAgICAgICB2YXIgYWNjdXJhdGVUaW1lT2Zmc2V0ID0gIW1lZGlhU2Vla2luZyAmJiAoZGV0YWlscy5QVFNLbm93biB8fCAhZGV0YWlscy5saXZlKTtcbiAgICAgICAgdmFyIGluaXRTZWdtZW50RGF0YSA9IGRldGFpbHMuaW5pdFNlZ21lbnQgPyBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgOiBbXTtcbiAgICAgICAgZGVtdXhlci5wdXNoKGRhdGEucGF5bG9hZCwgaW5pdFNlZ21lbnREYXRhLCBhdWRpb0NvZGVjLCBjdXJyZW50TGV2ZWwudmlkZW9Db2RlYywgZnJhZ0N1cnJlbnQsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0luaXRTZWdtZW50ID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0luaXRTZWdtZW50KGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnbWFpbicgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgdGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgdmFyIHRyYWNrcyA9IGRhdGEudHJhY2tzLFxuICAgICAgICAgIHRyYWNrTmFtZSxcbiAgICAgICAgICB0cmFjaztcblxuICAgICAgLy8gaWYgYXVkaW8gdHJhY2sgaXMgZXhwZWN0ZWQgdG8gY29tZSBmcm9tIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyLCBkaXNjYXJkIGFueSBjb21pbmcgZnJvbSBtYWluXG4gICAgICBpZiAodHJhY2tzLmF1ZGlvICYmIHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgICAgZGVsZXRlIHRyYWNrcy5hdWRpbztcbiAgICAgIH1cbiAgICAgIC8vIGluY2x1ZGUgbGV2ZWxDb2RlYyBpbiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzXG4gICAgICB0cmFjayA9IHRyYWNrcy5hdWRpbztcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdLmF1ZGlvQ29kZWMsXG4gICAgICAgICAgICB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGF1ZGlvQ29kZWMgJiYgdGhpcy5hdWRpb0NvZGVjU3dhcCkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3dhcHBpbmcgcGxheWxpc3QgYXVkaW8gY29kZWMnKTtcbiAgICAgICAgICBpZiAoYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbiBjYXNlIEFBQyBhbmQgSEUtQUFDIGF1ZGlvIGNvZGVjcyBhcmUgc2lnbmFsbGVkIGluIG1hbmlmZXN0XG4gICAgICAgIC8vIGZvcmNlIEhFLUFBQyAsIGFzIGl0IHNlZW1zIHRoYXQgbW9zdCBicm93c2VycyBwcmVmZXJzIHRoYXQgd2F5LFxuICAgICAgICAvLyBleGNlcHQgZm9yIG1vbm8gc3RyZWFtcyBPUiBvbiBGRlxuICAgICAgICAvLyB0aGVzZSBjb25kaXRpb25zIG1pZ2h0IG5lZWQgdG8gYmUgcmV2aWV3ZWQgLi4uXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2l0Y2gpIHtcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBIRS1BQUMgaWYgbW9ubyBzdHJlYW1cbiAgICAgICAgICBpZiAodHJhY2subWV0YWRhdGEuY2hhbm5lbENvdW50ICE9PSAxICYmXG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgSEUtQUFDIGlmIGZpcmVmb3hcbiAgICAgICAgICB1YS5pbmRleE9mKCdmaXJlZm94JykgPT09IC0xKSB7XG4gICAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuNSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhFLUFBQyBpcyBicm9rZW4gb24gQW5kcm9pZCwgYWx3YXlzIHNpZ25hbCBhdWRpbyBjb2RlYyBhcyBBQUMgZXZlbiBpZiB2YXJpYW50IG1hbmlmZXN0IHN0YXRlcyBvdGhlcndpc2VcbiAgICAgICAgaWYgKHVhLmluZGV4T2YoJ2FuZHJvaWQnKSAhPT0gLTEgJiYgdHJhY2suY29udGFpbmVyICE9PSAnYXVkaW8vbXBlZycpIHtcbiAgICAgICAgICAvLyBFeGNsdWRlIG1wZWcgYXVkaW9cbiAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuMic7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBbmRyb2lkOiBmb3JjZSBhdWRpbyBjb2RlYyB0byAnICsgYXVkaW9Db2RlYyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgIH1cbiAgICAgIHRyYWNrID0gdHJhY2tzLnZpZGVvO1xuICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLmxldmVsQ29kZWMgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXS52aWRlb0NvZGVjO1xuICAgICAgICB0cmFjay5pZCA9IGRhdGEuaWQ7XG4gICAgICB9XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQ09ERUNTLCB0cmFja3MpO1xuICAgICAgLy8gbG9vcCB0aHJvdWdoIHRyYWNrcyB0aGF0IGFyZSBnb2luZyB0byBiZSBwcm92aWRlZCB0byBidWZmZXJDb250cm9sbGVyXG4gICAgICBmb3IgKHRyYWNrTmFtZSBpbiB0cmFja3MpIHtcbiAgICAgICAgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtYWluIHRyYWNrOicgKyB0cmFja05hbWUgKyAnLGNvbnRhaW5lcjonICsgdHJhY2suY29udGFpbmVyICsgJyxjb2RlY3NbbGV2ZWwvcGFyc2VkXT1bJyArIHRyYWNrLmxldmVsQ29kZWMgKyAnLycgKyB0cmFjay5jb2RlYyArICddJyk7XG4gICAgICAgIHZhciBpbml0U2VnbWVudCA9IHRyYWNrLmluaXRTZWdtZW50O1xuICAgICAgICBpZiAoaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAvLyBhcm0gcGVuZGluZyBCdWZmZXJpbmcgZmxhZyBiZWZvcmUgYXBwZW5kaW5nIGEgc2VnbWVudFxuICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVORElORywgeyB0eXBlOiB0cmFja05hbWUsIGRhdGE6IGluaXRTZWdtZW50LCBwYXJlbnQ6ICdtYWluJywgY29udGVudDogJ2luaXRTZWdtZW50JyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0RhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nRGF0YShkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnbWFpbicgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgIShkYXRhLnR5cGUgPT09ICdhdWRpbycgJiYgdGhpcy5hbHRBdWRpbykgJiYgLy8gZmlsdGVyIG91dCBtYWluIGF1ZGlvIGlmIGF1ZGlvIHRyYWNrIGlzIGxvYWRlZCB0aHJvdWdoIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyXG4gICAgdGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgdmFyIGxldmVsID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbF0sXG4gICAgICAgICAgZnJhZyA9IGZyYWdDdXJyZW50O1xuICAgICAgaWYgKGlzTmFOKGRhdGEuZW5kUFRTKSkge1xuICAgICAgICBkYXRhLmVuZFBUUyA9IGRhdGEuc3RhcnRQVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgZGF0YS5lbmREVFMgPSBkYXRhLnN0YXJ0RFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnUGFyc2VkICcgKyBkYXRhLnR5cGUgKyAnLFBUUzpbJyArIGRhdGEuc3RhcnRQVFMudG9GaXhlZCgzKSArICcsJyArIGRhdGEuZW5kUFRTLnRvRml4ZWQoMykgKyAnXSxEVFM6WycgKyBkYXRhLnN0YXJ0RFRTLnRvRml4ZWQoMykgKyAnLycgKyBkYXRhLmVuZERUUy50b0ZpeGVkKDMpICsgJ10sbmI6JyArIGRhdGEubmIgKyAnLGRyb3BwZWQ6JyArIChkYXRhLmRyb3BwZWQgfHwgMCkpO1xuXG4gICAgICAvLyBEZXRlY3QgZ2FwcyBpbiBhIGZyYWdtZW50ICBhbmQgdHJ5IHRvIGZpeCBpdCBieSBmaW5kaW5nIGEga2V5ZnJhbWUgaW4gdGhlIHByZXZpb3VzIGZyYWdtZW50IChzZWUgX2ZpbmRGcmFnbWVudHMpXG4gICAgICBpZiAoZGF0YS50eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgIGZyYWcuZHJvcHBlZCA9IGRhdGEuZHJvcHBlZDtcbiAgICAgICAgaWYgKGZyYWcuZHJvcHBlZCkge1xuICAgICAgICAgIGlmICghZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWlzc2luZyB2aWRlbyBmcmFtZShzKSwgYmFja3RyYWNraW5nIGZyYWdtZW50Jyk7XG4gICAgICAgICAgICAvLyBSZXR1cm4gYmFjayB0byB0aGUgSURMRSBzdGF0ZSB3aXRob3V0IGFwcGVuZGluZyB0byBidWZmZXJcbiAgICAgICAgICAgIC8vIENhdXNlcyBmaW5kRnJhZ21lbnRzIHRvIGJhY2t0cmFjayBhIHNlZ21lbnQgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAvLyBBdWRpbyBmcmFnbWVudHMgYXJyaXZpbmcgYmVmb3JlIHZpZGVvIHNldHMgdGhlIG5leHRMb2FkUG9zaXRpb24sIGNhdXNpbmcgX2ZpbmRGcmFnbWVudHMgdG8gc2tpcCB0aGUgYmFja3RyYWNrZWQgZnJhZ21lbnRcbiAgICAgICAgICAgIGZyYWcuYmFja3RyYWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZGF0YS5zdGFydFBUUztcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0FscmVhZHkgYmFja3RyYWNrZWQgb24gdGhpcyBmcmFnbWVudCwgYXBwZW5kaW5nIHdpdGggdGhlIGdhcCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IHJlc2V0IHRoZSBiYWNrdHJhY2tlZCBmbGFnIGlmIHdlJ3ZlIGxvYWRlZCB0aGUgZnJhZyB3aXRob3V0IGFueSBkcm9wcGVkIGZyYW1lc1xuICAgICAgICAgIGZyYWcuYmFja3RyYWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZHJpZnQgPSB1cGRhdGVGcmFnUFRTRFRTKGxldmVsLmRldGFpbHMsIGZyYWcsIGRhdGEuc3RhcnRQVFMsIGRhdGEuZW5kUFRTLCBkYXRhLnN0YXJ0RFRTLCBkYXRhLmVuZERUUyksXG4gICAgICAgICAgaGxzID0gdGhpcy5obHM7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfUFRTX1VQREFURUQsIHsgZGV0YWlsczogbGV2ZWwuZGV0YWlscywgbGV2ZWw6IHRoaXMubGV2ZWwsIGRyaWZ0OiBkcmlmdCwgdHlwZTogZGF0YS50eXBlLCBzdGFydDogZGF0YS5zdGFydFBUUywgZW5kOiBkYXRhLmVuZFBUUyB9KTtcblxuICAgICAgLy8gaGFzIHJlbXV4ZXIgZHJvcHBlZCB2aWRlbyBmcmFtZXMgbG9jYXRlZCBiZWZvcmUgZmlyc3Qga2V5ZnJhbWUgP1xuICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAvLyBvbmx5IGFwcGVuZCBpbiBQQVJTSU5HIHN0YXRlIChyYXRpb25hbGUgaXMgdGhhdCBhbiBhcHBlbmRpbmcgZXJyb3IgY291bGQgaGFwcGVuIHN5bmNocm9ub3VzbHkgb24gZmlyc3Qgc2VnbWVudCBhcHBlbmRpbmcpXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSBpdCBpcyB1c2VsZXNzIHRvIGFwcGVuZCBmb2xsb3dpbmcgc2VnbWVudHNcbiAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoICYmIF90aGlzMi5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgIF90aGlzMi5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICBfdGhpczIucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRJTkcsIHsgdHlwZTogZGF0YS50eXBlLCBkYXRhOiBidWZmZXIsIHBhcmVudDogJ21haW4nLCBjb250ZW50OiAnZGF0YScgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2VkID0gZnVuY3Rpb24gb25GcmFnUGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnbWFpbicgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgdGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgdGhpcy5zdGF0cy50cGFyc2VkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuUEFSU0VEO1xuICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tTd2l0Y2hpbmcoZGF0YSkge1xuICAgIC8vIGlmIGFueSBVUkwgZm91bmQgb24gbmV3IGF1ZGlvIHRyYWNrLCBpdCBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2tcbiAgICB2YXIgYWx0QXVkaW8gPSAhIWRhdGEudXJsLFxuICAgICAgICB0cmFja0lkID0gZGF0YS5pZDtcbiAgICAvLyBpZiB3ZSBzd2l0Y2ggb24gbWFpbiBhdWRpbywgZW5zdXJlIHRoYXQgbWFpbiBmcmFnbWVudCBzY2hlZHVsaW5nIGlzIHN5bmNlZCB3aXRoIG1lZGlhLmJ1ZmZlcmVkXG4gICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgd2Ugc3dpdGNoIHRvIGFsdCBhdWRpbzogYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXIgaXMgaGFuZGxpbmcgaXQuXG4gICAgLy8gd2Ugd2lsbCBqdXN0IGhhdmUgdG8gY2hhbmdlIGJ1ZmZlciBzY2hlZHVsaW5nIG9uIGF1ZGlvVHJhY2tTd2l0Y2hlZFxuICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhQnVmZmVyICE9PSB0aGlzLm1lZGlhKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3dpdGNoaW5nIG9uIG1haW4gYXVkaW8sIHVzZSBtZWRpYS5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IHRoaXMubWVkaWE7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVmaWxsIGF1ZGlvIGJ1ZmZlciBmcm9tIG1haW46IGNhbmNlbCBhbnkgZnJhZyBsb2FkaW5nIHRvIHNwZWVkIHVwIGF1ZGlvIHN3aXRjaFxuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gbWFpbiBhdWRpbyB0cmFjaywgY2FuY2VsIG1haW4gZnJhZ21lbnQgbG9hZCcpO1xuICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8vIGRlc3Ryb3kgZGVtdXhlciB0byBmb3JjZSBpbml0IHNlZ21lbnQgZ2VuZXJhdGlvbiAoZm9sbG93aW5nIGF1ZGlvIHN3aXRjaClcbiAgICAgICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgICAgIHRoaXMuZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgIC8vIHN3aXRjaGluZyB0byBtYWluIGF1ZGlvLCBmbHVzaCBhbGwgYXVkaW8gYW5kIHRyaWdnZXIgdHJhY2sgc3dpdGNoZWRcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0cmFja0lkIH0pO1xuICAgICAgdGhpcy5hbHRBdWRpbyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hlZCA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja1N3aXRjaGVkKGRhdGEpIHtcbiAgICB2YXIgdHJhY2tJZCA9IGRhdGEuaWQsXG4gICAgICAgIGFsdEF1ZGlvID0gISF0aGlzLmhscy5hdWRpb1RyYWNrc1t0cmFja0lkXS51cmw7XG4gICAgaWYgKGFsdEF1ZGlvKSB7XG4gICAgICB2YXIgdmlkZW9CdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyO1xuICAgICAgLy8gaWYgd2Ugc3dpdGNoZWQgb24gYWx0ZXJuYXRlIGF1ZGlvLCBlbnN1cmUgdGhhdCBtYWluIGZyYWdtZW50IHNjaGVkdWxpbmcgaXMgc3luY2VkIHdpdGggdmlkZW8gc291cmNlYnVmZmVyIGJ1ZmZlcmVkXG4gICAgICBpZiAodmlkZW9CdWZmZXIgJiYgdGhpcy5tZWRpYUJ1ZmZlciAhPT0gdmlkZW9CdWZmZXIpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgb24gYWx0ZXJuYXRlIGF1ZGlvLCB1c2UgdmlkZW8uYnVmZmVyZWQgdG8gc2NoZWR1bGUgbWFpbiBmcmFnbWVudCBsb2FkaW5nJyk7XG4gICAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB2aWRlb0J1ZmZlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hbHRBdWRpbyA9IGFsdEF1ZGlvO1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ3JlYXRlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyQ3JlYXRlZChkYXRhKSB7XG4gICAgdmFyIHRyYWNrcyA9IGRhdGEudHJhY2tzLFxuICAgICAgICBtZWRpYVRyYWNrID0gdm9pZCAwLFxuICAgICAgICBuYW1lID0gdm9pZCAwLFxuICAgICAgICBhbHRlcm5hdGUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciB0eXBlIGluIHRyYWNrcykge1xuICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW3R5cGVdO1xuICAgICAgaWYgKHRyYWNrLmlkID09PSAnbWFpbicpIHtcbiAgICAgICAgbmFtZSA9IHR5cGU7XG4gICAgICAgIG1lZGlhVHJhY2sgPSB0cmFjaztcbiAgICAgICAgLy8ga2VlcCB2aWRlbyBzb3VyY2UgYnVmZmVyIHJlZmVyZW5jZVxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHRoaXMudmlkZW9CdWZmZXIgPSB0cmFja3NbdHlwZV0uYnVmZmVyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbHRlcm5hdGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWx0ZXJuYXRlICYmIG1lZGlhVHJhY2spIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYWx0ZXJuYXRlIHRyYWNrIGZvdW5kLCB1c2UgJyArIG5hbWUgKyAnLmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZycpO1xuICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IG1lZGlhVHJhY2suYnVmZmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyQXBwZW5kZWQoZGF0YSkge1xuICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSBTdGF0ZS5QQVJTSU5HIHx8IHN0YXRlID09PSBTdGF0ZS5QQVJTRUQpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIGFwcGVuZGVkXG4gICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IGRhdGEucGVuZGluZyA+IDA7XG4gICAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQXBwZW5kZWRQYXJzZWQgPSBmdW5jdGlvbiBfY2hlY2tBcHBlbmRlZFBhcnNlZCgpIHtcbiAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0VEICYmICghdGhpcy5hcHBlbmRlZCB8fCAhdGhpcy5wZW5kaW5nQnVmZmVyaW5nKSkge1xuICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21haW4gYnVmZmVyZWQgOiAnICsgdGltZVJhbmdlcy50b1N0cmluZyhtZWRpYS5idWZmZXJlZCkpO1xuICAgICAgICAvLyBmaWx0ZXIgZnJhZ21lbnRzIHBvdGVudGlhbGx5IGV2aWN0ZWQgZnJvbSBidWZmZXIuIHRoaXMgaXMgdG8gYXZvaWQgbWVtbGVhayBvbiBsaXZlIHN0cmVhbXNcbiAgICAgICAgdmFyIGJ1ZmZlcmVkRnJhZ3MgPSB0aGlzLl9idWZmZXJlZEZyYWdzLmZpbHRlcihmdW5jdGlvbiAoZnJhZykge1xuICAgICAgICAgIHJldHVybiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIChmcmFnLnN0YXJ0UFRTICsgZnJhZy5lbmRQVFMpIC8gMik7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBwdXNoIG5ldyByYW5nZVxuICAgICAgICBidWZmZXJlZEZyYWdzLnB1c2goZnJhZyk7XG4gICAgICAgIC8vIHNvcnQgZnJhZ3MsIGFzIHdlIHVzZSBCaW5hcnlTZWFyY2ggZm9yIGxvb2t1cCBpbiBnZXRCdWZmZXJlZEZyYWcgLi4uXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRnJhZ3MgPSBidWZmZXJlZEZyYWdzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYS5zdGFydFBUUyAtIGIuc3RhcnRQVFM7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICAgIHZhciBzdGF0cyA9IHRoaXMuc3RhdHM7XG4gICAgICAgIHN0YXRzLnRidWZmZXJlZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAvLyB3ZSBzaG91bGQgZ2V0IHJpZCBvZiB0aGlzLmZyYWdMYXN0S2Jwc1xuICAgICAgICB0aGlzLmZyYWdMYXN0S2JwcyA9IE1hdGgucm91bmQoOCAqIHN0YXRzLnRvdGFsIC8gKHN0YXRzLnRidWZmZXJlZCAtIHN0YXRzLnRmaXJzdCkpO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZywgaWQ6ICdtYWluJyB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICB9XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnIHx8IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gbWFpbiBmcmFnbWVudFxuICAgIGlmIChmcmFnICYmIGZyYWcudHlwZSAhPT0gJ21haW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIDAuNSA6IHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIGVuZFxuICAgIHZhciBtZWRpYUJ1ZmZlcmVkID0gISF0aGlzLm1lZGlhICYmIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZCh0aGlzLm1lZGlhLCB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lKSAmJiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQodGhpcy5tZWRpYSwgdGhpcy5tZWRpYS5jdXJyZW50VGltZSArIDAuNSk7XG5cbiAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX0xPQURfVElNRU9VVDpcbiAgICAgICAgaWYgKCFkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgLy8ga2VlcCByZXRyeWluZyB1bnRpbCB0aGUgbGltaXQgd2lsbCBiZSByZWFjaGVkXG4gICAgICAgICAgaWYgKHRoaXMuZnJhZ0xvYWRFcnJvciArIDEgPD0gdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgYmFja29mZiBjYXBwZWQgdG8gY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCB0aGlzLmZyYWdMb2FkRXJyb3IpICogdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdSZXRyeURlbGF5LCB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgICAgICAvLyByZXNldCBsb2FkIGNvdW50ZXIgdG8gYXZvaWQgZnJhZyBsb29wIGxvYWRpbmcgZXJyb3JcbiAgICAgICAgICAgIGZyYWcubG9hZENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWVkaWFDb250cm9sbGVyOiBmcmFnIGxvYWRpbmcgZmFpbGVkLCByZXRyeSBpbiAnICsgZGVsYXkgKyAnIG1zJyk7XG4gICAgICAgICAgICB0aGlzLnJldHJ5RGF0ZSA9IHBlcmZvcm1hbmNlLm5vdygpICsgZGVsYXk7XG4gICAgICAgICAgICAvLyByZXRyeSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgICAvLyBpZiBsb2FkZWRtZXRhZGF0YSBpcyBub3Qgc2V0LCBpdCBtZWFucyB0aGF0IHdlIGFyZSBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb24gZmlyc3QgZnJhZ1xuICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvcisrO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignbWVkaWFDb250cm9sbGVyOiAnICsgZGF0YS5kZXRhaWxzICsgJyByZWFjaGVzIG1heCByZXRyeSwgcmVkaXNwYXRjaCBhcyBmYXRhbCAuLi4nKTtcbiAgICAgICAgICAgIC8vIHN3aXRjaCBlcnJvciB0byBmYXRhbFxuICAgICAgICAgICAgZGF0YS5mYXRhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRVJST1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPT1BfTE9BRElOR19FUlJPUjpcbiAgICAgICAgaWYgKCFkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgLy8gaWYgYnVmZmVyIGlzIG5vdCBlbXB0eVxuICAgICAgICAgIGlmIChtZWRpYUJ1ZmZlcmVkKSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIDogcmF0aW9uYWxlIGlzIHRoYXQgd2UgY291bGQgZ2V0XG4gICAgICAgICAgICAvLyBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciBiZWNhdXNlIG9mIGJ1ZmZlciBldmljdGlvblxuICAgICAgICAgICAgdGhpcy5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKGZyYWcuZHVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJ1ZmZlciBlbXB0eS4gcmVwb3J0IGFzIGZhdGFsIGlmIGluIG1hbnVhbCBtb2RlIG9yIGlmIGxvd2VzdCBsZXZlbC5cbiAgICAgICAgICAgIC8vIGxldmVsIGNvbnRyb2xsZXIgdGFrZXMgY2FyZSBvZiBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gbG9naWNcbiAgICAgICAgICAgIGlmICghZnJhZy5hdXRvTGV2ZWwgfHwgZnJhZy5sZXZlbCA9PT0gMCkge1xuICAgICAgICAgICAgICAvLyBzd2l0Y2ggZXJyb3IgdG8gZmF0YWxcbiAgICAgICAgICAgICAgZGF0YS5mYXRhbCA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FUlJPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgIC8vIGlmIGZhdGFsIGVycm9yLCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FUlJPUjtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3N0cmVhbUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnLHN3aXRjaCB0byAnICsgdGhpcy5zdGF0ZSArICcgc3RhdGUgLi4uJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Ygbm9uIGZhdGFsIGVycm9yIHdoaWxlIGxvYWRpbmcgbGV2ZWwsIGlmIGxldmVsIGNvbnRyb2xsZXIgaXMgbm90IHJldHJ5aW5nIHRvIGxvYWQgbGV2ZWwgLCBzd2l0Y2ggYmFjayB0byBJRExFXG4gICAgICAgICAgICBpZiAoIWRhdGEubGV2ZWxSZXRyeSAmJiB0aGlzLnN0YXRlID09PSBTdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgIC8vIGlmIGluIGFwcGVuZGluZyBzdGF0ZVxuICAgICAgICBpZiAoZGF0YS5wYXJlbnQgPT09ICdtYWluJyAmJiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTRUQpKSB7XG4gICAgICAgICAgLy8gcmVkdWNlIG1heCBidWYgbGVuIGlmIGN1cnJlbnQgcG9zaXRpb24gaXMgYnVmZmVyZWRcbiAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKHRoaXMuY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsIGJ1dCBicm93c2VyIGlzIHN0aWxsIGNvbXBsYWluaW5nIGFib3V0IGJ1ZmZlciBmdWxsIGVycm9yXG4gICAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgb24gSUUvRWRnZSwgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC83MDhcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSBmbHVzaCB0aGUgd2hvbGUgYnVmZmVyIHRvIHJlY292ZXJcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2J1ZmZlciBmdWxsIGVycm9yIGFsc28gbWVkaWEuY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBmbHVzaCBldmVyeXRoaW5nJyk7XG4gICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9yZWR1Y2VNYXhCdWZmZXJMZW5ndGggPSBmdW5jdGlvbiBfcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKG1pbkxlbmd0aCkge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgIC8vIHJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCBhcyBpdCBtaWdodCBiZSB0b28gaGlnaC4gd2UgZG8gdGhpcyB0byBhdm9pZCBsb29wIGZsdXNoaW5nIC4uLlxuICAgICAgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAvPSAyO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWFpbjpyZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggdG8gJyArIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggKyAncycpO1xuICAgICAgaWYgKHRoaXMuZnJhZ0xvYWRJZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBpbmNyZWFzZSBmcmFnbWVudCBsb2FkIEluZGV4IHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIGFmdGVyIGJ1ZmZlciBmbHVzaFxuICAgICAgICB0aGlzLmZyYWdMb2FkSWR4ICs9IDIgKiBjb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tCdWZmZXIgPSBmdW5jdGlvbiBfY2hlY2tCdWZmZXIoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgLy8gaWYgcmVhZHkgc3RhdGUgZGlmZmVyZW50IGZyb20gSEFWRV9OT1RISU5HIChudW1lcmljIHZhbHVlIDApLCB3ZSBhcmUgYWxsb3dlZCB0byBzZWVrXG4gICAgaWYgKG1lZGlhICYmIG1lZGlhLnJlYWR5U3RhdGUpIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lLFxuICAgICAgICAgIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYSxcbiAgICAgICAgICBidWZmZXJlZCA9IG1lZGlhQnVmZmVyLmJ1ZmZlcmVkO1xuICAgICAgLy8gYWRqdXN0IGN1cnJlbnRUaW1lIHRvIHN0YXJ0IHBvc2l0aW9uIG9uIGxvYWRlZCBtZXRhZGF0YVxuICAgICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhICYmIGJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgLy8gb25seSBhZGp1c3QgY3VycmVudFRpbWUgaWYgZGlmZmVyZW50IGZyb20gc3RhcnRQb3NpdGlvbiBvciBpZiBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZFxuICAgICAgICAvLyBhdCB0aGF0IHN0YWdlLCB0aGVyZSBzaG91bGQgYmUgb25seSBvbmUgYnVmZmVyZWQgcmFuZ2UsIGFzIHdlIHJlYWNoIHRoYXQgY29kZSBhZnRlciBmaXJzdCBmcmFnbWVudCBoYXMgYmVlbiBidWZmZXJlZFxuICAgICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IG1lZGlhLnNlZWtpbmcgPyBjdXJyZW50VGltZSA6IHRoaXMuc3RhcnRQb3NpdGlvbixcbiAgICAgICAgICAgIHN0YXJ0UG9zaXRpb25CdWZmZXJlZCA9IGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYUJ1ZmZlciwgc3RhcnRQb3NpdGlvbiksXG4gICAgICAgICAgICBmaXJzdGJ1ZmZlcmVkUG9zaXRpb24gPSBidWZmZXJlZC5zdGFydCgwKSxcbiAgICAgICAgICAgIHN0YXJ0Tm90QnVmZmVyZWRCdXRDbG9zZSA9ICFzdGFydFBvc2l0aW9uQnVmZmVyZWQgJiYgTWF0aC5hYnMoc3RhcnRQb3NpdGlvbiAtIGZpcnN0YnVmZmVyZWRQb3NpdGlvbikgPCBjb25maWcubWF4U2Vla0hvbGU7XG4gICAgICAgIC8vIGlmIGN1cnJlbnRUaW1lIG5vdCBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIHN0YXJ0UG9zaXRpb24gb3Igc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQgYnV0IGNsb3NlIHRvIGZpcnN0IGJ1ZmZlcmVkXG4gICAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gc3RhcnRQb3NpdGlvbiB8fCBzdGFydE5vdEJ1ZmZlcmVkQnV0Q2xvc2UpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RhcmdldCBzdGFydCBwb3NpdGlvbjonICsgc3RhcnRQb3NpdGlvbik7XG4gICAgICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQsIGxldCdzIHNlZWsgdG8gYnVmZmVyZWQuc3RhcnQoMClcbiAgICAgICAgICBpZiAoc3RhcnROb3RCdWZmZXJlZEJ1dENsb3NlKSB7XG4gICAgICAgICAgICBzdGFydFBvc2l0aW9uID0gZmlyc3RidWZmZXJlZFBvc2l0aW9uO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd0YXJnZXQgc3RhcnQgcG9zaXRpb24gbm90IGJ1ZmZlcmVkLCBzZWVrIHRvIGJ1ZmZlcmVkLnN0YXJ0KDApICcgKyBzdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhZGp1c3QgY3VycmVudFRpbWUgZnJvbSAnICsgY3VycmVudFRpbWUgKyAnIHRvICcgKyBzdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbW1lZGlhdGVTd2l0Y2gpIHtcbiAgICAgICAgdGhpcy5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIGN1cnJlbnRUaW1lLCAwKSxcbiAgICAgICAgICAgIGV4cGVjdGVkUGxheWluZyA9ICEobWVkaWEucGF1c2VkIHx8IC8vIG5vdCBwbGF5aW5nIHdoZW4gbWVkaWEgaXMgcGF1c2VkXG4gICAgICAgIG1lZGlhLmVuZGVkIHx8IC8vIG5vdCBwbGF5aW5nIHdoZW4gbWVkaWEgaXMgZW5kZWRcbiAgICAgICAgbWVkaWEuYnVmZmVyZWQubGVuZ3RoID09PSAwKSxcbiAgICAgICAgICAgIC8vIG5vdCBwbGF5aW5nIGlmIG5vdGhpbmcgYnVmZmVyZWRcbiAgICAgICAganVtcFRocmVzaG9sZCA9IDAuNSxcbiAgICAgICAgICAgIC8vIHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIHJhbmdlIGVuZFxuICAgICAgICBwbGF5aGVhZE1vdmluZyA9IGN1cnJlbnRUaW1lICE9PSB0aGlzLmxhc3RDdXJyZW50VGltZTtcblxuICAgICAgICBpZiAocGxheWhlYWRNb3ZpbmcpIHtcbiAgICAgICAgICAvLyBwbGF5ZWQgbW92aW5nLCBidXQgd2FzIHByZXZpb3VzbHkgc3RhbGxlZCA9PiBub3cgbm90IHN0dWNrIGFueW1vcmVcbiAgICAgICAgICBpZiAodGhpcy5zdGFsbFJlcG9ydGVkKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdwbGF5YmFjayBub3Qgc3R1Y2sgYW55bW9yZSBAJyArIGN1cnJlbnRUaW1lICsgJywgYWZ0ZXIgJyArIE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnN0YWxsZWQpICsgJ21zJyk7XG4gICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGFsbGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMubnVkZ2VSZXRyeSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcGxheWhlYWQgbm90IG1vdmluZ1xuICAgICAgICAgIGlmIChleHBlY3RlZFBsYXlpbmcpIHtcbiAgICAgICAgICAgIC8vIHBsYXloZWFkIG5vdCBtb3ZpbmcgQlVUIG1lZGlhIGV4cGVjdGVkIHRvIHBsYXlcbiAgICAgICAgICAgIHZhciB0bm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhbGxlZCkge1xuICAgICAgICAgICAgICAvLyBzdGFsbCBqdXN0IGRldGVjdGVkLCBzdG9yZSBjdXJyZW50IHRpbWVcbiAgICAgICAgICAgICAgdGhpcy5zdGFsbGVkID0gdG5vdztcbiAgICAgICAgICAgICAgdGhpcy5zdGFsbFJlcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBwbGF5YmFjayBhbHJlYWR5IHN0YWxsZWQsIGNoZWNrIHN0YWxsaW5nIGR1cmF0aW9uXG4gICAgICAgICAgICAgIC8vIGlmIHN0YWxsaW5nIGZvciBtb3JlIHRoYW4gYSBnaXZlbiB0aHJlc2hvbGQsIGxldCdzIHRyeSB0byByZWNvdmVyXG4gICAgICAgICAgICAgIHZhciBzdGFsbGVkRHVyYXRpb24gPSB0bm93IC0gdGhpcy5zdGFsbGVkO1xuICAgICAgICAgICAgICB2YXIgYnVmZmVyTGVuID0gYnVmZmVySW5mby5sZW47XG4gICAgICAgICAgICAgIHZhciBudWRnZVJldHJ5ID0gdGhpcy5udWRnZVJldHJ5IHx8IDA7XG4gICAgICAgICAgICAgIC8vIGhhdmUgd2UgcmVhY2hlZCBzdGFsbCBkZWFkbGluZSA/XG4gICAgICAgICAgICAgIGlmIChidWZmZXJMZW4gPD0ganVtcFRocmVzaG9sZCAmJiBzdGFsbGVkRHVyYXRpb24gPiBjb25maWcubG93QnVmZmVyV2F0Y2hkb2dQZXJpb2QgKiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0IHN0YWxsZWQgZXJyb3Igb25jZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGFsbFJlcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncGxheWJhY2sgc3RhbGxpbmcgaW4gbG93IGJ1ZmZlciBAJyArIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9TVEFMTEVEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGJ1ZmZlcjogYnVmZmVyTGVuIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiBidWZmZXIgbGVuIGlzIGJlbG93IHRocmVzaG9sZCwgdHJ5IHRvIGp1bXAgdG8gc3RhcnQgb2YgbmV4dCBidWZmZXIgcmFuZ2UgaWYgY2xvc2VcbiAgICAgICAgICAgICAgICAvLyBubyBidWZmZXIgYXZhaWxhYmxlIEAgY3VycmVudFRpbWUsIGNoZWNrIGlmIG5leHQgYnVmZmVyIGlzIGNsb3NlICh3aXRoaW4gYSBjb25maWcubWF4U2Vla0hvbGUgc2Vjb25kIHJhbmdlKVxuICAgICAgICAgICAgICAgIHZhciBuZXh0QnVmZmVyU3RhcnQgPSBidWZmZXJJbmZvLm5leHRTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBuZXh0QnVmZmVyU3RhcnQgLSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEJ1ZmZlclN0YXJ0ICYmIGRlbHRhIDwgY29uZmlnLm1heFNlZWtIb2xlICYmIGRlbHRhID4gMCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5udWRnZVJldHJ5ID0gKytudWRnZVJldHJ5O1xuICAgICAgICAgICAgICAgICAgdmFyIG51ZGdlT2Zmc2V0ID0gbnVkZ2VSZXRyeSAqIGNvbmZpZy5udWRnZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgIC8vIG5leHQgYnVmZmVyIGlzIGNsb3NlICEgYWRqdXN0IGN1cnJlbnRUaW1lIHRvIG5leHRCdWZmZXJTdGFydFxuICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGVuc3VyZSBlZmZlY3RpdmUgdmlkZW8gZGVjb2RpbmdcbiAgICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYWRqdXN0IGN1cnJlbnRUaW1lIGZyb20gJyArIG1lZGlhLmN1cnJlbnRUaW1lICsgJyB0byBuZXh0IGJ1ZmZlcmVkIEAgJyArIG5leHRCdWZmZXJTdGFydCArICcgKyBudWRnZSAnICsgbnVkZ2VPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBuZXh0QnVmZmVyU3RhcnQgKyBudWRnZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHN0YWxsZWQgc28gdG8gcmVhcm0gd2F0Y2hkb2cgdGltZXJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9TRUVLX09WRVJfSE9MRSwgZmF0YWw6IGZhbHNlLCBob2xlOiBuZXh0QnVmZmVyU3RhcnQgKyBudWRnZU9mZnNldCAtIGN1cnJlbnRUaW1lIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChidWZmZXJMZW4gPiBqdW1wVGhyZXNob2xkICYmIHN0YWxsZWREdXJhdGlvbiA+IGNvbmZpZy5oaWdoQnVmZmVyV2F0Y2hkb2dQZXJpb2QgKiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0IHN0YWxsZWQgZXJyb3Igb25jZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGFsbFJlcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncGxheWJhY2sgc3RhbGxpbmcgaW4gaGlnaCBidWZmZXIgQCcgKyBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfU1RBTExFRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBidWZmZXI6IGJ1ZmZlckxlbiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgc3RhbGxlZCBzbyB0byByZWFybSB3YXRjaGRvZyB0aW1lclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSArK251ZGdlUmV0cnk7XG4gICAgICAgICAgICAgICAgaWYgKG51ZGdlUmV0cnkgPCBjb25maWcubnVkZ2VNYXhSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9jdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRpbWUgPSBfY3VycmVudFRpbWUgKyBudWRnZVJldHJ5ICogY29uZmlnLm51ZGdlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhZGp1c3QgY3VycmVudFRpbWUgZnJvbSAnICsgX2N1cnJlbnRUaW1lICsgJyB0byAnICsgdGFyZ2V0VGltZSk7XG4gICAgICAgICAgICAgICAgICAvLyBwbGF5YmFjayBzdGFsbGVkIGluIGJ1ZmZlcmVkIGFyZWEgLi4uIGxldCdzIG51ZGdlIGN1cnJlbnRUaW1lIHRvIHRyeSB0byBvdmVyY29tZSB0aGlzXG4gICAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHRhcmdldFRpbWU7XG4gICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfTlVER0VfT05fU1RBTEwsIGZhdGFsOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3N0aWxsIHN0dWNrIGluIGhpZ2ggYnVmZmVyIEAnICsgY3VycmVudFRpbWUgKyAnIGFmdGVyICcgKyBjb25maWcubnVkZ2VNYXhSZXRyeSArICcsIHJhaXNlIGZhdGFsIGVycm9yJyk7XG4gICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfU1RBTExFRF9FUlJPUiwgZmF0YWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgLy8gaWYgbG9hZGVkbWV0YWRhdGEgaXMgbm90IHNldCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9uIGZpcnN0IGZyYWdcbiAgICAvLyBpbiB0aGF0IGNhc2UsIHJlc2V0IHN0YXJ0RnJhZ1JlcXVlc3RlZCBmbGFnXG4gICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgIH1cbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckZsdXNoZWQoKSB7XG4gICAgLyogYWZ0ZXIgc3VjY2Vzc2Z1bCBidWZmZXIgZmx1c2hpbmcsIGZpbHRlciBmbHVzaGVkIGZyYWdtZW50cyBmcm9tIGJ1ZmZlcmVkRnJhZ3NcbiAgICAgIHVzZSBtZWRpYUJ1ZmZlcmVkIGluc3RlYWQgb2YgbWVkaWEgKHNvIHRoYXQgd2Ugd2lsbCBjaGVjayBhZ2FpbnN0IHZpZGVvLmJ1ZmZlcmVkIHJhbmdlcyBpbiBjYXNlIG9mIGFsdCBhdWRpbyB0cmFjaylcbiAgICAqL1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYTtcbiAgICB0aGlzLl9idWZmZXJlZEZyYWdzID0gdGhpcy5fYnVmZmVyZWRGcmFncy5maWx0ZXIoZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgIHJldHVybiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIChmcmFnLnN0YXJ0UFRTICsgZnJhZy5lbmRQVFMpIC8gMik7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBpbmNyZWFzZSBmcmFnbWVudCBsb2FkIEluZGV4IHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIGFmdGVyIGJ1ZmZlciBmbHVzaFxuICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgIH1cbiAgICAvLyBtb3ZlIHRvIElETEUgb25jZSBmbHVzaCBjb21wbGV0ZS4gdGhpcyBzaG91bGQgdHJpZ2dlciBuZXcgZnJhZ21lbnQgbG9hZGluZ1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN3YXBBdWRpb0NvZGVjID0gZnVuY3Rpb24gc3dhcEF1ZGlvQ29kZWMoKSB7XG4gICAgdGhpcy5hdWRpb0NvZGVjU3dhcCA9ICF0aGlzLmF1ZGlvQ29kZWNTd2FwO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmNvbXB1dGVMaXZlUG9zaXRpb24gPSBmdW5jdGlvbiBjb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIGxldmVsRGV0YWlscykge1xuICAgIHZhciB0YXJnZXRMYXRlbmN5ID0gdGhpcy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbiA6IHRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCAqIGxldmVsRGV0YWlscy50YXJnZXRkdXJhdGlvbjtcbiAgICByZXR1cm4gc2xpZGluZyArIE1hdGgubWF4KDAsIGxldmVsRGV0YWlscy50b3RhbGR1cmF0aW9uIC0gdGFyZ2V0TGF0ZW5jeSk7XG4gIH07XG5cbiAgc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKFN0cmVhbUNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnc3RhdGUnLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5leHRTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IG5leHRTdGF0ZSkge1xuICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21haW4gc3RyZWFtOicgKyBwcmV2aW91c1N0YXRlICsgJy0+JyArIG5leHRTdGF0ZSk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNUUkVBTV9TVEFURV9UUkFOU0lUSU9OLCB7IHByZXZpb3VzU3RhdGU6IHByZXZpb3VzU3RhdGUsIG5leHRTdGF0ZTogbmV4dFN0YXRlIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VycmVudExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmdldEJ1ZmZlcmVkRnJhZyhtZWRpYS5jdXJyZW50VGltZSk7XG4gICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgcmV0dXJuIGZyYWcubGV2ZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICduZXh0QnVmZmVyZWRGcmFnJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgLy8gZmlyc3QgZ2V0IGVuZCByYW5nZSBvZiBjdXJyZW50IGZyYWdtZW50XG4gICAgICAgIHJldHVybiB0aGlzLmZvbGxvd2luZ0J1ZmZlcmVkRnJhZyh0aGlzLmdldEJ1ZmZlcmVkRnJhZyhtZWRpYS5jdXJyZW50VGltZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbmV4dExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBmcmFnID0gdGhpcy5uZXh0QnVmZmVyZWRGcmFnO1xuICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgcmV0dXJuIGZyYWcubGV2ZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbGl2ZVN5bmNQb3NpdGlvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl9saXZlU3luY1Bvc2l0aW9uID0gdmFsdWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0cmVhbUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzdHJlYW1fY29udHJvbGxlciA9IChzdHJlYW1fY29udHJvbGxlcl9TdHJlYW1Db250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qc1xudmFyIGxldmVsX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBsZXZlbF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGxldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGxldmVsX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBMZXZlbCBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxuXG5cbnZhciBsZXZlbF9jb250cm9sbGVyX0xldmVsQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGxldmVsX2NvbnRyb2xsZXJfX2luaGVyaXRzKExldmVsQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gTGV2ZWxDb250cm9sbGVyKGhscykge1xuICAgIGxldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExldmVsQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBsZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SKSk7XG5cbiAgICBfdGhpcy5fbWFudWFsTGV2ZWwgPSAtMTtcbiAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICB0aGlzLl9tYW51YWxMZXZlbCA9IC0xO1xuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuY2xlYW5UaW1lciA9IGZ1bmN0aW9uIGNsZWFuVGltZXIoKSB7XG4gICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZCgpIHtcbiAgICB0aGlzLmNhbmxvYWQgPSB0cnVlO1xuICAgIHZhciBsZXZlbHMgPSB0aGlzLl9sZXZlbHM7XG4gICAgLy8gY2xlYW4gdXAgbGl2ZSBsZXZlbCBkZXRhaWxzIHRvIGZvcmNlIHJlbG9hZCB0aGVtLCBhbmQgcmVzZXQgbG9hZCBlcnJvcnNcbiAgICBpZiAobGV2ZWxzKSB7XG4gICAgICBsZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgbGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG4gICAgICAgIGlmIChsZXZlbERldGFpbHMgJiYgbGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICBsZXZlbC5kZXRhaWxzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gc3BlZWQgdXAgbGl2ZSBwbGF5bGlzdCByZWZyZXNoIGlmIHRpbWVyIGV4aXN0c1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uIHN0b3BMb2FkKCkge1xuICAgIHRoaXMuY2FubG9hZCA9IGZhbHNlO1xuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkZWQoZGF0YSkge1xuICAgIHZhciBsZXZlbHMgPSBbXSxcbiAgICAgICAgYml0cmF0ZVN0YXJ0ID0gdm9pZCAwLFxuICAgICAgICBsZXZlbFNldCA9IHt9LFxuICAgICAgICBsZXZlbEZyb21TZXQgPSBudWxsLFxuICAgICAgICB2aWRlb0NvZGVjRm91bmQgPSBmYWxzZSxcbiAgICAgICAgYXVkaW9Db2RlY0ZvdW5kID0gZmFsc2UsXG4gICAgICAgIGNocm9tZU9yRmlyZWZveCA9IC9jaHJvbWV8ZmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgLy8gcmVncm91cCByZWR1bmRhbnQgbGV2ZWxzIHRvZ2V0aGVyXG4gICAgZGF0YS5sZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICBsZXZlbC5mcmFnbWVudEVycm9yID0gZmFsc2U7XG5cbiAgICAgIHZpZGVvQ29kZWNGb3VuZCA9IHZpZGVvQ29kZWNGb3VuZCB8fCAhIWxldmVsLnZpZGVvQ29kZWM7XG4gICAgICBhdWRpb0NvZGVjRm91bmQgPSBhdWRpb0NvZGVjRm91bmQgfHwgISFsZXZlbC5hdWRpb0NvZGVjIHx8ICEhKGxldmVsLmF0dHJzICYmIGxldmVsLmF0dHJzLkFVRElPKTtcblxuICAgICAgLy8gZXJhc2UgYXVkaW8gY29kZWMgaW5mbyBpZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbXA0YS40MC4zNC5cbiAgICAgIC8vIGRlbXV4ZXIgd2lsbCBhdXRvZGV0ZWN0IGNvZGVjIGFuZCBmYWxsYmFjayB0byBtcGVnL2F1ZGlvXG4gICAgICBpZiAoY2hyb21lT3JGaXJlZm94ID09PSB0cnVlICYmIGxldmVsLmF1ZGlvQ29kZWMgJiYgbGV2ZWwuYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjM0JykgIT09IC0xKSB7XG4gICAgICAgIGxldmVsLmF1ZGlvQ29kZWMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGxldmVsRnJvbVNldCA9IGxldmVsU2V0W2xldmVsLmJpdHJhdGVdO1xuXG4gICAgICBpZiAobGV2ZWxGcm9tU2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV2ZWwudXJsID0gW2xldmVsLnVybF07XG4gICAgICAgIGxldmVsLnVybElkID0gMDtcbiAgICAgICAgbGV2ZWxTZXRbbGV2ZWwuYml0cmF0ZV0gPSBsZXZlbDtcbiAgICAgICAgbGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV2ZWxGcm9tU2V0LnVybC5wdXNoKGxldmVsLnVybCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgYXVkaW8tb25seSBsZXZlbCBpZiB3ZSBhbHNvIGhhdmUgbGV2ZWxzIHdpdGggYXVkaW8rdmlkZW8gY29kZWNzIHNpZ25hbGxlZFxuICAgIGlmICh2aWRlb0NvZGVjRm91bmQgPT09IHRydWUgJiYgYXVkaW9Db2RlY0ZvdW5kID09PSB0cnVlKSB7XG4gICAgICBsZXZlbHMgPSBsZXZlbHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciB2aWRlb0NvZGVjID0gX3JlZi52aWRlb0NvZGVjO1xuICAgICAgICByZXR1cm4gISF2aWRlb0NvZGVjO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gb25seSBrZWVwIGxldmVscyB3aXRoIHN1cHBvcnRlZCBhdWRpby92aWRlbyBjb2RlY3NcbiAgICBsZXZlbHMgPSBsZXZlbHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGF1ZGlvQ29kZWMgPSBfcmVmMi5hdWRpb0NvZGVjLFxuICAgICAgICAgIHZpZGVvQ29kZWMgPSBfcmVmMi52aWRlb0NvZGVjO1xuXG4gICAgICByZXR1cm4gKCFhdWRpb0NvZGVjIHx8IGlzQ29kZWNTdXBwb3J0ZWRJbk1wNChhdWRpb0NvZGVjKSkgJiYgKCF2aWRlb0NvZGVjIHx8IGlzQ29kZWNTdXBwb3J0ZWRJbk1wNCh2aWRlb0NvZGVjKSk7XG4gICAgfSk7XG5cbiAgICBpZiAobGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHN0YXJ0IGJpdHJhdGUgaXMgdGhlIGZpcnN0IGJpdHJhdGUgb2YgdGhlIG1hbmlmZXN0XG4gICAgICBiaXRyYXRlU3RhcnQgPSBsZXZlbHNbMF0uYml0cmF0ZTtcbiAgICAgIC8vIHNvcnQgbGV2ZWwgb24gYml0cmF0ZVxuICAgICAgbGV2ZWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuYml0cmF0ZSAtIGIuYml0cmF0ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fbGV2ZWxzID0gbGV2ZWxzO1xuICAgICAgLy8gZmluZCBpbmRleCBvZiBmaXJzdCBsZXZlbCBpbiBzb3J0ZWQgbGV2ZWxzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobGV2ZWxzW2ldLmJpdHJhdGUgPT09IGJpdHJhdGVTdGFydCkge1xuICAgICAgICAgIHRoaXMuX2ZpcnN0TGV2ZWwgPSBpO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWFuaWZlc3QgbG9hZGVkLCcgKyBsZXZlbHMubGVuZ3RoICsgJyBsZXZlbChzKSBmb3VuZCwgZmlyc3QgYml0cmF0ZTonICsgYml0cmF0ZVN0YXJ0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfUEFSU0VELCB7XG4gICAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgICBmaXJzdExldmVsOiB0aGlzLl9maXJzdExldmVsLFxuICAgICAgICBzdGF0czogZGF0YS5zdGF0cyxcbiAgICAgICAgYXVkaW86IGF1ZGlvQ29kZWNGb3VuZCxcbiAgICAgICAgdmlkZW86IHZpZGVvQ29kZWNGb3VuZCxcbiAgICAgICAgYWx0QXVkaW86IGRhdGEuYXVkaW9UcmFja3MubGVuZ3RoID4gMFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUixcbiAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgIHVybDogdGhpcy5obHMudXJsLFxuICAgICAgICByZWFzb246ICdubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc2V0TGV2ZWxJbnRlcm5hbCA9IGZ1bmN0aW9uIHNldExldmVsSW50ZXJuYWwobmV3TGV2ZWwpIHtcbiAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8IGxldmVscy5sZW5ndGgpIHtcbiAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgdGhpcy5jbGVhblRpbWVyKCk7XG4gICAgICBpZiAodGhpcy5fbGV2ZWwgIT09IG5ld0xldmVsKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3dpdGNoaW5nIHRvIGxldmVsICcgKyBuZXdMZXZlbCk7XG4gICAgICAgIHRoaXMuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgIHZhciBsZXZlbFByb3BlcnRpZXMgPSBsZXZlbHNbbmV3TGV2ZWxdO1xuICAgICAgICBsZXZlbFByb3BlcnRpZXMubGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgLy8gTEVWRUxfU1dJVENIIHRvIGJlIGRlcHJlY2F0ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0gsIGxldmVsUHJvcGVydGllcyk7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0hJTkcsIGxldmVsUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICB2YXIgbGV2ZWwgPSBsZXZlbHNbbmV3TGV2ZWxdLFxuICAgICAgICAgIGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG4gICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGxvYWQgcGxheWxpc3QgZm9yIHRoaXMgbGV2ZWxcbiAgICAgIGlmICghbGV2ZWxEZXRhaWxzIHx8IGxldmVsRGV0YWlscy5saXZlID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGxldmVsIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgdmFyIHVybElkID0gbGV2ZWwudXJsSWQ7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FESU5HLCB7IHVybDogbGV2ZWwudXJsW3VybElkXSwgbGV2ZWw6IG5ld0xldmVsLCBpZDogdXJsSWQgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGludmFsaWQgbGV2ZWwgaWQgZ2l2ZW4sIHRyaWdnZXIgZXJyb3JcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uT1RIRVJfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX1NXSVRDSF9FUlJPUiwgbGV2ZWw6IG5ld0xldmVsLCBmYXRhbDogZmFsc2UsIHJlYXNvbjogJ2ludmFsaWQgbGV2ZWwgaWR4JyB9KTtcbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoZGF0YS5mYXRhbCA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IpIHtcbiAgICAgICAgdGhpcy5jbGVhblRpbWVyKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRldGFpbHMgPSBkYXRhLmRldGFpbHMsXG4gICAgICAgIGxldmVsRXJyb3IgPSBmYWxzZSxcbiAgICAgICAgZnJhZ21lbnRFcnJvciA9IGZhbHNlO1xuICAgIHZhciBsZXZlbEluZGV4ID0gdm9pZCAwLFxuICAgICAgICBsZXZlbCA9IHZvaWQgMDtcbiAgICB2YXIgX2hscyA9IHRoaXMuaGxzLFxuICAgICAgICBjb25maWcgPSBfaGxzLmNvbmZpZyxcbiAgICAgICAgbWVkaWEgPSBfaGxzLm1lZGlhO1xuXG4gICAgLy8gdHJ5IHRvIHJlY292ZXIgbm90IGZhdGFsIGVycm9yc1xuXG4gICAgc3dpdGNoIChkZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9PUF9MT0FESU5HX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX0xPQURfVElNRU9VVDpcbiAgICAgICAgbGV2ZWxJbmRleCA9IGRhdGEuZnJhZy5sZXZlbDtcbiAgICAgICAgZnJhZ21lbnRFcnJvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5MRVZFTF9MT0FEX1RJTUVPVVQ6XG4gICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmNvbnRleHQubGV2ZWw7XG4gICAgICAgIGxldmVsRXJyb3IgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uUkVNVVhfQUxMT0NfRVJST1I6XG4gICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmxldmVsO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLyogdHJ5IHRvIHN3aXRjaCB0byBhIHJlZHVuZGFudCBzdHJlYW0gaWYgYW55IGF2YWlsYWJsZS5cbiAgICAgKiBpZiBubyByZWR1bmRhbnQgc3RyZWFtIGF2YWlsYWJsZSwgZW1lcmdlbmN5IHN3aXRjaCBkb3duIChpZiBpbiBhdXRvIG1vZGUgYW5kIGN1cnJlbnQgbGV2ZWwgbm90IDApXG4gICAgICogb3RoZXJ3aXNlLCB3ZSBjYW5ub3QgcmVjb3ZlciB0aGlzIG5ldHdvcmsgZXJyb3IgLi4uXG4gICAgICovXG4gICAgaWYgKGxldmVsSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbbGV2ZWxJbmRleF07XG4gICAgICBsZXZlbC5sb2FkRXJyb3IrKztcbiAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmcmFnbWVudEVycm9yO1xuXG4gICAgICAvLyBpZiBhbnkgcmVkdW5kYW50IHN0cmVhbXMgYXZhaWxhYmxlIGFuZCBpZiB3ZSBoYXZlbid0IHRyeSB0aGVtIGFsbCAobGV2ZWwubG9hZEVycm9yIGlzIHJlc2V0ZWQgb24gc3VjY2Vzc2Z1bCBmcmFnL2xldmVsIGxvYWQuXG4gICAgICAvLyBpZiBsZXZlbC5sb2FkRXJyb3IgcmVhY2hlcyByZWR1bmRhbnRMZXZlbHMgaXQgbWVhbnMgdGhhdCB3ZSB0cmllZCB0aGVtIGFsbCwgbm8gaG9wZSAgPT4gbGV0J3Mgc3dpdGNoIGRvd25cbiAgICAgIHZhciByZWR1bmRhbnRMZXZlbHMgPSBsZXZlbC51cmwubGVuZ3RoO1xuXG4gICAgICBpZiAocmVkdW5kYW50TGV2ZWxzID4gMSAmJiBsZXZlbC5sb2FkRXJyb3IgPCByZWR1bmRhbnRMZXZlbHMpIHtcbiAgICAgICAgbGV2ZWwudXJsSWQgPSAobGV2ZWwudXJsSWQgKyAxKSAlIHJlZHVuZGFudExldmVscztcbiAgICAgICAgbGV2ZWwuZGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbGV2ZWwgY29udHJvbGxlciwnICsgZGV0YWlscyArICcgZm9yIGxldmVsICcgKyBsZXZlbEluZGV4ICsgJzogc3dpdGNoaW5nIHRvIHJlZHVuZGFudCBzdHJlYW0gaWQgJyArIGxldmVsLnVybElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIGNvdWxkIHRyeSB0byByZWNvdmVyIGlmIGluIGF1dG8gbW9kZSBhbmQgY3VycmVudCBsZXZlbCBub3QgbG93ZXN0IGxldmVsICgwKVxuICAgICAgICBpZiAodGhpcy5fbWFudWFsTGV2ZWwgPT09IC0xICYmIGxldmVsSW5kZXggIT09IDApIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCcgKyBkZXRhaWxzICsgJzogc3dpdGNoLWRvd24gZm9yIG5leHQgZnJhZ21lbnQnKTtcbiAgICAgICAgICB0aGlzLmhscy5uZXh0QXV0b0xldmVsID0gTWF0aC5tYXgoMCwgbGV2ZWxJbmRleCAtIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGxldmVsICYmIGxldmVsLmRldGFpbHMgJiYgbGV2ZWwuZGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbGV2ZWwgY29udHJvbGxlciwnICsgZGV0YWlscyArICcgb24gbGl2ZSBzdHJlYW0sIGRpc2NhcmQnKTtcbiAgICAgICAgICBpZiAobGV2ZWxFcnJvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgdGhpcy5fbGV2ZWwgc28gdGhhdCBhbm90aGVyIGNhbGwgdG8gc2V0IGxldmVsKCkgd2lsbCB0cmlnZ2VyIGFnYWluIGEgZnJhZyBsb2FkXG4gICAgICAgICAgICB0aGlzLl9sZXZlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gb3RoZXIgZXJyb3JzIGFyZSBoYW5kbGVkIGJ5IHN0cmVhbSBjb250cm9sbGVyXG4gICAgICAgIH0gZWxzZSBpZiAobGV2ZWxFcnJvciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIDAuNSA6IHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIGVuZFxuICAgICAgICAgIHZhciBtZWRpYUJ1ZmZlcmVkID0gISFtZWRpYSAmJiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIG1lZGlhLmN1cnJlbnRUaW1lKSAmJiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIG1lZGlhLmN1cnJlbnRUaW1lICsgMC41KTtcbiAgICAgICAgICAvLyBGSVhNRSBSZWx5IG9uIExldmVsIFJldHJ5IHBhcmFtZXRlcnMsIG5vdyBpdCdzIHBvc3NpYmxlIHRvIHJldHJ5IGFzIGxvbmcgYXMgbWVkaWEgaXMgYnVmZmVyZWRcbiAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbGV2ZWwgY29udHJvbGxlciwnICsgZGV0YWlscyArICcsIGJ1dCBtZWRpYSBidWZmZXJlZCwgcmV0cnkgaW4gJyArIGNvbmZpZy5sZXZlbExvYWRpbmdSZXRyeURlbGF5ICsgJ21zJyk7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczIudGljaygpO1xuICAgICAgICAgICAgfSwgY29uZmlnLmxldmVsTG9hZGluZ1JldHJ5RGVsYXkpO1xuICAgICAgICAgICAgLy8gYm9vbGVhbiB1c2VkIHRvIGluZm9ybSBzdHJlYW0gY29udHJvbGxlciBub3QgdG8gc3dpdGNoIGJhY2sgdG8gSURMRSBvbiBub24gZmF0YWwgZXJyb3JcbiAgICAgICAgICAgIGRhdGEubGV2ZWxSZXRyeSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdjYW5ub3QgcmVjb3ZlciAnICsgZGV0YWlscyArICcgZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuX2xldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgICAgICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgICAgICAgIC8vIHN3aXRjaCBlcnJvciB0byBmYXRhbFxuICAgICAgICAgICAgZGF0YS5mYXRhbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIHJlc2V0IGVycm9ycyBvbiB0aGUgc3VjY2Vzc2Z1bCBsb2FkIG9mIGEgZnJhZ21lbnRcblxuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKF9yZWYzKSB7XG4gICAgdmFyIGZyYWcgPSBfcmVmMy5mcmFnO1xuXG4gICAgaWYgKGZyYWcgIT09IHVuZGVmaW5lZCAmJiBmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgdmFyIGxldmVsID0gdGhpcy5fbGV2ZWxzW2ZyYWcubGV2ZWxdO1xuICAgICAgaWYgKGxldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV2ZWwuZnJhZ21lbnRFcnJvciA9IGZhbHNlO1xuICAgICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxMb2FkZWQgPSBmdW5jdGlvbiBvbkxldmVsTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBsZXZlbElkID0gZGF0YS5sZXZlbDtcbiAgICAvLyBvbmx5IHByb2Nlc3MgbGV2ZWwgbG9hZGVkIGV2ZW50cyBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIGxldmVsXG4gICAgaWYgKGxldmVsSWQgPT09IHRoaXMuX2xldmVsKSB7XG4gICAgICB2YXIgY3VyTGV2ZWwgPSB0aGlzLl9sZXZlbHNbbGV2ZWxJZF07XG4gICAgICAvLyByZXNldCBsZXZlbCBsb2FkIGVycm9yIGNvdW50ZXIgb24gc3VjY2Vzc2Z1bCBsZXZlbCBsb2FkZWQgb25seSBpZiB0aGVyZSBpcyBubyBpc3N1ZXMgd2l0aCBmcmFnbWVudHNcbiAgICAgIGlmIChjdXJMZXZlbC5mcmFnbWVudEVycm9yID09PSBmYWxzZSkge1xuICAgICAgICBjdXJMZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAvLyBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdCwgYXJtIGEgdGltZXIgdG8gcmVsb2FkIGl0XG4gICAgICBpZiAobmV3RGV0YWlscy5saXZlKSB7XG4gICAgICAgIHZhciByZWxvYWRJbnRlcnZhbCA9IDEwMDAgKiAobmV3RGV0YWlscy5hdmVyYWdldGFyZ2V0ZHVyYXRpb24gPyBuZXdEZXRhaWxzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA6IG5ld0RldGFpbHMudGFyZ2V0ZHVyYXRpb24pLFxuICAgICAgICAgICAgY3VyRGV0YWlscyA9IGN1ckxldmVsLmRldGFpbHM7XG4gICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZW5kU04gPT09IGN1ckRldGFpbHMuZW5kU04pIHtcbiAgICAgICAgICAvLyBmb2xsb3cgSExTIFNwZWMsIElmIHRoZSBjbGllbnQgcmVsb2FkcyBhIFBsYXlsaXN0IGZpbGUgYW5kIGZpbmRzIHRoYXQgaXQgaGFzIG5vdFxuICAgICAgICAgIC8vIGNoYW5nZWQgdGhlbiBpdCBNVVNUIHdhaXQgZm9yIGEgcGVyaW9kIG9mIG9uZS1oYWxmIHRoZSB0YXJnZXRcbiAgICAgICAgICAvLyBkdXJhdGlvbiBiZWZvcmUgcmV0cnlpbmcuXG4gICAgICAgICAgcmVsb2FkSW50ZXJ2YWwgLz0gMjtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NhbWUgbGl2ZSBwbGF5bGlzdCwgcmVsb2FkIHR3aWNlIGZhc3RlcicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlY3JlbWVudCByZWxvYWRJbnRlcnZhbCB3aXRoIGxldmVsIGxvYWRpbmcgZGVsYXlcbiAgICAgICAgcmVsb2FkSW50ZXJ2YWwgLT0gcGVyZm9ybWFuY2Uubm93KCkgLSBkYXRhLnN0YXRzLnRyZXF1ZXN0O1xuICAgICAgICAvLyBpbiBhbnkgY2FzZSwgZG9uJ3QgcmVsb2FkIG1vcmUgdGhhbiBldmVyeSBzZWNvbmRcbiAgICAgICAgcmVsb2FkSW50ZXJ2YWwgPSBNYXRoLm1heCgxMDAwLCBNYXRoLnJvdW5kKHJlbG9hZEludGVydmFsKSk7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCwgcmVsb2FkIGluICcgKyByZWxvYWRJbnRlcnZhbCArICcgbXMnKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMudGljaygpO1xuICAgICAgICB9LCByZWxvYWRJbnRlcnZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICB2YXIgbGV2ZWxJZCA9IHRoaXMuX2xldmVsO1xuICAgIGlmIChsZXZlbElkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jYW5sb2FkKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbbGV2ZWxJZF07XG4gICAgICBpZiAobGV2ZWwgJiYgbGV2ZWwudXJsKSB7XG4gICAgICAgIHZhciB1cmxJZCA9IGxldmVsLnVybElkO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FESU5HLCB7IHVybDogbGV2ZWwudXJsW3VybElkXSwgbGV2ZWw6IGxldmVsSWQsIGlkOiB1cmxJZCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgbGV2ZWxfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MoTGV2ZWxDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ2xldmVscycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGV2ZWxzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sZXZlbDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgICAgaWYgKGxldmVscyAmJiBsZXZlbHMubGVuZ3RoID4gbmV3TGV2ZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xldmVsICE9PSBuZXdMZXZlbCB8fCBsZXZlbHNbbmV3TGV2ZWxdLmRldGFpbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuc2V0TGV2ZWxJbnRlcm5hbChuZXdMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYW51YWxMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFudWFsTGV2ZWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgdGhpcy5fbWFudWFsTGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fc3RhcnRMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0xldmVsICE9PSAtMSkge1xuICAgICAgICB0aGlzLmxldmVsID0gbmV3TGV2ZWw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmlyc3RMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICB0aGlzLl9maXJzdExldmVsID0gbmV3TGV2ZWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RhcnRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAvLyBobHMuc3RhcnRMZXZlbCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgY29uZmlnLnN0YXJ0TGV2ZWxcbiAgICAgIC8vIGlmIG5vbmUgb2YgdGhlc2UgdmFsdWVzIGFyZSBkZWZpbmVkLCBmYWxsYmFjayBvbiB0aGlzLl9maXJzdExldmVsIChmaXJzdCBxdWFsaXR5IGxldmVsIGFwcGVhcmluZyBpbiB2YXJpYW50IG1hbmlmZXN0KVxuICAgICAgaWYgKHRoaXMuX3N0YXJ0TGV2ZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY29uZmlnU3RhcnRMZXZlbCA9IHRoaXMuaGxzLmNvbmZpZy5zdGFydExldmVsO1xuICAgICAgICBpZiAoY29uZmlnU3RhcnRMZXZlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbmZpZ1N0YXJ0TGV2ZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0TGV2ZWw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydExldmVsO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIHRoaXMuX3N0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICduZXh0TG9hZExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLl9tYW51YWxMZXZlbCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbnVhbExldmVsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0TGV2ZWwpIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgICBpZiAodGhpcy5fbWFudWFsTGV2ZWwgPT09IC0xKSB7XG4gICAgICAgIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExldmVsQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGxldmVsX2NvbnRyb2xsZXIgPSAobGV2ZWxfY29udHJvbGxlcl9MZXZlbENvbnRyb2xsZXIpO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kZW11eC9pZDMuanNcbnZhciBpZDMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2lkMy10cmFjay1jb250cm9sbGVyLmpzXG5mdW5jdGlvbiBpZDNfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBpZDNfdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gaWQzX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBpZDMgbWV0YWRhdGEgdHJhY2sgY29udHJvbGxlclxuKi9cblxuXG5cblxuXG52YXIgaWQzX3RyYWNrX2NvbnRyb2xsZXJfSUQzVHJhY2tDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgaWQzX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKElEM1RyYWNrQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gSUQzVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgIGlkM190cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBJRDNUcmFja0NvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gaWQzX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX01FVEFEQVRBKSk7XG5cbiAgICBfdGhpcy5pZDNUcmFjayA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy5tZWRpYSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvLyBBZGQgSUQzIG1ldGF0YWRhdGEgdGV4dCB0cmFjay5cblxuXG4gIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGVkKGRhdGEpIHtcbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICB0aGlzLm1lZGlhID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ01ldGFkYXRhID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ01ldGFkYXRhKGRhdGEpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkYXRhLmZyYWc7XG4gICAgdmFyIHNhbXBsZXMgPSBkYXRhLnNhbXBsZXM7XG5cbiAgICAvLyBjcmVhdGUgdHJhY2sgZHluYW1pY2FsbHlcbiAgICBpZiAoIXRoaXMuaWQzVHJhY2spIHtcbiAgICAgIHRoaXMuaWQzVHJhY2sgPSB0aGlzLm1lZGlhLmFkZFRleHRUcmFjaygnbWV0YWRhdGEnLCAnaWQzJyk7XG4gICAgICB0aGlzLmlkM1RyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHRvIHJlY3JlYXRlIFNhZmFyaSBmdW5jdGlvbmFsaXR5IGJ5IGNyZWF0aW5nXG4gICAgLy8gV2ViS2l0RGF0YUN1ZSBvYmplY3RzIHdoZW4gYXZhaWxhYmxlIGFuZCBzdG9yZSB0aGUgZGVjb2RlZFxuICAgIC8vIElEMyBkYXRhIGluIHRoZSB2YWx1ZSBwcm9wZXJ0eSBvZiB0aGUgY3VlXG4gICAgdmFyIEN1ZSA9IHdpbmRvdy5XZWJLaXREYXRhQ3VlIHx8IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZyYW1lcyA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRJRDNGcmFtZXMoc2FtcGxlc1tpXS5kYXRhKTtcbiAgICAgIGlmIChmcmFtZXMpIHtcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IHNhbXBsZXNbaV0ucHRzO1xuICAgICAgICB2YXIgZW5kVGltZSA9IGkgPCBzYW1wbGVzLmxlbmd0aCAtIDEgPyBzYW1wbGVzW2kgKyAxXS5wdHMgOiBmcmFnbWVudC5lbmRQVFM7XG5cbiAgICAgICAgLy8gR2l2ZSBhIHNsaWdodCBidW1wIHRvIHRoZSBlbmRUaW1lIGlmIGl0J3MgZXF1YWwgdG8gc3RhcnRUaW1lIHRvIGF2b2lkIGEgU3ludGF4RXJyb3IgaW4gSUVcbiAgICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gZW5kVGltZSkge1xuICAgICAgICAgIGVuZFRpbWUgKz0gMC4wMDAxO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmcmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZnJhbWUgPSBmcmFtZXNbal07XG4gICAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3QgcHV0IHRoZSB0aW1lc3RhbXAgZnJhbWUgaW4gdGhlIFRleHRUcmFja1xuICAgICAgICAgIGlmICghaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmlzVGltZVN0YW1wRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICB2YXIgY3VlID0gbmV3IEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsICcnKTtcbiAgICAgICAgICAgIGN1ZS52YWx1ZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5pZDNUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIElEM1RyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGlkM190cmFja19jb250cm9sbGVyID0gKGlkM190cmFja19jb250cm9sbGVyX0lEM1RyYWNrQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9ld21hLmpzXG5mdW5jdGlvbiBld21hX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qXG4gKiBjb21wdXRlIGFuIEV4cG9uZW50aWFsIFdlaWdodGVkIG1vdmluZyBhdmVyYWdlXG4gKiAtIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vdmluZ19hdmVyYWdlI0V4cG9uZW50aWFsX21vdmluZ19hdmVyYWdlXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKi9cblxudmFyIEVXTUEgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLy8gIEFib3V0IGhhbGYgb2YgdGhlIGVzdGltYXRlZCB2YWx1ZSB3aWxsIGJlIGZyb20gdGhlIGxhc3QgfGhhbGZMaWZlfCBzYW1wbGVzIGJ5IHdlaWdodC5cbiAgZnVuY3Rpb24gRVdNQShoYWxmTGlmZSkge1xuICAgIGV3bWFfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVXTUEpO1xuXG4gICAgLy8gTGFyZ2VyIHZhbHVlcyBvZiBhbHBoYSBleHBpcmUgaGlzdG9yaWNhbCBkYXRhIG1vcmUgc2xvd2x5LlxuICAgIHRoaXMuYWxwaGFfID0gaGFsZkxpZmUgPyBNYXRoLmV4cChNYXRoLmxvZygwLjUpIC8gaGFsZkxpZmUpIDogMDtcbiAgICB0aGlzLmVzdGltYXRlXyA9IDA7XG4gICAgdGhpcy50b3RhbFdlaWdodF8gPSAwO1xuICB9XG5cbiAgRVdNQS5wcm90b3R5cGUuc2FtcGxlID0gZnVuY3Rpb24gc2FtcGxlKHdlaWdodCwgdmFsdWUpIHtcbiAgICB2YXIgYWRqQWxwaGEgPSBNYXRoLnBvdyh0aGlzLmFscGhhXywgd2VpZ2h0KTtcbiAgICB0aGlzLmVzdGltYXRlXyA9IHZhbHVlICogKDEgLSBhZGpBbHBoYSkgKyBhZGpBbHBoYSAqIHRoaXMuZXN0aW1hdGVfO1xuICAgIHRoaXMudG90YWxXZWlnaHRfICs9IHdlaWdodDtcbiAgfTtcblxuICBFV01BLnByb3RvdHlwZS5nZXRUb3RhbFdlaWdodCA9IGZ1bmN0aW9uIGdldFRvdGFsV2VpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnRvdGFsV2VpZ2h0XztcbiAgfTtcblxuICBFV01BLnByb3RvdHlwZS5nZXRFc3RpbWF0ZSA9IGZ1bmN0aW9uIGdldEVzdGltYXRlKCkge1xuICAgIGlmICh0aGlzLmFscGhhXykge1xuICAgICAgdmFyIHplcm9GYWN0b3IgPSAxIC0gTWF0aC5wb3codGhpcy5hbHBoYV8sIHRoaXMudG90YWxXZWlnaHRfKTtcbiAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlXyAvIHplcm9GYWN0b3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlXztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEVXTUE7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGV3bWEgPSAoRVdNQSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9ld21hLWJhbmR3aWR0aC1lc3RpbWF0b3IuanNcbmZ1bmN0aW9uIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKlxuICogRVdNQSBCYW5kd2lkdGggRXN0aW1hdG9yXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKiBUcmFja3MgYmFuZHdpZHRoIHNhbXBsZXMgYW5kIGVzdGltYXRlcyBhdmFpbGFibGUgYmFuZHdpZHRoLlxuICogQmFzZWQgb24gdGhlIG1pbmltdW0gb2YgdHdvIGV4cG9uZW50aWFsbHktd2VpZ2h0ZWQgbW92aW5nIGF2ZXJhZ2VzIHdpdGhcbiAqIGRpZmZlcmVudCBoYWxmLWxpdmVzLlxuICovXG5cblxuXG52YXIgZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yX0V3bWFCYW5kV2lkdGhFc3RpbWF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IoaGxzLCBzbG93LCBmYXN0LCBkZWZhdWx0RXN0aW1hdGUpIHtcbiAgICBld21hX2JhbmR3aWR0aF9lc3RpbWF0b3JfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IpO1xuXG4gICAgdGhpcy5obHMgPSBobHM7XG4gICAgdGhpcy5kZWZhdWx0RXN0aW1hdGVfID0gZGVmYXVsdEVzdGltYXRlO1xuICAgIHRoaXMubWluV2VpZ2h0XyA9IDAuMDAxO1xuICAgIHRoaXMubWluRGVsYXlNc18gPSA1MDtcbiAgICB0aGlzLnNsb3dfID0gbmV3IGV3bWEoc2xvdyk7XG4gICAgdGhpcy5mYXN0XyA9IG5ldyBld21hKGZhc3QpO1xuICB9XG5cbiAgRXdtYUJhbmRXaWR0aEVzdGltYXRvci5wcm90b3R5cGUuc2FtcGxlID0gZnVuY3Rpb24gc2FtcGxlKGR1cmF0aW9uTXMsIG51bUJ5dGVzKSB7XG4gICAgZHVyYXRpb25NcyA9IE1hdGgubWF4KGR1cmF0aW9uTXMsIHRoaXMubWluRGVsYXlNc18pO1xuICAgIHZhciBiYW5kd2lkdGggPSA4MDAwICogbnVtQnl0ZXMgLyBkdXJhdGlvbk1zLFxuXG4gICAgLy9jb25zb2xlLmxvZygnaW5zdGFudCBidzonKyBNYXRoLnJvdW5kKGJhbmR3aWR0aCkpO1xuICAgIC8vIHdlIHdlaWdodCBzYW1wbGUgdXNpbmcgbG9hZGluZyBkdXJhdGlvbi4uLi5cbiAgICB3ZWlnaHQgPSBkdXJhdGlvbk1zIC8gMTAwMDtcbiAgICB0aGlzLmZhc3RfLnNhbXBsZSh3ZWlnaHQsIGJhbmR3aWR0aCk7XG4gICAgdGhpcy5zbG93Xy5zYW1wbGUod2VpZ2h0LCBiYW5kd2lkdGgpO1xuICB9O1xuXG4gIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLmNhbkVzdGltYXRlID0gZnVuY3Rpb24gY2FuRXN0aW1hdGUoKSB7XG4gICAgdmFyIGZhc3QgPSB0aGlzLmZhc3RfO1xuICAgIHJldHVybiBmYXN0ICYmIGZhc3QuZ2V0VG90YWxXZWlnaHQoKSA+PSB0aGlzLm1pbldlaWdodF87XG4gIH07XG5cbiAgRXdtYUJhbmRXaWR0aEVzdGltYXRvci5wcm90b3R5cGUuZ2V0RXN0aW1hdGUgPSBmdW5jdGlvbiBnZXRFc3RpbWF0ZSgpIHtcbiAgICBpZiAodGhpcy5jYW5Fc3RpbWF0ZSgpKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdzbG93IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAvL2NvbnNvbGUubG9nKCdmYXN0IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5mYXN0Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAvLyBUYWtlIHRoZSBtaW5pbXVtIG9mIHRoZXNlIHR3byBlc3RpbWF0ZXMuICBUaGlzIHNob3VsZCBoYXZlIHRoZSBlZmZlY3Qgb2ZcbiAgICAgIC8vIGFkYXB0aW5nIGRvd24gcXVpY2tseSwgYnV0IHVwIG1vcmUgc2xvd2x5LlxuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZmFzdF8uZ2V0RXN0aW1hdGUoKSwgdGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEVzdGltYXRlXztcbiAgICB9XG4gIH07XG5cbiAgRXdtYUJhbmRXaWR0aEVzdGltYXRvci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fTtcblxuICByZXR1cm4gRXdtYUJhbmRXaWR0aEVzdGltYXRvcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yID0gKGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl9Fd21hQmFuZFdpZHRoRXN0aW1hdG9yKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvYWJyLWNvbnRyb2xsZXIuanNcbnZhciBhYnJfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGFicl9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGFicl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBhYnJfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIHNpbXBsZSBBQlIgQ29udHJvbGxlclxuICogIC0gY29tcHV0ZSBuZXh0IGxldmVsIGJhc2VkIG9uIGxhc3QgZnJhZ21lbnQgYncgaGV1cmlzdGljc1xuICogIC0gaW1wbGVtZW50IGFuIGFiYW5kb24gcnVsZXMgdHJpZ2dlcmVkIGlmIHdlIGhhdmUgbGVzcyB0aGFuIDIgZnJhZyBidWZmZXJlZCBhbmQgaWYgY29tcHV0ZWQgYncgc2hvd3MgdGhhdCB3ZSByaXNrIGJ1ZmZlciBzdGFsbGluZ1xuICovXG5cblxuXG5cblxuXG5cblxudmFyIGFicl9jb250cm9sbGVyX0FickNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBhYnJfY29udHJvbGxlcl9faW5oZXJpdHMoQWJyQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gQWJyQ29udHJvbGxlcihobHMpIHtcbiAgICBhYnJfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQWJyQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBhYnJfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IpKTtcblxuICAgIF90aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWwgPSAwO1xuICAgIF90aGlzLl9uZXh0QXV0b0xldmVsID0gLTE7XG4gICAgX3RoaXMuaGxzID0gaGxzO1xuICAgIF90aGlzLnRpbWVyID0gbnVsbDtcbiAgICBfdGhpcy5fYndFc3RpbWF0b3IgPSBudWxsO1xuICAgIF90aGlzLm9uQ2hlY2sgPSBfdGhpcy5fYWJhbmRvblJ1bGVzQ2hlY2suYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRpbmcgPSBmdW5jdGlvbiBvbkZyYWdMb2FkaW5nKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicpIHtcbiAgICAgIGlmICghdGhpcy50aW1lcikge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vbkNoZWNrLCAxMDApO1xuICAgICAgfVxuICAgICAgLy8gbGF6eSBpbml0IG9mIGJ3IEVzdGltYXRvciwgcmF0aW9uYWxlIGlzIHRoYXQgd2UgdXNlIGRpZmZlcmVudCBwYXJhbXMgZm9yIExpdmUvVm9EXG4gICAgICAvLyBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHN0cmVhbSBtYW5pZmVzdCAvIHBsYXlsaXN0IHR5cGUgdG8gaW5zdGFudGlhdGUgaXQuXG4gICAgICBpZiAoIXRoaXMuX2J3RXN0aW1hdG9yKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgICAgIGxldmVsID0gZGF0YS5mcmFnLmxldmVsLFxuICAgICAgICAgICAgaXNMaXZlID0gaGxzLmxldmVsc1tsZXZlbF0uZGV0YWlscy5saXZlLFxuICAgICAgICAgICAgY29uZmlnID0gaGxzLmNvbmZpZyxcbiAgICAgICAgICAgIGV3bWFGYXN0ID0gdm9pZCAwLFxuICAgICAgICAgICAgZXdtYVNsb3cgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGlzTGl2ZSkge1xuICAgICAgICAgIGV3bWFGYXN0ID0gY29uZmlnLmFickV3bWFGYXN0TGl2ZTtcbiAgICAgICAgICBld21hU2xvdyA9IGNvbmZpZy5hYnJFd21hU2xvd0xpdmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXdtYUZhc3QgPSBjb25maWcuYWJyRXdtYUZhc3RWb0Q7XG4gICAgICAgICAgZXdtYVNsb3cgPSBjb25maWcuYWJyRXdtYVNsb3dWb0Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYndFc3RpbWF0b3IgPSBuZXcgZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yKGhscywgZXdtYVNsb3csIGV3bWFGYXN0LCBjb25maWcuYWJyRXdtYURlZmF1bHRFc3RpbWF0ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gZnJhZztcbiAgICB9XG4gIH07XG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuX2FiYW5kb25SdWxlc0NoZWNrID0gZnVuY3Rpb24gX2FiYW5kb25SdWxlc0NoZWNrKCkge1xuICAgIC8qXG4gICAgICBtb25pdG9yIGZyYWdtZW50IHJldHJpZXZhbCB0aW1lLi4uXG4gICAgICB3ZSBjb21wdXRlIGV4cGVjdGVkIHRpbWUgb2YgYXJyaXZhbCBvZiB0aGUgY29tcGxldGUgZnJhZ21lbnQuXG4gICAgICB3ZSBjb21wYXJlIGl0IHRvIGV4cGVjdGVkIHRpbWUgb2YgYnVmZmVyIHN0YXJ2YXRpb25cbiAgICAqL1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgdiA9IGhscy5tZWRpYSxcbiAgICAgICAgZnJhZyA9IHRoaXMuZnJhZ0N1cnJlbnQsXG4gICAgICAgIGxvYWRlciA9IGZyYWcubG9hZGVyLFxuICAgICAgICBtaW5BdXRvTGV2ZWwgPSBobHMubWluQXV0b0xldmVsO1xuXG4gICAgLy8gaWYgbG9hZGVyIGhhcyBiZWVuIGRlc3Ryb3llZCBvciBsb2FkaW5nIGhhcyBiZWVuIGFib3J0ZWQsIHN0b3AgdGltZXIgYW5kIHJldHVyblxuICAgIGlmICghbG9hZGVyIHx8IGxvYWRlci5zdGF0cyAmJiBsb2FkZXIuc3RhdHMuYWJvcnRlZCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignZnJhZyBsb2FkZXIgZGVzdHJveSBvciBhYm9ydGVkLCBkaXNhcm0gYWJhbmRvblJ1bGVzJyk7XG4gICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0YXRzID0gbG9hZGVyLnN0YXRzO1xuICAgIC8qIG9ubHkgbW9uaXRvciBmcmFnIHJldHJpZXZhbCB0aW1lIGlmXG4gICAgKHZpZGVvIG5vdCBwYXVzZWQgT1IgZmlyc3QgZnJhZ21lbnQgYmVpbmcgbG9hZGVkKHJlYWR5IHN0YXRlID09PSBIQVZFX05PVEhJTkcgPSAwKSkgQU5EIGF1dG9zd2l0Y2hpbmcgZW5hYmxlZCBBTkQgbm90IGxvd2VzdCBsZXZlbCAoPT4gbWVhbnMgdGhhdCB3ZSBoYXZlIHNldmVyYWwgbGV2ZWxzKSAqL1xuICAgIGlmICh2ICYmIHN0YXRzICYmICghdi5wYXVzZWQgJiYgdi5wbGF5YmFja1JhdGUgIT09IDAgfHwgIXYucmVhZHlTdGF0ZSkgJiYgZnJhZy5hdXRvTGV2ZWwgJiYgZnJhZy5sZXZlbCkge1xuICAgICAgdmFyIHJlcXVlc3REZWxheSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhdHMudHJlcXVlc3QsXG4gICAgICAgICAgcGxheWJhY2tSYXRlID0gTWF0aC5hYnModi5wbGF5YmFja1JhdGUpO1xuICAgICAgLy8gbW9uaXRvciBmcmFnbWVudCBsb2FkIHByb2dyZXNzIGFmdGVyIGhhbGYgb2YgZXhwZWN0ZWQgZnJhZ21lbnQgZHVyYXRpb24sdG8gc3RhYmlsaXplIGJpdHJhdGVcbiAgICAgIGlmIChyZXF1ZXN0RGVsYXkgPiA1MDAgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlKSB7XG4gICAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzLFxuICAgICAgICAgICAgbG9hZFJhdGUgPSBNYXRoLm1heCgxLCBzdGF0cy5idyA/IHN0YXRzLmJ3IC8gOCA6IHN0YXRzLmxvYWRlZCAqIDEwMDAgLyByZXF1ZXN0RGVsYXkpLFxuICAgICAgICAgICAgLy8gYnl0ZS9zOyBhdCBsZWFzdCAxIGJ5dGUvcyB0byBhdm9pZCBkaXZpc2lvbiBieSB6ZXJvXG4gICAgICAgIC8vIGNvbXB1dGUgZXhwZWN0ZWQgZnJhZ21lbnQgbGVuZ3RoIHVzaW5nIGZyYWcgZHVyYXRpb24gYW5kIGxldmVsIGJpdHJhdGUuIGFsc28gZW5zdXJlIHRoYXQgZXhwZWN0ZWQgbGVuIGlzIGd0ZSB0aGFuIGFscmVhZHkgbG9hZGVkIHNpemVcbiAgICAgICAgbGV2ZWwgPSBsZXZlbHNbZnJhZy5sZXZlbF0sXG4gICAgICAgICAgICBsZXZlbEJpdHJhdGUgPSBsZXZlbC5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsLnJlYWxCaXRyYXRlLCBsZXZlbC5iaXRyYXRlKSA6IGxldmVsLmJpdHJhdGUsXG4gICAgICAgICAgICBleHBlY3RlZExlbiA9IHN0YXRzLnRvdGFsID8gc3RhdHMudG90YWwgOiBNYXRoLm1heChzdGF0cy5sb2FkZWQsIE1hdGgucm91bmQoZnJhZy5kdXJhdGlvbiAqIGxldmVsQml0cmF0ZSAvIDgpKSxcbiAgICAgICAgICAgIHBvcyA9IHYuY3VycmVudFRpbWUsXG4gICAgICAgICAgICBmcmFnTG9hZGVkRGVsYXkgPSAoZXhwZWN0ZWRMZW4gLSBzdGF0cy5sb2FkZWQpIC8gbG9hZFJhdGUsXG4gICAgICAgICAgICBidWZmZXJTdGFydmF0aW9uRGVsYXkgPSAoYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKHYsIHBvcywgaGxzLmNvbmZpZy5tYXhCdWZmZXJIb2xlKS5lbmQgLSBwb3MpIC8gcGxheWJhY2tSYXRlO1xuICAgICAgICAvLyBjb25zaWRlciBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb25seSBpZiB3ZSBoYXZlIGxlc3MgdGhhbiAyIGZyYWcgYnVmZmVyZWQgQU5EXG4gICAgICAgIC8vIHRpbWUgdG8gZmluaXNoIGxvYWRpbmcgY3VycmVudCBmcmFnbWVudCBpcyBiaWdnZXIgdGhhbiBidWZmZXIgc3RhcnZhdGlvbiBkZWxheVxuICAgICAgICAvLyBpZSBpZiB3ZSByaXNrIGJ1ZmZlciBzdGFydmF0aW9uIGlmIGJ3IGRvZXMgbm90IGluY3JlYXNlIHF1aWNrbHlcbiAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA8IDIgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlICYmIGZyYWdMb2FkZWREZWxheSA+IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkge1xuICAgICAgICAgIHZhciBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIG5leHRMb2FkTGV2ZWwgPSB2b2lkIDA7XG4gICAgICAgICAgLy8gbGV0cyBpdGVyYXRlIHRocm91Z2ggbG93ZXIgbGV2ZWwgYW5kIHRyeSB0byBmaW5kIHRoZSBiaWdnZXN0IG9uZSB0aGF0IGNvdWxkIGF2b2lkIHJlYnVmZmVyaW5nXG4gICAgICAgICAgLy8gd2Ugc3RhcnQgZnJvbSBjdXJyZW50IGxldmVsIC0gMSBhbmQgd2Ugc3RlcCBkb3duICwgdW50aWwgd2UgZmluZCBhIG1hdGNoaW5nIGxldmVsXG4gICAgICAgICAgZm9yIChuZXh0TG9hZExldmVsID0gZnJhZy5sZXZlbCAtIDE7IG5leHRMb2FkTGV2ZWwgPiBtaW5BdXRvTGV2ZWw7IG5leHRMb2FkTGV2ZWwtLSkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSB0aW1lIHRvIGxvYWQgbmV4dCBmcmFnbWVudCBhdCBsb3dlciBsZXZlbFxuICAgICAgICAgICAgLy8gMC44IDogY29uc2lkZXIgb25seSA4MCUgb2YgY3VycmVudCBidyB0byBiZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgICAgIC8vIDggPSBiaXRzIHBlciBieXRlIChicHMvQnBzKVxuICAgICAgICAgICAgdmFyIGxldmVsTmV4dEJpdHJhdGUgPSBsZXZlbHNbbmV4dExvYWRMZXZlbF0ucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbHNbbmV4dExvYWRMZXZlbF0ucmVhbEJpdHJhdGUsIGxldmVsc1tuZXh0TG9hZExldmVsXS5iaXRyYXRlKSA6IGxldmVsc1tuZXh0TG9hZExldmVsXS5iaXRyYXRlO1xuICAgICAgICAgICAgZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5ID0gZnJhZy5kdXJhdGlvbiAqIGxldmVsTmV4dEJpdHJhdGUgLyAoOCAqIDAuOCAqIGxvYWRSYXRlKTtcbiAgICAgICAgICAgIGlmIChmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPCBidWZmZXJTdGFydmF0aW9uRGVsYXkpIHtcbiAgICAgICAgICAgICAgLy8gd2UgZm91bmQgYSBsb3dlciBsZXZlbCB0aGF0IGJlIHJlYnVmZmVyaW5nIGZyZWUgd2l0aCBjdXJyZW50IGVzdGltYXRlZCBidyAhXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvbmx5IGVtZXJnZW5jeSBzd2l0Y2ggZG93biBpZiBpdCB0YWtlcyBsZXNzIHRpbWUgdG8gbG9hZCBuZXcgZnJhZ21lbnQgYXQgbG93ZXN0IGxldmVsIGluc3RlYWRcbiAgICAgICAgICAvLyBvZiBmaW5pc2hpbmcgbG9hZGluZyBjdXJyZW50IG9uZSAuLi5cbiAgICAgICAgICBpZiAoZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5IDwgZnJhZ0xvYWRlZERlbGF5KSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsb2FkaW5nIHRvbyBzbG93LCBhYm9ydCBmcmFnbWVudCBsb2FkaW5nIGFuZCBzd2l0Y2ggdG8gbGV2ZWwgJyArIG5leHRMb2FkTGV2ZWwgKyAnOmZyYWdMb2FkZWREZWxheVsnICsgbmV4dExvYWRMZXZlbCArICddPGZyYWdMb2FkZWREZWxheVsnICsgKGZyYWcubGV2ZWwgLSAxKSArICddO2J1ZmZlclN0YXJ2YXRpb25EZWxheTonICsgZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5LnRvRml4ZWQoMSkgKyAnPCcgKyBmcmFnTG9hZGVkRGVsYXkudG9GaXhlZCgxKSArICc6JyArIGJ1ZmZlclN0YXJ2YXRpb25EZWxheS50b0ZpeGVkKDEpKTtcbiAgICAgICAgICAgIC8vIGZvcmNlIG5leHQgbG9hZCBsZXZlbCBpbiBhdXRvIG1vZGVcbiAgICAgICAgICAgIGhscy5uZXh0TG9hZExldmVsID0gbmV4dExvYWRMZXZlbDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBidyBlc3RpbWF0ZSBmb3IgdGhpcyBmcmFnbWVudCBiZWZvcmUgY2FuY2VsbGluZyBsb2FkICh0aGlzIHdpbGwgaGVscCByZWR1Y2luZyB0aGUgYncpXG4gICAgICAgICAgICB0aGlzLl9id0VzdGltYXRvci5zYW1wbGUocmVxdWVzdERlbGF5LCBzdGF0cy5sb2FkZWQpO1xuICAgICAgICAgICAgLy9hYm9ydCBmcmFnbWVudCBsb2FkaW5nXG4gICAgICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIC8vIHN0b3AgYWJhbmRvbiBydWxlcyB0aW1lclxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELCB7IGZyYWc6IGZyYWcsIHN0YXRzOiBzdGF0cyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicgJiYgIWlzTmFOKGZyYWcuc24pKSB7XG4gICAgICAvLyBzdG9wIG1vbml0b3JpbmcgYncgb25jZSBmcmFnIGxvYWRlZFxuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAvLyBzdG9yZSBsZXZlbCBpZCBhZnRlciBzdWNjZXNzZnVsIGZyYWdtZW50IGxvYWRcbiAgICAgIHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbCA9IGZyYWcubGV2ZWw7XG4gICAgICAvLyByZXNldCBmb3JjZWQgYXV0byBsZXZlbCB2YWx1ZSBzbyB0aGF0IG5leHQgbGV2ZWwgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuXG4gICAgICAvLyBjb21wdXRlIGxldmVsIGF2ZXJhZ2UgYml0cmF0ZVxuICAgICAgaWYgKHRoaXMuaGxzLmNvbmZpZy5hYnJNYXhXaXRoUmVhbEJpdHJhdGUpIHtcbiAgICAgICAgdmFyIGxldmVsID0gdGhpcy5obHMubGV2ZWxzW2ZyYWcubGV2ZWxdO1xuICAgICAgICB2YXIgbG9hZGVkQnl0ZXMgPSAobGV2ZWwubG9hZGVkID8gbGV2ZWwubG9hZGVkLmJ5dGVzIDogMCkgKyBkYXRhLnN0YXRzLmxvYWRlZDtcbiAgICAgICAgdmFyIGxvYWRlZER1cmF0aW9uID0gKGxldmVsLmxvYWRlZCA/IGxldmVsLmxvYWRlZC5kdXJhdGlvbiA6IDApICsgZGF0YS5mcmFnLmR1cmF0aW9uO1xuICAgICAgICBsZXZlbC5sb2FkZWQgPSB7IGJ5dGVzOiBsb2FkZWRCeXRlcywgZHVyYXRpb246IGxvYWRlZER1cmF0aW9uIH07XG4gICAgICAgIGxldmVsLnJlYWxCaXRyYXRlID0gTWF0aC5yb3VuZCg4ICogbG9hZGVkQnl0ZXMgLyBsb2FkZWREdXJhdGlvbik7XG4gICAgICB9XG4gICAgICAvLyBpZiBmcmFnbWVudCBoYXMgYmVlbiBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCxcbiAgICAgIGlmIChkYXRhLmZyYWcuYml0cmF0ZVRlc3QpIHtcbiAgICAgICAgdmFyIHN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHN0YXRzLnRsb2FkO1xuICAgICAgICB0aGlzLm9uRnJhZ0J1ZmZlcmVkKGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdCdWZmZXJlZCA9IGZ1bmN0aW9uIG9uRnJhZ0J1ZmZlcmVkKGRhdGEpIHtcbiAgICB2YXIgc3RhdHMgPSBkYXRhLnN0YXRzLFxuICAgICAgICBmcmFnID0gZGF0YS5mcmFnO1xuICAgIC8vIG9ubHkgdXBkYXRlIHN0YXRzIG9uIGZpcnN0IGZyYWcgYnVmZmVyaW5nXG4gICAgLy8gaWYgc2FtZSBmcmFnIGlzIGxvYWRlZCBtdWx0aXBsZSB0aW1lcywgaXQgbWlnaHQgYmUgaW4gYnJvd3NlciBjYWNoZSwgYW5kIGxvYWRlZCBxdWlja2x5XG4gICAgLy8gYW5kIGxlYWRpbmcgdG8gd3JvbmcgYncgZXN0aW1hdGlvblxuICAgIC8vIG9uIGJpdHJhdGUgdGVzdCwgYWxzbyBvbmx5IHVwZGF0ZSBzdGF0cyBvbmNlIChpZiB0bG9hZCA9IHRidWZmZXJlZCA9PSBvbiBGUkFHX0xPQURFRClcbiAgICBpZiAoc3RhdHMuYWJvcnRlZCAhPT0gdHJ1ZSAmJiBmcmFnLmxvYWRDb3VudGVyID09PSAxICYmIGZyYWcudHlwZSA9PT0gJ21haW4nICYmICFpc05hTihmcmFnLnNuKSAmJiAoIWZyYWcuYml0cmF0ZVRlc3QgfHwgc3RhdHMudGxvYWQgPT09IHN0YXRzLnRidWZmZXJlZCkpIHtcbiAgICAgIC8vIHVzZSB0cGFyc2VkLXRyZXF1ZXN0IGluc3RlYWQgb2YgdGJ1ZmZlcmVkLXRyZXF1ZXN0IHRvIGNvbXB1dGUgZnJhZ0xvYWRpbmdQcm9jZXNzaW5nOyByYXRpb25hbGUgaXMgdGhhdCAgYnVmZmVyIGFwcGVuZGluZyBvbmx5IGhhcHBlbnMgb25jZSBtZWRpYSBpcyBhdHRhY2hlZFxuICAgICAgLy8gaW4gY2FzZSB3ZSB1c2UgY29uZmlnLnN0YXJ0RnJhZ1ByZWZldGNoIHdoaWxlIG1lZGlhIGlzIG5vdCBhdHRhY2hlZCB5ZXQsIGZyYWdtZW50IG1pZ2h0IGJlIHBhcnNlZCB3aGlsZSBtZWRpYSBub3QgYXR0YWNoZWQgeWV0LCBidXQgaXQgd2lsbCBvbmx5IGJlIGJ1ZmZlcmVkIG9uIG1lZGlhIGF0dGFjaGVkXG4gICAgICAvLyBhcyBhIGNvbnNlcXVlbmNlIGl0IGNvdWxkIGhhcHBlbiByZWFsbHkgbGF0ZSBpbiB0aGUgcHJvY2Vzcy4gbWVhbmluZyB0aGF0IGFwcGVuZGluZyBkdXJhdGlvbiBtaWdodCBhcHBlYXJzIGh1Z2UgLi4uIGxlYWRpbmcgdG8gdW5kZXJlc3RpbWF0ZWQgdGhyb3VnaHB1dCBlc3RpbWF0aW9uXG4gICAgICB2YXIgZnJhZ0xvYWRpbmdQcm9jZXNzaW5nTXMgPSBzdGF0cy50cGFyc2VkIC0gc3RhdHMudHJlcXVlc3Q7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xhdGVuY3kvbG9hZGluZy9wYXJzaW5nL2FwcGVuZC9rYnBzOicgKyBNYXRoLnJvdW5kKHN0YXRzLnRmaXJzdCAtIHN0YXRzLnRyZXF1ZXN0KSArICcvJyArIE1hdGgucm91bmQoc3RhdHMudGxvYWQgLSBzdGF0cy50Zmlyc3QpICsgJy8nICsgTWF0aC5yb3VuZChzdGF0cy50cGFyc2VkIC0gc3RhdHMudGxvYWQpICsgJy8nICsgTWF0aC5yb3VuZChzdGF0cy50YnVmZmVyZWQgLSBzdGF0cy50cGFyc2VkKSArICcvJyArIE1hdGgucm91bmQoOCAqIHN0YXRzLmxvYWRlZCAvIChzdGF0cy50YnVmZmVyZWQgLSBzdGF0cy50cmVxdWVzdCkpKTtcbiAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcywgc3RhdHMubG9hZGVkKTtcbiAgICAgIHN0YXRzLmJ3RXN0aW1hdGUgPSB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpO1xuICAgICAgLy8gaWYgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3QsIChobHMuc3RhcnRMZXZlbCA9IC0xKSwgc3RvcmUgYml0cmF0ZSB0ZXN0IGRlbGF5IGR1cmF0aW9uXG4gICAgICBpZiAoZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICB0aGlzLmJpdHJhdGVUZXN0RGVsYXkgPSBmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcyAvIDEwMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJpdHJhdGVUZXN0RGVsYXkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgLy8gc3RvcCB0aW1lciBpbiBjYXNlIG9mIGZyYWcgbG9hZGluZyBlcnJvclxuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5jbGVhclRpbWVyID0gZnVuY3Rpb24gY2xlYXJUaW1lcigpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIHRoaXMudGltZXIgPSBudWxsO1xuICB9O1xuXG4gIC8vIHJldHVybiBuZXh0IGF1dG8gbGV2ZWxcblxuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLl9maW5kQmVzdExldmVsID0gZnVuY3Rpb24gX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBjdXJyZW50QncsIG1pbkF1dG9MZXZlbCwgbWF4QXV0b0xldmVsLCBtYXhGZXRjaER1cmF0aW9uLCBid0ZhY3RvciwgYndVcEZhY3RvciwgbGV2ZWxzKSB7XG4gICAgZm9yICh2YXIgaSA9IG1heEF1dG9MZXZlbDsgaSA+PSBtaW5BdXRvTGV2ZWw7IGktLSkge1xuICAgICAgdmFyIGxldmVsSW5mbyA9IGxldmVsc1tpXSxcbiAgICAgICAgICBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscyxcbiAgICAgICAgICBhdmdEdXJhdGlvbiA9IGxldmVsRGV0YWlscyA/IGxldmVsRGV0YWlscy50b3RhbGR1cmF0aW9uIC8gbGV2ZWxEZXRhaWxzLmZyYWdtZW50cy5sZW5ndGggOiBjdXJyZW50RnJhZ0R1cmF0aW9uLFxuICAgICAgICAgIGxpdmUgPSBsZXZlbERldGFpbHMgPyBsZXZlbERldGFpbHMubGl2ZSA6IGZhbHNlLFxuICAgICAgICAgIGFkanVzdGVkYncgPSB2b2lkIDA7XG4gICAgICAvLyBmb2xsb3cgYWxnb3JpdGhtIGNhcHR1cmVkIGZyb20gc3RhZ2VmcmlnaHQgOlxuICAgICAgLy8gaHR0cHM6Ly9hbmRyb2lkLmdvb2dsZXNvdXJjZS5jb20vcGxhdGZvcm0vZnJhbWV3b3Jrcy9hdi8rL21hc3Rlci9tZWRpYS9saWJzdGFnZWZyaWdodC9odHRwbGl2ZS9MaXZlU2Vzc2lvbi5jcHBcbiAgICAgIC8vIFBpY2sgdGhlIGhpZ2hlc3QgYmFuZHdpZHRoIHN0cmVhbSBiZWxvdyBvciBlcXVhbCB0byBlc3RpbWF0ZWQgYmFuZHdpZHRoLlxuICAgICAgLy8gY29uc2lkZXIgb25seSA4MCUgb2YgdGhlIGF2YWlsYWJsZSBiYW5kd2lkdGgsIGJ1dCBpZiB3ZSBhcmUgc3dpdGNoaW5nIHVwLFxuICAgICAgLy8gYmUgZXZlbiBtb3JlIGNvbnNlcnZhdGl2ZSAoNzAlKSB0byBhdm9pZCBvdmVyZXN0aW1hdGluZyBhbmQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIHN3aXRjaGluZyBiYWNrLlxuICAgICAgaWYgKGkgPD0gY3VycmVudExldmVsKSB7XG4gICAgICAgIGFkanVzdGVkYncgPSBid0ZhY3RvciAqIGN1cnJlbnRCdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkanVzdGVkYncgPSBid1VwRmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgfVxuICAgICAgdmFyIGJpdHJhdGUgPSBsZXZlbHNbaV0ucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbHNbaV0ucmVhbEJpdHJhdGUsIGxldmVsc1tpXS5iaXRyYXRlKSA6IGxldmVsc1tpXS5iaXRyYXRlLFxuICAgICAgICAgIGZldGNoRHVyYXRpb24gPSBiaXRyYXRlICogYXZnRHVyYXRpb24gLyBhZGp1c3RlZGJ3O1xuXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgnbGV2ZWwvYWRqdXN0ZWRidy9iaXRyYXRlL2F2Z0R1cmF0aW9uL21heEZldGNoRHVyYXRpb24vZmV0Y2hEdXJhdGlvbjogJyArIGkgKyAnLycgKyBNYXRoLnJvdW5kKGFkanVzdGVkYncpICsgJy8nICsgYml0cmF0ZSArICcvJyArIGF2Z0R1cmF0aW9uICsgJy8nICsgbWF4RmV0Y2hEdXJhdGlvbiArICcvJyArIGZldGNoRHVyYXRpb24pO1xuICAgICAgLy8gaWYgYWRqdXN0ZWQgYncgaXMgZ3JlYXRlciB0aGFuIGxldmVsIGJpdHJhdGUgQU5EXG4gICAgICBpZiAoYWRqdXN0ZWRidyA+IGJpdHJhdGUgJiYgKFxuICAgICAgLy8gZnJhZ21lbnQgZmV0Y2hEdXJhdGlvbiB1bmtub3duIE9SIGxpdmUgc3RyZWFtIE9SIGZyYWdtZW50IGZldGNoRHVyYXRpb24gbGVzcyB0aGFuIG1heCBhbGxvd2VkIGZldGNoIGR1cmF0aW9uLCB0aGVuIHRoaXMgbGV2ZWwgbWF0Y2hlc1xuICAgICAgLy8gd2UgZG9uJ3QgYWNjb3VudCBmb3IgbWF4IEZldGNoIER1cmF0aW9uIGZvciBsaXZlIHN0cmVhbXMsIHRoaXMgaXMgdG8gYXZvaWQgc3dpdGNoaW5nIGRvd24gd2hlbiBuZWFyIHRoZSBlZGdlIG9mIGxpdmUgc2xpZGluZyB3aW5kb3cgLi4uXG4gICAgICAvLyBzcGVjaWFsIGNhc2UgdG8gc3VwcG9ydCBzdGFydExldmVsID0gLTEgKGJpdHJhdGVUZXN0KSBvbiBsaXZlIHN0cmVhbXMgOiBpbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkIG5vdCBleGl0IGxvb3Agc28gdGhhdCBfZmluZEJlc3RMZXZlbCB3aWxsIHJldHVybiAtMVxuICAgICAgIWZldGNoRHVyYXRpb24gfHwgbGl2ZSAmJiAhdGhpcy5iaXRyYXRlVGVzdERlbGF5IHx8IGZldGNoRHVyYXRpb24gPCBtYXhGZXRjaER1cmF0aW9uKSkge1xuICAgICAgICAvLyBhcyB3ZSBhcmUgbG9vcGluZyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0LCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBiZXN0IGFjaGlldmFibGUgcXVhbGl0eSBsZXZlbFxuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbm90IGVub3VnaCB0aW1lIGJ1ZGdldCBldmVuIHdpdGggcXVhbGl0eSBsZXZlbCAwIC4uLiByZWJ1ZmZlcmluZyBtaWdodCBoYXBwZW5cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgYWJyX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKEFickNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnbmV4dEF1dG9MZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZm9yY2VkQXV0b0xldmVsID0gdGhpcy5fbmV4dEF1dG9MZXZlbDtcbiAgICAgIHZhciBid0VzdGltYXRvciA9IHRoaXMuX2J3RXN0aW1hdG9yO1xuICAgICAgLy8gaW4gY2FzZSBuZXh0IGF1dG8gbGV2ZWwgaGFzIGJlZW4gZm9yY2VkLCBhbmQgYncgbm90IGF2YWlsYWJsZSBvciBub3QgcmVsaWFibGUsIHJldHVybiBmb3JjZWQgdmFsdWVcbiAgICAgIGlmIChmb3JjZWRBdXRvTGV2ZWwgIT09IC0xICYmICghYndFc3RpbWF0b3IgfHwgIWJ3RXN0aW1hdG9yLmNhbkVzdGltYXRlKCkpKSB7XG4gICAgICAgIHJldHVybiBmb3JjZWRBdXRvTGV2ZWw7XG4gICAgICB9XG4gICAgICAvLyBjb21wdXRlIG5leHQgbGV2ZWwgdXNpbmcgQUJSIGxvZ2ljXG4gICAgICB2YXIgbmV4dEFCUkF1dG9MZXZlbCA9IHRoaXMuX25leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAvLyBpZiBmb3JjZWQgYXV0byBsZXZlbCBoYXMgYmVlbiBkZWZpbmVkLCB1c2UgaXQgdG8gY2FwIEFCUiBjb21wdXRlZCBxdWFsaXR5IGxldmVsXG4gICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSkge1xuICAgICAgICBuZXh0QUJSQXV0b0xldmVsID0gTWF0aC5taW4oZm9yY2VkQXV0b0xldmVsLCBuZXh0QUJSQXV0b0xldmVsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0QUJSQXV0b0xldmVsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV4dExldmVsKSB7XG4gICAgICB0aGlzLl9uZXh0QXV0b0xldmVsID0gbmV4dExldmVsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19uZXh0QUJSQXV0b0xldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgICBtYXhBdXRvTGV2ZWwgPSBobHMubWF4QXV0b0xldmVsLFxuICAgICAgICAgIGxldmVscyA9IGhscy5sZXZlbHMsXG4gICAgICAgICAgY29uZmlnID0gaGxzLmNvbmZpZyxcbiAgICAgICAgICBtaW5BdXRvTGV2ZWwgPSBobHMubWluQXV0b0xldmVsO1xuICAgICAgdmFyIHYgPSBobHMubWVkaWEsXG4gICAgICAgICAgY3VycmVudExldmVsID0gdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsLFxuICAgICAgICAgIGN1cnJlbnRGcmFnRHVyYXRpb24gPSB0aGlzLmZyYWdDdXJyZW50ID8gdGhpcy5mcmFnQ3VycmVudC5kdXJhdGlvbiA6IDAsXG4gICAgICAgICAgcG9zID0gdiA/IHYuY3VycmVudFRpbWUgOiAwLFxuXG4gICAgICAvLyBwbGF5YmFja1JhdGUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoZSBwbGF5YmFjayByYXRlOyBpZiB2LnBsYXliYWNrUmF0ZSBpcyAwLCB3ZSB1c2UgMSB0byBsb2FkIGFzXG4gICAgICAvLyBpZiB3ZSdyZSBwbGF5aW5nIGJhY2sgYXQgdGhlIG5vcm1hbCByYXRlLlxuICAgICAgcGxheWJhY2tSYXRlID0gdiAmJiB2LnBsYXliYWNrUmF0ZSAhPT0gMCA/IE1hdGguYWJzKHYucGxheWJhY2tSYXRlKSA6IDEuMCxcbiAgICAgICAgICBhdmdidyA9IHRoaXMuX2J3RXN0aW1hdG9yID8gdGhpcy5fYndFc3RpbWF0b3IuZ2V0RXN0aW1hdGUoKSA6IGNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlLFxuXG4gICAgICAvLyBidWZmZXJTdGFydmF0aW9uRGVsYXkgaXMgdGhlIHdhbGwtY2xvY2sgdGltZSBsZWZ0IHVudGlsIHRoZSBwbGF5YmFjayBidWZmZXIgaXMgZXhoYXVzdGVkLlxuICAgICAgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID0gKGJ1ZmZlcl9oZWxwZXIuYnVmZmVySW5mbyh2LCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKS5lbmQgLSBwb3MpIC8gcGxheWJhY2tSYXRlO1xuXG4gICAgICAvLyBGaXJzdCwgbG9vayB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSBsZXZlbCBtYXRjaGluZyB3aXRoIG91ciBhdmcgYmFuZHdpZHRoIEFORCB0aGF0IGNvdWxkIGFsc28gZ3VhcmFudGVlIG5vIHJlYnVmZmVyaW5nIGF0IGFsbFxuICAgICAgdmFyIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSwgY29uZmlnLmFickJhbmRXaWR0aEZhY3RvciwgY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yLCBsZXZlbHMpO1xuICAgICAgaWYgKGJlc3RMZXZlbCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBiZXN0TGV2ZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgncmVidWZmZXJpbmcgZXhwZWN0ZWQgdG8gaGFwcGVuLCBsZXRzIHRyeSB0byBmaW5kIGEgcXVhbGl0eSBsZXZlbCBtaW5pbWl6aW5nIHRoZSByZWJ1ZmZlcmluZycpO1xuICAgICAgICAvLyBub3QgcG9zc2libGUgdG8gZ2V0IHJpZCBvZiByZWJ1ZmZlcmluZyAuLi4gbGV0J3MgdHJ5IHRvIGZpbmQgbGV2ZWwgdGhhdCB3aWxsIGd1YXJhbnRlZSBsZXNzIHRoYW4gbWF4U3RhcnZhdGlvbkRlbGF5IG9mIHJlYnVmZmVyaW5nXG4gICAgICAgIC8vIGlmIG5vIG1hdGNoaW5nIGxldmVsIGZvdW5kLCBsb2dpYyB3aWxsIHJldHVybiAwXG4gICAgICAgIHZhciBtYXhTdGFydmF0aW9uRGVsYXkgPSBjdXJyZW50RnJhZ0R1cmF0aW9uID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheSkgOiBjb25maWcubWF4U3RhcnZhdGlvbkRlbGF5LFxuICAgICAgICAgICAgYndGYWN0b3IgPSBjb25maWcuYWJyQmFuZFdpZHRoRmFjdG9yLFxuICAgICAgICAgICAgYndVcEZhY3RvciA9IGNvbmZpZy5hYnJCYW5kV2lkdGhVcEZhY3RvcjtcbiAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9PT0gMCkge1xuICAgICAgICAgIC8vIGluIGNhc2UgYnVmZmVyIGlzIGVtcHR5LCBsZXQncyBjaGVjayBpZiBwcmV2aW91cyBmcmFnbWVudCB3YXMgbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3RcbiAgICAgICAgICB2YXIgYml0cmF0ZVRlc3REZWxheSA9IHRoaXMuYml0cmF0ZVRlc3REZWxheTtcbiAgICAgICAgICBpZiAoYml0cmF0ZVRlc3REZWxheSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgaXMgdGhlIGNhc2UsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb3VyIG1heCBzdGFydmF0aW9uIGRlbGF5IHVzaW5nIG1heExvYWRpbmdEZWxheSBjb25maWcgdmFsdWVcbiAgICAgICAgICAgIC8vIG1heCB2aWRlbyBsb2FkaW5nIGRlbGF5IHVzZWQgaW4gIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24gOlxuICAgICAgICAgICAgLy8gaW4gdGhhdCBtb2RlIEFCUiBjb250cm9sbGVyIHdpbGwgZW5zdXJlIHRoYXQgdmlkZW8gbG9hZGluZyB0aW1lIChpZSB0aGUgdGltZSB0byBmZXRjaCB0aGUgZmlyc3QgZnJhZ21lbnQgYXQgbG93ZXN0IHF1YWxpdHkgbGV2ZWwgK1xuICAgICAgICAgICAgLy8gdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZyYWdtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBxdWFsaXR5IGxldmVsIGlzIGxlc3MgdGhhbiBgYGBtYXhMb2FkaW5nRGVsYXlgYGAgKVxuICAgICAgICAgICAgLy8gY2FwIG1heExvYWRpbmdEZWxheSBhbmQgZW5zdXJlIGl0IGlzIG5vdCBiaWdnZXIgJ3RoYW4gYml0cmF0ZSB0ZXN0JyBmcmFnIGR1cmF0aW9uXG4gICAgICAgICAgICB2YXIgbWF4TG9hZGluZ0RlbGF5ID0gY3VycmVudEZyYWdEdXJhdGlvbiA/IE1hdGgubWluKGN1cnJlbnRGcmFnRHVyYXRpb24sIGNvbmZpZy5tYXhMb2FkaW5nRGVsYXkpIDogY29uZmlnLm1heExvYWRpbmdEZWxheTtcbiAgICAgICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9IG1heExvYWRpbmdEZWxheSAtIGJpdHJhdGVUZXN0RGVsYXk7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgnYml0cmF0ZSB0ZXN0IHRvb2sgJyArIE1hdGgucm91bmQoMTAwMCAqIGJpdHJhdGVUZXN0RGVsYXkpICsgJ21zLCBzZXQgZmlyc3QgZnJhZ21lbnQgbWF4IGZldGNoRHVyYXRpb24gdG8gJyArIE1hdGgucm91bmQoMTAwMCAqIG1heFN0YXJ2YXRpb25EZWxheSkgKyAnIG1zJyk7XG4gICAgICAgICAgICAvLyBkb24ndCB1c2UgY29uc2VydmF0aXZlIGZhY3RvciBvbiBiaXRyYXRlIHRlc3RcbiAgICAgICAgICAgIGJ3RmFjdG9yID0gYndVcEZhY3RvciA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSArIG1heFN0YXJ2YXRpb25EZWxheSwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscyk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChiZXN0TGV2ZWwsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBYnJDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWJyX2NvbnRyb2xsZXIgPSAoYWJyX2NvbnRyb2xsZXJfQWJyQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2J1ZmZlci1jb250cm9sbGVyLmpzXG5mdW5jdGlvbiBidWZmZXJfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBidWZmZXJfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gYnVmZmVyX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBCdWZmZXIgQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cbnZhciBidWZmZXJfY29udHJvbGxlcl9CdWZmZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgYnVmZmVyX2NvbnRyb2xsZXJfX2luaGVyaXRzKEJ1ZmZlckNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEJ1ZmZlckNvbnRyb2xsZXIoaGxzKSB7XG4gICAgYnVmZmVyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1ZmZlckNvbnRyb2xsZXIpO1xuXG4gICAgLy8gdGhlIHZhbHVlIHRoYXQgd2UgaGF2ZSBzZXQgbWVkaWFzb3VyY2UuZHVyYXRpb24gdG9cbiAgICAvLyAodGhlIGFjdHVhbCBkdXJhdGlvbiBtYXkgYmUgdHdlYWtlZCBzbGlnaGx5IGJ5IHRoZSBicm93c2VyKVxuICAgIHZhciBfdGhpcyA9IGJ1ZmZlcl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9QQVJTRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfUkVTRVQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9FT1MsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9QVFNfVVBEQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1VQREFURUQpKTtcblxuICAgIF90aGlzLl9tc0R1cmF0aW9uID0gbnVsbDtcbiAgICAvLyB0aGUgdmFsdWUgdGhhdCB3ZSB3YW50IHRvIHNldCBtZWRpYVNvdXJjZS5kdXJhdGlvbiB0b1xuICAgIF90aGlzLl9sZXZlbER1cmF0aW9uID0gbnVsbDtcblxuICAgIC8vIFNvdXJjZSBCdWZmZXIgbGlzdGVuZXJzXG4gICAgX3RoaXMub25zYnVlID0gX3RoaXMub25TQlVwZGF0ZUVuZC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbnNiZSA9IF90aGlzLm9uU0JVcGRhdGVFcnJvci5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgX3RoaXMudHJhY2tzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxQdHNVcGRhdGVkID0gZnVuY3Rpb24gb25MZXZlbFB0c1VwZGF0ZWQoZGF0YSkge1xuICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3MuYXVkaW87XG5cbiAgICAvLyBBZGp1c3RpbmcgYFNvdXJjZUJ1ZmZlci50aW1lc3RhbXBPZmZzZXRgIChkZXNpcmVkIHBvaW50IGluIHRoZSB0aW1lbGluZSB3aGVyZSB0aGUgbmV4dCBmcmFtZXMgc2hvdWxkIGJlIGFwcGVuZGVkKVxuICAgIC8vIGluIENocm9tZSBicm93c2VyIHdoZW4gd2UgZGV0ZWN0IE1QRUcgYXVkaW8gY29udGFpbmVyIGFuZCB0aW1lIGRlbHRhIGJldHdlZW4gbGV2ZWwgUFRTIGFuZCBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGBcbiAgICAvLyBpcyBncmVhdGVyIHRoYW4gMTAwbXMgKHRoaXMgaXMgZW5vdWdoIHRvIGhhbmRsZSBzZWVrIGZvciBWT0Qgb3IgbGV2ZWwgY2hhbmdlIGZvciBMSVZFIHZpZGVvcykuIEF0IHRoZSB0aW1lIG9mIGNoYW5nZSB3ZSBpc3N1ZVxuICAgIC8vIGBTb3VyY2VCdWZmZXIuYWJvcnQoKWAgYW5kIGFkanVzdGluZyBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGAgaWYgYFNvdXJjZUJ1ZmZlci51cGRhdGluZ2AgaXMgZmFsc2Ugb3IgYXdhaXRpbmcgYHVwZGF0ZWVuZGBcbiAgICAvLyBldmVudCBpZiBTQiBpcyBpbiB1cGRhdGluZyBzdGF0ZS5cbiAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzMzMiNpc3N1ZWNvbW1lbnQtMjU3OTg2NDg2XG5cbiAgICBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiBhdWRpb1RyYWNrICYmIGF1ZGlvVHJhY2suY29udGFpbmVyID09PSAnYXVkaW8vbXBlZycpIHtcbiAgICAgIC8vIENocm9tZSBhdWRpbyBtcDMgdHJhY2tcbiAgICAgIHZhciBhdWRpb0J1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLmF1ZGlvO1xuICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0IC0gZGF0YS5zdGFydCk7XG5cbiAgICAgIC8vIGFkanVzdCB0aW1lc3RhbXAgb2Zmc2V0IGlmIHRpbWUgZGVsdGEgaXMgZ3JlYXRlciB0aGFuIDEwMG1zXG4gICAgICBpZiAoZGVsdGEgPiAwLjEpIHtcbiAgICAgICAgdmFyIHVwZGF0aW5nID0gYXVkaW9CdWZmZXIudXBkYXRpbmc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhdWRpb0J1ZmZlci5hYm9ydCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB1cGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignY2FuIG5vdCBhYm9ydCBhdWRpbyBidWZmZXI6ICcgKyBlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cGRhdGluZykge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2NoYW5nZSBtcGVnIGF1ZGlvIHRpbWVzdGFtcCBvZmZzZXQgZnJvbSAnICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgJyB0byAnICsgZGF0YS5zdGFydCk7XG4gICAgICAgICAgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gb25NYW5pZmVzdFBhcnNlZChkYXRhKSB7XG4gICAgdmFyIGF1ZGlvRXhwZWN0ZWQgPSBkYXRhLmF1ZGlvLFxuICAgICAgICB2aWRlb0V4cGVjdGVkID0gZGF0YS52aWRlbyB8fCBkYXRhLmxldmVscy5sZW5ndGggJiYgZGF0YS5hdWRpbyxcbiAgICAgICAgc291cmNlQnVmZmVyTmIgPSAwO1xuICAgIC8vIGluIGNhc2Ugb2YgYWx0IGF1ZGlvIDIgQlVGRkVSX0NPREVDUyBldmVudHMgd2lsbCBiZSB0cmlnZ2VyZWQsIG9uZSBwZXIgc3RyZWFtIGNvbnRyb2xsZXJcbiAgICAvLyBzb3VyY2VidWZmZXJzIHdpbGwgYmUgY3JlYXRlZCBhbGwgYXQgb25jZSB3aGVuIHRoZSBleHBlY3RlZCBuYiBvZiB0cmFja3Mgd2lsbCBiZSByZWFjaGVkXG4gICAgLy8gaW4gY2FzZSBhbHQgYXVkaW8gaXMgbm90IHVzZWQsIG9ubHkgb25lIEJVRkZFUl9DT0RFQyBldmVudCB3aWxsIGJlIGZpcmVkIGZyb20gbWFpbiBzdHJlYW0gY29udHJvbGxlclxuICAgIC8vIGl0IHdpbGwgY29udGFpbiB0aGUgZXhwZWN0ZWQgbmIgb2Ygc291cmNlIGJ1ZmZlcnMsIG5vIG5lZWQgdG8gY29tcHV0ZSBpdFxuICAgIGlmIChkYXRhLmFsdEF1ZGlvICYmIChhdWRpb0V4cGVjdGVkIHx8IHZpZGVvRXhwZWN0ZWQpKSB7XG4gICAgICBzb3VyY2VCdWZmZXJOYiA9IChhdWRpb0V4cGVjdGVkID8gMSA6IDApICsgKHZpZGVvRXhwZWN0ZWQgPyAxIDogMCk7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coc291cmNlQnVmZmVyTmIgKyAnIHNvdXJjZUJ1ZmZlcihzKSBleHBlY3RlZCcpO1xuICAgIH1cbiAgICB0aGlzLnNvdXJjZUJ1ZmZlck5iID0gc291cmNlQnVmZmVyTmI7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgLy8gc2V0dXAgdGhlIG1lZGlhIHNvdXJjZVxuICAgICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpO1xuICAgICAgLy9NZWRpYSBTb3VyY2UgbGlzdGVuZXJzXG4gICAgICB0aGlzLm9ubXNvID0gdGhpcy5vbk1lZGlhU291cmNlT3Blbi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vbm1zZSA9IHRoaXMub25NZWRpYVNvdXJjZUVuZGVkLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9ubXNjID0gdGhpcy5vbk1lZGlhU291cmNlQ2xvc2UuYmluZCh0aGlzKTtcbiAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLm9ubXNvKTtcbiAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5vbm1zZSk7XG4gICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMub25tc2MpO1xuICAgICAgLy8gbGluayB2aWRlbyBhbmQgbWVkaWEgU291cmNlXG4gICAgICBtZWRpYS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1zKTtcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYSBzb3VyY2UgZGV0YWNoaW5nJyk7XG4gICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICBpZiAobXMpIHtcbiAgICAgIGlmIChtcy5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBlbmRPZlN0cmVhbSBjb3VsZCB0cmlnZ2VyIGV4Y2VwdGlvbiBpZiBhbnkgc291cmNlYnVmZmVyIGlzIGluIHVwZGF0aW5nIHN0YXRlXG4gICAgICAgICAgLy8gd2UgZG9uJ3QgcmVhbGx5IGNhcmUgYWJvdXQgY2hlY2tpbmcgc291cmNlYnVmZmVyIHN0YXRlIGhlcmUsXG4gICAgICAgICAgLy8gYXMgd2UgYXJlIGFueXdheSBkZXRhY2hpbmcgdGhlIE1lZGlhU291cmNlXG4gICAgICAgICAgLy8gbGV0J3MganVzdCBhdm9pZCB0aGlzIGV4Y2VwdGlvbiB0byBwcm9wYWdhdGVcbiAgICAgICAgICBtcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdvbk1lZGlhRGV0YWNoaW5nOicgKyBlcnIubWVzc2FnZSArICcgd2hpbGUgY2FsbGluZyBlbmRPZlN0cmVhbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMub25tc2UpO1xuICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLm9ubXNjKTtcblxuICAgICAgLy8gRGV0YWNoIHByb3Blcmx5IHRoZSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBIVE1MTWVkaWFFbGVtZW50IGFzXG4gICAgICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzLlxuICAgICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLm1lZGlhLnNyYyk7XG4gICAgICAgIHRoaXMubWVkaWEucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgdGhpcy5tZWRpYS5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgICB0aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgIHRoaXMudHJhY2tzID0ge307XG4gICAgICB0aGlzLnNvdXJjZUJ1ZmZlciA9IHt9O1xuICAgICAgdGhpcy5mbHVzaFJhbmdlID0gW107XG4gICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgICB0aGlzLmFwcGVuZGVkID0gMDtcbiAgICB9XG4gICAgdGhpcy5vbm1zbyA9IHRoaXMub25tc2UgPSB0aGlzLm9ubXNjID0gbnVsbDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hFRCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNvdXJjZU9wZW4gPSBmdW5jdGlvbiBvbk1lZGlhU291cmNlT3BlbigpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNvdXJjZSBvcGVuZWQnKTtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgeyBtZWRpYTogdGhpcy5tZWRpYSB9KTtcbiAgICB2YXIgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgIGlmIChtZWRpYVNvdXJjZSkge1xuICAgICAgLy8gb25jZSByZWNlaXZlZCwgZG9uJ3QgbGlzdGVuIGFueW1vcmUgdG8gc291cmNlb3BlbiBldmVudFxuICAgICAgbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMub25tc28pO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrUGVuZGluZ1RyYWNrcygpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ1RyYWNrcyA9IGZ1bmN0aW9uIGNoZWNrUGVuZGluZ1RyYWNrcygpIHtcbiAgICAvLyBpZiBhbnkgYnVmZmVyIGNvZGVjcyBwZW5kaW5nLCBjaGVjayBpZiB3ZSBoYXZlIGVub3VnaCB0byBjcmVhdGUgc291cmNlQnVmZmVyc1xuICAgIHZhciBwZW5kaW5nVHJhY2tzID0gdGhpcy5wZW5kaW5nVHJhY2tzLFxuICAgICAgICBwZW5kaW5nVHJhY2tzTmIgPSBPYmplY3Qua2V5cyhwZW5kaW5nVHJhY2tzKS5sZW5ndGg7XG4gICAgLy8gaWYgYW55IHBlbmRpbmcgdHJhY2tzIGFuZCAoaWYgbmIgb2YgcGVuZGluZyB0cmFja3MgZ3Qgb3IgZXF1YWwgdGhhbiBleHBlY3RlZCBuYiBvciBpZiB1bmtub3duIGV4cGVjdGVkIG5iKVxuICAgIGlmIChwZW5kaW5nVHJhY2tzTmIgJiYgKHRoaXMuc291cmNlQnVmZmVyTmIgPD0gcGVuZGluZ1RyYWNrc05iIHx8IHRoaXMuc291cmNlQnVmZmVyTmIgPT09IDApKSB7XG4gICAgICAvLyBvaywgbGV0J3MgY3JlYXRlIHRoZW0gbm93ICFcbiAgICAgIHRoaXMuY3JlYXRlU291cmNlQnVmZmVycyhwZW5kaW5nVHJhY2tzKTtcbiAgICAgIHRoaXMucGVuZGluZ1RyYWNrcyA9IHt9O1xuICAgICAgLy8gYXBwZW5kIGFueSBwZW5kaW5nIHNlZ21lbnRzIG5vdyAhXG4gICAgICB0aGlzLmRvQXBwZW5kaW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VDbG9zZSA9IGZ1bmN0aW9uIG9uTWVkaWFTb3VyY2VDbG9zZSgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNvdXJjZSBjbG9zZWQnKTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU291cmNlRW5kZWQgPSBmdW5jdGlvbiBvbk1lZGlhU291cmNlRW5kZWQoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYSBzb3VyY2UgZW5kZWQnKTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblNCVXBkYXRlRW5kID0gZnVuY3Rpb24gb25TQlVwZGF0ZUVuZCgpIHtcbiAgICAvLyB1cGRhdGUgdGltZXN0YW1wT2Zmc2V0XG4gICAgaWYgKHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQpIHtcbiAgICAgIHZhciBhdWRpb0J1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLmF1ZGlvO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignY2hhbmdlIG1wZWcgYXVkaW8gdGltZXN0YW1wIG9mZnNldCBmcm9tICcgKyBhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgKyAnIHRvICcgKyB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0KTtcbiAgICAgIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCA9IHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQ7XG4gICAgICBkZWxldGUgdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbmVlZHNGbHVzaCkge1xuICAgICAgdGhpcy5kb0ZsdXNoKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX25lZWRzRW9zKSB7XG4gICAgICB0aGlzLmNoZWNrRW9zKCk7XG4gICAgfVxuICAgIHRoaXMuYXBwZW5kaW5nID0gZmFsc2U7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIC8vIGNvdW50IG5iIG9mIHBlbmRpbmcgc2VnbWVudHMgd2FpdGluZyBmb3IgYXBwZW5kaW5nIG9uIHRoaXMgc291cmNlYnVmZmVyXG4gICAgdmFyIHBlbmRpbmcgPSB0aGlzLnNlZ21lbnRzLnJlZHVjZShmdW5jdGlvbiAoY291bnRlciwgc2VnbWVudCkge1xuICAgICAgcmV0dXJuIHNlZ21lbnQucGFyZW50ID09PSBwYXJlbnQgPyBjb3VudGVyICsgMSA6IGNvdW50ZXI7XG4gICAgfSwgMCk7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCB7IHBhcmVudDogcGFyZW50LCBwZW5kaW5nOiBwZW5kaW5nIH0pO1xuXG4gICAgLy8gZG9uJ3QgYXBwZW5kIGluIGZsdXNoaW5nIG1vZGVcbiAgICBpZiAoIXRoaXMuX25lZWRzRmx1c2gpIHtcbiAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25TQlVwZGF0ZUVycm9yID0gZnVuY3Rpb24gb25TQlVwZGF0ZUVycm9yKGV2ZW50KSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3NvdXJjZUJ1ZmZlciBlcnJvcjonLCBldmVudCk7XG4gICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgIC8vIHRoaXMgZXJyb3IgbWlnaHQgbm90IGFsd2F5cyBiZSBmYXRhbCAoaXQgaXMgZmF0YWwgaWYgZGVjb2RlIGVycm9yIGlzIHNldCwgaW4gdGhhdCBjYXNlXG4gICAgLy8gaXQgd2lsbCBiZSBmb2xsb3dlZCBieSBhIG1lZGlhRWxlbWVudCBlcnJvciAuLi4pXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBkbyBtb3JlIHRoYW4gdGhhdCwgYXMgYWNjb3JkaW4gdG8gdGhlIHNwZWMsIHVwZGF0ZWVuZCB3aWxsIGJlIGZpcmVkIGp1c3QgYWZ0ZXJcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlclJlc2V0ID0gZnVuY3Rpb24gb25CdWZmZXJSZXNldCgpIHtcbiAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgZm9yICh2YXIgdHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgIHZhciBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlU291cmNlQnVmZmVyKHNiKTtcbiAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5vbnNidWUpO1xuICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25zYmUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgIH1cbiAgICB0aGlzLnNvdXJjZUJ1ZmZlciA9IHt9O1xuICAgIHRoaXMuZmx1c2hSYW5nZSA9IFtdO1xuICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICB0aGlzLmFwcGVuZGVkID0gMDtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNvZGVjcyA9IGZ1bmN0aW9uIG9uQnVmZmVyQ29kZWNzKHRyYWNrcykge1xuICAgIC8vIGlmIHNvdXJjZSBidWZmZXIocykgbm90IGNyZWF0ZWQgeWV0LCBhcHBlbmRlZCBidWZmZXIgdHJhY2tzIGluIHRoaXMucGVuZGluZ1RyYWNrc1xuICAgIC8vIGlmIHNvdXJjZWJ1ZmZlcnMgYWxyZWFkeSBjcmVhdGVkLCBkbyBub3RoaW5nIC4uLlxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUJ1ZmZlcikubGVuZ3RoID09PSAwKSB7XG4gICAgICBmb3IgKHZhciB0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ1RyYWNrc1t0cmFja05hbWVdID0gdHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICB9XG4gICAgICB2YXIgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgICAgaWYgKG1lZGlhU291cmNlICYmIG1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAvLyB0cnkgdG8gY3JlYXRlIHNvdXJjZWJ1ZmZlcnMgaWYgbWVkaWFzb3VyY2Ugb3BlbmVkXG4gICAgICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZVNvdXJjZUJ1ZmZlcnMgPSBmdW5jdGlvbiBjcmVhdGVTb3VyY2VCdWZmZXJzKHRyYWNrcykge1xuICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcixcbiAgICAgICAgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuXG4gICAgZm9yICh2YXIgdHJhY2tOYW1lIGluIHRyYWNrcykge1xuICAgICAgaWYgKCFzb3VyY2VCdWZmZXJbdHJhY2tOYW1lXSkge1xuICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgICAgLy8gdXNlIGxldmVsQ29kZWMgYXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgdmFyIGNvZGVjID0gdHJhY2subGV2ZWxDb2RlYyB8fCB0cmFjay5jb2RlYztcbiAgICAgICAgdmFyIG1pbWVUeXBlID0gdHJhY2suY29udGFpbmVyICsgJztjb2RlY3M9JyArIGNvZGVjO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2NyZWF0aW5nIHNvdXJjZUJ1ZmZlcignICsgbWltZVR5cGUgKyAnKScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBzYiA9IHNvdXJjZUJ1ZmZlclt0cmFja05hbWVdID0gbWVkaWFTb3VyY2UuYWRkU291cmNlQnVmZmVyKG1pbWVUeXBlKTtcbiAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uc2J1ZSk7XG4gICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgICAgICB0aGlzLnRyYWNrc1t0cmFja05hbWVdID0geyBjb2RlYzogY29kZWMsIGNvbnRhaW5lcjogdHJhY2suY29udGFpbmVyIH07XG4gICAgICAgICAgdHJhY2suYnVmZmVyID0gc2I7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdlcnJvciB3aGlsZSB0cnlpbmcgdG8gYWRkIHNvdXJjZUJ1ZmZlcjonICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0FERF9DT0RFQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBlcnI6IGVyciwgbWltZVR5cGU6IG1pbWVUeXBlIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DUkVBVEVELCB7IHRyYWNrczogdHJhY2tzIH0pO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kaW5nID0gZnVuY3Rpb24gb25CdWZmZXJBcHBlbmRpbmcoZGF0YSkge1xuICAgIGlmICghdGhpcy5fbmVlZHNGbHVzaCkge1xuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRzKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBbZGF0YV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goZGF0YSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRvQXBwZW5kaW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kRmFpbCA9IGZ1bmN0aW9uIG9uQnVmZmVyQXBwZW5kRmFpbChkYXRhKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3NvdXJjZUJ1ZmZlciBlcnJvcjonLCBkYXRhLmV2ZW50KTtcbiAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3d3dy53My5vcmcvVFIvbWVkaWEtc291cmNlLyNzb3VyY2VidWZmZXItYXBwZW5kLWVycm9yXG4gICAgLy8gdGhpcyBlcnJvciBtaWdodCBub3QgYWx3YXlzIGJlIGZhdGFsIChpdCBpcyBmYXRhbCBpZiBkZWNvZGUgZXJyb3IgaXMgc2V0LCBpbiB0aGF0IGNhc2VcbiAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9BUFBFTkRJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSB9KTtcbiAgfTtcblxuICAvLyBvbiBCVUZGRVJfRU9TIG1hcmsgbWF0Y2hpbmcgc291cmNlYnVmZmVyKHMpIGFzIGVuZGVkIGFuZCB0cmlnZ2VyIGNoZWNrRW9zKClcblxuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyRW9zID0gZnVuY3Rpb24gb25CdWZmZXJFb3MoZGF0YSkge1xuICAgIHZhciBzYiA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgIHZhciBkYXRhVHlwZSA9IGRhdGEudHlwZTtcbiAgICBmb3IgKHZhciB0eXBlIGluIHNiKSB7XG4gICAgICBpZiAoIWRhdGFUeXBlIHx8IHR5cGUgPT09IGRhdGFUeXBlKSB7XG4gICAgICAgIGlmICghc2JbdHlwZV0uZW5kZWQpIHtcbiAgICAgICAgICBzYlt0eXBlXS5lbmRlZCA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKHR5cGUgKyAnIHNvdXJjZUJ1ZmZlciBub3cgRU9TJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGVja0VvcygpO1xuICB9O1xuXG4gIC8vIGlmIGFsbCBzb3VyY2UgYnVmZmVycyBhcmUgbWFya2VkIGFzIGVuZGVkLCBzaWduYWwgZW5kT2ZTdHJlYW0oKSB0byBNZWRpYVNvdXJjZS5cblxuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrRW9zID0gZnVuY3Rpb24gY2hlY2tFb3MoKSB7XG4gICAgdmFyIHNiID0gdGhpcy5zb3VyY2VCdWZmZXIsXG4gICAgICAgIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICBpZiAoIW1lZGlhU291cmNlIHx8IG1lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgdGhpcy5fbmVlZHNFb3MgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgdHlwZSBpbiBzYikge1xuICAgICAgdmFyIHNib2JqID0gc2JbdHlwZV07XG4gICAgICBpZiAoIXNib2JqLmVuZGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzYm9iai51cGRhdGluZykge1xuICAgICAgICB0aGlzLl9uZWVkc0VvcyA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhbGwgbWVkaWEgZGF0YSBhdmFpbGFibGUsIHNpZ25hbCBlbmRPZlN0cmVhbSgpIHRvIE1lZGlhU291cmNlIGFuZCBzdG9wIGxvYWRpbmcgZnJhZ21lbnQnKTtcbiAgICAvL05vdGlmeSB0aGUgbWVkaWEgZWxlbWVudCB0aGF0IGl0IG5vdyBoYXMgYWxsIG9mIHRoZSBtZWRpYSBkYXRhXG4gICAgdHJ5IHtcbiAgICAgIG1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignZXhjZXB0aW9uIHdoaWxlIGNhbGxpbmcgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKScpO1xuICAgIH1cbiAgICB0aGlzLl9uZWVkc0VvcyA9IGZhbHNlO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyRmx1c2hpbmcgPSBmdW5jdGlvbiBvbkJ1ZmZlckZsdXNoaW5nKGRhdGEpIHtcbiAgICB0aGlzLmZsdXNoUmFuZ2UucHVzaCh7IHN0YXJ0OiBkYXRhLnN0YXJ0T2Zmc2V0LCBlbmQ6IGRhdGEuZW5kT2Zmc2V0LCB0eXBlOiBkYXRhLnR5cGUgfSk7XG4gICAgLy8gYXR0ZW1wdCBmbHVzaCBpbW1lZGlhdGx5XG4gICAgdGhpcy5mbHVzaEJ1ZmZlckNvdW50ZXIgPSAwO1xuICAgIHRoaXMuZG9GbHVzaCgpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxVcGRhdGVkID0gZnVuY3Rpb24gb25MZXZlbFVwZGF0ZWQoZXZlbnQpIHtcbiAgICB2YXIgZGV0YWlscyA9IGV2ZW50LmRldGFpbHM7XG4gICAgaWYgKGRldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sZXZlbER1cmF0aW9uID0gZGV0YWlscy50b3RhbGR1cmF0aW9uICsgZGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgdGhpcy51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpO1xuICB9O1xuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8zNTVcblxuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uID0gZnVuY3Rpb24gdXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlLFxuICAgICAgICBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcixcbiAgICAgICAgbGV2ZWxEdXJhdGlvbiA9IHRoaXMuX2xldmVsRHVyYXRpb247XG4gICAgaWYgKGxldmVsRHVyYXRpb24gPT09IG51bGwgfHwgIW1lZGlhIHx8ICFtZWRpYVNvdXJjZSB8fCAhc291cmNlQnVmZmVyIHx8IG1lZGlhLnJlYWR5U3RhdGUgPT09IDAgfHwgbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICBpZiAoc291cmNlQnVmZmVyW3R5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgIC8vIGNhbid0IHNldCBkdXJhdGlvbiB3aGlsc3QgYSBidWZmZXIgaXMgdXBkYXRpbmdcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5fbXNEdXJhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgLy8gaW5pdGlhbGlzZSB0byB0aGUgdmFsdWUgdGhhdCB0aGUgbWVkaWEgc291cmNlIGlzIHJlcG9ydGluZ1xuICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IG1lZGlhU291cmNlLmR1cmF0aW9uO1xuICAgIH1cbiAgICB2YXIgZHVyYXRpb24gPSBtZWRpYS5kdXJhdGlvbjtcbiAgICAvLyBsZXZlbER1cmF0aW9uIHdhcyB0aGUgbGFzdCB2YWx1ZSB3ZSBzZXQuXG4gICAgLy8gbm90IHVzaW5nIG1lZGlhU291cmNlLmR1cmF0aW9uIGFzIHRoZSBicm93c2VyIG1heSB0d2VhayB0aGlzIHZhbHVlXG4gICAgLy8gb25seSB1cGRhdGUgbWVkaWFzb3VyY2UgZHVyYXRpb24gaWYgaXRzIHZhbHVlIGluY3JlYXNlLCB0aGlzIGlzIHRvIGF2b2lkXG4gICAgLy8gZmx1c2hpbmcgYWxyZWFkeSBidWZmZXJlZCBwb3J0aW9uIHdoZW4gc3dpdGNoaW5nIGJldHdlZW4gcXVhbGl0eSBsZXZlbFxuICAgIGlmIChsZXZlbER1cmF0aW9uID4gdGhpcy5fbXNEdXJhdGlvbiAmJiBsZXZlbER1cmF0aW9uID4gZHVyYXRpb24gfHwgZHVyYXRpb24gPT09IEluZmluaXR5IHx8IGlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdVcGRhdGluZyBtZWRpYXNvdXJjZSBkdXJhdGlvbiB0byAnICsgbGV2ZWxEdXJhdGlvbi50b0ZpeGVkKDMpKTtcbiAgICAgIHRoaXMuX21zRHVyYXRpb24gPSBtZWRpYVNvdXJjZS5kdXJhdGlvbiA9IGxldmVsRHVyYXRpb247XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRvRmx1c2ggPSBmdW5jdGlvbiBkb0ZsdXNoKCkge1xuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgYnVmZmVyIHJhbmdlcyB0byBmbHVzaFxuICAgIHdoaWxlICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoKSB7XG4gICAgICB2YXIgcmFuZ2UgPSB0aGlzLmZsdXNoUmFuZ2VbMF07XG4gICAgICAvLyBmbHVzaEJ1ZmZlciB3aWxsIGFib3J0IGFueSBidWZmZXIgYXBwZW5kIGluIHByb2dyZXNzIGFuZCBmbHVzaCBBdWRpby9WaWRlbyBCdWZmZXJcbiAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsIHJhbmdlLnR5cGUpKSB7XG4gICAgICAgIC8vIHJhbmdlIGZsdXNoZWQsIHJlbW92ZSBmcm9tIGZsdXNoIGFycmF5XG4gICAgICAgIHRoaXMuZmx1c2hSYW5nZS5zaGlmdCgpO1xuICAgICAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9uZWVkc0ZsdXNoID0gdHJ1ZTtcbiAgICAgICAgLy8gYXZvaWQgbG9vcGluZywgd2FpdCBmb3IgU0IgdXBkYXRlIGVuZCB0byByZXRyaWdnZXIgYSBmbHVzaFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBldmVyeXRoaW5nIGZsdXNoZWRcbiAgICAgIHRoaXMuX25lZWRzRmx1c2ggPSBmYWxzZTtcblxuICAgICAgLy8gbGV0J3MgcmVjb21wdXRlIHRoaXMuYXBwZW5kZWQsIHdoaWNoIGlzIHVzZWQgdG8gYXZvaWQgZmx1c2ggbG9vcGluZ1xuICAgICAgdmFyIGFwcGVuZGVkID0gMDtcbiAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgYXBwZW5kZWQgKz0gc291cmNlQnVmZmVyW3R5cGVdLmJ1ZmZlcmVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gZXJyb3IgY291bGQgYmUgdGhyb3duIHdoaWxlIGFjY2Vzc2luZyBidWZmZXJlZCwgaW4gY2FzZSBzb3VyY2VidWZmZXIgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkIGZyb20gTWVkaWFTb3VyY2VcbiAgICAgICAgLy8gdGhpcyBpcyBoYXJtZXNzIGF0IHRoaXMgc3RhZ2UsIGNhdGNoIHRoaXMgdG8gYXZvaWQgcmVwb3J0aW5nIGFuIGludGVybmFsIGV4Y2VwdGlvblxuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignZXJyb3Igd2hpbGUgYWNjZXNzaW5nIHNvdXJjZUJ1ZmZlci5idWZmZXJlZCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5hcHBlbmRlZCA9IGFwcGVuZGVkO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQpO1xuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5kb0FwcGVuZGluZyA9IGZ1bmN0aW9uIGRvQXBwZW5kaW5nKCkge1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIsXG4gICAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlQnVmZmVyKS5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhLmVycm9yKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3RyeWluZyB0byBhcHBlbmQgYWx0aG91Z2ggYSBtZWRpYSBlcnJvciBvY2N1cmVkLCBmbHVzaCBzZWdtZW50IGFuZCBhYm9ydCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hcHBlbmRpbmcpIHtcbiAgICAgICAgLy9sb2dnZXIubG9nKGBzYiBhcHBlbmRpbmcgaW4gcHJvZ3Jlc3NgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNlZ21lbnRzICYmIHNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBzZWdtZW50LnR5cGUsXG4gICAgICAgICAgICAgIHNiID0gc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAvLyByZXNldCBzb3VyY2VCdWZmZXIgZW5kZWQgZmxhZyBiZWZvcmUgYXBwZW5kaW5nIHNlZ21lbnRcbiAgICAgICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgLy9sb2dnZXIubG9nKGBhcHBlbmRpbmcgJHtzZWdtZW50LmNvbnRlbnR9ICR7dHlwZX0gU0IsIHNpemU6JHtzZWdtZW50LmRhdGEubGVuZ3RofSwgJHtzZWdtZW50LnBhcmVudH1gKTtcbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBzZWdtZW50LnBhcmVudDtcbiAgICAgICAgICAgICAgc2IuYXBwZW5kQnVmZmVyKHNlZ21lbnQuZGF0YSk7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAwO1xuICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkKys7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlZ21lbnRzLnVuc2hpZnQoc2VnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgZG9uJ3QgaGF2ZSBhbnkgc291cmNlIGJ1ZmZlciBtYXRjaGluZyB3aXRoIHRoaXMgc2VnbWVudCB0eXBlLFxuICAgICAgICAgICAgLy8gaXQgbWVhbnMgdGhhdCBNZWRpYXNvdXJjZSBmYWlscyB0byBjcmVhdGUgc291cmNlYnVmZmVyXG4gICAgICAgICAgICAvLyBkaXNjYXJkIHRoaXMgc2VnbWVudCwgYW5kIHRyaWdnZXIgdXBkYXRlIGVuZFxuICAgICAgICAgICAgdGhpcy5vblNCVXBkYXRlRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBpbiBjYXNlIGFueSBlcnJvciBvY2N1cmVkIHdoaWxlIGFwcGVuZGluZywgcHV0IGJhY2sgc2VnbWVudCBpbiBzZWdtZW50cyB0YWJsZVxuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdlcnJvciB3aGlsZSB0cnlpbmcgdG8gYXBwZW5kIGJ1ZmZlcjonICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIHNlZ21lbnRzLnVuc2hpZnQoc2VnbWVudCk7XG4gICAgICAgICAgdmFyIGV2ZW50ID0geyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIHBhcmVudDogc2VnbWVudC5wYXJlbnQgfTtcbiAgICAgICAgICBpZiAoZXJyLmNvZGUgIT09IDIyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRFcnJvcikge1xuICAgICAgICAgICAgICB0aGlzLmFwcGVuZEVycm9yKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmFwcGVuZEVycm9yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LmRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfQVBQRU5EX0VSUk9SO1xuICAgICAgICAgICAgLyogd2l0aCBVSEQgY29udGVudCwgd2UgY291bGQgZ2V0IGxvb3Agb2YgcXVvdGEgZXhjZWVkZWQgZXJyb3IgdW50aWxcbiAgICAgICAgICAgICAgYnJvd3NlciBpcyBhYmxlIHRvIGV2aWN0IHNvbWUgZGF0YSBmcm9tIHNvdXJjZWJ1ZmZlci4gcmV0cnlpbmcgaGVscCByZWNvdmVyaW5nIHRoaXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRFcnJvciA+IGhscy5jb25maWcuYXBwZW5kRXJyb3JNYXhSZXRyeSkge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2ZhaWwgJyArIGhscy5jb25maWcuYXBwZW5kRXJyb3JNYXhSZXRyeSArICcgdGltZXMgdG8gYXBwZW5kIHNlZ21lbnQgaW4gc291cmNlQnVmZmVyJyk7XG4gICAgICAgICAgICAgIHNlZ21lbnRzID0gW107XG4gICAgICAgICAgICAgIGV2ZW50LmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCBldmVudCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV2ZW50LmZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBRdW90YUV4Y2VlZGVkRXJyb3I6IGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjcXVvdGFleGNlZWRlZGVycm9yXG4gICAgICAgICAgICAvLyBsZXQncyBzdG9wIGFwcGVuZGluZyBhbnkgc2VnbWVudHMsIGFuZCByZXBvcnQgQlVGRkVSX0ZVTExfRVJST1IgZXJyb3JcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGV2ZW50LmRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfRlVMTF9FUlJPUjtcbiAgICAgICAgICAgIGV2ZW50LmZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLypcbiAgICBmbHVzaCBzcGVjaWZpZWQgYnVmZmVyZWQgcmFuZ2UsXG4gICAgcmV0dXJuIHRydWUgb25jZSByYW5nZSBoYXMgYmVlbiBmbHVzaGVkLlxuICAgIGFzIHNvdXJjZUJ1ZmZlci5yZW1vdmUoKSBpcyBhc3luY2hyb25vdXMsIGZsdXNoQnVmZmVyIHdpbGwgYmUgcmV0cmlnZ2VyZWQgb24gc291cmNlQnVmZmVyIHVwZGF0ZSBlbmRcbiAgKi9cblxuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoQnVmZmVyID0gZnVuY3Rpb24gZmx1c2hCdWZmZXIoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgdHlwZUluKSB7XG4gICAgdmFyIHNiLFxuICAgICAgICBpLFxuICAgICAgICBidWZTdGFydCxcbiAgICAgICAgYnVmRW5kLFxuICAgICAgICBmbHVzaFN0YXJ0LFxuICAgICAgICBmbHVzaEVuZCxcbiAgICAgICAgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgaWYgKE9iamVjdC5rZXlzKHNvdXJjZUJ1ZmZlcikubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2ZsdXNoQnVmZmVyLHBvcy9zdGFydC9lbmQ6ICcgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLnRvRml4ZWQoMykgKyAnLycgKyBzdGFydE9mZnNldCArICcvJyArIGVuZE9mZnNldCk7XG4gICAgICAvLyBzYWZlZ3VhcmQgdG8gYXZvaWQgaW5maW5pdGUgbG9vcGluZyA6IGRvbid0IHRyeSB0byBmbHVzaCBtb3JlIHRoYW4gdGhlIG5iIG9mIGFwcGVuZGVkIHNlZ21lbnRzXG4gICAgICBpZiAodGhpcy5mbHVzaEJ1ZmZlckNvdW50ZXIgPCB0aGlzLmFwcGVuZGVkKSB7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgc291cmNlYnVmZmVyIHR5cGUgaXMgZGVmaW5lZCAodHlwZUluKTogaWYgeWVzLCBsZXQncyBvbmx5IGZsdXNoIHRoaXMgb25lXG4gICAgICAgICAgLy8gaWYgbm8sIGxldCdzIGZsdXNoIGFsbCBzb3VyY2VidWZmZXJzXG4gICAgICAgICAgaWYgKHR5cGVJbiAmJiB0eXBlICE9PSB0eXBlSW4pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgICAvLyB3ZSBhcmUgZ29pbmcgdG8gZmx1c2ggYnVmZmVyLCBtYXJrIHNvdXJjZSBidWZmZXIgYXMgJ25vdCBlbmRlZCdcbiAgICAgICAgICBzYi5lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgIGlmICghc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzYi5idWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ1ZlN0YXJ0ID0gc2IuYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICAgICAgYnVmRW5kID0gc2IuYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICAgICAgICAgIC8vIHdvcmthcm91bmQgZmlyZWZveCBub3QgYWJsZSB0byBwcm9wZXJseSBmbHVzaCBtdWx0aXBsZSBidWZmZXJlZCByYW5nZS5cbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2ZpcmVmb3gnKSAhPT0gLTEgJiYgZW5kT2Zmc2V0ID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgIGZsdXNoU3RhcnQgPSBzdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICAgIGZsdXNoRW5kID0gZW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBmbHVzaFN0YXJ0ID0gTWF0aC5tYXgoYnVmU3RhcnQsIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIGZsdXNoRW5kID0gTWF0aC5taW4oYnVmRW5kLCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBzb21ldGltZXMgc291cmNlYnVmZmVyLnJlbW92ZSgpIGRvZXMgbm90IGZsdXNoXG4gICAgICAgICAgICAgICAgICAgdGhlIGV4YWN0IGV4cGVjdGVkIHRpbWUgcmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzL2luZmluaXRlIGxvb3AsXG4gICAgICAgICAgICAgICAgICAgb25seSBmbHVzaCBidWZmZXIgcmFuZ2Ugb2YgbGVuZ3RoIGdyZWF0ZXIgdGhhbiA1MDBtcy5cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1pbihmbHVzaEVuZCwgYnVmRW5kKSAtIGZsdXNoU3RhcnQgPiAwLjUpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2ZsdXNoICcgKyB0eXBlICsgJyBbJyArIGZsdXNoU3RhcnQgKyAnLCcgKyBmbHVzaEVuZCArICddLCBvZiBbJyArIGJ1ZlN0YXJ0ICsgJywnICsgYnVmRW5kICsgJ10sIHBvczonICsgdGhpcy5tZWRpYS5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICBzYi5yZW1vdmUoZmx1c2hTdGFydCwgZmx1c2hFbmQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdleGNlcHRpb24gd2hpbGUgYWNjZXNzaW5nIHNvdXJjZWJ1ZmZlciwgaXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBNZWRpYVNvdXJjZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2xvZ2dlci5sb2coJ2Fib3J0ICcgKyB0eXBlICsgJyBhcHBlbmQgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBhYm9ydCBhbnkgYXBwZW5kaW5nIGluIHByb2dyZXNzXG4gICAgICAgICAgICAvL3NiLmFib3J0KCk7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdjYW5ub3QgZmx1c2gsIHNiIHVwZGF0aW5nIGluIHByb2dyZXNzJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBmbHVzaGluZyB0b28gbWFueSByZXRyaWVzJyk7XG4gICAgICB9XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2J1ZmZlciBmbHVzaGVkJyk7XG4gICAgfVxuICAgIC8vIGV2ZXJ5dGhpbmcgZmx1c2hlZCAhXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlckNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBidWZmZXJfY29udHJvbGxlciA9IChidWZmZXJfY29udHJvbGxlcl9CdWZmZXJDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcbnZhciBjYXBfbGV2ZWxfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGNhcF9sZXZlbF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGNhcF9sZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBjYXBfbGV2ZWxfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIGNhcCBzdHJlYW0gbGV2ZWwgdG8gbWVkaWEgc2l6ZSBkaW1lbnNpb24gY29udHJvbGxlclxuKi9cblxuXG5cblxudmFyIGNhcF9sZXZlbF9jb250cm9sbGVyX0NhcExldmVsQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGNhcF9sZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyhDYXBMZXZlbENvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIENhcExldmVsQ29udHJvbGxlcihobHMpIHtcbiAgICBjYXBfbGV2ZWxfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FwTGV2ZWxDb250cm9sbGVyKTtcblxuICAgIHJldHVybiBjYXBfbGV2ZWxfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlBTX0RST1BfTEVWRUxfQ0FQUElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX1BBUlNFRCkpO1xuICB9XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5obHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplKSB7XG4gICAgICB0aGlzLm1lZGlhID0gdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gbnVsbDtcbiAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uRnBzRHJvcExldmVsQ2FwcGluZyA9IGZ1bmN0aW9uIG9uRnBzRHJvcExldmVsQ2FwcGluZyhkYXRhKSB7XG4gICAgLy8gRG9uJ3QgYWRkIGEgcmVzdHJpY3RlZCBsZXZlbCBtb3JlIHRoYW4gb25jZVxuICAgIGlmIChDYXBMZXZlbENvbnRyb2xsZXIuaXNMZXZlbEFsbG93ZWQoZGF0YS5kcm9wcGVkTGV2ZWwsIHRoaXMucmVzdHJpY3RlZExldmVscykpIHtcbiAgICAgIHRoaXMucmVzdHJpY3RlZExldmVscy5wdXNoKGRhdGEuZHJvcHBlZExldmVsKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGluZyhkYXRhKSB7XG4gICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWEgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50ID8gZGF0YS5tZWRpYSA6IG51bGw7XG4gIH07XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gb25NYW5pZmVzdFBhcnNlZChkYXRhKSB7XG4gICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgIHRoaXMucmVzdHJpY3RlZExldmVscyA9IFtdO1xuICAgIGlmIChobHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplKSB7XG4gICAgICB0aGlzLmF1dG9MZXZlbENhcHBpbmcgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICB0aGlzLmxldmVscyA9IGRhdGEubGV2ZWxzO1xuICAgICAgaGxzLmZpcnN0TGV2ZWwgPSB0aGlzLmdldE1heExldmVsKGRhdGEuZmlyc3RMZXZlbCk7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuZGV0ZWN0UGxheWVyU2l6ZS5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgIHRoaXMuZGV0ZWN0UGxheWVyU2l6ZSgpO1xuICAgIH1cbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRldGVjdFBsYXllclNpemUgPSBmdW5jdGlvbiBkZXRlY3RQbGF5ZXJTaXplKCkge1xuICAgIGlmICh0aGlzLm1lZGlhKSB7XG4gICAgICB2YXIgbGV2ZWxzTGVuZ3RoID0gdGhpcy5sZXZlbHMgPyB0aGlzLmxldmVscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKGxldmVsc0xlbmd0aCkge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID0gdGhpcy5nZXRNYXhMZXZlbChsZXZlbHNMZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGhscy5hdXRvTGV2ZWxDYXBwaW5nID4gdGhpcy5hdXRvTGV2ZWxDYXBwaW5nKSB7XG4gICAgICAgICAgLy8gaWYgYXV0byBsZXZlbCBjYXBwaW5nIGhhcyBhIGhpZ2hlciB2YWx1ZSBmb3IgdGhlIHByZXZpb3VzIG9uZSwgZmx1c2ggdGhlIGJ1ZmZlciB1c2luZyBuZXh0TGV2ZWxTd2l0Y2hcbiAgICAgICAgICAvLyB1c3VhbGx5IGhhcHBlbiB3aGVuIHRoZSB1c2VyIGdvIHRvIHRoZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICAgICAgaGxzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gaGxzLmF1dG9MZXZlbENhcHBpbmc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICogcmV0dXJucyBsZXZlbCBzaG91bGQgYmUgdGhlIG9uZSB3aXRoIHRoZSBkaW1lbnNpb25zIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiB0aGUgbWVkaWEgKHBsYXllcikgZGltZW5zaW9ucyAoc28gdGhlIHZpZGVvIHdpbGwgYmUgZG93bnNjYWxlZClcbiAgKi9cblxuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWF4TGV2ZWwgPSBmdW5jdGlvbiBnZXRNYXhMZXZlbChjYXBMZXZlbEluZGV4KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMubGV2ZWxzKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIHZhbGlkTGV2ZWxzID0gdGhpcy5sZXZlbHMuZmlsdGVyKGZ1bmN0aW9uIChsZXZlbCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBDYXBMZXZlbENvbnRyb2xsZXIuaXNMZXZlbEFsbG93ZWQoaW5kZXgsIF90aGlzMi5yZXN0cmljdGVkTGV2ZWxzKSAmJiBpbmRleCA8PSBjYXBMZXZlbEluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKHZhbGlkTGV2ZWxzLCB0aGlzLm1lZGlhV2lkdGgsIHRoaXMubWVkaWFIZWlnaHQpO1xuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5pc0xldmVsQWxsb3dlZCA9IGZ1bmN0aW9uIGlzTGV2ZWxBbGxvd2VkKGxldmVsKSB7XG4gICAgdmFyIHJlc3RyaWN0ZWRMZXZlbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG4gICAgcmV0dXJuIHJlc3RyaWN0ZWRMZXZlbHMuaW5kZXhPZihsZXZlbCkgPT09IC0xO1xuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplID0gZnVuY3Rpb24gZ2V0TWF4TGV2ZWxCeU1lZGlhU2l6ZShsZXZlbHMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBpZiAoIWxldmVscyB8fCBsZXZlbHMgJiYgIWxldmVscy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyBMZXZlbHMgY2FuIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9ucyBidXQgZGlmZmVyaW5nIGJhbmR3aWR0aHMgLSBzaW5jZSBsZXZlbHMgYXJlIG9yZGVyZWQsIHdlIGNhbiBsb29rIHRvIHRoZSBuZXh0XG4gICAgLy8gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgd2UndmUgY2hvc2VuIHRoZSBncmVhdGVzdCBiYW5kd2lkdGggZm9yIHRoZSBtZWRpYSdzIGRpbWVuc2lvbnNcbiAgICB2YXIgYXRHcmVhdGVzdEJhbmRpd2R0aCA9IGZ1bmN0aW9uIGF0R3JlYXRlc3RCYW5kaXdkdGgoY3VyTGV2ZWwsIG5leHRMZXZlbCkge1xuICAgICAgaWYgKCFuZXh0TGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VyTGV2ZWwud2lkdGggIT09IG5leHRMZXZlbC53aWR0aCB8fCBjdXJMZXZlbC5oZWlnaHQgIT09IG5leHRMZXZlbC5oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8vIElmIHdlIHJ1biB0aHJvdWdoIHRoZSBsb29wIHdpdGhvdXQgYnJlYWtpbmcsIHRoZSBtZWRpYSdzIGRpbWVuc2lvbnMgYXJlIGdyZWF0ZXIgdGhhbiBldmVyeSBsZXZlbCwgc28gZGVmYXVsdCB0b1xuICAgIC8vIHRoZSBtYXggbGV2ZWxcbiAgICB2YXIgbWF4TGV2ZWxJbmRleCA9IGxldmVscy5sZW5ndGggLSAxO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZXZlbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBsZXZlbCA9IGxldmVsc1tpXTtcbiAgICAgIGlmICgobGV2ZWwud2lkdGggPj0gd2lkdGggfHwgbGV2ZWwuaGVpZ2h0ID49IGhlaWdodCkgJiYgYXRHcmVhdGVzdEJhbmRpd2R0aChsZXZlbCwgbGV2ZWxzW2kgKyAxXSkpIHtcbiAgICAgICAgbWF4TGV2ZWxJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhMZXZlbEluZGV4O1xuICB9O1xuXG4gIGNhcF9sZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhDYXBMZXZlbENvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnbWVkaWFXaWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHdpZHRoID0gbWVkaWEud2lkdGggfHwgbWVkaWEuY2xpZW50V2lkdGggfHwgbWVkaWEub2Zmc2V0V2lkdGg7XG4gICAgICAgIHdpZHRoICo9IENhcExldmVsQ29udHJvbGxlci5jb250ZW50U2NhbGVGYWN0b3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbWVkaWFIZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaGVpZ2h0ID0gbWVkaWEuaGVpZ2h0IHx8IG1lZGlhLmNsaWVudEhlaWdodCB8fCBtZWRpYS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCAqPSBDYXBMZXZlbENvbnRyb2xsZXIuY29udGVudFNjYWxlRmFjdG9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2NvbnRlbnRTY2FsZUZhY3RvcicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcGl4ZWxSYXRpbyA9IDE7XG4gICAgICB0cnkge1xuICAgICAgICBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNhcF9sZXZlbF9jb250cm9sbGVyID0gKGNhcF9sZXZlbF9jb250cm9sbGVyX0NhcExldmVsQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLmpzXG5mdW5jdGlvbiBmcHNfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBmcHNfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gZnBzX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBGUFMgQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG52YXIgZnBzX2NvbnRyb2xsZXJfRlBTQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGZwc19jb250cm9sbGVyX19pbmhlcml0cyhGUFNDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBGUFNDb250cm9sbGVyKGhscykge1xuICAgIGZwc19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBGUFNDb250cm9sbGVyKTtcblxuICAgIHJldHVybiBmcHNfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HKSk7XG4gIH1cblxuICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB9XG4gICAgdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlID0gZmFsc2U7XG4gIH07XG5cbiAgRlBTQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgaWYgKGNvbmZpZy5jYXBMZXZlbE9uRlBTRHJvcCkge1xuICAgICAgdmFyIHZpZGVvID0gdGhpcy52aWRlbyA9IGRhdGEubWVkaWEgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50ID8gZGF0YS5tZWRpYSA6IG51bGw7XG4gICAgICBpZiAodHlwZW9mIHZpZGVvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuY2hlY2tGUFNJbnRlcnZhbC5iaW5kKHRoaXMpLCBjb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QpO1xuICAgIH1cbiAgfTtcblxuICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQUyA9IGZ1bmN0aW9uIGNoZWNrRlBTKHZpZGVvLCBkZWNvZGVkRnJhbWVzLCBkcm9wcGVkRnJhbWVzKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgaWYgKGRlY29kZWRGcmFtZXMpIHtcbiAgICAgIGlmICh0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGVyaW9kID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lLFxuICAgICAgICAgICAgY3VycmVudERyb3BwZWQgPSBkcm9wcGVkRnJhbWVzIC0gdGhpcy5sYXN0RHJvcHBlZEZyYW1lcyxcbiAgICAgICAgICAgIGN1cnJlbnREZWNvZGVkID0gZGVjb2RlZEZyYW1lcyAtIHRoaXMubGFzdERlY29kZWRGcmFtZXMsXG4gICAgICAgICAgICBkcm9wcGVkRlBTID0gMTAwMCAqIGN1cnJlbnREcm9wcGVkIC8gY3VycmVudFBlcmlvZCxcbiAgICAgICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlBTX0RST1AsIHsgY3VycmVudERyb3BwZWQ6IGN1cnJlbnREcm9wcGVkLCBjdXJyZW50RGVjb2RlZDogY3VycmVudERlY29kZWQsIHRvdGFsRHJvcHBlZEZyYW1lczogZHJvcHBlZEZyYW1lcyB9KTtcbiAgICAgICAgaWYgKGRyb3BwZWRGUFMgPiAwKSB7XG4gICAgICAgICAgLy9sb2dnZXIubG9nKCdjaGVja0ZQUyA6IGRyb3BwZWRGUFMvZGVjb2RlZEZQUzonICsgZHJvcHBlZEZQUy8oMTAwMCAqIGN1cnJlbnREZWNvZGVkIC8gY3VycmVudFBlcmlvZCkpO1xuICAgICAgICAgIGlmIChjdXJyZW50RHJvcHBlZCA+IGhscy5jb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQgKiBjdXJyZW50RGVjb2RlZCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRMZXZlbCA9IGhscy5jdXJyZW50TGV2ZWw7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdkcm9wIEZQUyByYXRpbyBncmVhdGVyIHRoYW4gbWF4IGFsbG93ZWQgdmFsdWUgZm9yIGN1cnJlbnRMZXZlbDogJyArIGN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudExldmVsID4gMCAmJiAoaGxzLmF1dG9MZXZlbENhcHBpbmcgPT09IC0xIHx8IGhscy5hdXRvTGV2ZWxDYXBwaW5nID49IGN1cnJlbnRMZXZlbCkpIHtcbiAgICAgICAgICAgICAgY3VycmVudExldmVsID0gY3VycmVudExldmVsIC0gMTtcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZQU19EUk9QX0xFVkVMX0NBUFBJTkcsIHsgbGV2ZWw6IGN1cnJlbnRMZXZlbCwgZHJvcHBlZExldmVsOiBobHMuY3VycmVudExldmVsIH0pO1xuICAgICAgICAgICAgICBobHMuYXV0b0xldmVsQ2FwcGluZyA9IGN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgICAgaGxzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICB0aGlzLmxhc3REcm9wcGVkRnJhbWVzID0gZHJvcHBlZEZyYW1lcztcbiAgICAgIHRoaXMubGFzdERlY29kZWRGcmFtZXMgPSBkZWNvZGVkRnJhbWVzO1xuICAgIH1cbiAgfTtcblxuICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQU0ludGVydmFsID0gZnVuY3Rpb24gY2hlY2tGUFNJbnRlcnZhbCgpIHtcbiAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvO1xuICAgIGlmICh2aWRlbykge1xuICAgICAgaWYgKHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSkge1xuICAgICAgICB2YXIgdmlkZW9QbGF5YmFja1F1YWxpdHkgPSB2aWRlby5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xuICAgICAgICB0aGlzLmNoZWNrRlBTKHZpZGVvLCB2aWRlb1BsYXliYWNrUXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzLCB2aWRlb1BsYXliYWNrUXVhbGl0eS5kcm9wcGVkVmlkZW9GcmFtZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGVja0ZQUyh2aWRlbywgdmlkZW8ud2Via2l0RGVjb2RlZEZyYW1lQ291bnQsIHZpZGVvLndlYmtpdERyb3BwZWRGcmFtZUNvdW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEZQU0NvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBmcHNfY29udHJvbGxlciA9IChmcHNfY29udHJvbGxlcl9GUFNDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL3hoci1sb2FkZXIuanNcbmZ1bmN0aW9uIHhocl9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBYSFIgYmFzZWQgbG9nZ2VyXG4qL1xuXG5cblxudmFyIHhocl9sb2FkZXJfWGhyTG9hZGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBYaHJMb2FkZXIoY29uZmlnKSB7XG4gICAgeGhyX2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgWGhyTG9hZGVyKTtcblxuICAgIGlmIChjb25maWcgJiYgY29uZmlnLnhoclNldHVwKSB7XG4gICAgICB0aGlzLnhoclNldHVwID0gY29uZmlnLnhoclNldHVwO1xuICAgIH1cbiAgfVxuXG4gIFhockxvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5hYm9ydCgpO1xuICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyO1xuICAgIGlmIChsb2FkZXIgJiYgbG9hZGVyLnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgIHRoaXMuc3RhdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSBudWxsO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXRyeVRpbWVvdXQpO1xuICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gbnVsbDtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNvbnRleHQsIGNvbmZpZywgY2FsbGJhY2tzKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICB0aGlzLnN0YXRzID0geyB0cmVxdWVzdDogcGVyZm9ybWFuY2Uubm93KCksIHJldHJ5OiAwIH07XG4gICAgdGhpcy5yZXRyeURlbGF5ID0gY29uZmlnLnJldHJ5RGVsYXk7XG4gICAgdGhpcy5sb2FkSW50ZXJuYWwoKTtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWRJbnRlcm5hbCA9IGZ1bmN0aW9uIGxvYWRJbnRlcm5hbCgpIHtcbiAgICB2YXIgeGhyLFxuICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHhociA9IHRoaXMubG9hZGVyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgIHN0YXRzLnRmaXJzdCA9IDA7XG4gICAgc3RhdHMubG9hZGVkID0gMDtcbiAgICB2YXIgeGhyU2V0dXAgPSB0aGlzLnhoclNldHVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh4aHJTZXR1cCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoclNldHVwKHhociwgY29udGV4dC51cmwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gZml4IHhoclNldHVwOiAoeGhyLCB1cmwpID0+IHt4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtTGFuZ3VhZ2VcIiwgXCJ0ZXN0XCIpO31cbiAgICAgICAgICAvLyBub3Qgd29ya2luZywgYXMgeGhyLnNldFJlcXVlc3RIZWFkZXIgZXhwZWN0cyB4aHIucmVhZHlTdGF0ZSA9PT0gT1BFTlxuICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBjb250ZXh0LnVybCwgdHJ1ZSk7XG4gICAgICAgICAgeGhyU2V0dXAoeGhyLCBjb250ZXh0LnVybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgheGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGNvbnRleHQudXJsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHsgY29kZTogeGhyLnN0YXR1cywgdGV4dDogZS5tZXNzYWdlIH0sIGNvbnRleHQsIHhocik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQucmFuZ2VFbmQpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdSYW5nZScsICdieXRlcz0nICsgY29udGV4dC5yYW5nZVN0YXJ0ICsgJy0nICsgKGNvbnRleHQucmFuZ2VFbmQgLSAxKSk7XG4gICAgfVxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLnJlYWR5c3RhdGVjaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB4aHIub25wcm9ncmVzcyA9IHRoaXMubG9hZHByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IGNvbnRleHQucmVzcG9uc2VUeXBlO1xuXG4gICAgLy8gc2V0dXAgdGltZW91dCBiZWZvcmUgd2UgcGVyZm9ybSByZXF1ZXN0XG4gICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSwgdGhpcy5jb25maWcudGltZW91dCk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiByZWFkeXN0YXRlY2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIHhociA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsXG4gICAgICAgIHJlYWR5U3RhdGUgPSB4aHIucmVhZHlTdGF0ZSxcbiAgICAgICAgc3RhdHMgPSB0aGlzLnN0YXRzLFxuICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICBjb25maWcgPSB0aGlzLmNvbmZpZztcblxuICAgIC8vIGRvbid0IHByb2NlZWQgaWYgeGhyIGhhcyBiZWVuIGFib3J0ZWRcbiAgICBpZiAoc3RhdHMuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vID49IEhFQURFUlNfUkVDRUlWRURcbiAgICBpZiAocmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICAvLyBjbGVhciB4aHIgdGltZW91dCBhbmQgcmVhcm0gaXQgaWYgcmVhZHlTdGF0ZSBsZXNzIHRoYW4gNFxuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KTtcbiAgICAgIGlmIChzdGF0cy50Zmlyc3QgPT09IDApIHtcbiAgICAgICAgc3RhdHMudGZpcnN0ID0gTWF0aC5tYXgocGVyZm9ybWFuY2Uubm93KCksIHN0YXRzLnRyZXF1ZXN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgICAgICAvLyBodHRwIHN0YXR1cyBiZXR3ZWVuIDIwMCB0byAyOTkgYXJlIGFsbCBzdWNjZXNzZnVsXG4gICAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgIHN0YXRzLnRsb2FkID0gTWF0aC5tYXgoc3RhdHMudGZpcnN0LCBwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIGxlbiA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoY29udGV4dC5yZXNwb25zZVR5cGUgPT09ICdhcnJheWJ1ZmZlcicpIHtcbiAgICAgICAgICAgIGRhdGEgPSB4aHIucmVzcG9uc2U7XG4gICAgICAgICAgICBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRzLmxvYWRlZCA9IHN0YXRzLnRvdGFsID0gbGVuO1xuICAgICAgICAgIHZhciByZXNwb25zZSA9IHsgdXJsOiB4aHIucmVzcG9uc2VVUkwsIGRhdGE6IGRhdGEgfTtcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCB4aHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIG1heCBuYiBvZiByZXRyaWVzIHJlYWNoZWQgb3IgaWYgaHR0cCBzdGF0dXMgYmV0d2VlbiA0MDAgYW5kIDQ5OSAoc3VjaCBlcnJvciBjYW5ub3QgYmUgcmVjb3ZlcmVkLCByZXRyeWluZyBpcyB1c2VsZXNzKSwgcmV0dXJuIGVycm9yXG4gICAgICAgICAgaWYgKHN0YXRzLnJldHJ5ID49IGNvbmZpZy5tYXhSZXRyeSB8fCBzdGF0dXMgPj0gNDAwICYmIHN0YXR1cyA8IDQ5OSkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3Ioc3RhdHVzICsgJyB3aGlsZSBsb2FkaW5nICcgKyBjb250ZXh0LnVybCk7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHsgY29kZTogc3RhdHVzLCB0ZXh0OiB4aHIuc3RhdHVzVGV4dCB9LCBjb250ZXh0LCB4aHIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZXRyeVxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybihzdGF0dXMgKyAnIHdoaWxlIGxvYWRpbmcgJyArIGNvbnRleHQudXJsICsgJywgcmV0cnlpbmcgaW4gJyArIHRoaXMucmV0cnlEZWxheSArICcuLi4nKTtcbiAgICAgICAgICAgIC8vIGFib3J0cyBhbmQgcmVzZXRzIGludGVybmFsIHN0YXRlXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIC8vIHNjaGVkdWxlIHJldHJ5XG4gICAgICAgICAgICB0aGlzLnJldHJ5VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubG9hZEludGVybmFsLmJpbmQodGhpcyksIHRoaXMucmV0cnlEZWxheSk7XG4gICAgICAgICAgICAvLyBzZXQgZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgdGhpcy5yZXRyeURlbGF5ID0gTWF0aC5taW4oMiAqIHRoaXMucmV0cnlEZWxheSwgY29uZmlnLm1heFJldHJ5RGVsYXkpO1xuICAgICAgICAgICAgc3RhdHMucmV0cnkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlYWR5U3RhdGUgPj0gMiBBTkQgcmVhZHlTdGF0ZSAhPT00IChyZWFkeVN0YXRlID0gSEVBREVSU19SRUNFSVZFRCB8fCBMT0FESU5HKSByZWFybSB0aW1lb3V0IGFzIHhociBub3QgZmluaXNoZWQgeWV0XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcyksIGNvbmZpZy50aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkdGltZW91dCA9IGZ1bmN0aW9uIGxvYWR0aW1lb3V0KCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3RpbWVvdXQgd2hpbGUgbG9hZGluZyAnICsgdGhpcy5jb250ZXh0LnVybCk7XG4gICAgdGhpcy5jYWxsYmFja3Mub25UaW1lb3V0KHRoaXMuc3RhdHMsIHRoaXMuY29udGV4dCwgbnVsbCk7XG4gIH07XG5cbiAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkcHJvZ3Jlc3MgPSBmdW5jdGlvbiBsb2FkcHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICB2YXIgeGhyID0gZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgc3RhdHMgPSB0aGlzLnN0YXRzO1xuXG4gICAgc3RhdHMubG9hZGVkID0gZXZlbnQubG9hZGVkO1xuICAgIGlmIChldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICBzdGF0cy50b3RhbCA9IGV2ZW50LnRvdGFsO1xuICAgIH1cbiAgICB2YXIgb25Qcm9ncmVzcyA9IHRoaXMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3M7XG4gICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgIC8vIHRoaXJkIGFyZyBpcyB0byBwcm92aWRlIG9uIHByb2dyZXNzIGRhdGFcbiAgICAgIG9uUHJvZ3Jlc3Moc3RhdHMsIHRoaXMuY29udGV4dCwgbnVsbCwgeGhyKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFhockxvYWRlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgeGhyX2xvYWRlciA9ICh4aHJfbG9hZGVyX1hockxvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIuanNcbnZhciBhdWRpb190cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBhdWRpb190cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBhdWRpb190cmFja19jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogYXVkaW8gdHJhY2sgY29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cbnZhciBhdWRpb190cmFja19jb250cm9sbGVyX0F1ZGlvVHJhY2tDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgYXVkaW9fdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoQXVkaW9UcmFja0NvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEF1ZGlvVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1ZGlvVHJhY2tDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUikpO1xuXG4gICAgX3RoaXMudGlja3MgPSAwO1xuICAgIF90aGlzLm9udGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuY2xlYW5UaW1lciA9IGZ1bmN0aW9uIGNsZWFuVGltZXIoKSB7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgdGhpcy50aWNrcysrO1xuICAgIGlmICh0aGlzLnRpY2tzID09PSAxKSB7XG4gICAgICB0aGlzLmRvVGljaygpO1xuICAgICAgaWYgKHRoaXMudGlja3MgPiAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy50aWNrLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGlja3MgPSAwO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gZG9UaWNrKCkge1xuICAgIHRoaXMudXBkYXRlVHJhY2sodGhpcy50cmFja0lkKTtcbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkge1xuICAgIGlmIChkYXRhLmZhdGFsICYmIGRhdGEudHlwZSA9PT0gZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IpIHtcbiAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICAvLyByZXNldCBhdWRpbyB0cmFja3Mgb24gbWFuaWZlc3QgbG9hZGluZ1xuICAgIHRoaXMudHJhY2tzID0gW107XG4gICAgdGhpcy50cmFja0lkID0gLTE7XG4gIH07XG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciB0cmFja3MgPSBkYXRhLmF1ZGlvVHJhY2tzIHx8IFtdO1xuICAgIHZhciBkZWZhdWx0Rm91bmQgPSBmYWxzZTtcbiAgICB0aGlzLnRyYWNrcyA9IHRyYWNrcztcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS1NfVVBEQVRFRCwgeyBhdWRpb1RyYWNrczogdHJhY2tzIH0pO1xuICAgIC8vIGxvb3AgdGhyb3VnaCBhdmFpbGFibGUgYXVkaW8gdHJhY2tzIGFuZCBhdXRvc2VsZWN0IGRlZmF1bHQgaWYgbmVlZGVkXG4gICAgdmFyIGlkID0gMDtcbiAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIGlmICh0cmFjay5kZWZhdWx0ICYmICFkZWZhdWx0Rm91bmQpIHtcbiAgICAgICAgX3RoaXMyLmF1ZGlvVHJhY2sgPSBpZDtcbiAgICAgICAgZGVmYXVsdEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWQrKztcbiAgICB9KTtcbiAgICBpZiAoZGVmYXVsdEZvdW5kID09PSBmYWxzZSAmJiB0cmFja3MubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ25vIGRlZmF1bHQgYXVkaW8gdHJhY2sgZGVmaW5lZCwgdXNlIGZpcnN0IGF1ZGlvIHRyYWNrIGFzIGRlZmF1bHQnKTtcbiAgICAgIHRoaXMuYXVkaW9UcmFjayA9IDA7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tMb2FkZWQoZGF0YSkge1xuICAgIGlmIChkYXRhLmlkIDwgdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvVHJhY2sgJyArIGRhdGEuaWQgKyAnIGxvYWRlZCcpO1xuICAgICAgdGhpcy50cmFja3NbZGF0YS5pZF0uZGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0XG4gICAgICBpZiAoZGF0YS5kZXRhaWxzLmxpdmUgJiYgIXRoaXMudGltZXIpIHtcbiAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAvLyBzZXQgcmVsb2FkIHBlcmlvZCB0byBwbGF5bGlzdCB0YXJnZXQgZHVyYXRpb25cbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMub250aWNrLCAxMDAwICogZGF0YS5kZXRhaWxzLnRhcmdldGR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGF0YS5kZXRhaWxzLmxpdmUgJiYgdGhpcy50aW1lcikge1xuICAgICAgICAvLyBwbGF5bGlzdCBpcyBub3QgbGl2ZSBhbmQgdGltZXIgaXMgYXJtZWQgOiBzdG9wcGluZyBpdFxuICAgICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIGdldCBhbHRlcm5hdGUgYXVkaW8gdHJhY2tzIGxpc3QgZnJvbSBwbGF5bGlzdCAqKi9cblxuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5zZXRBdWRpb1RyYWNrSW50ZXJuYWwgPSBmdW5jdGlvbiBzZXRBdWRpb1RyYWNrSW50ZXJuYWwobmV3SWQpIHtcbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3SWQgPj0gMCAmJiBuZXdJZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIHRoaXMudHJhY2tJZCA9IG5ld0lkO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gYXVkaW9UcmFjayAnICsgbmV3SWQpO1xuICAgICAgdmFyIGF1ZGlvVHJhY2sgPSB0aGlzLnRyYWNrc1tuZXdJZF0sXG4gICAgICAgICAgaGxzID0gdGhpcy5obHMsXG4gICAgICAgICAgdHlwZSA9IGF1ZGlvVHJhY2sudHlwZSxcbiAgICAgICAgICB1cmwgPSBhdWRpb1RyYWNrLnVybCxcbiAgICAgICAgICBldmVudE9iaiA9IHsgaWQ6IG5ld0lkLCB0eXBlOiB0eXBlLCB1cmw6IHVybCB9O1xuICAgICAgLy8ga2VlcCBBVURJT19UUkFDS19TV0lUQ0ggZm9yIGxlZ2FjeSByZWFzb25cbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0gsIGV2ZW50T2JqKTtcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hJTkcsIGV2ZW50T2JqKTtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBhdWRpbyBUcmFja1xuICAgICAgdmFyIGRldGFpbHMgPSBhdWRpb1RyYWNrLmRldGFpbHM7XG4gICAgICBpZiAodXJsICYmIChkZXRhaWxzID09PSB1bmRlZmluZWQgfHwgZGV0YWlscy5saXZlID09PSB0cnVlKSkge1xuICAgICAgICAvLyB0cmFjayBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnKHJlKWxvYWRpbmcgcGxheWxpc3QgZm9yIGF1ZGlvVHJhY2sgJyArIG5ld0lkKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX0xPQURJTkcsIHsgdXJsOiB1cmwsIGlkOiBuZXdJZCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZVRyYWNrID0gZnVuY3Rpb24gdXBkYXRlVHJhY2sobmV3SWQpIHtcbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3SWQgPj0gMCAmJiBuZXdJZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIHRoaXMudHJhY2tJZCA9IG5ld0lkO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd1cGRhdGluZyBhdWRpb1RyYWNrICcgKyBuZXdJZCk7XG4gICAgICB2YXIgYXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW25ld0lkXSxcbiAgICAgICAgICB1cmwgPSBhdWRpb1RyYWNrLnVybDtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBhdWRpbyBUcmFja1xuICAgICAgdmFyIGRldGFpbHMgPSBhdWRpb1RyYWNrLmRldGFpbHM7XG4gICAgICBpZiAodXJsICYmIChkZXRhaWxzID09PSB1bmRlZmluZWQgfHwgZGV0YWlscy5saXZlID09PSB0cnVlKSkge1xuICAgICAgICAvLyB0cmFjayBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnKHJlKWxvYWRpbmcgcGxheWxpc3QgZm9yIGF1ZGlvVHJhY2sgJyArIG5ld0lkKTtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BRElORywgeyB1cmw6IHVybCwgaWQ6IG5ld0lkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBhdWRpb190cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyhBdWRpb1RyYWNrQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdhdWRpb1RyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFja3M7XG4gICAgfVxuXG4gICAgLyoqIGdldCBpbmRleCBvZiB0aGUgc2VsZWN0ZWQgYXVkaW8gdHJhY2sgKGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzKSAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXVkaW9UcmFjaycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFja0lkO1xuICAgIH1cblxuICAgIC8qKiBzZWxlY3QgYW4gYXVkaW8gdHJhY2ssIGJhc2VkIG9uIGl0cyBpbmRleCBpbiBhdWRpbyB0cmFjayBsaXN0cyoqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChhdWRpb1RyYWNrSWQpIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrSWQgIT09IGF1ZGlvVHJhY2tJZCB8fCB0aGlzLnRyYWNrc1thdWRpb1RyYWNrSWRdLmRldGFpbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldEF1ZGlvVHJhY2tJbnRlcm5hbChhdWRpb1RyYWNrSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb1RyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXIgPSAoYXVkaW9fdHJhY2tfY29udHJvbGxlcl9BdWRpb1RyYWNrQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXN0cmVhbS1jb250cm9sbGVyLmpzXG52YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBBdWRpbyBTdHJlYW0gQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUgPSB7XG4gIFNUT1BQRUQ6ICdTVE9QUEVEJyxcbiAgU1RBUlRJTkc6ICdTVEFSVElORycsXG4gIElETEU6ICdJRExFJyxcbiAgUEFVU0VEOiAnUEFVU0VEJyxcbiAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gIEZSQUdfTE9BRElORzogJ0ZSQUdfTE9BRElORycsXG4gIEZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOiAnRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlknLFxuICBXQUlUSU5HX1RSQUNLOiAnV0FJVElOR19UUkFDSycsXG4gIFBBUlNJTkc6ICdQQVJTSU5HJyxcbiAgUEFSU0VEOiAnUEFSU0VEJyxcbiAgQlVGRkVSX0ZMVVNISU5HOiAnQlVGRkVSX0ZMVVNISU5HJyxcbiAgRU5ERUQ6ICdFTkRFRCcsXG4gIEVSUk9SOiAnRVJST1InLFxuICBXQUlUSU5HX0lOSVRfUFRTOiAnV0FJVElOR19JTklUX1BUUydcbn07XG5cbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9BdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoQXVkaW9TdHJlYW1Db250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBBdWRpb1N0cmVhbUNvbnRyb2xsZXIoaGxzKSB7XG4gICAgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1ZGlvU3RyZWFtQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS1NfVVBEQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQ1JFQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uSU5JVF9QVFNfRk9VTkQpKTtcblxuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMuYXVkaW9Db2RlY1N3YXAgPSBmYWxzZTtcbiAgICBfdGhpcy50aWNrcyA9IDA7XG4gICAgX3RoaXMuX3N0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgICBfdGhpcy5vbnRpY2sgPSBfdGhpcy50aWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmluaXRQVFMgPSBbXTtcbiAgICBfdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgIF90aGlzLnZpZGVvVHJhY2tDQyA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICB9O1xuXG4gIC8vU2lnbmFsIHRoYXQgdmlkZW8gUFRTIHdhcyBmb3VuZFxuXG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkluaXRQdHNGb3VuZCA9IGZ1bmN0aW9uIG9uSW5pdFB0c0ZvdW5kKGRhdGEpIHtcbiAgICB2YXIgZGVtdXhlcklkID0gZGF0YS5pZCxcbiAgICAgICAgY2MgPSBkYXRhLmZyYWcuY2MsXG4gICAgICAgIGluaXRQVFMgPSBkYXRhLmluaXRQVFM7XG4gICAgaWYgKGRlbXV4ZXJJZCA9PT0gJ21haW4nKSB7XG4gICAgICAvL0Fsd2F5cyB1cGRhdGUgdGhlIG5ldyBJTklUIFBUU1xuICAgICAgLy9DYW4gY2hhbmdlIGR1ZSBsZXZlbCBzd2l0Y2hcbiAgICAgIHRoaXMuaW5pdFBUU1tjY10gPSBpbml0UFRTO1xuICAgICAgdGhpcy52aWRlb1RyYWNrQ0MgPSBjYztcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnSW5pdFBUUyBmb3IgY2M6JyArIGNjICsgJyBmb3VuZCBmcm9tIHZpZGVvIHRyYWNrOicgKyBpbml0UFRTKTtcblxuICAgICAgLy9JZiB3ZSBhcmUgd2FpdGluZyB3ZSBuZWVkIHRvIGRlbXV4L3JlbXV4IHRoZSB3YWl0aW5nIGZyYWdcbiAgICAgIC8vV2l0aCB0aGUgbmV3IGluaXRQVFNcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX0lOSVRfUFRTKSB7XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZChzdGFydFBvc2l0aW9uKSB7XG4gICAgaWYgKHRoaXMudHJhY2tzKSB7XG4gICAgICB2YXIgbGFzdEN1cnJlbnRUaW1lID0gdGhpcy5sYXN0Q3VycmVudFRpbWU7XG4gICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgICBpZiAoIXRoaXMudGltZXIpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMub250aWNrLCAxMDApO1xuICAgICAgfVxuICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgIGlmIChsYXN0Q3VycmVudFRpbWUgPiAwICYmIHN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW86b3ZlcnJpZGUgc3RhcnRQb3NpdGlvbiB3aXRoIGxhc3RDdXJyZW50VGltZSBAJyArIGxhc3RDdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMuc3RhcnRQb3NpdGlvbiA/IHRoaXMuc3RhcnRQb3NpdGlvbiA6IHN0YXJ0UG9zaXRpb247XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVEFSVElORztcbiAgICAgIH1cbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uIHN0b3BMb2FkKCkge1xuICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICBpZiAoZnJhZykge1xuICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgIGZyYWcubG9hZGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgIHRoaXMuZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgIHRoaXMudGlja3MrKztcbiAgICBpZiAodGhpcy50aWNrcyA9PT0gMSkge1xuICAgICAgdGhpcy5kb1RpY2soKTtcbiAgICAgIGlmICh0aGlzLnRpY2tzID4gMSkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMudGljaywgMSk7XG4gICAgICB9XG4gICAgICB0aGlzLnRpY2tzID0gMDtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiBkb1RpY2soKSB7XG4gICAgdmFyIHBvcyxcbiAgICAgICAgdHJhY2ssXG4gICAgICAgIHRyYWNrRGV0YWlscyxcbiAgICAgICAgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIGNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgLy9sb2dnZXIubG9nKCdhdWRpb1N0cmVhbTonICsgdGhpcy5zdGF0ZSk7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVSUk9SOlxuICAgICAgLy9kb24ndCBkbyBhbnl0aGluZyBpbiBlcnJvciBzdGF0ZSB0byBhdm9pZCBicmVha2luZyBmdXJ0aGVyIC4uLlxuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVVTRUQ6XG4gICAgICAvL2Rvbid0IGRvIGFueXRoaW5nIGluIHBhdXNlZCBzdGF0ZSBlaXRoZXIgLi4uXG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkJVRkZFUl9GTFVTSElORzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUQVJUSU5HOlxuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19UUkFDSztcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTpcbiAgICAgICAgdmFyIHRyYWNrcyA9IHRoaXMudHJhY2tzO1xuICAgICAgICAvLyBhdWRpbyB0cmFja3Mgbm90IHJlY2VpdmVkID0+IGV4aXQgbG9vcFxuICAgICAgICBpZiAoIXRyYWNrcykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHZpZGVvIG5vdCBhdHRhY2hlZCBBTkRcbiAgICAgICAgLy8gc3RhcnQgZnJhZ21lbnQgYWxyZWFkeSByZXF1ZXN0ZWQgT1Igc3RhcnQgZnJhZyBwcmVmZXRjaCBkaXNhYmxlXG4gICAgICAgIC8vIGV4aXQgbG9vcFxuICAgICAgICAvLyA9PiBpZiBtZWRpYSBub3QgYXR0YWNoZWQgYnV0IHN0YXJ0IGZyYWcgcHJlZmV0Y2ggaXMgZW5hYmxlZCBhbmQgc3RhcnQgZnJhZyBub3QgcmVxdWVzdGVkIHlldCwgd2Ugd2lsbCBub3QgZXhpdCBsb29wXG4gICAgICAgIGlmICghdGhpcy5tZWRpYSAmJiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgfHwgIWNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBkZXRlcm1pbmUgbmV4dCBjYW5kaWRhdGUgZnJhZ21lbnQgdG8gYmUgbG9hZGVkLCBiYXNlZCBvbiBjdXJyZW50IHBvc2l0aW9uIGFuZFxuICAgICAgICAvLyAgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vdCB5ZXQgbG9hZGVkIGFueSBmcmFnbWVudCwgc3RhcnQgbG9hZGluZyBmcm9tIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAgICAgcG9zID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhLFxuICAgICAgICAgICAgdmlkZW9CdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID8gdGhpcy52aWRlb0J1ZmZlciA6IHRoaXMubWVkaWEsXG4gICAgICAgICAgICBidWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKG1lZGlhLCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKSxcbiAgICAgICAgICAgIG1haW5CdWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKHZpZGVvQnVmZmVyLCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKSxcbiAgICAgICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuLFxuICAgICAgICAgICAgYnVmZmVyRW5kID0gYnVmZmVySW5mby5lbmQsXG4gICAgICAgICAgICBmcmFnUHJldmlvdXMgPSB0aGlzLmZyYWdQcmV2aW91cyxcblxuICAgICAgICAvLyBlbnN1cmUgd2UgYnVmZmVyIGF0IGxlYXN0IGNvbmZpZy5tYXhCdWZmZXJMZW5ndGggKGRlZmF1bHQgMzBzKVxuICAgICAgICAvLyBvbmNlIHdlIHJlYWNoIHRoYXQgdGhyZXNob2xkLCBkb24ndCBidWZmZXIgbW9yZSB0aGFuIHZpZGVvIChtYWluQnVmZmVySW5mby5sZW4pXG4gICAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWF4KGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgsIG1haW5CdWZmZXJJbmZvLmxlbiksXG4gICAgICAgICAgICBhdWRpb1N3aXRjaCA9IHRoaXMuYXVkaW9Td2l0Y2gsXG4gICAgICAgICAgICB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuXG4gICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudFxuICAgICAgICBpZiAoKGJ1ZmZlckxlbiA8IG1heEJ1ZkxlbiB8fCBhdWRpb1N3aXRjaCkgJiYgdHJhY2tJZCA8IHRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB0cmFja0RldGFpbHMgPSB0cmFja3NbdHJhY2tJZF0uZGV0YWlscztcbiAgICAgICAgICAvLyBpZiB0cmFjayBpbmZvIG5vdCByZXRyaWV2ZWQgeWV0LCBzd2l0Y2ggc3RhdGUgYW5kIHdhaXQgZm9yIHRyYWNrIHJldHJpZXZhbFxuICAgICAgICAgIGlmICh0eXBlb2YgdHJhY2tEZXRhaWxzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfVFJBQ0s7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB3ZSBqdXN0IGdvdCBkb25lIGxvYWRpbmcgdGhlIGZpbmFsIGZyYWdtZW50LCBjaGVjayBpZiB3ZSBuZWVkIHRvIGZpbmFsaXplIG1lZGlhIHN0cmVhbVxuICAgICAgICAgIGlmICghYXVkaW9Td2l0Y2ggJiYgIXRyYWNrRGV0YWlscy5saXZlICYmIGZyYWdQcmV2aW91cyAmJiBmcmFnUHJldmlvdXMuc24gPT09IHRyYWNrRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBzZWVraW5nIG9yIGlmIHdlIGFyZSBzZWVraW5nIGJ1dCBldmVyeXRoaW5nIChhbG1vc3QpIHRpbCB0aGUgZW5kIGlzIGJ1ZmZlcmVkLCBsZXQncyBzaWduYWwgZW9zXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjb21wYXJlIGV4YWN0bHkgbWVkaWEuZHVyYXRpb24gPT09IGJ1ZmZlckluZm8uZW5kIGFzIHRoZXJlIGNvdWxkIGJlIHNvbWUgc3VidGxlIG1lZGlhIGR1cmF0aW9uIGRpZmZlcmVuY2Ugd2hlbiBzd2l0Y2hpbmdcbiAgICAgICAgICAgIC8vIGJldHdlZW4gZGlmZmVyZW50IHJlbmRpdGlvbnMuIHVzaW5nIGhhbGYgZnJhZyBkdXJhdGlvbiBzaG91bGQgaGVscCBjb3BlIHdpdGggdGhlc2UgY2FzZXMuXG4gICAgICAgICAgICBpZiAoIXRoaXMubWVkaWEuc2Vla2luZyB8fCB0aGlzLm1lZGlhLmR1cmF0aW9uIC0gYnVmZmVyRW5kIDwgZnJhZ1ByZXZpb3VzLmR1cmF0aW9uIC8gMikge1xuICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgbWVkaWEgc3RyZWFtXG4gICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9FT1MsIHsgdHlwZTogJ2F1ZGlvJyB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVOREVEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBmaW5kIGZyYWdtZW50IGluZGV4LCBjb250aWd1b3VzIHdpdGggZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgICAgICAgICBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQsXG4gICAgICAgICAgICAgIGVuZCA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uc3RhcnQgKyBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLmR1cmF0aW9uLFxuICAgICAgICAgICAgICBmcmFnID0gdm9pZCAwO1xuXG4gICAgICAgICAgLy8gV2hlbiBzd2l0Y2hpbmcgYXVkaW8gdHJhY2ssIHJlbG9hZCBhdWRpbyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byBjdXJyZW50VGltZVxuICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCkge1xuICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmICF0cmFja0RldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgYXVkaW90cmFjaywgbGl2ZSBzdHJlYW0sIHVua25vd24gUFRTLGxvYWQgZmlyc3QgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgICAgYnVmZmVyRW5kID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1ZmZlckVuZCA9IHBvcztcbiAgICAgICAgICAgICAgLy8gaWYgY3VycmVudFRpbWUgKHBvcykgaXMgbGVzcyB0aGFuIGFsdCBhdWRpbyBwbGF5bGlzdCBzdGFydCB0aW1lLCBpdCBtZWFucyB0aGF0IGFsdCBhdWRpbyBpcyBhaGVhZCBvZiBjdXJyZW50VGltZVxuICAgICAgICAgICAgICBpZiAodHJhY2tEZXRhaWxzLlBUU0tub3duICYmIHBvcyA8IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgZXZlcnl0aGluZyBpcyBidWZmZXJlZCBmcm9tIHBvcyB0byBzdGFydCBvciBpZiBhdWRpbyBidWZmZXIgdXBmcm9udCwgbGV0J3Mgc2VlayB0byBzdGFydFxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJJbmZvLmVuZCA+IHN0YXJ0IHx8IGJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FsdCBhdWRpbyB0cmFjayBhaGVhZCBvZiBtYWluIHRyYWNrLCBzZWVrIHRvIHN0YXJ0IG9mIGFsdCBhdWRpbyB0cmFjaycpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0ICsgMC4wNTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhY2tEZXRhaWxzLmluaXRTZWdtZW50ICYmICF0cmFja0RldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSkge1xuICAgICAgICAgICAgZnJhZyA9IHRyYWNrRGV0YWlscy5pbml0U2VnbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgYnVmZmVyRW5kIGJlZm9yZSBzdGFydCBvZiBwbGF5bGlzdCwgbG9hZCBmaXJzdCBmcmFnbWVudFxuICAgICAgICAgIGVsc2UgaWYgKGJ1ZmZlckVuZCA8PSBzdGFydCkge1xuICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgICAgICAgICAgICBpZiAodGhpcy52aWRlb1RyYWNrQ0MgIT09IG51bGwgJiYgZnJhZy5jYyAhPT0gdGhpcy52aWRlb1RyYWNrQ0MpIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UgZmluZCBhIGZyYWdtZW50IHdoaWNoIG1hdGNoZXMgdGhlIGNvbnRpbnVpdHkgb2YgdGhlIHZpZGVvIHRyYWNrXG4gICAgICAgICAgICAgICAgZnJhZyA9IGZpbmRGcmFnV2l0aENDKGZyYWdtZW50cywgdGhpcy52aWRlb1RyYWNrQ0MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0cmFja0RldGFpbHMubGl2ZSAmJiBmcmFnLmxvYWRJZHggJiYgZnJhZy5sb2FkSWR4ID09PSB0aGlzLmZyYWdMb2FkSWR4KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UganVzdCBsb2FkZWQgdGhpcyBmaXJzdCBmcmFnbWVudCwgYW5kIHdlIGFyZSBzdGlsbCBsYWdnaW5nIGJlaGluZCB0aGUgc3RhcnQgb2YgdGhlIGxpdmUgcGxheWxpc3RcbiAgICAgICAgICAgICAgICAvLyBsZXQncyBmb3JjZSBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgdmFyIG5leHRCdWZmZXJlZCA9IGJ1ZmZlckluZm8ubmV4dFN0YXJ0ID8gYnVmZmVySW5mby5uZXh0U3RhcnQgOiBzdGFydDtcbiAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ25vIGFsdCBhdWRpbyBhdmFpbGFibGUgQGN1cnJlbnRUaW1lOicgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgJywgc2Vla2luZyBAJyArIChuZXh0QnVmZmVyZWQgKyAwLjA1KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYS5jdXJyZW50VGltZSA9IG5leHRCdWZmZXJlZCArIDAuMDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZm91bmRGcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgICB2YXIgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlO1xuICAgICAgICAgICAgICB2YXIgZnJhZ05leHQgPSBmcmFnUHJldmlvdXMgPyBmcmFnbWVudHNbZnJhZ1ByZXZpb3VzLnNuIC0gZnJhZ21lbnRzWzBdLnNuICsgMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHZhciBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QgPSBmdW5jdGlvbiBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0IHNob3VsZCBiZSB3aXRoaW4gZnJhZ21lbnQgYm91bmRhcnkgLSBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZVxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gY29wZSB3aXRoIHNpdHVhdGlvbnMgbGlrZVxuICAgICAgICAgICAgICAgIC8vIGJ1ZmZlckVuZCA9IDkuOTkxXG4gICAgICAgICAgICAgICAgLy8gZnJhZ1vDmF0gOiBbMCwxMF1cbiAgICAgICAgICAgICAgICAvLyBmcmFnWzFdIDogWzEwLDIwXVxuICAgICAgICAgICAgICAgIC8vIGJ1ZmZlckVuZCBpcyB3aXRoaW4gZnJhZ1swXSByYW5nZSAuLi4gYWx0aG91Z2ggd2hhdCB3ZSBhcmUgZXhwZWN0aW5nIGlzIHRvIHJldHVybiBmcmFnWzFdIGhlcmVcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgZnJhZyBzdGFydCAgICAgICAgICAgICAgIGZyYWcgc3RhcnQrZHVyYXRpb25cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgPC0tLT4gICAgICAgICAgICAgICAgICAgICAgICAgPC0tLT5cbiAgICAgICAgICAgICAgICAvLyAgLi4uLS0tLS0tLS0+PC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPjwtLS0tLS0tLS0uLi4uXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgZnJhZyAgICAgICAgIG1hdGNoaW5nIGZyYWdtZW50ICAgICAgICAgbmV4dCBmcmFnXG4gICAgICAgICAgICAgICAgLy8gIHJldHVybiAtMSAgICAgICAgICAgICByZXR1cm4gMCAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICAvL2xvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlIDw9IGJ1ZmZlckVuZCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfSAvLyBpZiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHdpbGwgaGF2ZSBuZWdhdGl2ZSB2YWx1ZSB0aGVuIGRvbid0IHJldHVybiAtMSBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNhbmRpZGF0ZS5zdGFydCAtIGNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSA+IGJ1ZmZlckVuZCAmJiBjYW5kaWRhdGUuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChidWZmZXJFbmQgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyRW5kID4gZW5kIC0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFByZWZlciB0aGUgbmV4dCBmcmFnbWVudCBpZiBpdCdzIHdpdGhpbiB0b2xlcmFuY2VcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ05leHQgJiYgIWZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChmcmFnTmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGZyYWdOZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGZvdW5kRnJhZykge1xuICAgICAgICAgICAgICAgIGZyYWcgPSBmb3VuZEZyYWc7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBmb3VuZEZyYWcuc3RhcnQ7XG4gICAgICAgICAgICAgICAgLy9sb2dnZXIubG9nKCdmaW5kIFNOIG1hdGNoaW5nIHdpdGggcG9zOicgKyAgYnVmZmVyRW5kICsgJzonICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLmxldmVsID09PSBmcmFnUHJldmlvdXMubGV2ZWwgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZnJhZy5zbiA8IHRyYWNrRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzW2ZyYWcuc24gKyAxIC0gdHJhY2tEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1NOIGp1c3QgbG9hZGVkLCBsb2FkIG5leHQgb25lOiAnICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgLy9sb2dnZXIubG9nKCcgICAgICBsb2FkaW5nIGZyYWcgJyArIGkgKycscG9zL2J1ZkVuZDonICsgcG9zLnRvRml4ZWQoMykgKyAnLycgKyBidWZmZXJFbmQudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICBpZiAoZnJhZy5kZWNyeXB0ZGF0YSAmJiBmcmFnLmRlY3J5cHRkYXRhLnVyaSAhPSBudWxsICYmIGZyYWcuZGVjcnlwdGRhdGEua2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkaW5nIGtleSBmb3IgJyArIGZyYWcuc24gKyAnIG9mIFsnICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgdHJhY2tEZXRhaWxzLmVuZFNOICsgJ10sdHJhY2sgJyArIHRyYWNrSWQpO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuS0VZX0xPQURJTkc7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BRElORywgeyBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkaW5nICcgKyBmcmFnLnNuICsgJywgY2M6ICcgKyBmcmFnLmNjICsgJyBvZiBbJyArIHRyYWNrRGV0YWlscy5zdGFydFNOICsgJyAsJyArIHRyYWNrRGV0YWlscy5lbmRTTiArICddLHRyYWNrICcgKyB0cmFja0lkICsgJywgY3VycmVudFRpbWU6JyArIHBvcyArICcsYnVmZmVyRW5kOicgKyBidWZmZXJFbmQudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IHdlIGFyZSBub3QgcmVsb2FkaW5nIHRoZSBzYW1lIGZyYWdtZW50cyBpbiBsb29wIC4uLlxuICAgICAgICAgICAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZElkeCsrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0xvYWRJZHggPSAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChmcmFnLmxvYWRDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkQ291bnRlcisrO1xuICAgICAgICAgICAgICAgIHZhciBtYXhUaHJlc2hvbGQgPSBjb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgZnJhZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZCAzIHRpbWVzLCBhbmQgaWYgaXQgaGFzIGJlZW4gcmVsb2FkZWQgcmVjZW50bHlcbiAgICAgICAgICAgICAgICBpZiAoZnJhZy5sb2FkQ291bnRlciA+IG1heFRocmVzaG9sZCAmJiBNYXRoLmFicyh0aGlzLmZyYWdMb2FkSWR4IC0gZnJhZy5sb2FkSWR4KSA8IG1heFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT09QX0xPQURJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkQ291bnRlciA9IDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhZy5sb2FkSWR4ID0gdGhpcy5mcmFnTG9hZElkeDtcbiAgICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICAgICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKCFpc05hTihmcmFnLnNuKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElORztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfVFJBQ0s6XG4gICAgICAgIHRyYWNrID0gdGhpcy50cmFja3NbdGhpcy50cmFja0lkXTtcbiAgICAgICAgLy8gY2hlY2sgaWYgcGxheWxpc3QgaXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLmRldGFpbHMpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk6XG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdmFyIHJldHJ5RGF0ZSA9IHRoaXMucmV0cnlEYXRlO1xuICAgICAgICBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIHZhciBpc1NlZWtpbmcgPSBtZWRpYSAmJiBtZWRpYS5zZWVraW5nO1xuICAgICAgICAvLyBpZiBjdXJyZW50IHRpbWUgaXMgZ3QgdGhhbiByZXRyeURhdGUsIG9yIGlmIG1lZGlhIHNlZWtpbmcgbGV0J3Mgc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICBpZiAoIXJldHJ5RGF0ZSB8fCBub3cgPj0gcmV0cnlEYXRlIHx8IGlzU2Vla2luZykge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW9TdHJlYW1Db250cm9sbGVyOiByZXRyeURhdGUgcmVhY2hlZCwgc3dpdGNoIGJhY2sgdG8gSURMRSBzdGF0ZScpO1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX0lOSVRfUFRTOlxuICAgICAgICB2YXIgdmlkZW9UcmFja0NDID0gdGhpcy52aWRlb1RyYWNrQ0M7XG4gICAgICAgIGlmICh0aGlzLmluaXRQVFNbdmlkZW9UcmFja0NDXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIHRoZSBXQUlUSU5HX0lOSVRfUFRTIHN0YXRlIGlmIHRoZSB3YWl0aW5nIGZyYWcgQ0MgZG9lc24ndCBtYXRjaCBhbnkgaW5pdFBUU1xuICAgICAgICB2YXIgd2FpdGluZ0ZyYWcgPSB0aGlzLndhaXRpbmdGcmFnbWVudDtcbiAgICAgICAgaWYgKHdhaXRpbmdGcmFnKSB7XG4gICAgICAgICAgdmFyIHdhaXRpbmdGcmFnQ0MgPSB3YWl0aW5nRnJhZy5mcmFnLmNjO1xuICAgICAgICAgIGlmICh2aWRlb1RyYWNrQ0MgIT09IHdhaXRpbmdGcmFnQ0MpIHtcbiAgICAgICAgICAgIHRyYWNrID0gdGhpcy50cmFja3NbdGhpcy50cmFja0lkXTtcbiAgICAgICAgICAgIGlmICh0cmFjay5kZXRhaWxzICYmIHRyYWNrLmRldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdXYWl0aW5nIGZyYWdtZW50IENDICgnICsgd2FpdGluZ0ZyYWdDQyArICcpIGRvZXMgbm90IG1hdGNoIHZpZGVvIHRyYWNrIENDICgnICsgdmlkZW9UcmFja0NDICsgJyknKTtcbiAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElORztcbiAgICAgICAgICAgIHRoaXMub25GcmFnTG9hZGVkKHRoaXMud2FpdGluZ0ZyYWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDpcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HOlxuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HOlxuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQ6XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVOREVEOlxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hlZChkYXRhKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhO1xuICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub25NZWRpYVNlZWtpbmcuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9udmVuZGVkID0gdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAodGhpcy50cmFja3MgJiYgY29uZmlnLmF1dG9TdGFydExvYWQpIHtcbiAgICAgIHRoaXMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSAmJiBtZWRpYS5lbmRlZCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdNU0UgZGV0YWNoaW5nIGFuZCB2aWRlbyBlbmRlZCwgcmVzZXQgc3RhcnRQb3NpdGlvbicpO1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWUgPSAwO1xuICAgIH1cblxuICAgIC8vIHJlc2V0IGZyYWdtZW50IGxvYWRpbmcgY291bnRlciBvbiBNU0UgZGV0YWNoaW5nIHRvIGF2b2lkIHJlcG9ydGluZyBGUkFHX0xPT1BfTE9BRElOR19FUlJPUiBhZnRlciBlcnJvciByZWNvdmVyeVxuICAgIHZhciB0cmFja3MgPSB0aGlzLnRyYWNrcztcbiAgICBpZiAodHJhY2tzKSB7XG4gICAgICAvLyByZXNldCBmcmFnbWVudCBsb2FkIGNvdW50ZXJcbiAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAodHJhY2suZGV0YWlscykge1xuICAgICAgICAgIHRyYWNrLmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgICAgICBmcmFnbWVudC5sb2FkQ291bnRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSB2aWRlbyBsaXN0ZW5lcnNcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy52aWRlb0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTZWVraW5nID0gZnVuY3Rpb24gb25NZWRpYVNlZWtpbmcoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVOREVEKSB7XG4gICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBjaGVjayBmb3IgcG90ZW50aWFsIG5ldyBmcmFnbWVudFxuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgfVxuICAgIGlmICh0aGlzLm1lZGlhKSB7XG4gICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMubWVkaWEuY3VycmVudFRpbWU7XG4gICAgfVxuICAgIC8vIGF2b2lkIHJlcG9ydGluZyBmcmFnbWVudCBsb29wIGxvYWRpbmcgZXJyb3IgaW4gY2FzZSB1c2VyIGlzIHNlZWtpbmcgc2V2ZXJhbCB0aW1lcyBvbiBzYW1lIHBvc2l0aW9uXG4gICAgaWYgKHRoaXMuZnJhZ0xvYWRJZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgIH1cbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIHByb2Nlc3NpbmdcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFFbmRlZCA9IGZ1bmN0aW9uIG9uTWVkaWFFbmRlZCgpIHtcbiAgICAvLyByZXNldCBzdGFydFBvc2l0aW9uIGFuZCBsYXN0Q3VycmVudFRpbWUgdG8gcmVzdGFydCBwbGF5YmFjayBAIHN0cmVhbSBiZWdpbm5pbmdcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tzVXBkYXRlZCA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja3NVcGRhdGVkKGRhdGEpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvIHRyYWNrcyB1cGRhdGVkJyk7XG4gICAgdGhpcy50cmFja3MgPSBkYXRhLmF1ZGlvVHJhY2tzO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrU3dpdGNoaW5nID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrU3dpdGNoaW5nKGRhdGEpIHtcbiAgICAvLyBpZiBhbnkgVVJMIGZvdW5kIG9uIG5ldyBhdWRpbyB0cmFjaywgaXQgaXMgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgdmFyIGFsdEF1ZGlvID0gISFkYXRhLnVybDtcbiAgICB0aGlzLnRyYWNrSWQgPSBkYXRhLmlkO1xuXG4gICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBVVNFRDtcbiAgICB0aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgLy8gZGVzdHJveSB1c2VsZXNzIGRlbXV4ZXIgd2hlbiBzd2l0Y2hpbmcgYXVkaW8gdG8gbWFpblxuICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3dpdGNoaW5nIHRvIGF1ZGlvIHRyYWNrLCBzdGFydCB0aW1lciBpZiBub3QgYWxyZWFkeSBzdGFydGVkXG4gICAgICBpZiAoIXRoaXMudGltZXIpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMub250aWNrLCAxMDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vc2hvdWxkIHdlIHN3aXRjaCB0cmFja3MgP1xuICAgIGlmIChhbHRBdWRpbykge1xuICAgICAgdGhpcy5hdWRpb1N3aXRjaCA9IHRydWU7XG4gICAgICAvL21haW4gYXVkaW8gdHJhY2sgYXJlIGhhbmRsZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXIsIGp1c3QgZG8gc29tZXRoaW5nIGlmIHN3aXRjaGluZyB0byBhbHQgYXVkaW8gdHJhY2tcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgLy8gaW5jcmVhc2UgZnJhZ21lbnQgbG9hZCBJbmRleCB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciBhZnRlciBidWZmZXIgZmx1c2hcbiAgICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIG5ld0RldGFpbHMgPSBkYXRhLmRldGFpbHMsXG4gICAgICAgIHRyYWNrSWQgPSBkYXRhLmlkLFxuICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdLFxuICAgICAgICBkdXJhdGlvbiA9IG5ld0RldGFpbHMudG90YWxkdXJhdGlvbixcbiAgICAgICAgc2xpZGluZyA9IDA7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RyYWNrICcgKyB0cmFja0lkICsgJyBsb2FkZWQgWycgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyAnLCcgKyBuZXdEZXRhaWxzLmVuZFNOICsgJ10sZHVyYXRpb246JyArIGR1cmF0aW9uKTtcblxuICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgIHZhciBjdXJEZXRhaWxzID0gdHJhY2suZGV0YWlscztcbiAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gd2UgYWxyZWFkeSBoYXZlIGRldGFpbHMgZm9yIHRoYXQgbGV2ZWwsIG1lcmdlIHRoZW1cbiAgICAgICAgbWVyZ2VEZXRhaWxzKGN1ckRldGFpbHMsIG5ld0RldGFpbHMpO1xuICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy90aGlzLmxpdmVTeW5jUG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgY3VyRGV0YWlscyk7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLlBUU0tub3duKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIGF1ZGlvIHBsYXlsaXN0IHNsaWRpbmc6JyArIHNsaWRpbmcudG9GaXhlZCgzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIGF1ZGlvIHBsYXlsaXN0IC0gb3V0ZGF0ZWQgUFRTLCB1bmtub3duIHNsaWRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgYXVkaW8gcGxheWxpc3QgLSBmaXJzdCBsb2FkLCB1bmtub3duIHNsaWRpbmcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgIH1cbiAgICB0cmFjay5kZXRhaWxzID0gbmV3RGV0YWlscztcblxuICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb25cbiAgICBpZiAoIXRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkKSB7XG4gICAgICAvLyBjb21wdXRlIHN0YXJ0IHBvc2l0aW9uIGlmIHNldCB0byAtMS4gdXNlIGl0IHN0cmFpZ2h0IGF3YXkgaWYgdmFsdWUgaXMgZGVmaW5lZFxuICAgICAgaWYgKHRoaXMuc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgLy8gZmlyc3QsIGNoZWNrIGlmIHN0YXJ0IHRpbWUgb2Zmc2V0IGhhcyBiZWVuIHNldCBpbiBwbGF5bGlzdCwgaWYgeWVzLCB1c2UgdGhpcyB2YWx1ZVxuICAgICAgICB2YXIgc3RhcnRUaW1lT2Zmc2V0ID0gbmV3RGV0YWlscy5zdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgIGlmICghaXNOYU4oc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3RhcnQgdGltZSBvZmZzZXQgZm91bmQgaW4gcGxheWxpc3QsIGFkanVzdCBzdGFydFBvc2l0aW9uIHRvICcgKyBzdGFydFRpbWVPZmZzZXQpO1xuICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgfVxuICAgIC8vIG9ubHkgc3dpdGNoIGJhdGNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciB0cmFjayB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX1RSQUNLKSB7XG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICB9XG4gICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbktleUxvYWRlZCA9IGZ1bmN0aW9uIG9uS2V5TG9hZGVkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5LRVlfTE9BRElORykge1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkZWQoZGF0YSkge1xuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQsXG4gICAgICAgIGZyYWdMb2FkZWQgPSBkYXRhLmZyYWc7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElORyAmJiBmcmFnQ3VycmVudCAmJiBmcmFnTG9hZGVkLnR5cGUgPT09ICdhdWRpbycgJiYgZnJhZ0xvYWRlZC5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgZnJhZ0xvYWRlZC5zbiA9PT0gZnJhZ0N1cnJlbnQuc24pIHtcbiAgICAgIHZhciB0cmFjayA9IHRoaXMudHJhY2tzW3RoaXMudHJhY2tJZF0sXG4gICAgICAgICAgZGV0YWlscyA9IHRyYWNrLmRldGFpbHMsXG4gICAgICAgICAgZHVyYXRpb24gPSBkZXRhaWxzLnRvdGFsZHVyYXRpb24sXG4gICAgICAgICAgdHJhY2tJZCA9IGZyYWdDdXJyZW50LmxldmVsLFxuICAgICAgICAgIHNuID0gZnJhZ0N1cnJlbnQuc24sXG4gICAgICAgICAgY2MgPSBmcmFnQ3VycmVudC5jYyxcbiAgICAgICAgICBhdWRpb0NvZGVjID0gdGhpcy5jb25maWcuZGVmYXVsdEF1ZGlvQ29kZWMgfHwgdHJhY2suYXVkaW9Db2RlYyB8fCAnbXA0YS40MC4yJyxcbiAgICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHMgPSBkYXRhLnN0YXRzO1xuICAgICAgaWYgKHNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuXG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgZGV0YWlscy5pbml0U2VnbWVudC5kYXRhID0gZGF0YS5wYXlsb2FkO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZ0N1cnJlbnQsIGlkOiAnYXVkaW8nIH0pO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HO1xuICAgICAgICAvLyB0cmFuc211eCB0aGUgTVBFRy1UUyBkYXRhIHRvIElTTy1CTUZGIHNlZ21lbnRzXG4gICAgICAgIHRoaXMuYXBwZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhfZGVtdXhlcih0aGlzLmhscywgJ2F1ZGlvJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy9DaGVjayBpZiB3ZSBoYXZlIHZpZGVvIGluaXRQVFNcbiAgICAgICAgLy8gSWYgbm90IHdlIG5lZWQgdG8gd2FpdCBmb3IgaXRcbiAgICAgICAgdmFyIGluaXRQVFMgPSB0aGlzLmluaXRQVFNbY2NdO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnREYXRhID0gZGV0YWlscy5pbml0U2VnbWVudCA/IGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA6IFtdO1xuICAgICAgICBpZiAoZGV0YWlscy5pbml0U2VnbWVudCB8fCBpbml0UFRTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnRGVtdXhpbmcgJyArIHNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sdHJhY2sgJyArIHRyYWNrSWQpO1xuICAgICAgICAgIC8vIHRpbWUgT2Zmc2V0IGlzIGFjY3VyYXRlIGlmIGxldmVsIFBUUyBpcyBrbm93biwgb3IgaWYgcGxheWxpc3QgaXMgbm90IHNsaWRpbmcgKG5vdCBsaXZlKVxuICAgICAgICAgIHZhciBhY2N1cmF0ZVRpbWVPZmZzZXQgPSBmYWxzZTsgLy9kZXRhaWxzLlBUU0tub3duIHx8ICFkZXRhaWxzLmxpdmU7XG4gICAgICAgICAgdGhpcy5kZW11eGVyLnB1c2goZGF0YS5wYXlsb2FkLCBpbml0U2VnbWVudERhdGEsIGF1ZGlvQ29kZWMsIG51bGwsIGZyYWdDdXJyZW50LCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBpbml0UFRTKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3Vua25vd24gdmlkZW8gUFRTIGZvciBjb250aW51aXR5IGNvdW50ZXIgJyArIGNjICsgJywgd2FpdGluZyBmb3IgdmlkZW8gUFRTIGJlZm9yZSBkZW11eGluZyBhdWRpbyBmcmFnICcgKyBzbiArICcgb2YgWycgKyBkZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgZGV0YWlscy5lbmRTTiArICddLHRyYWNrICcgKyB0cmFja0lkKTtcbiAgICAgICAgICB0aGlzLndhaXRpbmdGcmFnbWVudCA9IGRhdGE7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfSU5JVF9QVFM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCA9IGZ1bmN0aW9uIG9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudChkYXRhKSB7XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZGF0YS5pZCA9PT0gJ2F1ZGlvJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiB0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MsXG4gICAgICAgICAgdHJhY2sgPSB2b2lkIDA7XG5cbiAgICAgIC8vIGRlbGV0ZSBhbnkgdmlkZW8gdHJhY2sgZm91bmQgb24gYXVkaW8gZGVtdXhlclxuICAgICAgaWYgKHRyYWNrcy52aWRlbykge1xuICAgICAgICBkZWxldGUgdHJhY2tzLnZpZGVvO1xuICAgICAgfVxuXG4gICAgICAvLyBpbmNsdWRlIGxldmVsQ29kZWMgaW4gYXVkaW8gYW5kIHZpZGVvIHRyYWNrc1xuICAgICAgdHJhY2sgPSB0cmFja3MuYXVkaW87XG4gICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IHRyYWNrLmNvZGVjO1xuICAgICAgICB0cmFjay5pZCA9IGRhdGEuaWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DT0RFQ1MsIHRyYWNrcyk7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gdHJhY2s6YXVkaW8sY29udGFpbmVyOicgKyB0cmFjay5jb250YWluZXIgKyAnLGNvZGVjc1tsZXZlbC9wYXJzZWRdPVsnICsgdHJhY2subGV2ZWxDb2RlYyArICcvJyArIHRyYWNrLmNvZGVjICsgJ10nKTtcbiAgICAgICAgdmFyIGluaXRTZWdtZW50ID0gdHJhY2suaW5pdFNlZ21lbnQ7XG4gICAgICAgIGlmIChpbml0U2VnbWVudCkge1xuICAgICAgICAgIHZhciBhcHBlbmRPYmogPSB7IHR5cGU6ICdhdWRpbycsIGRhdGE6IGluaXRTZWdtZW50LCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfTtcbiAgICAgICAgICBpZiAodGhpcy5hdWRpb1N3aXRjaCkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nRGF0YSA9IFthcHBlbmRPYmpdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVORElORywgYXBwZW5kT2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdEYXRhID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0RhdGEoZGF0YSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZGF0YS5pZCA9PT0gJ2F1ZGlvJyAmJiBkYXRhLnR5cGUgPT09ICdhdWRpbycgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgdGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORykge1xuICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQsXG4gICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0cmFja0lkXSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcblxuICAgICAgaWYgKGlzTmFOKGRhdGEuZW5kUFRTKSkge1xuICAgICAgICBkYXRhLmVuZFBUUyA9IGRhdGEuc3RhcnRQVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgZGF0YS5lbmREVFMgPSBkYXRhLnN0YXJ0RFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygncGFyc2VkICcgKyBkYXRhLnR5cGUgKyAnLFBUUzpbJyArIGRhdGEuc3RhcnRQVFMudG9GaXhlZCgzKSArICcsJyArIGRhdGEuZW5kUFRTLnRvRml4ZWQoMykgKyAnXSxEVFM6WycgKyBkYXRhLnN0YXJ0RFRTLnRvRml4ZWQoMykgKyAnLycgKyBkYXRhLmVuZERUUy50b0ZpeGVkKDMpICsgJ10sbmI6JyArIGRhdGEubmIpO1xuICAgICAgdXBkYXRlRnJhZ1BUU0RUUyh0cmFjay5kZXRhaWxzLCBmcmFnQ3VycmVudCwgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMpO1xuXG4gICAgICB2YXIgYXVkaW9Td2l0Y2ggPSB0aGlzLmF1ZGlvU3dpdGNoLFxuICAgICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgICBhcHBlbmRPbkJ1ZmZlckZsdXNoID0gZmFsc2U7XG4gICAgICAvL09ubHkgZmx1c2ggYXVkaW8gZnJvbSBvbGQgYXVkaW8gdHJhY2tzIHdoZW4gUFRTIGlzIGtub3duIG9uIG5ldyBhdWRpbyB0cmFja1xuICAgICAgaWYgKGF1ZGlvU3dpdGNoICYmIG1lZGlhKSB7XG4gICAgICAgIGlmIChtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgYXVkaW8gdHJhY2sgOiBjdXJyZW50VGltZTonICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBkYXRhLnN0YXJ0UFRTKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBhdWRpbyB0cmFjayA6IGZsdXNoaW5nIGFsbCBhdWRpbycpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgYXBwZW5kT25CdWZmZXJGbHVzaCA9IHRydWU7XG4gICAgICAgICAgICAvL0xldHMgYW5ub3VuY2UgdGhhdCB0aGUgaW5pdGlhbCBhdWRpbyB0cmFjayBzd2l0Y2ggZmx1c2ggb2NjdXJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hFRCwgeyBpZDogdHJhY2tJZCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9MZXRzIGFubm91bmNlIHRoYXQgdGhlIGluaXRpYWwgYXVkaW8gdHJhY2sgc3dpdGNoIGZsdXNoIG9jY3VyXG4gICAgICAgICAgdGhpcy5hdWRpb1N3aXRjaCA9IGZhbHNlO1xuICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hFRCwgeyBpZDogdHJhY2tJZCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcGVuZGluZ0RhdGEgPSB0aGlzLnBlbmRpbmdEYXRhO1xuICAgICAgaWYgKCF0aGlzLmF1ZGlvU3dpdGNoKSB7XG4gICAgICAgIFtkYXRhLmRhdGExLCBkYXRhLmRhdGEyXS5mb3JFYWNoKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBlbmRpbmdEYXRhLnB1c2goeyB0eXBlOiBkYXRhLnR5cGUsIGRhdGE6IGJ1ZmZlciwgcGFyZW50OiAnYXVkaW8nLCBjb250ZW50OiAnZGF0YScgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBlbmRPbkJ1ZmZlckZsdXNoICYmIHBlbmRpbmdEYXRhLmxlbmd0aCkge1xuICAgICAgICAgIHBlbmRpbmdEYXRhLmZvckVhY2goZnVuY3Rpb24gKGFwcGVuZE9iaikge1xuICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgaW4gUEFSU0lORyBzdGF0ZSAocmF0aW9uYWxlIGlzIHRoYXQgYW4gYXBwZW5kaW5nIGVycm9yIGNvdWxkIGhhcHBlbiBzeW5jaHJvbm91c2x5IG9uIGZpcnN0IHNlZ21lbnQgYXBwZW5kaW5nKVxuICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGl0IGlzIHVzZWxlc3MgdG8gYXBwZW5kIGZvbGxvd2luZyBzZWdtZW50c1xuICAgICAgICAgICAgaWYgKF90aGlzMi5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgICAvLyBhcm0gcGVuZGluZyBCdWZmZXJpbmcgZmxhZyBiZWZvcmUgYXBwZW5kaW5nIGEgc2VnbWVudFxuICAgICAgICAgICAgICBfdGhpczIucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgIF90aGlzMi5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVORElORywgYXBwZW5kT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdEYXRhID0gW107XG4gICAgICAgICAgdGhpcy5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2VkID0gZnVuY3Rpb24gb25GcmFnUGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnYXVkaW8nICYmIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHRoaXMuc3RhdHMudHBhcnNlZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRDtcbiAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNyZWF0ZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckNyZWF0ZWQoZGF0YSkge1xuICAgIHZhciBhdWRpb1RyYWNrID0gZGF0YS50cmFja3MuYXVkaW87XG4gICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSBhdWRpb1RyYWNrLmJ1ZmZlcjtcbiAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGF0YS50cmFja3MudmlkZW8pIHtcbiAgICAgIHRoaXMudmlkZW9CdWZmZXIgPSBkYXRhLnRyYWNrcy52aWRlby5idWZmZXI7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyQXBwZW5kZWQoZGF0YSkge1xuICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ2F1ZGlvJykge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORyB8fCBzdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0VEKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiBhcHBlbmRlZFxuICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSBkYXRhLnBlbmRpbmcgPiAwO1xuICAgICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQXBwZW5kZWRQYXJzZWQgPSBmdW5jdGlvbiBfY2hlY2tBcHBlbmRlZFBhcnNlZCgpIHtcbiAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0VEICYmICghdGhpcy5hcHBlbmRlZCB8fCAhdGhpcy5wZW5kaW5nQnVmZmVyaW5nKSkge1xuICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50LFxuICAgICAgICAgIHN0YXRzID0gdGhpcy5zdGF0cyxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gZnJhZztcbiAgICAgICAgc3RhdHMudGJ1ZmZlcmVkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZywgaWQ6ICdhdWRpbycgfSk7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyBidWZmZXJlZCA6ICcgKyB0aW1lUmFuZ2VzLnRvU3RyaW5nKG1lZGlhLmJ1ZmZlcmVkKSk7XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvU3dpdGNoICYmIHRoaXMuYXBwZW5kZWQpIHtcbiAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0aGlzLnRyYWNrSWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICB9XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICBpZiAoZnJhZyAmJiBmcmFnLnR5cGUgIT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgICAgaWYgKCFkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgdmFyIGxvYWRFcnJvciA9IHRoaXMuZnJhZ0xvYWRFcnJvcjtcbiAgICAgICAgICBpZiAobG9hZEVycm9yKSB7XG4gICAgICAgICAgICBsb2FkRXJyb3IrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9hZEVycm9yID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgIGlmIChsb2FkRXJyb3IgPD0gY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnkpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IGxvYWRFcnJvcjtcbiAgICAgICAgICAgIC8vIHJlc2V0IGxvYWQgY291bnRlciB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvclxuICAgICAgICAgICAgZnJhZy5sb2FkQ291bnRlciA9IDA7XG4gICAgICAgICAgICAvLyBleHBvbmVudGlhbCBiYWNrb2ZmIGNhcHBlZCB0byBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXRcbiAgICAgICAgICAgIHZhciBkZWxheSA9IE1hdGgubWluKE1hdGgucG93KDIsIGxvYWRFcnJvciAtIDEpICogY29uZmlnLmZyYWdMb2FkaW5nUmV0cnlEZWxheSwgY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0KTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2F1ZGlvU3RyZWFtQ29udHJvbGxlcjogZnJhZyBsb2FkaW5nIGZhaWxlZCwgcmV0cnkgaW4gJyArIGRlbGF5ICsgJyBtcycpO1xuICAgICAgICAgICAgdGhpcy5yZXRyeURhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSArIGRlbGF5O1xuICAgICAgICAgICAgLy8gcmV0cnkgbG9hZGluZyBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignYXVkaW9TdHJlYW1Db250cm9sbGVyOiAnICsgZGF0YS5kZXRhaWxzICsgJyByZWFjaGVzIG1heCByZXRyeSwgcmVkaXNwYXRjaCBhcyBmYXRhbCAuLi4nKTtcbiAgICAgICAgICAgIC8vIHN3aXRjaCBlcnJvciB0byBmYXRhbFxuICAgICAgICAgICAgZGF0YS5mYXRhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRVJST1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPT1BfTE9BRElOR19FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX0xPQURfVElNRU9VVDpcbiAgICAgICAgLy8gIHdoZW4gaW4gRVJST1Igc3RhdGUsIGRvbid0IHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgaW4gY2FzZSBhIG5vbi1mYXRhbCBlcnJvciBpcyByZWNlaXZlZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAvLyBpZiBmYXRhbCBlcnJvciwgc3RvcCBwcm9jZXNzaW5nLCBvdGhlcndpc2UgbW92ZSB0byBJRExFIHRvIHJldHJ5IGxvYWRpbmdcbiAgICAgICAgICB0aGlzLnN0YXRlID0gZGF0YS5mYXRhbCA/IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVSUk9SIDogYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhdWRpb1N0cmVhbUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnIHdoaWxlIGxvYWRpbmcgZnJhZyxzd2l0Y2ggdG8gJyArIHRoaXMuc3RhdGUgKyAnIHN0YXRlIC4uLicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfRlVMTF9FUlJPUjpcbiAgICAgICAgLy8gaWYgaW4gYXBwZW5kaW5nIHN0YXRlXG4gICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ2F1ZGlvJyAmJiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQpKSB7XG4gICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlcixcbiAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICBtZWRpYUJ1ZmZlcmVkID0gbWVkaWEgJiYgYnVmZmVyX2hlbHBlci5pc0J1ZmZlcmVkKG1lZGlhLCBjdXJyZW50VGltZSkgJiYgYnVmZmVyX2hlbHBlci5pc0J1ZmZlcmVkKG1lZGlhLCBjdXJyZW50VGltZSArIDAuNSk7XG4gICAgICAgICAgLy8gcmVkdWNlIG1heCBidWYgbGVuIGlmIGN1cnJlbnQgcG9zaXRpb24gaXMgYnVmZmVyZWRcbiAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCkge1xuICAgICAgICAgICAgdmFyIF9jb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgICAgIGlmIChfY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCA+PSBfY29uZmlnLm1heEJ1ZmZlckxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggYXMgaXQgbWlnaHQgYmUgdG9vIGhpZ2guIHdlIGRvIHRoaXMgdG8gYXZvaWQgbG9vcCBmbHVzaGluZyAuLi5cbiAgICAgICAgICAgICAgX2NvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggLz0gMjtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYXVkaW86cmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIHRvICcgKyBfY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCArICdzJyk7XG4gICAgICAgICAgICAgIC8vIGluY3JlYXNlIGZyYWdtZW50IGxvYWQgSW5kZXggdG8gYXZvaWQgZnJhZyBsb29wIGxvYWRpbmcgZXJyb3IgYWZ0ZXIgYnVmZmVyIGZsdXNoXG4gICAgICAgICAgICAgIHRoaXMuZnJhZ0xvYWRJZHggKz0gMiAqIF9jb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgcG9zaXRpb24gaXMgbm90IGJ1ZmZlcmVkLCBidXQgYnJvd3NlciBpcyBzdGlsbCBjb21wbGFpbmluZyBhYm91dCBidWZmZXIgZnVsbCBlcnJvclxuICAgICAgICAgICAgLy8gdGhpcyBoYXBwZW5zIG9uIElFL0VkZ2UsIHJlZmVyIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL3B1bGwvNzA4XG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgZmx1c2ggdGhlIHdob2xlIGF1ZGlvIGJ1ZmZlciB0byByZWNvdmVyXG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdidWZmZXIgZnVsbCBlcnJvciBhbHNvIG1lZGlhLmN1cnJlbnRUaW1lIGlzIG5vdCBidWZmZXJlZCwgZmx1c2ggYXVkaW8gYnVmZmVyJyk7XG4gICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5CVUZGRVJfRkxVU0hJTkc7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyRmx1c2hlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyRmx1c2hlZCgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBwZW5kaW5nRGF0YSA9IHRoaXMucGVuZGluZ0RhdGE7XG4gICAgaWYgKHBlbmRpbmdEYXRhICYmIHBlbmRpbmdEYXRhLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhcHBlbmRpbmcgcGVuZGluZyBhdWRpbyBkYXRhIG9uIEJ1ZmZlciBGbHVzaGVkJyk7XG4gICAgICBwZW5kaW5nRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChhcHBlbmRPYmopIHtcbiAgICAgICAgX3RoaXMzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1vdmUgdG8gSURMRSBvbmNlIGZsdXNoIGNvbXBsZXRlLiB0aGlzIHNob3VsZCB0cmlnZ2VyIG5ldyBmcmFnbWVudCBsb2FkaW5nXG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKEF1ZGlvU3RyZWFtQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzdGF0ZScsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV4dFN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gc3RyZWFtOicgKyBwcmV2aW91c1N0YXRlICsgJy0+JyArIG5leHRTdGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXVkaW9TdHJlYW1Db250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXIgPSAoYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfQXVkaW9TdHJlYW1Db250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL3Z0dGN1ZS5qc1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB2dHRjdWUgPSAoKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5WVFRDdWUpIHtcbiAgICByZXR1cm4gd2luZG93LlZUVEN1ZTtcbiAgfVxuXG4gIHZhciBhdXRvS2V5d29yZCA9ICdhdXRvJztcbiAgdmFyIGRpcmVjdGlvblNldHRpbmcgPSB7XG4gICAgJyc6IHRydWUsXG4gICAgbHI6IHRydWUsXG4gICAgcmw6IHRydWVcbiAgfTtcbiAgdmFyIGFsaWduU2V0dGluZyA9IHtcbiAgICBzdGFydDogdHJ1ZSxcbiAgICBtaWRkbGU6IHRydWUsXG4gICAgZW5kOiB0cnVlLFxuICAgIGxlZnQ6IHRydWUsXG4gICAgcmlnaHQ6IHRydWVcbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kRGlyZWN0aW9uU2V0dGluZyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBkaXIgPSBkaXJlY3Rpb25TZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBkaXIgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGFsaWduID0gYWxpZ25TZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChvYmopIHtcbiAgICB2YXIgaSA9IDE7XG4gICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb2JqKSB7XG4gICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZUVEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIHRleHQpIHtcbiAgICB2YXIgY3VlID0gdGhpcztcbiAgICB2YXIgaXNJRTggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgvTVNJRVxcczhcXC4wLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICApO1xuICAgIH0oKTtcbiAgICB2YXIgYmFzZU9iaiA9IHt9O1xuXG4gICAgaWYgKGlzSUU4KSB7XG4gICAgICBjdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdXN0b20nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZU9iai5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaGltIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBpblxuICAgICAqIHRoZSBzcGVjLlxuICAgICAqL1xuXG4gICAgLy8gTGV0cyB1cyBrbm93IHdoZW4gdGhlIFZUVEN1ZSdzIGRhdGEgaGFzIGNoYW5nZWQgaW4gc3VjaCBhIHdheSB0aGF0IHdlIG5lZWRcbiAgICAvLyB0byByZWNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGUuIFRoaXMgbGV0cyB1cyBjb21wdXRlIGl0cyBkaXNwbGF5IHN0YXRlXG4gICAgLy8gbGF6aWx5LlxuICAgIGN1ZS5oYXNCZWVuUmVzZXQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFZUVEN1ZSBhbmQgVGV4dFRyYWNrQ3VlIHByb3BlcnRpZXNcbiAgICAgKiBodHRwOi8vZGV2LnczLm9yZy9odG1sNS93ZWJ2dHQvI3Z0dGN1ZS1pbnRlcmZhY2VcbiAgICAgKi9cblxuICAgIHZhciBfaWQgPSAnJztcbiAgICB2YXIgX3BhdXNlT25FeGl0ID0gZmFsc2U7XG4gICAgdmFyIF9zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgdmFyIF9lbmRUaW1lID0gZW5kVGltZTtcbiAgICB2YXIgX3RleHQgPSB0ZXh0O1xuICAgIHZhciBfcmVnaW9uID0gbnVsbDtcbiAgICB2YXIgX3ZlcnRpY2FsID0gJyc7XG4gICAgdmFyIF9zbmFwVG9MaW5lcyA9IHRydWU7XG4gICAgdmFyIF9saW5lID0gJ2F1dG8nO1xuICAgIHZhciBfbGluZUFsaWduID0gJ3N0YXJ0JztcbiAgICB2YXIgX3Bvc2l0aW9uID0gNTA7XG4gICAgdmFyIF9wb3NpdGlvbkFsaWduID0gJ21pZGRsZSc7XG4gICAgdmFyIF9zaXplID0gNTA7XG4gICAgdmFyIF9hbGlnbiA9ICdtaWRkbGUnO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2lkJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pZDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfaWQgPSAnJyArIHZhbHVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdwYXVzZU9uRXhpdCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfcGF1c2VPbkV4aXQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgX3BhdXNlT25FeGl0ID0gISF2YWx1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnc3RhcnRUaW1lJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdGFydFRpbWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdGFydCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLicpO1xuICAgICAgICB9XG4gICAgICAgIF9zdGFydFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdlbmRUaW1lJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9lbmRUaW1lO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5kIHRpbWUgbXVzdCBiZSBzZXQgdG8gYSBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICd0ZXh0JywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF90ZXh0O1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIF90ZXh0ID0gJycgKyB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdyZWdpb24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2lvbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAndmVydGljYWwnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3ZlcnRpY2FsO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBzZXR0aW5nID0gZmluZERpcmVjdGlvblNldHRpbmcodmFsdWUpO1xuICAgICAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBmYWxzZSBiZWNhdXNlIHRoZSBzZXR0aW5nIGFuIGJlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgaWYgKHNldHRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3ZlcnRpY2FsID0gc2V0dGluZztcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdzbmFwVG9MaW5lcycsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc25hcFRvTGluZXM7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgX3NuYXBUb0xpbmVzID0gISF2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdsaW5lJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9saW5lO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInICYmIHZhbHVlICE9PSBhdXRvS2V5d29yZCkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQW4gaW52YWxpZCBudW1iZXIgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBfbGluZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2xpbmVBbGlnbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfbGluZUFsaWduO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgIGlmICghc2V0dGluZykge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQW4gaW52YWxpZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgICAgIF9saW5lQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3Bvc2l0aW9uJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9wb3NpdGlvbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3NpdGlvbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLicpO1xuICAgICAgICB9XG4gICAgICAgIF9wb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3Bvc2l0aW9uQWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3Bvc2l0aW9uQWxpZ247XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3Bvc2l0aW9uQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3NpemUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3NpemU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEwMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2l6ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLicpO1xuICAgICAgICB9XG4gICAgICAgIF9zaXplID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnYWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgIGlmICghc2V0dGluZykge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQW4gaW52YWxpZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgICAgIF9hbGlnbiA9IHNldHRpbmc7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBPdGhlciA8dHJhY2s+IHNwZWMgZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cbiAgICAvLyBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtdmlkZW8tZWxlbWVudC5odG1sI3RleHQtdHJhY2stY3VlLWRpc3BsYXktc3RhdGVcbiAgICBjdWUuZGlzcGxheVN0YXRlID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGlzSUU4KSB7XG4gICAgICByZXR1cm4gY3VlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWVFRDdWUgbWV0aG9kc1xuICAgKi9cblxuICBWVFRDdWUucHJvdG90eXBlLmdldEN1ZUFzSFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBBc3N1bWUgV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUgaXMgb24gdGhlIGdsb2JhbC5cbiAgICB2YXIgV2ViVlRUID0gd2luZG93LldlYlZUVDtcbiAgICByZXR1cm4gV2ViVlRULmNvbnZlcnRDdWVUb0RPTVRyZWUod2luZG93LCB0aGlzLnRleHQpO1xuICB9O1xuXG4gIHJldHVybiBWVFRDdWU7XG59KSgpKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL3Z0dHBhcnNlci5qc1xuLypcbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzL2Jsb2IvbWFzdGVyL2Rpc3QvdnR0LmpzI0wxNzE2XG4gKi9cblxuXG5cbnZhciBTdHJpbmdEZWNvZGVyID0gZnVuY3Rpb24gU3RyaW5nRGVjb2RlcigpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShkYXRhKSB7XG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gVlRUUGFyc2VyKCkge1xuICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgdGhpcy5zdGF0ZSA9ICdJTklUSUFMJztcbiAgdGhpcy5idWZmZXIgPSAnJztcbiAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoKTtcbiAgdGhpcy5yZWdpb25MaXN0ID0gW107XG59XG5cbi8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdGFtcChpbnB1dCkge1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGVTZWNvbmRzKGgsIG0sIHMsIGYpIHtcbiAgICByZXR1cm4gKGggfCAwKSAqIDM2MDAgKyAobSB8IDApICogNjAgKyAocyB8IDApICsgKGYgfCAwKSAvIDEwMDA7XG4gIH1cblxuICB2YXIgbSA9IGlucHV0Lm1hdGNoKC9eKFxcZCspOihcXGR7Mn0pKDpcXGR7Mn0pP1xcLihcXGR7M30pLyk7XG4gIGlmICghbSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKG1bM10pIHtcbiAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW2hvdXJzXTpbbWludXRlc106W3NlY29uZHNdLlttaWxsaXNlY29uZHNdXG4gICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKG1bMV0sIG1bMl0sIG1bM10ucmVwbGFjZSgnOicsICcnKSwgbVs0XSk7XG4gIH0gZWxzZSBpZiAobVsxXSA+IDU5KSB7XG4gICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdLlttaWxsaXNlY29uZHNdXG4gICAgLy8gRmlyc3QgcG9zaXRpb24gaXMgaG91cnMgYXMgaXQncyBvdmVyIDU5LlxuICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCAwLCBtWzRdKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW21pbnV0ZXNdOltzZWNvbmRzXS5bbWlsbGlzZWNvbmRzXVxuICAgIHJldHVybiBjb21wdXRlU2Vjb25kcygwLCBtWzFdLCBtWzJdLCBtWzRdKTtcbiAgfVxufVxuXG4vLyBBIHNldHRpbmdzIG9iamVjdCBob2xkcyBrZXkvdmFsdWUgcGFpcnMgYW5kIHdpbGwgaWdub3JlIGFueXRoaW5nIGJ1dCB0aGUgZmlyc3Rcbi8vIGFzc2lnbm1lbnQgdG8gYSBzcGVjaWZpYyBrZXkuXG5mdW5jdGlvbiBTZXR0aW5ncygpIHtcbiAgdGhpcy52YWx1ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5TZXR0aW5ncy5wcm90b3R5cGUgPSB7XG4gIC8vIE9ubHkgYWNjZXB0IHRoZSBmaXJzdCBhc3NpZ25tZW50IHRvIGFueSBrZXkuXG4gIHNldDogZnVuY3Rpb24gc2V0KGssIHYpIHtcbiAgICBpZiAoIXRoaXMuZ2V0KGspICYmIHYgIT09ICcnKSB7XG4gICAgICB0aGlzLnZhbHVlc1trXSA9IHY7XG4gICAgfVxuICB9LFxuICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZvciBhIGtleSwgb3IgYSBkZWZhdWx0IHZhbHVlLlxuICAvLyBJZiAnZGVmYXVsdEtleScgaXMgcGFzc2VkIHRoZW4gJ2RmbHQnIGlzIGFzc3VtZWQgdG8gYmUgYW4gb2JqZWN0IHdpdGhcbiAgLy8gYSBudW1iZXIgb2YgcG9zc2libGUgZGVmYXVsdCB2YWx1ZXMgYXMgcHJvcGVydGllcyB3aGVyZSAnZGVmYXVsdEtleScgaXNcbiAgLy8gdGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNob3Nlbjsgb3RoZXJ3aXNlIGl0J3MgYXNzdW1lZCB0byBiZVxuICAvLyBhIHNpbmdsZSB2YWx1ZS5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoaywgZGZsdCwgZGVmYXVsdEtleSkge1xuICAgIGlmIChkZWZhdWx0S2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLnZhbHVlc1trXSA6IGRmbHRbZGVmYXVsdEtleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdDtcbiAgfSxcbiAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgdmFsdWUgZm9yIGEga2V5LlxuICBoYXM6IGZ1bmN0aW9uIGhhcyhrKSB7XG4gICAgcmV0dXJuIGsgaW4gdGhpcy52YWx1ZXM7XG4gIH0sXG4gIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIG9uZSBvZiB0aGUgZ2l2ZW4gYWx0ZXJuYXRpdmVzLlxuICBhbHQ6IGZ1bmN0aW9uIGFsdChrLCB2LCBhKSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBhLmxlbmd0aDsgKytuKSB7XG4gICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gIGludGVnZXI6IGZ1bmN0aW9uIGludGVnZXIoaywgdikge1xuICAgIGlmICgvXi0/XFxkKyQvLnRlc3QodikpIHtcbiAgICAgIC8vIGludGVnZXJcbiAgICAgIHRoaXMuc2V0KGssIHBhcnNlSW50KHYsIDEwKSk7XG4gICAgfVxuICB9LFxuICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIHBlcmNlbnRhZ2UuXG4gIHBlcmNlbnQ6IGZ1bmN0aW9uIHBlcmNlbnQoaywgdikge1xuICAgIHZhciBtO1xuICAgIGlmIChtID0gdi5tYXRjaCgvXihbXFxkXXsxLDN9KShcXC5bXFxkXSopPyUkLykpIHtcbiAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgaWYgKHYgPj0gMCAmJiB2IDw9IDEwMCkge1xuICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIGlucHV0IGludG8gZ3JvdXBzIHNlcGFyYXRlZCBieSAnZ3JvdXBEZWxpbScsIGFuZFxuLy8gaW50ZXJwcmV0ZSBlYWNoIGdyb3VwIGFzIGEga2V5L3ZhbHVlIHBhaXIgc2VwYXJhdGVkIGJ5ICdrZXlWYWx1ZURlbGltJy5cbmZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhpbnB1dCwgY2FsbGJhY2ssIGtleVZhbHVlRGVsaW0sIGdyb3VwRGVsaW0pIHtcbiAgdmFyIGdyb3VwcyA9IGdyb3VwRGVsaW0gPyBpbnB1dC5zcGxpdChncm91cERlbGltKSA6IFtpbnB1dF07XG4gIGZvciAodmFyIGkgaW4gZ3JvdXBzKSB7XG4gICAgaWYgKHR5cGVvZiBncm91cHNbaV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGt2ID0gZ3JvdXBzW2ldLnNwbGl0KGtleVZhbHVlRGVsaW0pO1xuICAgIGlmIChrdi5sZW5ndGggIT09IDIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgayA9IGt2WzBdO1xuICAgIHZhciB2ID0ga3ZbMV07XG4gICAgY2FsbGJhY2soaywgdik7XG4gIH1cbn1cblxudmFyIGRlZmF1bHRzID0gbmV3IHZ0dGN1ZSgwLCAwLCAwKTtcbi8vICdtaWRkbGUnIHdhcyBjaGFuZ2VkIHRvICdjZW50ZXInIGluIHRoZSBzcGVjOiBodHRwczovL2dpdGh1Yi5jb20vdzNjL3dlYnZ0dC9wdWxsLzI0NFxuLy8gIFNhZmFyaSBkb2Vzbid0IHlldCBzdXBwb3J0IHRoaXMgY2hhbmdlLCBidXQgRkYgYW5kIENocm9tZSBkby5cbnZhciBjZW50ZXIgPSBkZWZhdWx0cy5hbGlnbiA9PT0gJ21pZGRsZScgPyAnbWlkZGxlJyA6ICdjZW50ZXInO1xuXG5mdW5jdGlvbiBwYXJzZUN1ZShpbnB1dCwgY3VlLCByZWdpb25MaXN0KSB7XG4gIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB3ZSBuZWVkIHRvIHRocm93IGFuIGVycm9yLlxuICB2YXIgb0lucHV0ID0gaW5wdXQ7XG4gIC8vIDQuMSBXZWJWVFQgdGltZXN0YW1wXG4gIGZ1bmN0aW9uIGNvbnN1bWVUaW1lU3RhbXAoKSB7XG4gICAgdmFyIHRzID0gcGFyc2VUaW1lU3RhbXAoaW5wdXQpO1xuICAgIGlmICh0cyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgdGltZXN0YW1wOiAnICsgb0lucHV0KTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRpbWUgc3RhbXAgZnJvbSBpbnB1dC5cbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15bXlxcc2EtekEtWi1dKy8sICcnKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cblxuICAvLyA0LjQuMiBXZWJWVFQgY3VlIHNldHRpbmdzXG4gIGZ1bmN0aW9uIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dCwgY3VlKSB7XG4gICAgdmFyIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG5cbiAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgY2FzZSAncmVnaW9uJzpcbiAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IHJlZ2lvbiB3ZSBwYXJzZWQgd2l0aCB0aGUgc2FtZSByZWdpb24gaWQuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IHJlZ2lvbkxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChyZWdpb25MaXN0W2ldLmlkID09PSB2KSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzLnNldChrLCByZWdpb25MaXN0W2ldLnJlZ2lvbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndmVydGljYWwnOlxuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3JsJywgJ2xyJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsaW5lJzpcbiAgICAgICAgICB2YXIgdmFscyA9IHYuc3BsaXQoJywnKSxcbiAgICAgICAgICAgICAgdmFsczAgPSB2YWxzWzBdO1xuICAgICAgICAgIHNldHRpbmdzLmludGVnZXIoaywgdmFsczApO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5wZXJjZW50KGssIHZhbHMwKSkge1xuICAgICAgICAgICAgc2V0dGluZ3Muc2V0KCdzbmFwVG9MaW5lcycsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHZhbHMwLCBbJ2F1dG8nXSk7XG4gICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoJ2xpbmVBbGlnbicsIHZhbHNbMV0sIFsnc3RhcnQnLCBjZW50ZXIsICdlbmQnXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwb3NpdGlvbic6XG4gICAgICAgICAgdmFscyA9IHYuc3BsaXQoJywnKTtcbiAgICAgICAgICBzZXR0aW5ncy5wZXJjZW50KGssIHZhbHNbMF0pO1xuICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgc2V0dGluZ3MuYWx0KCdwb3NpdGlvbkFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCcsICdsaW5lLWxlZnQnLCAnbGluZS1yaWdodCcsICdhdXRvJ10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2l6ZSc6XG4gICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYWxpZ24nOlxuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3N0YXJ0JywgY2VudGVyLCAnZW5kJywgJ2xlZnQnLCAncmlnaHQnXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgLzovLCAvXFxzLyk7XG5cbiAgICAvLyBBcHBseSBkZWZhdWx0IHZhbHVlcyBmb3IgYW55IG1pc3NpbmcgZmllbGRzLlxuICAgIGN1ZS5yZWdpb24gPSBzZXR0aW5ncy5nZXQoJ3JlZ2lvbicsIG51bGwpO1xuICAgIGN1ZS52ZXJ0aWNhbCA9IHNldHRpbmdzLmdldCgndmVydGljYWwnLCAnJyk7XG4gICAgdmFyIGxpbmUgPSBzZXR0aW5ncy5nZXQoJ2xpbmUnLCAnYXV0bycpO1xuICAgIGlmIChsaW5lID09PSAnYXV0bycgJiYgZGVmYXVsdHMubGluZSA9PT0gLTEpIHtcbiAgICAgIC8vIHNldCBudW1lcmljIGxpbmUgbnVtYmVyIGZvciBTYWZhcmlcbiAgICAgIGxpbmUgPSAtMTtcbiAgICB9XG4gICAgY3VlLmxpbmUgPSBsaW5lO1xuICAgIGN1ZS5saW5lQWxpZ24gPSBzZXR0aW5ncy5nZXQoJ2xpbmVBbGlnbicsICdzdGFydCcpO1xuICAgIGN1ZS5zbmFwVG9MaW5lcyA9IHNldHRpbmdzLmdldCgnc25hcFRvTGluZXMnLCB0cnVlKTtcbiAgICBjdWUuc2l6ZSA9IHNldHRpbmdzLmdldCgnc2l6ZScsIDEwMCk7XG4gICAgY3VlLmFsaWduID0gc2V0dGluZ3MuZ2V0KCdhbGlnbicsIGNlbnRlcik7XG4gICAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MuZ2V0KCdwb3NpdGlvbicsICdhdXRvJyk7XG4gICAgaWYgKHBvc2l0aW9uID09PSAnYXV0bycgJiYgZGVmYXVsdHMucG9zaXRpb24gPT09IDUwKSB7XG4gICAgICAvLyBzZXQgbnVtZXJpYyBwb3NpdGlvbiBmb3IgU2FmYXJpXG4gICAgICBwb3NpdGlvbiA9IGN1ZS5hbGlnbiA9PT0gJ3N0YXJ0JyB8fCBjdWUuYWxpZ24gPT09ICdsZWZ0JyA/IDAgOiBjdWUuYWxpZ24gPT09ICdlbmQnIHx8IGN1ZS5hbGlnbiA9PT0gJ3JpZ2h0JyA/IDEwMCA6IDUwO1xuICAgIH1cbiAgICBjdWUucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlxccysvLCAnJyk7XG4gIH1cblxuICAvLyA0LjEgV2ViVlRUIGN1ZSB0aW1pbmdzLlxuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjdWUuc3RhcnRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoMSkgY29sbGVjdCBjdWUgc3RhcnQgdGltZVxuICBza2lwV2hpdGVzcGFjZSgpO1xuICBpZiAoaW5wdXQuc3Vic3RyKDAsIDMpICE9PSAnLS0+Jykge1xuICAgIC8vICgzKSBuZXh0IGNoYXJhY3RlcnMgbXVzdCBtYXRjaCAnLS0+J1xuICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWUgc3RhbXAgKHRpbWUgc3RhbXBzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IFxcJy0tPlxcJyk6ICcgKyBvSW5wdXQpO1xuICB9XG4gIGlucHV0ID0gaW5wdXQuc3Vic3RyKDMpO1xuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDUpIGNvbGxlY3QgY3VlIGVuZCB0aW1lXG5cbiAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgY29uc3VtZUN1ZVNldHRpbmdzKGlucHV0LCBjdWUpO1xufVxuXG5mdW5jdGlvbiBmaXhMaW5lQnJlYWtzKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKC88YnIoPzogXFwvKT8+L2dpLCAnXFxuJyk7XG59XG5cblZUVFBhcnNlci5wcm90b3R5cGUgPSB7XG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAvLyB3aGF0ZXZlciBpcyBpbiBidWZmZXIgYWxyZWFkeS4gVGhpcyBtYXkgb2NjdXIgaW4gY2lyY3Vtc3RhbmNlcywgZm9yXG4gICAgLy8gZXhhbXBsZSB3aGVuIGZsdXNoKCkgaXMgY2FsbGVkLlxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBkYXRhIHRoYXQgd2UgcmVjZWl2ZWQuXG4gICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3ROZXh0TGluZSgpIHtcbiAgICAgIHZhciBidWZmZXIgPSBzZWxmLmJ1ZmZlcjtcbiAgICAgIHZhciBwb3MgPSAwO1xuXG4gICAgICBidWZmZXIgPSBmaXhMaW5lQnJlYWtzKGJ1ZmZlcik7XG5cbiAgICAgIHdoaWxlIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdICE9PSAnXFxyJyAmJiBidWZmZXJbcG9zXSAhPT0gJ1xcbicpIHtcbiAgICAgICAgKytwb3M7XG4gICAgICB9XG4gICAgICB2YXIgbGluZSA9IGJ1ZmZlci5zdWJzdHIoMCwgcG9zKTtcbiAgICAgIC8vIEFkdmFuY2UgdGhlIGJ1ZmZlciBlYXJseSBpbiBjYXNlIHdlIGZhaWwgYmVsb3cuXG4gICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXHInKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgfVxuICAgICAgaWYgKGJ1ZmZlcltwb3NdID09PSAnXFxuJykge1xuICAgICAgICArK3BvcztcbiAgICAgIH1cbiAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyLnN1YnN0cihwb3MpO1xuICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuXG4gICAgLy8gMy4yIFdlYlZUVCBtZXRhZGF0YSBoZWFkZXIgc3ludGF4XG4gICAgZnVuY3Rpb24gcGFyc2VIZWFkZXIoaW5wdXQpIHtcbiAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgY2FzZSAnUmVnaW9uJzpcbiAgICAgICAgICAgIC8vIDMuMyBXZWJWVFQgcmVnaW9uIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXJzZSByZWdpb24nLCB2KTtcbiAgICAgICAgICAgIC8vcGFyc2VSZWdpb24odik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSwgLzovKTtcbiAgICB9XG5cbiAgICAvLyA1LjEgV2ViVlRUIGZpbGUgcGFyc2luZy5cbiAgICB0cnkge1xuICAgICAgdmFyIGxpbmU7XG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ0lOSVRJQUwnKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IHN0YXJ0IHBhcnNpbmcgdW50aWwgd2UgaGF2ZSB0aGUgZmlyc3QgbGluZS5cbiAgICAgICAgaWYgKCEvXFxyXFxufFxcbi8udGVzdChzZWxmLmJ1ZmZlcikpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgLy8gc3RyaXAgb2YgVVRGLTggQk9NIGlmIGFueVxuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CeXRlX29yZGVyX21hcmsjVVRGLThcbiAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKC9eKMOvwrvCvyk/V0VCVlRUKFsgXFx0XS4qKT8kLyk7XG4gICAgICAgIGlmICghbSB8fCAhbVswXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFdlYlZUVCBzaWduYXR1cmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnN0YXRlID0gJ0hFQURFUic7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbHJlYWR5Q29sbGVjdGVkTGluZSA9IGZhbHNlO1xuICAgICAgd2hpbGUgKHNlbGYuYnVmZmVyKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IHBhcnNlIGEgbGluZSB1bnRpbCB3ZSBoYXZlIHRoZSBmdWxsIGxpbmUuXG4gICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFscmVhZHlDb2xsZWN0ZWRMaW5lKSB7XG4gICAgICAgICAgbGluZSA9IGNvbGxlY3ROZXh0TGluZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHNlbGYuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdIRUFERVInOlxuICAgICAgICAgICAgLy8gMTMtMTggLSBBbGxvdyBhIGhlYWRlciAobWV0YWRhdGEpIHVuZGVyIHRoZSBXRUJWVFQgbGluZS5cbiAgICAgICAgICAgIGlmICgvOi8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICBwYXJzZUhlYWRlcihsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgLy8gQW4gZW1wdHkgbGluZSB0ZXJtaW5hdGVzIHRoZSBoZWFkZXIgYW5kIHN0YXJ0cyB0aGUgYm9keSAoY3VlcykuXG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnTk9URSc6XG4gICAgICAgICAgICAvLyBJZ25vcmUgTk9URSBibG9ja3MuXG4gICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdJRCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlICdJRCc6XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIHN0YXJ0IG9mIE5PVEUgYmxvY2tzLlxuICAgICAgICAgICAgaWYgKC9eTk9URSgkfFsgXFx0XSkvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdOT1RFJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxOS0yOSAtIEFsbG93IGFueSBudW1iZXIgb2YgbGluZSB0ZXJtaW5hdG9ycywgdGhlbiBpbml0aWFsaXplIG5ldyBjdWUgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5jdWUgPSBuZXcgdnR0Y3VlKDAsIDAsICcnKTtcbiAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnQ1VFJztcbiAgICAgICAgICAgIC8vIDMwLTM5IC0gQ2hlY2sgaWYgc2VsZiBsaW5lIGNvbnRhaW5zIGFuIG9wdGlvbmFsIGlkZW50aWZpZXIgb3IgdGltaW5nIGRhdGEuXG4gICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCctLT4nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdWUuaWQgPSBsaW5lO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcm9jZXNzIGxpbmUgYXMgc3RhcnQgb2YgYSBjdWUuXG4gICAgICAgICAgLypmYWxscyB0aHJvdWdoKi9cbiAgICAgICAgICBjYXNlICdDVUUnOlxuICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHBhcnNlQ3VlKGxpbmUsIHNlbGYuY3VlLCBzZWxmLnJlZ2lvbkxpc3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGFuIGVycm9yIGlnbm9yZSByZXN0IG9mIHRoZSBjdWUuXG4gICAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdCQURDVUUnO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnQ1VFVEVYVCc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlICdDVUVURVhUJzpcbiAgICAgICAgICAgIHZhciBoYXNTdWJzdHJpbmcgPSBsaW5lLmluZGV4T2YoJy0tPicpICE9PSAtMTtcbiAgICAgICAgICAgIC8vIDM0IC0gSWYgd2UgaGF2ZSBhbiBlbXB0eSBsaW5lIHRoZW4gcmVwb3J0IHRoZSBjdWUuXG4gICAgICAgICAgICAvLyAzNSAtIElmIHdlIGhhdmUgdGhlIHNwZWNpYWwgc3Vic3RyaW5nICctLT4nIHRoZW4gcmVwb3J0IHRoZSBjdWUsXG4gICAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbGxlY3QgdGhlIGxpbmUgYXMgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAvLyBvbmUgYXMgYSBuZXcgY3VlLlxuICAgICAgICAgICAgaWYgKCFsaW5lIHx8IGhhc1N1YnN0cmluZyAmJiAoYWxyZWFkeUNvbGxlY3RlZExpbmUgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAvLyBXZSBhcmUgZG9uZSBwYXJzaW5nIHNlbGYgY3VlLlxuICAgICAgICAgICAgICBpZiAoc2VsZi5vbmN1ZSkge1xuICAgICAgICAgICAgICAgIHNlbGYub25jdWUoc2VsZi5jdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdJRCc7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGYuY3VlLnRleHQpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSAnXFxuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuY3VlLnRleHQgKz0gbGluZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ0JBRENVRSc6XG4gICAgICAgICAgICAvLyBCQURDVUVcbiAgICAgICAgICAgIC8vIDU0LTYyIC0gQ29sbGVjdCBhbmQgZGlzY2FyZCB0aGUgcmVtYWluaW5nIGN1ZS5cbiAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IHBhcnNpbmcgYSBjdWUsIHJlcG9ydCB3aGF0IHdlIGhhdmUuXG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ0NVRVRFWFQnICYmIHNlbGYuY3VlICYmIHNlbGYub25jdWUpIHtcbiAgICAgICAgc2VsZi5vbmN1ZShzZWxmLmN1ZSk7XG4gICAgICB9XG4gICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAvLyBFbnRlciBCQURXRUJWVFQgc3RhdGUgaWYgaGVhZGVyIHdhcyBub3QgcGFyc2VkIGNvcnJlY3RseSBvdGhlcndpc2VcbiAgICAgIC8vIGFub3RoZXIgZXhjZXB0aW9uIG9jY3VycmVkIHNvIGVudGVyIEJBRENVRSBzdGF0ZS5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLnN0YXRlID09PSAnSU5JVElBTCcgPyAnQkFEV0VCVlRUJyA6ICdCQURDVUUnO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZmx1c2g6IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgLy8gRmluaXNoIGRlY29kaW5nIHRoZSBzdHJlYW0uXG4gICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKCk7XG4gICAgICAvLyBTeW50aGVzaXplIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgY3VlIG9yIHJlZ2lvbi5cbiAgICAgIGlmIChzZWxmLmN1ZSB8fCBzZWxmLnN0YXRlID09PSAnSEVBREVSJykge1xuICAgICAgICBzZWxmLmJ1ZmZlciArPSAnXFxuXFxuJztcbiAgICAgICAgc2VsZi5wYXJzZSgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UndmUgZmx1c2hlZCwgcGFyc2VkLCBhbmQgd2UncmUgc3RpbGwgb24gdGhlIElOSVRJQUwgc3RhdGUgdGhlblxuICAgICAgLy8gdGhhdCBtZWFucyB3ZSBkb24ndCBoYXZlIGVub3VnaCBvZiB0aGUgc3RyZWFtIHRvIHBhcnNlIHRoZSBmaXJzdFxuICAgICAgLy8gbGluZS5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnSU5JVElBTCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgV2ViVlRUIHNpZ25hdHVyZS4nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBpZiAoc2VsZi5vbmZsdXNoKSB7XG4gICAgICBzZWxmLm9uZmx1c2goKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB2dHRwYXJzZXIgPSAoVlRUUGFyc2VyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2N1ZXMuanNcblxuXG5mdW5jdGlvbiBuZXdDdWUodHJhY2ssIHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbikge1xuICB2YXIgcm93O1xuICB2YXIgY3VlO1xuICB2YXIgaW5kZW50aW5nO1xuICB2YXIgaW5kZW50O1xuICB2YXIgdGV4dDtcbiAgdmFyIFZUVEN1ZSA9IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcblxuICBmb3IgKHZhciByID0gMDsgciA8IGNhcHRpb25TY3JlZW4ucm93cy5sZW5ndGg7IHIrKykge1xuICAgIHJvdyA9IGNhcHRpb25TY3JlZW4ucm93c1tyXTtcbiAgICBpbmRlbnRpbmcgPSB0cnVlO1xuICAgIGluZGVudCA9IDA7XG4gICAgdGV4dCA9ICcnO1xuXG4gICAgaWYgKCFyb3cuaXNFbXB0eSgpKSB7XG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHJvdy5jaGFycy5sZW5ndGg7IGMrKykge1xuICAgICAgICBpZiAocm93LmNoYXJzW2NdLnVjaGFyLm1hdGNoKC9cXHMvKSAmJiBpbmRlbnRpbmcpIHtcbiAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ICs9IHJvdy5jaGFyc1tjXS51Y2hhcjtcbiAgICAgICAgICBpbmRlbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9UbyBiZSB1c2VkIGZvciBjbGVhbmluZy11cCBvcnBoYW5lZCByb2xsLXVwIGNhcHRpb25zXG4gICAgICByb3cuY3VlU3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBHaXZlIGEgc2xpZ2h0IGJ1bXAgdG8gdGhlIGVuZFRpbWUgaWYgaXQncyBlcXVhbCB0byBzdGFydFRpbWUgdG8gYXZvaWQgYSBTeW50YXhFcnJvciBpbiBJRVxuICAgICAgaWYgKHN0YXJ0VGltZSA9PT0gZW5kVGltZSkge1xuICAgICAgICBlbmRUaW1lICs9IDAuMDAwMTtcbiAgICAgIH1cblxuICAgICAgY3VlID0gbmV3IFZUVEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIGZpeExpbmVCcmVha3ModGV4dC50cmltKCkpKTtcblxuICAgICAgaWYgKGluZGVudCA+PSAxNikge1xuICAgICAgICBpbmRlbnQtLTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGVudCsrO1xuICAgICAgfVxuXG4gICAgICAvLyBWVFRDdWUubGluZSBnZXQncyBmbGFrZXkgd2hlbiB1c2luZyBjb250cm9scywgc28gbGV0J3Mgbm93IGluY2x1ZGUgbGluZSAxMyYxNFxuICAgICAgLy8gYWxzbywgZHJvcCBsaW5lIDEgc2luY2UgaXQncyB0byBjbG9zZSB0byB0aGUgdG9wXG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLy8pKSB7XG4gICAgICAgIGN1ZS5saW5lID0gciArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdWUubGluZSA9IHIgPiA3ID8gciAtIDIgOiByICsgMTtcbiAgICAgIH1cbiAgICAgIGN1ZS5hbGlnbiA9ICdsZWZ0JztcbiAgICAgIC8vIENsYW1wIHRoZSBwb3NpdGlvbiBiZXR3ZWVuIDAgYW5kIDEwMCAtIGlmIG91dCBvZiB0aGVzZSBib3VuZHMsIEZpcmVmb3ggdGhyb3dzIGFuIGV4Y2VwdGlvbiBhbmQgY2FwdGlvbnMgYnJlYWtcbiAgICAgIGN1ZS5wb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgMTAwICogKGluZGVudCAvIDMyKSArIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykgPyA1MCA6IDApKSk7XG4gICAgICB0cmFjay5hZGRDdWUoY3VlKTtcbiAgICB9XG4gIH1cbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2NlYS02MDgtcGFyc2VyLmpzXG5mdW5jdGlvbiBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqXG4gKiBUaGlzIGNvZGUgd2FzIHBvcnRlZCBmcm9tIHRoZSBkYXNoLmpzIHByb2plY3QgYXQ6XG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXNoLUluZHVzdHJ5LUZvcnVtL2Rhc2guanMvYmxvYi9kZXZlbG9wbWVudC9leHRlcm5hbHMvY2VhNjA4LXBhcnNlci5qc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vRGFzaC1JbmR1c3RyeS1Gb3J1bS9kYXNoLmpzL2NvbW1pdC84MjY5YjI2YTc2MWUwODUzYmIyMWQ3ODc4MGVkOTQ1MTQ0ZWNkZDRkI2RpZmYtNzFiYzI5NWEyZDZiNmI3MDkzYTFkMzI5MGQ1M2E0YjJcbiAqXG4gKiBUaGUgb3JpZ2luYWwgY29weXJpZ2h0IGFwcGVhcnMgYmVsb3c6XG4gKlxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNiwgREFTSCBJbmR1c3RyeSBGb3J1bS5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgMi4gTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuLyoqXG4gKiAgRXhjZXB0aW9ucyBmcm9tIHJlZ3VsYXIgQVNDSUkuIENvZGVQb2ludHMgYXJlIG1hcHBlZCB0byBVVEYtMTYgY29kZXNcbiAqL1xuXG52YXIgc3BlY2lhbENlYTYwOENoYXJzQ29kZXMgPSB7XG4gICAgMHgyYTogMHhlMSwgLy8gbG93ZXJjYXNlIGEsIGFjdXRlIGFjY2VudFxuICAgIDB4NWM6IDB4ZTksIC8vIGxvd2VyY2FzZSBlLCBhY3V0ZSBhY2NlbnRcbiAgICAweDVlOiAweGVkLCAvLyBsb3dlcmNhc2UgaSwgYWN1dGUgYWNjZW50XG4gICAgMHg1ZjogMHhmMywgLy8gbG93ZXJjYXNlIG8sIGFjdXRlIGFjY2VudFxuICAgIDB4NjA6IDB4ZmEsIC8vIGxvd2VyY2FzZSB1LCBhY3V0ZSBhY2NlbnRcbiAgICAweDdiOiAweGU3LCAvLyBsb3dlcmNhc2UgYyB3aXRoIGNlZGlsbGFcbiAgICAweDdjOiAweGY3LCAvLyBkaXZpc2lvbiBzeW1ib2xcbiAgICAweDdkOiAweGQxLCAvLyB1cHBlcmNhc2UgTiB0aWxkZVxuICAgIDB4N2U6IDB4ZjEsIC8vIGxvd2VyY2FzZSBuIHRpbGRlXG4gICAgMHg3ZjogMHgyNTg4LCAvLyBGdWxsIGJsb2NrXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMTYgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTEgQU5EIExPVyBCRVRXRUVOIDB4MzAgQU5EIDB4M0ZcbiAgICAvLyBUSElTIE1FQU5TIFRIQVQgXFx4NTAgTVVTVCBCRSBBRERFRCBUTyBUSEUgVkFMVUVTXG4gICAgMHg4MDogMHhhZSwgLy8gUmVnaXN0ZXJlZCBzeW1ib2wgKFIpXG4gICAgMHg4MTogMHhiMCwgLy8gZGVncmVlIHNpZ25cbiAgICAweDgyOiAweGJkLCAvLyAxLzIgc3ltYm9sXG4gICAgMHg4MzogMHhiZiwgLy8gSW52ZXJ0ZWQgKG9wZW4pIHF1ZXN0aW9uIG1hcmtcbiAgICAweDg0OiAweDIxMjIsIC8vIFRyYWRlbWFyayBzeW1ib2wgKFRNKVxuICAgIDB4ODU6IDB4YTIsIC8vIENlbnRzIHN5bWJvbFxuICAgIDB4ODY6IDB4YTMsIC8vIFBvdW5kcyBzdGVybGluZ1xuICAgIDB4ODc6IDB4MjY2YSwgLy8gTXVzaWMgOCd0aCBub3RlXG4gICAgMHg4ODogMHhlMCwgLy8gbG93ZXJjYXNlIGEsIGdyYXZlIGFjY2VudFxuICAgIDB4ODk6IDB4MjAsIC8vIHRyYW5zcGFyZW50IHNwYWNlIChyZWd1bGFyKVxuICAgIDB4OGE6IDB4ZTgsIC8vIGxvd2VyY2FzZSBlLCBncmF2ZSBhY2NlbnRcbiAgICAweDhiOiAweGUyLCAvLyBsb3dlcmNhc2UgYSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgICAweDhjOiAweGVhLCAvLyBsb3dlcmNhc2UgZSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgICAweDhkOiAweGVlLCAvLyBsb3dlcmNhc2UgaSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgICAweDhlOiAweGY0LCAvLyBsb3dlcmNhc2UgbywgY2lyY3VtZmxleCBhY2NlbnRcbiAgICAweDhmOiAweGZiLCAvLyBsb3dlcmNhc2UgdSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMiBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxuICAgIDB4OTA6IDB4YzEsIC8vIGNhcGl0YWwgbGV0dGVyIEEgd2l0aCBhY3V0ZVxuICAgIDB4OTE6IDB4YzksIC8vIGNhcGl0YWwgbGV0dGVyIEUgd2l0aCBhY3V0ZVxuICAgIDB4OTI6IDB4ZDMsIC8vIGNhcGl0YWwgbGV0dGVyIE8gd2l0aCBhY3V0ZVxuICAgIDB4OTM6IDB4ZGEsIC8vIGNhcGl0YWwgbGV0dGVyIFUgd2l0aCBhY3V0ZVxuICAgIDB4OTQ6IDB4ZGMsIC8vIGNhcGl0YWwgbGV0dGVyIFUgd2l0aCBkaWFyZXNpc1xuICAgIDB4OTU6IDB4ZmMsIC8vIGxvd2VyY2FzZSBsZXR0ZXIgVSB3aXRoIGRpYWVyZXNpc1xuICAgIDB4OTY6IDB4MjAxOCwgLy8gb3BlbmluZyBzaW5nbGUgcXVvdGVcbiAgICAweDk3OiAweGExLCAvLyBpbnZlcnRlZCBleGNsYW1hdGlvbiBtYXJrXG4gICAgMHg5ODogMHgyYSwgLy8gYXN0ZXJpc2tcbiAgICAweDk5OiAweDIwMTksIC8vIGNsb3Npbmcgc2luZ2xlIHF1b3RlXG4gICAgMHg5YTogMHgyNTAxLCAvLyBib3ggZHJhd2luZ3MgaGVhdnkgaG9yaXpvbnRhbFxuICAgIDB4OWI6IDB4YTksIC8vIGNvcHlyaWdodCBzaWduXG4gICAgMHg5YzogMHgyMTIwLCAvLyBTZXJ2aWNlIG1hcmtcbiAgICAweDlkOiAweDIwMjIsIC8vIChyb3VuZCkgYnVsbGV0XG4gICAgMHg5ZTogMHgyMDFjLCAvLyBMZWZ0IGRvdWJsZSBxdW90YXRpb24gbWFya1xuICAgIDB4OWY6IDB4MjAxZCwgLy8gUmlnaHQgZG91YmxlIHF1b3RhdGlvbiBtYXJrXG4gICAgMHhhMDogMHhjMCwgLy8gdXBwZXJjYXNlIEEsIGdyYXZlIGFjY2VudFxuICAgIDB4YTE6IDB4YzIsIC8vIHVwcGVyY2FzZSBBLCBjaXJjdW1mbGV4XG4gICAgMHhhMjogMHhjNywgLy8gdXBwZXJjYXNlIEMgd2l0aCBjZWRpbGxhXG4gICAgMHhhMzogMHhjOCwgLy8gdXBwZXJjYXNlIEUsIGdyYXZlIGFjY2VudFxuICAgIDB4YTQ6IDB4Y2EsIC8vIHVwcGVyY2FzZSBFLCBjaXJjdW1mbGV4XG4gICAgMHhhNTogMHhjYiwgLy8gY2FwaXRhbCBsZXR0ZXIgRSB3aXRoIGRpYXJlc2lzXG4gICAgMHhhNjogMHhlYiwgLy8gbG93ZXJjYXNlIGxldHRlciBlIHdpdGggZGlhcmVzaXNcbiAgICAweGE3OiAweGNlLCAvLyB1cHBlcmNhc2UgSSwgY2lyY3VtZmxleFxuICAgIDB4YTg6IDB4Y2YsIC8vIHVwcGVyY2FzZSBJLCB3aXRoIGRpYXJlc2lzXG4gICAgMHhhOTogMHhlZiwgLy8gbG93ZXJjYXNlIGksIHdpdGggZGlhcmVzaXNcbiAgICAweGFhOiAweGQ0LCAvLyB1cHBlcmNhc2UgTywgY2lyY3VtZmxleFxuICAgIDB4YWI6IDB4ZDksIC8vIHVwcGVyY2FzZSBVLCBncmF2ZSBhY2NlbnRcbiAgICAweGFjOiAweGY5LCAvLyBsb3dlcmNhc2UgdSwgZ3JhdmUgYWNjZW50XG4gICAgMHhhZDogMHhkYiwgLy8gdXBwZXJjYXNlIFUsIGNpcmN1bWZsZXhcbiAgICAweGFlOiAweGFiLCAvLyBsZWZ0LXBvaW50aW5nIGRvdWJsZSBhbmdsZSBxdW90YXRpb24gbWFya1xuICAgIDB4YWY6IDB4YmIsIC8vIHJpZ2h0LXBvaW50aW5nIGRvdWJsZSBhbmdsZSBxdW90YXRpb24gbWFya1xuICAgIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDMyIEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXG4gICAgLy8gVEhBVCBDT01FIEZST00gSEkgQllURT0weDEzIEFORCBMT1cgQkVUV0VFTiAweDIwIEFORCAweDNGXG4gICAgMHhiMDogMHhjMywgLy8gVXBwZXJjYXNlIEEsIHRpbGRlXG4gICAgMHhiMTogMHhlMywgLy8gTG93ZXJjYXNlIGEsIHRpbGRlXG4gICAgMHhiMjogMHhjZCwgLy8gVXBwZXJjYXNlIEksIGFjdXRlIGFjY2VudFxuICAgIDB4YjM6IDB4Y2MsIC8vIFVwcGVyY2FzZSBJLCBncmF2ZSBhY2NlbnRcbiAgICAweGI0OiAweGVjLCAvLyBMb3dlcmNhc2UgaSwgZ3JhdmUgYWNjZW50XG4gICAgMHhiNTogMHhkMiwgLy8gVXBwZXJjYXNlIE8sIGdyYXZlIGFjY2VudFxuICAgIDB4YjY6IDB4ZjIsIC8vIExvd2VyY2FzZSBvLCBncmF2ZSBhY2NlbnRcbiAgICAweGI3OiAweGQ1LCAvLyBVcHBlcmNhc2UgTywgdGlsZGVcbiAgICAweGI4OiAweGY1LCAvLyBMb3dlcmNhc2UgbywgdGlsZGVcbiAgICAweGI5OiAweDdiLCAvLyBPcGVuIGN1cmx5IGJyYWNlXG4gICAgMHhiYTogMHg3ZCwgLy8gQ2xvc2luZyBjdXJseSBicmFjZVxuICAgIDB4YmI6IDB4NWMsIC8vIEJhY2tzbGFzaFxuICAgIDB4YmM6IDB4NWUsIC8vIENhcmV0XG4gICAgMHhiZDogMHg1ZiwgLy8gVW5kZXJzY29yZVxuICAgIDB4YmU6IDB4N2MsIC8vIFBpcGUgKHZlcnRpY2FsIGxpbmUpXG4gICAgMHhiZjogMHgyMjNjLCAvLyBUaWxkZSBvcGVyYXRvclxuICAgIDB4YzA6IDB4YzQsIC8vIFVwcGVyY2FzZSBBLCB1bWxhdXRcbiAgICAweGMxOiAweGU0LCAvLyBMb3dlcmNhc2UgQSwgdW1sYXV0XG4gICAgMHhjMjogMHhkNiwgLy8gVXBwZXJjYXNlIE8sIHVtbGF1dFxuICAgIDB4YzM6IDB4ZjYsIC8vIExvd2VyY2FzZSBvLCB1bWxhdXRcbiAgICAweGM0OiAweGRmLCAvLyBFc3N6ZXR0IChzaGFycCBTKVxuICAgIDB4YzU6IDB4YTUsIC8vIFllbiBzeW1ib2xcbiAgICAweGM2OiAweGE0LCAvLyBHZW5lcmljIGN1cnJlbmN5IHNpZ25cbiAgICAweGM3OiAweDI1MDMsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB2ZXJ0aWNhbFxuICAgIDB4Yzg6IDB4YzUsIC8vIFVwcGVyY2FzZSBBLCByaW5nXG4gICAgMHhjOTogMHhlNSwgLy8gTG93ZXJjYXNlIEEsIHJpbmdcbiAgICAweGNhOiAweGQ4LCAvLyBVcHBlcmNhc2UgTywgc3Ryb2tlXG4gICAgMHhjYjogMHhmOCwgLy8gTG93ZXJjYXNlIG8sIHN0cm9rXG4gICAgMHhjYzogMHgyNTBmLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgZG93biBhbmQgcmlnaHRcbiAgICAweGNkOiAweDI1MTMsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSBkb3duIGFuZCBsZWZ0XG4gICAgMHhjZTogMHgyNTE3LCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIHJpZ2h0XG4gICAgMHhjZjogMHgyNTFiIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgbGVmdFxufTtcblxuLyoqXG4gKiBVdGlsc1xuICovXG52YXIgZ2V0Q2hhckZvckJ5dGUgPSBmdW5jdGlvbiBnZXRDaGFyRm9yQnl0ZShieXRlKSB7XG4gICAgdmFyIGNoYXJDb2RlID0gYnl0ZTtcbiAgICBpZiAoc3BlY2lhbENlYTYwOENoYXJzQ29kZXMuaGFzT3duUHJvcGVydHkoYnl0ZSkpIHtcbiAgICAgICAgY2hhckNvZGUgPSBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlc1tieXRlXTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xufTtcblxudmFyIE5SX1JPV1MgPSAxNSxcbiAgICBOUl9DT0xTID0gMTAwO1xuLy8gVGFibGVzIHRvIGxvb2sgdXAgcm93IGZyb20gUEFDIGRhdGFcbnZhciByb3dzTG93Q2gxID0geyAweDExOiAxLCAweDEyOiAzLCAweDE1OiA1LCAweDE2OiA3LCAweDE3OiA5LCAweDEwOiAxMSwgMHgxMzogMTIsIDB4MTQ6IDE0IH07XG52YXIgcm93c0hpZ2hDaDEgPSB7IDB4MTE6IDIsIDB4MTI6IDQsIDB4MTU6IDYsIDB4MTY6IDgsIDB4MTc6IDEwLCAweDEzOiAxMywgMHgxNDogMTUgfTtcbnZhciByb3dzTG93Q2gyID0geyAweDE5OiAxLCAweDFBOiAzLCAweDFEOiA1LCAweDFFOiA3LCAweDFGOiA5LCAweDE4OiAxMSwgMHgxQjogMTIsIDB4MUM6IDE0IH07XG52YXIgcm93c0hpZ2hDaDIgPSB7IDB4MTk6IDIsIDB4MUE6IDQsIDB4MUQ6IDYsIDB4MUU6IDgsIDB4MUY6IDEwLCAweDFCOiAxMywgMHgxQzogMTUgfTtcblxudmFyIGJhY2tncm91bmRDb2xvcnMgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnYmxhY2snLCAndHJhbnNwYXJlbnQnXTtcblxuLyoqXG4gKiBTaW1wbGUgbG9nZ2VyIGNsYXNzIHRvIGJlIGFibGUgdG8gd3JpdGUgd2l0aCB0aW1lLXN0YW1wcyBhbmQgZmlsdGVyIG9uIGxldmVsLlxuICovXG52YXIgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyID0ge1xuICAgIHZlcmJvc2VGaWx0ZXI6IHsgJ0RBVEEnOiAzLCAnREVCVUcnOiAzLCAnSU5GTyc6IDIsICdXQVJOSU5HJzogMiwgJ1RFWFQnOiAxLCAnRVJST1InOiAwIH0sXG4gICAgdGltZTogbnVsbCxcbiAgICB2ZXJib3NlTGV2ZWw6IDAsIC8vIE9ubHkgd3JpdGUgZXJyb3JzXG4gICAgc2V0VGltZTogZnVuY3Rpb24gc2V0VGltZShuZXdUaW1lKSB7XG4gICAgICAgIHRoaXMudGltZSA9IG5ld1RpbWU7XG4gICAgfSxcbiAgICBsb2c6IGZ1bmN0aW9uIGxvZyhzZXZlcml0eSwgbXNnKSB7XG4gICAgICAgIHZhciBtaW5MZXZlbCA9IHRoaXMudmVyYm9zZUZpbHRlcltzZXZlcml0eV07XG4gICAgICAgIGlmICh0aGlzLnZlcmJvc2VMZXZlbCA+PSBtaW5MZXZlbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lICsgJyBbJyArIHNldmVyaXR5ICsgJ10gJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgbnVtQXJyYXlUb0hleEFycmF5ID0gZnVuY3Rpb24gbnVtQXJyYXlUb0hleEFycmF5KG51bUFycmF5KSB7XG4gICAgdmFyIGhleEFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1BcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICBoZXhBcnJheS5wdXNoKG51bUFycmF5W2pdLnRvU3RyaW5nKDE2KSk7XG4gICAgfVxuICAgIHJldHVybiBoZXhBcnJheTtcbn07XG5cbnZhciBQZW5TdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQZW5TdGF0ZShmb3JlZ3JvdW5kLCB1bmRlcmxpbmUsIGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBQZW5TdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZCB8fCAnd2hpdGUnO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IHVuZGVybGluZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gaXRhbGljcyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZCB8fCAnYmxhY2snO1xuICAgICAgICB0aGlzLmZsYXNoID0gZmxhc2ggfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgUGVuU3RhdGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZCA9ICd3aGl0ZSc7XG4gICAgICAgIHRoaXMudW5kZXJsaW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXRhbGljcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSAnYmxhY2snO1xuICAgICAgICB0aGlzLmZsYXNoID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFBlblN0YXRlLnByb3RvdHlwZS5zZXRTdHlsZXMgPSBmdW5jdGlvbiBzZXRTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gWydmb3JlZ3JvdW5kJywgJ3VuZGVybGluZScsICdpdGFsaWNzJywgJ2JhY2tncm91bmQnLCAnZmxhc2gnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBhdHRyaWJzW2ldO1xuICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUGVuU3RhdGUucHJvdG90eXBlLmlzRGVmYXVsdCA9IGZ1bmN0aW9uIGlzRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yZWdyb3VuZCA9PT0gJ3doaXRlJyAmJiAhdGhpcy51bmRlcmxpbmUgJiYgIXRoaXMuaXRhbGljcyAmJiB0aGlzLmJhY2tncm91bmQgPT09ICdibGFjaycgJiYgIXRoaXMuZmxhc2g7XG4gICAgfTtcblxuICAgIFBlblN0YXRlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yZWdyb3VuZCA9PT0gb3RoZXIuZm9yZWdyb3VuZCAmJiB0aGlzLnVuZGVybGluZSA9PT0gb3RoZXIudW5kZXJsaW5lICYmIHRoaXMuaXRhbGljcyA9PT0gb3RoZXIuaXRhbGljcyAmJiB0aGlzLmJhY2tncm91bmQgPT09IG90aGVyLmJhY2tncm91bmQgJiYgdGhpcy5mbGFzaCA9PT0gb3RoZXIuZmxhc2g7XG4gICAgfTtcblxuICAgIFBlblN0YXRlLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBuZXdQZW5TdGF0ZS5mb3JlZ3JvdW5kO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IG5ld1BlblN0YXRlLnVuZGVybGluZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gbmV3UGVuU3RhdGUuaXRhbGljcztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3UGVuU3RhdGUuYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5mbGFzaCA9IG5ld1BlblN0YXRlLmZsYXNoO1xuICAgIH07XG5cbiAgICBQZW5TdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdjb2xvcj0nICsgdGhpcy5mb3JlZ3JvdW5kICsgJywgdW5kZXJsaW5lPScgKyB0aGlzLnVuZGVybGluZSArICcsIGl0YWxpY3M9JyArIHRoaXMuaXRhbGljcyArICcsIGJhY2tncm91bmQ9JyArIHRoaXMuYmFja2dyb3VuZCArICcsIGZsYXNoPScgKyB0aGlzLmZsYXNoO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGVuU3RhdGU7XG59KCk7XG5cbi8qKlxuICogVW5pY29kZSBjaGFyYWN0ZXIgd2l0aCBzdHlsaW5nIGFuZCBiYWNrZ3JvdW5kLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cblxuXG52YXIgU3R5bGVkVW5pY29kZUNoYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVkVW5pY29kZUNoYXIodWNoYXIsIGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eWxlZFVuaWNvZGVDaGFyKTtcblxuICAgICAgICB0aGlzLnVjaGFyID0gdWNoYXIgfHwgJyAnOyAvLyB1bmljb2RlIGNoYXJhY3RlclxuICAgICAgICB0aGlzLnBlblN0YXRlID0gbmV3IFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpO1xuICAgIH1cblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnVjaGFyID0gJyAnO1xuICAgICAgICB0aGlzLnBlblN0YXRlLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5zZXRDaGFyID0gZnVuY3Rpb24gc2V0Q2hhcih1Y2hhciwgbmV3UGVuU3RhdGUpIHtcbiAgICAgICAgdGhpcy51Y2hhciA9IHVjaGFyO1xuICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICAgIH07XG5cbiAgICBTdHlsZWRVbmljb2RlQ2hhci5wcm90b3R5cGUuc2V0UGVuU3RhdGUgPSBmdW5jdGlvbiBzZXRQZW5TdGF0ZShuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICAgIH07XG5cbiAgICBTdHlsZWRVbmljb2RlQ2hhci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVjaGFyID09PSBvdGhlci51Y2hhciAmJiB0aGlzLnBlblN0YXRlLmVxdWFscyhvdGhlci5wZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShuZXdDaGFyKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSBuZXdDaGFyLnVjaGFyO1xuICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3Q2hhci5wZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09ICcgJyAmJiB0aGlzLnBlblN0YXRlLmlzRGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3R5bGVkVW5pY29kZUNoYXI7XG59KCk7XG5cbi8qKlxuICogQ0VBLTYwOCByb3cgY29uc2lzdGluZyBvZiBOUl9DT0xTIGluc3RhbmNlcyBvZiBTdHlsZWRVbmljb2RlQ2hhci5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cblxudmFyIFJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb3coKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3cpO1xuXG4gICAgICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChuZXcgU3R5bGVkVW5pY29kZUNoYXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZSA9IG5ldyBQZW5TdGF0ZSgpO1xuICAgIH1cblxuICAgIFJvdy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHZhciBlcXVhbCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hhcnNbaV0uZXF1YWxzKG90aGVyLmNoYXJzW2ldKSkge1xuICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVxdWFsO1xuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2ldLmNvcHkob3RoZXIuY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hhcnNbaV0uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBTZXQgdGhlIGN1cnNvciB0byBhIHZhbGlkIGNvbHVtbi5cbiAgICAgKi9cblxuXG4gICAgUm93LnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbiBzZXRDdXJzb3IoYWJzUG9zKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyAhPT0gYWJzUG9zKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IGFic1BvcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb3MgPCAwKSB7XG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdFUlJPUicsICdOZWdhdGl2ZSBjdXJzb3IgcG9zaXRpb24gJyArIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvcyA+IE5SX0NPTFMpIHtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0VSUk9SJywgJ1RvbyBsYXJnZSBjdXJzb3IgcG9zaXRpb24gJyArIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHRoaXMucG9zID0gTlJfQ09MUztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjdXJzb3IgcmVsYXRpdmUgdG8gY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKi9cblxuXG4gICAgUm93LnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gbW92ZUN1cnNvcihyZWxQb3MpIHtcbiAgICAgICAgdmFyIG5ld1BvcyA9IHRoaXMucG9zICsgcmVsUG9zO1xuICAgICAgICBpZiAocmVsUG9zID4gMSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucG9zICsgMTsgaSA8IG5ld1BvcyArIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0uc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKG5ld1Bvcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhY2tzcGFjZSwgbW92ZSBvbmUgc3RlcCBiYWNrIGFuZCBjbGVhciBjaGFyYWN0ZXIuXG4gICAgICovXG5cblxuICAgIFJvdy5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gYmFja1NwYWNlKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKCcgJywgdGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmluc2VydENoYXIgPSBmdW5jdGlvbiBpbnNlcnRDaGFyKGJ5dGUpIHtcbiAgICAgICAgaWYgKGJ5dGUgPj0gMHg5MCkge1xuICAgICAgICAgICAgLy9FeHRlbmRlZCBjaGFyXG4gICAgICAgICAgICB0aGlzLmJhY2tTcGFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFyID0gZ2V0Q2hhckZvckJ5dGUoYnl0ZSk7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSBOUl9DT0xTKSB7XG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdFUlJPUicsICdDYW5ub3QgaW5zZXJ0ICcgKyBieXRlLnRvU3RyaW5nKDE2KSArICcgKCcgKyBjaGFyICsgJykgYXQgcG9zaXRpb24gJyArIHRoaXMucG9zICsgJy4gU2tpcHBpbmcgaXQhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFyc1t0aGlzLnBvc10uc2V0Q2hhcihjaGFyLCB0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvcigxKTtcbiAgICB9O1xuXG4gICAgUm93LnByb3RvdHlwZS5jbGVhckZyb21Qb3MgPSBmdW5jdGlvbiBjbGVhckZyb21Qb3Moc3RhcnRQb3MpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUm93LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmNsZWFyRnJvbVBvcygwKTtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZS5yZXNldCgpO1xuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uIGNsZWFyVG9FbmRPZlJvdygpIHtcbiAgICAgICAgdGhpcy5jbGVhckZyb21Qb3ModGhpcy5wb3MpO1xuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmdldFRleHRTdHJpbmcgPSBmdW5jdGlvbiBnZXRUZXh0U3RyaW5nKCkge1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGhpcy5jaGFyc1tpXS51Y2hhcjtcbiAgICAgICAgICAgIGlmIChjaGFyICE9PSAnICcpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLnNldFBlblN0eWxlcyA9IGZ1bmN0aW9uIHNldFBlblN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgdGhpcy5jdXJyUGVuU3RhdGUuc2V0U3R5bGVzKHN0eWxlcyk7XG4gICAgICAgIHZhciBjdXJyQ2hhciA9IHRoaXMuY2hhcnNbdGhpcy5wb3NdO1xuICAgICAgICBjdXJyQ2hhci5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3c7XG59KCk7XG5cbi8qKlxuICogS2VlcCBhIENFQS02MDggc2NyZWVuIG9mIDMyeDE1IHN0eWxlZCBjaGFyYWN0ZXJzXG4gKiBAY29uc3RydWN0b3JcbiovXG5cblxudmFyIENhcHRpb25TY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FwdGlvblNjcmVlbigpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcHRpb25TY3JlZW4pO1xuXG4gICAgICAgIHRoaXMucm93cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yb3dzLnB1c2gobmV3IFJvdygpKTsgLy8gTm90ZSB0aGF0IHdlIHVzZSB6ZXJvLWJhc2VkIG51bWJlcmluZyAoMC0xNClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJSb3cgPSBOUl9ST1dTIC0gMTtcbiAgICAgICAgdGhpcy5uclJvbGxVcFJvd3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm93c1tpXS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgdmFyIGVxdWFsID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmVxdWFscyhvdGhlci5yb3dzW2ldKSkge1xuICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVxdWFsO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShvdGhlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmNvcHkob3RoZXIucm93c1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucm93c1tpXS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9O1xuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gYmFja1NwYWNlKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5iYWNrU3BhY2UoKTtcbiAgICB9O1xuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuY2xlYXJUb0VuZE9mUm93ID0gZnVuY3Rpb24gY2xlYXJUb0VuZE9mUm93KCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5jbGVhclRvRW5kT2ZSb3coKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgY2hhcmFjdGVyICh3aXRob3V0IHN0eWxpbmcpIGluIHRoZSBjdXJyZW50IHJvdy5cbiAgICAgKi9cblxuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuaW5zZXJ0Q2hhciA9IGZ1bmN0aW9uIGluc2VydENoYXIoY2hhcikge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5pbnNlcnRDaGFyKGNoYXIpO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRQZW4gPSBmdW5jdGlvbiBzZXRQZW4oc3R5bGVzKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICAgICAgcm93LnNldFBlblN0eWxlcyhzdHlsZXMpO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gbW92ZUN1cnNvcihyZWxQb3MpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cubW92ZUN1cnNvcihyZWxQb3MpO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbiBzZXRDdXJzb3IoYWJzUG9zKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnc2V0Q3Vyc29yOiAnICsgYWJzUG9zKTtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0Q3Vyc29yKGFic1Bvcyk7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFBBQyA9IGZ1bmN0aW9uIHNldFBBQyhwYWNEYXRhKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAncGFjRGF0YSA9ICcgKyBKU09OLnN0cmluZ2lmeShwYWNEYXRhKSk7XG4gICAgICAgIHZhciBuZXdSb3cgPSBwYWNEYXRhLnJvdyAtIDE7XG4gICAgICAgIGlmICh0aGlzLm5yUm9sbFVwUm93cyAmJiBuZXdSb3cgPCB0aGlzLm5yUm9sbFVwUm93cyAtIDEpIHtcbiAgICAgICAgICAgIG5ld1JvdyA9IHRoaXMubnJSb2xsVXBSb3dzIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vTWFrZSBzdXJlIHRoaXMgb25seSBhZmZlY3RzIFJvbGwtdXAgQ2FwdGlvbnMgYnkgY2hlY2tpbmcgdGhpcy5uclJvbGxVcFJvd3NcbiAgICAgICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIHRoaXMuY3VyclJvdyAhPT0gbmV3Um93KSB7XG4gICAgICAgICAgICAvL2NsZWFyIGFsbCByb3dzIGZpcnN0XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucm93c1tpXS5jbGVhcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0NvcHkgdGhpcy5uclJvbGxVcFJvd3Mgcm93cyBmcm9tIGxhc3RPdXRwdXRTY3JlZW4gYW5kIHBsYWNlIGl0IGluIHRoZSBuZXdSb3cgbG9jYXRpb25cbiAgICAgICAgICAgIC8vdG9wUm93SW5kZXggLSB0aGUgc3RhcnQgb2Ygcm93cyB0byBjb3B5IChpbmNsdXNpdmUgaW5kZXgpXG4gICAgICAgICAgICB2YXIgdG9wUm93SW5kZXggPSB0aGlzLmN1cnJSb3cgKyAxIC0gdGhpcy5uclJvbGxVcFJvd3M7XG4gICAgICAgICAgICAvL1dlIG9ubHkgY29weSBpZiB0aGUgbGFzdCBwb3NpdGlvbiB3YXMgYWxyZWFkeSBzaG93bi5cbiAgICAgICAgICAgIC8vV2UgdXNlIHRoZSBjdWVTdGFydFRpbWUgdmFsdWUgdG8gY2hlY2sgdGhpcy5cbiAgICAgICAgICAgIHZhciBsYXN0T3V0cHV0U2NyZWVuID0gdGhpcy5sYXN0T3V0cHV0U2NyZWVuO1xuICAgICAgICAgICAgaWYgKGxhc3RPdXRwdXRTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldkxpbmVUaW1lID0gbGFzdE91dHB1dFNjcmVlbi5yb3dzW3RvcFJvd0luZGV4XS5jdWVTdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZMaW5lVGltZSAmJiBwcmV2TGluZVRpbWUgPCBjZWFfNjA4X3BhcnNlcl9sb2dnZXIudGltZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5uclJvbGxVcFJvd3M7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93c1tuZXdSb3cgLSB0aGlzLm5yUm9sbFVwUm93cyArIF9pICsgMV0uY29weShsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXggKyBfaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyUm93ID0gbmV3Um93O1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIGlmIChwYWNEYXRhLmluZGVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGluZGVudCA9IHBhY0RhdGEuaW5kZW50O1xuICAgICAgICAgICAgdmFyIHByZXZQb3MgPSBNYXRoLm1heChpbmRlbnQgLSAxLCAwKTtcbiAgICAgICAgICAgIHJvdy5zZXRDdXJzb3IocGFjRGF0YS5pbmRlbnQpO1xuICAgICAgICAgICAgcGFjRGF0YS5jb2xvciA9IHJvdy5jaGFyc1twcmV2UG9zXS5wZW5TdGF0ZS5mb3JlZ3JvdW5kO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZXMgPSB7IGZvcmVncm91bmQ6IHBhY0RhdGEuY29sb3IsIHVuZGVybGluZTogcGFjRGF0YS51bmRlcmxpbmUsIGl0YWxpY3M6IHBhY0RhdGEuaXRhbGljcywgYmFja2dyb3VuZDogJ2JsYWNrJywgZmxhc2g6IGZhbHNlIH07XG4gICAgICAgIHRoaXMuc2V0UGVuKHN0eWxlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBiYWNrZ3JvdW5kL2V4dHJhIGZvcmVncm91bmQsIGJ1dCBmaXJzdCBkbyBiYWNrX3NwYWNlLCBhbmQgdGhlbiBpbnNlcnQgc3BhY2UgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KS5cbiAgICAgKi9cblxuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuc2V0QmtnRGF0YSA9IGZ1bmN0aW9uIHNldEJrZ0RhdGEoYmtnRGF0YSkge1xuXG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnYmtnRGF0YSA9ICcgKyBKU09OLnN0cmluZ2lmeShia2dEYXRhKSk7XG4gICAgICAgIHRoaXMuYmFja1NwYWNlKCk7XG4gICAgICAgIHRoaXMuc2V0UGVuKGJrZ0RhdGEpO1xuICAgICAgICB0aGlzLmluc2VydENoYXIoMHgyMCk7IC8vU3BhY2VcbiAgICB9O1xuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuc2V0Um9sbFVwUm93cyA9IGZ1bmN0aW9uIHNldFJvbGxVcFJvd3MobnJSb3dzKSB7XG4gICAgICAgIHRoaXMubnJSb2xsVXBSb3dzID0gbnJSb3dzO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5yb2xsVXAgPSBmdW5jdGlvbiByb2xsVXAoKSB7XG4gICAgICAgIGlmICh0aGlzLm5yUm9sbFVwUm93cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnREVCVUcnLCAncm9sbF91cCBidXQgbnJSb2xsVXBSb3dzIG5vdCBzZXQgeWV0Jyk7XG4gICAgICAgICAgICByZXR1cm47IC8vTm90IHByb3Blcmx5IHNldHVwXG4gICAgICAgIH1cbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnVEVYVCcsIHRoaXMuZ2V0RGlzcGxheVRleHQoKSk7XG4gICAgICAgIHZhciB0b3BSb3dJbmRleCA9IHRoaXMuY3VyclJvdyArIDEgLSB0aGlzLm5yUm9sbFVwUm93cztcbiAgICAgICAgdmFyIHRvcFJvdyA9IHRoaXMucm93cy5zcGxpY2UodG9wUm93SW5kZXgsIDEpWzBdO1xuICAgICAgICB0b3BSb3cuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yb3dzLnNwbGljZSh0aGlzLmN1cnJSb3csIDAsIHRvcFJvdyk7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnUm9sbGluZyB1cCcpO1xuICAgICAgICAvL2xvZ2dlci5sb2coJ1RFWFQnLCB0aGlzLmdldF9kaXNwbGF5X3RleHQoKSlcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBub24tZW1wdHkgcm93cyB3aXRoIGFzIHVuaWNvZGUgdGV4dC5cbiAgICAgKi9cblxuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbiBnZXREaXNwbGF5VGV4dChhc09uZVJvdykge1xuICAgICAgICBhc09uZVJvdyA9IGFzT25lUm93IHx8IGZhbHNlO1xuICAgICAgICB2YXIgZGlzcGxheVRleHQgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHJvd05yID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcm93VGV4dCA9IHRoaXMucm93c1tpXS5nZXRUZXh0U3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAocm93VGV4dCkge1xuICAgICAgICAgICAgICAgIHJvd05yID0gaSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2goJ1JvdyAnICsgcm93TnIgKyAnOiBcXCcnICsgcm93VGV4dCArICdcXCcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKHJvd1RleHQudHJpbSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChhc09uZVJvdykge1xuICAgICAgICAgICAgICAgIHRleHQgPSAnWycgKyBkaXNwbGF5VGV4dC5qb2luKCcgfCAnKSArICddJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5nZXRUZXh0QW5kRm9ybWF0ID0gZnVuY3Rpb24gZ2V0VGV4dEFuZEZvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cztcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhcHRpb25TY3JlZW47XG59KCk7XG5cbi8vdmFyIG1vZGVzID0gWydNT0RFX1JPTEwtVVAnLCAnTU9ERV9QT1AtT04nLCAnTU9ERV9QQUlOVC1PTicsICdNT0RFX1RFWFQnXTtcblxudmFyIENlYTYwOENoYW5uZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2VhNjA4Q2hhbm5lbChjaGFubmVsTnVtYmVyLCBvdXRwdXRGaWx0ZXIpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENlYTYwOENoYW5uZWwpO1xuXG4gICAgICAgIHRoaXMuY2hOciA9IGNoYW5uZWxOdW1iZXI7XG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gb3V0cHV0RmlsdGVyO1xuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcmJvc2UgPSAwO1xuICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeSA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5ID0gbmV3IENhcHRpb25TY3JlZW4oKTtcbiAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuID0gbmV3IENhcHRpb25TY3JlZW4oKTtcbiAgICAgICAgdGhpcy5jdXJyUm9sbFVwUm93ID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkucm93c1tOUl9ST1dTIC0gMV07XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSBudWxsOyAvLyBLZWVwcyB0cmFjayBvZiB3aGVyZSBhIGN1ZSBzdGFydGVkLlxuICAgIH1cblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5yZXNldCgpO1xuICAgICAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MgLSAxXTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEN1ZUVuZFRpbWUgPSBudWxsO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5nZXRIYW5kbGVyID0gZnVuY3Rpb24gZ2V0SGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5zZXRIYW5kbGVyID0gZnVuY3Rpb24gc2V0SGFuZGxlcihuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gbmV3SGFuZGxlcjtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0UEFDID0gZnVuY3Rpb24gc2V0UEFDKHBhY0RhdGEpIHtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQQUMocGFjRGF0YSk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldEJrZ0RhdGEgPSBmdW5jdGlvbiBzZXRCa2dEYXRhKGJrZ0RhdGEpIHtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRCa2dEYXRhKGJrZ0RhdGEpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5zZXRNb2RlID0gZnVuY3Rpb24gc2V0TW9kZShuZXdNb2RlKSB7XG4gICAgICAgIGlmIChuZXdNb2RlID09PSB0aGlzLm1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGUgPSBuZXdNb2RlO1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ01PREU9JyArIG5ld01vZGUpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QT1AtT04nKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ01PREVfUk9MTC1VUCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5uclJvbGxVcFJvd3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZSA9IG5ld01vZGU7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmluc2VydENoYXJzID0gZnVuY3Rpb24gaW5zZXJ0Q2hhcnMoY2hhcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5pbnNlcnRDaGFyKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NyZWVuID0gdGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPyAnRElTUCcgOiAnTk9OX0RJU1AnO1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgc2NyZWVuICsgJzogJyArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QQUlOVC1PTicgfHwgdGhpcy5tb2RlID09PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnVEVYVCcsICdESVNQTEFZRUQ6ICcgKyB0aGlzLmRpc3BsYXllZE1lbW9yeS5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JDTCA9IGZ1bmN0aW9uIGNjUkNMKCkge1xuICAgICAgICAvLyBSZXN1bWUgQ2FwdGlvbiBMb2FkaW5nIChzd2l0Y2ggbW9kZSB0byBQb3AgT24pXG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnUkNMIC0gUmVzdW1lIENhcHRpb24gTG9hZGluZycpO1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUE9QLU9OJyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjQlMgPSBmdW5jdGlvbiBjY0JTKCkge1xuICAgICAgICAvLyBCYWNrU3BhY2VcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdCUyAtIEJhY2tTcGFjZScpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9URVhUJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uYmFja1NwYWNlKCk7XG4gICAgICAgIGlmICh0aGlzLndyaXRlU2NyZWVuID09PSB0aGlzLmRpc3BsYXllZE1lbW9yeSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NBT0YgPSBmdW5jdGlvbiBjY0FPRigpIHtcbiAgICAgICAgLy8gUmVzZXJ2ZWQgKGZvcm1lcmx5IEFsYXJtIE9mZilcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPTiA9IGZ1bmN0aW9uIGNjQU9OKCkge1xuICAgICAgICAvLyBSZXNlcnZlZCAoZm9ybWVybHkgQWxhcm0gT24pXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NERVIgPSBmdW5jdGlvbiBjY0RFUigpIHtcbiAgICAgICAgLy8gRGVsZXRlIHRvIEVuZCBvZiBSb3dcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdERVItIERlbGV0ZSB0byBFbmQgb2YgUm93Jyk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uY2xlYXJUb0VuZE9mUm93KCk7XG4gICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JVID0gZnVuY3Rpb24gY2NSVShuclJvd3MpIHtcbiAgICAgICAgLy9Sb2xsLVVwIENhcHRpb25zLTIsMyxvciA0IFJvd3NcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSVSgnICsgbnJSb3dzICsgJykgLSBSb2xsIFVwJyk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1JPTEwtVVAnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRSb2xsVXBSb3dzKG5yUm93cyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRk9OID0gZnVuY3Rpb24gY2NGT04oKSB7XG4gICAgICAgIC8vRmxhc2ggT25cbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdGT04gLSBGbGFzaCBPbicpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBlbih7IGZsYXNoOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JEQyA9IGZ1bmN0aW9uIGNjUkRDKCkge1xuICAgICAgICAvLyBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcgKHN3aXRjaCBtb2RlIHRvIFBhaW50T24pXG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnUkRDIC0gUmVzdW1lIERpcmVjdCBDYXB0aW9uaW5nJyk7XG4gICAgICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9QQUlOVC1PTicpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1RSID0gZnVuY3Rpb24gY2NUUigpIHtcbiAgICAgICAgLy8gVGV4dCBSZXN0YXJ0IGluIHRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdUUicpO1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfVEVYVCcpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JURCA9IGZ1bmN0aW9uIGNjUlREKCkge1xuICAgICAgICAvLyBSZXN1bWUgVGV4dCBEaXNwbGF5IGluIFRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSVEQnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1RFWFQnKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFRE0gPSBmdW5jdGlvbiBjY0VETSgpIHtcbiAgICAgICAgLy8gRXJhc2UgRGlzcGxheWVkIE1lbW9yeVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0VETSAtIEVyYXNlIERpc3BsYXllZCBNZW1vcnknKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjQ1IgPSBmdW5jdGlvbiBjY0NSKCkge1xuICAgICAgICAvLyBDYXJyaWFnZSBSZXR1cm5cbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnQ1IgLSBDYXJyaWFnZSBSZXR1cm4nKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yb2xsVXAoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRU5NID0gZnVuY3Rpb24gY2NFTk0oKSB7XG4gICAgICAgIC8vRXJhc2UgTm9uLURpc3BsYXllZCBNZW1vcnlcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdFTk0gLSBFcmFzZSBOb24tZGlzcGxheWVkIE1lbW9yeScpO1xuICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0VPQyA9IGZ1bmN0aW9uIGNjRU9DKCkge1xuICAgICAgICAvL0VuZCBvZiBDYXB0aW9uIChGbGlwIE1lbW9yaWVzKVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0VPQyAtIEVuZCBPZiBDYXB0aW9uJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BPUC1PTicpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IHRtcDtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ1RFWFQnLCAnRElTUDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1RPID0gZnVuY3Rpb24gY2NUTyhuckNvbHMpIHtcbiAgICAgICAgLy8gVGFiIE9mZnNldCAxLDIsIG9yIDMgY29sdW1uc1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1RPKCcgKyBuckNvbHMgKyAnKSAtIFRhYiBPZmZzZXQnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5tb3ZlQ3Vyc29yKG5yQ29scyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjTUlEUk9XID0gZnVuY3Rpb24gY2NNSURST1coc2Vjb25kQnl0ZSkge1xuICAgICAgICAvLyBQYXJzZSBNSURST1cgY29tbWFuZFxuICAgICAgICB2YXIgc3R5bGVzID0geyBmbGFzaDogZmFsc2UgfTtcbiAgICAgICAgc3R5bGVzLnVuZGVybGluZSA9IHNlY29uZEJ5dGUgJSAyID09PSAxO1xuICAgICAgICBzdHlsZXMuaXRhbGljcyA9IHNlY29uZEJ5dGUgPj0gMHgyZTtcbiAgICAgICAgaWYgKCFzdHlsZXMuaXRhbGljcykge1xuICAgICAgICAgICAgdmFyIGNvbG9ySW5kZXggPSBNYXRoLmZsb29yKHNlY29uZEJ5dGUgLyAyKSAtIDB4MTA7XG4gICAgICAgICAgICB2YXIgY29sb3JzID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJ107XG4gICAgICAgICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9IGNvbG9yc1tjb2xvckluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlcy5mb3JlZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgfVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ01JRFJPVzogJyArIEpTT04uc3RyaW5naWZ5KHN0eWxlcykpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBlbihzdHlsZXMpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5vdXRwdXREYXRhVXBkYXRlID0gZnVuY3Rpb24gb3V0cHV0RGF0YVVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIHQgPSBjZWFfNjA4X3BhcnNlcl9sb2dnZXIudGltZTtcbiAgICAgICAgaWYgKHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci51cGRhdGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIudXBkYXRlRGF0YSh0LCB0aGlzLmRpc3BsYXllZE1lbW9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jdWVTdGFydFRpbWUgPT09IG51bGwgJiYgIXRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IG9mIGEgbmV3IGN1ZVxuICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5lcXVhbHModGhpcy5sYXN0T3V0cHV0U2NyZWVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMubGFzdE91dHB1dFNjcmVlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkgPyBudWxsIDogdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4uY29weSh0aGlzLmRpc3BsYXllZE1lbW9yeSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY3VlU3BsaXRBdFRpbWUgPSBmdW5jdGlvbiBjdWVTcGxpdEF0VGltZSh0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIENlYTYwOENoYW5uZWw7XG59KCk7XG5cbnZhciBDZWE2MDhQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2VhNjA4UGFyc2VyKGZpZWxkLCBvdXQxLCBvdXQyKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBDZWE2MDhQYXJzZXIpO1xuXG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZCB8fCAxO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBbb3V0MSwgb3V0Ml07XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSBbbmV3IENlYTYwOENoYW5uZWwoMSwgb3V0MSksIG5ldyBDZWE2MDhDaGFubmVsKDIsIG91dDIpXTtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IC0xOyAvLyBXaWxsIGJlIDEgb3IgMlxuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDsgLy8gRmlyc3QgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFNlY29uZCBieXRlIG9mIGxhc3QgY29tbWFuZFxuICAgICAgICB0aGlzLmJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDb3VudGVycyA9IHsgJ3BhZGRpbmcnOiAwLCAnY2hhcic6IDAsICdjbWQnOiAwLCAnb3RoZXInOiAwIH07XG4gICAgfVxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5nZXRIYW5kbGVyID0gZnVuY3Rpb24gZ2V0SGFuZGxlcihpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1tpbmRleF0uZ2V0SGFuZGxlcigpO1xuICAgIH07XG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnNldEhhbmRsZXIgPSBmdW5jdGlvbiBzZXRIYW5kbGVyKGluZGV4LCBuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbaW5kZXhdLnNldEhhbmRsZXIobmV3SGFuZGxlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBkYXRhIGZvciB0aW1lIHQgaW4gZm9ybXMgb2YgbGlzdCBvZiBieXRlcyAodW5zaWduZWQgaW50cykuIFRoZSBieXRlcyBhcmUgdHJlYXRlZCBhcyBwYWlycy5cbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5hZGREYXRhID0gZnVuY3Rpb24gYWRkRGF0YSh0LCBieXRlTGlzdCkge1xuICAgICAgICB2YXIgY21kRm91bmQsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIGNoYXJzRm91bmQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gdDtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLnNldFRpbWUodCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlTGlzdC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgYSA9IGJ5dGVMaXN0W2ldICYgMHg3ZjtcbiAgICAgICAgICAgIGIgPSBieXRlTGlzdFtpICsgMV0gJiAweDdmO1xuICAgICAgICAgICAgaWYgKGEgPT09IDAgJiYgYiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLnBhZGRpbmcgKz0gMjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnREFUQScsICdbJyArIG51bUFycmF5VG9IZXhBcnJheShbYnl0ZUxpc3RbaV0sIGJ5dGVMaXN0W2kgKyAxXV0pICsgJ10gLT4gKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VDbWQoYSwgYik7XG4gICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlTWlkcm93KGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZVBBQyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjaGFyc0ZvdW5kID0gdGhpcy5wYXJzZUNoYXJzKGEsIGIpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJDaE5yICYmIHRoaXMuY3VyckNoTnIgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW3RoaXMuY3VyckNoTnIgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuaW5zZXJ0Q2hhcnMoY2hhcnNGb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdXQVJOSU5HJywgJ05vIGNoYW5uZWwgZm91bmQgeWV0LiBURVhULU1PREU/Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jbWQgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnNGb3VuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNoYXIgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMub3RoZXIgKz0gMjtcbiAgICAgICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdXQVJOSU5HJywgJ0NvdWxkblxcJ3QgcGFyc2UgY2xlYW5lZCBkYXRhICcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcgb3JpZzogJyArIG51bUFycmF5VG9IZXhBcnJheShbYnl0ZUxpc3RbaV0sIGJ5dGVMaXN0W2kgKyAxXV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBDb21tYW5kLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUZWxscyBpZiBhIGNvbW1hbmQgd2FzIGZvdW5kXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VDbWQgPSBmdW5jdGlvbiBwYXJzZUNtZChhLCBiKSB7XG4gICAgICAgIHZhciBjaE5yID0gbnVsbDtcblxuICAgICAgICB2YXIgY29uZDEgPSAoYSA9PT0gMHgxNCB8fCBhID09PSAweDFDKSAmJiAweDIwIDw9IGIgJiYgYiA8PSAweDJGO1xuICAgICAgICB2YXIgY29uZDIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFGKSAmJiAweDIxIDw9IGIgJiYgYiA8PSAweDIzO1xuICAgICAgICBpZiAoIShjb25kMSB8fCBjb25kMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhID09PSB0aGlzLmxhc3RDbWRBICYmIGIgPT09IHRoaXMubGFzdENtZEIpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnREVCVUcnLCAnUmVwZWF0ZWQgY29tbWFuZCAoJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJykgaXMgZHJvcHBlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYSA9PT0gMHgxNCB8fCBhID09PSAweDE3KSB7XG4gICAgICAgICAgICBjaE5yID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoTnIgPSAyOyAvLyAoYSA9PT0gMHgxQyB8fCBhPT09IDB4MWYpXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xuXG4gICAgICAgIGlmIChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpIHtcbiAgICAgICAgICAgIGlmIChiID09PSAweDIwKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JDTCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDIxKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0JTKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjIpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQU9GKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjMpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQU9OKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjREVSKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUlUoMik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjYpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUlUoMyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjcpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUlUoNCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjgpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjRk9OKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjkpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUkRDKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkEpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjVFIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQikge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVEQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NFRE0oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyRCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NDUigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJFKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0VOTSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJGKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0VPQygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9hID09IDB4MTcgfHwgYSA9PSAweDFGXG4gICAgICAgICAgICBjaGFubmVsLmNjVE8oYiAtIDB4MjApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBtaWRyb3cgc3R5bGluZyBjb21tYW5kXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VNaWRyb3cgPSBmdW5jdGlvbiBwYXJzZU1pZHJvdyhhLCBiKSB7XG4gICAgICAgIHZhciBjaE5yID0gbnVsbDtcblxuICAgICAgICBpZiAoKGEgPT09IDB4MTEgfHwgYSA9PT0gMHgxOSkgJiYgMHgyMCA8PSBiICYmIGIgPD0gMHgyZikge1xuICAgICAgICAgICAgaWYgKGEgPT09IDB4MTEpIHtcbiAgICAgICAgICAgICAgICBjaE5yID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hOciA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hOciAhPT0gdGhpcy5jdXJyQ2hOcikge1xuICAgICAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0VSUk9SJywgJ01pc21hdGNoIGNoYW5uZWwgaW4gbWlkcm93IHBhcnNpbmcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xuICAgICAgICAgICAgY2hhbm5lbC5jY01JRFJPVyhiKTtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0RFQlVHJywgJ01JRFJPVyAoJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJyknKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlIFByZWFibGUgQWNjZXNzIENvZGVzIChUYWJsZSA1MykuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFRlbGxzIGlmIFBBQyBmb3VuZFxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlUEFDID0gZnVuY3Rpb24gcGFyc2VQQUMoYSwgYikge1xuXG4gICAgICAgIHZhciBjaE5yID0gbnVsbDtcbiAgICAgICAgdmFyIHJvdyA9IG51bGw7XG5cbiAgICAgICAgdmFyIGNhc2UxID0gKDB4MTEgPD0gYSAmJiBhIDw9IDB4MTcgfHwgMHgxOSA8PSBhICYmIGEgPD0gMHgxRikgJiYgMHg0MCA8PSBiICYmIGIgPD0gMHg3RjtcbiAgICAgICAgdmFyIGNhc2UyID0gKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkgJiYgMHg0MCA8PSBiICYmIGIgPD0gMHg1RjtcbiAgICAgICAgaWYgKCEoY2FzZTEgfHwgY2FzZTIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICB9XG5cbiAgICAgICAgY2hOciA9IGEgPD0gMHgxNyA/IDEgOiAyO1xuXG4gICAgICAgIGlmICgweDQwIDw9IGIgJiYgYiA8PSAweDVGKSB7XG4gICAgICAgICAgICByb3cgPSBjaE5yID09PSAxID8gcm93c0xvd0NoMVthXSA6IHJvd3NMb3dDaDJbYV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAweDYwIDw9IGIgPD0gMHg3RlxuICAgICAgICAgICAgcm93ID0gY2hOciA9PT0gMSA/IHJvd3NIaWdoQ2gxW2FdIDogcm93c0hpZ2hDaDJbYV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhY0RhdGEgPSB0aGlzLmludGVycHJldFBBQyhyb3csIGIpO1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xuICAgICAgICBjaGFubmVsLnNldFBBQyhwYWNEYXRhKTtcbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IGE7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBiO1xuICAgICAgICB0aGlzLmN1cnJDaE5yID0gY2hOcjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVycHJldCB0aGUgc2Vjb25kIGJ5dGUgb2YgdGhlIHBhYywgYW5kIHJldHVybiB0aGUgaW5mb3JtYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gcGFjRGF0YSB3aXRoIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuaW50ZXJwcmV0UEFDID0gZnVuY3Rpb24gaW50ZXJwcmV0UEFDKHJvdywgYnl0ZSkge1xuICAgICAgICB2YXIgcGFjSW5kZXggPSBieXRlO1xuICAgICAgICB2YXIgcGFjRGF0YSA9IHsgY29sb3I6IG51bGwsIGl0YWxpY3M6IGZhbHNlLCBpbmRlbnQ6IG51bGwsIHVuZGVybGluZTogZmFsc2UsIHJvdzogcm93IH07XG5cbiAgICAgICAgaWYgKGJ5dGUgPiAweDVGKSB7XG4gICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDYwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFjSW5kZXggPSBieXRlIC0gMHg0MDtcbiAgICAgICAgfVxuICAgICAgICBwYWNEYXRhLnVuZGVybGluZSA9IChwYWNJbmRleCAmIDEpID09PSAxO1xuICAgICAgICBpZiAocGFjSW5kZXggPD0gMHhkKSB7XG4gICAgICAgICAgICBwYWNEYXRhLmNvbG9yID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJywgJ3doaXRlJ11bTWF0aC5mbG9vcihwYWNJbmRleCAvIDIpXTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWNJbmRleCA8PSAweGYpIHtcbiAgICAgICAgICAgIHBhY0RhdGEuaXRhbGljcyA9IHRydWU7XG4gICAgICAgICAgICBwYWNEYXRhLmNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhY0RhdGEuaW5kZW50ID0gTWF0aC5mbG9vcigocGFjSW5kZXggLSAweDEwKSAvIDIpICogNDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFjRGF0YTsgLy8gTm90ZSB0aGF0IHJvdyBoYXMgemVybyBvZmZzZXQuIFRoZSBzcGVjIHVzZXMgMS5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2UgY2hhcmFjdGVycy5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSB3aXRoIDEgdG8gMiBjb2RlcyBjb3JyZXNwb25kaW5nIHRvIGNoYXJzLCBpZiBmb3VuZC4gbnVsbCBvdGhlcndpc2UuXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VDaGFycyA9IGZ1bmN0aW9uIHBhcnNlQ2hhcnMoYSwgYikge1xuXG4gICAgICAgIHZhciBjaGFubmVsTnIgPSBudWxsLFxuICAgICAgICAgICAgY2hhckNvZGVzID0gbnVsbCxcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IG51bGw7XG5cbiAgICAgICAgaWYgKGEgPj0gMHgxOSkge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMjtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGEgLSA4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMTtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDB4MTEgPD0gY2hhckNvZGUxICYmIGNoYXJDb2RlMSA8PSAweDEzKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNoYXJhY3RlclxuICAgICAgICAgICAgdmFyIG9uZUNvZGUgPSBiO1xuICAgICAgICAgICAgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMSkge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg1MDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhckNvZGUxID09PSAweDEyKSB7XG4gICAgICAgICAgICAgICAgb25lQ29kZSA9IGIgKyAweDcwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvbmVDb2RlID0gYiArIDB4OTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1NwZWNpYWwgY2hhciBcXCcnICsgZ2V0Q2hhckZvckJ5dGUob25lQ29kZSkgKyAnXFwnIGluIGNoYW5uZWwgJyArIGNoYW5uZWxOcik7XG4gICAgICAgICAgICBjaGFyQ29kZXMgPSBbb25lQ29kZV07XG4gICAgICAgIH0gZWxzZSBpZiAoMHgyMCA8PSBhICYmIGEgPD0gMHg3Zikge1xuICAgICAgICAgICAgY2hhckNvZGVzID0gYiA9PT0gMCA/IFthXSA6IFthLCBiXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhckNvZGVzKSB7XG4gICAgICAgICAgICB2YXIgaGV4Q29kZXMgPSBudW1BcnJheVRvSGV4QXJyYXkoY2hhckNvZGVzKTtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0RFQlVHJywgJ0NoYXIgY29kZXMgPSAgJyArIGhleENvZGVzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFyQ29kZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogUGFyc2UgZXh0ZW5kZWQgYmFja2dyb3VuZCBhdHRyaWJ1dGVzIGFzIHdlbGwgYXMgbmV3IGZvcmVncm91bmQgY29sb3IgYmxhY2suXG4gICAgKiBAcmV0dXJuc3tCb29sZWFufSBUZWxscyBpZiBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXJlIGZvdW5kXG4gICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyhhLCBiKSB7XG4gICAgICAgIHZhciBia2dEYXRhLCBpbmRleCwgY2hOciwgY2hhbm5lbDtcblxuICAgICAgICB2YXIgY2FzZTEgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiAweDIwIDw9IGIgJiYgYiA8PSAweDJmO1xuICAgICAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFmKSAmJiAweDJkIDw9IGIgJiYgYiA8PSAweDJmO1xuICAgICAgICBpZiAoIShjYXNlMSB8fCBjYXNlMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBia2dEYXRhID0ge307XG4gICAgICAgIGlmIChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpIHtcbiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoYiAtIDB4MjApIC8gMik7XG4gICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kQ29sb3JzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChiICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJrZ0RhdGEuYmFja2dyb3VuZCArICdfc2VtaSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyZCkge1xuICAgICAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJrZ0RhdGEuZm9yZWdyb3VuZCA9ICdibGFjayc7XG4gICAgICAgICAgICBpZiAoYiA9PT0gMHgyZikge1xuICAgICAgICAgICAgICAgIGJrZ0RhdGEudW5kZXJsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaE5yID0gYSA8IDB4MTggPyAxIDogMjtcbiAgICAgICAgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xuICAgICAgICBjaGFubmVsLnNldEJrZ0RhdGEoYmtnRGF0YSk7XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHN0YXRlIG9mIHBhcnNlciBhbmQgaXRzIGNoYW5uZWxzLlxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHRoZSBnZW5lcmF0aW9uIG9mIGEgY3VlLCBhbmQgdGhlIHN0YXJ0IG9mIGEgbmV3IG9uZSBpZiBkaXNwbGF5U2NyZWVucyBhcmUgbm90IGVtcHR5LlxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmN1ZVNwbGl0QXRUaW1lID0gZnVuY3Rpb24gY3VlU3BsaXRBdFRpbWUodCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWxzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsc1tpXS5jdWVTcGxpdEF0VGltZSh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ2VhNjA4UGFyc2VyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjZWFfNjA4X3BhcnNlciA9IChDZWE2MDhQYXJzZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvd2VidnR0LXBhcnNlci5qc1xuXG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCBpcyBub3Qgc3VwcG9ydGVkIGluIElFMTFcbnZhciBzdGFydHNXaXRoID0gZnVuY3Rpb24gc3RhcnRzV2l0aChpbnB1dFN0cmluZywgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgIHJldHVybiBpbnB1dFN0cmluZy5zdWJzdHIocG9zaXRpb24gfHwgMCwgc2VhcmNoU3RyaW5nLmxlbmd0aCkgPT09IHNlYXJjaFN0cmluZztcbn07XG5cbnZhciBjdWVTdHJpbmcybWlsbGlzID0gZnVuY3Rpb24gY3VlU3RyaW5nMm1pbGxpcyh0aW1lU3RyaW5nKSB7XG4gICAgdmFyIHRzID0gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoLTMpKTtcbiAgICB2YXIgc2VjcyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKC02LCAyKSk7XG4gICAgdmFyIG1pbnMgPSBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigtOSwgMikpO1xuICAgIHZhciBob3VycyA9IHRpbWVTdHJpbmcubGVuZ3RoID4gOSA/IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKDAsIHRpbWVTdHJpbmcuaW5kZXhPZignOicpKSkgOiAwO1xuXG4gICAgaWYgKGlzTmFOKHRzKSB8fCBpc05hTihzZWNzKSB8fCBpc05hTihtaW5zKSB8fCBpc05hTihob3VycykpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHRzICs9IDEwMDAgKiBzZWNzO1xuICAgIHRzICs9IDYwICogMTAwMCAqIG1pbnM7XG4gICAgdHMgKz0gNjAgKiA2MCAqIDEwMDAgKiBob3VycztcblxuICAgIHJldHVybiB0cztcbn07XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2hcbnZhciBoYXNoID0gZnVuY3Rpb24gaGFzaCh0ZXh0KSB7XG4gICAgdmFyIGhhc2ggPSA1MzgxO1xuICAgIHZhciBpID0gdGV4dC5sZW5ndGg7XG4gICAgd2hpbGUgKGkpIHtcbiAgICAgICAgaGFzaCA9IGhhc2ggKiAzMyBeIHRleHQuY2hhckNvZGVBdCgtLWkpO1xuICAgIH1cbiAgICByZXR1cm4gKGhhc2ggPj4+IDApLnRvU3RyaW5nKCk7XG59O1xuXG52YXIgY2FsY3VsYXRlT2Zmc2V0ID0gZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KHZ0dENDcywgY2MsIHByZXNlbnRhdGlvblRpbWUpIHtcbiAgICB2YXIgY3VyckNDID0gdnR0Q0NzW2NjXTtcbiAgICB2YXIgcHJldkNDID0gdnR0Q0NzW2N1cnJDQy5wcmV2Q0NdO1xuXG4gICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgZGlzY29udGludWl0eSBvciBjdWVzIGhhdmUgYmVlbiBwcm9jZXNzZWQgc2luY2UgdGhlIGxhc3QgZGlzY29udGludWl0eVxuICAgIC8vIE9mZnNldCA9IGN1cnJlbnQgZGlzY29udGludWl0eSB0aW1lXG4gICAgaWYgKCFwcmV2Q0MgfHwgIXByZXZDQy5uZXcgJiYgY3VyckNDLm5ldykge1xuICAgICAgICB2dHRDQ3MuY2NPZmZzZXQgPSB2dHRDQ3MucHJlc2VudGF0aW9uT2Zmc2V0ID0gY3VyckNDLnN0YXJ0O1xuICAgICAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGVyZSBoYXZlIGJlZW4gZGlzY29udGludWl0aWVzIHNpbmNlIGN1ZXMgd2VyZSBsYXN0IHBhcnNlZC5cbiAgICAvLyBPZmZzZXQgPSB0aW1lIGVsYXBzZWRcbiAgICB3aGlsZSAocHJldkNDICYmIHByZXZDQy5uZXcpIHtcbiAgICAgICAgdnR0Q0NzLmNjT2Zmc2V0ICs9IGN1cnJDQy5zdGFydCAtIHByZXZDQy5zdGFydDtcbiAgICAgICAgY3VyckNDLm5ldyA9IGZhbHNlO1xuICAgICAgICBjdXJyQ0MgPSBwcmV2Q0M7XG4gICAgICAgIHByZXZDQyA9IHZ0dENDc1tjdXJyQ0MucHJldkNDXTtcbiAgICB9XG5cbiAgICB2dHRDQ3MucHJlc2VudGF0aW9uT2Zmc2V0ID0gcHJlc2VudGF0aW9uVGltZTtcbn07XG5cbnZhciBXZWJWVFRQYXJzZXIgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHZ0dEJ5dGVBcnJheSwgc3luY1BUUywgdnR0Q0NzLCBjYywgY2FsbEJhY2ssIGVycm9yQ2FsbEJhY2spIHtcbiAgICAgICAgLy8gQ29udmVydCBieXRlQXJyYXkgaW50byBzdHJpbmcsIHJlcGxhY2luZyBhbnkgc29tZXdoYXQgZXhvdGljIGxpbmVmZWVkcyB3aXRoIFwiXFxuXCIsIHRoZW4gc3BsaXQgb24gdGhhdCBjaGFyYWN0ZXIuXG4gICAgICAgIHZhciByZSA9IC9cXHJcXG58XFxuXFxyfFxcbnxcXHIvZztcbiAgICAgICAgdmFyIHZ0dExpbmVzID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheSh2dHRCeXRlQXJyYXkpKS50cmltKCkucmVwbGFjZShyZSwgJ1xcbicpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIGN1ZVRpbWUgPSAnMDA6MDAuMDAwJztcbiAgICAgICAgdmFyIG1wZWdUcyA9IDA7XG4gICAgICAgIHZhciBsb2NhbFRpbWUgPSAwO1xuICAgICAgICB2YXIgcHJlc2VudGF0aW9uVGltZSA9IDA7XG4gICAgICAgIHZhciBjdWVzID0gW107XG4gICAgICAgIHZhciBwYXJzaW5nRXJyb3IgPSB2b2lkIDA7XG4gICAgICAgIHZhciBpbkhlYWRlciA9IHRydWU7XG4gICAgICAgIC8vIGxldCBWVFRDdWUgPSBWVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcblxuICAgICAgICAvLyBDcmVhdGUgcGFyc2VyIG9iamVjdCB1c2luZyBWVFRDdWUgd2l0aCBUZXh0VHJhY2tDdWUgZmFsbGJhY2sgb24gY2VydGFpbiBicm93c2Vycy5cbiAgICAgICAgdmFyIHBhcnNlciA9IG5ldyB2dHRwYXJzZXIoKTtcblxuICAgICAgICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgICAgICAvLyBBZGp1c3QgY3VlIHRpbWluZzsgY2xhbXAgY3VlcyB0byBzdGFydCBubyBlYXJsaWVyIHRoYW4gLSBhbmQgZHJvcCBjdWVzIHRoYXQgZG9uJ3QgZW5kIGFmdGVyIC0gMCBvbiB0aW1lbGluZS5cbiAgICAgICAgICAgIHZhciBjdXJyQ0MgPSB2dHRDQ3NbY2NdO1xuICAgICAgICAgICAgdmFyIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldDtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIG9mZnNldHMgZm9yIG5ldyBkaXNjb250aW51aXRpZXNcbiAgICAgICAgICAgIGlmIChjdXJyQ0MgJiYgY3VyckNDLm5ldykge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGxvY2FsIHRpbWUgaXMgcHJvdmlkZWQsIG9mZnNldCA9IGRpc2NvbnRpbnVpdHkgc3RhcnQgdGltZSAtIGxvY2FsIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgY3VlT2Zmc2V0ID0gdnR0Q0NzLmNjT2Zmc2V0ID0gY3VyckNDLnN0YXJ0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZU9mZnNldCh2dHRDQ3MsIGNjLCBwcmVzZW50YXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmVzZW50YXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBNUEVHVFMsIG9mZnNldCA9IHByZXNlbnRhdGlvbiB0aW1lICsgZGlzY29udGludWl0eSBvZmZzZXRcbiAgICAgICAgICAgICAgICBjdWVPZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lICsgdnR0Q0NzLmNjT2Zmc2V0IC0gdnR0Q0NzLnByZXNlbnRhdGlvbk9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VlLnN0YXJ0VGltZSArPSBjdWVPZmZzZXQgLSBsb2NhbFRpbWU7XG4gICAgICAgICAgICBjdWUuZW5kVGltZSArPSBjdWVPZmZzZXQgLSBsb2NhbFRpbWU7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBoYXNoIGlkIGZvciBhIGN1ZSBiYXNlZCBvbiBzdGFydC9lbmQgdGltZXMgYW5kIHRleHQuXG4gICAgICAgICAgICAvLyBUaGlzIGhlbHBzIHRpbWVsaW5lLWNvbnRyb2xsZXIgdG8gYXZvaWQgc2hvd2luZyByZXBlYXRlZCBjYXB0aW9ucy5cbiAgICAgICAgICAgIGN1ZS5pZCA9IGhhc2goY3VlLnN0YXJ0VGltZSkgKyBoYXNoKGN1ZS5lbmRUaW1lKSArIGhhc2goY3VlLnRleHQpO1xuXG4gICAgICAgICAgICAvLyBGaXggZW5jb2Rpbmcgb2Ygc3BlY2lhbCBjaGFyYWN0ZXJzLiBUT0RPOiBUZXN0IHdpdGggYWxsIHNvcnRzIG9mIHdlaXJkIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICBjdWUudGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoY3VlLnRleHQpKTtcbiAgICAgICAgICAgIGlmIChjdWUuZW5kVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICBjdWVzLnB1c2goY3VlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcGFyc2luZ0Vycm9yID0gZTtcbiAgICAgICAgfTtcblxuICAgICAgICBwYXJzZXIub25mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChwYXJzaW5nRXJyb3IgJiYgZXJyb3JDYWxsQmFjaykge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbEJhY2socGFyc2luZ0Vycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsQmFjayhjdWVzKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBHbyB0aHJvdWdoIGNvbnRlbnRzIGxpbmUgYnkgbGluZS5cbiAgICAgICAgdnR0TGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgaWYgKGluSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgWC1USU1FU1RBTVAtTUFQIGluIGhlYWRlci5cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRzV2l0aChsaW5lLCAnWC1USU1FU1RBTVAtTUFQPScpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9uY2UgZm91bmQsIG5vIG1vcmUgYXJlIGFsbG93ZWQgYW55d2F5LCBzbyBzdG9wIHNlYXJjaGluZy5cbiAgICAgICAgICAgICAgICAgICAgaW5IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBMT0NBTCBhbmQgTVBFR1RTLlxuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cigxNikuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydHNXaXRoKHRpbWVzdGFtcCwgJ0xPQ0FMOicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VlVGltZSA9IHRpbWVzdGFtcC5zdWJzdHIoNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTVBFR1RTOicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzID0gcGFyc2VJbnQodGltZXN0YW1wLnN1YnN0cig3KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHN1YnRpdGxlIG9mZnNldCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzeW5jIFBUUyBpcyBsZXNzIHRoYW4gemVybywgd2UgaGF2ZSBhIDMzLWJpdCB3cmFwYXJvdW5kLCB3aGljaCBpcyBmaXhlZCBieSBhZGRpbmcgMl4zMyA9IDg1ODk5MzQ1OTIuXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jUFRTID0gc3luY1BUUyA8IDAgPyBzeW5jUFRTICsgODU4OTkzNDU5MiA6IHN5bmNQVFM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgTVBFR1RTIGJ5IHN5bmMgUFRTLlxuICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzIC09IHN5bmNQVFM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGN1ZSB0aW1lIHRvIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsVGltZSA9IGN1ZVN0cmluZzJtaWxsaXMoY3VlVGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBNUEVHVFMgdG8gc2Vjb25kcyBmcm9tIDkwa0h6LlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VudGF0aW9uVGltZSA9IG1wZWdUcyAvIDkwMDAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxUaW1lID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNpbmdFcnJvciA9IG5ldyBFcnJvcignTWFsZm9ybWVkIFgtVElNRVNUQU1QLU1BUDogJyArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoJ01hbGZvcm1lZCBYLVRJTUVTVEFNUC1NQVA6ICcgKyBsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gd2l0aG91dCBwYXJzaW5nIFgtVElNRVNUQU1QLU1BUCBsaW5lLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhcnNlIGxpbmUgYnkgZGVmYXVsdC5cbiAgICAgICAgICAgIHBhcnNlci5wYXJzZShsaW5lICsgJ1xcbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwYXJzZXIuZmx1c2goKTtcbiAgICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB3ZWJ2dHRfcGFyc2VyID0gKFdlYlZUVFBhcnNlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIHRpbWVsaW5lX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gdGltZWxpbmVfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gdGltZWxpbmVfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIFRpbWVsaW5lIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGNsZWFyQ3VycmVudEN1ZXModHJhY2spIHtcbiAgaWYgKHRyYWNrICYmIHRyYWNrLmN1ZXMpIHtcbiAgICB3aGlsZSAodHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0cmFjay5yZW1vdmVDdWUodHJhY2suY3Vlc1swXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJldXNlVnR0VGV4dFRyYWNrKGluVXNlVHJhY2ssIG1hbmlmZXN0VHJhY2spIHtcbiAgcmV0dXJuIGluVXNlVHJhY2sgJiYgaW5Vc2VUcmFjay5sYWJlbCA9PT0gbWFuaWZlc3RUcmFjay5uYW1lICYmICEoaW5Vc2VUcmFjay50ZXh0VHJhY2sxIHx8IGluVXNlVHJhY2sudGV4dFRyYWNrMik7XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdGlvbih4MSwgeDIsIHkxLCB5Mikge1xuICByZXR1cm4gTWF0aC5taW4oeDIsIHkyKSAtIE1hdGgubWF4KHgxLCB5MSk7XG59XG5cbnZhciB0aW1lbGluZV9jb250cm9sbGVyX1RpbWVsaW5lQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIHRpbWVsaW5lX2NvbnRyb2xsZXJfX2luaGVyaXRzKFRpbWVsaW5lQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gVGltZWxpbmVDb250cm9sbGVyKGhscykge1xuICAgIHRpbWVsaW5lX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVsaW5lQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSB0aW1lbGluZV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCkpO1xuXG4gICAgX3RoaXMuaGxzID0gaGxzO1xuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgX3RoaXMuQ3VlcyA9IGhscy5jb25maWcuY3VlSGFuZGxlcjtcbiAgICBfdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgX3RoaXMudW5wYXJzZWRWdHRGcmFncyA9IFtdO1xuICAgIF90aGlzLmluaXRQVFMgPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMuY3VlUmFuZ2VzID0gW107XG5cbiAgICBpZiAoX3RoaXMuY29uZmlnLmVuYWJsZUNFQTcwOENhcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IF90aGlzO1xuICAgICAgdmFyIHNlbmRBZGRUcmFja0V2ZW50ID0gZnVuY3Rpb24gc2VuZEFkZFRyYWNrRXZlbnQodHJhY2ssIG1lZGlhKSB7XG4gICAgICAgIHZhciBlID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlID0gbmV3IHdpbmRvdy5FdmVudCgnYWRkdHJhY2snKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy9mb3IgSUUxMVxuICAgICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgICBlLmluaXRFdmVudCgnYWRkdHJhY2snLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGUudHJhY2sgPSB0cmFjaztcbiAgICAgICAgbWVkaWEuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBjaGFubmVsMSA9IHtcbiAgICAgICAgJ25ld0N1ZSc6IGZ1bmN0aW9uIG5ld0N1ZShzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbikge1xuICAgICAgICAgIGlmICghc2VsZi50ZXh0VHJhY2sxKSB7XG4gICAgICAgICAgICAvL0VuYWJsZSByZXVzZSBvZiBleGlzdGluZyB0ZXh0IHRyYWNrLlxuICAgICAgICAgICAgdmFyIGV4aXN0aW5nVHJhY2sxID0gc2VsZi5nZXRFeGlzdGluZ1RyYWNrKCcxJyk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nVHJhY2sxKSB7XG4gICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2sxID0gc2VsZi5jcmVhdGVUZXh0VHJhY2soJ2NhcHRpb25zJywgc2VsZi5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFiZWwsIHNlbGYuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZSk7XG4gICAgICAgICAgICAgIGlmICh0ZXh0VHJhY2sxKSB7XG4gICAgICAgICAgICAgICAgdGV4dFRyYWNrMS50ZXh0VHJhY2sxID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnRleHRUcmFjazEgPSB0ZXh0VHJhY2sxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLnRleHRUcmFjazEgPSBleGlzdGluZ1RyYWNrMTtcbiAgICAgICAgICAgICAgY2xlYXJDdXJyZW50Q3VlcyhzZWxmLnRleHRUcmFjazEpO1xuXG4gICAgICAgICAgICAgIHNlbmRBZGRUcmFja0V2ZW50KHNlbGYudGV4dFRyYWNrMSwgc2VsZi5tZWRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYuYWRkQ3VlcygndGV4dFRyYWNrMScsIHN0YXJ0VGltZSwgZW5kVGltZSwgc2NyZWVuKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGNoYW5uZWwyID0ge1xuICAgICAgICAnbmV3Q3VlJzogZnVuY3Rpb24gbmV3Q3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgc2NyZWVuKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLnRleHRUcmFjazIpIHtcbiAgICAgICAgICAgIC8vRW5hYmxlIHJldXNlIG9mIGV4aXN0aW5nIHRleHQgdHJhY2suXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdUcmFjazIgPSBzZWxmLmdldEV4aXN0aW5nVHJhY2soJzInKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdUcmFjazIpIHtcbiAgICAgICAgICAgICAgdmFyIHRleHRUcmFjazIgPSBzZWxmLmNyZWF0ZVRleHRUcmFjaygnY2FwdGlvbnMnLCBzZWxmLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazJMYWJlbCwgc2VsZi5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlKTtcbiAgICAgICAgICAgICAgaWYgKHRleHRUcmFjazIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0VHJhY2syLnRleHRUcmFjazIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYudGV4dFRyYWNrMiA9IHRleHRUcmFjazI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYudGV4dFRyYWNrMiA9IGV4aXN0aW5nVHJhY2syO1xuICAgICAgICAgICAgICBjbGVhckN1cnJlbnRDdWVzKHNlbGYudGV4dFRyYWNrMik7XG5cbiAgICAgICAgICAgICAgc2VuZEFkZFRyYWNrRXZlbnQoc2VsZi50ZXh0VHJhY2syLCBzZWxmLm1lZGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5hZGRDdWVzKCd0ZXh0VHJhY2syJywgc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5jZWE2MDhQYXJzZXIgPSBuZXcgY2VhXzYwOF9wYXJzZXIoMCwgY2hhbm5lbDEsIGNoYW5uZWwyKTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5hZGRDdWVzID0gZnVuY3Rpb24gYWRkQ3VlcyhjaGFubmVsLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbikge1xuICAgIC8vIHNraXAgY3VlcyB3aGljaCBvdmVybGFwIG1vcmUgdGhhbiA1MCUgd2l0aCBwcmV2aW91c2x5IHBhcnNlZCB0aW1lIHJhbmdlc1xuICAgIHZhciByYW5nZXMgPSB0aGlzLmN1ZVJhbmdlcztcbiAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciBjdWVSYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgIHZhciBvdmVybGFwID0gaW50ZXJzZWN0aW9uKGN1ZVJhbmdlWzBdLCBjdWVSYW5nZVsxXSwgc3RhcnRUaW1lLCBlbmRUaW1lKTtcbiAgICAgIGlmIChvdmVybGFwID49IDApIHtcbiAgICAgICAgY3VlUmFuZ2VbMF0gPSBNYXRoLm1pbihjdWVSYW5nZVswXSwgc3RhcnRUaW1lKTtcbiAgICAgICAgY3VlUmFuZ2VbMV0gPSBNYXRoLm1heChjdWVSYW5nZVsxXSwgZW5kVGltZSk7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICAgIGlmIChvdmVybGFwIC8gKGVuZFRpbWUgLSBzdGFydFRpbWUpID4gMC41KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICByYW5nZXMucHVzaChbc3RhcnRUaW1lLCBlbmRUaW1lXSk7XG4gICAgfVxuICAgIHRoaXMuQ3Vlcy5uZXdDdWUodGhpc1tjaGFubmVsXSwgc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pO1xuICB9O1xuXG4gIC8vIFRyaWdnZXJlZCB3aGVuIGFuIGluaXRpYWwgUFRTIGlzIGZvdW5kOyB1c2VkIGZvciBzeW5jaHJvbmlzYXRpb24gb2YgV2ViVlRULlxuXG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkluaXRQdHNGb3VuZCA9IGZ1bmN0aW9uIG9uSW5pdFB0c0ZvdW5kKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICh0eXBlb2YgdGhpcy5pbml0UFRTID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5pbml0UFRTID0gZGF0YS5pbml0UFRTO1xuICAgIH1cblxuICAgIC8vIER1ZSB0byBhc3luY2hyb255LCBpbml0aWFsIFBUUyBtYXkgYXJyaXZlIGxhdGVyIHRoYW4gdGhlIGZpcnN0IFZUVCBmcmFnbWVudHMgYXJlIGxvYWRlZC5cbiAgICAvLyBQYXJzZSBhbnkgdW5wYXJzZWQgZnJhZ21lbnRzIHVwb24gcmVjZWl2aW5nIHRoZSBpbml0aWFsIFBUUy5cbiAgICBpZiAodGhpcy51bnBhcnNlZFZ0dEZyYWdzLmxlbmd0aCkge1xuICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzLmZvckVhY2goZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgX3RoaXMyLm9uRnJhZ0xvYWRlZChmcmFnKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gW107XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RXhpc3RpbmdUcmFjayA9IGZ1bmN0aW9uIGdldEV4aXN0aW5nVHJhY2soY2hhbm5lbE51bWJlcikge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLnRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRleHRUcmFjayA9IG1lZGlhLnRleHRUcmFja3NbaV07XG4gICAgICAgIHZhciBwcm9wTmFtZSA9ICd0ZXh0VHJhY2snICsgY2hhbm5lbE51bWJlcjtcbiAgICAgICAgaWYgKHRleHRUcmFja1twcm9wTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gdGV4dFRyYWNrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuY3JlYXRlVGV4dFRyYWNrID0gZnVuY3Rpb24gY3JlYXRlVGV4dFRyYWNrKGtpbmQsIGxhYmVsLCBsYW5nKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHJldHVybiBtZWRpYS5hZGRUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmcpO1xuICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoaW5nKGRhdGEpIHtcbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhRGV0YWNoaW5nKCkge1xuICAgIGNsZWFyQ3VycmVudEN1ZXModGhpcy50ZXh0VHJhY2sxKTtcbiAgICBjbGVhckN1cnJlbnRDdWVzKHRoaXMudGV4dFRyYWNrMik7XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIHRoaXMubGFzdFNuID0gLTE7IC8vIERldGVjdCBkaXNjb250aWd1aXR5IGluIGZyYWdtZW50IHBhcnNpbmdcbiAgICB0aGlzLnByZXZDQyA9IC0xO1xuICAgIHRoaXMudnR0Q0NzID0geyBjY09mZnNldDogMCwgcHJlc2VudGF0aW9uT2Zmc2V0OiAwIH07IC8vIERldGVjdCBkaXNjb250aW51aXR5IGluIHN1YnRpdGxlIG1hbmlmZXN0c1xuXG4gICAgLy8gY2xlYXIgb3V0ZGF0ZWQgc3VidGl0bGVzXG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHZhciB0ZXh0VHJhY2tzID0gbWVkaWEudGV4dFRyYWNrcztcbiAgICAgIGlmICh0ZXh0VHJhY2tzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNsZWFyQ3VycmVudEN1ZXModGV4dFRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGVkID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgPSB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgfHwgW107XG4gICAgdGhpcy5pbml0UFRTID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3VlUmFuZ2VzID0gW107XG5cbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlV2ViVlRUKSB7XG4gICAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVzIHx8IFtdO1xuICAgICAgdmFyIGluVXNlVHJhY2tzID0gdGhpcy5tZWRpYSA/IHRoaXMubWVkaWEudGV4dFRyYWNrcyA6IFtdO1xuXG4gICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaywgaW5kZXgpIHtcbiAgICAgICAgdmFyIHRleHRUcmFjayA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGluZGV4IDwgaW5Vc2VUcmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGluVXNlVHJhY2sgPSBpblVzZVRyYWNrc1tpbmRleF07XG4gICAgICAgICAgLy8gUmV1c2UgdHJhY2tzIHdpdGggdGhlIHNhbWUgbGFiZWwsIGJ1dCBkbyBub3QgcmV1c2UgNjA4LzcwOCB0cmFja3NcbiAgICAgICAgICBpZiAocmV1c2VWdHRUZXh0VHJhY2soaW5Vc2VUcmFjaywgdHJhY2spKSB7XG4gICAgICAgICAgICB0ZXh0VHJhY2sgPSBpblVzZVRyYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHRUcmFjaykge1xuICAgICAgICAgIHRleHRUcmFjayA9IF90aGlzMy5jcmVhdGVUZXh0VHJhY2soJ3N1YnRpdGxlcycsIHRyYWNrLm5hbWUsIHRyYWNrLmxhbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRleHRUcmFjay5tb2RlID0gdHJhY2suZGVmYXVsdCA/ICdzaG93aW5nJyA6ICdoaWRkZW4nO1xuICAgICAgICBfdGhpczMudGV4dFRyYWNrcy5wdXNoKHRleHRUcmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsU3dpdGNoaW5nID0gZnVuY3Rpb24gb25MZXZlbFN3aXRjaGluZygpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0aGlzLmhscy5jdXJyZW50TGV2ZWwuY2xvc2VkQ2FwdGlvbnMgIT09ICdOT05FJztcbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcsXG4gICAgICAgIHBheWxvYWQgPSBkYXRhLnBheWxvYWQ7XG4gICAgaWYgKGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICB2YXIgc24gPSBmcmFnLnNuO1xuICAgICAgLy8gaWYgdGhpcyBmcmFnIGlzbid0IGNvbnRpZ3VvdXMsIGNsZWFyIHRoZSBwYXJzZXIgc28gY3VlcyB3aXRoIGJhZCBzdGFydC9lbmQgdGltZXMgYXJlbid0IGFkZGVkIHRvIHRoZSB0ZXh0VHJhY2tcbiAgICAgIGlmIChzbiAhPT0gdGhpcy5sYXN0U24gKyAxKSB7XG4gICAgICAgIHZhciBjZWE2MDhQYXJzZXIgPSB0aGlzLmNlYTYwOFBhcnNlcjtcbiAgICAgICAgaWYgKGNlYTYwOFBhcnNlcikge1xuICAgICAgICAgIGNlYTYwOFBhcnNlci5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RTbiA9IHNuO1xuICAgIH1cbiAgICAvLyBJZiBmcmFnbWVudCBpcyBzdWJ0aXRsZSB0eXBlLCBwYXJzZSBhcyBXZWJWVFQuXG4gICAgZWxzZSBpZiAoZnJhZy50eXBlID09PSAnc3VidGl0bGUnKSB7XG4gICAgICAgIGlmIChwYXlsb2FkLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAvLyBXZSBuZWVkIGFuIGluaXRpYWwgc3luY2hyb25pc2F0aW9uIFBUUy4gU3RvcmUgZnJhZ21lbnRzIGFzIGxvbmcgYXMgbm9uZSBoYXMgYXJyaXZlZC5cbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW5pdFBUUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdnR0Q0NzID0gdGhpcy52dHRDQ3M7XG4gICAgICAgICAgaWYgKCF2dHRDQ3NbZnJhZy5jY10pIHtcbiAgICAgICAgICAgIHZ0dENDc1tmcmFnLmNjXSA9IHsgc3RhcnQ6IGZyYWcuc3RhcnQsIHByZXZDQzogdGhpcy5wcmV2Q0MsIG5ldzogdHJ1ZSB9O1xuICAgICAgICAgICAgdGhpcy5wcmV2Q0MgPSBmcmFnLmNjO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdGV4dFRyYWNrcyA9IHRoaXMudGV4dFRyYWNrcyxcbiAgICAgICAgICAgICAgaGxzID0gdGhpcy5obHM7XG5cbiAgICAgICAgICAvLyBQYXJzZSB0aGUgV2ViVlRUIGZpbGUgY29udGVudHMuXG4gICAgICAgICAgd2VidnR0X3BhcnNlci5wYXJzZShwYXlsb2FkLCB0aGlzLmluaXRQVFMsIHZ0dENDcywgZnJhZy5jYywgZnVuY3Rpb24gKGN1ZXMpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VHJhY2sgPSB0ZXh0VHJhY2tzW2ZyYWcudHJhY2tJZF07XG4gICAgICAgICAgICAvLyBBZGQgY3VlcyBhbmQgdHJpZ2dlciBldmVudCB3aXRoIHN1Y2Nlc3MgdHJ1ZS5cbiAgICAgICAgICAgIGN1ZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGVyZSBhcmUgY3VlIG92ZXJsYXBzIG9uIHNlZ21lbnRlZCB2dHRzIHNvIHRoZSBzYW1lXG4gICAgICAgICAgICAgIC8vIGN1ZSBjYW4gYXBwZWFyIG1vcmUgdGhhbiBvbmNlIGluIGRpZmZlcmVudCB2dHQgZmlsZXMuXG4gICAgICAgICAgICAgIC8vIFRoaXMgYXZvaWQgc2hvd2luZyBkdXBsaWNhdGVkIGN1ZXMgd2l0aCBzYW1lIHRpbWVjb2RlIGFuZCB0ZXh0LlxuICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQoY3VlLmlkKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VHJhY2suYWRkQ3VlKGN1ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrQ3VlID0gbmV3IHdpbmRvdy5UZXh0VHJhY2tDdWUoY3VlLnN0YXJ0VGltZSwgY3VlLmVuZFRpbWUsIGN1ZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAgIHRleHRUcmFja0N1ZS5pZCA9IGN1ZS5pZDtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjay5hZGRDdWUodGV4dFRyYWNrQ3VlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IHRydWUsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIHBhcnNpbmcuIFRyaWdnZXIgZXZlbnQgd2l0aCBzdWNjZXNzIGZhbHNlLlxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdGYWlsZWQgdG8gcGFyc2UgVlRUIGN1ZTogJyArIGUpO1xuICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgbm8gcGF5bG9hZCwgZmluaXNoIHVuc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nVXNlcmRhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nVXNlcmRhdGEoZGF0YSkge1xuICAgIC8vIHB1c2ggYWxsIG9mIHRoZSBDRUEtNzA4IG1lc3NhZ2VzIGludG8gdGhlIGludGVycHJldGVyXG4gICAgLy8gaW1tZWRpYXRlbHkuIEl0IHdpbGwgY3JlYXRlIHRoZSBwcm9wZXIgdGltZXN0YW1wcyBiYXNlZCBvbiBvdXIgUFRTIHZhbHVlXG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNjZGF0YXMgPSB0aGlzLmV4dHJhY3RDZWE2MDhEYXRhKGRhdGEuc2FtcGxlc1tpXS5ieXRlcyk7XG4gICAgICAgIHRoaXMuY2VhNjA4UGFyc2VyLmFkZERhdGEoZGF0YS5zYW1wbGVzW2ldLnB0cywgY2NkYXRhcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZXh0cmFjdENlYTYwOERhdGEgPSBmdW5jdGlvbiBleHRyYWN0Q2VhNjA4RGF0YShieXRlQXJyYXkpIHtcbiAgICB2YXIgY291bnQgPSBieXRlQXJyYXlbMF0gJiAzMTtcbiAgICB2YXIgcG9zaXRpb24gPSAyO1xuICAgIHZhciB0bXBCeXRlLCBjY2J5dGUxLCBjY2J5dGUyLCBjY1ZhbGlkLCBjY1R5cGU7XG4gICAgdmFyIGFjdHVhbENDQnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgdG1wQnl0ZSA9IGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgIGNjYnl0ZTEgPSAweDdGICYgYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgY2NieXRlMiA9IDB4N0YgJiBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICBjY1ZhbGlkID0gKDQgJiB0bXBCeXRlKSAhPT0gMDtcbiAgICAgIGNjVHlwZSA9IDMgJiB0bXBCeXRlO1xuXG4gICAgICBpZiAoY2NieXRlMSA9PT0gMCAmJiBjY2J5dGUyID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2NWYWxpZCkge1xuICAgICAgICBpZiAoY2NUeXBlID09PSAwKSAvLyB8fCBjY1R5cGUgPT09IDFcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhY3R1YWxDQ0J5dGVzLnB1c2goY2NieXRlMSk7XG4gICAgICAgICAgICBhY3R1YWxDQ0J5dGVzLnB1c2goY2NieXRlMik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0dWFsQ0NCeXRlcztcbiAgfTtcblxuICByZXR1cm4gVGltZWxpbmVDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZWxpbmVfY29udHJvbGxlciA9ICh0aW1lbGluZV9jb250cm9sbGVyX1RpbWVsaW5lQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanNcbnZhciBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogc3VidGl0bGUgdHJhY2sgY29udHJvbGxlclxuKi9cblxuXG5cblxuXG5mdW5jdGlvbiBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyh0ZXh0VHJhY2tMaXN0KSB7XG4gIHZhciB0cmFja3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRleHRUcmFja0xpc3RbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpIHtcbiAgICAgIHRyYWNrcy5wdXNoKHRleHRUcmFja0xpc3RbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJhY2tzO1xufVxuXG52YXIgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9TdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcihobHMpIHtcbiAgICBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19MT0FERUQpKTtcblxuICAgIF90aGlzLnRyYWNrcyA9IFtdO1xuICAgIF90aGlzLnRyYWNrSWQgPSAtMTtcbiAgICBfdGhpcy5tZWRpYSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX29uVGV4dFRyYWNrc0NoYW5nZWQgPSBmdW5jdGlvbiBfb25UZXh0VHJhY2tzQ2hhbmdlZCgpIHtcbiAgICAvLyBNZWRpYSBpcyB1bmRlZmluZWQgd2hlbiBzd2l0Y2hpbmcgc3RyZWFtcyB2aWEgbG9hZFNvdXJjZSgpXG4gICAgaWYgKCF0aGlzLm1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRyYWNrSWQgPSAtMTtcbiAgICB2YXIgdHJhY2tzID0gZmlsdGVyU3VidGl0bGVUcmFja3ModGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICBmb3IgKHZhciBpZCA9IDA7IGlkIDwgdHJhY2tzLmxlbmd0aDsgaWQrKykge1xuICAgICAgaWYgKHRyYWNrc1tpZF0ubW9kZSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICAgIHRyYWNrSWQgPSBpZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXR0aW5nIGN1cnJlbnQgc3VidGl0bGVUcmFjayB3aWxsIGludm9rZSBjb2RlLlxuICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRyYWNrSWQ7XG4gIH07XG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIHN1YnRpdGxlIHRyYWNrIGNoYW5nZSwgdGhlbiBleHRyYWN0IHRoZSBjdXJyZW50IHRyYWNrIElELlxuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrQ2hhbmdlTGlzdGVuZXIgPSB0aGlzLl9vblRleHRUcmFja3NDaGFuZ2VkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnVzZVRleHRUcmFja1BvbGxpbmcgPSAhKHRoaXMubWVkaWEudGV4dFRyYWNrcyAmJiAnb25jaGFuZ2UnIGluIHRoaXMubWVkaWEudGV4dFRyYWNrcyk7XG4gICAgaWYgKHRoaXMudXNlVGV4dFRyYWNrUG9sbGluZykge1xuICAgICAgdGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnRyYWNrQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWEudGV4dFRyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLnRyYWNrQ2hhbmdlTGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgaWYgKCF0aGlzLm1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnVzZVRleHRUcmFja1BvbGxpbmcpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWEudGV4dFRyYWNrcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLnRyYWNrQ2hhbmdlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHRoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLy8gUmVzZXQgc3VidGl0bGUgdHJhY2tzIG9uIG1hbmlmZXN0IGxvYWRpbmdcblxuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIHRoaXMudHJhY2tzID0gW107XG4gICAgdGhpcy50cmFja0lkID0gLTE7XG4gIH07XG5cbiAgLy8gRmlyZWQgd2hlbmV2ZXIgYSBuZXcgbWFuaWZlc3QgaXMgbG9hZGVkLlxuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciB0cmFja3MgPSBkYXRhLnN1YnRpdGxlcyB8fCBbXTtcbiAgICB2YXIgZGVmYXVsdEZvdW5kID0gZmFsc2U7XG4gICAgdGhpcy50cmFja3MgPSB0cmFja3M7XG4gICAgdGhpcy50cmFja0lkID0gLTE7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tTX1VQREFURUQsIHsgc3VidGl0bGVUcmFja3M6IHRyYWNrcyB9KTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCBhdmFpbGFibGUgc3VidGl0bGUgdHJhY2tzIGFuZCBhdXRvc2VsZWN0IGRlZmF1bHQgaWYgbmVlZGVkXG4gICAgLy8gVE9ETzogaW1wcm92ZSBzZWxlY3Rpb24gbG9naWMgdG8gaGFuZGxlIGZvcmNlZCwgZXRjXG4gICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICBpZiAodHJhY2suZGVmYXVsdCkge1xuICAgICAgICBfdGhpczMuc3VidGl0bGVUcmFjayA9IHRyYWNrLmlkO1xuICAgICAgICBkZWZhdWx0Rm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRyaWdnZXIgc3VidGl0bGUgdHJhY2sgcGxheWxpc3QgcmVsb2FkLlxuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uVGljayA9IGZ1bmN0aW9uIG9uVGljaygpIHtcbiAgICB2YXIgdHJhY2tJZCA9IHRoaXMudHJhY2tJZDtcbiAgICB2YXIgc3VidGl0bGVUcmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdO1xuICAgIGlmICghc3VidGl0bGVUcmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkZXRhaWxzID0gc3VidGl0bGVUcmFjay5kZXRhaWxzO1xuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBzdWJ0aXRsZSBUcmFja1xuICAgIGlmIChkZXRhaWxzID09PSB1bmRlZmluZWQgfHwgZGV0YWlscy5saXZlID09PSB0cnVlKSB7XG4gICAgICAvLyB0cmFjayBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJyhyZSlsb2FkaW5nIHBsYXlsaXN0IGZvciBzdWJ0aXRsZSB0cmFjayAnICsgdHJhY2tJZCk7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19MT0FESU5HLCB7IHVybDogc3VidGl0bGVUcmFjay51cmwsIGlkOiB0cmFja0lkIH0pO1xuICAgIH1cbiAgfTtcblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrTG9hZGVkID0gZnVuY3Rpb24gb25TdWJ0aXRsZVRyYWNrTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIGlmIChkYXRhLmlkIDwgdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N1YnRpdGxlIHRyYWNrICcgKyBkYXRhLmlkICsgJyBsb2FkZWQnKTtcbiAgICAgIHRoaXMudHJhY2tzW2RhdGEuaWRdLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAvLyBjaGVjayBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdFxuICAgICAgaWYgKGRhdGEuZGV0YWlscy5saXZlICYmICF0aGlzLnRpbWVyKSB7XG4gICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3Qgd2Ugd2lsbCBoYXZlIHRvIHJlbG9hZCBpdCBwZXJpb2RpY2FsbHlcbiAgICAgICAgLy8gc2V0IHJlbG9hZCBwZXJpb2QgdG8gcGxheWxpc3QgdGFyZ2V0IGR1cmF0aW9uXG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM0Lm9uVGljaygpO1xuICAgICAgICB9LCAxMDAwICogZGF0YS5kZXRhaWxzLnRhcmdldGR1cmF0aW9uLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGF0YS5kZXRhaWxzLmxpdmUgJiYgdGhpcy50aW1lcikge1xuICAgICAgICAvLyBwbGF5bGlzdCBpcyBub3QgbGl2ZSBhbmQgdGltZXIgaXMgYXJtZWQgOiBzdG9wcGluZyBpdFxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIGdldCBhbHRlcm5hdGUgc3VidGl0bGUgdHJhY2tzIGxpc3QgZnJvbSBwbGF5bGlzdCAqKi9cblxuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5zZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwgPSBmdW5jdGlvbiBzZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwobmV3SWQpIHtcbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3SWQgPj0gMCAmJiBuZXdJZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhY2tJZCA9IG5ld0lkO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gc3VidGl0bGUgdHJhY2sgJyArIG5ld0lkKTtcbiAgICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdGhpcy50cmFja3NbbmV3SWRdO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfU1dJVENILCB7IGlkOiBuZXdJZCB9KTtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBzdWJ0aXRsZSBUcmFja1xuICAgICAgdmFyIGRldGFpbHMgPSBzdWJ0aXRsZVRyYWNrLmRldGFpbHM7XG4gICAgICBpZiAoZGV0YWlscyA9PT0gdW5kZWZpbmVkIHx8IGRldGFpbHMubGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyB0cmFjayBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnKHJlKWxvYWRpbmcgcGxheWxpc3QgZm9yIHN1YnRpdGxlIHRyYWNrICcgKyBuZXdJZCk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IG5ld0lkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyhTdWJ0aXRsZVRyYWNrQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFja3M7XG4gICAgfVxuXG4gICAgLyoqIGdldCBpbmRleCBvZiB0aGUgc2VsZWN0ZWQgc3VidGl0bGUgdHJhY2sgKGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKSAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3VidGl0bGVUcmFjaycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFja0lkO1xuICAgIH1cblxuICAgIC8qKiBzZWxlY3QgYSBzdWJ0aXRsZSB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHN1YnRpdGxlVHJhY2tJZCkge1xuICAgICAgaWYgKHRoaXMudHJhY2tJZCAhPT0gc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICAgIC8vIHx8IHRoaXMudHJhY2tzW3N1YnRpdGxlVHJhY2tJZF0uZGV0YWlscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3VidGl0bGVUcmFja0ludGVybmFsKHN1YnRpdGxlVHJhY2tJZCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlciA9IChzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX1N1YnRpdGxlVHJhY2tDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIFN1YnRpdGxlIFN0cmVhbSBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cbnZhciBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIoaGxzKSB7XG4gICAgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEKSk7XG5cbiAgICBfdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgIF90aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWQgPSB7fTtcbiAgICBfdGhpcy52dHRGcmFnUXVldWVzID0gdW5kZWZpbmVkO1xuICAgIF90aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcgPSBudWxsO1xuICAgIF90aGlzLmN1cnJlbnRUcmFja0lkID0gLTE7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLy8gUmVtb3ZlIGFsbCBxdWV1ZWQgaXRlbXMgYW5kIGNyZWF0ZSBhIG5ldywgZW1wdHkgcXVldWUgZm9yIGVhY2ggdHJhY2suXG5cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyVnR0RnJhZ1F1ZXVlcyA9IGZ1bmN0aW9uIGNsZWFyVnR0RnJhZ1F1ZXVlcygpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMudnR0RnJhZ1F1ZXVlcyA9IHt9O1xuICAgIHRoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICBfdGhpczIudnR0RnJhZ1F1ZXVlc1t0cmFjay5pZF0gPSBbXTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBJZiBubyBmcmFnIGlzIGJlaW5nIHByb2Nlc3NlZCBhbmQgcXVldWUgaXNuJ3QgZW1wdHksIGluaXRpYXRlIHByb2Nlc3Npbmcgb2YgbmV4dCBmcmFnIGluIGxpbmUuXG5cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm5leHRGcmFnID0gZnVuY3Rpb24gbmV4dEZyYWcoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9PT0gbnVsbCAmJiB0aGlzLmN1cnJlbnRUcmFja0lkID4gLTEgJiYgdGhpcy52dHRGcmFnUXVldWVzW3RoaXMuY3VycmVudFRyYWNrSWRdLmxlbmd0aCkge1xuICAgICAgdmFyIGZyYWcgPSB0aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcgPSB0aGlzLnZ0dEZyYWdRdWV1ZXNbdGhpcy5jdXJyZW50VHJhY2tJZF0uc2hpZnQoKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRElORywgeyBmcmFnOiBmcmFnIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBXaGVuIGZyYWdtZW50IGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nLCBhZGQgc24gdG8gbGlzdCBvZiBjb21wbGV0ZWQgaWYgc3VjY2Vzc2Z1bC5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZUZyYWdQcm9jZXNzZWQgPSBmdW5jdGlvbiBvblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZChkYXRhKSB7XG4gICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgdGhpcy52dHRGcmFnU05zUHJvY2Vzc2VkW2RhdGEuZnJhZy50cmFja0lkXS5wdXNoKGRhdGEuZnJhZy5zbik7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IG51bGw7XG4gICAgdGhpcy5uZXh0RnJhZygpO1xuICB9O1xuXG4gIC8vIElmIHNvbWV0aGluZyBnb2VzIHdyb25nLCBwcm9jZWRlIHRvIG5leHQgZnJhZywgaWYgd2Ugd2VyZSBwcm9jZXNzaW5nIG9uZS5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnO1xuICAgIC8vIGRvbid0IGhhbmRsZSBmcmFnIGVycm9yIG5vdCByZWxhdGVkIHRvIHN1YnRpdGxlIGZyYWdtZW50XG4gICAgaWYgKGZyYWcgJiYgZnJhZy50eXBlICE9PSAnc3VidGl0bGUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcpIHtcbiAgICAgIHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IG51bGw7XG4gICAgICB0aGlzLm5leHRGcmFnKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEdvdCBhbGwgbmV3IHN1YnRpdGxlIHRyYWNrcy5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQgPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tzVXBkYXRlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N1YnRpdGxlIHRyYWNrcyB1cGRhdGVkJyk7XG4gICAgdGhpcy50cmFja3MgPSBkYXRhLnN1YnRpdGxlVHJhY2tzO1xuICAgIHRoaXMuY2xlYXJWdHRGcmFnUXVldWVzKCk7XG4gICAgdGhpcy52dHRGcmFnU05zUHJvY2Vzc2VkID0ge307XG4gICAgdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIF90aGlzMy52dHRGcmFnU05zUHJvY2Vzc2VkW3RyYWNrLmlkXSA9IFtdO1xuICAgIH0pO1xuICB9O1xuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrU3dpdGNoID0gZnVuY3Rpb24gb25TdWJ0aXRsZVRyYWNrU3dpdGNoKGRhdGEpIHtcbiAgICB0aGlzLmN1cnJlbnRUcmFja0lkID0gZGF0YS5pZDtcbiAgICB0aGlzLmNsZWFyVnR0RnJhZ1F1ZXVlcygpO1xuICB9O1xuXG4gIC8vIEdvdCBhIG5ldyBzZXQgb2Ygc3VidGl0bGUgZnJhZ21lbnRzLlxuXG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tMb2FkZWQoZGF0YSkge1xuICAgIHZhciBwcm9jZXNzZWRGcmFnU05zID0gdGhpcy52dHRGcmFnU05zUHJvY2Vzc2VkW2RhdGEuaWRdLFxuICAgICAgICBmcmFnUXVldWUgPSB0aGlzLnZ0dEZyYWdRdWV1ZXNbZGF0YS5pZF0sXG4gICAgICAgIGN1cnJlbnRGcmFnU04gPSAhIXRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA/IHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZy5zbiA6IC0xO1xuXG4gICAgdmFyIGFscmVhZHlQcm9jZXNzZWQgPSBmdW5jdGlvbiBhbHJlYWR5UHJvY2Vzc2VkKGZyYWcpIHtcbiAgICAgIHJldHVybiBwcm9jZXNzZWRGcmFnU05zLmluZGV4T2YoZnJhZy5zbikgPiAtMTtcbiAgICB9O1xuXG4gICAgdmFyIGFscmVhZHlJblF1ZXVlID0gZnVuY3Rpb24gYWxyZWFkeUluUXVldWUoZnJhZykge1xuICAgICAgcmV0dXJuIGZyYWdRdWV1ZS5zb21lKGZ1bmN0aW9uIChmcmFnSW5RdWV1ZSkge1xuICAgICAgICByZXR1cm4gZnJhZ0luUXVldWUuc24gPT09IGZyYWcuc247XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGFsbCBmcmFnbWVudHMgdGhhdCBoYXZlbid0IGJlZW4sIGFyZW4ndCBjdXJyZW50bHkgYmVpbmcgYW5kIGFyZW4ndCB3YWl0aW5nIHRvIGJlIHByb2Nlc3NlZCwgdG8gcXVldWUuXG4gICAgZGF0YS5kZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICBpZiAoIShhbHJlYWR5UHJvY2Vzc2VkKGZyYWcpIHx8IGZyYWcuc24gPT09IGN1cnJlbnRGcmFnU04gfHwgYWxyZWFkeUluUXVldWUoZnJhZykpKSB7XG4gICAgICAgIC8vIEZyYWdzIGRvbid0IGtub3cgdGhlaXIgc3VidGl0bGUgdHJhY2sgSUQsIHNvIGxldCdzIGp1c3QgYWRkIHRoYXQuLi5cbiAgICAgICAgZnJhZy50cmFja0lkID0gZGF0YS5pZDtcbiAgICAgICAgZnJhZ1F1ZXVlLnB1c2goZnJhZyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLm5leHRGcmFnKCk7XG4gIH07XG5cbiAgcmV0dXJuIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyID0gKHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX1N1YnRpdGxlU3RyZWFtQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb25maWcuanNcbi8qKlxuICogSExTIGNvbmZpZ1xuICovXG5cblxuXG5cblxuXG4vL2ltcG9ydCBGZXRjaExvYWRlciBmcm9tICcuL3V0aWxzL2ZldGNoLWxvYWRlcic7XG5cblxuXG5cblxuXG5cblxuXG52YXIgaGxzRGVmYXVsdENvbmZpZyA9IHtcbiAgYXV0b1N0YXJ0TG9hZDogdHJ1ZSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBzdGFydFBvc2l0aW9uOiAtMSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBkZWZhdWx0QXVkaW9Db2RlYzogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGRlYnVnOiBmYWxzZSwgLy8gdXNlZCBieSBsb2dnZXJcbiAgY2FwTGV2ZWxPbkZQU0Ryb3A6IGZhbHNlLCAvLyB1c2VkIGJ5IGZwcy1jb250cm9sbGVyXG4gIGNhcExldmVsVG9QbGF5ZXJTaXplOiBmYWxzZSwgLy8gdXNlZCBieSBjYXAtbGV2ZWwtY29udHJvbGxlclxuICBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZTogMSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhCdWZmZXJMZW5ndGg6IDMwLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heEJ1ZmZlclNpemU6IDYwICogMTAwMCAqIDEwMDAsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4QnVmZmVySG9sZTogMC41LCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heFNlZWtIb2xlOiAyLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGxvd0J1ZmZlcldhdGNoZG9nUGVyaW9kOiAwLjUsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kOiAzLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG51ZGdlT2Zmc2V0OiAwLjEsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbnVkZ2VNYXhSZXRyeTogMywgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhGcmFnTG9va1VwVG9sZXJhbmNlOiAwLjIsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbGl2ZVN5bmNEdXJhdGlvbkNvdW50OiAzLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudDogSW5maW5pdHksIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbGl2ZVN5bmNEdXJhdGlvbjogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGxpdmVNYXhMYXRlbmN5RHVyYXRpb246IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhNYXhCdWZmZXJMZW5ndGg6IDYwMCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBlbmFibGVXb3JrZXI6IHRydWUsIC8vIHVzZWQgYnkgZGVtdXhlclxuICBlbmFibGVTb2Z0d2FyZUFFUzogdHJ1ZSwgLy8gdXNlZCBieSBkZWNyeXB0ZXJcbiAgbWFuaWZlc3RMb2FkaW5nVGltZU91dDogMTAwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5OiAxLCAvLyB1c2VkIGJ5IHBsYXlsaXN0LWxvYWRlclxuICBtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5OiAxMDAwLCAvLyB1c2VkIGJ5IHBsYXlsaXN0LWxvYWRlclxuICBtYW5pZmVzdExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLCAvLyB1c2VkIGJ5IHBsYXlsaXN0LWxvYWRlclxuICBzdGFydExldmVsOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgbGV2ZWwtY29udHJvbGxlclxuICBsZXZlbExvYWRpbmdUaW1lT3V0OiAxMDAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbGV2ZWxMb2FkaW5nTWF4UmV0cnk6IDQsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIGxldmVsTG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIGxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dDogNjQwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIGZyYWdMb2FkaW5nVGltZU91dDogMjAwMDAsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIGZyYWdMb2FkaW5nTWF4UmV0cnk6IDYsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIGZyYWdMb2FkaW5nUmV0cnlEZWxheTogMTAwMCwgLy8gdXNlZCBieSBmcmFnbWVudC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLCAvLyB1c2VkIGJ5IGZyYWdtZW50LWxvYWRlclxuICBmcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ6IDMsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgc3RhcnRGcmFnUHJlZmV0Y2g6IGZhbHNlLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGZwc0Ryb3BwZWRNb25pdG9yaW5nUGVyaW9kOiA1MDAwLCAvLyB1c2VkIGJ5IGZwcy1jb250cm9sbGVyXG4gIGZwc0Ryb3BwZWRNb25pdG9yaW5nVGhyZXNob2xkOiAwLjIsIC8vIHVzZWQgYnkgZnBzLWNvbnRyb2xsZXJcbiAgYXBwZW5kRXJyb3JNYXhSZXRyeTogMywgLy8gdXNlZCBieSBidWZmZXItY29udHJvbGxlclxuICBsb2FkZXI6IHhocl9sb2FkZXIsXG4gIC8vbG9hZGVyOiBGZXRjaExvYWRlcixcbiAgZkxvYWRlcjogdW5kZWZpbmVkLFxuICBwTG9hZGVyOiB1bmRlZmluZWQsXG4gIHhoclNldHVwOiB1bmRlZmluZWQsXG4gIGZldGNoU2V0dXA6IHVuZGVmaW5lZCxcbiAgYWJyQ29udHJvbGxlcjogYWJyX2NvbnRyb2xsZXIsXG4gIGJ1ZmZlckNvbnRyb2xsZXI6IGJ1ZmZlcl9jb250cm9sbGVyLFxuICBjYXBMZXZlbENvbnRyb2xsZXI6IGNhcF9sZXZlbF9jb250cm9sbGVyLFxuICBmcHNDb250cm9sbGVyOiBmcHNfY29udHJvbGxlcixcbiAgc3RyZXRjaFNob3J0VmlkZW9UcmFjazogZmFsc2UsIC8vIHVzZWQgYnkgbXA0LXJlbXV4ZXJcbiAgbWF4QXVkaW9GcmFtZXNEcmlmdDogMSwgLy8gdXNlZCBieSBtcDQtcmVtdXhlclxuICBmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5OiB0cnVlLCAvLyB1c2VkIGJ5IHRzLWRlbXV4ZXJcbiAgYWJyRXdtYUZhc3RMaXZlOiAzLCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFTbG93TGl2ZTogOSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hRmFzdFZvRDogMywgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hU2xvd1ZvRDogOSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hRGVmYXVsdEVzdGltYXRlOiA1ZTUsIC8vIDUwMCBrYnBzICAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickJhbmRXaWR0aEZhY3RvcjogMC45NSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJCYW5kV2lkdGhVcEZhY3RvcjogMC43LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFick1heFdpdGhSZWFsQml0cmF0ZTogZmFsc2UsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgbWF4U3RhcnZhdGlvbkRlbGF5OiA0LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIG1heExvYWRpbmdEZWxheTogNCwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBtaW5BdXRvQml0cmF0ZTogMCAvLyB1c2VkIGJ5IGhsc1xufTtcblxuaWYgKHRydWUpIHtcbiAgaGxzRGVmYXVsdENvbmZpZy5zdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcjtcbiAgaGxzRGVmYXVsdENvbmZpZy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXI7XG4gIGhsc0RlZmF1bHRDb25maWcudGltZWxpbmVDb250cm9sbGVyID0gdGltZWxpbmVfY29udHJvbGxlcjtcbiAgaGxzRGVmYXVsdENvbmZpZy5jdWVIYW5kbGVyID0gY3Vlc19uYW1lc3BhY2VPYmplY3Q7XG4gIGhsc0RlZmF1bHRDb25maWcuZW5hYmxlQ0VBNzA4Q2FwdGlvbnMgPSB0cnVlOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5lbmFibGVXZWJWVFQgPSB0cnVlOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYWJlbCA9ICdFbmdsaXNoJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gIGhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlID0gJ2VuJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gIGhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2syTGFiZWwgPSAnU3BhbmlzaCc7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICBobHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZSA9ICdlcyc7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxufVxuXG5pZiAodHJ1ZSkge1xuICBobHNEZWZhdWx0Q29uZmlnLmF1ZGlvU3RyZWFtQ29udHJvbGxlciA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyO1xuICBobHNEZWZhdWx0Q29uZmlnLmF1ZGlvVHJhY2tDb250cm9sbGVyID0gYXVkaW9fdHJhY2tfY29udHJvbGxlcjtcbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2hscy5qc1xudmFyIGhsc19fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGhsc19fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhMUyBpbnRlcmZhY2VcbiAqL1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIGhsc19IbHMgPSBmdW5jdGlvbiAoKSB7XG4gIEhscy5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgIHZhciBtZWRpYVNvdXJjZSA9IHdpbmRvdy5NZWRpYVNvdXJjZSA9IHdpbmRvdy5NZWRpYVNvdXJjZSB8fCB3aW5kb3cuV2ViS2l0TWVkaWFTb3VyY2U7XG4gICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHdpbmRvdy5Tb3VyY2VCdWZmZXIgPSB3aW5kb3cuU291cmNlQnVmZmVyIHx8IHdpbmRvdy5XZWJLaXRTb3VyY2VCdWZmZXI7XG4gICAgdmFyIGlzVHlwZVN1cHBvcnRlZCA9IG1lZGlhU291cmNlICYmIHR5cGVvZiBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiYgbWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG5cbiAgICAvLyBpZiBTb3VyY2VCdWZmZXIgaXMgZXhwb3NlZCBlbnN1cmUgaXRzIEFQSSBpcyB2YWxpZFxuICAgIC8vIHNhZmFyaSBhbmQgb2xkIHZlcnNpb24gb2YgQ2hyb21lIGRvZSBub3QgZXhwb3NlIFNvdXJjZUJ1ZmZlciBnbG9iYWxseSBzbyBjaGVja2luZyBTb3VyY2VCdWZmZXIucHJvdG90eXBlIGlzIGltcG9zc2libGVcbiAgICB2YXIgc291cmNlQnVmZmVyVmFsaWRBUEkgPSAhc291cmNlQnVmZmVyIHx8IHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUgJiYgdHlwZW9mIHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VCdWZmZXIucHJvdG90eXBlLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICByZXR1cm4gaXNUeXBlU3VwcG9ydGVkICYmIHNvdXJjZUJ1ZmZlclZhbGlkQVBJO1xuICB9O1xuXG4gIGhsc19fY3JlYXRlQ2xhc3MoSGxzLCBudWxsLCBbe1xuICAgIGtleTogJ3ZlcnNpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiMC44LjRcIjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFdmVudHMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFcnJvclR5cGVzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL107XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnRXJyb3JEZXRhaWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdEZWZhdWx0Q29uZmlnJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghSGxzLmRlZmF1bHRDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIGhsc0RlZmF1bHRDb25maWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gSGxzLmRlZmF1bHRDb25maWc7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChkZWZhdWx0Q29uZmlnKSB7XG4gICAgICBIbHMuZGVmYXVsdENvbmZpZyA9IGRlZmF1bHRDb25maWc7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gSGxzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIGhsc19fY2xhc3NDYWxsQ2hlY2sodGhpcywgSGxzKTtcblxuICAgIHZhciBkZWZhdWx0Q29uZmlnID0gSGxzLkRlZmF1bHRDb25maWc7XG5cbiAgICBpZiAoKGNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQgfHwgY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCkgJiYgKGNvbmZpZy5saXZlU3luY0R1cmF0aW9uIHx8IGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGhscy5qcyBjb25maWc6IGRvblxcJ3QgbWl4IHVwIGxpdmVTeW5jRHVyYXRpb25Db3VudC9saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgYW5kIGxpdmVTeW5jRHVyYXRpb24vbGl2ZU1heExhdGVuY3lEdXJhdGlvbicpO1xuICAgIH1cblxuICAgIGZvciAodmFyIHByb3AgaW4gZGVmYXVsdENvbmZpZykge1xuICAgICAgaWYgKHByb3AgaW4gY29uZmlnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uZmlnW3Byb3BdID0gZGVmYXVsdENvbmZpZ1twcm9wXTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCAhPT0gdW5kZWZpbmVkICYmIGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgPD0gY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGhscy5qcyBjb25maWc6IFwibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50XCIgbXVzdCBiZSBndCBcImxpdmVTeW5jRHVyYXRpb25Db3VudFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uICE9PSB1bmRlZmluZWQgJiYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uIDw9IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uIHx8IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uID09PSB1bmRlZmluZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogXCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uXCIgbXVzdCBiZSBndCBcImxpdmVTeW5jRHVyYXRpb25cIicpO1xuICAgIH1cblxuICAgIE9iamVjdChsb2dnZXJbXCJhXCIgLyogZW5hYmxlTG9ncyAqL10pKGNvbmZpZy5kZWJ1Zyk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fYXV0b0xldmVsQ2FwcGluZyA9IC0xO1xuICAgIC8vIG9ic2VydmVyIHNldHVwXG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlciA9IG5ldyBldmVudHNfZGVmYXVsdC5hKCk7XG4gICAgb2JzZXJ2ZXIudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBkYXRhW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgb2JzZXJ2ZXIuZW1pdC5hcHBseShvYnNlcnZlciwgW2V2ZW50LCBldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuXG4gICAgb2JzZXJ2ZXIub2ZmID0gZnVuY3Rpb24gb2ZmKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGRhdGFbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIG9ic2VydmVyLnJlbW92ZUxpc3RlbmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcbiAgICB0aGlzLm9uID0gb2JzZXJ2ZXIub24uYmluZChvYnNlcnZlcik7XG4gICAgdGhpcy5vZmYgPSBvYnNlcnZlci5vZmYuYmluZChvYnNlcnZlcik7XG4gICAgdGhpcy50cmlnZ2VyID0gb2JzZXJ2ZXIudHJpZ2dlci5iaW5kKG9ic2VydmVyKTtcblxuICAgIC8vIGNvcmUgY29udHJvbGxlcnMgYW5kIG5ldHdvcmsgbG9hZGVyc1xuICAgIHZhciBhYnJDb250cm9sbGVyID0gdGhpcy5hYnJDb250cm9sbGVyID0gbmV3IGNvbmZpZy5hYnJDb250cm9sbGVyKHRoaXMpO1xuICAgIHZhciBidWZmZXJDb250cm9sbGVyID0gbmV3IGNvbmZpZy5idWZmZXJDb250cm9sbGVyKHRoaXMpO1xuICAgIHZhciBjYXBMZXZlbENvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmNhcExldmVsQ29udHJvbGxlcih0aGlzKTtcbiAgICB2YXIgZnBzQ29udHJvbGxlciA9IG5ldyBjb25maWcuZnBzQ29udHJvbGxlcih0aGlzKTtcbiAgICB2YXIgcGxheUxpc3RMb2FkZXIgPSBuZXcgcGxheWxpc3RfbG9hZGVyKHRoaXMpO1xuICAgIHZhciBmcmFnbWVudExvYWRlciA9IG5ldyBmcmFnbWVudF9sb2FkZXIodGhpcyk7XG4gICAgdmFyIGtleUxvYWRlciA9IG5ldyBrZXlfbG9hZGVyKHRoaXMpO1xuICAgIHZhciBpZDNUcmFja0NvbnRyb2xsZXIgPSBuZXcgaWQzX3RyYWNrX2NvbnRyb2xsZXIodGhpcyk7XG5cbiAgICAvLyBuZXR3b3JrIGNvbnRyb2xsZXJzXG4gICAgdmFyIGxldmVsQ29udHJvbGxlciA9IHRoaXMubGV2ZWxDb250cm9sbGVyID0gbmV3IGxldmVsX2NvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIHN0cmVhbUNvbnRyb2xsZXIgPSB0aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBuZXcgc3RyZWFtX2NvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIG5ldHdvcmtDb250cm9sbGVycyA9IFtsZXZlbENvbnRyb2xsZXIsIHN0cmVhbUNvbnRyb2xsZXJdO1xuXG4gICAgLy8gb3B0aW9uYWwgYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXJcbiAgICB2YXIgQ29udHJvbGxlciA9IGNvbmZpZy5hdWRpb1N0cmVhbUNvbnRyb2xsZXI7XG4gICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgIG5ldHdvcmtDb250cm9sbGVycy5wdXNoKG5ldyBDb250cm9sbGVyKHRoaXMpKTtcbiAgICB9XG4gICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMgPSBuZXR3b3JrQ29udHJvbGxlcnM7XG5cbiAgICB2YXIgY29yZUNvbXBvbmVudHMgPSBbcGxheUxpc3RMb2FkZXIsIGZyYWdtZW50TG9hZGVyLCBrZXlMb2FkZXIsIGFickNvbnRyb2xsZXIsIGJ1ZmZlckNvbnRyb2xsZXIsIGNhcExldmVsQ29udHJvbGxlciwgZnBzQ29udHJvbGxlciwgaWQzVHJhY2tDb250cm9sbGVyXTtcblxuICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHRyYWNrIGFuZCBzdWJ0aXRsZSBjb250cm9sbGVyXG4gICAgQ29udHJvbGxlciA9IGNvbmZpZy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIodGhpcyk7XG4gICAgICB0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyID0gYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKGF1ZGlvVHJhY2tDb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBDb250cm9sbGVyID0gY29uZmlnLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICB2YXIgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcbiAgICAgIHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIGNvcmVDb21wb25lbnRzLnB1c2goc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbmFsIHN1YnRpdGxlIGNvbnRyb2xsZXJcbiAgICBbY29uZmlnLnN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciwgY29uZmlnLnRpbWVsaW5lQ29udHJvbGxlcl0uZm9yRWFjaChmdW5jdGlvbiAoQ29udHJvbGxlcikge1xuICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgY29yZUNvbXBvbmVudHMucHVzaChuZXcgQ29udHJvbGxlcihfdGhpcykpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY29yZUNvbXBvbmVudHMgPSBjb3JlQ29tcG9uZW50cztcbiAgfVxuXG4gIEhscy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkZXN0cm95Jyk7XG4gICAgdGhpcy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5ERVNUUk9ZSU5HKTtcbiAgICB0aGlzLmRldGFjaE1lZGlhKCk7XG4gICAgdGhpcy5jb3JlQ29tcG9uZW50cy5jb25jYXQodGhpcy5uZXR3b3JrQ29udHJvbGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgY29tcG9uZW50LmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICB0aGlzLnVybCA9IG51bGw7XG4gICAgdGhpcy5vYnNlcnZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gLTE7XG4gIH07XG5cbiAgSGxzLnByb3RvdHlwZS5hdHRhY2hNZWRpYSA9IGZ1bmN0aW9uIGF0dGFjaE1lZGlhKG1lZGlhKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdHRhY2hNZWRpYScpO1xuICAgIHRoaXMubWVkaWEgPSBtZWRpYTtcbiAgICB0aGlzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSElORywgeyBtZWRpYTogbWVkaWEgfSk7XG4gIH07XG5cbiAgSGxzLnByb3RvdHlwZS5kZXRhY2hNZWRpYSA9IGZ1bmN0aW9uIGRldGFjaE1lZGlhKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZGV0YWNoTWVkaWEnKTtcbiAgICB0aGlzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORyk7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gIH07XG5cbiAgSGxzLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZSh1cmwpIHtcbiAgICB1cmwgPSB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZiwgdXJsLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xvYWRTb3VyY2U6JyArIHVybCk7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgLy8gd2hlbiBhdHRhY2hpbmcgdG8gYSBzb3VyY2UgVVJMLCB0cmlnZ2VyIGEgcGxheWxpc3QgbG9hZFxuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgeyB1cmw6IHVybCB9KTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZCgpIHtcbiAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogLTE7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N0YXJ0TG9hZCgnICsgc3RhcnRQb3NpdGlvbiArICcpJyk7XG4gICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5zdGFydExvYWQoc3RhcnRQb3NpdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgSGxzLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uIHN0b3BMb2FkKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3RvcExvYWQnKTtcbiAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLnN0b3BMb2FkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgSGxzLnByb3RvdHlwZS5zd2FwQXVkaW9Db2RlYyA9IGZ1bmN0aW9uIHN3YXBBdWRpb0NvZGVjKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3dhcEF1ZGlvQ29kZWMnKTtcbiAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuc3dhcEF1ZGlvQ29kZWMoKTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLnJlY292ZXJNZWRpYUVycm9yID0gZnVuY3Rpb24gcmVjb3Zlck1lZGlhRXJyb3IoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdyZWNvdmVyTWVkaWFFcnJvcicpO1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgIHRoaXMuYXR0YWNoTWVkaWEobWVkaWEpO1xuICB9O1xuXG4gIC8qKiBSZXR1cm4gYWxsIHF1YWxpdHkgbGV2ZWxzICoqL1xuXG5cbiAgaGxzX19jcmVhdGVDbGFzcyhIbHMsIFt7XG4gICAga2V5OiAnbGV2ZWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbHM7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBjdXJyZW50IHBsYXliYWNrIHF1YWxpdHkgbGV2ZWwgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ2N1cnJlbnRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmN1cnJlbnRMZXZlbDtcbiAgICB9XG5cbiAgICAvKiBzZXQgcXVhbGl0eSBsZXZlbCBpbW1lZGlhdGVseSAoLTEgZm9yIGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24pICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBjdXJyZW50TGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHRoaXMubG9hZExldmVsID0gbmV3TGV2ZWw7XG4gICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuaW1tZWRpYXRlTGV2ZWxTd2l0Y2goKTtcbiAgICB9XG5cbiAgICAvKiogUmV0dXJuIG5leHQgcGxheWJhY2sgcXVhbGl0eSBsZXZlbCAocXVhbGl0eSBsZXZlbCBvZiBuZXh0IGZyYWdtZW50KSAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnbmV4dExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsO1xuICAgIH1cblxuICAgIC8qIHNldCBxdWFsaXR5IGxldmVsIGZvciBuZXh0IGZyYWdtZW50ICgtMSBmb3IgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbikgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IG5leHRMZXZlbDonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICB9XG5cbiAgICAvKiogUmV0dXJuIHRoZSBxdWFsaXR5IGxldmVsIG9mIGN1cnJlbnQvbGFzdCBsb2FkZWQgZnJhZ21lbnQgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ2xvYWRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubGV2ZWw7XG4gICAgfVxuXG4gICAgLyogc2V0IHF1YWxpdHkgbGV2ZWwgZm9yIGN1cnJlbnQvbmV4dCBsb2FkZWQgZnJhZ21lbnQgKC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uKSAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgbG9hZExldmVsOicgKyBuZXdMZXZlbCk7XG4gICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gdGhlIHF1YWxpdHkgbGV2ZWwgb2YgbmV4dCBsb2FkZWQgZnJhZ21lbnQgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ25leHRMb2FkTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLm5leHRMb2FkTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIHNldCBxdWFsaXR5IGxldmVsIG9mIG5leHQgbG9hZGVkIGZyYWdtZW50ICoqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZXZlbCkge1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gZmlyc3QgbGV2ZWwgKGluZGV4IG9mIGZpcnN0IGxldmVsIHJlZmVyZW5jZWQgaW4gbWFuaWZlc3QpXG4gICAgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcnN0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwsIHRoaXMubWluQXV0b0xldmVsKTtcbiAgICB9XG5cbiAgICAvKiogc2V0IGZpcnN0IGxldmVsIChpbmRleCBvZiBmaXJzdCBsZXZlbCByZWZlcmVuY2VkIGluIG1hbmlmZXN0KVxuICAgICoqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgZmlyc3RMZXZlbDonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIuZmlyc3RMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gc3RhcnQgbGV2ZWwgKGxldmVsIG9mIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBwbGF5ZWQgYmFjaylcbiAgICAgICAgaWYgbm90IG92ZXJyaWRlZCBieSB1c2VyLCBmaXJzdCBsZXZlbCBhcHBlYXJpbmcgaW4gbWFuaWZlc3Qgd2lsbCBiZSB1c2VkIGFzIHN0YXJ0IGxldmVsXG4gICAgICAgIGlmIC0xIDogYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiwgcGxheWJhY2sgd2lsbCBzdGFydCBmcm9tIGxldmVsIG1hdGNoaW5nIGRvd25sb2FkIGJhbmR3aWR0aCAoZGV0ZXJtaW5lZCBmcm9tIGRvd25sb2FkIG9mIGZpcnN0IHNlZ21lbnQpXG4gICAgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ3N0YXJ0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIHNldCAgc3RhcnQgbGV2ZWwgKGxldmVsIG9mIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBwbGF5ZWQgYmFjaylcbiAgICAgICAgaWYgbm90IG92ZXJyaWRlZCBieSB1c2VyLCBmaXJzdCBsZXZlbCBhcHBlYXJpbmcgaW4gbWFuaWZlc3Qgd2lsbCBiZSB1c2VkIGFzIHN0YXJ0IGxldmVsXG4gICAgICAgIGlmIC0xIDogYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiwgcGxheWJhY2sgd2lsbCBzdGFydCBmcm9tIGxldmVsIG1hdGNoaW5nIGRvd25sb2FkIGJhbmR3aWR0aCAoZGV0ZXJtaW5lZCBmcm9tIGRvd25sb2FkIG9mIGZpcnN0IHNlZ21lbnQpXG4gICAgKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBzdGFydExldmVsOicgKyBuZXdMZXZlbCk7XG4gICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgIC8vIGlmIG5vdCBpbiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgZGV0ZWN0aW9uLCBlbnN1cmUgc3RhcnRMZXZlbCBpcyBncmVhdGVyIHRoYW4gbWluQXV0b0xldmVsXG4gICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgIG5ld0xldmVsID0gTWF0aC5tYXgobmV3TGV2ZWwsIGhscy5taW5BdXRvTGV2ZWwpO1xuICAgICAgfVxuICAgICAgaGxzLmxldmVsQ29udHJvbGxlci5zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiB0aGUgY2FwcGluZy9tYXggbGV2ZWwgdmFsdWUgdGhhdCBjb3VsZCBiZSB1c2VkIGJ5IGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24gYWxnb3JpdGhtICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdXRvTGV2ZWxDYXBwaW5nJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nO1xuICAgIH1cblxuICAgIC8qKiBzZXQgdGhlIGNhcHBpbmcvbWF4IGxldmVsIHZhbHVlIHRoYXQgY291bGQgYmUgdXNlZCBieSBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uIGFsZ29yaXRobSAqKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IGF1dG9MZXZlbENhcHBpbmc6JyArIG5ld0xldmVsKTtcbiAgICAgIHRoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSBuZXdMZXZlbDtcbiAgICB9XG5cbiAgICAvKiBjaGVjayBpZiB3ZSBhcmUgaW4gYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBtb2RlICovXG5cbiAgfSwge1xuICAgIGtleTogJ2F1dG9MZXZlbEVuYWJsZWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID09PSAtMTtcbiAgICB9XG5cbiAgICAvKiByZXR1cm4gbWFudWFsIGxldmVsICovXG5cbiAgfSwge1xuICAgIGtleTogJ21hbnVhbExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbDtcbiAgICB9XG5cbiAgICAvKiByZXR1cm4gbWluIGxldmVsIHNlbGVjdGFibGUgaW4gYXV0byBtb2RlIGFjY29yZGluZyB0byBjb25maWcubWluQXV0b0JpdHJhdGUgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbWluQXV0b0xldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBobHMgPSB0aGlzLFxuICAgICAgICAgIGxldmVscyA9IGhscy5sZXZlbHMsXG4gICAgICAgICAgbWluQXV0b0JpdHJhdGUgPSBobHMuY29uZmlnLm1pbkF1dG9CaXRyYXRlLFxuICAgICAgICAgIGxlbiA9IGxldmVscyA/IGxldmVscy5sZW5ndGggOiAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGU7XG4gICAgICAgIGlmIChsZXZlbE5leHRCaXRyYXRlID4gbWluQXV0b0JpdHJhdGUpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyogcmV0dXJuIG1heCBsZXZlbCBzZWxlY3RhYmxlIGluIGF1dG8gbW9kZSBhY2NvcmRpbmcgdG8gYXV0b0xldmVsQ2FwcGluZyAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtYXhBdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhscyA9IHRoaXM7XG4gICAgICB2YXIgbGV2ZWxzID0gaGxzLmxldmVscztcbiAgICAgIHZhciBhdXRvTGV2ZWxDYXBwaW5nID0gaGxzLmF1dG9MZXZlbENhcHBpbmc7XG4gICAgICB2YXIgbWF4QXV0b0xldmVsID0gdm9pZCAwO1xuICAgICAgaWYgKGF1dG9MZXZlbENhcHBpbmcgPT09IC0xICYmIGxldmVscyAmJiBsZXZlbHMubGVuZ3RoKSB7XG4gICAgICAgIG1heEF1dG9MZXZlbCA9IGxldmVscy5sZW5ndGggLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF4QXV0b0xldmVsID0gYXV0b0xldmVsQ2FwcGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXhBdXRvTGV2ZWw7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIG5leHQgYXV0byBsZXZlbFxuXG4gIH0sIHtcbiAgICBrZXk6ICduZXh0QXV0b0xldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgLy8gZW5zdXJlIG5leHQgYXV0byBsZXZlbCBpcyBiZXR3ZWVuICBtaW4gYW5kIG1heCBhdXRvIGxldmVsXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCksIGhscy5tYXhBdXRvTGV2ZWwpO1xuICAgIH1cblxuICAgIC8vIHRoaXMgc2V0dGVyIGlzIHVzZWQgdG8gZm9yY2UgbmV4dCBhdXRvIGxldmVsXG4gICAgLy8gdGhpcyBpcyB1c2VmdWwgdG8gZm9yY2UgYSBzd2l0Y2ggZG93biBpbiBhdXRvIG1vZGUgOiBpbiBjYXNlIG9mIGxvYWQgZXJyb3Igb24gbGV2ZWwgTiwgaGxzLmpzIGNhbiBzZXQgbmV4dEF1dG9MZXZlbCB0byBOLTEgZm9yIGV4YW1wbGUpXG4gICAgLy8gZm9yY2VkIHZhbHVlIGlzIHZhbGlkIGZvciBvbmUgZnJhZ21lbnQuIHVwb24gc3VjY2VzZnVsIGZyYWcgbG9hZGluZyBhdCBmb3JjZWQgbGV2ZWwsIHRoaXMgdmFsdWUgd2lsbCBiZSByZXNldHRlZCB0byAtMSBieSBBQlIgY29udHJvbGxlclxuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0TGV2ZWwpIHtcbiAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCA9IE1hdGgubWF4KGhscy5taW5BdXRvTGV2ZWwsIG5leHRMZXZlbCk7XG4gICAgfVxuXG4gICAgLyoqIGdldCBhbHRlcm5hdGUgYXVkaW8gdHJhY2tzIGxpc3QgZnJvbSBwbGF5bGlzdCAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXVkaW9UcmFja3MnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgIHJldHVybiBhdWRpb1RyYWNrQ29udHJvbGxlciA/IGF1ZGlvVHJhY2tDb250cm9sbGVyLmF1ZGlvVHJhY2tzIDogW107XG4gICAgfVxuXG4gICAgLyoqIGdldCBpbmRleCBvZiB0aGUgc2VsZWN0ZWQgYXVkaW8gdHJhY2sgKGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzKSAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXVkaW9UcmFjaycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSB0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgcmV0dXJuIGF1ZGlvVHJhY2tDb250cm9sbGVyID8gYXVkaW9UcmFja0NvbnRyb2xsZXIuYXVkaW9UcmFjayA6IC0xO1xuICAgIH1cblxuICAgIC8qKiBzZWxlY3QgYW4gYXVkaW8gdHJhY2ssIGJhc2VkIG9uIGl0cyBpbmRleCBpbiBhdWRpbyB0cmFjayBsaXN0cyoqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChhdWRpb1RyYWNrSWQpIHtcbiAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICBpZiAoYXVkaW9UcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgYXVkaW9UcmFja0NvbnRyb2xsZXIuYXVkaW9UcmFjayA9IGF1ZGlvVHJhY2tJZDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsaXZlU3luY1Bvc2l0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubGl2ZVN5bmNQb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvKiogZ2V0IGFsdGVybmF0ZSBzdWJ0aXRsZSB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0ICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgICAgcmV0dXJuIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID8gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIuc3VidGl0bGVUcmFja3MgOiBbXTtcbiAgICB9XG5cbiAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrIDogLTE7XG4gICAgfVxuXG4gICAgLyoqIHNlbGVjdCBhbiBzdWJ0aXRsZSB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHN1YnRpdGxlVHJhY2tJZCkge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIGlmIChzdWJ0aXRsZVRyYWNrQ29udHJvbGxlcikge1xuICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrID0gc3VidGl0bGVUcmFja0lkO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIbHM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNyY19obHMgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChobHNfSGxzKTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbmZ1bmN0aW9uIHdlYnBhY2tCb290c3RyYXBGdW5jIChtb2R1bGVzKSB7XG4vKioqKioqLyAgLy8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gIHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovICAvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gIGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gICAgLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyAgICBpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovICAgICAgcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovICAgIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyAgICB2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyAgICAgIGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gICAgICBsOiBmYWxzZSxcbi8qKioqKiovICAgICAgZXhwb3J0czoge31cbi8qKioqKiovICAgIH07XG5cbi8qKioqKiovICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gICAgbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovICAgIC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovICAgIG1vZHVsZS5sID0gdHJ1ZTtcblxuLyoqKioqKi8gICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovICB9XG5cbi8qKioqKiovICAvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovICAvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovICAvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4vKioqKioqLyAgLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyAgICBpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gICAgICAgIGdldDogZ2V0dGVyXG4vKioqKioqLyAgICAgIH0pO1xuLyoqKioqKi8gICAgfVxuLyoqKioqKi8gIH07XG5cbi8qKioqKiovICAvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gICAgdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyAgICAgIGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyAgICAgIGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyAgICByZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gIH07XG5cbi8qKioqKiovICAvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbi8qKioqKiovICAvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4vKioqKioqLyAgLy8gb24gZXJyb3IgZnVuY3Rpb24gZm9yIGFzeW5jIGxvYWRpbmdcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gIHZhciBmID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBFTlRSWV9NT0RVTEUpXG4gIHJldHVybiBmLmRlZmF1bHQgfHwgZiAvLyB0cnkgdG8gY2FsbCBkZWZhdWx0IGlmIGRlZmluZWQgdG8gYWxzbyBzdXBwb3J0IGJhYmVsIGVzbW9kdWxlIGV4cG9ydHNcbn1cblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjU5MzY2MS8xMzA0NDJcbmZ1bmN0aW9uIHF1b3RlUmVnRXhwIChzdHIpIHtcbiAgcmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvWy4/KiteJFtcXF1cXFxcKCl7fXwtXS9nLCAnXFxcXCQmJylcbn1cblxuZnVuY3Rpb24gZ2V0TW9kdWxlRGVwZW5kZW5jaWVzIChtb2R1bGUpIHtcbiAgdmFyIHJldHZhbCA9IFtdXG4gIHZhciBmblN0cmluZyA9IG1vZHVsZS50b1N0cmluZygpXG4gIHZhciB3cmFwcGVyU2lnbmF0dXJlID0gZm5TdHJpbmcubWF0Y2goL15mdW5jdGlvblxccz9cXChcXHcrLFxccypcXHcrLFxccyooXFx3KylcXCkvKVxuICBpZiAoIXdyYXBwZXJTaWduYXR1cmUpIHJldHVybiByZXR2YWxcblxuICB2YXIgd2VicGFja1JlcXVpcmVOYW1lID0gd3JhcHBlclNpZ25hdHVyZVsxXVxuICB2YXIgcmUgPSBuZXcgUmVnRXhwKCcoXFxcXFxcXFxufFxcXFxXKScgKyBxdW90ZVJlZ0V4cCh3ZWJwYWNrUmVxdWlyZU5hbWUpICsgJ1xcXFwoKFxcL1xcXFwqLio/XFxcXCpcXC8pP1xccz8uKj8oW1xcXFwufFxcXFwtfFxcXFx3fFxcL3xAXSspLio/XFxcXCknLCAnZycpIC8vIGFkZGl0aW9uYWwgY2hhcnMgd2hlbiBvdXRwdXQucGF0aGluZm8gaXMgdHJ1ZVxuICB2YXIgbWF0Y2hcbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZm5TdHJpbmcpKSkge1xuICAgIHJldHZhbC5wdXNoKG1hdGNoWzNdKVxuICB9XG4gIHJldHVybiByZXR2YWxcbn1cblxuZnVuY3Rpb24gZ2V0UmVxdWlyZWRNb2R1bGVzIChzb3VyY2VzLCBtb2R1bGVJZCkge1xuICB2YXIgbW9kdWxlc1F1ZXVlID0gW21vZHVsZUlkXVxuICB2YXIgcmVxdWlyZWRNb2R1bGVzID0gW11cbiAgdmFyIHNlZW5Nb2R1bGVzID0ge31cblxuICB3aGlsZSAobW9kdWxlc1F1ZXVlLmxlbmd0aCkge1xuICAgIHZhciBtb2R1bGVUb0NoZWNrID0gbW9kdWxlc1F1ZXVlLnBvcCgpXG4gICAgaWYgKHNlZW5Nb2R1bGVzW21vZHVsZVRvQ2hlY2tdIHx8ICFzb3VyY2VzW21vZHVsZVRvQ2hlY2tdKSBjb250aW51ZVxuICAgIHNlZW5Nb2R1bGVzW21vZHVsZVRvQ2hlY2tdID0gdHJ1ZVxuICAgIHJlcXVpcmVkTW9kdWxlcy5wdXNoKG1vZHVsZVRvQ2hlY2spXG4gICAgdmFyIG5ld01vZHVsZXMgPSBnZXRNb2R1bGVEZXBlbmRlbmNpZXMoc291cmNlc1ttb2R1bGVUb0NoZWNrXSlcbiAgICBtb2R1bGVzUXVldWUgPSBtb2R1bGVzUXVldWUuY29uY2F0KG5ld01vZHVsZXMpXG4gIH1cblxuICByZXR1cm4gcmVxdWlyZWRNb2R1bGVzXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBzb3VyY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5tXG5cbiAgdmFyIHJlcXVpcmVkTW9kdWxlcyA9IG9wdGlvbnMuYWxsID8gT2JqZWN0LmtleXMoc291cmNlcykgOiBnZXRSZXF1aXJlZE1vZHVsZXMoc291cmNlcywgbW9kdWxlSWQpXG4gIHZhciBzcmMgPSAnKCcgKyB3ZWJwYWNrQm9vdHN0cmFwRnVuYy50b1N0cmluZygpLnJlcGxhY2UoJ0VOVFJZX01PRFVMRScsIEpTT04uc3RyaW5naWZ5KG1vZHVsZUlkKSkgKyAnKSh7JyArIHJlcXVpcmVkTW9kdWxlcy5tYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiAnJyArIEpTT04uc3RyaW5naWZ5KGlkKSArICc6ICcgKyBzb3VyY2VzW2lkXS50b1N0cmluZygpIH0pLmpvaW4oJywnKSArICd9KShzZWxmKTsnXG5cbiAgdmFyIGJsb2IgPSBuZXcgd2luZG93LkJsb2IoW3NyY10sIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcgfSlcbiAgaWYgKG9wdGlvbnMuYmFyZSkgeyByZXR1cm4gYmxvYiB9XG5cbiAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCB8fCB3aW5kb3cubW96VVJMIHx8IHdpbmRvdy5tc1VSTFxuXG4gIHZhciB3b3JrZXJVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpXG4gIHZhciB3b3JrZXIgPSBuZXcgd2luZG93Lldvcmtlcih3b3JrZXJVcmwpXG4gIHdvcmtlci5vYmplY3RVUkwgPSB3b3JrZXJVcmxcblxuICByZXR1cm4gd29ya2VyXG59XG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZGVtdXhfZGVtdXhlcl9pbmxpbmVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19sb2dnZXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2V2ZW50c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX18pO1xuLyogZGVtdXhlciB3ZWIgd29ya2VyLlxuICogIC0gbGlzdGVuIHRvIHdvcmtlciBtZXNzYWdlLCBhbmQgdHJpZ2dlciBEZW11eGVySW5saW5lIHVwb24gcmVjZXB0aW9uIG9mIEZyYWdtZW50cy5cbiAqICAtIHByb3ZpZGVzIE1QNCBCb3hlcyBiYWNrIHRvIG1haW4gdGhyZWFkIHVzaW5nIFt0cmFuc2ZlcmFibGUgb2JqZWN0c10oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxMS8xMi9UcmFuc2ZlcmFibGUtT2JqZWN0cy1MaWdodG5pbmctRmFzdCkgaW4gb3JkZXIgdG8gbWluaW1pemUgbWVzc2FnZSBwYXNzaW5nIG92ZXJoZWFkLlxuICovXG5cblxuXG5cblxuXG52YXIgRGVtdXhlcldvcmtlciA9IGZ1bmN0aW9uIERlbXV4ZXJXb3JrZXIoc2VsZikge1xuICAvLyBvYnNlcnZlciBzZXR1cFxuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2V2ZW50c19fX2RlZmF1bHQuYSgpO1xuICBvYnNlcnZlci50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgZGF0YVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgb2JzZXJ2ZXIuZW1pdC5hcHBseShvYnNlcnZlciwgW2V2ZW50LCBldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgfTtcblxuICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBkYXRhW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIG9ic2VydmVyLnJlbW92ZUxpc3RlbmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gIH07XG5cbiAgdmFyIGZvcndhcmRNZXNzYWdlID0gZnVuY3Rpb24gZm9yd2FyZE1lc3NhZ2UoZXYsIGRhdGEpIHtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH0pO1xuICB9O1xuXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgIHZhciBkYXRhID0gZXYuZGF0YTtcbiAgICAvL2NvbnNvbGUubG9nKCdkZW11eGVyIGNtZDonICsgZGF0YS5jbWQpO1xuICAgIHN3aXRjaCAoZGF0YS5jbWQpIHtcbiAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICB2YXIgY29uZmlnID0gSlNPTi5wYXJzZShkYXRhLmNvbmZpZyk7XG4gICAgICAgIHNlbGYuZGVtdXhlciA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2RlbXV4X2RlbXV4ZXJfaW5saW5lX19bXCJhXCIgLyogZGVmYXVsdCAqL10ob2JzZXJ2ZXIsIGRhdGEudHlwZVN1cHBvcnRlZCwgY29uZmlnLCBkYXRhLnZlbmRvcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfbG9nZ2VyX19bXCJhXCIgLyogZW5hYmxlTG9ncyAqL10pKGNvbmZpZy5kZWJ1ZyA9PT0gdHJ1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignZGVtdXhlcldvcmtlcjogdW5hYmxlIHRvIGVuYWJsZSBsb2dzJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2lnbmFsIGVuZCBvZiB3b3JrZXIgaW5pdFxuICAgICAgICBmb3J3YXJkTWVzc2FnZSgnaW5pdCcsIG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlbXV4JzpcbiAgICAgICAgc2VsZi5kZW11eGVyLnB1c2goZGF0YS5kYXRhLCBkYXRhLmRlY3J5cHRkYXRhLCBkYXRhLmluaXRTZWdtZW50LCBkYXRhLmF1ZGlvQ29kZWMsIGRhdGEudmlkZW9Db2RlYywgZGF0YS50aW1lT2Zmc2V0LCBkYXRhLmRpc2NvbnRpbnVpdHksIGRhdGEudHJhY2tTd2l0Y2gsIGRhdGEuY29udGlndW91cywgZGF0YS5kdXJhdGlvbiwgZGF0YS5hY2N1cmF0ZVRpbWVPZmZzZXQsIGRhdGEuZGVmYXVsdEluaXRQVFMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0RFQ1JZUFRFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX01FVEFEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uSU5JVF9QVFNfRk9VTkQsIGZvcndhcmRNZXNzYWdlKTtcblxuICAvLyBzcGVjaWFsIGNhc2UgZm9yIEZSQUdfUEFSU0lOR19EQVRBOiBwYXNzIGRhdGExL2RhdGEyIGFzIHRyYW5zZmVyYWJsZSBvYmplY3QgKG5vIGNvcHkpXG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEEsIGZ1bmN0aW9uIChldiwgZGF0YSkge1xuICAgIHZhciB0cmFuc2ZlcmFibGUgPSBbXTtcbiAgICB2YXIgbWVzc2FnZSA9IHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH07XG4gICAgaWYgKGRhdGEuZGF0YTEpIHtcbiAgICAgIG1lc3NhZ2UuZGF0YTEgPSBkYXRhLmRhdGExLmJ1ZmZlcjtcbiAgICAgIHRyYW5zZmVyYWJsZS5wdXNoKGRhdGEuZGF0YTEuYnVmZmVyKTtcbiAgICAgIGRlbGV0ZSBkYXRhLmRhdGExO1xuICAgIH1cbiAgICBpZiAoZGF0YS5kYXRhMikge1xuICAgICAgbWVzc2FnZS5kYXRhMiA9IGRhdGEuZGF0YTIuYnVmZmVyO1xuICAgICAgdHJhbnNmZXJhYmxlLnB1c2goZGF0YS5kYXRhMi5idWZmZXIpO1xuICAgICAgZGVsZXRlIGRhdGEuZGF0YTI7XG4gICAgfVxuICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSwgdHJhbnNmZXJhYmxlKTtcbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKERlbXV4ZXJXb3JrZXIpO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSlbXCJkZWZhdWx0XCJdO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1obHMuanMubWFwXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuXG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YgJiYgZ2V0UHJvdG90eXBlT2YoT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICAgICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXldICYmICFLTk9XTl9TVEFUSUNTW2tleV0gJiYgKCFibGFja2xpc3QgfHwgIWJsYWNrbGlzdFtrZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcbiAgICAgICAgICAgICAgICB0cnkgeyAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblxuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKGZhbHNlKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jvb3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX3Jvb3QuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3Jvb3QuanNcIik7XG5cblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yb290X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uU3ltYm9sO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFN5bWJvbCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlR2V0VGFnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19TeW1ib2xfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX1N5bWJvbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0UmF3VGFnX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19nZXRSYXdUYWcuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFJhd1RhZy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29iamVjdFRvU3RyaW5nX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19vYmplY3RUb1N0cmluZy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanNcIik7XG5cblxuXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fU3ltYm9sX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10gPyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1N5bWJvbF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRSYXdUYWdfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpXG4gICAgOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19vYmplY3RUb1N0cmluZ19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSk7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoYmFzZUdldFRhZyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mcmVlR2xvYmFsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2ZyZWVHbG9iYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChmcmVlR2xvYmFsKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vLi4vd2VicGFjay9idWlsZGluL2dsb2JhbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanNcIikpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFByb3RvdHlwZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFByb3RvdHlwZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fb3ZlckFyZ19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fb3ZlckFyZy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlckFyZy5qc1wiKTtcblxuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vdmVyQXJnX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChnZXRQcm90b3R5cGUpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19TeW1ib2xfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX1N5bWJvbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzXCIpO1xuXG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fU3ltYm9sX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10gPyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1N5bWJvbF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGdldFJhd1RhZyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vYmplY3RUb1N0cmluZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAob2JqZWN0VG9TdHJpbmcpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlckFyZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vdmVyQXJnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAob3ZlckFyZyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19yb290LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3Jvb3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19mcmVlR2xvYmFsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL19mcmVlR2xvYmFsLmpzICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mcmVlR2xvYmFsLmpzXCIpO1xuXG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZnJlZUdsb2JhbF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAocm9vdCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc09iamVjdExpa2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoaXNPYmplY3RMaWtlKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNQbGFpbk9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNQbGFpbk9iamVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmFzZUdldFRhZ19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fYmFzZUdldFRhZy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZUdldFRhZy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2dldFByb3RvdHlwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9fZ2V0UHJvdG90eXBlLmpzICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRQcm90b3R5cGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc09iamVjdExpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaXNPYmplY3RMaWtlLmpzICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qc1wiKTtcblxuXG5cblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faXNPYmplY3RMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSB8fCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iYXNlR2V0VGFnX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0UHJvdG90eXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGlzUGxhaW5PYmplY3QpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvY29uZmlnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvY29uZmlnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIE1VSSBjb25maWcgbW9kdWxlXG4gKiBAbW9kdWxlIGNvbmZpZ1xuICovXG5cbi8qKiBEZWZpbmUgbW9kdWxlIEFQSSAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKiBVc2UgZGVidWcgbW9kZSAqL1xuICBkZWJ1ZzogdHJ1ZVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9mb3Jtcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9mb3Jtcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIE1VSSBDU1MvSlMgZm9ybSBoZWxwZXJzIG1vZHVsZVxuICogQG1vZHVsZSBsaWIvZm9ybXMucHlcbiAqL1xuXG5cblxudmFyIHdyYXBwZXJQYWRkaW5nID0gMTUsICAvLyBmcm9tIENTU1xuICAgIGlucHV0SGVpZ2h0ID0gMzIsICAvLyBmcm9tIENTU1xuICAgIHJvd0hlaWdodCA9IDQyLCAgLy8gZnJvbSBDU1NcbiAgICBtZW51UGFkZGluZyA9IDg7ICAvLyBmcm9tIENTU1xuXG5cbi8qKlxuICogTWVudSBwb3NpdGlvbi9zaXplL3Njcm9sbCBoZWxwZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCB3aXRoIGtleXMgJ2hlaWdodCcsICd0b3AnLCAnc2Nyb2xsVG9wJ1xuICovXG5mdW5jdGlvbiBnZXRNZW51UG9zaXRpb25hbENTU0ZuKHdyYXBwZXJFbCwgbnVtUm93cywgc2VsZWN0ZWRSb3cpIHtcbiAgdmFyIHZpZXdIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gIC8vIGRldGVybWluZSAnaGVpZ2h0J1xuICB2YXIgaCA9IG51bVJvd3MgKiByb3dIZWlnaHQgKyAyICogbWVudVBhZGRpbmcsXG4gICAgICBoZWlnaHQgPSBNYXRoLm1pbihoLCB2aWV3SGVpZ2h0KTtcblxuICAvLyBkZXRlcm1pbmUgJ3RvcCdcbiAgdmFyIHRvcCwgaW5pdFRvcCwgbWluVG9wLCBtYXhUb3A7XG5cbiAgaW5pdFRvcCA9IChtZW51UGFkZGluZyArIHJvd0hlaWdodCkgLSAod3JhcHBlclBhZGRpbmcgKyBpbnB1dEhlaWdodCk7XG4gIGluaXRUb3AgLT0gc2VsZWN0ZWRSb3cgKiByb3dIZWlnaHQ7XG5cbiAgbWluVG9wID0gLTEgKiB3cmFwcGVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICBtYXhUb3AgPSAodmlld0hlaWdodCAtIGhlaWdodCkgKyBtaW5Ub3A7XG5cbiAgdG9wID0gTWF0aC5taW4oTWF0aC5tYXgoaW5pdFRvcCwgbWluVG9wKSwgbWF4VG9wKTtcblxuICAvLyBkZXRlcm1pbmUgJ3Njcm9sbFRvcCdcbiAgdmFyIHNjcm9sbFRvcCA9IDAsXG4gICAgICBzY3JvbGxJZGVhbCxcbiAgICAgIHNjcm9sbE1heDtcblxuICBpZiAoaCA+IHZpZXdIZWlnaHQpIHtcbiAgICBzY3JvbGxJZGVhbCA9IChtZW51UGFkZGluZyArIChzZWxlY3RlZFJvdyArIDEpICogcm93SGVpZ2h0KSAtXG4gICAgICAoLTEgKiB0b3AgKyB3cmFwcGVyUGFkZGluZyArIGlucHV0SGVpZ2h0KTtcbiAgICBzY3JvbGxNYXggPSBudW1Sb3dzICogcm93SGVpZ2h0ICsgMiAqIG1lbnVQYWRkaW5nIC0gaGVpZ2h0O1xuICAgIHNjcm9sbFRvcCA9IE1hdGgubWluKHNjcm9sbElkZWFsLCBzY3JvbGxNYXgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAnaGVpZ2h0JzogaGVpZ2h0ICsgJ3B4JyxcbiAgICAndG9wJzogdG9wICsgJ3B4JyxcbiAgICAnc2Nyb2xsVG9wJzogc2Nyb2xsVG9wXG4gIH07XG59XG5cblxuLyoqIERlZmluZSBtb2R1bGUgQVBJICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0TWVudVBvc2l0aW9uYWxDU1M6IGdldE1lbnVQb3NpdGlvbmFsQ1NTRm5cbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9qcUxpdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogTVVJIENTUy9KUyBqcUxpdGUgbW9kdWxlXG4gKiBAbW9kdWxlIGxpYi9qcUxpdGVcbiAqL1xuXG5cblxuXG4vKipcbiAqIEFkZCBhIGNsYXNzIHRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzQ2xhc3NlcyAtIFNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIGNsYXNzIG5hbWVzLlxuICovXG5mdW5jdGlvbiBqcUxpdGVBZGRDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmICghY3NzQ2xhc3NlcyB8fCAhZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHJldHVybjtcblxuICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gX2dldEV4aXN0aW5nQ2xhc3NlcyhlbGVtZW50KSxcbiAgICAgIHNwbGl0Q2xhc3NlcyA9IGNzc0NsYXNzZXMuc3BsaXQoJyAnKSxcbiAgICAgIGNzc0NsYXNzO1xuXG4gIGZvciAodmFyIGk9MDsgaSA8IHNwbGl0Q2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgIGNzc0NsYXNzID0gc3BsaXRDbGFzc2VzW2ldLnRyaW0oKTtcbiAgICBpZiAoZXhpc3RpbmdDbGFzc2VzLmluZGV4T2YoJyAnICsgY3NzQ2xhc3MgKyAnICcpID09PSAtMSkge1xuICAgICAgZXhpc3RpbmdDbGFzc2VzICs9IGNzc0NsYXNzICsgJyAnO1xuICAgIH1cbiAgfVxuICBcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgZXhpc3RpbmdDbGFzc2VzLnRyaW0oKSk7XG59XG5cblxuLyoqXG4gKiBHZXQgb3Igc2V0IENTUyBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBwcm9wZXJ0eSBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV0gLSBUaGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZUNzcyhlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAvLyBSZXR1cm4gZnVsbCBzdHlsZSBvYmplY3RcbiAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB9XG5cbiAgdmFyIG5hbWVUeXBlID0ganFMaXRlVHlwZShuYW1lKTtcblxuICAvLyBTZXQgbXVsdGlwbGUgdmFsdWVzXG4gIGlmIChuYW1lVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkgZWxlbWVudC5zdHlsZVtfY2FtZWxDYXNlKGtleSldID0gbmFtZVtrZXldO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFNldCBhIHNpbmdsZSB2YWx1ZVxuICBpZiAobmFtZVR5cGUgPT09ICdzdHJpbmcnICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbGVtZW50LnN0eWxlW19jYW1lbENhc2UobmFtZSldID0gdmFsdWU7XG4gIH1cblxuICB2YXIgc3R5bGVPYmogPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgaXNBcnJheSA9IChqcUxpdGVUeXBlKG5hbWUpID09PSAnYXJyYXknKTtcblxuICAvLyBSZWFkIHNpbmdsZSB2YWx1ZVxuICBpZiAoIWlzQXJyYXkpIHJldHVybiBfZ2V0Q3VyckNzc1Byb3AoZWxlbWVudCwgbmFtZSwgc3R5bGVPYmopO1xuXG4gIC8vIFJlYWQgbXVsdGlwbGUgdmFsdWVzXG4gIHZhciBvdXRPYmogPSB7fSxcbiAgICAgIGtleTtcblxuICBmb3IgKHZhciBpPTA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gbmFtZVtpXTtcbiAgICBvdXRPYmpba2V5XSA9IF9nZXRDdXJyQ3NzUHJvcChlbGVtZW50LCBrZXksIHN0eWxlT2JqKTtcbiAgfVxuXG4gIHJldHVybiBvdXRPYmo7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBlbGVtZW50IGhhcyBjbGFzcy5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbHMgLSBUaGUgY2xhc3MgbmFtZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIGNscykge1xuICBpZiAoIWNscyB8fCAhZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIChfZ2V0RXhpc3RpbmdDbGFzc2VzKGVsZW1lbnQpLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA+IC0xKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0aGUgdHlwZSBvZiBhIHZhcmlhYmxlLlxuICogQHBhcmFtIHt9IHNvbWV2YXIgLSBUaGUgSmF2YVNjcmlwdCB2YXJpYWJsZS5cbiAqL1xuZnVuY3Rpb24ganFMaXRlVHlwZShzb21ldmFyKSB7XG4gIC8vIGhhbmRsZSB1bmRlZmluZWRcbiAgaWYgKHNvbWV2YXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuICd1bmRlZmluZWQnO1xuXG4gIC8vIGhhbmRsZSBvdGhlcnMgKG9mIHR5cGUgW29iamVjdCA8VHlwZT5dKVxuICB2YXIgdHlwZVN0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzb21ldmFyKTtcbiAgaWYgKHR5cGVTdHIuaW5kZXhPZignW29iamVjdCAnKSA9PT0gMCkge1xuICAgIHJldHVybiB0eXBlU3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1VSTogQ291bGQgbm90IHVuZGVyc3RhbmQgdHlwZTogXCIgKyB0eXBlU3RyKTtcbiAgfSAgICBcbn1cblxuXG4vKipcbiAqIEF0dGFjaCBhbiBldmVudCBoYW5kbGVyIHRvIGEgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudHMgLSBTcGFjZSBzZXBhcmF0ZWQgZXZlbnQgbmFtZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZSAtIFVzZSBjYXB0dXJlIGZsYWcuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgdXNlQ2FwdHVyZSA9ICh1c2VDYXB0dXJlID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiB1c2VDYXB0dXJlO1xuXG4gIHZhciBjYWNoZSA9IGVsZW1lbnQuX211aUV2ZW50Q2FjaGUgPSBlbGVtZW50Ll9tdWlFdmVudENhY2hlIHx8IHt9OyAgXG5cbiAgZXZlbnRzLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gYWRkIHRvIERPTVxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuXG4gICAgLy8gYWRkIHRvIGNhY2hlXG4gICAgY2FjaGVbZXZlbnRdID0gY2FjaGVbZXZlbnRdIHx8IFtdO1xuICAgIGNhY2hlW2V2ZW50XS5wdXNoKFtjYWxsYmFjaywgdXNlQ2FwdHVyZV0pO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBoYW5kbGVyIGZyb20gYSBET00gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50cyAtIFNwYWNlIHNlcGFyYXRlZCBldmVudCBuYW1lcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlIC0gVXNlIGNhcHR1cmUgZmxhZy5cbiAqL1xuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgdXNlQ2FwdHVyZSA9ICh1c2VDYXB0dXJlID09PSB1bmRlZmluZWQpID8gZmFsc2UgOiB1c2VDYXB0dXJlO1xuXG4gIC8vIHJlbW92ZSBmcm9tIGNhY2hlXG4gIHZhciBjYWNoZSA9IGVsZW1lbnQuX211aUV2ZW50Q2FjaGUgPSBlbGVtZW50Ll9tdWlFdmVudENhY2hlIHx8IHt9LFxuICAgICAgYXJnc0xpc3QsXG4gICAgICBhcmdzLFxuICAgICAgaTtcblxuICBldmVudHMuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBhcmdzTGlzdCA9IGNhY2hlW2V2ZW50XSB8fCBbXTtcblxuICAgIGkgPSBhcmdzTGlzdC5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYXJncyA9IGFyZ3NMaXN0W2ldO1xuXG4gICAgICAvLyByZW1vdmUgYWxsIGV2ZW50cyBpZiBjYWxsYmFjayBpcyB1bmRlZmluZWRcbiAgICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGFyZ3NbMF0gPT09IGNhbGxiYWNrICYmIGFyZ3NbMV0gPT09IHVzZUNhcHR1cmUpKSB7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gY2FjaGVcbiAgICAgICAgYXJnc0xpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICBcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gRE9NXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIEF0dGFjaCBhbiBldmVudCBoYW5kZXIgd2hpY2ggd2lsbCBvbmx5IGV4ZWN1dGUgb25jZSBwZXIgZWxlbWVudCBwZXIgZXZlbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudHMgLSBTcGFjZSBzZXBhcmF0ZWQgZXZlbnQgbmFtZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlQ2FwdHVyZSAtIFVzZSBjYXB0dXJlIGZsYWcuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZU9uZShlbGVtZW50LCBldmVudHMsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XG4gIGV2ZW50cy5zcGxpdCgnICcpLm1hcChmdW5jdGlvbihldmVudCkge1xuICAgIGpxTGl0ZU9uKGVsZW1lbnQsIGV2ZW50LCBmdW5jdGlvbiBvbkZuKGV2KSB7XG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAgIC8vIHJlbW92ZSB3cmFwcGVyXG4gICAgICBqcUxpdGVPZmYoZWxlbWVudCwgZXZlbnQsIG9uRm4sIHVzZUNhcHR1cmUpO1xuICAgIH0sIHVzZUNhcHR1cmUpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEdldCBvciBzZXQgaG9yaXpvbnRhbCBzY3JvbGwgcG9zaXRpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IFt2YWx1ZV0gLSBUaGUgc2Nyb2xsIHBvc2l0aW9uXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZVNjcm9sbExlZnQoZWxlbWVudCwgdmFsdWUpIHtcbiAgdmFyIHdpbiA9IHdpbmRvdztcblxuICAvLyBnZXRcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gd2luKSB7XG4gICAgICB2YXIgZG9jRWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICByZXR1cm4gKHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbC5zY3JvbGxMZWZ0KSAtIChkb2NFbC5jbGllbnRMZWZ0IHx8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldFxuICBpZiAoZWxlbWVudCA9PT0gd2luKSB3aW4uc2Nyb2xsVG8odmFsdWUsIGpxTGl0ZVNjcm9sbFRvcCh3aW4pKTtcbiAgZWxzZSBlbGVtZW50LnNjcm9sbExlZnQgPSB2YWx1ZTtcbn1cblxuXG4vKipcbiAqIEdldCBvciBzZXQgdmVydGljYWwgc2Nyb2xsIHBvc2l0aW9uXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBzY3JvbGwgcG9zaXRpb25cbiAqL1xuZnVuY3Rpb24ganFMaXRlU2Nyb2xsVG9wKGVsZW1lbnQsIHZhbHVlKSB7XG4gIHZhciB3aW4gPSB3aW5kb3c7XG5cbiAgLy8gZ2V0XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGVsZW1lbnQgPT09IHdpbikge1xuICAgICAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgcmV0dXJuICh3aW4ucGFnZVlPZmZzZXQgfHwgZG9jRWwuc2Nyb2xsVG9wKSAtIChkb2NFbC5jbGllbnRUb3AgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbFRvcDtcbiAgICB9XG4gIH1cblxuICAvLyBzZXRcbiAgaWYgKGVsZW1lbnQgPT09IHdpbikgd2luLnNjcm9sbFRvKGpxTGl0ZVNjcm9sbExlZnQod2luKSwgdmFsdWUpO1xuICBlbHNlIGVsZW1lbnQuc2Nyb2xsVG9wID0gdmFsdWU7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gb2JqZWN0IHJlcHJlc2VudGluZyB0b3AvbGVmdCBvZmZzZXQgYW5kIGVsZW1lbnQgaGVpZ2h0L3dpZHRoLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBqcUxpdGVPZmZzZXQoZWxlbWVudCkge1xuICB2YXIgd2luID0gd2luZG93LFxuICAgICAgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBzY3JvbGxUb3AgPSBqcUxpdGVTY3JvbGxUb3Aod2luKSxcbiAgICAgIHNjcm9sbExlZnQgPSBqcUxpdGVTY3JvbGxMZWZ0KHdpbik7XG5cbiAgcmV0dXJuIHtcbiAgICB0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLFxuICAgIGxlZnQ6IHJlY3QubGVmdCArIHNjcm9sbExlZnQsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICB3aWR0aDogcmVjdC53aWR0aFxuICB9O1xufVxuXG5cbi8qKlxuICogQXR0YWNoIGEgY2FsbGJhY2sgdG8gdGhlIERPTSByZWFkeSBldmVudCBsaXN0ZW5lclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZVJlYWR5KGZuKSB7XG4gIHZhciBkb25lID0gZmFsc2UsXG4gICAgICB0b3AgPSB0cnVlLFxuICAgICAgZG9jID0gZG9jdW1lbnQsXG4gICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcsXG4gICAgICByb290ID0gZG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgIGFkZCA9IGRvYy5hZGRFdmVudExpc3RlbmVyID8gJ2FkZEV2ZW50TGlzdGVuZXInIDogJ2F0dGFjaEV2ZW50JyxcbiAgICAgIHJlbSA9IGRvYy5hZGRFdmVudExpc3RlbmVyID8gJ3JlbW92ZUV2ZW50TGlzdGVuZXInIDogJ2RldGFjaEV2ZW50JyxcbiAgICAgIHByZSA9IGRvYy5hZGRFdmVudExpc3RlbmVyID8gJycgOiAnb24nO1xuXG4gIHZhciBpbml0ID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnR5cGUgPT0gJ3JlYWR5c3RhdGVjaGFuZ2UnICYmIGRvYy5yZWFkeVN0YXRlICE9ICdjb21wbGV0ZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAoZS50eXBlID09ICdsb2FkJyA/IHdpbiA6IGRvYylbcmVtXShwcmUgKyBlLnR5cGUsIGluaXQsIGZhbHNlKTtcbiAgICBpZiAoIWRvbmUgJiYgKGRvbmUgPSB0cnVlKSkgZm4uY2FsbCh3aW4sIGUudHlwZSB8fCBlKTtcbiAgfTtcblxuICB2YXIgcG9sbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7IHJvb3QuZG9TY3JvbGwoJ2xlZnQnKTsgfSBjYXRjaChlKSB7IHNldFRpbWVvdXQocG9sbCwgNTApOyByZXR1cm47IH1cbiAgICBpbml0KCdwb2xsJyk7XG4gIH07XG5cbiAgaWYgKGRvYy5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHtcbiAgICBmbi5jYWxsKHdpbiwgJ2xhenknKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jLmNyZWF0ZUV2ZW50T2JqZWN0ICYmIHJvb3QuZG9TY3JvbGwpIHtcbiAgICAgIHRyeSB7IHRvcCA9ICF3aW4uZnJhbWVFbGVtZW50OyB9IGNhdGNoKGUpIHsgfVxuICAgICAgaWYgKHRvcCkgcG9sbCgpO1xuICAgIH1cbiAgICBkb2NbYWRkXShwcmUgKyAnRE9NQ29udGVudExvYWRlZCcsIGluaXQsIGZhbHNlKTtcbiAgICBkb2NbYWRkXShwcmUgKyAncmVhZHlzdGF0ZWNoYW5nZScsIGluaXQsIGZhbHNlKTtcbiAgICB3aW5bYWRkXShwcmUgKyAnbG9hZCcsIGluaXQsIGZhbHNlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogUmVtb3ZlIGNsYXNzZXMgZnJvbSBhIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzQ2xhc3NlcyAtIFNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIGNsYXNzIG5hbWVzLlxuICovXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmICghY3NzQ2xhc3NlcyB8fCAhZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHJldHVybjtcblxuICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gX2dldEV4aXN0aW5nQ2xhc3NlcyhlbGVtZW50KSxcbiAgICAgIHNwbGl0Q2xhc3NlcyA9IGNzc0NsYXNzZXMuc3BsaXQoJyAnKSxcbiAgICAgIGNzc0NsYXNzO1xuICBcbiAgZm9yICh2YXIgaT0wOyBpIDwgc3BsaXRDbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY3NzQ2xhc3MgPSBzcGxpdENsYXNzZXNbaV0udHJpbSgpO1xuICAgIHdoaWxlIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPj0gMCkge1xuICAgICAgZXhpc3RpbmdDbGFzc2VzID0gZXhpc3RpbmdDbGFzc2VzLnJlcGxhY2UoJyAnICsgY3NzQ2xhc3MgKyAnICcsICcgJyk7XG4gICAgfVxuICB9XG5cbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgZXhpc3RpbmdDbGFzc2VzLnRyaW0oKSk7XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVdGlsaXRpZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxudmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gLyhbXFw6XFwtXFxfXSsoLikpL2csXG4gICAgTU9aX0hBQ0tfUkVHRVhQID0gL15tb3ooW0EtWl0pLyxcbiAgICBFU0NBUEVfUkVHRVhQID0gLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZztcblxuXG5mdW5jdGlvbiBfZ2V0RXhpc3RpbmdDbGFzc2VzKGVsZW1lbnQpIHtcbiAgdmFyIGNsYXNzZXMgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpLnJlcGxhY2UoL1tcXG5cXHRdL2csICcnKTtcbiAgcmV0dXJuICcgJyArIGNsYXNzZXMgKyAnICc7XG59XG5cblxuZnVuY3Rpb24gX2NhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLlxuICAgIHJlcGxhY2UoU1BFQ0lBTF9DSEFSU19SRUdFWFAsIGZ1bmN0aW9uKF8sIHNlcGFyYXRvciwgbGV0dGVyLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICB9KS5cbiAgICByZXBsYWNlKE1PWl9IQUNLX1JFR0VYUCwgJ01veiQxJyk7XG59XG5cblxuZnVuY3Rpb24gX2VzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKEVTQ0FQRV9SRUdFWFAsIFwiXFxcXCQxXCIpO1xufVxuXG5cbmZ1bmN0aW9uIF9nZXRDdXJyQ3NzUHJvcChlbGVtLCBuYW1lLCBjb21wdXRlZCkge1xuICB2YXIgcmV0O1xuXG4gIC8vIHRyeSBjb21wdXRlZCBzdHlsZVxuICByZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xuXG4gIC8vIHRyeSBzdHlsZSBhdHRyaWJ1dGUgKGlmIGVsZW1lbnQgaXMgbm90IGF0dGFjaGVkIHRvIGRvY3VtZW50KVxuICBpZiAocmV0ID09PSAnJyAmJiAhZWxlbS5vd25lckRvY3VtZW50KSByZXQgPSBlbGVtLnN0eWxlW19jYW1lbENhc2UobmFtZSldO1xuXG4gIHJldHVybiByZXQ7XG59XG5cblxuLyoqXG4gKiBNb2R1bGUgQVBJXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvKiogQWRkIGNsYXNzZXMgKi9cbiAgYWRkQ2xhc3M6IGpxTGl0ZUFkZENsYXNzLFxuXG4gIC8qKiBHZXQgb3Igc2V0IENTUyBwcm9wZXJ0aWVzICovXG4gIGNzczoganFMaXRlQ3NzLFxuXG4gIC8qKiBDaGVjayBmb3IgY2xhc3MgKi9cbiAgaGFzQ2xhc3M6IGpxTGl0ZUhhc0NsYXNzLFxuXG4gIC8qKiBSZW1vdmUgZXZlbnQgaGFuZGxlcnMgKi9cbiAgb2ZmOiBqcUxpdGVPZmYsXG5cbiAgLyoqIFJldHVybiBvZmZzZXQgdmFsdWVzICovXG4gIG9mZnNldDoganFMaXRlT2Zmc2V0LFxuXG4gIC8qKiBBZGQgZXZlbnQgaGFuZGxlcnMgKi9cbiAgb246IGpxTGl0ZU9uLFxuXG4gIC8qKiBBZGQgYW4gZXhlY3V0ZS1vbmNlIGV2ZW50IGhhbmRsZXIgKi9cbiAgb25lOiBqcUxpdGVPbmUsXG5cbiAgLyoqIERPTSByZWFkeSBldmVudCBoYW5kbGVyICovXG4gIHJlYWR5OiBqcUxpdGVSZWFkeSxcblxuICAvKiogUmVtb3ZlIGNsYXNzZXMgKi9cbiAgcmVtb3ZlQ2xhc3M6IGpxTGl0ZVJlbW92ZUNsYXNzLFxuXG4gIC8qKiBDaGVjayBKYXZhU2NyaXB0IHZhcmlhYmxlIGluc3RhbmNlIHR5cGUgKi9cbiAgdHlwZToganFMaXRlVHlwZSxcblxuICAvKiogR2V0IG9yIHNldCBob3Jpem9udGFsIHNjcm9sbCBwb3NpdGlvbiAqL1xuICBzY3JvbGxMZWZ0OiBqcUxpdGVTY3JvbGxMZWZ0LFxuXG4gIC8qKiBHZXQgb3Igc2V0IHZlcnRpY2FsIHNjcm9sbCBwb3NpdGlvbiAqL1xuICBzY3JvbGxUb3A6IGpxTGl0ZVNjcm9sbFRvcFxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi91dGlsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvdXRpbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogTVVJIENTUy9KUyB1dGlsaXRpZXMgbW9kdWxlXG4gKiBAbW9kdWxlIGxpYi91dGlsXG4gKi9cblxuXG5cblxudmFyIGNvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbmZpZyAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvY29uZmlnLmpzXCIpLFxuICAgIGpxTGl0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vanFMaXRlICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzXCIpLFxuICAgIHNjcm9sbExvY2sgPSAwLFxuICAgIHNjcm9sbExvY2tDbHMgPSAnbXVpLXNjcm9sbC1sb2NrJyxcbiAgICBzY3JvbGxMb2NrUG9zLFxuICAgIHNjcm9sbFN0eWxlRWwsXG4gICAgc2Nyb2xsRXZlbnRIYW5kbGVyLFxuICAgIF9zY3JvbGxCYXJXaWR0aCxcbiAgICBfc3VwcG9ydHNQb2ludGVyRXZlbnRzO1xuXG5cbnNjcm9sbEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gIC8vIHN0b3AgcHJvcGFnYXRpb24gb24gd2luZG93IHNjcm9sbCBldmVudHNcbiAgaWYgKCFldi50YXJnZXQudGFnTmFtZSkgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG59XG5cblxuLyoqXG4gKiBMb2dnaW5nIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGxvZ0ZuKCkge1xuICB2YXIgd2luID0gd2luZG93O1xuICBcbiAgaWYgKGNvbmZpZy5kZWJ1ZyAmJiB0eXBlb2Ygd2luLmNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0cnkge1xuICAgICAgd2luLmNvbnNvbGUubG9nLmFwcGx5KHdpbi5jb25zb2xlLCBhcmd1bWVudHMpO1xuICAgIH0gY2F0Y2ggKGEpIHtcbiAgICAgIHZhciBlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHdpbi5jb25zb2xlLmxvZyhlLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qKlxuICogTG9hZCBDU1MgdGV4dCBpbiBuZXcgc3R5bGVzaGVldFxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgLSBUaGUgY3NzIHRleHQuXG4gKi9cbmZ1bmN0aW9uIGxvYWRTdHlsZUZuKGNzc1RleHQpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgaGVhZDtcbiAgXG4gIC8vIGNvcGllZCBmcm9tIGpRdWVyeSBcbiAgaGVhZCA9IGRvYy5oZWFkIHx8XG4gICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHxcbiAgICBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICBcbiAgdmFyIGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZS50eXBlID0gJ3RleHQvY3NzJztcbiAgXG4gIGlmIChlLnN0eWxlU2hlZXQpIGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgZWxzZSBlLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShjc3NUZXh0KSk7XG4gIFxuICAvLyBhZGQgdG8gZG9jdW1lbnRcbiAgaGVhZC5pbnNlcnRCZWZvcmUoZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgXG4gIHJldHVybiBlO1xufVxuXG5cbi8qKlxuICogUmFpc2UgYW4gZXJyb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBtc2cgLSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gcmFpc2VFcnJvckZuKG1zZywgdXNlQ29uc29sZSkge1xuICBpZiAodXNlQ29uc29sZSkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIGNvbnNvbGUud2FybignTVVJIFdhcm5pbmc6ICcgKyBtc2cpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignTVVJOiAnICsgbXNnKTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ29udmVydCBDbGFzc25hbWUgb2JqZWN0LCB3aXRoIGNsYXNzIGFzIGtleSBhbmQgdHJ1ZS9mYWxzZSBhcyB2YWx1ZSwgdG8gYW5cbiAqIGNsYXNzIHN0cmluZy5cbiAqIEBwYXJhbSAge09iamVjdH0gY2xhc3NlcyBUaGUgY2xhc3Nlc1xuICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgIGNsYXNzIHN0cmluZ1xuICovXG5mdW5jdGlvbiBjbGFzc05hbWVzRm4oY2xhc3Nlcykge1xuICB2YXIgY3MgPSAnJztcbiAgZm9yICh2YXIgaSBpbiBjbGFzc2VzKSB7XG4gICAgY3MgKz0gKGNsYXNzZXNbaV0pID8gaSArICcgJyA6ICcnO1xuICB9XG4gIHJldHVybiBjcy50cmltKCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBjbGllbnQgc3VwcG9ydHMgcG9pbnRlciBldmVudHMuXG4gKi9cbmZ1bmN0aW9uIHN1cHBvcnRzUG9pbnRlckV2ZW50c0ZuKCkge1xuICAvLyBjaGVjayBjYWNoZVxuICBpZiAoX3N1cHBvcnRzUG9pbnRlckV2ZW50cyAhPT0gdW5kZWZpbmVkKSByZXR1cm4gX3N1cHBvcnRzUG9pbnRlckV2ZW50cztcbiAgXG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpO1xuICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XG4gIF9zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAoZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID09PSAnYXV0bycpO1xuICByZXR1cm4gX3N1cHBvcnRzUG9pbnRlckV2ZW50cztcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBjYWxsYmFjayBjbG9zdXJlLlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIG9iamVjdCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBmdW5jTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY2FsbGJhY2tGbihpbnN0YW5jZSwgZnVuY05hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge2luc3RhbmNlW2Z1bmNOYW1lXS5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzKTt9O1xufVxuXG5cbi8qKlxuICogRGlzcGF0Y2ggZXZlbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIC0gVGhlIGV2ZW50IHR5cGUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGJ1YmJsZXM9dHJ1ZSAtIElmIHRydWUsIGV2ZW50IGJ1YmJsZXMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhbmNlbGFibGU9dHJ1ZSA9IElmIHRydWUsIGV2ZW50IGlzIGNhbmNlbGFibGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gLSBEYXRhIHRvIGFkZCB0byBldmVudCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudEZuKGVsZW1lbnQsIGV2ZW50VHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSwgZGF0YSkge1xuICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpLFxuICAgICAgYnViYmxlcyA9IChidWJibGVzICE9PSB1bmRlZmluZWQpID8gYnViYmxlcyA6IHRydWUsXG4gICAgICAgY2FuY2VsYWJsZSA9IChjYW5jZWxhYmxlICE9PSB1bmRlZmluZWQpID8gY2FuY2VsYWJsZSA6IHRydWUsXG4gICAgICAgaztcblxuICBldi5pbml0RXZlbnQoZXZlbnRUeXBlLCBidWJibGVzLCBjYW5jZWxhYmxlKTtcbiAgXG4gIC8vIGFkZCBkYXRhIHRvIGV2ZW50IG9iamVjdFxuICBpZiAoZGF0YSkgZm9yIChrIGluIGRhdGEpIGV2W2tdID0gZGF0YVtrXTtcbiAgXG4gIC8vIGRpc3BhdGNoXG4gIGlmIChlbGVtZW50KSBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXYpO1xuICBcbiAgcmV0dXJuIGV2O1xufVxuXG5cbi8qKlxuICogVHVybiBvbiB3aW5kb3cgc2Nyb2xsIGxvY2suXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVNjcm9sbExvY2tGbigpIHtcbiAgLy8gaW5jcmVtZW50IGNvdW50ZXJcbiAgc2Nyb2xsTG9jayArPSAxO1xuICBcbiAgLy8gYWRkIGxvY2tcbiAgaWYgKHNjcm9sbExvY2sgPT09IDEpIHtcbiAgICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICAgIHdpbiA9IHdpbmRvdyxcbiAgICAgICAgaHRtbEVsID0gZG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgYm9keUVsID0gZG9jLmJvZHksXG4gICAgICAgIHNjcm9sbEJhcldpZHRoID0gZ2V0U2Nyb2xsQmFyV2lkdGgoKSxcbiAgICAgICAgY3NzUHJvcHMsXG4gICAgICAgIGNzc1N0cixcbiAgICAgICAgeDtcblxuICAgIC8vIGRlZmluZSBzY3JvbGwgbG9jayBjbGFzcyBkeW5hbWljYWxseVxuICAgIGNzc1Byb3BzID0gWydvdmVyZmxvdzpoaWRkZW4nXTtcblxuICAgIGlmIChzY3JvbGxCYXJXaWR0aCkge1xuICAgICAgLy8gc2Nyb2xsYmFyLXlcbiAgICAgIGlmIChodG1sRWwuc2Nyb2xsSGVpZ2h0ID4gaHRtbEVsLmNsaWVudEhlaWdodCkge1xuICAgICAgICB4ID0gcGFyc2VJbnQoanFMaXRlLmNzcyhib2R5RWwsICdwYWRkaW5nLXJpZ2h0JykpICsgc2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgIGNzc1Byb3BzLnB1c2goJ3BhZGRpbmctcmlnaHQ6JyArIHggKyAncHgnKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIC8vIHNjcm9sbGJhci14XG4gICAgICBpZiAoaHRtbEVsLnNjcm9sbFdpZHRoID4gaHRtbEVsLmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHggPSBwYXJzZUludChqcUxpdGUuY3NzKGJvZHlFbCwgJ3BhZGRpbmctYm90dG9tJykpICsgc2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgIGNzc1Byb3BzLnB1c2goJ3BhZGRpbmctYm90dG9tOicgKyB4ICsgJ3B4Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGVmaW5lIGNzcyBjbGFzcyBkeW5hbWljYWxseVxuICAgIGNzc1N0ciA9ICcuJyArIHNjcm9sbExvY2tDbHMgKyAneyc7XG4gICAgY3NzU3RyICs9IGNzc1Byb3BzLmpvaW4oJyAhaW1wb3J0YW50OycpICsgJyAhaW1wb3J0YW50O30nO1xuICAgIHNjcm9sbFN0eWxlRWwgPSBsb2FkU3R5bGVGbihjc3NTdHIpO1xuXG4gICAgLy8gY2FuY2VsICdzY3JvbGwnIGV2ZW50IGxpc3RlbmVyIGNhbGxiYWNrc1xuICAgIGpxTGl0ZS5vbih3aW4sICdzY3JvbGwnLCBzY3JvbGxFdmVudEhhbmRsZXIsIHRydWUpO1xuXG4gICAgLy8gYWRkIHNjcm9sbCBsb2NrXG4gICAgc2Nyb2xsTG9ja1BvcyA9IHtsZWZ0OiBqcUxpdGUuc2Nyb2xsTGVmdCh3aW4pLCB0b3A6IGpxTGl0ZS5zY3JvbGxUb3Aod2luKX07XG4gICAganFMaXRlLmFkZENsYXNzKGJvZHlFbCwgc2Nyb2xsTG9ja0Nscyk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFR1cm4gb2ZmIHdpbmRvdyBzY3JvbGwgbG9jay5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzZXRQb3MgLSBSZXNldCBzY3JvbGwgcG9zaXRpb24gdG8gb3JpZ2luYWwgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVTY3JvbGxMb2NrRm4ocmVzZXRQb3MpIHtcbiAgLy8gaWdub3JlXG4gIGlmIChzY3JvbGxMb2NrID09PSAwKSByZXR1cm47XG5cbiAgLy8gZGVjcmVtZW50IGNvdW50ZXJcbiAgc2Nyb2xsTG9jayAtPSAxO1xuXG4gIC8vIHJlbW92ZSBsb2NrIFxuICBpZiAoc2Nyb2xsTG9jayA9PT0gMCkge1xuICAgIC8vIHJlbW92ZSBzY3JvbGwgbG9jayBhbmQgZGVsZXRlIHN0eWxlIGVsZW1lbnRcbiAgICBqcUxpdGUucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgc2Nyb2xsTG9ja0Nscyk7XG4gICAgc2Nyb2xsU3R5bGVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcm9sbFN0eWxlRWwpO1xuXG4gICAgLy8gcmVzdG9yZSBzY3JvbGwgcG9zaXRpb25cbiAgICBpZiAocmVzZXRQb3MpIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxMb2NrUG9zLmxlZnQsIHNjcm9sbExvY2tQb3MudG9wKTtcblxuICAgIC8vIHJlc3RvcmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyc1xuICAgIGpxTGl0ZS5vZmYod2luZG93LCAnc2Nyb2xsJywgc2Nyb2xsRXZlbnRIYW5kbGVyLCB0cnVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBzY3JvbGwgYmFyIHdpZHRoLlxuICovXG52YXIgZ2V0U2Nyb2xsQmFyV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgY2FjaGVcbiAgaWYgKF9zY3JvbGxCYXJXaWR0aCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gX3Njcm9sbEJhcldpZHRoO1xuICBcbiAgLy8gY2FsY3VsYXRlIHNjcm9sbCBiYXIgd2lkdGhcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgYm9keUVsID0gZG9jLmJvZHksXG4gICAgICBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBlbC5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT1cIndpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7cG9zaXRpb246YWJzb2x1dGU7JyArIFxuICAgICdsZWZ0Oi01MHB4O3RvcDotNTBweDtvdmVyZmxvdzphdXRvO1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDoxcHg7JyArIFxuICAgICdoZWlnaHQ6MTAwcHg7XCI+PC9kaXY+PC9kaXY+JztcbiAgZWwgPSBlbC5maXJzdENoaWxkO1xuICBib2R5RWwuYXBwZW5kQ2hpbGQoZWwpO1xuICBfc2Nyb2xsQmFyV2lkdGggPSBlbC5vZmZzZXRXaWR0aCAtIGVsLmNsaWVudFdpZHRoO1xuICBib2R5RWwucmVtb3ZlQ2hpbGQoZWwpO1xuXG4gIHJldHVybiBfc2Nyb2xsQmFyV2lkdGg7XG59XG5cblxuLyoqXG4gKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcG9seWZpbGxlZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lRm4oY2FsbGJhY2spIHtcbiAgdmFyIGZuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgaWYgKGZuKSBmbihjYWxsYmFjayk7XG4gIGVsc2Ugc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG59XG5cblxuLyoqXG4gKiBEZWZpbmUgdGhlIG1vZHVsZSBBUElcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKiBDcmVhdGUgY2FsbGJhY2sgY2xvc3VyZXMgKi9cbiAgY2FsbGJhY2s6IGNhbGxiYWNrRm4sXG4gIFxuICAvKiogQ2xhc3NuYW1lcyBvYmplY3QgdG8gc3RyaW5nICovXG4gIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXNGbixcblxuICAvKiogRGlzYWJsZSBzY3JvbGwgbG9jayAqL1xuICBkaXNhYmxlU2Nyb2xsTG9jazogZGlzYWJsZVNjcm9sbExvY2tGbixcblxuICAvKiogRGlzcGF0Y2ggZXZlbnQgKi9cbiAgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudEZuLFxuICBcbiAgLyoqIEVuYWJsZSBzY3JvbGwgbG9jayAqL1xuICBlbmFibGVTY3JvbGxMb2NrOiBlbmFibGVTY3JvbGxMb2NrRm4sXG5cbiAgLyoqIExvZyBtZXNzYWdlcyB0byB0aGUgY29uc29sZSB3aGVuIGRlYnVnIGlzIHR1cm5lZCBvbiAqL1xuICBsb2c6IGxvZ0ZuLFxuXG4gIC8qKiBMb2FkIENTUyB0ZXh0IGFzIG5ldyBzdHlsZXNoZWV0ICovXG4gIGxvYWRTdHlsZTogbG9hZFN0eWxlRm4sXG5cbiAgLyoqIFJhaXNlIE1VSSBlcnJvciAqL1xuICByYWlzZUVycm9yOiByYWlzZUVycm9yRm4sXG5cbiAgLyoqIFJlcXVlc3QgYW5pbWF0aW9uIGZyYW1lICovXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZTogcmVxdWVzdEFuaW1hdGlvbkZyYW1lRm4sXG5cbiAgLyoqIFN1cHBvcnQgUG9pbnRlciBFdmVudHMgY2hlY2sgKi9cbiAgc3VwcG9ydHNQb2ludGVyRXZlbnRzOiBzdXBwb3J0c1BvaW50ZXJFdmVudHNGblxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L19oZWxwZXJzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9faGVscGVycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYmFiZWxIZWxwZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9iYWJlbC1oZWxwZXJzLmpzICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9iYWJlbC1oZWxwZXJzLmpzXCIpO1xuLyoqXG4gKiBNVUkgUmVhY3QgaGVscGVyc1xuICogQG1vZHVsZSByZWFjdC9faGVscGVyc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNvbnRyb2xsZWRNZXNzYWdlID0gJ1lvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgJyArICd3aXRob3V0IGFuIGBPbkNoYW5nZWAgaGFuZGxlci4gUGxlYXNlIHNlZSBSZWFjdCBkb2N1bWVudGF0aW9uIG9uICcgKyAnY29udHJvbGxlZCBjb21wb25lbnRzJztcblxuLyoqIE1vZHVsZSBleHBvcnQgKi9cbm1vZHVsZS5leHBvcnRzID0geyBjb250cm9sbGVkTWVzc2FnZTogY29udHJvbGxlZE1lc3NhZ2UgfTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9iYWJlbC1oZWxwZXJzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L2JhYmVsLWhlbHBlcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHRydWUpIHtcbiAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbZXhwb3J0c10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/XG5cdFx0XHRcdChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSxcblx0XHRcdFx0X19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZmFjdG9yeShleHBvcnRzKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KHJvb3QuYmFiZWxIZWxwZXJzID0ge30pO1xuICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gIHZhciBiYWJlbEhlbHBlcnMgPSBnbG9iYWw7XG5cbiAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfTtcblxuICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICB9KCk7XG5cbiAgYmFiZWxIZWxwZXJzLmV4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIGJhYmVsSGVscGVycy5pbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfTtcblxuICBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICBkZWZhdWx0OiBvYmpcbiAgICB9O1xuICB9O1xuXG4gIGJhYmVsSGVscGVycy5pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdPYmouZGVmYXVsdCA9IG9iajtcbiAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfVxuICB9O1xuXG4gIGJhYmVsSGVscGVycy5vYmplY3RXaXRob3V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChvYmosIGtleXMpIHtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG5cbiAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICAgIGlmICghc2VsZikge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuICB9O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYnV0dG9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYmFiZWxIZWxwZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9iYWJlbC1oZWxwZXJzLmpzICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9iYWJlbC1oZWxwZXJzLmpzXCIpO1xuLyoqXG4gKiBNVUkgUmVhY3QgYnV0dG9uIG1vZHVsZVxuICogQG1vZHVsZSByZWFjdC9idXR0b25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO1xuXG52YXIgX3JlYWN0MiA9IGJhYmVsSGVscGVycy5pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9qcUxpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9qcy9saWIvanFMaXRlICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzXCIpO1xuXG52YXIganFMaXRlID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2pxTGl0ZSk7XG5cbnZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2pzL2xpYi91dGlsICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvdXRpbC5qc1wiKTtcblxudmFyIHV0aWwgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbCk7XG5cblxudmFyIGJ0bkNsYXNzID0gJ211aS1idG4nLFxuICAgIGJ0bkF0dHJzID0geyBjb2xvcjogMSwgdmFyaWFudDogMSwgc2l6ZTogMSB9O1xuXG4vKipcbiAqIEJ1dHRvbiBlbGVtZW50XG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKEJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQnV0dG9uKHByb3BzKSB7XG4gICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1dHRvbik7XG5cbiAgICB2YXIgX3RoaXMgPSBiYWJlbEhlbHBlcnMucG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQnV0dG9uKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICByaXBwbGVTdHlsZToge30sXG4gICAgICByaXBwbGVJc1Zpc2libGU6IGZhbHNlXG4gICAgfTtcblxuICAgIHZhciBjYiA9IHV0aWwuY2FsbGJhY2s7XG4gICAgX3RoaXMub25Nb3VzZURvd25DQiA9IGNiKF90aGlzLCAnb25Nb3VzZURvd24nKTtcbiAgICBfdGhpcy5vbk1vdXNlVXBDQiA9IGNiKF90aGlzLCAnb25Nb3VzZVVwJyk7XG4gICAgX3RoaXMub25Nb3VzZUxlYXZlQ0IgPSBjYihfdGhpcywgJ29uTW91c2VMZWF2ZScpO1xuICAgIF90aGlzLm9uVG91Y2hTdGFydENCID0gY2IoX3RoaXMsICdvblRvdWNoU3RhcnQnKTtcbiAgICBfdGhpcy5vblRvdWNoRW5kQ0IgPSBjYihfdGhpcywgJ29uVG91Y2hFbmQnKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MoQnV0dG9uLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAvLyBkaXNhYmxlIE1VSSBqc1xuICAgICAgdmFyIGVsID0gdGhpcy5idXR0b25FbFJlZjtcbiAgICAgIGVsLl9tdWlEcm9wZG93biA9IHRydWU7XG4gICAgICBlbC5fbXVpUmlwcGxlID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vdXNlRG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2KSB7XG4gICAgICB0aGlzLnNob3dSaXBwbGUoZXYpO1xuXG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICB2YXIgZm4gPSB0aGlzLnByb3BzLm9uTW91c2VEb3duO1xuICAgICAgZm4gJiYgZm4oZXYpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTW91c2VVcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VVcChldikge1xuICAgICAgdGhpcy5oaWRlUmlwcGxlKGV2KTtcblxuICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja1xuICAgICAgdmFyIGZuID0gdGhpcy5wcm9wcy5vbk1vdXNlVXA7XG4gICAgICBmbiAmJiBmbihldik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Nb3VzZUxlYXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZUxlYXZlKGV2KSB7XG4gICAgICB0aGlzLmhpZGVSaXBwbGUoZXYpO1xuXG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICB2YXIgZm4gPSB0aGlzLnByb3BzLm9uTW91c2VMZWF2ZTtcbiAgICAgIGZuICYmIGZuKGV2KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblRvdWNoU3RhcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZXYpIHtcbiAgICAgIHRoaXMuc2hvd1JpcHBsZShldik7XG5cbiAgICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIHZhciBmbiA9IHRoaXMucHJvcHMub25Ub3VjaFN0YXJ0O1xuICAgICAgZm4gJiYgZm4oZXYpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uVG91Y2hFbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvdWNoRW5kKGV2KSB7XG4gICAgICB0aGlzLmhpZGVSaXBwbGUoZXYpO1xuXG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICB2YXIgZm4gPSB0aGlzLnByb3BzLm9uVG91Y2hFbmQ7XG4gICAgICBmbiAmJiBmbihldik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvd1JpcHBsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dSaXBwbGUoZXYpIHtcbiAgICAgIHZhciBidXR0b25FbCA9IHRoaXMuYnV0dG9uRWxSZWY7XG5cbiAgICAgIC8vIGRlLWR1cGUgdG91Y2ggZXZlbnRzXG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gYnV0dG9uRWwgJiYgZXYudHlwZSA9PT0gJ21vdXNlZG93bicpIHJldHVybjtcblxuICAgICAgLy8gZ2V0ICh4LCB5KSBwb3NpdGlvbiBvZiBjbGlja1xuICAgICAgdmFyIG9mZnNldCA9IGpxTGl0ZS5vZmZzZXQodGhpcy5idXR0b25FbFJlZiksXG4gICAgICAgICAgY2xpY2tFdiA9IHZvaWQgMDtcblxuICAgICAgaWYgKGV2LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyAmJiBldi50b3VjaGVzKSBjbGlja0V2ID0gZXYudG91Y2hlc1swXTtlbHNlIGNsaWNrRXYgPSBldjtcblxuICAgICAgLy8gY2FsY3VsYXRlIHJhZGl1c1xuICAgICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydChvZmZzZXQud2lkdGggKiBvZmZzZXQud2lkdGggKyBvZmZzZXQuaGVpZ2h0ICogb2Zmc2V0LmhlaWdodCk7XG5cbiAgICAgIHZhciBkaWFtZXRlclB4ID0gcmFkaXVzICogMiArICdweCc7XG5cbiAgICAgIC8vIGFkZCByaXBwbGUgdG8gc3RhdGVcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByaXBwbGVTdHlsZToge1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChjbGlja0V2LnBhZ2VZIC0gb2Zmc2V0LnRvcCAtIHJhZGl1cykgKyAncHgnLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQoY2xpY2tFdi5wYWdlWCAtIG9mZnNldC5sZWZ0IC0gcmFkaXVzKSArICdweCcsXG4gICAgICAgICAgd2lkdGg6IGRpYW1ldGVyUHgsXG4gICAgICAgICAgaGVpZ2h0OiBkaWFtZXRlclB4XG4gICAgICAgIH0sXG4gICAgICAgIHJpcHBsZUlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGlkZVJpcHBsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVSaXBwbGUoZXYpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyByaXBwbGVJc1Zpc2libGU6IGZhbHNlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICByaXBwbGVFbCA9IHRoaXMucmlwcGxlRWxSZWY7XG5cbiAgICAgIC8vIHNob3cgcmlwcGxlXG4gICAgICBpZiAoc3RhdGUucmlwcGxlSXNWaXNpYmxlICYmICFwcmV2U3RhdGUucmlwcGxlSXNWaXNpYmxlKSB7XG4gICAgICAgIGpxTGl0ZS5yZW1vdmVDbGFzcyhyaXBwbGVFbCwgJ211aS0taXMtYW5pbWF0aW5nJyk7XG4gICAgICAgIGpxTGl0ZS5hZGRDbGFzcyhyaXBwbGVFbCwgJ211aS0taXMtdmlzaWJsZScpO1xuXG4gICAgICAgIHV0aWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBqcUxpdGUuYWRkQ2xhc3MocmlwcGxlRWwsICdtdWktLWlzLWFuaW1hdGluZycpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSByaXBwbGVcbiAgICAgIGlmICghc3RhdGUucmlwcGxlSXNWaXNpYmxlICYmIHByZXZTdGF0ZS5yaXBwbGVJc1Zpc2libGUpIHtcbiAgICAgICAgLy8gYWxsb3cgYSByZXBhaW50IHRvIG9jY3VyIGJlZm9yZSByZW1vdmluZyBjbGFzcyBzbyBhbmltYXRpb24gc2hvd3MgZm9yXG4gICAgICAgIC8vIHRhcCBldmVudHNcbiAgICAgICAgdXRpbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGpxTGl0ZS5yZW1vdmVDbGFzcyhyaXBwbGVFbCwgJ211aS0taXMtdmlzaWJsZScpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNscyA9IGJ0bkNsYXNzLFxuICAgICAgICAgIGsgPSB2b2lkIDAsXG4gICAgICAgICAgdiA9IHZvaWQgMDtcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMuY29sb3IsXG4gICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuICAgICAgICAgIHZhcmlhbnQgPSBfcHJvcHMudmFyaWFudCxcbiAgICAgICAgICByZWFjdFByb3BzID0gYmFiZWxIZWxwZXJzLm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydjb2xvcicsICdzaXplJywgJ3ZhcmlhbnQnXSk7XG5cbiAgICAgIC8vIGJ1dHRvbiBhdHRyaWJ1dGVzXG5cbiAgICAgIGZvciAoayBpbiBidG5BdHRycykge1xuICAgICAgICB2ID0gdGhpcy5wcm9wc1trXTtcbiAgICAgICAgaWYgKHYgIT09ICdkZWZhdWx0JykgY2xzICs9ICcgJyArIGJ0bkNsYXNzICsgJy0tJyArIHY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCByZWFjdFByb3BzLCB7XG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgIF90aGlzMi5idXR0b25FbFJlZiA9IGVsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbHMgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvbk1vdXNlVXA6IHRoaXMub25Nb3VzZVVwQ0IsXG4gICAgICAgICAgb25Nb3VzZURvd246IHRoaXMub25Nb3VzZURvd25DQixcbiAgICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlQ0IsXG4gICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLm9uVG91Y2hTdGFydENCLFxuICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMub25Ub3VjaEVuZENCXG4gICAgICAgIH0pLFxuICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6ICdtdWktYnRuX19yaXBwbGUtY29udGFpbmVyJyB9LFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnJpcHBsZUVsUmVmID0gZWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnbXVpLXJpcHBsZScsXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5zdGF0ZS5yaXBwbGVTdHlsZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCdXR0b247XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cblxuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICBjb2xvcjogJ2RlZmF1bHQnLFxuICBzaXplOiAnZGVmYXVsdCcsXG4gIHZhcmlhbnQ6ICdkZWZhdWx0J1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJ1dHRvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L29wdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L29wdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGJhYmVsSGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFiZWwtaGVscGVycy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYmFiZWwtaGVscGVycy5qc1wiKTtcbi8qKlxuICogTVVJIFJlYWN0IG9wdGlvbnMgbW9kdWxlXG4gKiBAbW9kdWxlIHJlYWN0L29wdGlvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcIik7XG5cbnZhciBfcmVhY3QyID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2Zvcm1zID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vanMvbGliL2Zvcm1zICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvZm9ybXMuanNcIik7XG5cbnZhciBmb3JtbGliID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Zvcm1zKTtcblxudmFyIF9qcUxpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9qcy9saWIvanFMaXRlICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzXCIpO1xuXG52YXIganFMaXRlID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2pxTGl0ZSk7XG5cbnZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2pzL2xpYi91dGlsICovIFwiLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvdXRpbC5qc1wiKTtcblxudmFyIHV0aWwgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbCk7XG5cbnZhciBfaGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vX2hlbHBlcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L19oZWxwZXJzLmpzXCIpO1xuXG4vKipcbiAqIE9wdGlvbiBjb25zdHJ1Y3RvclxuICogQGNsYXNzXG4gKi9cbnZhciBPcHRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBiYWJlbEhlbHBlcnMuaW5oZXJpdHMoT3B0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPcHRpb24oKSB7XG4gICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIE9wdGlvbik7XG4gICAgcmV0dXJuIGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChPcHRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihPcHRpb24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIGJhYmVsSGVscGVycy5jcmVhdGVDbGFzcyhPcHRpb24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgbGFiZWwgPSBfcHJvcHMubGFiZWwsXG4gICAgICAgICAgcmVhY3RQcm9wcyA9IGJhYmVsSGVscGVycy5vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnY2hpbGRyZW4nLCAnbGFiZWwnXSk7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgcmVhY3RQcm9wcyxcbiAgICAgICAgbGFiZWxcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBPcHRpb247XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cblxuXG5PcHRpb24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICBsYWJlbDogbnVsbFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IE9wdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L3NlbGVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L3NlbGVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGJhYmVsSGVscGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFiZWwtaGVscGVycy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYmFiZWwtaGVscGVycy5qc1wiKTtcbi8qKlxuICogTVVJIFJlYWN0IHNlbGVjdCBtb2R1bGVcbiAqIEBtb2R1bGUgcmVhY3Qvc2VsZWN0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qc1wiKTtcblxudmFyIF9yZWFjdDIgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZm9ybXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9qcy9saWIvZm9ybXMgKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9mb3Jtcy5qc1wiKTtcblxudmFyIGZvcm1saWIgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZm9ybXMpO1xuXG52YXIgX2pxTGl0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2pzL2xpYi9qcUxpdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9qcUxpdGUuanNcIik7XG5cbnZhciBqcUxpdGUgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfanFMaXRlKTtcblxudmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vanMvbGliL3V0aWwgKi8gXCIuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi91dGlsLmpzXCIpO1xuXG52YXIgdXRpbCA9IGJhYmVsSGVscGVycy5pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsKTtcblxudmFyIF9oZWxwZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9faGVscGVycyAqLyBcIi4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvX2hlbHBlcnMuanNcIik7XG5cbi8qKlxuICogU2VsZWN0IGNvbnN0cnVjdG9yXG4gKiBAY2xhc3NcbiAqL1xudmFyIFNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGJhYmVsSGVscGVycy5pbmhlcml0cyhTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFNlbGVjdChwcm9wcykge1xuICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3QpO1xuXG4gICAgLy8gd2FybiBpZiB2YWx1ZSBkZWZpbmVkIGJ1dCBvbkNoYW5nZSBpcyBub3RcbiAgICB2YXIgX3RoaXMgPSBiYWJlbEhlbHBlcnMucG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2VsZWN0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VsZWN0KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93TWVudTogZmFsc2VcbiAgICB9O1xuICAgIGlmIChwcm9wcy5yZWFkT25seSA9PT0gZmFsc2UgJiYgcHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5vbkNoYW5nZSA9PT0gbnVsbCkge1xuICAgICAgdXRpbC5yYWlzZUVycm9yKF9oZWxwZXJzLmNvbnRyb2xsZWRNZXNzYWdlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZS52YWx1ZSA9IHByb3BzLnZhbHVlO1xuXG4gICAgLy8gYmluZCBjYWxsYmFjayBmdW5jdGlvblxuICAgIHZhciBjYiA9IHV0aWwuY2FsbGJhY2s7XG5cbiAgICBfdGhpcy5vbklubmVyQ2hhbmdlQ0IgPSBjYihfdGhpcywgJ29uSW5uZXJDaGFuZ2UnKTtcbiAgICBfdGhpcy5vbklubmVyTW91c2VEb3duQ0IgPSBjYihfdGhpcywgJ29uSW5uZXJNb3VzZURvd24nKTtcblxuICAgIF90aGlzLm9uT3V0ZXJDbGlja0NCID0gY2IoX3RoaXMsICdvbk91dGVyQ2xpY2snKTtcbiAgICBfdGhpcy5vbk91dGVyS2V5RG93bkNCID0gY2IoX3RoaXMsICdvbk91dGVyS2V5RG93bicpO1xuXG4gICAgX3RoaXMuaGlkZU1lbnVDQiA9IGNiKF90aGlzLCAnaGlkZU1lbnUnKTtcbiAgICBfdGhpcy5vbk1lbnVDaGFuZ2VDQiA9IGNiKF90aGlzLCAnb25NZW51Q2hhbmdlJyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgYmFiZWxIZWxwZXJzLmNyZWF0ZUNsYXNzKFNlbGVjdCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgLy8gZGlzYWJsZSBNVUkgQ1NTL0pTXG4gICAgICB0aGlzLmNvbnRyb2xFbC5fbXVpU2VsZWN0ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogbmV4dFByb3BzLnZhbHVlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAvLyBlbnN1cmUgdGhhdCBkb2MgZXZlbnQgbGlzdG5lcnMgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICAgIGpxTGl0ZS5vZmYod2luZG93LCAncmVzaXplJywgdGhpcy5oaWRlTWVudUNCKTtcbiAgICAgIGpxTGl0ZS5vZmYoZG9jdW1lbnQsICdjbGljaycsIHRoaXMuaGlkZU1lbnVDQik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Jbm5lckNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5uZXJDaGFuZ2UoZXYpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcblxuICAgICAgLy8gdXBkYXRlIHN0YXRlXG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uSW5uZXJNb3VzZURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbklubmVyTW91c2VEb3duKGV2KSB7XG4gICAgICAvLyBvbmx5IGxlZnQgY2xpY2tzICYgY2hlY2sgZmxhZ1xuICAgICAgaWYgKGV2LmJ1dHRvbiAhPT0gMCB8fCB0aGlzLnByb3BzLnVzZURlZmF1bHQpIHJldHVybjtcblxuICAgICAgLy8gcHJldmVudCBidWlsdC1pbiBtZW51IGZyb20gb3BlbmluZ1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbk91dGVyQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk91dGVyQ2xpY2soZXYpIHtcbiAgICAgIC8vIG9ubHkgbGVmdCBjbGlja3MsIHJldHVybiBpZiA8c2VsZWN0PiBpcyBkaXNhYmxlZFxuICAgICAgaWYgKGV2LmJ1dHRvbiAhPT0gMCB8fCB0aGlzLmNvbnRyb2xFbC5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICB2YXIgZm4gPSB0aGlzLnByb3BzLm9uQ2xpY2s7XG4gICAgICBmbiAmJiBmbihldik7XG5cbiAgICAgIC8vIGV4aXQgaWYgcHJldmVudERlZmF1bHQoKSB3YXMgY2FsbGVkXG4gICAgICBpZiAoZXYuZGVmYXVsdFByZXZlbnRlZCB8fCB0aGlzLnByb3BzLnVzZURlZmF1bHQpIHJldHVybjtcblxuICAgICAgLy8gZm9jdXMgd3JhcHBlclxuICAgICAgdGhpcy53cmFwcGVyRWxSZWYuZm9jdXMoKTtcblxuICAgICAgLy8gb3BlbiBjdXN0b20gbWVudVxuICAgICAgdGhpcy5zaG93TWVudSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uT3V0ZXJLZXlEb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25PdXRlcktleURvd24oZXYpIHtcbiAgICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIHZhciBmbiA9IHRoaXMucHJvcHMub25LZXlEb3duO1xuICAgICAgZm4gJiYgZm4oZXYpO1xuXG4gICAgICAvLyBleGl0IGlmIHByZXZlbnREZXZhdWx0KCkgd2FzIGNhbGxlZCBvciB1c2VEZWZhdWx0IGlzIHRydWVcbiAgICAgIGlmIChldi5kZWZhdWx0UHJldmVudGVkIHx8IHRoaXMucHJvcHMudXNlRGVmYXVsdCkgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zaG93TWVudSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIGtleUNvZGUgPSBldi5rZXlDb2RlO1xuXG4gICAgICAgIC8vIHNwYWNlYmFyLCBkb3duLCB1cFxuICAgICAgICBpZiAoa2V5Q29kZSA9PT0gMzIgfHwga2V5Q29kZSA9PT0gMzggfHwga2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBhY3Rpb25cbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgLy8gb3BlbiBjdXN0b20gbWVudVxuICAgICAgICAgIHRoaXMuc2hvd01lbnUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3dNZW51JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd01lbnUoKSB7XG4gICAgICAvLyBjaGVjayB1c2VEZWZhdWx0IGZsYWdcbiAgICAgIGlmICh0aGlzLnByb3BzLnVzZURlZmF1bHQpIHJldHVybjtcblxuICAgICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAganFMaXRlLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuaGlkZU1lbnVDQik7XG4gICAgICBqcUxpdGUub24oZG9jdW1lbnQsICdjbGljaycsIHRoaXMuaGlkZU1lbnVDQik7XG5cbiAgICAgIC8vIHJlLWRyYXdcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93TWVudTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlTWVudScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVNZW51KCkge1xuICAgICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAganFMaXRlLm9mZih3aW5kb3csICdyZXNpemUnLCB0aGlzLmhpZGVNZW51Q0IpO1xuICAgICAganFMaXRlLm9mZihkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5oaWRlTWVudUNCKTtcblxuICAgICAgLy8gcmUtZHJhd1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dNZW51OiBmYWxzZSB9KTtcblxuICAgICAgLy8gcmVmb2N1c1xuICAgICAgdGhpcy53cmFwcGVyRWxSZWYuZm9jdXMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbk1lbnVDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1lbnVDaGFuZ2UodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnJlYWRPbmx5KSByZXR1cm47XG5cbiAgICAgIC8vIHVwZGF0ZSBpbm5lciA8c2VsZWN0PiBhbmQgZGlzcGF0Y2ggJ2NoYW5nZScgZXZlbnRcbiAgICAgIHRoaXMuY29udHJvbEVsLnZhbHVlID0gdmFsdWU7XG4gICAgICB1dGlsLmRpc3BhdGNoRXZlbnQodGhpcy5jb250cm9sRWwsICdjaGFuZ2UnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIG1lbnVFbGVtID0gdm9pZCAwO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zaG93TWVudSkge1xuICAgICAgICBtZW51RWxlbSA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KE1lbnUsIHtcbiAgICAgICAgICBvcHRpb25FbHM6IHRoaXMuY29udHJvbEVsLmNoaWxkcmVuLFxuICAgICAgICAgIHdyYXBwZXJFbDogdGhpcy53cmFwcGVyRWxSZWYsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMub25NZW51Q2hhbmdlQ0IsXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5oaWRlTWVudUNCXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgdGFiIGluZGV4IHNvIHVzZXIgY2FuIGZvY3VzIHdyYXBwZXIgZWxlbWVudFxuICAgICAgdmFyIHRhYkluZGV4V3JhcHBlciA9ICctMScsXG4gICAgICAgICAgdGFiSW5kZXhJbm5lciA9ICcwJztcblxuICAgICAgaWYgKHRoaXMucHJvcHMudXNlRGVmYXVsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGFiSW5kZXhXcmFwcGVyID0gJzAnO1xuICAgICAgICB0YWJJbmRleElubmVyID0gJy0xJztcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBsYWJlbCA9IF9wcm9wcy5sYWJlbCxcbiAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBfcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgIHJlYWRPbmx5ID0gX3Byb3BzLnJlYWRPbmx5LFxuICAgICAgICAgIHVzZURlZmF1bHQgPSBfcHJvcHMudXNlRGVmYXVsdCxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgcmVhY3RQcm9wcyA9IGJhYmVsSGVscGVycy5vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnY2hpbGRyZW4nLCAnY2xhc3NOYW1lJywgJ3N0eWxlJywgJ2xhYmVsJywgJ2RlZmF1bHRWYWx1ZScsICdyZWFkT25seScsICd1c2VEZWZhdWx0JywgJ25hbWUnXSk7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgYmFiZWxIZWxwZXJzLmV4dGVuZHMoe30sIHJlYWN0UHJvcHMsIHtcbiAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgX3RoaXMyLndyYXBwZXJFbFJlZiA9IGVsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4V3JhcHBlcixcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnbXVpLXNlbGVjdCAnICsgY2xhc3NOYW1lLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25PdXRlckNsaWNrQ0IsXG4gICAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uT3V0ZXJLZXlEb3duQ0JcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzZWxlY3QnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5jb250cm9sRWwgPSBlbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4SW5uZXIsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS52YWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRoaXMucHJvcHMucmVhZE9ubHksXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbklubmVyQ2hhbmdlQ0IsXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5vbklubmVyTW91c2VEb3duQ0IsXG4gICAgICAgICAgICByZXF1aXJlZDogdGhpcy5wcm9wcy5yZXF1aXJlZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGxhYmVsXG4gICAgICAgICksXG4gICAgICAgIG1lbnVFbGVtXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2VsZWN0O1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuLyoqXG4gKiBNZW51IGNvbnN0cnVjdG9yXG4gKiBAY2xhc3NcbiAqL1xuXG5cblNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJycsXG4gIG5hbWU6ICcnLFxuICByZWFkT25seTogZmFsc2UsXG4gIHVzZURlZmF1bHQ6IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gdHJ1ZSA6IGZhbHNlLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25DbGljazogbnVsbCxcbiAgb25LZXlEb3duOiBudWxsXG59O1xuXG52YXIgTWVudSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50Mikge1xuICBiYWJlbEhlbHBlcnMuaW5oZXJpdHMoTWVudSwgX1JlYWN0JENvbXBvbmVudDIpO1xuXG4gIGZ1bmN0aW9uIE1lbnUocHJvcHMpIHtcbiAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVudSk7XG5cbiAgICB2YXIgX3RoaXMzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1lbnUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNZW51KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMzLnN0YXRlID0ge1xuICAgICAgb3JpZ0luZGV4OiBudWxsLFxuICAgICAgY3VycmVudEluZGV4OiBudWxsXG4gICAgfTtcblxuXG4gICAgX3RoaXMzLm9uS2V5RG93bkNCID0gdXRpbC5jYWxsYmFjayhfdGhpczMsICdvbktleURvd24nKTtcbiAgICBfdGhpczMub25LZXlQcmVzc0NCID0gdXRpbC5jYWxsYmFjayhfdGhpczMsICdvbktleVByZXNzJyk7XG4gICAgX3RoaXMzLnEgPSAnJztcbiAgICBfdGhpczMucVRpbWVvdXQgPSBudWxsO1xuICAgIHJldHVybiBfdGhpczM7XG4gIH1cblxuICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MoTWVudSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgb3B0aW9uRWxzID0gdGhpcy5wcm9wcy5vcHRpb25FbHMsXG4gICAgICAgICAgbSA9IG9wdGlvbkVscy5sZW5ndGgsXG4gICAgICAgICAgc2VsZWN0ZWRQb3MgPSAwLFxuICAgICAgICAgIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIGdldCBjdXJyZW50IHNlbGVjdGVkIHBvc2l0aW9uXG4gICAgICBmb3IgKGkgPSBtIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgaWYgKG9wdGlvbkVsc1tpXS5zZWxlY3RlZCkgc2VsZWN0ZWRQb3MgPSBpO1xuICAgICAgfXRoaXMuc2V0U3RhdGUoeyBvcmlnSW5kZXg6IHNlbGVjdGVkUG9zLCBjdXJyZW50SW5kZXg6IHNlbGVjdGVkUG9zIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAvLyBwcmV2ZW50IHNjcm9sbGluZ1xuICAgICAgdXRpbC5lbmFibGVTY3JvbGxMb2NrKCk7XG5cbiAgICAgIC8vIHNldCBwb3NpdGlvblxuICAgICAgdmFyIHByb3BzID0gZm9ybWxpYi5nZXRNZW51UG9zaXRpb25hbENTUyh0aGlzLnByb3BzLndyYXBwZXJFbCwgdGhpcy5wcm9wcy5vcHRpb25FbHMubGVuZ3RoLCB0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCk7XG5cbiAgICAgIHZhciBlbCA9IHRoaXMud3JhcHBlckVsUmVmO1xuICAgICAganFMaXRlLmNzcyhlbCwgcHJvcHMpO1xuICAgICAganFMaXRlLnNjcm9sbFRvcChlbCwgcHJvcHMuc2Nyb2xsVG9wKTtcblxuICAgICAgLy8gYXR0YWNoIGtleWRvd24gaGFuZGxlclxuICAgICAganFMaXRlLm9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMub25LZXlEb3duQ0IpO1xuICAgICAganFMaXRlLm9uKGRvY3VtZW50LCAna2V5cHJlc3MnLCB0aGlzLm9uS2V5UHJlc3NDQik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIC8vIHJlbW92ZSBzY3JvbGwgbG9ja1xuICAgICAgdXRpbC5kaXNhYmxlU2Nyb2xsTG9jayh0cnVlKTtcblxuICAgICAgLy8gcmVtb3ZlIGtleWRvd24gaGFuZGxlclxuICAgICAganFMaXRlLm9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bkNCKTtcbiAgICAgIGpxTGl0ZS5vZmYoZG9jdW1lbnQsICdrZXlwcmVzcycsIHRoaXMub25LZXlQcmVzc0NCKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhwb3MsIGV2KSB7XG4gICAgICAvLyBkb24ndCBhbGxvdyBldmVudHMgdG8gYnViYmxlXG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2VsZWN0QW5kRGVzdHJveShwb3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uS2V5RG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihldikge1xuICAgICAgdmFyIGtleUNvZGUgPSBldi5rZXlDb2RlO1xuXG4gICAgICAvLyB0YWJcbiAgICAgIGlmIChrZXlDb2RlID09PSA5KSByZXR1cm4gdGhpcy5kZXN0cm95KCk7XG5cbiAgICAgIC8vIGVzY2FwZSB8IHVwIHwgZG93biB8IGVudGVyXG4gICAgICBpZiAoa2V5Q29kZSA9PT0gMjcgfHwga2V5Q29kZSA9PT0gNDAgfHwga2V5Q29kZSA9PT0gMzggfHwga2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleUNvZGUgPT09IDI3KSB0aGlzLmRlc3Ryb3koKTtlbHNlIGlmIChrZXlDb2RlID09PSA0MCkgdGhpcy5pbmNyZW1lbnQoKTtlbHNlIGlmIChrZXlDb2RlID09PSAzOCkgdGhpcy5kZWNyZW1lbnQoKTtlbHNlIGlmIChrZXlDb2RlID09PSAxMykgdGhpcy5zZWxlY3RBbmREZXN0cm95KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25LZXlQcmVzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoZXYpIHtcbiAgICAgIC8vIGhhbmRsZSBxdWVyeSB0aW1lclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucVRpbWVvdXQpO1xuICAgICAgdGhpcy5xICs9IGV2LmtleTtcbiAgICAgIHRoaXMucVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5xID0gJyc7XG4gICAgICB9LCAzMDApO1xuXG4gICAgICAvLyBzZWxlY3QgZmlyc3QgbWF0Y2ggYWxwaGFiZXRpY2FsbHlcbiAgICAgIHZhciBwcmVmaXhSZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5xLCAnaScpLFxuICAgICAgICAgIG9wdGlvbkVscyA9IHRoaXMucHJvcHMub3B0aW9uRWxzLFxuICAgICAgICAgIG0gPSBvcHRpb25FbHMubGVuZ3RoLFxuICAgICAgICAgIGkgPSB2b2lkIDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgLy8gc2VsZWN0IGl0ZW0gaWYgY29kZSBtYXRjaGVzXG4gICAgICAgIGlmIChwcmVmaXhSZWdleC50ZXN0KG9wdGlvbkVsc1tpXS5pbm5lclRleHQpKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbmRleDogaSB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2luY3JlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluY3JlbWVudCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCA9PT0gdGhpcy5wcm9wcy5vcHRpb25FbHMubGVuZ3RoIC0gMSkgcmV0dXJuO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbmRleDogdGhpcy5zdGF0ZS5jdXJyZW50SW5kZXggKyAxIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlY3JlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlY3JlbWVudCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCA9PT0gMCkgcmV0dXJuO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbmRleDogdGhpcy5zdGF0ZS5jdXJyZW50SW5kZXggLSAxIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbGVjdEFuZERlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RBbmREZXN0cm95KHBvcykge1xuICAgICAgcG9zID0gcG9zID09PSB1bmRlZmluZWQgPyB0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCA6IHBvcztcblxuICAgICAgLy8gaGFuZGxlIG9uQ2hhbmdlXG4gICAgICBpZiAocG9zICE9PSB0aGlzLnN0YXRlLm9yaWdJbmRleCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9uRWxzW3Bvc10udmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjbG9zZSBtZW51XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgbWVudUl0ZW1zID0gW10sXG4gICAgICAgICAgb3B0aW9uRWxzID0gdGhpcy5wcm9wcy5vcHRpb25FbHMsXG4gICAgICAgICAgbSA9IG9wdGlvbkVscy5sZW5ndGgsXG4gICAgICAgICAgb3B0aW9uRWwgPSB2b2lkIDAsXG4gICAgICAgICAgY2xzID0gdm9pZCAwLFxuICAgICAgICAgIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIGRlZmluZSBtZW51IGl0ZW1zXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgIGNscyA9IGkgPT09IHRoaXMuc3RhdGUuY3VycmVudEluZGV4ID8gJ211aS0taXMtc2VsZWN0ZWQgJyA6ICcnO1xuXG4gICAgICAgIC8vIGFkZCBjdXN0b20gY3NzIGNsYXNzIGZyb20gPE9wdGlvbj4gY29tcG9uZW50XG4gICAgICAgIGNscyArPSBvcHRpb25FbHNbaV0uY2xhc3NOYW1lO1xuXG4gICAgICAgIG1lbnVJdGVtcy5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcywgaSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbkVsc1tpXS50ZXh0Q29udGVudFxuICAgICAgICApKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyByZWY6IGZ1bmN0aW9uIHJlZihlbCkge1xuICAgICAgICAgICAgX3RoaXM0LndyYXBwZXJFbFJlZiA9IGVsO1xuICAgICAgICAgIH0sIGNsYXNzTmFtZTogJ211aS1zZWxlY3RfX21lbnUnIH0sXG4gICAgICAgIG1lbnVJdGVtc1xuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE1lbnU7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cblxuXG5NZW51LmRlZmF1bHRQcm9wcyA9IHtcbiAgb3B0aW9uRWxzOiBbXSxcbiAgd3JhcHBlckVsOiBudWxsLFxuICBvbkNoYW5nZTogbnVsbCxcbiAgb25DbG9zZTogbnVsbFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblxuXG52YXIgZW1wdHlGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGZianMvbGliL2VtcHR5RnVuY3Rpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eUZ1bmN0aW9uLmpzXCIpO1xudmFyIGludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGZianMvbGliL2ludmFyaWFudCAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qc1wiKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0ICovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKGZhbHNlKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzXCIpKCk7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuIFJlYWN0IHYxNi4wLjBcbiByZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanNcblxuIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXG4gVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuKi9cbnZhciBhYT1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO19fd2VicGFja19yZXF1aXJlX18oLyohIGZianMvbGliL2ludmFyaWFudCAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qc1wiKTt2YXIgbD1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzXCIpLG49X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgb2JqZWN0LWFzc2lnbiAqLyBcIi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanNcIiksYmE9X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZmJqcy9saWIvRXZlbnRMaXN0ZW5lciAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL0V2ZW50TGlzdGVuZXIuanNcIiksY2E9X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZmJqcy9saWIvZW1wdHlGdW5jdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanNcIiksZGE9X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZmJqcy9saWIvZW1wdHlPYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qc1wiKSxlYT1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmYmpzL2xpYi9zaGFsbG93RXF1YWwgKi8gXCIuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9zaGFsbG93RXF1YWwuanNcIiksZmE9X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZmJqcy9saWIvY29udGFpbnNOb2RlICovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY29udGFpbnNOb2RlLmpzXCIpLGhhPV9fd2VicGFja19yZXF1aXJlX18oLyohIGZianMvbGliL2ZvY3VzTm9kZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ZvY3VzTm9kZS5qc1wiKSxpYT1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50ICovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudC5qc1wiKTtcbmZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgtMSxjPVwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0IGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50XFx4M2RcIithLGQ9MDtkPGI7ZCsrKWMrPVwiXFx4MjZhcmdzW11cXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbZCsxXSk7Yj1FcnJvcihjK1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7Yi5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwiO2IuZnJhbWVzVG9Qb3A9MTt0aHJvdyBiO31hYT92b2lkIDA6dyhcIjIyN1wiKTtcbmZ1bmN0aW9uIGphKGEpe3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2Nhc2UgXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19XG52YXIga2E9e05hbWVzcGFjZXM6e2h0bWw6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsbWF0aG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLHN2ZzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LGdldEludHJpbnNpY05hbWVzcGFjZTpqYSxnZXRDaGlsZE5hbWVzcGFjZTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hfHxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWE/amEoYik6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT09YSYmXCJmb3JlaWduT2JqZWN0XCI9PT1iP1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiOmF9fSxsYT1udWxsLG9hPXt9O1xuZnVuY3Rpb24gcGEoKXtpZihsYSlmb3IodmFyIGEgaW4gb2Epe3ZhciBiPW9hW2FdLGM9bGEuaW5kZXhPZihhKTstMTxjP3ZvaWQgMDp3KFwiOTZcIixhKTtpZighcWEucGx1Z2luc1tjXSl7Yi5leHRyYWN0RXZlbnRzP3ZvaWQgMDp3KFwiOTdcIixhKTtxYS5wbHVnaW5zW2NdPWI7Yz1iLmV2ZW50VHlwZXM7Zm9yKHZhciBkIGluIGMpe3ZhciBlPXZvaWQgMDt2YXIgZj1jW2RdLGc9YixoPWQ7cWEuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGgpP3coXCI5OVwiLGgpOnZvaWQgMDtxYS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbaF09Zjt2YXIgaz1mLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGspe2ZvcihlIGluIGspay5oYXNPd25Qcm9wZXJ0eShlKSYmcmEoa1tlXSxnLGgpO2U9ITB9ZWxzZSBmLnJlZ2lzdHJhdGlvbk5hbWU/KHJhKGYucmVnaXN0cmF0aW9uTmFtZSxnLGgpLGU9ITApOmU9ITE7ZT92b2lkIDA6dyhcIjk4XCIsZCxhKX19fX1cbmZ1bmN0aW9uIHJhKGEsYixjKXtxYS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1thXT93KFwiMTAwXCIsYSk6dm9pZCAwO3FhLnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2FdPWI7cWEucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1thXT1iLmV2ZW50VHlwZXNbY10uZGVwZW5kZW5jaWVzfVxudmFyIHFhPXtwbHVnaW5zOltdLGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczp7fSxyZWdpc3RyYXRpb25OYW1lTW9kdWxlczp7fSxyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOnt9LHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6bnVsbCxpbmplY3RFdmVudFBsdWdpbk9yZGVyOmZ1bmN0aW9uKGEpe2xhP3coXCIxMDFcIik6dm9pZCAwO2xhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO3BhKCl9LGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTpmdW5jdGlvbihhKXt2YXIgYj0hMSxjO2ZvcihjIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGQ9YVtjXTtvYS5oYXNPd25Qcm9wZXJ0eShjKSYmb2FbY109PT1kfHwob2FbY10/dyhcIjEwMlwiLGMpOnZvaWQgMCxvYVtjXT1kLGI9ITApfWImJnBhKCl9fSxzYT1xYSx0YT17Y2hpbGRyZW46ITAsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6ITAsYXV0b0ZvY3VzOiEwLGRlZmF1bHRWYWx1ZTohMCxkZWZhdWx0Q2hlY2tlZDohMCxcbmlubmVySFRNTDohMCxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmc6ITAsc3R5bGU6ITB9O2Z1bmN0aW9uIHVhKGEsYil7cmV0dXJuKGEmYik9PT1ifVxudmFyIHdhPXtNVVNUX1VTRV9QUk9QRVJUWToxLEhBU19CT09MRUFOX1ZBTFVFOjQsSEFTX05VTUVSSUNfVkFMVUU6OCxIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRToyNCxIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFOjMyLEhBU19TVFJJTkdfQk9PTEVBTl9WQUxVRTo2NCxpbmplY3RET01Qcm9wZXJ0eUNvbmZpZzpmdW5jdGlvbihhKXt2YXIgYj13YSxjPWEuUHJvcGVydGllc3x8e30sZD1hLkRPTUF0dHJpYnV0ZU5hbWVzcGFjZXN8fHt9LGU9YS5ET01BdHRyaWJ1dGVOYW1lc3x8e307YT1hLkRPTU11dGF0aW9uTWV0aG9kc3x8e307Zm9yKHZhciBmIGluIGMpe3hhLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoZik/dyhcIjQ4XCIsZik6dm9pZCAwO3ZhciBnPWYudG9Mb3dlckNhc2UoKSxoPWNbZl07Zz17YXR0cmlidXRlTmFtZTpnLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLHByb3BlcnR5TmFtZTpmLG11dGF0aW9uTWV0aG9kOm51bGwsbXVzdFVzZVByb3BlcnR5OnVhKGgsYi5NVVNUX1VTRV9QUk9QRVJUWSksXG5oYXNCb29sZWFuVmFsdWU6dWEoaCxiLkhBU19CT09MRUFOX1ZBTFVFKSxoYXNOdW1lcmljVmFsdWU6dWEoaCxiLkhBU19OVU1FUklDX1ZBTFVFKSxoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZTp1YShoLGIuSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUpLGhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWU6dWEoaCxiLkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUpLGhhc1N0cmluZ0Jvb2xlYW5WYWx1ZTp1YShoLGIuSEFTX1NUUklOR19CT09MRUFOX1ZBTFVFKX07MT49Zy5oYXNCb29sZWFuVmFsdWUrZy5oYXNOdW1lcmljVmFsdWUrZy5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlP3ZvaWQgMDp3KFwiNTBcIixmKTtlLmhhc093blByb3BlcnR5KGYpJiYoZy5hdHRyaWJ1dGVOYW1lPWVbZl0pO2QuaGFzT3duUHJvcGVydHkoZikmJihnLmF0dHJpYnV0ZU5hbWVzcGFjZT1kW2ZdKTthLmhhc093blByb3BlcnR5KGYpJiYoZy5tdXRhdGlvbk1ldGhvZD1hW2ZdKTt4YS5wcm9wZXJ0aWVzW2ZdPVxuZ319fSx4YT17SURfQVRUUklCVVRFX05BTUU6XCJkYXRhLXJlYWN0aWRcIixST09UX0FUVFJJQlVURV9OQU1FOlwiZGF0YS1yZWFjdHJvb3RcIixBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSOlwiOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFwiLEFUVFJJQlVURV9OQU1FX0NIQVI6XCI6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBcIixcbnByb3BlcnRpZXM6e30sc2hvdWxkU2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7aWYoeGEuaXNSZXNlcnZlZFByb3AoYSl8fCEoXCJvXCIhPT1hWzBdJiZcIk9cIiE9PWFbMF18fFwiblwiIT09YVsxXSYmXCJOXCIhPT1hWzFdKSlyZXR1cm4hMTtpZihudWxsPT09YilyZXR1cm4hMDtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJib29sZWFuXCI6cmV0dXJuIHhhLnNob3VsZEF0dHJpYnV0ZUFjY2VwdEJvb2xlYW5WYWx1ZShhKTtjYXNlIFwidW5kZWZpbmVkXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjpjYXNlIFwib2JqZWN0XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGdldFByb3BlcnR5SW5mbzpmdW5jdGlvbihhKXtyZXR1cm4geGEucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShhKT94YS5wcm9wZXJ0aWVzW2FdOm51bGx9LHNob3VsZEF0dHJpYnV0ZUFjY2VwdEJvb2xlYW5WYWx1ZTpmdW5jdGlvbihhKXtpZih4YS5pc1Jlc2VydmVkUHJvcChhKSlyZXR1cm4hMDt2YXIgYj14YS5nZXRQcm9wZXJ0eUluZm8oYSk7XG5pZihiKXJldHVybiBiLmhhc0Jvb2xlYW5WYWx1ZXx8Yi5oYXNTdHJpbmdCb29sZWFuVmFsdWV8fGIuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZTthPWEudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpO3JldHVyblwiZGF0YS1cIj09PWF8fFwiYXJpYS1cIj09PWF9LGlzUmVzZXJ2ZWRQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0YS5oYXNPd25Qcm9wZXJ0eShhKX0saW5qZWN0aW9uOndhfSxBPXhhLEU9e0luZGV0ZXJtaW5hdGVDb21wb25lbnQ6MCxGdW5jdGlvbmFsQ29tcG9uZW50OjEsQ2xhc3NDb21wb25lbnQ6MixIb3N0Um9vdDozLEhvc3RQb3J0YWw6NCxIb3N0Q29tcG9uZW50OjUsSG9zdFRleHQ6NixDb3JvdXRpbmVDb21wb25lbnQ6NyxDb3JvdXRpbmVIYW5kbGVyUGhhc2U6OCxZaWVsZENvbXBvbmVudDo5LEZyYWdtZW50OjEwfSxGPXtFTEVNRU5UX05PREU6MSxURVhUX05PREU6MyxDT01NRU5UX05PREU6OCxET0NVTUVOVF9OT0RFOjksRE9DVU1FTlRfRlJBR01FTlRfTk9ERToxMX0sXG55YT1FLkhvc3RDb21wb25lbnQsemE9RS5Ib3N0VGV4dCxBYT1GLkVMRU1FTlRfTk9ERSxCYT1GLkNPTU1FTlRfTk9ERSxFYT1BLklEX0FUVFJJQlVURV9OQU1FLEZhPXtoYXNDYWNoZWRDaGlsZE5vZGVzOjF9LEdhPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLEhhPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrR2EsSWE9XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIitHYTtmdW5jdGlvbiBMYShhKXtmb3IodmFyIGI7Yj1hLl9yZW5kZXJlZENvbXBvbmVudDspYT1iO3JldHVybiBhfWZ1bmN0aW9uIE1hKGEsYil7YT1MYShhKTthLl9ob3N0Tm9kZT1iO2JbSGFdPWF9XG5mdW5jdGlvbiBOYShhLGIpe2lmKCEoYS5fZmxhZ3MmRmEuaGFzQ2FjaGVkQ2hpbGROb2Rlcykpe3ZhciBjPWEuX3JlbmRlcmVkQ2hpbGRyZW47Yj1iLmZpcnN0Q2hpbGQ7dmFyIGQ7YTpmb3IoZCBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWNbZF0sZj1MYShlKS5fZG9tSUQ7aWYoMCE9PWYpe2Zvcig7bnVsbCE9PWI7Yj1iLm5leHRTaWJsaW5nKXt2YXIgZz1iLGg9ZjtpZihnLm5vZGVUeXBlPT09QWEmJmcuZ2V0QXR0cmlidXRlKEVhKT09PVwiXCIraHx8Zy5ub2RlVHlwZT09PUJhJiZnLm5vZGVWYWx1ZT09PVwiIHJlYWN0LXRleHQ6IFwiK2grXCIgXCJ8fGcubm9kZVR5cGU9PT1CYSYmZy5ub2RlVmFsdWU9PT1cIiByZWFjdC1lbXB0eTogXCIraCtcIiBcIil7TWEoZSxiKTtjb250aW51ZSBhfX13KFwiMzJcIixmKX19YS5fZmxhZ3N8PUZhLmhhc0NhY2hlZENoaWxkTm9kZXN9fVxuZnVuY3Rpb24gT2EoYSl7aWYoYVtIYV0pcmV0dXJuIGFbSGFdO2Zvcih2YXIgYj1bXTshYVtIYV07KWlmKGIucHVzaChhKSxhLnBhcmVudE5vZGUpYT1hLnBhcmVudE5vZGU7ZWxzZSByZXR1cm4gbnVsbDt2YXIgYz1hW0hhXTtpZihjLnRhZz09PXlhfHxjLnRhZz09PXphKXJldHVybiBjO2Zvcig7YSYmKGM9YVtIYV0pO2E9Yi5wb3AoKSl7dmFyIGQ9YztiLmxlbmd0aCYmTmEoYyxhKX1yZXR1cm4gZH1cbnZhciBHPXtnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTpPYSxnZXRJbnN0YW5jZUZyb21Ob2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWFbSGFdO2lmKGIpcmV0dXJuIGIudGFnPT09eWF8fGIudGFnPT09emE/YjpiLl9ob3N0Tm9kZT09PWE/YjpudWxsO2I9T2EoYSk7cmV0dXJuIG51bGwhPWImJmIuX2hvc3ROb2RlPT09YT9iOm51bGx9LGdldE5vZGVGcm9tSW5zdGFuY2U6ZnVuY3Rpb24oYSl7aWYoYS50YWc9PT15YXx8YS50YWc9PT16YSlyZXR1cm4gYS5zdGF0ZU5vZGU7dm9pZCAwPT09YS5faG9zdE5vZGU/dyhcIjMzXCIpOnZvaWQgMDtpZihhLl9ob3N0Tm9kZSlyZXR1cm4gYS5faG9zdE5vZGU7Zm9yKHZhciBiPVtdOyFhLl9ob3N0Tm9kZTspYi5wdXNoKGEpLGEuX2hvc3RQYXJlbnQ/dm9pZCAwOncoXCIzNFwiKSxhPWEuX2hvc3RQYXJlbnQ7Zm9yKDtiLmxlbmd0aDthPWIucG9wKCkpTmEoYSxhLl9ob3N0Tm9kZSk7cmV0dXJuIGEuX2hvc3ROb2RlfSxwcmVjYWNoZUNoaWxkTm9kZXM6TmEsXG5wcmVjYWNoZU5vZGU6TWEsdW5jYWNoZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5faG9zdE5vZGU7YiYmKGRlbGV0ZSBiW0hhXSxhLl9ob3N0Tm9kZT1udWxsKX0scHJlY2FjaGVGaWJlck5vZGU6ZnVuY3Rpb24oYSxiKXtiW0hhXT1hfSxnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhW0lhXXx8bnVsbH0sdXBkYXRlRmliZXJQcm9wczpmdW5jdGlvbihhLGIpe2FbSWFdPWJ9fSxQYT17cmVtb3ZlOmZ1bmN0aW9uKGEpe2EuX3JlYWN0SW50ZXJuYWxGaWJlcj12b2lkIDB9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fcmVhY3RJbnRlcm5hbEZpYmVyfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWEuX3JlYWN0SW50ZXJuYWxGaWJlcn0sc2V0OmZ1bmN0aW9uKGEsYil7YS5fcmVhY3RJbnRlcm5hbEZpYmVyPWJ9fSxRYT17UmVhY3RDdXJyZW50T3duZXI6YWEuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXJ9O1xuZnVuY3Rpb24gUmEoYSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuZ2V0TmFtZSlyZXR1cm4gYS5nZXROYW1lKCk7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhLnRhZyl7YT1hLnR5cGU7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBhO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBhLmRpc3BsYXlOYW1lfHxhLm5hbWV9cmV0dXJuIG51bGx9dmFyIEo9e05vRWZmZWN0OjAsUGVyZm9ybWVkV29yazoxLFBsYWNlbWVudDoyLFVwZGF0ZTo0LFBsYWNlbWVudEFuZFVwZGF0ZTo2LERlbGV0aW9uOjgsQ29udGVudFJlc2V0OjE2LENhbGxiYWNrOjMyLEVycjo2NCxSZWY6MTI4fSxTYT1FLkhvc3RDb21wb25lbnQsVGE9RS5Ib3N0Um9vdCxVYT1FLkhvc3RQb3J0YWwsVmE9RS5Ib3N0VGV4dCxXYT1KLk5vRWZmZWN0LFhhPUouUGxhY2VtZW50O1xuZnVuY3Rpb24gWmEoYSl7dmFyIGI9YTtpZihhLmFsdGVybmF0ZSlmb3IoO2JbXCJyZXR1cm5cIl07KWI9YltcInJldHVyblwiXTtlbHNle2lmKChiLmVmZmVjdFRhZyZYYSkhPT1XYSlyZXR1cm4gMTtmb3IoO2JbXCJyZXR1cm5cIl07KWlmKGI9YltcInJldHVyblwiXSwoYi5lZmZlY3RUYWcmWGEpIT09V2EpcmV0dXJuIDF9cmV0dXJuIGIudGFnPT09VGE/MjozfWZ1bmN0aW9uICRhKGEpezIhPT1aYShhKT93KFwiMTg4XCIpOnZvaWQgMH1cbmZ1bmN0aW9uIGFiKGEpe3ZhciBiPWEuYWx0ZXJuYXRlO2lmKCFiKXJldHVybiBiPVphKGEpLDM9PT1iP3coXCIxODhcIik6dm9pZCAwLDE9PT1iP251bGw6YTtmb3IodmFyIGM9YSxkPWI7Oyl7dmFyIGU9Y1tcInJldHVyblwiXSxmPWU/ZS5hbHRlcm5hdGU6bnVsbDtpZighZXx8IWYpYnJlYWs7aWYoZS5jaGlsZD09PWYuY2hpbGQpe2Zvcih2YXIgZz1lLmNoaWxkO2c7KXtpZihnPT09YylyZXR1cm4gJGEoZSksYTtpZihnPT09ZClyZXR1cm4gJGEoZSksYjtnPWcuc2libGluZ313KFwiMTg4XCIpfWlmKGNbXCJyZXR1cm5cIl0hPT1kW1wicmV0dXJuXCJdKWM9ZSxkPWY7ZWxzZXtnPSExO2Zvcih2YXIgaD1lLmNoaWxkO2g7KXtpZihoPT09Yyl7Zz0hMDtjPWU7ZD1mO2JyZWFrfWlmKGg9PT1kKXtnPSEwO2Q9ZTtjPWY7YnJlYWt9aD1oLnNpYmxpbmd9aWYoIWcpe2ZvcihoPWYuY2hpbGQ7aDspe2lmKGg9PT1jKXtnPSEwO2M9ZjtkPWU7YnJlYWt9aWYoaD09PWQpe2c9ITA7ZD1mO2M9ZTticmVha31oPWguc2libGluZ31nP1xudm9pZCAwOncoXCIxODlcIil9fWMuYWx0ZXJuYXRlIT09ZD93KFwiMTkwXCIpOnZvaWQgMH1jLnRhZyE9PVRhP3coXCIxODhcIik6dm9pZCAwO3JldHVybiBjLnN0YXRlTm9kZS5jdXJyZW50PT09Yz9hOmJ9XG52YXIgYmI9e2lzRmliZXJNb3VudGVkOmZ1bmN0aW9uKGEpe3JldHVybiAyPT09WmEoYSl9LGlzTW91bnRlZDpmdW5jdGlvbihhKXtyZXR1cm4oYT1QYS5nZXQoYSkpPzI9PT1aYShhKTohMX0sZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGg6YWIsZmluZEN1cnJlbnRIb3N0RmliZXI6ZnVuY3Rpb24oYSl7YT1hYihhKTtpZighYSlyZXR1cm4gbnVsbDtmb3IodmFyIGI9YTs7KXtpZihiLnRhZz09PVNhfHxiLnRhZz09PVZhKXJldHVybiBiO2lmKGIuY2hpbGQpYi5jaGlsZFtcInJldHVyblwiXT1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7IWIuc2libGluZzspe2lmKCFiW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm4gbnVsbDtiPWJbXCJyZXR1cm5cIl19Yi5zaWJsaW5nW1wicmV0dXJuXCJdPWJbXCJyZXR1cm5cIl07Yj1iLnNpYmxpbmd9fXJldHVybiBudWxsfSxmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHM6ZnVuY3Rpb24oYSl7YT1hYihhKTtcbmlmKCFhKXJldHVybiBudWxsO2Zvcih2YXIgYj1hOzspe2lmKGIudGFnPT09U2F8fGIudGFnPT09VmEpcmV0dXJuIGI7aWYoYi5jaGlsZCYmYi50YWchPT1VYSliLmNoaWxkW1wicmV0dXJuXCJdPWIsYj1iLmNoaWxkO2Vsc2V7aWYoYj09PWEpYnJlYWs7Zm9yKDshYi5zaWJsaW5nOyl7aWYoIWJbXCJyZXR1cm5cIl18fGJbXCJyZXR1cm5cIl09PT1hKXJldHVybiBudWxsO2I9YltcInJldHVyblwiXX1iLnNpYmxpbmdbXCJyZXR1cm5cIl09YltcInJldHVyblwiXTtiPWIuc2libGluZ319cmV0dXJuIG51bGx9fSxLPXtfY2F1Z2h0RXJyb3I6bnVsbCxfaGFzQ2F1Z2h0RXJyb3I6ITEsX3JldGhyb3dFcnJvcjpudWxsLF9oYXNSZXRocm93RXJyb3I6ITEsaW5qZWN0aW9uOntpbmplY3RFcnJvclV0aWxzOmZ1bmN0aW9uKGEpe1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBhLmludm9rZUd1YXJkZWRDYWxsYmFjaz93KFwiMTk3XCIpOnZvaWQgMDtjYj1hLmludm9rZUd1YXJkZWRDYWxsYmFja319LGludm9rZUd1YXJkZWRDYWxsYmFjazpmdW5jdGlvbihhLFxuYixjLGQsZSxmLGcsaCxrKXtjYi5hcHBseShLLGFyZ3VtZW50cyl9LGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7Sy5pbnZva2VHdWFyZGVkQ2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEsuaGFzQ2F1Z2h0RXJyb3IoKSl7dmFyIHA9Sy5jbGVhckNhdWdodEVycm9yKCk7Sy5faGFzUmV0aHJvd0Vycm9yfHwoSy5faGFzUmV0aHJvd0Vycm9yPSEwLEsuX3JldGhyb3dFcnJvcj1wKX19LHJldGhyb3dDYXVnaHRFcnJvcjpmdW5jdGlvbigpe3JldHVybiBkYi5hcHBseShLLGFyZ3VtZW50cyl9LGhhc0NhdWdodEVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIEsuX2hhc0NhdWdodEVycm9yfSxjbGVhckNhdWdodEVycm9yOmZ1bmN0aW9uKCl7aWYoSy5faGFzQ2F1Z2h0RXJyb3Ipe3ZhciBhPUsuX2NhdWdodEVycm9yO0suX2NhdWdodEVycm9yPW51bGw7Sy5faGFzQ2F1Z2h0RXJyb3I9ITE7cmV0dXJuIGF9dyhcIjE5OFwiKX19O1xuZnVuY3Rpb24gY2IoYSxiLGMsZCxlLGYsZyxoLGspe0suX2hhc0NhdWdodEVycm9yPSExO0suX2NhdWdodEVycm9yPW51bGw7dmFyIHA9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpO3RyeXtiLmFwcGx5KGMscCl9Y2F0Y2goeCl7Sy5fY2F1Z2h0RXJyb3I9eCxLLl9oYXNDYXVnaHRFcnJvcj0hMH19ZnVuY3Rpb24gZGIoKXtpZihLLl9oYXNSZXRocm93RXJyb3Ipe3ZhciBhPUsuX3JldGhyb3dFcnJvcjtLLl9yZXRocm93RXJyb3I9bnVsbDtLLl9oYXNSZXRocm93RXJyb3I9ITE7dGhyb3cgYTt9fXZhciBlYj1LLGZiO2Z1bmN0aW9uIGdiKGEsYixjLGQpe2I9YS50eXBlfHxcInVua25vd24tZXZlbnRcIjthLmN1cnJlbnRUYXJnZXQ9aGIuZ2V0Tm9kZUZyb21JbnN0YW5jZShkKTtlYi5pbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IoYixjLHZvaWQgMCxhKTthLmN1cnJlbnRUYXJnZXQ9bnVsbH1cbnZhciBoYj17aXNFbmRpc2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ0b3BNb3VzZVVwXCI9PT1hfHxcInRvcFRvdWNoRW5kXCI9PT1hfHxcInRvcFRvdWNoQ2FuY2VsXCI9PT1hfSxpc01vdmVpc2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ0b3BNb3VzZU1vdmVcIj09PWF8fFwidG9wVG91Y2hNb3ZlXCI9PT1hfSxpc1N0YXJ0aXNoOmZ1bmN0aW9uKGEpe3JldHVyblwidG9wTW91c2VEb3duXCI9PT1hfHxcInRvcFRvdWNoU3RhcnRcIj09PWF9LGV4ZWN1dGVEaXJlY3REaXNwYXRjaDpmdW5jdGlvbihhKXt2YXIgYj1hLl9kaXNwYXRjaExpc3RlbmVycyxjPWEuX2Rpc3BhdGNoSW5zdGFuY2VzO0FycmF5LmlzQXJyYXkoYik/dyhcIjEwM1wiKTp2b2lkIDA7YS5jdXJyZW50VGFyZ2V0PWI/aGIuZ2V0Tm9kZUZyb21JbnN0YW5jZShjKTpudWxsO2I9Yj9iKGEpOm51bGw7YS5jdXJyZW50VGFyZ2V0PW51bGw7YS5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbDthLl9kaXNwYXRjaEluc3RhbmNlcz1udWxsO3JldHVybiBifSxleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXI6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPWEuX2Rpc3BhdGNoTGlzdGVuZXJzLGQ9YS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheShjKSlmb3IodmFyIGU9MDtlPGMubGVuZ3RoJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2UrKylnYihhLGIsY1tlXSxkW2VdKTtlbHNlIGMmJmdiKGEsYixjLGQpO2EuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGw7YS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbH0sZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZTpmdW5jdGlvbihhKXthOnt2YXIgYj1hLl9kaXNwYXRjaExpc3RlbmVyczt2YXIgYz1hLl9kaXNwYXRjaEluc3RhbmNlcztpZihBcnJheS5pc0FycmF5KGIpKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGgmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7ZCsrKXtpZihiW2RdKGEsY1tkXSkpe2I9Y1tkXTticmVhayBhfX1lbHNlIGlmKGImJmIoYSxjKSl7Yj1jO2JyZWFrIGF9Yj1udWxsfWEuX2Rpc3BhdGNoSW5zdGFuY2VzPW51bGw7YS5fZGlzcGF0Y2hMaXN0ZW5lcnM9XG5udWxsO3JldHVybiBifSxoYXNEaXNwYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiEhYS5fZGlzcGF0Y2hMaXN0ZW5lcnN9LGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoYSl9LGdldEluc3RhbmNlRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldEluc3RhbmNlRnJvbU5vZGUoYSl9LGdldE5vZGVGcm9tSW5zdGFuY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldE5vZGVGcm9tSW5zdGFuY2UoYSl9LGluamVjdGlvbjp7aW5qZWN0Q29tcG9uZW50VHJlZTpmdW5jdGlvbihhKXtmYj1hfX19LGliPWhiLGpiPW51bGwsa2I9bnVsbCxsYj1udWxsO1xuZnVuY3Rpb24gbWIoYSl7aWYoYT1pYi5nZXRJbnN0YW5jZUZyb21Ob2RlKGEpKWlmKFwibnVtYmVyXCI9PT10eXBlb2YgYS50YWcpe2piJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgamIucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZT92b2lkIDA6dyhcIjE5NFwiKTt2YXIgYj1pYi5nZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKGEuc3RhdGVOb2RlKTtqYi5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEuc3RhdGVOb2RlLGEudHlwZSxiKX1lbHNlXCJmdW5jdGlvblwiIT09dHlwZW9mIGEucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZT93KFwiMTk1XCIpOnZvaWQgMCxhLnJlc3RvcmVDb250cm9sbGVkU3RhdGUoKX1cbnZhciBuYj17aW5qZWN0aW9uOntpbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50OmZ1bmN0aW9uKGEpe2piPWF9fSxlbnF1ZXVlU3RhdGVSZXN0b3JlOmZ1bmN0aW9uKGEpe2tiP2xiP2xiLnB1c2goYSk6bGI9W2FdOmtiPWF9LHJlc3RvcmVTdGF0ZUlmTmVlZGVkOmZ1bmN0aW9uKCl7aWYoa2Ipe3ZhciBhPWtiLGI9bGI7bGI9a2I9bnVsbDttYihhKTtpZihiKWZvcihhPTA7YTxiLmxlbmd0aDthKyspbWIoYlthXSl9fX07ZnVuY3Rpb24gb2IoYSxiLGMsZCxlLGYpe3JldHVybiBhKGIsYyxkLGUsZil9ZnVuY3Rpb24gcGIoYSxiKXtyZXR1cm4gYShiKX1mdW5jdGlvbiBxYihhLGIpe3JldHVybiBwYihhLGIpfVxudmFyIHJiPSExLHNiPXtiYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhLGIpe2lmKHJiKXJldHVybiBvYihxYixhLGIpO3JiPSEwO3RyeXtyZXR1cm4gb2IocWIsYSxiKX1maW5hbGx5e3JiPSExLG5iLnJlc3RvcmVTdGF0ZUlmTmVlZGVkKCl9fSxpbmplY3Rpb246e2luamVjdFN0YWNrQmF0Y2hlZFVwZGF0ZXM6ZnVuY3Rpb24oYSl7b2I9YX0saW5qZWN0RmliZXJCYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhKXtwYj1hfX19LHRiPUYuVEVYVF9OT0RFO2Z1bmN0aW9uIHViKGEpe2E9YS50YXJnZXR8fGEuc3JjRWxlbWVudHx8d2luZG93O2EuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQmJihhPWEuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO3JldHVybiBhLm5vZGVUeXBlPT09dGI/YS5wYXJlbnROb2RlOmF9dmFyIHZiPUUuSG9zdFJvb3Qsd2I9W107XG5mdW5jdGlvbiB4YihhKXt2YXIgYj1hLnRhcmdldEluc3Q7ZG97aWYoIWIpe2EuYW5jZXN0b3JzLnB1c2goYik7YnJlYWt9dmFyIGM9YjtpZihcIm51bWJlclwiPT09dHlwZW9mIGMudGFnKXtmb3IoO2NbXCJyZXR1cm5cIl07KWM9Y1tcInJldHVyblwiXTtjPWMudGFnIT09dmI/bnVsbDpjLnN0YXRlTm9kZS5jb250YWluZXJJbmZvfWVsc2V7Zm9yKDtjLl9ob3N0UGFyZW50OyljPWMuX2hvc3RQYXJlbnQ7Yz1HLmdldE5vZGVGcm9tSW5zdGFuY2UoYykucGFyZW50Tm9kZX1pZighYylicmVhazthLmFuY2VzdG9ycy5wdXNoKGIpO2I9Ry5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjKX13aGlsZShiKTtmb3IoYz0wO2M8YS5hbmNlc3RvcnMubGVuZ3RoO2MrKyliPWEuYW5jZXN0b3JzW2NdLHliLl9oYW5kbGVUb3BMZXZlbChhLnRvcExldmVsVHlwZSxiLGEubmF0aXZlRXZlbnQsdWIoYS5uYXRpdmVFdmVudCkpfVxudmFyIHliPXtfZW5hYmxlZDohMCxfaGFuZGxlVG9wTGV2ZWw6bnVsbCxzZXRIYW5kbGVUb3BMZXZlbDpmdW5jdGlvbihhKXt5Yi5faGFuZGxlVG9wTGV2ZWw9YX0sc2V0RW5hYmxlZDpmdW5jdGlvbihhKXt5Yi5fZW5hYmxlZD0hIWF9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB5Yi5fZW5hYmxlZH0sdHJhcEJ1YmJsZWRFdmVudDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/YmEubGlzdGVuKGMsYix5Yi5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCxhKSk6bnVsbH0sdHJhcENhcHR1cmVkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP2JhLmNhcHR1cmUoYyxiLHliLmRpc3BhdGNoRXZlbnQuYmluZChudWxsLGEpKTpudWxsfSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7aWYoeWIuX2VuYWJsZWQpe3ZhciBjPXViKGIpO2M9Ry5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjKTtudWxsPT09Y3x8XCJudW1iZXJcIiE9PXR5cGVvZiBjLnRhZ3x8YmIuaXNGaWJlck1vdW50ZWQoYyl8fFxuKGM9bnVsbCk7aWYod2IubGVuZ3RoKXt2YXIgZD13Yi5wb3AoKTtkLnRvcExldmVsVHlwZT1hO2QubmF0aXZlRXZlbnQ9YjtkLnRhcmdldEluc3Q9YzthPWR9ZWxzZSBhPXt0b3BMZXZlbFR5cGU6YSxuYXRpdmVFdmVudDpiLHRhcmdldEluc3Q6YyxhbmNlc3RvcnM6W119O3RyeXtzYi5iYXRjaGVkVXBkYXRlcyh4YixhKX1maW5hbGx5e2EudG9wTGV2ZWxUeXBlPW51bGwsYS5uYXRpdmVFdmVudD1udWxsLGEudGFyZ2V0SW5zdD1udWxsLGEuYW5jZXN0b3JzLmxlbmd0aD0wLDEwPndiLmxlbmd0aCYmd2IucHVzaChhKX19fX0sTD15YjtmdW5jdGlvbiBDYihhLGIpe251bGw9PWI/dyhcIjMwXCIpOnZvaWQgMDtpZihudWxsPT1hKXJldHVybiBiO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuIGEucHVzaC5hcHBseShhLGIpLGE7YS5wdXNoKGIpO3JldHVybiBhfXJldHVybiBBcnJheS5pc0FycmF5KGIpP1thXS5jb25jYXQoYik6W2EsYl19XG5mdW5jdGlvbiBEYihhLGIsYyl7QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goYixjKTphJiZiLmNhbGwoYyxhKX12YXIgRWI9bnVsbDtmdW5jdGlvbiBGYihhLGIpe2EmJihpYi5leGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoYSxiKSxhLmlzUGVyc2lzdGVudCgpfHxhLmNvbnN0cnVjdG9yLnJlbGVhc2UoYSkpfWZ1bmN0aW9uIEdiKGEpe3JldHVybiBGYihhLCEwKX1mdW5jdGlvbiBIYihhKXtyZXR1cm4gRmIoYSwhMSl9XG5mdW5jdGlvbiBJYihhLGIsYyl7c3dpdGNoKGEpe2Nhc2UgXCJvbkNsaWNrXCI6Y2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6Y2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpjYXNlIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIjpjYXNlIFwib25Nb3VzZURvd25cIjpjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlVXBcIjpjYXNlIFwib25Nb3VzZVVwQ2FwdHVyZVwiOnJldHVybiEoIWMuZGlzYWJsZWR8fFwiYnV0dG9uXCIhPT1iJiZcImlucHV0XCIhPT1iJiZcInNlbGVjdFwiIT09YiYmXCJ0ZXh0YXJlYVwiIT09Yik7ZGVmYXVsdDpyZXR1cm4hMX19XG52YXIgSmI9e2luamVjdGlvbjp7aW5qZWN0RXZlbnRQbHVnaW5PcmRlcjpzYS5pbmplY3RFdmVudFBsdWdpbk9yZGVyLGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTpzYS5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9LGdldExpc3RlbmVyOmZ1bmN0aW9uKGEsYil7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhLnRhZyl7dmFyIGM9YS5zdGF0ZU5vZGU7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGQ9aWIuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShjKTtpZighZClyZXR1cm4gbnVsbDtjPWRbYl07aWYoSWIoYixhLnR5cGUsZCkpcmV0dXJuIG51bGx9ZWxzZXtkPWEuX2N1cnJlbnRFbGVtZW50O2lmKFwic3RyaW5nXCI9PT10eXBlb2YgZHx8XCJudW1iZXJcIj09PXR5cGVvZiBkfHwhYS5fcm9vdE5vZGVJRClyZXR1cm4gbnVsbDthPWQucHJvcHM7Yz1hW2JdO2lmKEliKGIsZC50eXBlLGEpKXJldHVybiBudWxsfWMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjP3coXCIyMzFcIixiLHR5cGVvZiBjKTp2b2lkIDA7XG5yZXR1cm4gY30sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGUsZj1zYS5wbHVnaW5zLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9ZltnXTtoJiYoaD1oLmV4dHJhY3RFdmVudHMoYSxiLGMsZCkpJiYoZT1DYihlLGgpKX1yZXR1cm4gZX0sZW5xdWV1ZUV2ZW50czpmdW5jdGlvbihhKXthJiYoRWI9Q2IoRWIsYSkpfSxwcm9jZXNzRXZlbnRRdWV1ZTpmdW5jdGlvbihhKXt2YXIgYj1FYjtFYj1udWxsO2E/RGIoYixHYik6RGIoYixIYik7RWI/dyhcIjk1XCIpOnZvaWQgMDtlYi5yZXRocm93Q2F1Z2h0RXJyb3IoKX19LEtiO2wuY2FuVXNlRE9NJiYoS2I9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUmJiEwIT09ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcIlwiLFwiXCIpKTtcbmZ1bmN0aW9uIExiKGEsYil7aWYoIWwuY2FuVXNlRE9NfHxiJiYhKFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZG9jdW1lbnQpKXJldHVybiExO2I9XCJvblwiK2E7dmFyIGM9YiBpbiBkb2N1bWVudDtjfHwoYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGMuc2V0QXR0cmlidXRlKGIsXCJyZXR1cm47XCIpLGM9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNbYl0pOyFjJiZLYiYmXCJ3aGVlbFwiPT09YSYmKGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcIkV2ZW50cy53aGVlbFwiLFwiMy4wXCIpKTtyZXR1cm4gY31mdW5jdGlvbiBNYihhLGIpe3ZhciBjPXt9O2NbYS50b0xvd2VyQ2FzZSgpXT1iLnRvTG93ZXJDYXNlKCk7Y1tcIldlYmtpdFwiK2FdPVwid2Via2l0XCIrYjtjW1wiTW96XCIrYV09XCJtb3pcIitiO2NbXCJtc1wiK2FdPVwiTVNcIitiO2NbXCJPXCIrYV09XCJvXCIrYi50b0xvd2VyQ2FzZSgpO3JldHVybiBjfVxudmFyIE5iPXthbmltYXRpb25lbmQ6TWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkVuZFwiKSxhbmltYXRpb25pdGVyYXRpb246TWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSxhbmltYXRpb25zdGFydDpNYihcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uU3RhcnRcIiksdHJhbnNpdGlvbmVuZDpNYihcIlRyYW5zaXRpb25cIixcIlRyYW5zaXRpb25FbmRcIil9LE9iPXt9LFBiPXt9O2wuY2FuVXNlRE9NJiYoUGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgTmIuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgTmIuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgTmIuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgTmIudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTtcbmZ1bmN0aW9uIFFiKGEpe2lmKE9iW2FdKXJldHVybiBPYlthXTtpZighTmJbYV0pcmV0dXJuIGE7dmFyIGI9TmJbYV0sYztmb3IoYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykmJmMgaW4gUGIpcmV0dXJuIE9iW2FdPWJbY107cmV0dXJuXCJcIn1cbnZhciBSYj17dG9wQWJvcnQ6XCJhYm9ydFwiLHRvcEFuaW1hdGlvbkVuZDpRYihcImFuaW1hdGlvbmVuZFwiKXx8XCJhbmltYXRpb25lbmRcIix0b3BBbmltYXRpb25JdGVyYXRpb246UWIoXCJhbmltYXRpb25pdGVyYXRpb25cIil8fFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIsdG9wQW5pbWF0aW9uU3RhcnQ6UWIoXCJhbmltYXRpb25zdGFydFwiKXx8XCJhbmltYXRpb25zdGFydFwiLHRvcEJsdXI6XCJibHVyXCIsdG9wQ2FuY2VsOlwiY2FuY2VsXCIsdG9wQ2FuUGxheTpcImNhbnBsYXlcIix0b3BDYW5QbGF5VGhyb3VnaDpcImNhbnBsYXl0aHJvdWdoXCIsdG9wQ2hhbmdlOlwiY2hhbmdlXCIsdG9wQ2xpY2s6XCJjbGlja1wiLHRvcENsb3NlOlwiY2xvc2VcIix0b3BDb21wb3NpdGlvbkVuZDpcImNvbXBvc2l0aW9uZW5kXCIsdG9wQ29tcG9zaXRpb25TdGFydDpcImNvbXBvc2l0aW9uc3RhcnRcIix0b3BDb21wb3NpdGlvblVwZGF0ZTpcImNvbXBvc2l0aW9udXBkYXRlXCIsdG9wQ29udGV4dE1lbnU6XCJjb250ZXh0bWVudVwiLHRvcENvcHk6XCJjb3B5XCIsXG50b3BDdXQ6XCJjdXRcIix0b3BEb3VibGVDbGljazpcImRibGNsaWNrXCIsdG9wRHJhZzpcImRyYWdcIix0b3BEcmFnRW5kOlwiZHJhZ2VuZFwiLHRvcERyYWdFbnRlcjpcImRyYWdlbnRlclwiLHRvcERyYWdFeGl0OlwiZHJhZ2V4aXRcIix0b3BEcmFnTGVhdmU6XCJkcmFnbGVhdmVcIix0b3BEcmFnT3ZlcjpcImRyYWdvdmVyXCIsdG9wRHJhZ1N0YXJ0OlwiZHJhZ3N0YXJ0XCIsdG9wRHJvcDpcImRyb3BcIix0b3BEdXJhdGlvbkNoYW5nZTpcImR1cmF0aW9uY2hhbmdlXCIsdG9wRW1wdGllZDpcImVtcHRpZWRcIix0b3BFbmNyeXB0ZWQ6XCJlbmNyeXB0ZWRcIix0b3BFbmRlZDpcImVuZGVkXCIsdG9wRXJyb3I6XCJlcnJvclwiLHRvcEZvY3VzOlwiZm9jdXNcIix0b3BJbnB1dDpcImlucHV0XCIsdG9wS2V5RG93bjpcImtleWRvd25cIix0b3BLZXlQcmVzczpcImtleXByZXNzXCIsdG9wS2V5VXA6XCJrZXl1cFwiLHRvcExvYWRlZERhdGE6XCJsb2FkZWRkYXRhXCIsdG9wTG9hZDpcImxvYWRcIix0b3BMb2FkZWRNZXRhZGF0YTpcImxvYWRlZG1ldGFkYXRhXCIsdG9wTG9hZFN0YXJ0OlwibG9hZHN0YXJ0XCIsXG50b3BNb3VzZURvd246XCJtb3VzZWRvd25cIix0b3BNb3VzZU1vdmU6XCJtb3VzZW1vdmVcIix0b3BNb3VzZU91dDpcIm1vdXNlb3V0XCIsdG9wTW91c2VPdmVyOlwibW91c2VvdmVyXCIsdG9wTW91c2VVcDpcIm1vdXNldXBcIix0b3BQYXN0ZTpcInBhc3RlXCIsdG9wUGF1c2U6XCJwYXVzZVwiLHRvcFBsYXk6XCJwbGF5XCIsdG9wUGxheWluZzpcInBsYXlpbmdcIix0b3BQcm9ncmVzczpcInByb2dyZXNzXCIsdG9wUmF0ZUNoYW5nZTpcInJhdGVjaGFuZ2VcIix0b3BTY3JvbGw6XCJzY3JvbGxcIix0b3BTZWVrZWQ6XCJzZWVrZWRcIix0b3BTZWVraW5nOlwic2Vla2luZ1wiLHRvcFNlbGVjdGlvbkNoYW5nZTpcInNlbGVjdGlvbmNoYW5nZVwiLHRvcFN0YWxsZWQ6XCJzdGFsbGVkXCIsdG9wU3VzcGVuZDpcInN1c3BlbmRcIix0b3BUZXh0SW5wdXQ6XCJ0ZXh0SW5wdXRcIix0b3BUaW1lVXBkYXRlOlwidGltZXVwZGF0ZVwiLHRvcFRvZ2dsZTpcInRvZ2dsZVwiLHRvcFRvdWNoQ2FuY2VsOlwidG91Y2hjYW5jZWxcIix0b3BUb3VjaEVuZDpcInRvdWNoZW5kXCIsdG9wVG91Y2hNb3ZlOlwidG91Y2htb3ZlXCIsXG50b3BUb3VjaFN0YXJ0OlwidG91Y2hzdGFydFwiLHRvcFRyYW5zaXRpb25FbmQ6UWIoXCJ0cmFuc2l0aW9uZW5kXCIpfHxcInRyYW5zaXRpb25lbmRcIix0b3BWb2x1bWVDaGFuZ2U6XCJ2b2x1bWVjaGFuZ2VcIix0b3BXYWl0aW5nOlwid2FpdGluZ1wiLHRvcFdoZWVsOlwid2hlZWxcIn0sU2I9e30sVGI9MCxVYj1cIl9yZWFjdExpc3RlbmVyc0lEXCIrKFwiXCIrTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7ZnVuY3Rpb24gVmIoYSl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsVWIpfHwoYVtVYl09VGIrKyxTYlthW1ViXV09e30pO3JldHVybiBTYlthW1ViXV19XG52YXIgTT1uKHt9LHtoYW5kbGVUb3BMZXZlbDpmdW5jdGlvbihhLGIsYyxkKXthPUpiLmV4dHJhY3RFdmVudHMoYSxiLGMsZCk7SmIuZW5xdWV1ZUV2ZW50cyhhKTtKYi5wcm9jZXNzRXZlbnRRdWV1ZSghMSl9fSx7c2V0RW5hYmxlZDpmdW5jdGlvbihhKXtMJiZMLnNldEVuYWJsZWQoYSl9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEoIUx8fCFMLmlzRW5hYmxlZCgpKX0sbGlzdGVuVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz1WYihiKTthPXNhLnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbYV07Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF07Yy5oYXNPd25Qcm9wZXJ0eShlKSYmY1tlXXx8KFwidG9wV2hlZWxcIj09PWU/TGIoXCJ3aGVlbFwiKT9MLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BXaGVlbFwiLFwid2hlZWxcIixiKTpMYihcIm1vdXNld2hlZWxcIik/TC50cmFwQnViYmxlZEV2ZW50KFwidG9wV2hlZWxcIixcIm1vdXNld2hlZWxcIixiKTpMLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BXaGVlbFwiLFxuXCJET01Nb3VzZVNjcm9sbFwiLGIpOlwidG9wU2Nyb2xsXCI9PT1lP0wudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BTY3JvbGxcIixcInNjcm9sbFwiLGIpOlwidG9wRm9jdXNcIj09PWV8fFwidG9wQmx1clwiPT09ZT8oTC50cmFwQ2FwdHVyZWRFdmVudChcInRvcEZvY3VzXCIsXCJmb2N1c1wiLGIpLEwudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BCbHVyXCIsXCJibHVyXCIsYiksYy50b3BCbHVyPSEwLGMudG9wRm9jdXM9ITApOlwidG9wQ2FuY2VsXCI9PT1lPyhMYihcImNhbmNlbFwiLCEwKSYmTC50cmFwQ2FwdHVyZWRFdmVudChcInRvcENhbmNlbFwiLFwiY2FuY2VsXCIsYiksYy50b3BDYW5jZWw9ITApOlwidG9wQ2xvc2VcIj09PWU/KExiKFwiY2xvc2VcIiwhMCkmJkwudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BDbG9zZVwiLFwiY2xvc2VcIixiKSxjLnRvcENsb3NlPSEwKTpSYi5oYXNPd25Qcm9wZXJ0eShlKSYmTC50cmFwQnViYmxlZEV2ZW50KGUsUmJbZV0sYiksY1tlXT0hMCl9fSxpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsXG5iKXtiPVZiKGIpO2E9c2EucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1thXTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXTtpZighYi5oYXNPd25Qcm9wZXJ0eShkKXx8IWJbZF0pcmV0dXJuITF9cmV0dXJuITB9LHRyYXBCdWJibGVkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBMLnRyYXBCdWJibGVkRXZlbnQoYSxiLGMpfSx0cmFwQ2FwdHVyZWRFdmVudDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwudHJhcENhcHR1cmVkRXZlbnQoYSxiLGMpfX0pLFdiPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGNvbHVtbnM6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsXG5mbGV4T3JkZXI6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTcGFuOiEwLGdyaWRSb3dTdGFydDohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblNwYW46ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUNsYW1wOiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHRhYlNpemU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LFhiPVtcIldlYmtpdFwiLFwibXNcIixcIk1velwiLFwiT1wiXTtcbk9iamVjdC5rZXlzKFdiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe1hiLmZvckVhY2goZnVuY3Rpb24oYil7Yj1iK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7V2JbYl09V2JbYV19KX0pO1xudmFyIFliPXtpc1VuaXRsZXNzTnVtYmVyOldiLHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uczp7YmFja2dyb3VuZDp7YmFja2dyb3VuZEF0dGFjaG1lbnQ6ITAsYmFja2dyb3VuZENvbG9yOiEwLGJhY2tncm91bmRJbWFnZTohMCxiYWNrZ3JvdW5kUG9zaXRpb25YOiEwLGJhY2tncm91bmRQb3NpdGlvblk6ITAsYmFja2dyb3VuZFJlcGVhdDohMH0sYmFja2dyb3VuZFBvc2l0aW9uOntiYWNrZ3JvdW5kUG9zaXRpb25YOiEwLGJhY2tncm91bmRQb3NpdGlvblk6ITB9LGJvcmRlcjp7Ym9yZGVyV2lkdGg6ITAsYm9yZGVyU3R5bGU6ITAsYm9yZGVyQ29sb3I6ITB9LGJvcmRlckJvdHRvbTp7Ym9yZGVyQm90dG9tV2lkdGg6ITAsYm9yZGVyQm90dG9tU3R5bGU6ITAsYm9yZGVyQm90dG9tQ29sb3I6ITB9LGJvcmRlckxlZnQ6e2JvcmRlckxlZnRXaWR0aDohMCxib3JkZXJMZWZ0U3R5bGU6ITAsYm9yZGVyTGVmdENvbG9yOiEwfSxib3JkZXJSaWdodDp7Ym9yZGVyUmlnaHRXaWR0aDohMCxib3JkZXJSaWdodFN0eWxlOiEwLFxuYm9yZGVyUmlnaHRDb2xvcjohMH0sYm9yZGVyVG9wOntib3JkZXJUb3BXaWR0aDohMCxib3JkZXJUb3BTdHlsZTohMCxib3JkZXJUb3BDb2xvcjohMH0sZm9udDp7Zm9udFN0eWxlOiEwLGZvbnRWYXJpYW50OiEwLGZvbnRXZWlnaHQ6ITAsZm9udFNpemU6ITAsbGluZUhlaWdodDohMCxmb250RmFtaWx5OiEwfSxvdXRsaW5lOntvdXRsaW5lV2lkdGg6ITAsb3V0bGluZVN0eWxlOiEwLG91dGxpbmVDb2xvcjohMH19fSxaYj1ZYi5pc1VuaXRsZXNzTnVtYmVyLCRiPSExO2lmKGwuY2FuVXNlRE9NKXt2YXIgYWM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTt0cnl7YWMuZm9udD1cIlwifWNhdGNoKGEpeyRiPSEwfX1cbnZhciBiYz17Y3JlYXRlRGFuZ2Vyb3VzU3RyaW5nRm9yU3R5bGVzOmZ1bmN0aW9uKCl7fSxzZXRWYWx1ZUZvclN0eWxlczpmdW5jdGlvbihhLGIpe2E9YS5zdHlsZTtmb3IodmFyIGMgaW4gYilpZihiLmhhc093blByb3BlcnR5KGMpKXt2YXIgZD0wPT09Yy5pbmRleE9mKFwiLS1cIik7dmFyIGU9Yzt2YXIgZj1iW2NdO2U9bnVsbD09Znx8XCJib29sZWFuXCI9PT10eXBlb2YgZnx8XCJcIj09PWY/XCJcIjpkfHxcIm51bWJlclwiIT09dHlwZW9mIGZ8fDA9PT1mfHxaYi5oYXNPd25Qcm9wZXJ0eShlKSYmWmJbZV0/KFwiXCIrZikudHJpbSgpOmYrXCJweFwiO1wiZmxvYXRcIj09PWMmJihjPVwiY3NzRmxvYXRcIik7aWYoZClhLnNldFByb3BlcnR5KGMsZSk7ZWxzZSBpZihlKWFbY109ZTtlbHNlIGlmKGQ9JGImJlliLnNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tjXSlmb3IodmFyIGcgaW4gZClhW2ddPVwiXCI7ZWxzZSBhW2NdPVwiXCJ9fX0sY2M9bmV3IFJlZ0V4cChcIl5bXCIrQS5BVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSK1xuXCJdW1wiK0EuQVRUUklCVVRFX05BTUVfQ0hBUitcIl0qJFwiKSxkYz17fSxlYz17fTtmdW5jdGlvbiBmYyhhKXtpZihlYy5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm4hMDtpZihkYy5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm4hMTtpZihjYy50ZXN0KGEpKXJldHVybiBlY1thXT0hMDtkY1thXT0hMDtyZXR1cm4hMX1cbnZhciBnYz17c2V0QXR0cmlidXRlRm9ySUQ6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZShBLklEX0FUVFJJQlVURV9OQU1FLGIpfSxzZXRBdHRyaWJ1dGVGb3JSb290OmZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKEEuUk9PVF9BVFRSSUJVVEVfTkFNRSxcIlwiKX0sZ2V0VmFsdWVGb3JQcm9wZXJ0eTpmdW5jdGlvbigpe30sZ2V0VmFsdWVGb3JBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt9LHNldFZhbHVlRm9yUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUEuZ2V0UHJvcGVydHlJbmZvKGIpO2lmKGQmJkEuc2hvdWxkU2V0QXR0cmlidXRlKGIsYykpe3ZhciBlPWQubXV0YXRpb25NZXRob2Q7ZT9lKGEsYyk6bnVsbD09Y3x8ZC5oYXNCb29sZWFuVmFsdWUmJiFjfHxkLmhhc051bWVyaWNWYWx1ZSYmaXNOYU4oYyl8fGQuaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUmJjE+Y3x8ZC5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlJiYhMT09PWM/Z2MuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShhLFxuYik6ZC5tdXN0VXNlUHJvcGVydHk/YVtkLnByb3BlcnR5TmFtZV09YzooYj1kLmF0dHJpYnV0ZU5hbWUsKGU9ZC5hdHRyaWJ1dGVOYW1lc3BhY2UpP2Euc2V0QXR0cmlidXRlTlMoZSxiLFwiXCIrYyk6ZC5oYXNCb29sZWFuVmFsdWV8fGQuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSYmITA9PT1jP2Euc2V0QXR0cmlidXRlKGIsXCJcIik6YS5zZXRBdHRyaWJ1dGUoYixcIlwiK2MpKX1lbHNlIGdjLnNldFZhbHVlRm9yQXR0cmlidXRlKGEsYixBLnNob3VsZFNldEF0dHJpYnV0ZShiLGMpP2M6bnVsbCl9LHNldFZhbHVlRm9yQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtmYyhiKSYmKG51bGw9PWM/YS5yZW1vdmVBdHRyaWJ1dGUoYik6YS5zZXRBdHRyaWJ1dGUoYixcIlwiK2MpKX0sZGVsZXRlVmFsdWVGb3JBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUF0dHJpYnV0ZShiKX0sZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe3ZhciBjPUEuZ2V0UHJvcGVydHlJbmZvKGIpO1xuYz8oYj1jLm11dGF0aW9uTWV0aG9kKT9iKGEsdm9pZCAwKTpjLm11c3RVc2VQcm9wZXJ0eT9hW2MucHJvcGVydHlOYW1lXT1jLmhhc0Jvb2xlYW5WYWx1ZT8hMTpcIlwiOmEucmVtb3ZlQXR0cmlidXRlKGMuYXR0cmlidXRlTmFtZSk6YS5yZW1vdmVBdHRyaWJ1dGUoYil9fSxoYz1nYyxpYz1RYS5SZWFjdERlYnVnQ3VycmVudEZyYW1lO2Z1bmN0aW9uIGpjKCl7cmV0dXJuIG51bGx9XG52YXIga2M9e2N1cnJlbnQ6bnVsbCxwaGFzZTpudWxsLHJlc2V0Q3VycmVudEZpYmVyOmZ1bmN0aW9uKCl7aWMuZ2V0Q3VycmVudFN0YWNrPW51bGw7a2MuY3VycmVudD1udWxsO2tjLnBoYXNlPW51bGx9LHNldEN1cnJlbnRGaWJlcjpmdW5jdGlvbihhLGIpe2ljLmdldEN1cnJlbnRTdGFjaz1qYztrYy5jdXJyZW50PWE7a2MucGhhc2U9Yn0sZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW06amN9LGxjPWtjLG1jPXtnZXRIb3N0UHJvcHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnZhbHVlLGQ9Yi5jaGVja2VkO3JldHVybiBuKHt0eXBlOnZvaWQgMCxzdGVwOnZvaWQgMCxtaW46dm9pZCAwLG1heDp2b2lkIDB9LGIse2RlZmF1bHRDaGVja2VkOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwLHZhbHVlOm51bGwhPWM/YzphLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlLGNoZWNrZWQ6bnVsbCE9ZD9cbmQ6YS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9LGluaXRXcmFwcGVyU3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmRlZmF1bHRWYWx1ZTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxDaGVja2VkOm51bGwhPWIuY2hlY2tlZD9iLmNoZWNrZWQ6Yi5kZWZhdWx0Q2hlY2tlZCxpbml0aWFsVmFsdWU6bnVsbCE9Yi52YWx1ZT9iLnZhbHVlOmMsY29udHJvbGxlZDpcImNoZWNrYm94XCI9PT1iLnR5cGV8fFwicmFkaW9cIj09PWIudHlwZT9udWxsIT1iLmNoZWNrZWQ6bnVsbCE9Yi52YWx1ZX19LHVwZGF0ZVdyYXBwZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoZWNrZWQ7bnVsbCE9YyYmaGMuc2V0VmFsdWVGb3JQcm9wZXJ0eShhLFwiY2hlY2tlZFwiLGN8fCExKTtjPWIudmFsdWU7aWYobnVsbCE9YylpZigwPT09YyYmXCJcIj09PWEudmFsdWUpYS52YWx1ZT1cIjBcIjtlbHNlIGlmKFwibnVtYmVyXCI9PT1iLnR5cGUpe2lmKGI9cGFyc2VGbG9hdChhLnZhbHVlKXx8MCxjIT1ifHxjPT1iJiZhLnZhbHVlIT1cbmMpYS52YWx1ZT1cIlwiK2N9ZWxzZSBhLnZhbHVlIT09XCJcIitjJiYoYS52YWx1ZT1cIlwiK2MpO2Vsc2UgbnVsbD09Yi52YWx1ZSYmbnVsbCE9Yi5kZWZhdWx0VmFsdWUmJmEuZGVmYXVsdFZhbHVlIT09XCJcIitiLmRlZmF1bHRWYWx1ZSYmKGEuZGVmYXVsdFZhbHVlPVwiXCIrYi5kZWZhdWx0VmFsdWUpLG51bGw9PWIuY2hlY2tlZCYmbnVsbCE9Yi5kZWZhdWx0Q2hlY2tlZCYmKGEuZGVmYXVsdENoZWNrZWQ9ISFiLmRlZmF1bHRDaGVja2VkKX0scG9zdE1vdW50V3JhcHBlcjpmdW5jdGlvbihhLGIpe3N3aXRjaChiLnR5cGUpe2Nhc2UgXCJzdWJtaXRcIjpjYXNlIFwicmVzZXRcIjpicmVhaztjYXNlIFwiY29sb3JcIjpjYXNlIFwiZGF0ZVwiOmNhc2UgXCJkYXRldGltZVwiOmNhc2UgXCJkYXRldGltZS1sb2NhbFwiOmNhc2UgXCJtb250aFwiOmNhc2UgXCJ0aW1lXCI6Y2FzZSBcIndlZWtcIjphLnZhbHVlPVwiXCI7YS52YWx1ZT1hLmRlZmF1bHRWYWx1ZTticmVhaztkZWZhdWx0OmEudmFsdWU9YS52YWx1ZX1iPWEubmFtZTtcIlwiIT09XG5iJiYoYS5uYW1lPVwiXCIpO2EuZGVmYXVsdENoZWNrZWQ9IWEuZGVmYXVsdENoZWNrZWQ7YS5kZWZhdWx0Q2hlY2tlZD0hYS5kZWZhdWx0Q2hlY2tlZDtcIlwiIT09YiYmKGEubmFtZT1iKX0scmVzdG9yZUNvbnRyb2xsZWRTdGF0ZTpmdW5jdGlvbihhLGIpe21jLnVwZGF0ZVdyYXBwZXIoYSxiKTt2YXIgYz1iLm5hbWU7aWYoXCJyYWRpb1wiPT09Yi50eXBlJiZudWxsIT1jKXtmb3IoYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7Yz1iLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lXFx4M2RcIitKU09OLnN0cmluZ2lmeShcIlwiK2MpKyddW3R5cGVcXHgzZFwicmFkaW9cIl0nKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZD1jW2JdO2lmKGQhPT1hJiZkLmZvcm09PT1hLmZvcm0pe3ZhciBlPUcuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShkKTtlP3ZvaWQgMDp3KFwiOTBcIik7bWMudXBkYXRlV3JhcHBlcihkLGUpfX19fX0scWM9bWM7XG5mdW5jdGlvbiByYyhhKXt2YXIgYj1cIlwiO2FhLkNoaWxkcmVuLmZvckVhY2goYSxmdW5jdGlvbihhKXtudWxsPT1hfHxcInN0cmluZ1wiIT09dHlwZW9mIGEmJlwibnVtYmVyXCIhPT10eXBlb2YgYXx8KGIrPWEpfSk7cmV0dXJuIGJ9dmFyIHNjPXt2YWxpZGF0ZVByb3BzOmZ1bmN0aW9uKCl7fSxwb3N0TW91bnRXcmFwcGVyOmZ1bmN0aW9uKGEsYil7bnVsbCE9Yi52YWx1ZSYmYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGIudmFsdWUpfSxnZXRIb3N0UHJvcHM6ZnVuY3Rpb24oYSxiKXthPW4oe2NoaWxkcmVuOnZvaWQgMH0sYik7aWYoYj1yYyhiLmNoaWxkcmVuKSlhLmNoaWxkcmVuPWI7cmV0dXJuIGF9fTtcbmZ1bmN0aW9uIHRjKGEsYixjKXthPWEub3B0aW9ucztpZihiKXtiPXt9O2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWJbXCIkXCIrY1tkXV09ITA7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylkPWIuaGFzT3duUHJvcGVydHkoXCIkXCIrYVtjXS52YWx1ZSksYVtjXS5zZWxlY3RlZCE9PWQmJihhW2NdLnNlbGVjdGVkPWQpfWVsc2V7Yz1cIlwiK2M7Yj1udWxsO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe2lmKGFbZF0udmFsdWU9PT1jKXthW2RdLnNlbGVjdGVkPSEwO3JldHVybn1udWxsIT09Ynx8YVtkXS5kaXNhYmxlZHx8KGI9YVtkXSl9bnVsbCE9PWImJihiLnNlbGVjdGVkPSEwKX19XG52YXIgdWM9e2dldEhvc3RQcm9wczpmdW5jdGlvbihhLGIpe3JldHVybiBuKHt9LGIse3ZhbHVlOnZvaWQgMH0pfSxpbml0V3JhcHBlclN0YXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWx1ZTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpudWxsIT1jP2M6Yi5kZWZhdWx0VmFsdWUsd2FzTXVsdGlwbGU6ISFiLm11bHRpcGxlfX0scG9zdE1vdW50V3JhcHBlcjpmdW5jdGlvbihhLGIpe2EubXVsdGlwbGU9ISFiLm11bHRpcGxlO3ZhciBjPWIudmFsdWU7bnVsbCE9Yz90YyhhLCEhYi5tdWx0aXBsZSxjKTpudWxsIT1iLmRlZmF1bHRWYWx1ZSYmdGMoYSwhIWIubXVsdGlwbGUsYi5kZWZhdWx0VmFsdWUpfSxwb3N0VXBkYXRlV3JhcHBlcjpmdW5jdGlvbihhLGIpe2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU9dm9pZCAwO3ZhciBjPWEuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZTthLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU9ISFiLm11bHRpcGxlO3ZhciBkPWIudmFsdWU7XG5udWxsIT1kP3RjKGEsISFiLm11bHRpcGxlLGQpOmMhPT0hIWIubXVsdGlwbGUmJihudWxsIT1iLmRlZmF1bHRWYWx1ZT90YyhhLCEhYi5tdWx0aXBsZSxiLmRlZmF1bHRWYWx1ZSk6dGMoYSwhIWIubXVsdGlwbGUsYi5tdWx0aXBsZT9bXTpcIlwiKSl9LHJlc3RvcmVDb250cm9sbGVkU3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnZhbHVlO251bGwhPWMmJnRjKGEsISFiLm11bHRpcGxlLGMpfX0sdmM9e2dldEhvc3RQcm9wczpmdW5jdGlvbihhLGIpe251bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/dyhcIjkxXCIpOnZvaWQgMDtyZXR1cm4gbih7fSxiLHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX0saW5pdFdyYXBwZXJTdGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIudmFsdWUsZD1jO251bGw9PWMmJihjPWIuZGVmYXVsdFZhbHVlLGI9Yi5jaGlsZHJlbixudWxsIT1iJiYobnVsbCE9Yz9cbncoXCI5MlwiKTp2b2lkIDAsQXJyYXkuaXNBcnJheShiKSYmKDE+PWIubGVuZ3RoP3ZvaWQgMDp3KFwiOTNcIiksYj1iWzBdKSxjPVwiXCIrYiksbnVsbD09YyYmKGM9XCJcIiksZD1jKTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpcIlwiK2R9fSx1cGRhdGVXcmFwcGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWx1ZTtudWxsIT1jJiYoYz1cIlwiK2MsYyE9PWEudmFsdWUmJihhLnZhbHVlPWMpLG51bGw9PWIuZGVmYXVsdFZhbHVlJiYoYS5kZWZhdWx0VmFsdWU9YykpO251bGwhPWIuZGVmYXVsdFZhbHVlJiYoYS5kZWZhdWx0VmFsdWU9Yi5kZWZhdWx0VmFsdWUpfSxwb3N0TW91bnRXcmFwcGVyOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGV4dENvbnRlbnQ7Yj09PWEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUmJihhLnZhbHVlPWIpfSxyZXN0b3JlQ29udHJvbGxlZFN0YXRlOmZ1bmN0aW9uKGEsYil7dmMudXBkYXRlV3JhcHBlcihhLGIpfX0sd2M9dmMseGM9bih7bWVudWl0ZW06ITB9LHthcmVhOiEwLFxuYmFzZTohMCxicjohMCxjb2w6ITAsZW1iZWQ6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMH0pO2Z1bmN0aW9uIHljKGEsYil7YiYmKHhjW2FdJiYobnVsbCE9Yi5jaGlsZHJlbnx8bnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTD93KFwiMTM3XCIsYSxcIlwiKTp2b2lkIDApLG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJihudWxsIT1iLmNoaWxkcmVuP3coXCI2MFwiKTp2b2lkIDAsXCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZcIl9faHRtbFwiaW4gYi5kYW5nZXJvdXNseVNldElubmVySFRNTD92b2lkIDA6dyhcIjYxXCIpKSxudWxsIT1iLnN0eWxlJiZcIm9iamVjdFwiIT09dHlwZW9mIGIuc3R5bGU/dyhcIjYyXCIsXCJcIik6dm9pZCAwKX1cbmZ1bmN0aW9uIHpjKGEpe3ZhciBiPWEudHlwZTtyZXR1cm4oYT1hLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09YS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09Ynx8XCJyYWRpb1wiPT09Yil9XG5mdW5jdGlvbiBBYyhhKXt2YXIgYj16YyhhKT9cImNoZWNrZWRcIjpcInZhbHVlXCIsYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEuY29uc3RydWN0b3IucHJvdG90eXBlLGIpLGQ9XCJcIithW2JdO2lmKCFhLmhhc093blByb3BlcnR5KGIpJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5nZXQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLnNldClyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7ZW51bWVyYWJsZTpjLmVudW1lcmFibGUsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLmdldC5jYWxsKHRoaXMpfSxzZXQ6ZnVuY3Rpb24oYSl7ZD1cIlwiK2E7Yy5zZXQuY2FsbCh0aGlzLGEpfX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBkfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtkPVwiXCIrYX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7YS5fdmFsdWVUcmFja2VyPW51bGw7ZGVsZXRlIGFbYl19fX1cbnZhciBCYz17X2dldFRyYWNrZXJGcm9tTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5fdmFsdWVUcmFja2VyfSx0cmFjazpmdW5jdGlvbihhKXthLl92YWx1ZVRyYWNrZXJ8fChhLl92YWx1ZVRyYWNrZXI9QWMoYSkpfSx1cGRhdGVWYWx1ZUlmQ2hhbmdlZDpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTt2YXIgYj1hLl92YWx1ZVRyYWNrZXI7aWYoIWIpcmV0dXJuITA7dmFyIGM9Yi5nZXRWYWx1ZSgpO3ZhciBkPVwiXCI7YSYmKGQ9emMoYSk/YS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjphLnZhbHVlKTthPWQ7cmV0dXJuIGEhPT1jPyhiLnNldFZhbHVlKGEpLCEwKTohMX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKGEpeyhhPWEuX3ZhbHVlVHJhY2tlcikmJmEuc3RvcFRyYWNraW5nKCl9fTtcbmZ1bmN0aW9uIENjKGEsYil7aWYoLTE9PT1hLmluZGV4T2YoXCItXCIpKXJldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYi5pcztzd2l0Y2goYSl7Y2FzZSBcImFubm90YXRpb24teG1sXCI6Y2FzZSBcImNvbG9yLXByb2ZpbGVcIjpjYXNlIFwiZm9udC1mYWNlXCI6Y2FzZSBcImZvbnQtZmFjZS1zcmNcIjpjYXNlIFwiZm9udC1mYWNlLXVyaVwiOmNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6Y2FzZSBcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX1cbnZhciBEYz1rYS5OYW1lc3BhY2VzLEVjLEZjPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKGIsYyxkLGUpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIGEoYixjLGQsZSl9KX06YX0oZnVuY3Rpb24oYSxiKXtpZihhLm5hbWVzcGFjZVVSSSE9PURjLnN2Z3x8XCJpbm5lckhUTUxcImluIGEpYS5pbm5lckhUTUw9YjtlbHNlIGZvcihFYz1FY3x8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxFYy5pbm5lckhUTUw9XCJcXHgzY3N2Z1xceDNlXCIrYitcIlxceDNjL3N2Z1xceDNlXCIsYj1FYy5maXJzdENoaWxkO2IuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChiLmZpcnN0Q2hpbGQpfSksR2M9L1tcIicmPD5dLyxIYz1GLlRFWFRfTk9ERTtcbmZ1bmN0aW9uIEljKGEsYil7aWYoYil7dmFyIGM9YS5maXJzdENoaWxkO2lmKGMmJmM9PT1hLmxhc3RDaGlsZCYmYy5ub2RlVHlwZT09PUhjKXtjLm5vZGVWYWx1ZT1iO3JldHVybn19YS50ZXh0Q29udGVudD1ifVxubC5jYW5Vc2VET00mJihcInRleHRDb250ZW50XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fChJYz1mdW5jdGlvbihhLGIpe2lmKGEubm9kZVR5cGU9PT1IYylhLm5vZGVWYWx1ZT1iO2Vsc2V7aWYoXCJib29sZWFuXCI9PT10eXBlb2YgYnx8XCJudW1iZXJcIj09PXR5cGVvZiBiKWI9XCJcIitiO2Vsc2V7Yj1cIlwiK2I7dmFyIGM9R2MuZXhlYyhiKTtpZihjKXt2YXIgZD1cIlwiLGUsZj0wO2ZvcihlPWMuaW5kZXg7ZTxiLmxlbmd0aDtlKyspe3N3aXRjaChiLmNoYXJDb2RlQXQoZSkpe2Nhc2UgMzQ6Yz1cIlxceDI2cXVvdDtcIjticmVhaztjYXNlIDM4OmM9XCJcXHgyNmFtcDtcIjticmVhaztjYXNlIDM5OmM9XCJcXHgyNiN4Mjc7XCI7YnJlYWs7Y2FzZSA2MDpjPVwiXFx4MjZsdDtcIjticmVhaztjYXNlIDYyOmM9XCJcXHgyNmd0O1wiO2JyZWFrO2RlZmF1bHQ6Y29udGludWV9ZiE9PWUmJihkKz1iLnN1YnN0cmluZyhmLGUpKTtmPWUrMTtkKz1jfWI9ZiE9PWU/ZCtiLnN1YnN0cmluZyhmLGUpOmR9fUZjKGEsYil9fSkpO1xudmFyIEpjPUljLEtjPWxjLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZSxMYz1GLkRPQ1VNRU5UX05PREUsTWM9Ri5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFLE5jPU0ubGlzdGVuVG8sT2M9c2EucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsUGM9a2EuTmFtZXNwYWNlcy5odG1sLFFjPWthLmdldEludHJpbnNpY05hbWVzcGFjZTtmdW5jdGlvbiBSYyhhLGIpe05jKGIsYS5ub2RlVHlwZT09PUxjfHxhLm5vZGVUeXBlPT09TWM/YTphLm93bmVyRG9jdW1lbnQpfVxudmFyIFNjPXt0b3BBYm9ydDpcImFib3J0XCIsdG9wQ2FuUGxheTpcImNhbnBsYXlcIix0b3BDYW5QbGF5VGhyb3VnaDpcImNhbnBsYXl0aHJvdWdoXCIsdG9wRHVyYXRpb25DaGFuZ2U6XCJkdXJhdGlvbmNoYW5nZVwiLHRvcEVtcHRpZWQ6XCJlbXB0aWVkXCIsdG9wRW5jcnlwdGVkOlwiZW5jcnlwdGVkXCIsdG9wRW5kZWQ6XCJlbmRlZFwiLHRvcEVycm9yOlwiZXJyb3JcIix0b3BMb2FkZWREYXRhOlwibG9hZGVkZGF0YVwiLHRvcExvYWRlZE1ldGFkYXRhOlwibG9hZGVkbWV0YWRhdGFcIix0b3BMb2FkU3RhcnQ6XCJsb2Fkc3RhcnRcIix0b3BQYXVzZTpcInBhdXNlXCIsdG9wUGxheTpcInBsYXlcIix0b3BQbGF5aW5nOlwicGxheWluZ1wiLHRvcFByb2dyZXNzOlwicHJvZ3Jlc3NcIix0b3BSYXRlQ2hhbmdlOlwicmF0ZWNoYW5nZVwiLHRvcFNlZWtlZDpcInNlZWtlZFwiLHRvcFNlZWtpbmc6XCJzZWVraW5nXCIsdG9wU3RhbGxlZDpcInN0YWxsZWRcIix0b3BTdXNwZW5kOlwic3VzcGVuZFwiLHRvcFRpbWVVcGRhdGU6XCJ0aW1ldXBkYXRlXCIsdG9wVm9sdW1lQ2hhbmdlOlwidm9sdW1lY2hhbmdlXCIsXG50b3BXYWl0aW5nOlwid2FpdGluZ1wifSxOPXtjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2M9Yy5ub2RlVHlwZT09PUxjP2M6Yy5vd25lckRvY3VtZW50O2Q9PT1QYyYmKGQ9UWMoYSkpO2Q9PT1QYz9cInNjcmlwdFwiPT09YT8oYT1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5pbm5lckhUTUw9XCJcXHgzY3NjcmlwdFxceDNlXFx4M2Mvc2NyaXB0XFx4M2VcIixhPWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKSk6YT1cInN0cmluZ1wiPT09dHlwZW9mIGIuaXM/Yy5jcmVhdGVFbGVtZW50KGEse2lzOmIuaXN9KTpjLmNyZWF0ZUVsZW1lbnQoYSk6YT1jLmNyZWF0ZUVsZW1lbnROUyhkLGEpO3JldHVybiBhfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybihiLm5vZGVUeXBlPT09TGM/YjpiLm93bmVyRG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGEpfSxzZXRJbml0aWFsUHJvcGVydGllczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1DYyhiLGMpO3N3aXRjaChiKXtjYXNlIFwiaWZyYW1lXCI6Y2FzZSBcIm9iamVjdFwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcExvYWRcIixcblwibG9hZFwiLGEpO3ZhciBmPWM7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKGYgaW4gU2MpU2MuaGFzT3duUHJvcGVydHkoZikmJk0udHJhcEJ1YmJsZWRFdmVudChmLFNjW2ZdLGEpO2Y9YzticmVhaztjYXNlIFwic291cmNlXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wRXJyb3JcIixcImVycm9yXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJpbWdcIjpjYXNlIFwiaW1hZ2VcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BFcnJvclwiLFwiZXJyb3JcIixhKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BMb2FkXCIsXCJsb2FkXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJmb3JtXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wUmVzZXRcIixcInJlc2V0XCIsYSk7TS50cmFwQnViYmxlZEV2ZW50KFwidG9wU3VibWl0XCIsXCJzdWJtaXRcIixhKTtmPWM7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BUb2dnbGVcIixcInRvZ2dsZVwiLGEpO2Y9YzticmVhaztjYXNlIFwiaW5wdXRcIjpxYy5pbml0V3JhcHBlclN0YXRlKGEsXG5jKTtmPXFjLmdldEhvc3RQcm9wcyhhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhkLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOnNjLnZhbGlkYXRlUHJvcHMoYSxjKTtmPXNjLmdldEhvc3RQcm9wcyhhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjp1Yy5pbml0V3JhcHBlclN0YXRlKGEsYyk7Zj11Yy5nZXRIb3N0UHJvcHMoYSxjKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BJbnZhbGlkXCIsXCJpbnZhbGlkXCIsYSk7UmMoZCxcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOndjLmluaXRXcmFwcGVyU3RhdGUoYSxjKTtmPXdjLmdldEhvc3RQcm9wcyhhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhkLFwib25DaGFuZ2VcIik7YnJlYWs7ZGVmYXVsdDpmPWN9eWMoYixmLEtjKTt2YXIgZz1mLGg7Zm9yKGggaW4gZylpZihnLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1nW2hdO1wic3R5bGVcIj09PVxuaD9iYy5zZXRWYWx1ZUZvclN0eWxlcyhhLGspOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWg/KGs9az9rLl9faHRtbDp2b2lkIDAsbnVsbCE9ayYmRmMoYSxrKSk6XCJjaGlsZHJlblwiPT09aD9cInN0cmluZ1wiPT09dHlwZW9mIGs/SmMoYSxrKTpcIm51bWJlclwiPT09dHlwZW9mIGsmJkpjKGEsXCJcIitrKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09aCYmKE9jLmhhc093blByb3BlcnR5KGgpP251bGwhPWsmJlJjKGQsaCk6ZT9oYy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShhLGgsayk6bnVsbCE9ayYmaGMuc2V0VmFsdWVGb3JQcm9wZXJ0eShhLGgsaykpfXN3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpCYy50cmFjayhhKTtxYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6QmMudHJhY2soYSk7d2MucG9zdE1vdW50V3JhcHBlcihhLGMpO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpzYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOnVjLnBvc3RNb3VudFdyYXBwZXIoYSxcbmMpO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIGYub25DbGljayYmKGEub25jbGljaz1jYSl9fSxkaWZmUHJvcGVydGllczpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW51bGw7c3dpdGNoKGIpe2Nhc2UgXCJpbnB1dFwiOmM9cWMuZ2V0SG9zdFByb3BzKGEsYyk7ZD1xYy5nZXRIb3N0UHJvcHMoYSxkKTtmPVtdO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpjPXNjLmdldEhvc3RQcm9wcyhhLGMpO2Q9c2MuZ2V0SG9zdFByb3BzKGEsZCk7Zj1bXTticmVhaztjYXNlIFwic2VsZWN0XCI6Yz11Yy5nZXRIb3N0UHJvcHMoYSxjKTtkPXVjLmdldEhvc3RQcm9wcyhhLGQpO2Y9W107YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6Yz13Yy5nZXRIb3N0UHJvcHMoYSxjKTtkPXdjLmdldEhvc3RQcm9wcyhhLGQpO2Y9W107YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5vbkNsaWNrJiYoYS5vbmNsaWNrPWNhKX15YyhiLGQsS2MpO1xudmFyIGcsaDthPW51bGw7Zm9yKGcgaW4gYylpZighZC5oYXNPd25Qcm9wZXJ0eShnKSYmYy5oYXNPd25Qcm9wZXJ0eShnKSYmbnVsbCE9Y1tnXSlpZihcInN0eWxlXCI9PT1nKWZvcihoIGluIGI9Y1tnXSxiKWIuaGFzT3duUHJvcGVydHkoaCkmJihhfHwoYT17fSksYVtoXT1cIlwiKTtlbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiIT09ZyYmXCJjaGlsZHJlblwiIT09ZyYmXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWcmJihPYy5oYXNPd25Qcm9wZXJ0eShnKT9mfHwoZj1bXSk6KGY9Znx8W10pLnB1c2goZyxudWxsKSk7Zm9yKGcgaW4gZCl7dmFyIGs9ZFtnXTtiPW51bGwhPWM/Y1tnXTp2b2lkIDA7aWYoZC5oYXNPd25Qcm9wZXJ0eShnKSYmayE9PWImJihudWxsIT1rfHxudWxsIT1iKSlpZihcInN0eWxlXCI9PT1nKWlmKGIpe2ZvcihoIGluIGIpIWIuaGFzT3duUHJvcGVydHkoaCl8fGsmJmsuaGFzT3duUHJvcGVydHkoaCl8fChhfHwoYT17fSksYVtoXT1cIlwiKTtmb3IoaCBpbiBrKWsuaGFzT3duUHJvcGVydHkoaCkmJlxuYltoXSE9PWtbaF0mJihhfHwoYT17fSksYVtoXT1rW2hdKX1lbHNlIGF8fChmfHwoZj1bXSksZi5wdXNoKGcsYSkpLGE9aztlbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09Zz8oaz1rP2suX19odG1sOnZvaWQgMCxiPWI/Yi5fX2h0bWw6dm9pZCAwLG51bGwhPWsmJmIhPT1rJiYoZj1mfHxbXSkucHVzaChnLFwiXCIraykpOlwiY2hpbGRyZW5cIj09PWc/Yj09PWt8fFwic3RyaW5nXCIhPT10eXBlb2YgayYmXCJudW1iZXJcIiE9PXR5cGVvZiBrfHwoZj1mfHxbXSkucHVzaChnLFwiXCIrayk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWcmJihPYy5oYXNPd25Qcm9wZXJ0eShnKT8obnVsbCE9ayYmUmMoZSxnKSxmfHxiPT09a3x8KGY9W10pKTooZj1mfHxbXSkucHVzaChnLGspKX1hJiYoZj1mfHxbXSkucHVzaChcInN0eWxlXCIsYSk7cmV0dXJuIGZ9LHVwZGF0ZVByb3BlcnRpZXM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtDYyhjLGQpO2Q9Q2MoYyxlKTtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrPVxuMil7dmFyIGc9YltmXSxoPWJbZisxXTtcInN0eWxlXCI9PT1nP2JjLnNldFZhbHVlRm9yU3R5bGVzKGEsaCk6XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09Zz9GYyhhLGgpOlwiY2hpbGRyZW5cIj09PWc/SmMoYSxoKTpkP251bGwhPWg/aGMuc2V0VmFsdWVGb3JBdHRyaWJ1dGUoYSxnLGgpOmhjLmRlbGV0ZVZhbHVlRm9yQXR0cmlidXRlKGEsZyk6bnVsbCE9aD9oYy5zZXRWYWx1ZUZvclByb3BlcnR5KGEsZyxoKTpoYy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KGEsZyl9c3dpdGNoKGMpe2Nhc2UgXCJpbnB1dFwiOnFjLnVwZGF0ZVdyYXBwZXIoYSxlKTtCYy51cGRhdGVWYWx1ZUlmQ2hhbmdlZChhKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjp3Yy51cGRhdGVXcmFwcGVyKGEsZSk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOnVjLnBvc3RVcGRhdGVXcmFwcGVyKGEsZSl9fSxkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzOmZ1bmN0aW9uKGEsYixjLGQsZSl7c3dpdGNoKGIpe2Nhc2UgXCJpZnJhbWVcIjpjYXNlIFwib2JqZWN0XCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wTG9hZFwiLFxuXCJsb2FkXCIsYSk7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKHZhciBmIGluIFNjKVNjLmhhc093blByb3BlcnR5KGYpJiZNLnRyYXBCdWJibGVkRXZlbnQoZixTY1tmXSxhKTticmVhaztjYXNlIFwic291cmNlXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wRXJyb3JcIixcImVycm9yXCIsYSk7YnJlYWs7Y2FzZSBcImltZ1wiOmNhc2UgXCJpbWFnZVwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcEVycm9yXCIsXCJlcnJvclwiLGEpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcExvYWRcIixcImxvYWRcIixhKTticmVhaztjYXNlIFwiZm9ybVwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcFJlc2V0XCIsXCJyZXNldFwiLGEpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcFN1Ym1pdFwiLFwic3VibWl0XCIsYSk7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BUb2dnbGVcIixcInRvZ2dsZVwiLGEpO2JyZWFrO2Nhc2UgXCJpbnB1dFwiOnFjLmluaXRXcmFwcGVyU3RhdGUoYSxjKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BJbnZhbGlkXCIsXG5cImludmFsaWRcIixhKTtSYyhlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOnNjLnZhbGlkYXRlUHJvcHMoYSxjKTticmVhaztjYXNlIFwic2VsZWN0XCI6dWMuaW5pdFdyYXBwZXJTdGF0ZShhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6d2MuaW5pdFdyYXBwZXJTdGF0ZShhLGMpLE0udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKSxSYyhlLFwib25DaGFuZ2VcIil9eWMoYixjLEtjKTtkPW51bGw7Zm9yKHZhciBnIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShnKSYmKGY9Y1tnXSxcImNoaWxkcmVuXCI9PT1nP1wic3RyaW5nXCI9PT10eXBlb2YgZj9hLnRleHRDb250ZW50IT09ZiYmKGQ9W1wiY2hpbGRyZW5cIixmXSk6XCJudW1iZXJcIj09PXR5cGVvZiBmJiZhLnRleHRDb250ZW50IT09XCJcIitmJiYoZD1bXCJjaGlsZHJlblwiLFwiXCIrZl0pOk9jLmhhc093blByb3BlcnR5KGcpJiZcbm51bGwhPWYmJlJjKGUsZykpO3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpCYy50cmFjayhhKTtxYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6QmMudHJhY2soYSk7d2MucG9zdE1vdW50V3JhcHBlcihhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpjYXNlIFwib3B0aW9uXCI6YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vbkNsaWNrJiYoYS5vbmNsaWNrPWNhKX1yZXR1cm4gZH0sZGlmZkh5ZHJhdGVkVGV4dDpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVWYWx1ZSE9PWJ9LHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQ6ZnVuY3Rpb24oKXt9LHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQ6ZnVuY3Rpb24oKXt9LHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudDpmdW5jdGlvbigpe30sd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0OmZ1bmN0aW9uKCl7fSxyZXN0b3JlQ29udHJvbGxlZFN0YXRlOmZ1bmN0aW9uKGEsXG5iLGMpe3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpxYy5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6d2MucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZShhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjp1Yy5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEsYyl9fX0sVGM9dm9pZCAwO1xuaWYobC5jYW5Vc2VET00paWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIHJlcXVlc3RJZGxlQ2FsbGJhY2spe3ZhciBVYz1udWxsLFZjPW51bGwsV2M9ITEsWGM9ITEsWWM9MCxaYz0zMywkYz0zMyxhZD17dGltZVJlbWFpbmluZzpcIm9iamVjdFwiPT09dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgcGVyZm9ybWFuY2Uubm93P2Z1bmN0aW9uKCl7cmV0dXJuIFljLXBlcmZvcm1hbmNlLm5vdygpfTpmdW5jdGlvbigpe3JldHVybiBZYy1EYXRlLm5vdygpfX0sYmQ9XCJfX3JlYWN0SWRsZUNhbGxiYWNrJFwiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGEpe2Euc291cmNlPT09d2luZG93JiZhLmRhdGE9PT1iZCYmKFdjPSExLGE9VmMsVmM9bnVsbCxudWxsIT09YSYmYShhZCkpfSwhMSk7dmFyIGNkPWZ1bmN0aW9uKGEpe1hjPSExO3ZhciBiPWEtWWMrJGM7YjwkYyYmWmM8JGM/KDg+XG5iJiYoYj04KSwkYz1iPFpjP1pjOmIpOlpjPWI7WWM9YSskYztXY3x8KFdjPSEwLHdpbmRvdy5wb3N0TWVzc2FnZShiZCxcIipcIikpO2I9VWM7VWM9bnVsbDtudWxsIT09YiYmYihhKX07VGM9ZnVuY3Rpb24oYSl7VmM9YTtYY3x8KFhjPSEwLHJlcXVlc3RBbmltYXRpb25GcmFtZShjZCkpO3JldHVybiAwfX1lbHNlIFRjPXJlcXVlc3RJZGxlQ2FsbGJhY2s7ZWxzZSBUYz1mdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSh7dGltZVJlbWFpbmluZzpmdW5jdGlvbigpe3JldHVybiBJbmZpbml0eX19KX0pO3JldHVybiAwfTtcbnZhciBkZD17cklDOlRjfSxlZD17ZW5hYmxlQXN5bmNTdWJ0cmVlQVBJOiEwfSxRPXtOb1dvcms6MCxTeW5jaHJvbm91c1ByaW9yaXR5OjEsVGFza1ByaW9yaXR5OjIsSGlnaFByaW9yaXR5OjMsTG93UHJpb3JpdHk6NCxPZmZzY3JlZW5Qcmlvcml0eTo1fSxmZD1KLkNhbGxiYWNrLGdkPVEuTm9Xb3JrLGhkPVEuU3luY2hyb25vdXNQcmlvcml0eSxpZD1RLlRhc2tQcmlvcml0eSxqZD1FLkNsYXNzQ29tcG9uZW50LGtkPUUuSG9zdFJvb3QsbWQ9dm9pZCAwLG5kPXZvaWQgMDtmdW5jdGlvbiBvZChhLGIpe3JldHVybiBhIT09aWQmJmEhPT1oZHx8YiE9PWlkJiZiIT09aGQ/YT09PWdkJiZiIT09Z2Q/LTI1NTphIT09Z2QmJmI9PT1nZD8yNTU6YS1iOjB9ZnVuY3Rpb24gcGQoKXtyZXR1cm57Zmlyc3Q6bnVsbCxsYXN0Om51bGwsaGFzRm9yY2VVcGRhdGU6ITEsY2FsbGJhY2tMaXN0Om51bGx9fVxuZnVuY3Rpb24gcWQoYSxiLGMsZCl7bnVsbCE9PWM/Yy5uZXh0PWI6KGIubmV4dD1hLmZpcnN0LGEuZmlyc3Q9Yik7bnVsbCE9PWQ/Yi5uZXh0PWQ6YS5sYXN0PWJ9ZnVuY3Rpb24gcmQoYSxiKXtiPWIucHJpb3JpdHlMZXZlbDt2YXIgYz1udWxsO2lmKG51bGwhPT1hLmxhc3QmJjA+PW9kKGEubGFzdC5wcmlvcml0eUxldmVsLGIpKWM9YS5sYXN0O2Vsc2UgZm9yKGE9YS5maXJzdDtudWxsIT09YSYmMD49b2QoYS5wcmlvcml0eUxldmVsLGIpOyljPWEsYT1hLm5leHQ7cmV0dXJuIGN9XG5mdW5jdGlvbiBzZChhLGIpe3ZhciBjPWEuYWx0ZXJuYXRlLGQ9YS51cGRhdGVRdWV1ZTtudWxsPT09ZCYmKGQ9YS51cGRhdGVRdWV1ZT1wZCgpKTtudWxsIT09Yz8oYT1jLnVwZGF0ZVF1ZXVlLG51bGw9PT1hJiYoYT1jLnVwZGF0ZVF1ZXVlPXBkKCkpKTphPW51bGw7bWQ9ZDtuZD1hIT09ZD9hOm51bGw7dmFyIGU9bWQ7Yz1uZDt2YXIgZj1yZChlLGIpLGc9bnVsbCE9PWY/Zi5uZXh0OmUuZmlyc3Q7aWYobnVsbD09PWMpcmV0dXJuIHFkKGUsYixmLGcpLG51bGw7ZD1yZChjLGIpO2E9bnVsbCE9PWQ/ZC5uZXh0OmMuZmlyc3Q7cWQoZSxiLGYsZyk7aWYoZz09PWEmJm51bGwhPT1nfHxmPT09ZCYmbnVsbCE9PWYpcmV0dXJuIG51bGw9PT1kJiYoYy5maXJzdD1iKSxudWxsPT09YSYmKGMubGFzdD1udWxsKSxudWxsO2I9e3ByaW9yaXR5TGV2ZWw6Yi5wcmlvcml0eUxldmVsLHBhcnRpYWxTdGF0ZTpiLnBhcnRpYWxTdGF0ZSxjYWxsYmFjazpiLmNhbGxiYWNrLGlzUmVwbGFjZTpiLmlzUmVwbGFjZSxcbmlzRm9yY2VkOmIuaXNGb3JjZWQsaXNUb3BMZXZlbFVubW91bnQ6Yi5pc1RvcExldmVsVW5tb3VudCxuZXh0Om51bGx9O3FkKGMsYixkLGEpO3JldHVybiBifWZ1bmN0aW9uIHRkKGEsYixjLGQpe2E9YS5wYXJ0aWFsU3RhdGU7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YS5jYWxsKGIsYyxkKTphfVxudmFyIHVkPXthZGRVcGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7c2QoYSx7cHJpb3JpdHlMZXZlbDpkLHBhcnRpYWxTdGF0ZTpiLGNhbGxiYWNrOmMsaXNSZXBsYWNlOiExLGlzRm9yY2VkOiExLGlzVG9wTGV2ZWxVbm1vdW50OiExLG5leHQ6bnVsbH0pfSxhZGRSZXBsYWNlVXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3NkKGEse3ByaW9yaXR5TGV2ZWw6ZCxwYXJ0aWFsU3RhdGU6YixjYWxsYmFjazpjLGlzUmVwbGFjZTohMCxpc0ZvcmNlZDohMSxpc1RvcExldmVsVW5tb3VudDohMSxuZXh0Om51bGx9KX0sYWRkRm9yY2VVcGRhdGU6ZnVuY3Rpb24oYSxiLGMpe3NkKGEse3ByaW9yaXR5TGV2ZWw6YyxwYXJ0aWFsU3RhdGU6bnVsbCxjYWxsYmFjazpiLGlzUmVwbGFjZTohMSxpc0ZvcmNlZDohMCxpc1RvcExldmVsVW5tb3VudDohMSxuZXh0Om51bGx9KX0sZ2V0VXBkYXRlUHJpb3JpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cGRhdGVRdWV1ZTtyZXR1cm4gbnVsbD09PWJ8fGEudGFnIT09XG5qZCYmYS50YWchPT1rZD9nZDpudWxsIT09Yi5maXJzdD9iLmZpcnN0LnByaW9yaXR5TGV2ZWw6Z2R9LGFkZFRvcExldmVsVXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw9PT1iLmVsZW1lbnQ7Yj17cHJpb3JpdHlMZXZlbDpkLHBhcnRpYWxTdGF0ZTpiLGNhbGxiYWNrOmMsaXNSZXBsYWNlOiExLGlzRm9yY2VkOiExLGlzVG9wTGV2ZWxVbm1vdW50OmUsbmV4dDpudWxsfTthPXNkKGEsYik7ZSYmKGU9bWQsYz1uZCxudWxsIT09ZSYmbnVsbCE9PWIubmV4dCYmKGIubmV4dD1udWxsLGUubGFzdD1iKSxudWxsIT09YyYmbnVsbCE9PWEmJm51bGwhPT1hLm5leHQmJihhLm5leHQ9bnVsbCxjLmxhc3Q9YikpfSxiZWdpblVwZGF0ZVF1ZXVlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe251bGwhPT1hJiZhLnVwZGF0ZVF1ZXVlPT09YyYmKGM9Yi51cGRhdGVRdWV1ZT17Zmlyc3Q6Yy5maXJzdCxsYXN0OmMubGFzdCxjYWxsYmFja0xpc3Q6bnVsbCxoYXNGb3JjZVVwZGF0ZTohMX0pO1xuYT1jLmNhbGxiYWNrTGlzdDtmb3IodmFyIGg9Yy5oYXNGb3JjZVVwZGF0ZSxrPSEwLHA9Yy5maXJzdDtudWxsIT09cCYmMD49b2QocC5wcmlvcml0eUxldmVsLGcpOyl7Yy5maXJzdD1wLm5leHQ7bnVsbD09PWMuZmlyc3QmJihjLmxhc3Q9bnVsbCk7dmFyIHg7aWYocC5pc1JlcGxhY2UpZT10ZChwLGQsZSxmKSxrPSEwO2Vsc2UgaWYoeD10ZChwLGQsZSxmKSllPWs/bih7fSxlLHgpOm4oZSx4KSxrPSExO3AuaXNGb3JjZWQmJihoPSEwKTtudWxsPT09cC5jYWxsYmFja3x8cC5pc1RvcExldmVsVW5tb3VudCYmbnVsbCE9PXAubmV4dHx8KGE9bnVsbCE9PWE/YTpbXSxhLnB1c2gocC5jYWxsYmFjayksYi5lZmZlY3RUYWd8PWZkKTtwPXAubmV4dH1jLmNhbGxiYWNrTGlzdD1hO2MuaGFzRm9yY2VVcGRhdGU9aDtudWxsIT09Yy5maXJzdHx8bnVsbCE9PWF8fGh8fChiLnVwZGF0ZVF1ZXVlPW51bGwpO3JldHVybiBlfSxjb21taXRDYWxsYmFja3M6ZnVuY3Rpb24oYSxiLGMpe2E9Yi5jYWxsYmFja0xpc3Q7XG5pZihudWxsIT09YSlmb3IoYi5jYWxsYmFja0xpc3Q9bnVsbCxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBkPWFbYl07XCJmdW5jdGlvblwiIT09dHlwZW9mIGQ/dyhcIjE5MVwiLGQpOnZvaWQgMDtkLmNhbGwoYyl9fX0sdmQ9W10sd2Q9LTEseGQ9e2NyZWF0ZUN1cnNvcjpmdW5jdGlvbihhKXtyZXR1cm57Y3VycmVudDphfX0saXNFbXB0eTpmdW5jdGlvbigpe3JldHVybi0xPT09d2R9LHBvcDpmdW5jdGlvbihhKXswPndkfHwoYS5jdXJyZW50PXZkW3dkXSx2ZFt3ZF09bnVsbCx3ZC0tKX0scHVzaDpmdW5jdGlvbihhLGIpe3dkKys7dmRbd2RdPWEuY3VycmVudDthLmN1cnJlbnQ9Yn0scmVzZXQ6ZnVuY3Rpb24oKXtmb3IoOy0xPHdkOyl2ZFt3ZF09bnVsbCx3ZC0tfX0seWQ9YmIuaXNGaWJlck1vdW50ZWQsemQ9RS5DbGFzc0NvbXBvbmVudCxBZD1FLkhvc3RSb290LEJkPXhkLmNyZWF0ZUN1cnNvcixDZD14ZC5wb3AsRGQ9eGQucHVzaCxFZD1CZChkYSksRmQ9QmQoITEpLExkPWRhO1xuZnVuY3Rpb24gTWQoYSxiLGMpe2E9YS5zdGF0ZU5vZGU7YS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWI7YS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1jfWZ1bmN0aW9uIE5kKGEpe3JldHVybiBhLnRhZz09PXpkJiZudWxsIT1hLnR5cGUuY2hpbGRDb250ZXh0VHlwZXN9ZnVuY3Rpb24gT2QoYSxiKXt2YXIgYz1hLnN0YXRlTm9kZSxkPWEudHlwZS5jaGlsZENvbnRleHRUeXBlcztpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5nZXRDaGlsZENvbnRleHQpcmV0dXJuIGI7Yz1jLmdldENoaWxkQ29udGV4dCgpO2Zvcih2YXIgZSBpbiBjKWUgaW4gZD92b2lkIDA6dyhcIjEwOFwiLFJhKGEpfHxcIlVua25vd25cIixlKTtyZXR1cm4gbih7fSxiLGMpfVxudmFyIFI9e2dldFVubWFza2VkQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gTmQoYSk/TGQ6RWQuY3VycmVudH0sY2FjaGVDb250ZXh0Ok1kLGdldE1hc2tlZENvbnRleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnR5cGUuY29udGV4dFR5cGVzO2lmKCFjKXJldHVybiBkYTt2YXIgZD1hLnN0YXRlTm9kZTtpZihkJiZkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT1iKXJldHVybiBkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciBlPXt9LGY7Zm9yKGYgaW4gYyllW2ZdPWJbZl07ZCYmTWQoYSxiLGUpO3JldHVybiBlfSxoYXNDb250ZXh0Q2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiBGZC5jdXJyZW50fSxpc0NvbnRleHRDb25zdW1lcjpmdW5jdGlvbihhKXtyZXR1cm4gYS50YWc9PT16ZCYmbnVsbCE9YS50eXBlLmNvbnRleHRUeXBlc30saXNDb250ZXh0UHJvdmlkZXI6TmQscG9wQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEpe05kKGEpJiZcbihDZChGZCxhKSxDZChFZCxhKSl9LHBvcFRvcExldmVsQ29udGV4dE9iamVjdDpmdW5jdGlvbihhKXtDZChGZCxhKTtDZChFZCxhKX0scHVzaFRvcExldmVsQ29udGV4dE9iamVjdDpmdW5jdGlvbihhLGIsYyl7bnVsbCE9RWQuY3Vyc29yP3coXCIxNjhcIik6dm9pZCAwO0RkKEVkLGIsYSk7RGQoRmQsYyxhKX0scHJvY2Vzc0NoaWxkQ29udGV4dDpPZCxwdXNoQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEpe2lmKCFOZChhKSlyZXR1cm4hMTt2YXIgYj1hLnN0YXRlTm9kZTtiPWImJmIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fGRhO0xkPUVkLmN1cnJlbnQ7RGQoRWQsYixhKTtEZChGZCxGZC5jdXJyZW50LGEpO3JldHVybiEwfSxpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdGF0ZU5vZGU7Yz92b2lkIDA6dyhcIjE2OVwiKTtpZihiKXt2YXIgZD1PZChhLExkLCEwKTtjLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0PVxuZDtDZChGZCxhKTtDZChFZCxhKTtEZChFZCxkLGEpfWVsc2UgQ2QoRmQsYSk7RGQoRmQsYixhKX0scmVzZXRDb250ZXh0OmZ1bmN0aW9uKCl7TGQ9ZGE7RWQuY3VycmVudD1kYTtGZC5jdXJyZW50PSExfSxmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dDpmdW5jdGlvbihhKXtmb3IoeWQoYSkmJmEudGFnPT09emQ/dm9pZCAwOncoXCIxNzBcIik7YS50YWchPT1BZDspe2lmKE5kKGEpKXJldHVybiBhLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDsoYT1hW1wicmV0dXJuXCJdKT92b2lkIDA6dyhcIjE3MVwiKX1yZXR1cm4gYS5zdGF0ZU5vZGUuY29udGV4dH19LFBkPXtOb0NvbnRleHQ6MCxBc3luY1VwZGF0ZXM6MX0sUWQ9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LFJkPUUuQ2xhc3NDb21wb25lbnQsU2Q9RS5Ib3N0Um9vdCxUZD1FLkhvc3RDb21wb25lbnQsVWQ9RS5Ib3N0VGV4dCxWZD1FLkhvc3RQb3J0YWwsV2Q9RS5Db3JvdXRpbmVDb21wb25lbnQsXG5YZD1FLllpZWxkQ29tcG9uZW50LFlkPUUuRnJhZ21lbnQsWmQ9US5Ob1dvcmssJGQ9UGQuTm9Db250ZXh0LGFlPUouTm9FZmZlY3Q7ZnVuY3Rpb24gYmUoYSxiLGMpe3RoaXMudGFnPWE7dGhpcy5rZXk9Yjt0aGlzLnN0YXRlTm9kZT10aGlzLnR5cGU9bnVsbDt0aGlzLnNpYmxpbmc9dGhpcy5jaGlsZD10aGlzW1wicmV0dXJuXCJdPW51bGw7dGhpcy5pbmRleD0wO3RoaXMubWVtb2l6ZWRTdGF0ZT10aGlzLnVwZGF0ZVF1ZXVlPXRoaXMubWVtb2l6ZWRQcm9wcz10aGlzLnBlbmRpbmdQcm9wcz10aGlzLnJlZj1udWxsO3RoaXMuaW50ZXJuYWxDb250ZXh0VGFnPWM7dGhpcy5lZmZlY3RUYWc9YWU7dGhpcy5sYXN0RWZmZWN0PXRoaXMuZmlyc3RFZmZlY3Q9dGhpcy5uZXh0RWZmZWN0PW51bGw7dGhpcy5wZW5kaW5nV29ya1ByaW9yaXR5PVpkO3RoaXMuYWx0ZXJuYXRlPW51bGx9XG5mdW5jdGlvbiBjZShhLGIsYyl7dmFyIGQ9dm9pZCAwO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhPyhkPWEucHJvdG90eXBlJiZhLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50P25ldyBiZShSZCxiLGMpOm5ldyBiZShRZCxiLGMpLGQudHlwZT1hKTpcInN0cmluZ1wiPT09dHlwZW9mIGE/KGQ9bmV3IGJlKFRkLGIsYyksZC50eXBlPWEpOlwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJlwibnVtYmVyXCI9PT10eXBlb2YgYS50YWc/ZD1hOncoXCIxMzBcIixudWxsPT1hP2E6dHlwZW9mIGEsXCJcIik7cmV0dXJuIGR9XG52YXIgZGU9e2NyZWF0ZVdvcmtJblByb2dyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5hbHRlcm5hdGU7bnVsbD09PWM/KGM9bmV3IGJlKGEudGFnLGEua2V5LGEuaW50ZXJuYWxDb250ZXh0VGFnKSxjLnR5cGU9YS50eXBlLGMuc3RhdGVOb2RlPWEuc3RhdGVOb2RlLGMuYWx0ZXJuYXRlPWEsYS5hbHRlcm5hdGU9Yyk6KGMuZWZmZWN0VGFnPWFlLGMubmV4dEVmZmVjdD1udWxsLGMuZmlyc3RFZmZlY3Q9bnVsbCxjLmxhc3RFZmZlY3Q9bnVsbCk7Yy5wZW5kaW5nV29ya1ByaW9yaXR5PWI7Yy5jaGlsZD1hLmNoaWxkO2MubWVtb2l6ZWRQcm9wcz1hLm1lbW9pemVkUHJvcHM7Yy5tZW1vaXplZFN0YXRlPWEubWVtb2l6ZWRTdGF0ZTtjLnVwZGF0ZVF1ZXVlPWEudXBkYXRlUXVldWU7Yy5zaWJsaW5nPWEuc2libGluZztjLmluZGV4PWEuaW5kZXg7Yy5yZWY9YS5yZWY7cmV0dXJuIGN9LGNyZWF0ZUhvc3RSb290RmliZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJlKFNkLG51bGwsJGQpfSxcbmNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe2I9Y2UoYS50eXBlLGEua2V5LGIsbnVsbCk7Yi5wZW5kaW5nUHJvcHM9YS5wcm9wcztiLnBlbmRpbmdXb3JrUHJpb3JpdHk9YztyZXR1cm4gYn0sY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMpe2I9bmV3IGJlKFlkLG51bGwsYik7Yi5wZW5kaW5nUHJvcHM9YTtiLnBlbmRpbmdXb3JrUHJpb3JpdHk9YztyZXR1cm4gYn0sY3JlYXRlRmliZXJGcm9tVGV4dDpmdW5jdGlvbihhLGIsYyl7Yj1uZXcgYmUoVWQsbnVsbCxiKTtiLnBlbmRpbmdQcm9wcz1hO2IucGVuZGluZ1dvcmtQcmlvcml0eT1jO3JldHVybiBifSxjcmVhdGVGaWJlckZyb21FbGVtZW50VHlwZTpjZSxjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbjpmdW5jdGlvbigpe3ZhciBhPW5ldyBiZShUZCxudWxsLCRkKTthLnR5cGU9XCJERUxFVEVEXCI7cmV0dXJuIGF9LGNyZWF0ZUZpYmVyRnJvbUNvcm91dGluZTpmdW5jdGlvbihhLFxuYixjKXtiPW5ldyBiZShXZCxhLmtleSxiKTtiLnR5cGU9YS5oYW5kbGVyO2IucGVuZGluZ1Byb3BzPWE7Yi5wZW5kaW5nV29ya1ByaW9yaXR5PWM7cmV0dXJuIGJ9LGNyZWF0ZUZpYmVyRnJvbVlpZWxkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBiZShYZCxudWxsLGIpfSxjcmVhdGVGaWJlckZyb21Qb3J0YWw6ZnVuY3Rpb24oYSxiLGMpe2I9bmV3IGJlKFZkLGEua2V5LGIpO2IucGVuZGluZ1Byb3BzPWEuY2hpbGRyZW58fFtdO2IucGVuZGluZ1dvcmtQcmlvcml0eT1jO2Iuc3RhdGVOb2RlPXtjb250YWluZXJJbmZvOmEuY29udGFpbmVySW5mbyxpbXBsZW1lbnRhdGlvbjphLmltcGxlbWVudGF0aW9ufTtyZXR1cm4gYn0sbGFyZ2VyUHJpb3JpdHk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PVpkJiYoYj09PVpkfHxiPmEpP2E6Yn19LGVlPWRlLmNyZWF0ZUhvc3RSb290RmliZXIsZmU9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LGdlPUUuRnVuY3Rpb25hbENvbXBvbmVudCxoZT1FLkNsYXNzQ29tcG9uZW50LFxuaWU9RS5Ib3N0Q29tcG9uZW50LGplLGtlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXT8oamU9U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY29yb3V0aW5lXCIpLGtlPVN5bWJvbFtcImZvclwiXShcInJlYWN0LnlpZWxkXCIpKTooamU9NjAxMDQsa2U9NjAxMDUpO1xudmFyIGxlPXtjcmVhdGVDb3JvdXRpbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjpqZSxrZXk6bnVsbD09ZD9udWxsOlwiXCIrZCxjaGlsZHJlbjphLGhhbmRsZXI6Yixwcm9wczpjfX0sY3JlYXRlWWllbGQ6ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOmtlLHZhbHVlOmF9fSxpc0Nvcm91dGluZTpmdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09amV9LGlzWWllbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWtlfSxSRUFDVF9ZSUVMRF9UWVBFOmtlLFJFQUNUX0NPUk9VVElORV9UWVBFOmplfSxtZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0mJlN5bWJvbFtcImZvclwiXShcInJlYWN0LnBvcnRhbFwiKXx8XG42MDEwNixuZT17Y3JlYXRlUG9ydGFsOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtyZXR1cm57JCR0eXBlb2Y6bWUsa2V5Om51bGw9PWQ/bnVsbDpcIlwiK2QsY2hpbGRyZW46YSxjb250YWluZXJJbmZvOmIsaW1wbGVtZW50YXRpb246Y319LGlzUG9ydGFsOmZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1tZX0sUkVBQ1RfUE9SVEFMX1RZUEU6bWV9LG9lPWxlLlJFQUNUX0NPUk9VVElORV9UWVBFLHBlPWxlLlJFQUNUX1lJRUxEX1RZUEUscWU9bmUuUkVBQ1RfUE9SVEFMX1RZUEUscmU9ZGUuY3JlYXRlV29ya0luUHJvZ3Jlc3Msc2U9ZGUuY3JlYXRlRmliZXJGcm9tRWxlbWVudCx0ZT1kZS5jcmVhdGVGaWJlckZyb21GcmFnbWVudCx1ZT1kZS5jcmVhdGVGaWJlckZyb21UZXh0LHZlPWRlLmNyZWF0ZUZpYmVyRnJvbUNvcm91dGluZSxcbndlPWRlLmNyZWF0ZUZpYmVyRnJvbVlpZWxkLHhlPWRlLmNyZWF0ZUZpYmVyRnJvbVBvcnRhbCx5ZT1BcnJheS5pc0FycmF5LHplPUUuRnVuY3Rpb25hbENvbXBvbmVudCxBZT1FLkNsYXNzQ29tcG9uZW50LEJlPUUuSG9zdFRleHQsQ2U9RS5Ib3N0UG9ydGFsLERlPUUuQ29yb3V0aW5lQ29tcG9uZW50LEVlPUUuWWllbGRDb21wb25lbnQsRmU9RS5GcmFnbWVudCxHZT1KLk5vRWZmZWN0LEhlPUouUGxhY2VtZW50LEllPUouRGVsZXRpb24sSmU9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLEtlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXSYmU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZWxlbWVudFwiKXx8NjAxMDM7XG5mdW5jdGlvbiBMZShhKXtpZihudWxsPT09YXx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKXJldHVybiBudWxsO2E9SmUmJmFbSmVdfHxhW1wiQEBpdGVyYXRvclwiXTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hOm51bGx9XG5mdW5jdGlvbiBNZShhLGIpe3ZhciBjPWIucmVmO2lmKG51bGwhPT1jJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYyl7aWYoYi5fb3duZXIpe2I9Yi5fb3duZXI7dmFyIGQ9dm9pZCAwO2ImJihcIm51bWJlclwiPT09dHlwZW9mIGIudGFnPyhiLnRhZyE9PUFlP3coXCIxMTBcIik6dm9pZCAwLGQ9Yi5zdGF0ZU5vZGUpOmQ9Yi5nZXRQdWJsaWNJbnN0YW5jZSgpKTtkP3ZvaWQgMDp3KFwiMTQ3XCIsYyk7dmFyIGU9XCJcIitjO2lmKG51bGwhPT1hJiZudWxsIT09YS5yZWYmJmEucmVmLl9zdHJpbmdSZWY9PT1lKXJldHVybiBhLnJlZjthPWZ1bmN0aW9uKGEpe3ZhciBiPWQucmVmcz09PWRhP2QucmVmcz17fTpkLnJlZnM7bnVsbD09PWE/ZGVsZXRlIGJbZV06YltlXT1hfTthLl9zdHJpbmdSZWY9ZTtyZXR1cm4gYX1cInN0cmluZ1wiIT09dHlwZW9mIGM/dyhcIjE0OFwiKTp2b2lkIDA7Yi5fb3duZXI/dm9pZCAwOncoXCIxNDlcIixjKX1yZXR1cm4gY31cbmZ1bmN0aW9uIE5lKGEsYil7XCJ0ZXh0YXJlYVwiIT09YS50eXBlJiZ3KFwiMzFcIixcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYikuam9pbihcIiwgXCIpK1wifVwiOmIsXCJcIil9XG5mdW5jdGlvbiBPZShhLGIpe2Z1bmN0aW9uIGMoYyxkKXtpZihiKXtpZighYSl7aWYobnVsbD09PWQuYWx0ZXJuYXRlKXJldHVybjtkPWQuYWx0ZXJuYXRlfXZhciBtPWMubGFzdEVmZmVjdDtudWxsIT09bT8obS5uZXh0RWZmZWN0PWQsYy5sYXN0RWZmZWN0PWQpOmMuZmlyc3RFZmZlY3Q9Yy5sYXN0RWZmZWN0PWQ7ZC5uZXh0RWZmZWN0PW51bGw7ZC5lZmZlY3RUYWc9SWV9fWZ1bmN0aW9uIGQoYSxkKXtpZighYilyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1kOyljKGEsZCksZD1kLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZShhLGIpe2ZvcihhPW5ldyBNYXA7bnVsbCE9PWI7KW51bGwhPT1iLmtleT9hLnNldChiLmtleSxiKTphLnNldChiLmluZGV4LGIpLGI9Yi5zaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXtpZihhKXJldHVybiBiPXJlKGIsYyksYi5pbmRleD0wLGIuc2libGluZz1udWxsLGI7Yi5wZW5kaW5nV29ya1ByaW9yaXR5PWM7Yi5lZmZlY3RUYWc9R2U7XG5iLmluZGV4PTA7Yi5zaWJsaW5nPW51bGw7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhLGMsZCl7YS5pbmRleD1kO2lmKCFiKXJldHVybiBjO2Q9YS5hbHRlcm5hdGU7aWYobnVsbCE9PWQpcmV0dXJuIGQ9ZC5pbmRleCxkPGM/KGEuZWZmZWN0VGFnPUhlLGMpOmQ7YS5lZmZlY3RUYWc9SGU7cmV0dXJuIGN9ZnVuY3Rpb24gaChhKXtiJiZudWxsPT09YS5hbHRlcm5hdGUmJihhLmVmZmVjdFRhZz1IZSk7cmV0dXJuIGF9ZnVuY3Rpb24gayhhLGIsYyxkKXtpZihudWxsPT09Ynx8Yi50YWchPT1CZSlyZXR1cm4gYz11ZShjLGEuaW50ZXJuYWxDb250ZXh0VGFnLGQpLGNbXCJyZXR1cm5cIl09YSxjO2I9ZihiLGQpO2IucGVuZGluZ1Byb3BzPWM7YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIHAoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudHlwZSE9PWMudHlwZSlyZXR1cm4gZD1zZShjLGEuaW50ZXJuYWxDb250ZXh0VGFnLGQpLGQucmVmPU1lKGIsYyksZFtcInJldHVyblwiXT1hLGQ7ZD1mKGIsXG5kKTtkLnJlZj1NZShiLGMpO2QucGVuZGluZ1Byb3BzPWMucHJvcHM7ZFtcInJldHVyblwiXT1hO3JldHVybiBkfWZ1bmN0aW9uIHgoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09RGUpcmV0dXJuIGM9dmUoYyxhLmludGVybmFsQ29udGV4dFRhZyxkKSxjW1wicmV0dXJuXCJdPWEsYztiPWYoYixkKTtiLnBlbmRpbmdQcm9wcz1jO2JbXCJyZXR1cm5cIl09YTtyZXR1cm4gYn1mdW5jdGlvbiBTKGEsYixjLGQpe2lmKG51bGw9PT1ifHxiLnRhZyE9PUVlKXJldHVybiBiPXdlKGMsYS5pbnRlcm5hbENvbnRleHRUYWcsZCksYi50eXBlPWMudmFsdWUsYltcInJldHVyblwiXT1hLGI7Yj1mKGIsZCk7Yi50eXBlPWMudmFsdWU7YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIEQoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09Q2V8fGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1jLmNvbnRhaW5lckluZm98fGIuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09Yy5pbXBsZW1lbnRhdGlvbilyZXR1cm4gYz1cbnhlKGMsYS5pbnRlcm5hbENvbnRleHRUYWcsZCksY1tcInJldHVyblwiXT1hLGM7Yj1mKGIsZCk7Yi5wZW5kaW5nUHJvcHM9Yy5jaGlsZHJlbnx8W107YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIHkoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09RmUpcmV0dXJuIGM9dGUoYyxhLmludGVybmFsQ29udGV4dFRhZyxkKSxjW1wicmV0dXJuXCJdPWEsYztiPWYoYixkKTtiLnBlbmRpbmdQcm9wcz1jO2JbXCJyZXR1cm5cIl09YTtyZXR1cm4gYn1mdW5jdGlvbiBCKGEsYixjKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYilyZXR1cm4gYj11ZShcIlwiK2IsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGI7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09Yil7c3dpdGNoKGIuJCR0eXBlb2Ype2Nhc2UgS2U6cmV0dXJuIGM9c2UoYixhLmludGVybmFsQ29udGV4dFRhZyxjKSxjLnJlZj1NZShudWxsLGIpLGNbXCJyZXR1cm5cIl09XG5hLGM7Y2FzZSBvZTpyZXR1cm4gYj12ZShiLGEuaW50ZXJuYWxDb250ZXh0VGFnLGMpLGJbXCJyZXR1cm5cIl09YSxiO2Nhc2UgcGU6cmV0dXJuIGM9d2UoYixhLmludGVybmFsQ29udGV4dFRhZyxjKSxjLnR5cGU9Yi52YWx1ZSxjW1wicmV0dXJuXCJdPWEsYztjYXNlIHFlOnJldHVybiBiPXhlKGIsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGJ9aWYoeWUoYil8fExlKGIpKXJldHVybiBiPXRlKGIsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGI7TmUoYSxiKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBIKGEsYixjLGQpe3ZhciBlPW51bGwhPT1iP2Iua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjfHxcIm51bWJlclwiPT09dHlwZW9mIGMpcmV0dXJuIG51bGwhPT1lP251bGw6ayhhLGIsXCJcIitjLGQpO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYyYmbnVsbCE9PWMpe3N3aXRjaChjLiQkdHlwZW9mKXtjYXNlIEtlOnJldHVybiBjLmtleT09PWU/cChhLFxuYixjLGQpOm51bGw7Y2FzZSBvZTpyZXR1cm4gYy5rZXk9PT1lP3goYSxiLGMsZCk6bnVsbDtjYXNlIHBlOnJldHVybiBudWxsPT09ZT9TKGEsYixjLGQpOm51bGw7Y2FzZSBxZTpyZXR1cm4gYy5rZXk9PT1lP0QoYSxiLGMsZCk6bnVsbH1pZih5ZShjKXx8TGUoYykpcmV0dXJuIG51bGwhPT1lP251bGw6eShhLGIsYyxkKTtOZShhLGMpfXJldHVybiBudWxsfWZ1bmN0aW9uIEMoYSxiLGMsZCxlKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGR8fFwibnVtYmVyXCI9PT10eXBlb2YgZClyZXR1cm4gYT1hLmdldChjKXx8bnVsbCxrKGIsYSxcIlwiK2QsZSk7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCl7c3dpdGNoKGQuJCR0eXBlb2Ype2Nhc2UgS2U6cmV0dXJuIGE9YS5nZXQobnVsbD09PWQua2V5P2M6ZC5rZXkpfHxudWxsLHAoYixhLGQsZSk7Y2FzZSBvZTpyZXR1cm4gYT1hLmdldChudWxsPT09ZC5rZXk/YzpkLmtleSl8fG51bGwseChiLGEsZCxlKTtjYXNlIHBlOnJldHVybiBhPWEuZ2V0KGMpfHxcbm51bGwsUyhiLGEsZCxlKTtjYXNlIHFlOnJldHVybiBhPWEuZ2V0KG51bGw9PT1kLmtleT9jOmQua2V5KXx8bnVsbCxEKGIsYSxkLGUpfWlmKHllKGQpfHxMZShkKSlyZXR1cm4gYT1hLmdldChjKXx8bnVsbCx5KGIsYSxkLGUpO05lKGIsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ2EoYSxmLGgsayl7Zm9yKHZhciBtPW51bGwsdD1udWxsLHE9ZixyPWY9MCxwPW51bGw7bnVsbCE9PXEmJnI8aC5sZW5ndGg7cisrKXtxLmluZGV4PnI/KHA9cSxxPW51bGwpOnA9cS5zaWJsaW5nO3ZhciB2PUgoYSxxLGhbcl0sayk7aWYobnVsbD09PXYpe251bGw9PT1xJiYocT1wKTticmVha31iJiZxJiZudWxsPT09di5hbHRlcm5hdGUmJmMoYSxxKTtmPWcodixmLHIpO251bGw9PT10P209djp0LnNpYmxpbmc9djt0PXY7cT1wfWlmKHI9PT1oLmxlbmd0aClyZXR1cm4gZChhLHEpLG07aWYobnVsbD09PXEpe2Zvcig7cjxoLmxlbmd0aDtyKyspaWYocT1CKGEsaFtyXSxrKSlmPWcocSxmLHIpLG51bGw9PT1cbnQ/bT1xOnQuc2libGluZz1xLHQ9cTtyZXR1cm4gbX1mb3IocT1lKGEscSk7cjxoLmxlbmd0aDtyKyspaWYocD1DKHEsYSxyLGhbcl0saykpe2lmKGImJm51bGwhPT1wLmFsdGVybmF0ZSlxW1wiZGVsZXRlXCJdKG51bGw9PT1wLmtleT9yOnAua2V5KTtmPWcocCxmLHIpO251bGw9PT10P209cDp0LnNpYmxpbmc9cDt0PXB9YiYmcS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBjKGEsYil9KTtyZXR1cm4gbX1mdW5jdGlvbiByKGEsZixoLHIpe3ZhciBtPUxlKGgpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBtP3coXCIxNTBcIik6dm9pZCAwO2g9bS5jYWxsKGgpO251bGw9PWg/dyhcIjE1MVwiKTp2b2lkIDA7Zm9yKHZhciB0PW09bnVsbCxxPWYsaz1mPTAscD1udWxsLHY9aC5uZXh0KCk7bnVsbCE9PXEmJiF2LmRvbmU7aysrLHY9aC5uZXh0KCkpe3EuaW5kZXg+az8ocD1xLHE9bnVsbCk6cD1xLnNpYmxpbmc7dmFyIFY9SChhLHEsdi52YWx1ZSxyKTtpZihudWxsPT09Vil7cXx8KHE9cCk7YnJlYWt9YiYmXG5xJiZudWxsPT09Vi5hbHRlcm5hdGUmJmMoYSxxKTtmPWcoVixmLGspO251bGw9PT10P209Vjp0LnNpYmxpbmc9Vjt0PVY7cT1wfWlmKHYuZG9uZSlyZXR1cm4gZChhLHEpLG07aWYobnVsbD09PXEpe2Zvcig7IXYuZG9uZTtrKyssdj1oLm5leHQoKSl2PUIoYSx2LnZhbHVlLHIpLG51bGwhPT12JiYoZj1nKHYsZixrKSxudWxsPT09dD9tPXY6dC5zaWJsaW5nPXYsdD12KTtyZXR1cm4gbX1mb3IocT1lKGEscSk7IXYuZG9uZTtrKyssdj1oLm5leHQoKSlpZih2PUMocSxhLGssdi52YWx1ZSxyKSxudWxsIT09dil7aWYoYiYmbnVsbCE9PXYuYWx0ZXJuYXRlKXFbXCJkZWxldGVcIl0obnVsbD09PXYua2V5P2s6di5rZXkpO2Y9Zyh2LGYsayk7bnVsbD09PXQ/bT12OnQuc2libGluZz12O3Q9dn1iJiZxLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIGMoYSxiKX0pO3JldHVybiBtfXJldHVybiBmdW5jdGlvbihhLGIsZSxnKXt2YXIgbT1cIm9iamVjdFwiPT09dHlwZW9mIGUmJm51bGwhPT1lO2lmKG0pc3dpdGNoKGUuJCR0eXBlb2Ype2Nhc2UgS2U6YTp7dmFyIEM9XG5lLmtleTtmb3IobT1iO251bGwhPT1tOyl7aWYobS5rZXk9PT1DKWlmKG0udHlwZT09PWUudHlwZSl7ZChhLG0uc2libGluZyk7Yj1mKG0sZyk7Yi5yZWY9TWUobSxlKTtiLnBlbmRpbmdQcm9wcz1lLnByb3BzO2JbXCJyZXR1cm5cIl09YTthPWI7YnJlYWsgYX1lbHNle2QoYSxtKTticmVha31lbHNlIGMoYSxtKTttPW0uc2libGluZ31nPXNlKGUsYS5pbnRlcm5hbENvbnRleHRUYWcsZyk7Zy5yZWY9TWUoYixlKTtnW1wicmV0dXJuXCJdPWE7YT1nfXJldHVybiBoKGEpO2Nhc2Ugb2U6YTp7Zm9yKG09ZS5rZXk7bnVsbCE9PWI7KXtpZihiLmtleT09PW0paWYoYi50YWc9PT1EZSl7ZChhLGIuc2libGluZyk7Yj1mKGIsZyk7Yi5wZW5kaW5nUHJvcHM9ZTtiW1wicmV0dXJuXCJdPWE7YT1iO2JyZWFrIGF9ZWxzZXtkKGEsYik7YnJlYWt9ZWxzZSBjKGEsYik7Yj1iLnNpYmxpbmd9ZT12ZShlLGEuaW50ZXJuYWxDb250ZXh0VGFnLGcpO2VbXCJyZXR1cm5cIl09YTthPWV9cmV0dXJuIGgoYSk7Y2FzZSBwZTphOntpZihudWxsIT09XG5iKWlmKGIudGFnPT09RWUpe2QoYSxiLnNpYmxpbmcpO2I9ZihiLGcpO2IudHlwZT1lLnZhbHVlO2JbXCJyZXR1cm5cIl09YTthPWI7YnJlYWsgYX1lbHNlIGQoYSxiKTtiPXdlKGUsYS5pbnRlcm5hbENvbnRleHRUYWcsZyk7Yi50eXBlPWUudmFsdWU7YltcInJldHVyblwiXT1hO2E9Yn1yZXR1cm4gaChhKTtjYXNlIHFlOmE6e2ZvcihtPWUua2V5O251bGwhPT1iOyl7aWYoYi5rZXk9PT1tKWlmKGIudGFnPT09Q2UmJmIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm89PT1lLmNvbnRhaW5lckluZm8mJmIuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uPT09ZS5pbXBsZW1lbnRhdGlvbil7ZChhLGIuc2libGluZyk7Yj1mKGIsZyk7Yi5wZW5kaW5nUHJvcHM9ZS5jaGlsZHJlbnx8W107YltcInJldHVyblwiXT1hO2E9YjticmVhayBhfWVsc2V7ZChhLGIpO2JyZWFrfWVsc2UgYyhhLGIpO2I9Yi5zaWJsaW5nfWU9eGUoZSxhLmludGVybmFsQ29udGV4dFRhZyxnKTtlW1wicmV0dXJuXCJdPWE7YT1lfXJldHVybiBoKGEpfWlmKFwic3RyaW5nXCI9PT1cbnR5cGVvZiBlfHxcIm51bWJlclwiPT09dHlwZW9mIGUpcmV0dXJuIGU9XCJcIitlLG51bGwhPT1iJiZiLnRhZz09PUJlPyhkKGEsYi5zaWJsaW5nKSxiPWYoYixnKSxiLnBlbmRpbmdQcm9wcz1lLGJbXCJyZXR1cm5cIl09YSxhPWIpOihkKGEsYiksZT11ZShlLGEuaW50ZXJuYWxDb250ZXh0VGFnLGcpLGVbXCJyZXR1cm5cIl09YSxhPWUpLGgoYSk7aWYoeWUoZSkpcmV0dXJuIENhKGEsYixlLGcpO2lmKExlKGUpKXJldHVybiByKGEsYixlLGcpO20mJk5lKGEsZSk7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlKXN3aXRjaChhLnRhZyl7Y2FzZSBBZTpjYXNlIHplOmU9YS50eXBlLHcoXCIxNTJcIixlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCIpfXJldHVybiBkKGEsYil9fVxudmFyIFBlPU9lKCEwLCEwKSxRZT1PZSghMSwhMCksUmU9T2UoITEsITEpLFNlPXtyZWNvbmNpbGVDaGlsZEZpYmVyczpQZSxyZWNvbmNpbGVDaGlsZEZpYmVyc0luUGxhY2U6UWUsbW91bnRDaGlsZEZpYmVyc0luUGxhY2U6UmUsY2xvbmVDaGlsZEZpYmVyczpmdW5jdGlvbihhLGIpe251bGwhPT1hJiZiLmNoaWxkIT09YS5jaGlsZD93KFwiMTUzXCIpOnZvaWQgMDtpZihudWxsIT09Yi5jaGlsZCl7YT1iLmNoaWxkO3ZhciBjPXJlKGEsYS5wZW5kaW5nV29ya1ByaW9yaXR5KTtjLnBlbmRpbmdQcm9wcz1hLnBlbmRpbmdQcm9wcztiLmNoaWxkPWM7Zm9yKGNbXCJyZXR1cm5cIl09YjtudWxsIT09YS5zaWJsaW5nOylhPWEuc2libGluZyxjPWMuc2libGluZz1yZShhLGEucGVuZGluZ1dvcmtQcmlvcml0eSksYy5wZW5kaW5nUHJvcHM9YS5wZW5kaW5nUHJvcHMsY1tcInJldHVyblwiXT1iO2Muc2libGluZz1udWxsfX19LFRlPUouVXBkYXRlLFVlPVBkLkFzeW5jVXBkYXRlcyxWZT1SLmNhY2hlQ29udGV4dCxcbldlPVIuZ2V0TWFza2VkQ29udGV4dCxYZT1SLmdldFVubWFza2VkQ29udGV4dCxZZT1SLmlzQ29udGV4dENvbnN1bWVyLFplPXVkLmFkZFVwZGF0ZSwkZT11ZC5hZGRSZXBsYWNlVXBkYXRlLGFmPXVkLmFkZEZvcmNlVXBkYXRlLGJmPXVkLmJlZ2luVXBkYXRlUXVldWUsY2Y9Ui5oYXNDb250ZXh0Q2hhbmdlZCxkZj1iYi5pc01vdW50ZWQ7XG5mdW5jdGlvbiBlZihhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7Yi51cGRhdGVyPWY7YS5zdGF0ZU5vZGU9YjtQYS5zZXQoYixhKX12YXIgZj17aXNNb3VudGVkOmRmLGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihjLGQsZSl7Yz1QYS5nZXQoYyk7dmFyIGY9YihjLCExKTtaZShjLGQsdm9pZCAwPT09ZT9udWxsOmUsZik7YShjLGYpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGMsZCxlKXtjPVBhLmdldChjKTt2YXIgZj1iKGMsITEpOyRlKGMsZCx2b2lkIDA9PT1lP251bGw6ZSxmKTthKGMsZil9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbihjLGQpe2M9UGEuZ2V0KGMpO3ZhciBlPWIoYywhMSk7YWYoYyx2b2lkIDA9PT1kP251bGw6ZCxlKTthKGMsZSl9fTtyZXR1cm57YWRvcHRDbGFzc0luc3RhbmNlOmUsY29uc3RydWN0Q2xhc3NJbnN0YW5jZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudHlwZSxkPVhlKGEpLGY9WWUoYSksZz1mP1dlKGEsZCk6ZGE7Yj1uZXcgYyhiLGcpO1xuZShhLGIpO2YmJlZlKGEsZCxnKTtyZXR1cm4gYn0sbW91bnRDbGFzc0luc3RhbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5hbHRlcm5hdGUsZD1hLnN0YXRlTm9kZSxlPWQuc3RhdGV8fG51bGwsZz1hLnBlbmRpbmdQcm9wcztnP3ZvaWQgMDp3KFwiMTU4XCIpO3ZhciBoPVhlKGEpO2QucHJvcHM9ZztkLnN0YXRlPWU7ZC5yZWZzPWRhO2QuY29udGV4dD1XZShhLGgpO2VkLmVuYWJsZUFzeW5jU3VidHJlZUFQSSYmbnVsbCE9YS50eXBlJiZudWxsIT1hLnR5cGUucHJvdG90eXBlJiYhMD09PWEudHlwZS5wcm90b3R5cGUudW5zdGFibGVfaXNBc3luY1JlYWN0Q29tcG9uZW50JiYoYS5pbnRlcm5hbENvbnRleHRUYWd8PVVlKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnRXaWxsTW91bnQmJihoPWQuc3RhdGUsZC5jb21wb25lbnRXaWxsTW91bnQoKSxoIT09ZC5zdGF0ZSYmZi5lbnF1ZXVlUmVwbGFjZVN0YXRlKGQsZC5zdGF0ZSxudWxsKSxoPWEudXBkYXRlUXVldWUsbnVsbCE9PVxuaCYmKGQuc3RhdGU9YmYoYyxhLGgsZCxlLGcsYikpKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnREaWRNb3VudCYmKGEuZWZmZWN0VGFnfD1UZSl9LHVwZGF0ZUNsYXNzSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGUpe3ZhciBnPWIuc3RhdGVOb2RlO2cucHJvcHM9Yi5tZW1vaXplZFByb3BzO2cuc3RhdGU9Yi5tZW1vaXplZFN0YXRlO3ZhciBoPWIubWVtb2l6ZWRQcm9wcyxrPWIucGVuZGluZ1Byb3BzO2t8fChrPWgsbnVsbD09az93KFwiMTU5XCIpOnZvaWQgMCk7dmFyIEQ9Zy5jb250ZXh0LHk9WGUoYik7eT1XZShiLHkpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fGg9PT1rJiZEPT09eXx8KEQ9Zy5zdGF0ZSxnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoayx5KSxnLnN0YXRlIT09RCYmZi5lbnF1ZXVlUmVwbGFjZVN0YXRlKGcsZy5zdGF0ZSxudWxsKSk7RD1iLm1lbW9pemVkU3RhdGU7ZT1udWxsIT09Yi51cGRhdGVRdWV1ZT9iZihhLFxuYixiLnVwZGF0ZVF1ZXVlLGcsRCxrLGUpOkQ7aWYoIShoIT09a3x8RCE9PWV8fGNmKCl8fG51bGwhPT1iLnVwZGF0ZVF1ZXVlJiZiLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKSlyZXR1cm5cImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnREaWRVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJkQ9PT1hLm1lbW9pemVkU3RhdGV8fChiLmVmZmVjdFRhZ3w9VGUpLCExO3ZhciBCPWs7aWYobnVsbD09PWh8fG51bGwhPT1iLnVwZGF0ZVF1ZXVlJiZiLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKUI9ITA7ZWxzZXt2YXIgSD1iLnN0YXRlTm9kZSxDPWIudHlwZTtCPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBILnNob3VsZENvbXBvbmVudFVwZGF0ZT9ILnNob3VsZENvbXBvbmVudFVwZGF0ZShCLGUseSk6Qy5wcm90b3R5cGUmJkMucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50PyFlYShoLEIpfHwhZWEoRCxlKTohMH1CPyhcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnRXaWxsVXBkYXRlJiZcbmcuY29tcG9uZW50V2lsbFVwZGF0ZShrLGUseSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkVXBkYXRlJiYoYi5lZmZlY3RUYWd8PVRlKSk6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudERpZFVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmRD09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZWZmZWN0VGFnfD1UZSksYyhiLGspLGQoYixlKSk7Zy5wcm9wcz1rO2cuc3RhdGU9ZTtnLmNvbnRleHQ9eTtyZXR1cm4gQn19fVxudmFyIGZmPVNlLm1vdW50Q2hpbGRGaWJlcnNJblBsYWNlLGdmPVNlLnJlY29uY2lsZUNoaWxkRmliZXJzLGhmPVNlLnJlY29uY2lsZUNoaWxkRmliZXJzSW5QbGFjZSxqZj1TZS5jbG9uZUNoaWxkRmliZXJzLGtmPXVkLmJlZ2luVXBkYXRlUXVldWUsbGY9Ui5nZXRNYXNrZWRDb250ZXh0LG1mPVIuZ2V0VW5tYXNrZWRDb250ZXh0LG5mPVIuaGFzQ29udGV4dENoYW5nZWQsb2Y9Ui5wdXNoQ29udGV4dFByb3ZpZGVyLHBmPVIucHVzaFRvcExldmVsQ29udGV4dE9iamVjdCxxZj1SLmludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIscmY9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LHNmPUUuRnVuY3Rpb25hbENvbXBvbmVudCx0Zj1FLkNsYXNzQ29tcG9uZW50LHVmPUUuSG9zdFJvb3Qsd2Y9RS5Ib3N0Q29tcG9uZW50LHhmPUUuSG9zdFRleHQseWY9RS5Ib3N0UG9ydGFsLHpmPUUuQ29yb3V0aW5lQ29tcG9uZW50LEFmPUUuQ29yb3V0aW5lSGFuZGxlclBoYXNlLEJmPUUuWWllbGRDb21wb25lbnQsXG5DZj1FLkZyYWdtZW50LERmPVEuTm9Xb3JrLEVmPVEuT2Zmc2NyZWVuUHJpb3JpdHksRmY9Si5QZXJmb3JtZWRXb3JrLEdmPUouUGxhY2VtZW50LEhmPUouQ29udGVudFJlc2V0LElmPUouRXJyLEpmPUouUmVmLEtmPVFhLlJlYWN0Q3VycmVudE93bmVyO1xuZnVuY3Rpb24gTGYoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGEsYixjKXtnKGEsYixjLGIucGVuZGluZ1dvcmtQcmlvcml0eSl9ZnVuY3Rpb24gZyhhLGIsYyxkKXtiLmNoaWxkPW51bGw9PT1hP2ZmKGIsYi5jaGlsZCxjLGQpOmEuY2hpbGQ9PT1iLmNoaWxkP2dmKGIsYi5jaGlsZCxjLGQpOmhmKGIsYi5jaGlsZCxjLGQpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1iLnJlZjtudWxsPT09Y3x8YSYmYS5yZWY9PT1jfHwoYi5lZmZlY3RUYWd8PUpmKX1mdW5jdGlvbiBrKGEsYixjLGQpe2goYSxiKTtpZighYylyZXR1cm4gZCYmcWYoYiwhMSkseChhLGIpO2M9Yi5zdGF0ZU5vZGU7S2YuY3VycmVudD1iO3ZhciBlPWMucmVuZGVyKCk7Yi5lZmZlY3RUYWd8PUZmO2YoYSxiLGUpO2IubWVtb2l6ZWRTdGF0ZT1jLnN0YXRlO2IubWVtb2l6ZWRQcm9wcz1jLnByb3BzO2QmJnFmKGIsITApO3JldHVybiBiLmNoaWxkfWZ1bmN0aW9uIHAoYSl7dmFyIGI9YS5zdGF0ZU5vZGU7Yi5wZW5kaW5nQ29udGV4dD9cbnBmKGEsYi5wZW5kaW5nQ29udGV4dCxiLnBlbmRpbmdDb250ZXh0IT09Yi5jb250ZXh0KTpiLmNvbnRleHQmJnBmKGEsYi5jb250ZXh0LCExKTtDKGEsYi5jb250YWluZXJJbmZvKX1mdW5jdGlvbiB4KGEsYil7amYoYSxiKTtyZXR1cm4gYi5jaGlsZH1mdW5jdGlvbiBTKGEsYil7c3dpdGNoKGIudGFnKXtjYXNlIHVmOnAoYik7YnJlYWs7Y2FzZSB0ZjpvZihiKTticmVhaztjYXNlIHlmOkMoYixiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKX1yZXR1cm4gbnVsbH12YXIgRD1hLnNob3VsZFNldFRleHRDb250ZW50LHk9YS51c2VTeW5jU2NoZWR1bGluZyxCPWEuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSxIPWIucHVzaEhvc3RDb250ZXh0LEM9Yi5wdXNoSG9zdENvbnRhaW5lcixDYT1jLmVudGVySHlkcmF0aW9uU3RhdGUscj1jLnJlc2V0SHlkcmF0aW9uU3RhdGUsbT1jLnRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlO2E9ZWYoZCxlLGZ1bmN0aW9uKGEsYil7YS5tZW1vaXplZFByb3BzPVxuYn0sZnVuY3Rpb24oYSxiKXthLm1lbW9pemVkU3RhdGU9Yn0pO3ZhciB0PWEuYWRvcHRDbGFzc0luc3RhbmNlLHY9YS5jb25zdHJ1Y3RDbGFzc0luc3RhbmNlLFY9YS5tb3VudENsYXNzSW5zdGFuY2UsbGQ9YS51cGRhdGVDbGFzc0luc3RhbmNlO3JldHVybntiZWdpbldvcms6ZnVuY3Rpb24oYSxiLGMpe2lmKGIucGVuZGluZ1dvcmtQcmlvcml0eT09PURmfHxiLnBlbmRpbmdXb3JrUHJpb3JpdHk+YylyZXR1cm4gUyhhLGIpO3N3aXRjaChiLnRhZyl7Y2FzZSByZjpudWxsIT09YT93KFwiMTU1XCIpOnZvaWQgMDt2YXIgZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxnPW1mKGIpO2c9bGYoYixnKTtkPWQoZSxnKTtiLmVmZmVjdFRhZ3w9RmY7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGQucmVuZGVyPyhiLnRhZz10ZixlPW9mKGIpLHQoYixkKSxWKGIsYyksYj1rKGEsYiwhMCxlKSk6KGIudGFnPXNmLGYoYSxiLGQpLGIubWVtb2l6ZWRQcm9wcz1cbmUsYj1iLmNoaWxkKTtyZXR1cm4gYjtjYXNlIHNmOmE6e2U9Yi50eXBlO2M9Yi5wZW5kaW5nUHJvcHM7ZD1iLm1lbW9pemVkUHJvcHM7aWYobmYoKSludWxsPT09YyYmKGM9ZCk7ZWxzZSBpZihudWxsPT09Y3x8ZD09PWMpe2I9eChhLGIpO2JyZWFrIGF9ZD1tZihiKTtkPWxmKGIsZCk7ZT1lKGMsZCk7Yi5lZmZlY3RUYWd8PUZmO2YoYSxiLGUpO2IubWVtb2l6ZWRQcm9wcz1jO2I9Yi5jaGlsZH1yZXR1cm4gYjtjYXNlIHRmOnJldHVybiBlPW9mKGIpLGQ9dm9pZCAwLG51bGw9PT1hP2Iuc3RhdGVOb2RlP3coXCIxNTNcIik6KHYoYixiLnBlbmRpbmdQcm9wcyksVihiLGMpLGQ9ITApOmQ9bGQoYSxiLGMpLGsoYSxiLGQsZSk7Y2FzZSB1ZjpyZXR1cm4gcChiKSxkPWIudXBkYXRlUXVldWUsbnVsbCE9PWQ/KGU9Yi5tZW1vaXplZFN0YXRlLGQ9a2YoYSxiLGQsbnVsbCxlLG51bGwsYyksZT09PWQ/KHIoKSxiPXgoYSxiKSk6KGU9ZC5lbGVtZW50LG51bGwhPT1hJiZudWxsIT09YS5jaGlsZHx8XG4hQ2EoYik/KHIoKSxmKGEsYixlKSk6KGIuZWZmZWN0VGFnfD1HZixiLmNoaWxkPWZmKGIsYi5jaGlsZCxlLGMpKSxiLm1lbW9pemVkU3RhdGU9ZCxiPWIuY2hpbGQpKToocigpLGI9eChhLGIpKSxiO2Nhc2Ugd2Y6SChiKTtudWxsPT09YSYmbShiKTtlPWIudHlwZTt2YXIgcT1iLm1lbW9pemVkUHJvcHM7ZD1iLnBlbmRpbmdQcm9wcztudWxsPT09ZCYmKGQ9cSxudWxsPT09ZD93KFwiMTU0XCIpOnZvaWQgMCk7Zz1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6bnVsbDtuZigpfHxudWxsIT09ZCYmcSE9PWQ/KHE9ZC5jaGlsZHJlbixEKGUsZCk/cT1udWxsOmcmJkQoZSxnKSYmKGIuZWZmZWN0VGFnfD1IZiksaChhLGIpLGMhPT1FZiYmIXkmJkIoZSxkKT8oYi5wZW5kaW5nV29ya1ByaW9yaXR5PUVmLGI9bnVsbCk6KGYoYSxiLHEpLGIubWVtb2l6ZWRQcm9wcz1kLGI9Yi5jaGlsZCkpOmI9eChhLGIpO3JldHVybiBiO2Nhc2UgeGY6cmV0dXJuIG51bGw9PT1hJiZtKGIpLGE9Yi5wZW5kaW5nUHJvcHMsXG5udWxsPT09YSYmKGE9Yi5tZW1vaXplZFByb3BzKSxiLm1lbW9pemVkUHJvcHM9YSxudWxsO2Nhc2UgQWY6Yi50YWc9emY7Y2FzZSB6ZjpjPWIucGVuZGluZ1Byb3BzO2lmKG5mKCkpbnVsbD09PWMmJihjPWEmJmEubWVtb2l6ZWRQcm9wcyxudWxsPT09Yz93KFwiMTU0XCIpOnZvaWQgMCk7ZWxzZSBpZihudWxsPT09Y3x8Yi5tZW1vaXplZFByb3BzPT09YyljPWIubWVtb2l6ZWRQcm9wcztlPWMuY2hpbGRyZW47ZD1iLnBlbmRpbmdXb3JrUHJpb3JpdHk7Yi5zdGF0ZU5vZGU9bnVsbD09PWE/ZmYoYixiLnN0YXRlTm9kZSxlLGQpOmEuY2hpbGQ9PT1iLmNoaWxkP2dmKGIsYi5zdGF0ZU5vZGUsZSxkKTpoZihiLGIuc3RhdGVOb2RlLGUsZCk7Yi5tZW1vaXplZFByb3BzPWM7cmV0dXJuIGIuc3RhdGVOb2RlO2Nhc2UgQmY6cmV0dXJuIG51bGw7Y2FzZSB5ZjphOntDKGIsYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7Yz1iLnBlbmRpbmdXb3JrUHJpb3JpdHk7ZT1iLnBlbmRpbmdQcm9wcztpZihuZigpKW51bGw9PT1cbmUmJihlPWEmJmEubWVtb2l6ZWRQcm9wcyxudWxsPT1lP3coXCIxNTRcIik6dm9pZCAwKTtlbHNlIGlmKG51bGw9PT1lfHxiLm1lbW9pemVkUHJvcHM9PT1lKXtiPXgoYSxiKTticmVhayBhfW51bGw9PT1hP2IuY2hpbGQ9aGYoYixiLmNoaWxkLGUsYyk6ZihhLGIsZSk7Yi5tZW1vaXplZFByb3BzPWU7Yj1iLmNoaWxkfXJldHVybiBiO2Nhc2UgQ2Y6YTp7Yz1iLnBlbmRpbmdQcm9wcztpZihuZigpKW51bGw9PT1jJiYoYz1iLm1lbW9pemVkUHJvcHMpO2Vsc2UgaWYobnVsbD09PWN8fGIubWVtb2l6ZWRQcm9wcz09PWMpe2I9eChhLGIpO2JyZWFrIGF9ZihhLGIsYyk7Yi5tZW1vaXplZFByb3BzPWM7Yj1iLmNoaWxkfXJldHVybiBiO2RlZmF1bHQ6dyhcIjE1NlwiKX19LGJlZ2luRmFpbGVkV29yazpmdW5jdGlvbihhLGIsYyl7c3dpdGNoKGIudGFnKXtjYXNlIHRmOm9mKGIpO2JyZWFrO2Nhc2UgdWY6cChiKTticmVhaztkZWZhdWx0OncoXCIxNTdcIil9Yi5lZmZlY3RUYWd8PUlmO251bGw9PT1hP1xuYi5jaGlsZD1udWxsOmIuY2hpbGQhPT1hLmNoaWxkJiYoYi5jaGlsZD1hLmNoaWxkKTtpZihiLnBlbmRpbmdXb3JrUHJpb3JpdHk9PT1EZnx8Yi5wZW5kaW5nV29ya1ByaW9yaXR5PmMpcmV0dXJuIFMoYSxiKTtiLmZpcnN0RWZmZWN0PW51bGw7Yi5sYXN0RWZmZWN0PW51bGw7ZyhhLGIsbnVsbCxjKTtiLnRhZz09PXRmJiYoYT1iLnN0YXRlTm9kZSxiLm1lbW9pemVkUHJvcHM9YS5wcm9wcyxiLm1lbW9pemVkU3RhdGU9YS5zdGF0ZSk7cmV0dXJuIGIuY2hpbGR9fX1cbnZhciBNZj1TZS5yZWNvbmNpbGVDaGlsZEZpYmVycyxOZj1SLnBvcENvbnRleHRQcm92aWRlcixPZj1SLnBvcFRvcExldmVsQ29udGV4dE9iamVjdCxQZj1FLkluZGV0ZXJtaW5hdGVDb21wb25lbnQsUWY9RS5GdW5jdGlvbmFsQ29tcG9uZW50LFJmPUUuQ2xhc3NDb21wb25lbnQsU2Y9RS5Ib3N0Um9vdCxUZj1FLkhvc3RDb21wb25lbnQsVWY9RS5Ib3N0VGV4dCxWZj1FLkhvc3RQb3J0YWwsV2Y9RS5Db3JvdXRpbmVDb21wb25lbnQsWGY9RS5Db3JvdXRpbmVIYW5kbGVyUGhhc2UsWWY9RS5ZaWVsZENvbXBvbmVudCxaZj1FLkZyYWdtZW50LGFnPUouUGxhY2VtZW50LGJnPUouUmVmLGNnPUouVXBkYXRlLGRnPVEuT2Zmc2NyZWVuUHJpb3JpdHk7XG5mdW5jdGlvbiBlZyhhLGIsYyl7dmFyIGQ9YS5jcmVhdGVJbnN0YW5jZSxlPWEuY3JlYXRlVGV4dEluc3RhbmNlLGY9YS5hcHBlbmRJbml0aWFsQ2hpbGQsZz1hLmZpbmFsaXplSW5pdGlhbENoaWxkcmVuLGg9YS5wcmVwYXJlVXBkYXRlLGs9Yi5nZXRSb290SG9zdENvbnRhaW5lcixwPWIucG9wSG9zdENvbnRleHQseD1iLmdldEhvc3RDb250ZXh0LFM9Yi5wb3BIb3N0Q29udGFpbmVyLEQ9Yy5wcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLHk9Yy5wcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxCPWMucG9wSHlkcmF0aW9uU3RhdGU7cmV0dXJue2NvbXBsZXRlV29yazpmdW5jdGlvbihhLGIsYyl7dmFyIHI9Yi5wZW5kaW5nUHJvcHM7aWYobnVsbD09PXIpcj1iLm1lbW9pemVkUHJvcHM7ZWxzZSBpZihiLnBlbmRpbmdXb3JrUHJpb3JpdHkhPT1kZ3x8Yz09PWRnKWIucGVuZGluZ1Byb3BzPW51bGw7c3dpdGNoKGIudGFnKXtjYXNlIFFmOnJldHVybiBudWxsO2Nhc2UgUmY6cmV0dXJuIE5mKGIpLFxubnVsbDtjYXNlIFNmOlMoYik7T2YoYik7cj1iLnN0YXRlTm9kZTtyLnBlbmRpbmdDb250ZXh0JiYoci5jb250ZXh0PXIucGVuZGluZ0NvbnRleHQsci5wZW5kaW5nQ29udGV4dD1udWxsKTtpZihudWxsPT09YXx8bnVsbD09PWEuY2hpbGQpQihiKSxiLmVmZmVjdFRhZyY9fmFnO3JldHVybiBudWxsO2Nhc2UgVGY6cChiKTtjPWsoKTt2YXIgbT1iLnR5cGU7aWYobnVsbCE9PWEmJm51bGwhPWIuc3RhdGVOb2RlKXt2YXIgdD1hLm1lbW9pemVkUHJvcHMsQz1iLnN0YXRlTm9kZSxWPXgoKTtyPWgoQyxtLHQscixjLFYpO2lmKGIudXBkYXRlUXVldWU9ciliLmVmZmVjdFRhZ3w9Y2c7YS5yZWYhPT1iLnJlZiYmKGIuZWZmZWN0VGFnfD1iZyl9ZWxzZXtpZighcilyZXR1cm4gbnVsbD09PWIuc3RhdGVOb2RlP3coXCIxNjZcIik6dm9pZCAwLG51bGw7YT14KCk7aWYoQihiKSlEKGIsYyxhKSYmKGIuZWZmZWN0VGFnfD1jZyk7ZWxzZXthPWQobSxyLGMsYSxiKTthOmZvcih0PWIuY2hpbGQ7bnVsbCE9PVxudDspe2lmKHQudGFnPT09VGZ8fHQudGFnPT09VWYpZihhLHQuc3RhdGVOb2RlKTtlbHNlIGlmKHQudGFnIT09VmYmJm51bGwhPT10LmNoaWxkKXt0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWIpYnJlYWsgYTtmb3IoO251bGw9PT10LnNpYmxpbmc7KXtpZihudWxsPT09dFtcInJldHVyblwiXXx8dFtcInJldHVyblwiXT09PWIpYnJlYWsgYTt0PXRbXCJyZXR1cm5cIl19dD10LnNpYmxpbmd9ZyhhLG0scixjKSYmKGIuZWZmZWN0VGFnfD1jZyk7Yi5zdGF0ZU5vZGU9YX1udWxsIT09Yi5yZWYmJihiLmVmZmVjdFRhZ3w9YmcpfXJldHVybiBudWxsO2Nhc2UgVWY6aWYoYSYmbnVsbCE9Yi5zdGF0ZU5vZGUpYS5tZW1vaXplZFByb3BzIT09ciYmKGIuZWZmZWN0VGFnfD1jZyk7ZWxzZXtpZihcInN0cmluZ1wiIT09dHlwZW9mIHIpcmV0dXJuIG51bGw9PT1iLnN0YXRlTm9kZT93KFwiMTY2XCIpOnZvaWQgMCxudWxsO2E9aygpO2M9eCgpO0IoYik/eShiKSYmKGIuZWZmZWN0VGFnfD1jZyk6Yi5zdGF0ZU5vZGU9XG5lKHIsYSxjLGIpfXJldHVybiBudWxsO2Nhc2UgV2Y6KHI9Yi5tZW1vaXplZFByb3BzKT92b2lkIDA6dyhcIjE2NVwiKTtiLnRhZz1YZjtjPVtdO2E6Zm9yKChtPWIuc3RhdGVOb2RlKSYmKG1bXCJyZXR1cm5cIl09Yik7bnVsbCE9PW07KXtpZihtLnRhZz09PVRmfHxtLnRhZz09PVVmfHxtLnRhZz09PVZmKXcoXCIxNjRcIik7ZWxzZSBpZihtLnRhZz09PVlmKWMucHVzaChtLnR5cGUpO2Vsc2UgaWYobnVsbCE9PW0uY2hpbGQpe20uY2hpbGRbXCJyZXR1cm5cIl09bTttPW0uY2hpbGQ7Y29udGludWV9Zm9yKDtudWxsPT09bS5zaWJsaW5nOyl7aWYobnVsbD09PW1bXCJyZXR1cm5cIl18fG1bXCJyZXR1cm5cIl09PT1iKWJyZWFrIGE7bT1tW1wicmV0dXJuXCJdfW0uc2libGluZ1tcInJldHVyblwiXT1tW1wicmV0dXJuXCJdO209bS5zaWJsaW5nfW09ci5oYW5kbGVyO3I9bShyLnByb3BzLGMpO2IuY2hpbGQ9TWYoYixudWxsIT09YT9hLmNoaWxkOm51bGwscixiLnBlbmRpbmdXb3JrUHJpb3JpdHkpO3JldHVybiBiLmNoaWxkO1xuY2FzZSBYZjpyZXR1cm4gYi50YWc9V2YsbnVsbDtjYXNlIFlmOnJldHVybiBudWxsO2Nhc2UgWmY6cmV0dXJuIG51bGw7Y2FzZSBWZjpyZXR1cm4gYi5lZmZlY3RUYWd8PWNnLFMoYiksbnVsbDtjYXNlIFBmOncoXCIxNjdcIik7ZGVmYXVsdDp3KFwiMTU2XCIpfX19fXZhciBmZz1udWxsLGdnPW51bGw7ZnVuY3Rpb24gaGcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4gYShiKX1jYXRjaChjKXt9fX1cbnZhciBpZz17aW5qZWN0SW50ZXJuYWxzOmZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKXJldHVybiExO3ZhciBiPV9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztpZighYi5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgYz1iLmluamVjdChhKTtmZz1oZyhmdW5jdGlvbihhKXtyZXR1cm4gYi5vbkNvbW1pdEZpYmVyUm9vdChjLGEpfSk7Z2c9aGcoZnVuY3Rpb24oYSl7cmV0dXJuIGIub25Db21taXRGaWJlclVubW91bnQoYyxhKX0pfWNhdGNoKGQpe31yZXR1cm4hMH0sb25Db21taXRSb290OmZ1bmN0aW9uKGEpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmZyYmZmcoYSl9LG9uQ29tbWl0VW5tb3VudDpmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZ2cmJmdnKGEpfX0samc9RS5DbGFzc0NvbXBvbmVudCxrZz1FLkhvc3RSb290LGxnPUUuSG9zdENvbXBvbmVudCxtZz1FLkhvc3RUZXh0LG5nPVxuRS5Ib3N0UG9ydGFsLG9nPUUuQ29yb3V0aW5lQ29tcG9uZW50LHBnPXVkLmNvbW1pdENhbGxiYWNrcyxxZz1pZy5vbkNvbW1pdFVubW91bnQscmc9Si5QbGFjZW1lbnQsc2c9Si5VcGRhdGUsdGc9Si5DYWxsYmFjayx1Zz1KLkNvbnRlbnRSZXNldDtcbmZ1bmN0aW9uIHZnKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYz1hLnJlZjtpZihudWxsIT09Yyl0cnl7YyhudWxsKX1jYXRjaCh0KXtiKGEsdCl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGFnPT09bGd8fGEudGFnPT09a2d8fGEudGFnPT09bmd9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9YTs7KWlmKGcoYiksbnVsbCE9PWIuY2hpbGQmJmIudGFnIT09bmcpYi5jaGlsZFtcInJldHVyblwiXT1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm47Yj1iW1wicmV0dXJuXCJdfWIuc2libGluZ1tcInJldHVyblwiXT1iW1wicmV0dXJuXCJdO2I9Yi5zaWJsaW5nfX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj1hLGM9ITEsZD12b2lkIDAsZj12b2lkIDA7Oyl7aWYoIWMpe2M9YltcInJldHVyblwiXTthOmZvcig7Oyl7bnVsbD09PWM/dyhcIjE2MFwiKTp2b2lkIDA7c3dpdGNoKGMudGFnKXtjYXNlIGxnOmQ9XG5jLnN0YXRlTm9kZTtmPSExO2JyZWFrIGE7Y2FzZSBrZzpkPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87Zj0hMDticmVhayBhO2Nhc2Ugbmc6ZD1jLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO2Y9ITA7YnJlYWsgYX1jPWNbXCJyZXR1cm5cIl19Yz0hMH1pZihiLnRhZz09PWxnfHxiLnRhZz09PW1nKWUoYiksZj9DKGQsYi5zdGF0ZU5vZGUpOkgoZCxiLnN0YXRlTm9kZSk7ZWxzZSBpZihiLnRhZz09PW5nP2Q9Yi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpnKGIpLG51bGwhPT1iLmNoaWxkKXtiLmNoaWxkW1wicmV0dXJuXCJdPWI7Yj1iLmNoaWxkO2NvbnRpbnVlfWlmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm47Yj1iW1wicmV0dXJuXCJdO2IudGFnPT09bmcmJihjPSExKX1iLnNpYmxpbmdbXCJyZXR1cm5cIl09YltcInJldHVyblwiXTtiPWIuc2libGluZ319ZnVuY3Rpb24gZyhhKXtcImZ1bmN0aW9uXCI9PT1cbnR5cGVvZiBxZyYmcWcoYSk7c3dpdGNoKGEudGFnKXtjYXNlIGpnOmMoYSk7dmFyIGQ9YS5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e2QucHJvcHM9YS5tZW1vaXplZFByb3BzLGQuc3RhdGU9YS5tZW1vaXplZFN0YXRlLGQuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaCh0KXtiKGEsdCl9YnJlYWs7Y2FzZSBsZzpjKGEpO2JyZWFrO2Nhc2Ugb2c6ZShhLnN0YXRlTm9kZSk7YnJlYWs7Y2FzZSBuZzpmKGEpfX12YXIgaD1hLmNvbW1pdE1vdW50LGs9YS5jb21taXRVcGRhdGUscD1hLnJlc2V0VGV4dENvbnRlbnQseD1hLmNvbW1pdFRleHRVcGRhdGUsUz1hLmFwcGVuZENoaWxkLEQ9YS5hcHBlbmRDaGlsZFRvQ29udGFpbmVyLHk9YS5pbnNlcnRCZWZvcmUsQj1hLmluc2VydEluQ29udGFpbmVyQmVmb3JlLEg9YS5yZW1vdmVDaGlsZCxDPWEucmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyLENhPWEuZ2V0UHVibGljSW5zdGFuY2U7XG5yZXR1cm57Y29tbWl0UGxhY2VtZW50OmZ1bmN0aW9uKGEpe2E6e2Zvcih2YXIgYj1hW1wicmV0dXJuXCJdO251bGwhPT1iOyl7aWYoZChiKSl7dmFyIGM9YjticmVhayBhfWI9YltcInJldHVyblwiXX13KFwiMTYwXCIpO2M9dm9pZCAwfXZhciBlPWI9dm9pZCAwO3N3aXRjaChjLnRhZyl7Y2FzZSBsZzpiPWMuc3RhdGVOb2RlO2U9ITE7YnJlYWs7Y2FzZSBrZzpiPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZT0hMDticmVhaztjYXNlIG5nOmI9Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztlPSEwO2JyZWFrO2RlZmF1bHQ6dyhcIjE2MVwiKX1jLmVmZmVjdFRhZyZ1ZyYmKHAoYiksYy5lZmZlY3RUYWcmPX51Zyk7YTpiOmZvcihjPWE7Oyl7Zm9yKDtudWxsPT09Yy5zaWJsaW5nOyl7aWYobnVsbD09PWNbXCJyZXR1cm5cIl18fGQoY1tcInJldHVyblwiXSkpe2M9bnVsbDticmVhayBhfWM9Y1tcInJldHVyblwiXX1jLnNpYmxpbmdbXCJyZXR1cm5cIl09Y1tcInJldHVyblwiXTtmb3IoYz1jLnNpYmxpbmc7Yy50YWchPT1cbmxnJiZjLnRhZyE9PW1nOyl7aWYoYy5lZmZlY3RUYWcmcmcpY29udGludWUgYjtpZihudWxsPT09Yy5jaGlsZHx8Yy50YWc9PT1uZyljb250aW51ZSBiO2Vsc2UgYy5jaGlsZFtcInJldHVyblwiXT1jLGM9Yy5jaGlsZH1pZighKGMuZWZmZWN0VGFnJnJnKSl7Yz1jLnN0YXRlTm9kZTticmVhayBhfX1mb3IodmFyIGY9YTs7KXtpZihmLnRhZz09PWxnfHxmLnRhZz09PW1nKWM/ZT9CKGIsZi5zdGF0ZU5vZGUsYyk6eShiLGYuc3RhdGVOb2RlLGMpOmU/RChiLGYuc3RhdGVOb2RlKTpTKGIsZi5zdGF0ZU5vZGUpO2Vsc2UgaWYoZi50YWchPT1uZyYmbnVsbCE9PWYuY2hpbGQpe2YuY2hpbGRbXCJyZXR1cm5cIl09ZjtmPWYuY2hpbGQ7Y29udGludWV9aWYoZj09PWEpYnJlYWs7Zm9yKDtudWxsPT09Zi5zaWJsaW5nOyl7aWYobnVsbD09PWZbXCJyZXR1cm5cIl18fGZbXCJyZXR1cm5cIl09PT1hKXJldHVybjtmPWZbXCJyZXR1cm5cIl19Zi5zaWJsaW5nW1wicmV0dXJuXCJdPWZbXCJyZXR1cm5cIl07Zj1mLnNpYmxpbmd9fSxcbmNvbW1pdERlbGV0aW9uOmZ1bmN0aW9uKGEpe2YoYSk7YVtcInJldHVyblwiXT1udWxsO2EuY2hpbGQ9bnVsbDthLmFsdGVybmF0ZSYmKGEuYWx0ZXJuYXRlLmNoaWxkPW51bGwsYS5hbHRlcm5hdGVbXCJyZXR1cm5cIl09bnVsbCl9LGNvbW1pdFdvcms6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYi50YWcpe2Nhc2Ugamc6YnJlYWs7Y2FzZSBsZzp2YXIgYz1iLnN0YXRlTm9kZTtpZihudWxsIT1jKXt2YXIgZD1iLm1lbW9pemVkUHJvcHM7YT1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6ZDt2YXIgZT1iLnR5cGUsZj1iLnVwZGF0ZVF1ZXVlO2IudXBkYXRlUXVldWU9bnVsbDtudWxsIT09ZiYmayhjLGYsZSxhLGQsYil9YnJlYWs7Y2FzZSBtZzpudWxsPT09Yi5zdGF0ZU5vZGU/dyhcIjE2MlwiKTp2b2lkIDA7Yz1iLm1lbW9pemVkUHJvcHM7eChiLnN0YXRlTm9kZSxudWxsIT09YT9hLm1lbW9pemVkUHJvcHM6YyxjKTticmVhaztjYXNlIGtnOmJyZWFrO2Nhc2Ugbmc6YnJlYWs7ZGVmYXVsdDp3KFwiMTYzXCIpfX0sXG5jb21taXRMaWZlQ3ljbGVzOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGIudGFnKXtjYXNlIGpnOnZhciBjPWIuc3RhdGVOb2RlO2lmKGIuZWZmZWN0VGFnJnNnKWlmKG51bGw9PT1hKWMucHJvcHM9Yi5tZW1vaXplZFByb3BzLGMuc3RhdGU9Yi5tZW1vaXplZFN0YXRlLGMuY29tcG9uZW50RGlkTW91bnQoKTtlbHNle3ZhciBkPWEubWVtb2l6ZWRQcm9wczthPWEubWVtb2l6ZWRTdGF0ZTtjLnByb3BzPWIubWVtb2l6ZWRQcm9wcztjLnN0YXRlPWIubWVtb2l6ZWRTdGF0ZTtjLmNvbXBvbmVudERpZFVwZGF0ZShkLGEpfWIuZWZmZWN0VGFnJnRnJiZudWxsIT09Yi51cGRhdGVRdWV1ZSYmcGcoYixiLnVwZGF0ZVF1ZXVlLGMpO2JyZWFrO2Nhc2Uga2c6YT1iLnVwZGF0ZVF1ZXVlO251bGwhPT1hJiZwZyhiLGEsYi5jaGlsZCYmYi5jaGlsZC5zdGF0ZU5vZGUpO2JyZWFrO2Nhc2UgbGc6Yz1iLnN0YXRlTm9kZTtudWxsPT09YSYmYi5lZmZlY3RUYWcmc2cmJmgoYyxiLnR5cGUsYi5tZW1vaXplZFByb3BzLFxuYik7YnJlYWs7Y2FzZSBtZzpicmVhaztjYXNlIG5nOmJyZWFrO2RlZmF1bHQ6dyhcIjE2M1wiKX19LGNvbW1pdEF0dGFjaFJlZjpmdW5jdGlvbihhKXt2YXIgYj1hLnJlZjtpZihudWxsIT09Yil7dmFyIGM9YS5zdGF0ZU5vZGU7c3dpdGNoKGEudGFnKXtjYXNlIGxnOmIoQ2EoYykpO2JyZWFrO2RlZmF1bHQ6YihjKX19fSxjb21taXREZXRhY2hSZWY6ZnVuY3Rpb24oYSl7YT1hLnJlZjtudWxsIT09YSYmYShudWxsKX19fXZhciB3Zz14ZC5jcmVhdGVDdXJzb3IseGc9eGQucG9wLHlnPXhkLnB1c2gsemc9e307XG5mdW5jdGlvbiBBZyhhKXtmdW5jdGlvbiBiKGEpe2E9PT16Zz93KFwiMTc0XCIpOnZvaWQgMDtyZXR1cm4gYX12YXIgYz1hLmdldENoaWxkSG9zdENvbnRleHQsZD1hLmdldFJvb3RIb3N0Q29udGV4dCxlPXdnKHpnKSxmPXdnKHpnKSxnPXdnKHpnKTtyZXR1cm57Z2V0SG9zdENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYihlLmN1cnJlbnQpfSxnZXRSb290SG9zdENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiBiKGcuY3VycmVudCl9LHBvcEhvc3RDb250YWluZXI6ZnVuY3Rpb24oYSl7eGcoZSxhKTt4ZyhmLGEpO3hnKGcsYSl9LHBvcEhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe2YuY3VycmVudD09PWEmJih4ZyhlLGEpLHhnKGYsYSkpfSxwdXNoSG9zdENvbnRhaW5lcjpmdW5jdGlvbihhLGIpe3lnKGcsYixhKTtiPWQoYik7eWcoZixhLGEpO3lnKGUsYixhKX0scHVzaEhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBkPWIoZy5jdXJyZW50KSxoPWIoZS5jdXJyZW50KTtkPWMoaCxhLnR5cGUsXG5kKTtoIT09ZCYmKHlnKGYsYSxhKSx5ZyhlLGQsYSkpfSxyZXNldEhvc3RDb250YWluZXI6ZnVuY3Rpb24oKXtlLmN1cnJlbnQ9emc7Zy5jdXJyZW50PXpnfX19dmFyIEJnPUUuSG9zdENvbXBvbmVudCxDZz1FLkhvc3RUZXh0LERnPUUuSG9zdFJvb3QsRWc9Si5EZWxldGlvbixGZz1KLlBsYWNlbWVudCxHZz1kZS5jcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbjtcbmZ1bmN0aW9uIEhnKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz1HZygpO2Muc3RhdGVOb2RlPWI7Y1tcInJldHVyblwiXT1hO2MuZWZmZWN0VGFnPUVnO251bGwhPT1hLmxhc3RFZmZlY3Q/KGEubGFzdEVmZmVjdC5uZXh0RWZmZWN0PWMsYS5sYXN0RWZmZWN0PWMpOmEuZmlyc3RFZmZlY3Q9YS5sYXN0RWZmZWN0PWN9ZnVuY3Rpb24gYyhhLGIpe3N3aXRjaChhLnRhZyl7Y2FzZSBCZzpyZXR1cm4gZihiLGEudHlwZSxhLnBlbmRpbmdQcm9wcyk7Y2FzZSBDZzpyZXR1cm4gZyhiLGEucGVuZGluZ1Byb3BzKTtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBkKGEpe2ZvcihhPWFbXCJyZXR1cm5cIl07bnVsbCE9PWEmJmEudGFnIT09QmcmJmEudGFnIT09RGc7KWE9YVtcInJldHVyblwiXTt5PWF9dmFyIGU9YS5zaG91bGRTZXRUZXh0Q29udGVudCxmPWEuY2FuSHlkcmF0ZUluc3RhbmNlLGc9YS5jYW5IeWRyYXRlVGV4dEluc3RhbmNlLGg9YS5nZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcsaz1hLmdldEZpcnN0SHlkcmF0YWJsZUNoaWxkLFxucD1hLmh5ZHJhdGVJbnN0YW5jZSx4PWEuaHlkcmF0ZVRleHRJbnN0YW5jZSxTPWEuZGlkTm90SHlkcmF0ZUluc3RhbmNlLEQ9YS5kaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlO2E9YS5kaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTtpZighKGYmJmcmJmgmJmsmJnAmJngmJlMmJkQmJmEpKXJldHVybntlbnRlckh5ZHJhdGlvblN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHJlc2V0SHlkcmF0aW9uU3RhdGU6ZnVuY3Rpb24oKXt9LHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlOmZ1bmN0aW9uKCl7fSxwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOmZ1bmN0aW9uKCl7dyhcIjE3NVwiKX0scHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oKXt3KFwiMTc2XCIpfSxwb3BIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbigpe3JldHVybiExfX07dmFyIHk9bnVsbCxCPW51bGwsSD0hMTtyZXR1cm57ZW50ZXJIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbihhKXtCPVxuayhhLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTt5PWE7cmV0dXJuIEg9ITB9LHJlc2V0SHlkcmF0aW9uU3RhdGU6ZnVuY3Rpb24oKXtCPXk9bnVsbDtIPSExfSx0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTpmdW5jdGlvbihhKXtpZihIKXt2YXIgZD1CO2lmKGQpe2lmKCFjKGEsZCkpe2Q9aChkKTtpZighZHx8IWMoYSxkKSl7YS5lZmZlY3RUYWd8PUZnO0g9ITE7eT1hO3JldHVybn1iKHksQil9YS5zdGF0ZU5vZGU9ZDt5PWE7Qj1rKGQpfWVsc2UgYS5lZmZlY3RUYWd8PUZnLEg9ITEseT1hfX0scHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyl7Yj1wKGEuc3RhdGVOb2RlLGEudHlwZSxhLm1lbW9pemVkUHJvcHMsYixjLGEpO2EudXBkYXRlUXVldWU9YjtyZXR1cm4gbnVsbCE9PWI/ITA6ITF9LHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOmZ1bmN0aW9uKGEpe3JldHVybiB4KGEuc3RhdGVOb2RlLGEubWVtb2l6ZWRQcm9wcyxhKX0sXG5wb3BIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbihhKXtpZihhIT09eSlyZXR1cm4hMTtpZighSClyZXR1cm4gZChhKSxIPSEwLCExO3ZhciBjPWEudHlwZTtpZihhLnRhZyE9PUJnfHxcImhlYWRcIiE9PWMmJlwiYm9keVwiIT09YyYmIWUoYyxhLm1lbW9pemVkUHJvcHMpKWZvcihjPUI7YzspYihhLGMpLGM9aChjKTtkKGEpO0I9eT9oKGEuc3RhdGVOb2RlKTpudWxsO3JldHVybiEwfX19XG52YXIgSWc9Ui5wb3BDb250ZXh0UHJvdmlkZXIsSmc9eGQucmVzZXQsS2c9UWEuUmVhY3RDdXJyZW50T3duZXIsTGc9ZGUuY3JlYXRlV29ya0luUHJvZ3Jlc3MsTWc9ZGUubGFyZ2VyUHJpb3JpdHksTmc9aWcub25Db21taXRSb290LFQ9US5Ob1dvcmssT2c9US5TeW5jaHJvbm91c1ByaW9yaXR5LFU9US5UYXNrUHJpb3JpdHksUGc9US5IaWdoUHJpb3JpdHksUWc9US5Mb3dQcmlvcml0eSxSZz1RLk9mZnNjcmVlblByaW9yaXR5LFNnPVBkLkFzeW5jVXBkYXRlcyxUZz1KLlBlcmZvcm1lZFdvcmssVWc9Si5QbGFjZW1lbnQsVmc9Si5VcGRhdGUsV2c9Si5QbGFjZW1lbnRBbmRVcGRhdGUsWGc9Si5EZWxldGlvbixZZz1KLkNvbnRlbnRSZXNldCxaZz1KLkNhbGxiYWNrLCRnPUouRXJyLGFoPUouUmVmLGJoPUUuSG9zdFJvb3QsY2g9RS5Ib3N0Q29tcG9uZW50LGRoPUUuSG9zdFBvcnRhbCxlaD1FLkNsYXNzQ29tcG9uZW50LGZoPXVkLmdldFVwZGF0ZVByaW9yaXR5LGdoPVIucmVzZXRDb250ZXh0O1xuZnVuY3Rpb24gaGgoYSl7ZnVuY3Rpb24gYigpe2Zvcig7bnVsbCE9PW1hJiZtYS5jdXJyZW50LnBlbmRpbmdXb3JrUHJpb3JpdHk9PT1UOyl7bWEuaXNTY2hlZHVsZWQ9ITE7dmFyIGE9bWEubmV4dFNjaGVkdWxlZFJvb3Q7bWEubmV4dFNjaGVkdWxlZFJvb3Q9bnVsbDtpZihtYT09PXpiKXJldHVybiB6Yj1tYT1udWxsLHo9VCxudWxsO21hPWF9YT1tYTtmb3IodmFyIGI9bnVsbCxjPVQ7bnVsbCE9PWE7KWEuY3VycmVudC5wZW5kaW5nV29ya1ByaW9yaXR5IT09VCYmKGM9PT1UfHxjPmEuY3VycmVudC5wZW5kaW5nV29ya1ByaW9yaXR5KSYmKGM9YS5jdXJyZW50LnBlbmRpbmdXb3JrUHJpb3JpdHksYj1hKSxhPWEubmV4dFNjaGVkdWxlZFJvb3Q7bnVsbCE9PWI/KHo9YyxKZygpLGdoKCksdCgpLEk9TGcoYi5jdXJyZW50LGMpLGIhPT1uYyYmKG9jPTAsbmM9YikpOih6PVQsbmM9ST1udWxsKX1mdW5jdGlvbiBjKGMpe0hkPSEwO25hPW51bGw7dmFyIGQ9Yy5zdGF0ZU5vZGU7ZC5jdXJyZW50PT09XG5jP3coXCIxNzdcIik6dm9pZCAwO3ohPT1PZyYmeiE9PVV8fG9jKys7S2cuY3VycmVudD1udWxsO2lmKGMuZWZmZWN0VGFnPlRnKWlmKG51bGwhPT1jLmxhc3RFZmZlY3Qpe2MubGFzdEVmZmVjdC5uZXh0RWZmZWN0PWM7dmFyIGU9Yy5maXJzdEVmZmVjdH1lbHNlIGU9YztlbHNlIGU9Yy5maXJzdEVmZmVjdDtVaSgpO2Zvcih1PWU7bnVsbCE9PXU7KXt2YXIgZj0hMSxnPXZvaWQgMDt0cnl7Zm9yKDtudWxsIT09dTspe3ZhciBoPXUuZWZmZWN0VGFnO2gmWWcmJmEucmVzZXRUZXh0Q29udGVudCh1LnN0YXRlTm9kZSk7aWYoaCZhaCl7dmFyIGs9dS5hbHRlcm5hdGU7bnVsbCE9PWsmJlBoKGspfXN3aXRjaChoJn4oWmd8JGd8WWd8YWh8VGcpKXtjYXNlIFVnOnEodSk7dS5lZmZlY3RUYWcmPX5VZzticmVhaztjYXNlIFdnOnEodSk7dS5lZmZlY3RUYWcmPX5VZzt2Zih1LmFsdGVybmF0ZSx1KTticmVhaztjYXNlIFZnOnZmKHUuYWx0ZXJuYXRlLHUpO2JyZWFrO2Nhc2UgWGc6SWQ9ITAsTWgodSksXG5JZD0hMX11PXUubmV4dEVmZmVjdH19Y2F0Y2goSmQpe2Y9ITAsZz1KZH1mJiYobnVsbD09PXU/dyhcIjE3OFwiKTp2b2lkIDAseCh1LGcpLG51bGwhPT11JiYodT11Lm5leHRFZmZlY3QpKX1WaSgpO2QuY3VycmVudD1jO2Zvcih1PWU7bnVsbCE9PXU7KXtkPSExO2U9dm9pZCAwO3RyeXtmb3IoO251bGwhPT11Oyl7dmFyIEdkPXUuZWZmZWN0VGFnO0dkJihWZ3xaZykmJk5oKHUuYWx0ZXJuYXRlLHUpO0dkJmFoJiZPaCh1KTtpZihHZCYkZylzd2l0Y2goZj11LGc9dm9pZCAwLG51bGwhPT1QJiYoZz1QLmdldChmKSxQW1wiZGVsZXRlXCJdKGYpLG51bGw9PWcmJm51bGwhPT1mLmFsdGVybmF0ZSYmKGY9Zi5hbHRlcm5hdGUsZz1QLmdldChmKSxQW1wiZGVsZXRlXCJdKGYpKSksbnVsbD09Zz93KFwiMTg0XCIpOnZvaWQgMCxmLnRhZyl7Y2FzZSBlaDpmLnN0YXRlTm9kZS5jb21wb25lbnREaWRDYXRjaChnLmVycm9yLHtjb21wb25lbnRTdGFjazpnLmNvbXBvbmVudFN0YWNrfSk7YnJlYWs7Y2FzZSBiaDpudWxsPT09XG5KYSYmKEphPWcuZXJyb3IpO2JyZWFrO2RlZmF1bHQ6dyhcIjE1N1wiKX12YXIgbT11Lm5leHRFZmZlY3Q7dS5uZXh0RWZmZWN0PW51bGw7dT1tfX1jYXRjaChKZCl7ZD0hMCxlPUpkfWQmJihudWxsPT09dT93KFwiMTc4XCIpOnZvaWQgMCx4KHUsZSksbnVsbCE9PXUmJih1PXUubmV4dEVmZmVjdCkpfUhkPSExO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBOZyYmTmcoYy5zdGF0ZU5vZGUpO3ZhJiYodmEuZm9yRWFjaChIKSx2YT1udWxsKTtiKCl9ZnVuY3Rpb24gZChhKXtmb3IoOzspe3ZhciBiPUxoKGEuYWx0ZXJuYXRlLGEseiksYz1hW1wicmV0dXJuXCJdLGQ9YS5zaWJsaW5nO3ZhciBlPWE7aWYoIShlLnBlbmRpbmdXb3JrUHJpb3JpdHkhPT1UJiZlLnBlbmRpbmdXb3JrUHJpb3JpdHk+eikpe2Zvcih2YXIgZj1maChlKSxnPWUuY2hpbGQ7bnVsbCE9PWc7KWY9TWcoZixnLnBlbmRpbmdXb3JrUHJpb3JpdHkpLGc9Zy5zaWJsaW5nO2UucGVuZGluZ1dvcmtQcmlvcml0eT1mfWlmKG51bGwhPT1iKXJldHVybiBiO1xubnVsbCE9PWMmJihudWxsPT09Yy5maXJzdEVmZmVjdCYmKGMuZmlyc3RFZmZlY3Q9YS5maXJzdEVmZmVjdCksbnVsbCE9PWEubGFzdEVmZmVjdCYmKG51bGwhPT1jLmxhc3RFZmZlY3QmJihjLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1hLmZpcnN0RWZmZWN0KSxjLmxhc3RFZmZlY3Q9YS5sYXN0RWZmZWN0KSxhLmVmZmVjdFRhZz5UZyYmKG51bGwhPT1jLmxhc3RFZmZlY3Q/Yy5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9YTpjLmZpcnN0RWZmZWN0PWEsYy5sYXN0RWZmZWN0PWEpKTtpZihudWxsIT09ZClyZXR1cm4gZDtpZihudWxsIT09YylhPWM7ZWxzZXtuYT1hO2JyZWFrfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEpe3ZhciBiPVYoYS5hbHRlcm5hdGUsYSx6KTtudWxsPT09YiYmKGI9ZChhKSk7S2cuY3VycmVudD1udWxsO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7dmFyIGI9bGQoYS5hbHRlcm5hdGUsYSx6KTtudWxsPT09YiYmKGI9ZChhKSk7S2cuY3VycmVudD1udWxsO3JldHVybiBifVxuZnVuY3Rpb24gZyhhKXtwKFJnLGEpfWZ1bmN0aW9uIGgoKXtpZihudWxsIT09UCYmMDxQLnNpemUmJno9PT1VKWZvcig7bnVsbCE9PUk7KXt2YXIgYT1JO0k9bnVsbCE9PVAmJihQLmhhcyhhKXx8bnVsbCE9PWEuYWx0ZXJuYXRlJiZQLmhhcyhhLmFsdGVybmF0ZSkpP2YoSSk6ZShJKTtpZihudWxsPT09SSYmKG51bGw9PT1uYT93KFwiMTc5XCIpOnZvaWQgMCxPPVUsYyhuYSksTz16LG51bGw9PT1QfHwwPT09UC5zaXplfHx6IT09VSkpYnJlYWt9fWZ1bmN0aW9uIGsoYSxkKXtudWxsIT09bmE/KE89VSxjKG5hKSxoKCkpOm51bGw9PT1JJiZiKCk7aWYoISh6PT09VHx8ej5hKSl7Tz16O2E6ZG97aWYoejw9VSlmb3IoO251bGwhPT1JJiYhKEk9ZShJKSxudWxsPT09SSYmKG51bGw9PT1uYT93KFwiMTc5XCIpOnZvaWQgMCxPPVUsYyhuYSksTz16LGgoKSx6PT09VHx8ej5hfHx6PlUpKTspO2Vsc2UgaWYobnVsbCE9PWQpZm9yKDtudWxsIT09SSYmIUFiOylpZigxPGQudGltZVJlbWFpbmluZygpKXtpZihJPVxuZShJKSxudWxsPT09SSlpZihudWxsPT09bmE/dyhcIjE3OVwiKTp2b2lkIDAsMTxkLnRpbWVSZW1haW5pbmcoKSl7aWYoTz1VLGMobmEpLE89eixoKCksej09PVR8fHo+YXx8ejxQZylicmVha31lbHNlIEFiPSEwfWVsc2UgQWI9ITA7c3dpdGNoKHope2Nhc2UgT2c6Y2FzZSBVOmlmKHo8PWEpY29udGludWUgYTticmVhayBhO2Nhc2UgUGc6Y2FzZSBRZzpjYXNlIFJnOmlmKG51bGw9PT1kKWJyZWFrIGE7aWYoIUFiJiZ6PD1hKWNvbnRpbnVlIGE7YnJlYWsgYTtjYXNlIFQ6YnJlYWsgYTtkZWZhdWx0OncoXCIxODFcIil9fXdoaWxlKDEpfX1mdW5jdGlvbiBwKGEsYil7RGE/dyhcIjE4MlwiKTp2b2lkIDA7RGE9ITA7dmFyIGM9TyxkPSExLGU9bnVsbDt0cnl7ayhhLGIpfWNhdGNoKEtkKXtkPSEwLGU9S2R9Zm9yKDtkOyl7aWYoWWEpe0phPWU7YnJlYWt9dmFyIGg9STtpZihudWxsPT09aClZYT0hMDtlbHNle3ZhciBwPXgoaCxlKTtudWxsPT09cD93KFwiMTgzXCIpOnZvaWQgMDtpZighWWEpe3RyeXtkPVxucDtlPWE7cD1iO2Zvcih2YXIgcT1kO251bGwhPT1oOyl7c3dpdGNoKGgudGFnKXtjYXNlIGVoOklnKGgpO2JyZWFrO2Nhc2UgY2g6bShoKTticmVhaztjYXNlIGJoOnIoaCk7YnJlYWs7Y2FzZSBkaDpyKGgpfWlmKGg9PT1xfHxoLmFsdGVybmF0ZT09PXEpYnJlYWs7aD1oW1wicmV0dXJuXCJdfUk9ZihkKTtrKGUscCl9Y2F0Y2goS2Qpe2Q9ITA7ZT1LZDtjb250aW51ZX1icmVha319fU89YztudWxsIT09YiYmKEJiPSExKTt6PlUmJiFCYiYmKCRmKGcpLEJiPSEwKTthPUphO1lhPUFiPURhPSExO25jPUthPVA9SmE9bnVsbDtvYz0wO2lmKG51bGwhPT1hKXRocm93IGE7fWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1LZy5jdXJyZW50PW51bGwsZD0hMSxlPSExLGY9bnVsbDtpZihhLnRhZz09PWJoKWM9YSxTKGEpJiYoWWE9ITApO2Vsc2UgZm9yKHZhciBnPWFbXCJyZXR1cm5cIl07bnVsbCE9PWcmJm51bGw9PT1jOyl7Zy50YWc9PT1laD9cImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5zdGF0ZU5vZGUuY29tcG9uZW50RGlkQ2F0Y2gmJlxuKGQ9ITAsZj1SYShnKSxjPWcsZT0hMCk6Zy50YWc9PT1iaCYmKGM9Zyk7aWYoUyhnKSl7aWYoSWR8fG51bGwhPT12YSYmKHZhLmhhcyhnKXx8bnVsbCE9PWcuYWx0ZXJuYXRlJiZ2YS5oYXMoZy5hbHRlcm5hdGUpKSlyZXR1cm4gbnVsbDtjPW51bGw7ZT0hMX1nPWdbXCJyZXR1cm5cIl19aWYobnVsbCE9PWMpe251bGw9PT1LYSYmKEthPW5ldyBTZXQpO0thLmFkZChjKTt2YXIgaD1cIlwiO2c9YTtkb3thOnN3aXRjaChnLnRhZyl7Y2FzZSBmZTpjYXNlIGdlOmNhc2UgaGU6Y2FzZSBpZTp2YXIgaz1nLl9kZWJ1Z093bmVyLG09Zy5fZGVidWdTb3VyY2U7dmFyIHA9UmEoZyk7dmFyIHE9bnVsbDtrJiYocT1SYShrKSk7az1tO3A9XCJcXG4gICAgaW4gXCIrKHB8fFwiVW5rbm93blwiKSsoaz9cIiAoYXQgXCIray5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLFwiXCIpK1wiOlwiK2subGluZU51bWJlcitcIilcIjpxP1wiIChjcmVhdGVkIGJ5IFwiK3ErXCIpXCI6XCJcIik7YnJlYWsgYTtkZWZhdWx0OnA9XCJcIn1oKz1wO2c9Z1tcInJldHVyblwiXX13aGlsZShnKTtcbmc9aDthPVJhKGEpO251bGw9PT1QJiYoUD1uZXcgTWFwKTtiPXtjb21wb25lbnROYW1lOmEsY29tcG9uZW50U3RhY2s6ZyxlcnJvcjpiLGVycm9yQm91bmRhcnk6ZD9jLnN0YXRlTm9kZTpudWxsLGVycm9yQm91bmRhcnlGb3VuZDpkLGVycm9yQm91bmRhcnlOYW1lOmYsd2lsbFJldHJ5OmV9O1Auc2V0KGMsYik7dHJ5e2NvbnNvbGUuZXJyb3IoYi5lcnJvcil9Y2F0Y2goV2kpe2NvbnNvbGUuZXJyb3IoV2kpfUhkPyhudWxsPT09dmEmJih2YT1uZXcgU2V0KSx2YS5hZGQoYykpOkgoYyk7cmV0dXJuIGN9bnVsbD09PUphJiYoSmE9Yik7cmV0dXJuIG51bGx9ZnVuY3Rpb24gUyhhKXtyZXR1cm4gbnVsbCE9PUthJiYoS2EuaGFzKGEpfHxudWxsIT09YS5hbHRlcm5hdGUmJkthLmhhcyhhLmFsdGVybmF0ZSkpfWZ1bmN0aW9uIEQoYSxiKXtyZXR1cm4geShhLGIsITEpfWZ1bmN0aW9uIHkoYSxiKXtvYz5YaSYmKFlhPSEwLHcoXCIxODVcIikpOyFEYSYmYjw9eiYmKEk9bnVsbCk7Zm9yKHZhciBjPVxuITA7bnVsbCE9PWEmJmM7KXtjPSExO2lmKGEucGVuZGluZ1dvcmtQcmlvcml0eT09PVR8fGEucGVuZGluZ1dvcmtQcmlvcml0eT5iKWM9ITAsYS5wZW5kaW5nV29ya1ByaW9yaXR5PWI7bnVsbCE9PWEuYWx0ZXJuYXRlJiYoYS5hbHRlcm5hdGUucGVuZGluZ1dvcmtQcmlvcml0eT09PVR8fGEuYWx0ZXJuYXRlLnBlbmRpbmdXb3JrUHJpb3JpdHk+YikmJihjPSEwLGEuYWx0ZXJuYXRlLnBlbmRpbmdXb3JrUHJpb3JpdHk9Yik7aWYobnVsbD09PWFbXCJyZXR1cm5cIl0paWYoYS50YWc9PT1iaCl7dmFyIGQ9YS5zdGF0ZU5vZGU7Yj09PVR8fGQuaXNTY2hlZHVsZWR8fChkLmlzU2NoZWR1bGVkPSEwLHpiP3piLm5leHRTY2hlZHVsZWRSb290PWQ6bWE9ZCx6Yj1kKTtpZighRGEpc3dpdGNoKGIpe2Nhc2UgT2c6cGM/cChPZyxudWxsKTpwKFUsbnVsbCk7YnJlYWs7Y2FzZSBVOlc/dm9pZCAwOncoXCIxODZcIik7YnJlYWs7ZGVmYXVsdDpCYnx8KCRmKGcpLEJiPSEwKX19ZWxzZSBicmVhazthPWFbXCJyZXR1cm5cIl19fVxuZnVuY3Rpb24gQihhLGIpe3ZhciBjPU87Yz09PVQmJihjPSFZaXx8YS5pbnRlcm5hbENvbnRleHRUYWcmU2d8fGI/UWc6T2cpO3JldHVybiBjPT09T2cmJihEYXx8Vyk/VTpjfWZ1bmN0aW9uIEgoYSl7eShhLFUsITApfXZhciBDPUFnKGEpLENhPUhnKGEpLHI9Qy5wb3BIb3N0Q29udGFpbmVyLG09Qy5wb3BIb3N0Q29udGV4dCx0PUMucmVzZXRIb3N0Q29udGFpbmVyLHY9TGYoYSxDLENhLEQsQiksVj12LmJlZ2luV29yayxsZD12LmJlZ2luRmFpbGVkV29yayxMaD1lZyhhLEMsQ2EpLmNvbXBsZXRlV29yaztDPXZnKGEseCk7dmFyIHE9Qy5jb21taXRQbGFjZW1lbnQsTWg9Qy5jb21taXREZWxldGlvbix2Zj1DLmNvbW1pdFdvcmssTmg9Qy5jb21taXRMaWZlQ3ljbGVzLE9oPUMuY29tbWl0QXR0YWNoUmVmLFBoPUMuY29tbWl0RGV0YWNoUmVmLCRmPWEuc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFlpPWEudXNlU3luY1NjaGVkdWxpbmcsVWk9YS5wcmVwYXJlRm9yQ29tbWl0LFZpPWEucmVzZXRBZnRlckNvbW1pdCxcbk89VCxEYT0hMSxBYj0hMSxXPSExLHBjPSExLEk9bnVsbCx6PVQsdT1udWxsLG5hPW51bGwsbWE9bnVsbCx6Yj1udWxsLEJiPSExLFA9bnVsbCxLYT1udWxsLHZhPW51bGwsSmE9bnVsbCxZYT0hMSxIZD0hMSxJZD0hMSxYaT0xRTMsb2M9MCxuYz1udWxsO3JldHVybntzY2hlZHVsZVVwZGF0ZTpELGdldFByaW9yaXR5Q29udGV4dDpCLGJhdGNoZWRVcGRhdGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9VztXPSEwO3RyeXtyZXR1cm4gYShiKX1maW5hbGx5e1c9YyxEYXx8V3x8cChVLG51bGwpfX0sdW5iYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhKXt2YXIgYj1wYyxjPVc7cGM9VztXPSExO3RyeXtyZXR1cm4gYSgpfWZpbmFsbHl7Vz1jLHBjPWJ9fSxmbHVzaFN5bmM6ZnVuY3Rpb24oYSl7dmFyIGI9VyxjPU87Vz0hMDtPPU9nO3RyeXtyZXR1cm4gYSgpfWZpbmFsbHl7Vz1iLE89YyxEYT93KFwiMTg3XCIpOnZvaWQgMCxwKFUsbnVsbCl9fSxkZWZlcnJlZFVwZGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9XG5PO089UWc7dHJ5e3JldHVybiBhKCl9ZmluYWxseXtPPWJ9fX19ZnVuY3Rpb24gaWgoKXt3KFwiMTk2XCIpfWZ1bmN0aW9uIGpoKGEpe2lmKCFhKXJldHVybiBkYTthPVBhLmdldChhKTtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGEudGFnP2loKGEpOmEuX3Byb2Nlc3NDaGlsZENvbnRleHQoYS5fY29udGV4dCl9amguX2luamVjdEZpYmVyPWZ1bmN0aW9uKGEpe2loPWF9O3ZhciBraD11ZC5hZGRUb3BMZXZlbFVwZGF0ZSxsaD1SLmZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0LG1oPVIuaXNDb250ZXh0UHJvdmlkZXIsbmg9Ui5wcm9jZXNzQ2hpbGRDb250ZXh0LG9oPUUuSG9zdENvbXBvbmVudCxwaD1iYi5maW5kQ3VycmVudEhvc3RGaWJlcixxaD1iYi5maW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHM7amguX2luamVjdEZpYmVyKGZ1bmN0aW9uKGEpe3ZhciBiPWxoKGEpO3JldHVybiBtaChhKT9uaChhLGIsITEpOmJ9KTt2YXIgcmg9Ri5URVhUX05PREU7XG5mdW5jdGlvbiBzaChhKXtmb3IoO2EmJmEuZmlyc3RDaGlsZDspYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9ZnVuY3Rpb24gdGgoYSxiKXt2YXIgYz1zaChhKTthPTA7Zm9yKHZhciBkO2M7KXtpZihjLm5vZGVUeXBlPT09cmgpe2Q9YStjLnRleHRDb250ZW50Lmxlbmd0aDtpZihhPD1iJiZkPj1iKXJldHVybntub2RlOmMsb2Zmc2V0OmItYX07YT1kfWE6e2Zvcig7Yzspe2lmKGMubmV4dFNpYmxpbmcpe2M9Yy5uZXh0U2libGluZzticmVhayBhfWM9Yy5wYXJlbnROb2RlfWM9dm9pZCAwfWM9c2goYyl9fXZhciB1aD1udWxsO2Z1bmN0aW9uIHZoKCl7IXVoJiZsLmNhblVzZURPTSYmKHVoPVwidGV4dENvbnRlbnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudD9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIik7cmV0dXJuIHVofVxudmFyIHdoPXtnZXRPZmZzZXRzOmZ1bmN0aW9uKGEpe3ZhciBiPXdpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKTtpZighYnx8MD09PWIucmFuZ2VDb3VudClyZXR1cm4gbnVsbDt2YXIgYz1iLmFuY2hvck5vZGUsZD1iLmFuY2hvck9mZnNldCxlPWIuZm9jdXNOb2RlLGY9Yi5mb2N1c09mZnNldCxnPWIuZ2V0UmFuZ2VBdCgwKTt0cnl7Zy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSxnLmVuZENvbnRhaW5lci5ub2RlVHlwZX1jYXRjaChrKXtyZXR1cm4gbnVsbH1iPWIuYW5jaG9yTm9kZT09PWIuZm9jdXNOb2RlJiZiLmFuY2hvck9mZnNldD09PWIuZm9jdXNPZmZzZXQ/MDpnLnRvU3RyaW5nKCkubGVuZ3RoO3ZhciBoPWcuY2xvbmVSYW5nZSgpO2guc2VsZWN0Tm9kZUNvbnRlbnRzKGEpO2guc2V0RW5kKGcuc3RhcnRDb250YWluZXIsZy5zdGFydE9mZnNldCk7YT1oLnN0YXJ0Q29udGFpbmVyPT09aC5lbmRDb250YWluZXImJmguc3RhcnRPZmZzZXQ9PT1oLmVuZE9mZnNldD9cbjA6aC50b1N0cmluZygpLmxlbmd0aDtnPWErYjtiPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Yi5zZXRTdGFydChjLGQpO2Iuc2V0RW5kKGUsZik7Yz1iLmNvbGxhcHNlZDtyZXR1cm57c3RhcnQ6Yz9nOmEsZW5kOmM/YTpnfX0sc2V0T2Zmc2V0czpmdW5jdGlvbihhLGIpe2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBjPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxkPWFbdmgoKV0ubGVuZ3RoLGU9TWF0aC5taW4oYi5zdGFydCxkKTtiPXZvaWQgMD09PWIuZW5kP2U6TWF0aC5taW4oYi5lbmQsZCk7IWMuZXh0ZW5kJiZlPmImJihkPWIsYj1lLGU9ZCk7ZD10aChhLGUpO2E9dGgoYSxiKTtpZihkJiZhKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Yuc2V0U3RhcnQoZC5ub2RlLGQub2Zmc2V0KTtjLnJlbW92ZUFsbFJhbmdlcygpO2U+Yj8oYy5hZGRSYW5nZShmKSxjLmV4dGVuZChhLm5vZGUsYS5vZmZzZXQpKTooZi5zZXRFbmQoYS5ub2RlLGEub2Zmc2V0KSxjLmFkZFJhbmdlKGYpKX19fX0sXG54aD1GLkVMRU1FTlRfTk9ERSx5aD17aGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYiYmKFwiaW5wdXRcIj09PWImJlwidGV4dFwiPT09YS50eXBlfHxcInRleHRhcmVhXCI9PT1ifHxcInRydWVcIj09PWEuY29udGVudEVkaXRhYmxlKX0sZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246ZnVuY3Rpb24oKXt2YXIgYT1pYSgpO3JldHVybntmb2N1c2VkRWxlbTphLHNlbGVjdGlvblJhbmdlOnloLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhhKT95aC5nZXRTZWxlY3Rpb24oYSk6bnVsbH19LHJlc3RvcmVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9aWEoKSxjPWEuZm9jdXNlZEVsZW07YT1hLnNlbGVjdGlvblJhbmdlO2lmKGIhPT1jJiZmYShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYykpe3loLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhjKSYmeWguc2V0U2VsZWN0aW9uKGMsYSk7Yj1cbltdO2ZvcihhPWM7YT1hLnBhcmVudE5vZGU7KWEubm9kZVR5cGU9PT14aCYmYi5wdXNoKHtlbGVtZW50OmEsbGVmdDphLnNjcm9sbExlZnQsdG9wOmEuc2Nyb2xsVG9wfSk7aGEoYyk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylhPWJbY10sYS5lbGVtZW50LnNjcm9sbExlZnQ9YS5sZWZ0LGEuZWxlbWVudC5zY3JvbGxUb3A9YS50b3B9fSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuKFwic2VsZWN0aW9uU3RhcnRcImluIGE/e3N0YXJ0OmEuc2VsZWN0aW9uU3RhcnQsZW5kOmEuc2VsZWN0aW9uRW5kfTp3aC5nZXRPZmZzZXRzKGEpKXx8e3N0YXJ0OjAsZW5kOjB9fSxzZXRTZWxlY3Rpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnN0YXJ0LGQ9Yi5lbmQ7dm9pZCAwPT09ZCYmKGQ9Yyk7XCJzZWxlY3Rpb25TdGFydFwiaW4gYT8oYS5zZWxlY3Rpb25TdGFydD1jLGEuc2VsZWN0aW9uRW5kPU1hdGgubWluKGQsYS52YWx1ZS5sZW5ndGgpKTp3aC5zZXRPZmZzZXRzKGEsYil9fSx6aD15aCxcbkFoPUYuRUxFTUVOVF9OT0RFO2Z1bmN0aW9uIEJoKCl7dyhcIjIxMVwiKX1mdW5jdGlvbiBDaCgpe3coXCIyMTJcIil9ZnVuY3Rpb24gRGgoYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihhLm5vZGVUeXBlPT09QWgpcmV0dXJuIGE7dmFyIGI9UGEuZ2V0KGEpO2lmKGIpcmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBiLnRhZz9CaChiKTpDaChiKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5yZW5kZXI/dyhcIjE4OFwiKTp3KFwiMjEzXCIsT2JqZWN0LmtleXMoYSkpfURoLl9pbmplY3RGaWJlcj1mdW5jdGlvbihhKXtCaD1hfTtEaC5faW5qZWN0U3RhY2s9ZnVuY3Rpb24oYSl7Q2g9YX07dmFyIEVoPUUuSG9zdENvbXBvbmVudDtmdW5jdGlvbiBGaChhKXtpZih2b2lkIDAhPT1hLl9ob3N0UGFyZW50KXJldHVybiBhLl9ob3N0UGFyZW50O2lmKFwibnVtYmVyXCI9PT10eXBlb2YgYS50YWcpe2RvIGE9YVtcInJldHVyblwiXTt3aGlsZShhJiZhLnRhZyE9PUVoKTtpZihhKXJldHVybiBhfXJldHVybiBudWxsfVxuZnVuY3Rpb24gR2goYSxiKXtmb3IodmFyIGM9MCxkPWE7ZDtkPUZoKGQpKWMrKztkPTA7Zm9yKHZhciBlPWI7ZTtlPUZoKGUpKWQrKztmb3IoOzA8Yy1kOylhPUZoKGEpLGMtLTtmb3IoOzA8ZC1jOyliPUZoKGIpLGQtLTtmb3IoO2MtLTspe2lmKGE9PT1ifHxhPT09Yi5hbHRlcm5hdGUpcmV0dXJuIGE7YT1GaChhKTtiPUZoKGIpfXJldHVybiBudWxsfVxudmFyIEhoPXtpc0FuY2VzdG9yOmZ1bmN0aW9uKGEsYil7Zm9yKDtiOyl7aWYoYT09PWJ8fGE9PT1iLmFsdGVybmF0ZSlyZXR1cm4hMDtiPUZoKGIpfXJldHVybiExfSxnZXRMb3dlc3RDb21tb25BbmNlc3RvcjpHaCxnZXRQYXJlbnRJbnN0YW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gRmgoYSl9LHRyYXZlcnNlVHdvUGhhc2U6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXTthOylkLnB1c2goYSksYT1GaChhKTtmb3IoYT1kLmxlbmd0aDswPGEtLTspYihkW2FdLFwiY2FwdHVyZWRcIixjKTtmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKWIoZFthXSxcImJ1YmJsZWRcIixjKX0sdHJhdmVyc2VFbnRlckxlYXZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7Zm9yKHZhciBmPWEmJmI/R2goYSxiKTpudWxsLGc9W107YSYmYSE9PWY7KWcucHVzaChhKSxhPUZoKGEpO2ZvcihhPVtdO2ImJmIhPT1mOylhLnB1c2goYiksYj1GaChiKTtmb3IoYj0wO2I8Zy5sZW5ndGg7YisrKWMoZ1tiXSxcImJ1YmJsZWRcIixkKTtmb3IoYj1cbmEubGVuZ3RoOzA8Yi0tOyljKGFbYl0sXCJjYXB0dXJlZFwiLGUpfX0sSWg9SmIuZ2V0TGlzdGVuZXI7ZnVuY3Rpb24gSmgoYSxiLGMpe2lmKGI9SWgoYSxjLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW2JdKSljLl9kaXNwYXRjaExpc3RlbmVycz1DYihjLl9kaXNwYXRjaExpc3RlbmVycyxiKSxjLl9kaXNwYXRjaEluc3RhbmNlcz1DYihjLl9kaXNwYXRjaEluc3RhbmNlcyxhKX1mdW5jdGlvbiBLaChhKXthJiZhLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzJiZIaC50cmF2ZXJzZVR3b1BoYXNlKGEuX3RhcmdldEluc3QsSmgsYSl9ZnVuY3Rpb24gUWgoYSl7aWYoYSYmYS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7dmFyIGI9YS5fdGFyZ2V0SW5zdDtiPWI/SGguZ2V0UGFyZW50SW5zdGFuY2UoYik6bnVsbDtIaC50cmF2ZXJzZVR3b1BoYXNlKGIsSmgsYSl9fVxuZnVuY3Rpb24gUmgoYSxiLGMpe2EmJmMmJmMuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmKGI9SWgoYSxjLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpKSYmKGMuX2Rpc3BhdGNoTGlzdGVuZXJzPUNiKGMuX2Rpc3BhdGNoTGlzdGVuZXJzLGIpLGMuX2Rpc3BhdGNoSW5zdGFuY2VzPUNiKGMuX2Rpc3BhdGNoSW5zdGFuY2VzLGEpKX1mdW5jdGlvbiBTaChhKXthJiZhLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUmJlJoKGEuX3RhcmdldEluc3QsbnVsbCxhKX1cbnZhciBUaD17YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczpmdW5jdGlvbihhKXtEYihhLEtoKX0sYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQ6ZnVuY3Rpb24oYSl7RGIoYSxRaCl9LGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzOmZ1bmN0aW9uKGEpe0RiKGEsU2gpfSxhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6ZnVuY3Rpb24oYSxiLGMsZCl7SGgudHJhdmVyc2VFbnRlckxlYXZlKGMsZCxSaCxhLGIpfX0sWD17X3Jvb3Q6bnVsbCxfc3RhcnRUZXh0Om51bGwsX2ZhbGxiYWNrVGV4dDpudWxsfSxVaD17aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtYLl9yb290PWE7WC5fc3RhcnRUZXh0PVVoLmdldFRleHQoKTtyZXR1cm4hMH0scmVzZXQ6ZnVuY3Rpb24oKXtYLl9yb290PW51bGw7WC5fc3RhcnRUZXh0PW51bGw7WC5fZmFsbGJhY2tUZXh0PW51bGx9LGdldERhdGE6ZnVuY3Rpb24oKXtpZihYLl9mYWxsYmFja1RleHQpcmV0dXJuIFguX2ZhbGxiYWNrVGV4dDtcbnZhciBhLGI9WC5fc3RhcnRUZXh0LGM9Yi5sZW5ndGgsZCxlPVVoLmdldFRleHQoKSxmPWUubGVuZ3RoO2ZvcihhPTA7YTxjJiZiW2FdPT09ZVthXTthKyspO3ZhciBnPWMtYTtmb3IoZD0xO2Q8PWcmJmJbYy1kXT09PWVbZi1kXTtkKyspO1guX2ZhbGxiYWNrVGV4dD1lLnNsaWNlKGEsMTxkPzEtZDp2b2lkIDApO3JldHVybiBYLl9mYWxsYmFja1RleHR9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm5cInZhbHVlXCJpbiBYLl9yb290P1guX3Jvb3QudmFsdWU6WC5fcm9vdFt2aCgpXX19LFZoPVVoLFdoPVwiZGlzcGF0Y2hDb25maWcgX3RhcmdldEluc3QgbmF0aXZlRXZlbnQgaXNEZWZhdWx0UHJldmVudGVkIGlzUHJvcGFnYXRpb25TdG9wcGVkIF9kaXNwYXRjaExpc3RlbmVycyBfZGlzcGF0Y2hJbnN0YW5jZXNcIi5zcGxpdChcIiBcIiksWGg9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmNhLnRoYXRSZXR1cm5zTnVsbCxldmVudFBoYXNlOm51bGwsYnViYmxlczpudWxsLFxuY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH07XG5mdW5jdGlvbiBZKGEsYixjLGQpe3RoaXMuZGlzcGF0Y2hDb25maWc9YTt0aGlzLl90YXJnZXRJbnN0PWI7dGhpcy5uYXRpdmVFdmVudD1jO2E9dGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKChiPWFbZV0pP3RoaXNbZV09YihjKTpcInRhcmdldFwiPT09ZT90aGlzLnRhcmdldD1kOnRoaXNbZV09Y1tlXSk7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9KG51bGwhPWMuZGVmYXVsdFByZXZlbnRlZD9jLmRlZmF1bHRQcmV2ZW50ZWQ6ITE9PT1jLnJldHVyblZhbHVlKT9jYS50aGF0UmV0dXJuc1RydWU6Y2EudGhhdFJldHVybnNGYWxzZTt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhLnRoYXRSZXR1cm5zRmFsc2U7cmV0dXJuIHRoaXN9XG5uKFkucHJvdG90eXBlLHtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTpcInVua25vd25cIiE9PXR5cGVvZiBhLnJldHVyblZhbHVlJiYoYS5yZXR1cm5WYWx1ZT0hMSksdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9Y2EudGhhdFJldHVybnNUcnVlKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uYXRpdmVFdmVudDthJiYoYS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9PXR5cGVvZiBhLmNhbmNlbEJ1YmJsZSYmKGEuY2FuY2VsQnViYmxlPSEwKSx0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhLnRoYXRSZXR1cm5zVHJ1ZSl9LHBlcnNpc3Q6ZnVuY3Rpb24oKXt0aGlzLmlzUGVyc2lzdGVudD1jYS50aGF0UmV0dXJuc1RydWV9LGlzUGVyc2lzdGVudDpjYS50aGF0UmV0dXJuc0ZhbHNlLFxuZGVzdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlLGI7Zm9yKGIgaW4gYSl0aGlzW2JdPW51bGw7Zm9yKGE9MDthPFdoLmxlbmd0aDthKyspdGhpc1tXaFthXV09bnVsbH19KTtZLkludGVyZmFjZT1YaDtZLmF1Z21lbnRDbGFzcz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGU7dmFyIGQ9bmV3IGM7bihkLGEucHJvdG90eXBlKTthLnByb3RvdHlwZT1kO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5JbnRlcmZhY2U9bih7fSx0aGlzLkludGVyZmFjZSxiKTthLmF1Z21lbnRDbGFzcz10aGlzLmF1Z21lbnRDbGFzcztZaChhKX07WWgoWSk7ZnVuY3Rpb24gWmgoYSxiLGMsZCl7aWYodGhpcy5ldmVudFBvb2wubGVuZ3RoKXt2YXIgZT10aGlzLmV2ZW50UG9vbC5wb3AoKTt0aGlzLmNhbGwoZSxhLGIsYyxkKTtyZXR1cm4gZX1yZXR1cm4gbmV3IHRoaXMoYSxiLGMsZCl9XG5mdW5jdGlvbiAkaChhKXthIGluc3RhbmNlb2YgdGhpcz92b2lkIDA6dyhcIjIyM1wiKTthLmRlc3RydWN0b3IoKTsxMD50aGlzLmV2ZW50UG9vbC5sZW5ndGgmJnRoaXMuZXZlbnRQb29sLnB1c2goYSl9ZnVuY3Rpb24gWWgoYSl7YS5ldmVudFBvb2w9W107YS5nZXRQb29sZWQ9Wmg7YS5yZWxlYXNlPSRofWZ1bmN0aW9uIGFpKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhhaSx7ZGF0YTpudWxsfSk7ZnVuY3Rpb24gYmkoYSxiLGMsZCl7cmV0dXJuIFkuY2FsbCh0aGlzLGEsYixjLGQpfVkuYXVnbWVudENsYXNzKGJpLHtkYXRhOm51bGx9KTt2YXIgY2k9WzksMTMsMjcsMzJdLGRpPWwuY2FuVXNlRE9NJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxlaT1udWxsO2wuY2FuVXNlRE9NJiZcImRvY3VtZW50TW9kZVwiaW4gZG9jdW1lbnQmJihlaT1kb2N1bWVudC5kb2N1bWVudE1vZGUpO3ZhciBmaTtcbmlmKGZpPWwuY2FuVXNlRE9NJiZcIlRleHRFdmVudFwiaW4gd2luZG93JiYhZWkpe3ZhciBnaT13aW5kb3cub3BlcmE7Zmk9IShcIm9iamVjdFwiPT09dHlwZW9mIGdpJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZ2kudmVyc2lvbiYmMTI+PXBhcnNlSW50KGdpLnZlcnNpb24oKSwxMCkpfVxudmFyIGhpPWZpLGlpPWwuY2FuVXNlRE9NJiYoIWRpfHxlaSYmODxlaSYmMTE+PWVpKSxqaT1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxraT17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcInRvcENvbXBvc2l0aW9uRW5kXCIsXCJ0b3BLZXlQcmVzc1wiLFwidG9wVGV4dElucHV0XCIsXCJ0b3BQYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwidG9wQmx1ciB0b3BDb21wb3NpdGlvbkVuZCB0b3BLZXlEb3duIHRvcEtleVByZXNzIHRvcEtleVVwIHRvcE1vdXNlRG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixcbmNhcHR1cmVkOlwib25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJ0b3BCbHVyIHRvcENvbXBvc2l0aW9uU3RhcnQgdG9wS2V5RG93biB0b3BLZXlQcmVzcyB0b3BLZXlVcCB0b3BNb3VzZURvd25cIi5zcGxpdChcIiBcIil9LGNvbXBvc2l0aW9uVXBkYXRlOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ29tcG9zaXRpb25VcGRhdGVcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25VcGRhdGVDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcInRvcEJsdXIgdG9wQ29tcG9zaXRpb25VcGRhdGUgdG9wS2V5RG93biB0b3BLZXlQcmVzcyB0b3BLZXlVcCB0b3BNb3VzZURvd25cIi5zcGxpdChcIiBcIil9fSxsaT0hMTtcbmZ1bmN0aW9uIG1pKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BLZXlVcFwiOnJldHVybi0xIT09Y2kuaW5kZXhPZihiLmtleUNvZGUpO2Nhc2UgXCJ0b3BLZXlEb3duXCI6cmV0dXJuIDIyOSE9PWIua2V5Q29kZTtjYXNlIFwidG9wS2V5UHJlc3NcIjpjYXNlIFwidG9wTW91c2VEb3duXCI6Y2FzZSBcInRvcEJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBuaShhKXthPWEuZGV0YWlsO3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmXCJkYXRhXCJpbiBhP2EuZGF0YTpudWxsfXZhciBvaT0hMTtmdW5jdGlvbiBwaShhLGIpe3N3aXRjaChhKXtjYXNlIFwidG9wQ29tcG9zaXRpb25FbmRcIjpyZXR1cm4gbmkoYik7Y2FzZSBcInRvcEtleVByZXNzXCI6aWYoMzIhPT1iLndoaWNoKXJldHVybiBudWxsO2xpPSEwO3JldHVybiBqaTtjYXNlIFwidG9wVGV4dElucHV0XCI6cmV0dXJuIGE9Yi5kYXRhLGE9PT1qaSYmbGk/bnVsbDphO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxuZnVuY3Rpb24gcWkoYSxiKXtpZihvaSlyZXR1cm5cInRvcENvbXBvc2l0aW9uRW5kXCI9PT1hfHwhZGkmJm1pKGEsYik/KGE9VmguZ2V0RGF0YSgpLFZoLnJlc2V0KCksb2k9ITEsYSk6bnVsbDtzd2l0Y2goYSl7Y2FzZSBcInRvcFBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZSBcInRvcEtleVByZXNzXCI6aWYoIShiLmN0cmxLZXl8fGIuYWx0S2V5fHxiLm1ldGFLZXkpfHxiLmN0cmxLZXkmJmIuYWx0S2V5KXtpZihiLmNoYXImJjE8Yi5jaGFyLmxlbmd0aClyZXR1cm4gYi5jaGFyO2lmKGIud2hpY2gpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYi53aGljaCl9cmV0dXJuIG51bGw7Y2FzZSBcInRvcENvbXBvc2l0aW9uRW5kXCI6cmV0dXJuIGlpP251bGw6Yi5kYXRhO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxudmFyIHJpPXtldmVudFR5cGVzOmtpLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7aWYoZGkpYjp7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BDb21wb3NpdGlvblN0YXJ0XCI6dmFyIGY9a2kuY29tcG9zaXRpb25TdGFydDticmVhayBiO2Nhc2UgXCJ0b3BDb21wb3NpdGlvbkVuZFwiOmY9a2kuY29tcG9zaXRpb25FbmQ7YnJlYWsgYjtjYXNlIFwidG9wQ29tcG9zaXRpb25VcGRhdGVcIjpmPWtpLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGJ9Zj12b2lkIDB9ZWxzZSBvaT9taShhLGMpJiYoZj1raS5jb21wb3NpdGlvbkVuZCk6XCJ0b3BLZXlEb3duXCI9PT1hJiYyMjk9PT1jLmtleUNvZGUmJihmPWtpLmNvbXBvc2l0aW9uU3RhcnQpO2Y/KGlpJiYob2l8fGYhPT1raS5jb21wb3NpdGlvblN0YXJ0P2Y9PT1raS5jb21wb3NpdGlvbkVuZCYmb2kmJihlPVZoLmdldERhdGEoKSk6b2k9VmguaW5pdGlhbGl6ZShkKSksZj1haS5nZXRQb29sZWQoZixiLGMsZCksZT9mLmRhdGE9ZTooZT1uaShjKSxcbm51bGwhPT1lJiYoZi5kYXRhPWUpKSxUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGYpLGU9Zik6ZT1udWxsOyhhPWhpP3BpKGEsYyk6cWkoYSxjKSk/KGI9YmkuZ2V0UG9vbGVkKGtpLmJlZm9yZUlucHV0LGIsYyxkKSxiLmRhdGE9YSxUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGIpKTpiPW51bGw7cmV0dXJuW2UsYl19fSxzaT17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiB0aShhKXt2YXIgYj1hJiZhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09Yj8hIXNpW2EudHlwZV06XCJ0ZXh0YXJlYVwiPT09Yj8hMDohMX1cbnZhciB1aT17Y2hhbmdlOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ2hhbmdlXCIsY2FwdHVyZWQ6XCJvbkNoYW5nZUNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwidG9wQmx1ciB0b3BDaGFuZ2UgdG9wQ2xpY2sgdG9wRm9jdXMgdG9wSW5wdXQgdG9wS2V5RG93biB0b3BLZXlVcCB0b3BTZWxlY3Rpb25DaGFuZ2VcIi5zcGxpdChcIiBcIil9fTtmdW5jdGlvbiB2aShhLGIsYyl7YT1ZLmdldFBvb2xlZCh1aS5jaGFuZ2UsYSxiLGMpO2EudHlwZT1cImNoYW5nZVwiO25iLmVucXVldWVTdGF0ZVJlc3RvcmUoYyk7VGguYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhhKTtyZXR1cm4gYX12YXIgd2k9bnVsbCx4aT1udWxsO2Z1bmN0aW9uIHlpKGEpe0piLmVucXVldWVFdmVudHMoYSk7SmIucHJvY2Vzc0V2ZW50UXVldWUoITEpfVxuZnVuY3Rpb24gemkoYSl7dmFyIGI9Ry5nZXROb2RlRnJvbUluc3RhbmNlKGEpO2lmKEJjLnVwZGF0ZVZhbHVlSWZDaGFuZ2VkKGIpKXJldHVybiBhfWZ1bmN0aW9uIEFpKGEsYil7aWYoXCJ0b3BDaGFuZ2VcIj09PWEpcmV0dXJuIGJ9dmFyIEJpPSExO2wuY2FuVXNlRE9NJiYoQmk9TGIoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7ZnVuY3Rpb24gQ2koKXt3aSYmKHdpLmRldGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLERpKSx4aT13aT1udWxsKX1mdW5jdGlvbiBEaShhKXtcInZhbHVlXCI9PT1hLnByb3BlcnR5TmFtZSYmemkoeGkpJiYoYT12aSh4aSxhLHViKGEpKSxzYi5iYXRjaGVkVXBkYXRlcyh5aSxhKSl9ZnVuY3Rpb24gRWkoYSxiLGMpe1widG9wRm9jdXNcIj09PWE/KENpKCksd2k9Yix4aT1jLHdpLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLERpKSk6XCJ0b3BCbHVyXCI9PT1hJiZDaSgpfVxuZnVuY3Rpb24gRmkoYSl7aWYoXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIj09PWF8fFwidG9wS2V5VXBcIj09PWF8fFwidG9wS2V5RG93blwiPT09YSlyZXR1cm4gemkoeGkpfWZ1bmN0aW9uIEdpKGEsYil7aWYoXCJ0b3BDbGlja1wiPT09YSlyZXR1cm4gemkoYil9ZnVuY3Rpb24gSGkoYSxiKXtpZihcInRvcElucHV0XCI9PT1hfHxcInRvcENoYW5nZVwiPT09YSlyZXR1cm4gemkoYil9XG52YXIgSWk9e2V2ZW50VHlwZXM6dWksX2lzSW5wdXRFdmVudFN1cHBvcnRlZDpCaSxleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWI/Ry5nZXROb2RlRnJvbUluc3RhbmNlKGIpOndpbmRvdyxmPWUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09Znx8XCJpbnB1dFwiPT09ZiYmXCJmaWxlXCI9PT1lLnR5cGUpdmFyIGc9QWk7ZWxzZSBpZih0aShlKSlpZihCaSlnPUhpO2Vsc2V7Zz1GaTt2YXIgaD1FaX1lbHNlIGY9ZS5ub2RlTmFtZSwhZnx8XCJpbnB1dFwiIT09Zi50b0xvd2VyQ2FzZSgpfHxcImNoZWNrYm94XCIhPT1lLnR5cGUmJlwicmFkaW9cIiE9PWUudHlwZXx8KGc9R2kpO2lmKGcmJihnPWcoYSxiKSkpcmV0dXJuIHZpKGcsYyxkKTtoJiZoKGEsZSxiKTtcInRvcEJsdXJcIj09PWEmJm51bGwhPWImJihhPWIuX3dyYXBwZXJTdGF0ZXx8ZS5fd3JhcHBlclN0YXRlKSYmYS5jb250cm9sbGVkJiZcIm51bWJlclwiPT09ZS50eXBlJiYoYT1cIlwiK2UudmFsdWUsXG5lLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIT09YSYmZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGEpKX19O2Z1bmN0aW9uIEppKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhKaSx7dmlldzpmdW5jdGlvbihhKXtpZihhLnZpZXcpcmV0dXJuIGEudmlldzthPXViKGEpO3JldHVybiBhLndpbmRvdz09PWE/YTooYT1hLm93bmVyRG9jdW1lbnQpP2EuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93OndpbmRvd30sZGV0YWlsOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRldGFpbHx8MH19KTt2YXIgS2k9e0FsdDpcImFsdEtleVwiLENvbnRyb2w6XCJjdHJsS2V5XCIsTWV0YTpcIm1ldGFLZXlcIixTaGlmdDpcInNoaWZ0S2V5XCJ9O2Z1bmN0aW9uIExpKGEpe3ZhciBiPXRoaXMubmF0aXZlRXZlbnQ7cmV0dXJuIGIuZ2V0TW9kaWZpZXJTdGF0ZT9iLmdldE1vZGlmaWVyU3RhdGUoYSk6KGE9S2lbYV0pPyEhYlthXTohMX1mdW5jdGlvbiBNaSgpe3JldHVybiBMaX1cbmZ1bmN0aW9uIE5pKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MoTmkse3NjcmVlblg6bnVsbCxzY3JlZW5ZOm51bGwsY2xpZW50WDpudWxsLGNsaWVudFk6bnVsbCxwYWdlWDpudWxsLHBhZ2VZOm51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6TWksYnV0dG9uOm51bGwsYnV0dG9uczpudWxsLHJlbGF0ZWRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVsYXRlZFRhcmdldHx8KGEuZnJvbUVsZW1lbnQ9PT1hLnNyY0VsZW1lbnQ/YS50b0VsZW1lbnQ6YS5mcm9tRWxlbWVudCl9fSk7XG52YXIgT2k9e21vdXNlRW50ZXI6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlRW50ZXJcIixkZXBlbmRlbmNpZXM6W1widG9wTW91c2VPdXRcIixcInRvcE1vdXNlT3ZlclwiXX0sbW91c2VMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uTW91c2VMZWF2ZVwiLGRlcGVuZGVuY2llczpbXCJ0b3BNb3VzZU91dFwiLFwidG9wTW91c2VPdmVyXCJdfX0sUGk9e2V2ZW50VHlwZXM6T2ksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXtpZihcInRvcE1vdXNlT3ZlclwiPT09YSYmKGMucmVsYXRlZFRhcmdldHx8Yy5mcm9tRWxlbWVudCl8fFwidG9wTW91c2VPdXRcIiE9PWEmJlwidG9wTW91c2VPdmVyXCIhPT1hKXJldHVybiBudWxsO3ZhciBlPWQud2luZG93PT09ZD9kOihlPWQub3duZXJEb2N1bWVudCk/ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3c6d2luZG93O1widG9wTW91c2VPdXRcIj09PWE/KGE9YixiPShiPWMucmVsYXRlZFRhcmdldHx8Yy50b0VsZW1lbnQpP0cuZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUoYik6XG5udWxsKTphPW51bGw7aWYoYT09PWIpcmV0dXJuIG51bGw7dmFyIGY9bnVsbD09YT9lOkcuZ2V0Tm9kZUZyb21JbnN0YW5jZShhKTtlPW51bGw9PWI/ZTpHLmdldE5vZGVGcm9tSW5zdGFuY2UoYik7dmFyIGc9TmkuZ2V0UG9vbGVkKE9pLm1vdXNlTGVhdmUsYSxjLGQpO2cudHlwZT1cIm1vdXNlbGVhdmVcIjtnLnRhcmdldD1mO2cucmVsYXRlZFRhcmdldD1lO2M9TmkuZ2V0UG9vbGVkKE9pLm1vdXNlRW50ZXIsYixjLGQpO2MudHlwZT1cIm1vdXNlZW50ZXJcIjtjLnRhcmdldD1lO2MucmVsYXRlZFRhcmdldD1mO1RoLmFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhnLGMsYSxiKTtyZXR1cm5bZyxjXX19LFFpPUYuRE9DVU1FTlRfTk9ERSxSaT1sLmNhblVzZURPTSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFNpPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxcbmRlcGVuZGVuY2llczpcInRvcEJsdXIgdG9wQ29udGV4dE1lbnUgdG9wRm9jdXMgdG9wS2V5RG93biB0b3BLZXlVcCB0b3BNb3VzZURvd24gdG9wTW91c2VVcCB0b3BTZWxlY3Rpb25DaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxUaT1udWxsLFppPW51bGwsJGk9bnVsbCxhaj0hMSxiaj1NLmlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXM7XG5mdW5jdGlvbiBjaihhLGIpe2lmKGFqfHxudWxsPT1UaXx8VGkhPT1pYSgpKXJldHVybiBudWxsO3ZhciBjPVRpO1wic2VsZWN0aW9uU3RhcnRcImluIGMmJnpoLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhjKT9jPXtzdGFydDpjLnNlbGVjdGlvblN0YXJ0LGVuZDpjLnNlbGVjdGlvbkVuZH06d2luZG93LmdldFNlbGVjdGlvbj8oYz13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYz17YW5jaG9yTm9kZTpjLmFuY2hvck5vZGUsYW5jaG9yT2Zmc2V0OmMuYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTpjLmZvY3VzTm9kZSxmb2N1c09mZnNldDpjLmZvY3VzT2Zmc2V0fSk6Yz12b2lkIDA7cmV0dXJuICRpJiZlYSgkaSxjKT9udWxsOigkaT1jLGE9WS5nZXRQb29sZWQoU2kuc2VsZWN0LFppLGEsYiksYS50eXBlPVwic2VsZWN0XCIsYS50YXJnZXQ9VGksVGguYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhhKSxhKX1cbnZhciBkaj17ZXZlbnRUeXBlczpTaSxleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWQud2luZG93PT09ZD9kLmRvY3VtZW50OmQubm9kZVR5cGU9PT1RaT9kOmQub3duZXJEb2N1bWVudDtpZighZXx8IWJqKFwib25TZWxlY3RcIixlKSlyZXR1cm4gbnVsbDtlPWI/Ry5nZXROb2RlRnJvbUluc3RhbmNlKGIpOndpbmRvdztzd2l0Y2goYSl7Y2FzZSBcInRvcEZvY3VzXCI6aWYodGkoZSl8fFwidHJ1ZVwiPT09ZS5jb250ZW50RWRpdGFibGUpVGk9ZSxaaT1iLCRpPW51bGw7YnJlYWs7Y2FzZSBcInRvcEJsdXJcIjokaT1aaT1UaT1udWxsO2JyZWFrO2Nhc2UgXCJ0b3BNb3VzZURvd25cIjphaj0hMDticmVhaztjYXNlIFwidG9wQ29udGV4dE1lbnVcIjpjYXNlIFwidG9wTW91c2VVcFwiOnJldHVybiBhaj0hMSxjaihjLGQpO2Nhc2UgXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIjppZihSaSlicmVhaztjYXNlIFwidG9wS2V5RG93blwiOmNhc2UgXCJ0b3BLZXlVcFwiOnJldHVybiBjaihjLGQpfXJldHVybiBudWxsfX07XG5mdW5jdGlvbiBlaihhLGIsYyxkKXtyZXR1cm4gWS5jYWxsKHRoaXMsYSxiLGMsZCl9WS5hdWdtZW50Q2xhc3MoZWose2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pO2Z1bmN0aW9uIGZqKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhmaix7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGE/YS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pO2Z1bmN0aW9uIGdqKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MoZ2ose3JlbGF0ZWRUYXJnZXQ6bnVsbH0pO2Z1bmN0aW9uIGhqKGEpe3ZhciBiPWEua2V5Q29kZTtcImNoYXJDb2RlXCJpbiBhPyhhPWEuY2hhckNvZGUsMD09PWEmJjEzPT09YiYmKGE9MTMpKTphPWI7cmV0dXJuIDMyPD1hfHwxMz09PWE/YTowfVxudmFyIGlqPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxqaj17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIixcbjExNjpcIkY1XCIsMTE3OlwiRjZcIiwxMTg6XCJGN1wiLDExOTpcIkY4XCIsMTIwOlwiRjlcIiwxMjE6XCJGMTBcIiwxMjI6XCJGMTFcIiwxMjM6XCJGMTJcIiwxNDQ6XCJOdW1Mb2NrXCIsMTQ1OlwiU2Nyb2xsTG9ja1wiLDIyNDpcIk1ldGFcIn07ZnVuY3Rpb24ga2ooYSxiLGMsZCl7cmV0dXJuIFkuY2FsbCh0aGlzLGEsYixjLGQpfVxuSmkuYXVnbWVudENsYXNzKGtqLHtrZXk6ZnVuY3Rpb24oYSl7aWYoYS5rZXkpe3ZhciBiPWlqW2Eua2V5XXx8YS5rZXk7aWYoXCJVbmlkZW50aWZpZWRcIiE9PWIpcmV0dXJuIGJ9cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlPyhhPWhqKGEpLDEzPT09YT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShhKSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9qalthLmtleUNvZGVdfHxcIlVuaWRlbnRpZmllZFwiOlwiXCJ9LGxvY2F0aW9uOm51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLHJlcGVhdDpudWxsLGxvY2FsZTpudWxsLGdldE1vZGlmaWVyU3RhdGU6TWksY2hhckNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlP2hqKGEpOjB9LGtleUNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH0sd2hpY2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09XG5hLnR5cGU/aGooYSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH19KTtmdW5jdGlvbiBsaihhLGIsYyxkKXtyZXR1cm4gWS5jYWxsKHRoaXMsYSxiLGMsZCl9TmkuYXVnbWVudENsYXNzKGxqLHtkYXRhVHJhbnNmZXI6bnVsbH0pO2Z1bmN0aW9uIG1qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MobWose3RvdWNoZXM6bnVsbCx0YXJnZXRUb3VjaGVzOm51bGwsY2hhbmdlZFRvdWNoZXM6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsZ2V0TW9kaWZpZXJTdGF0ZTpNaX0pO2Z1bmN0aW9uIG5qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhuaix7cHJvcGVydHlOYW1lOm51bGwsZWxhcHNlZFRpbWU6bnVsbCxwc2V1ZG9FbGVtZW50Om51bGx9KTtcbmZ1bmN0aW9uIG9qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1OaS5hdWdtZW50Q2xhc3Mob2ose2RlbHRhWDpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWFwiaW4gYT9hLmRlbHRhWDpcIndoZWVsRGVsdGFYXCJpbiBhPy1hLndoZWVsRGVsdGFYOjB9LGRlbHRhWTpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWVwiaW4gYT9hLmRlbHRhWTpcIndoZWVsRGVsdGFZXCJpbiBhPy1hLndoZWVsRGVsdGFZOlwid2hlZWxEZWx0YVwiaW4gYT8tYS53aGVlbERlbHRhOjB9LGRlbHRhWjpudWxsLGRlbHRhTW9kZTpudWxsfSk7dmFyIHBqPXt9LHFqPXt9O1xuXCJhYm9ydCBhbmltYXRpb25FbmQgYW5pbWF0aW9uSXRlcmF0aW9uIGFuaW1hdGlvblN0YXJ0IGJsdXIgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZG91YmxlQ2xpY2sgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZm9jdXMgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbW91c2VEb3duIG1vdXNlTW92ZSBtb3VzZU91dCBtb3VzZU92ZXIgbW91c2VVcCBwYXN0ZSBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCBzY3JvbGwgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvZ2dsZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaE1vdmUgdG91Y2hTdGFydCB0cmFuc2l0aW9uRW5kIHZvbHVtZUNoYW5nZSB3YWl0aW5nIHdoZWVsXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK1xuYS5zbGljZSgxKSxjPVwib25cIitiO2I9XCJ0b3BcIitiO2M9e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOmMsY2FwdHVyZWQ6YytcIkNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltiXX07cGpbYV09YztxaltiXT1jfSk7XG52YXIgcmo9e2V2ZW50VHlwZXM6cGosZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1xalthXTtpZighZSlyZXR1cm4gbnVsbDtzd2l0Y2goYSl7Y2FzZSBcInRvcEFib3J0XCI6Y2FzZSBcInRvcENhbmNlbFwiOmNhc2UgXCJ0b3BDYW5QbGF5XCI6Y2FzZSBcInRvcENhblBsYXlUaHJvdWdoXCI6Y2FzZSBcInRvcENsb3NlXCI6Y2FzZSBcInRvcER1cmF0aW9uQ2hhbmdlXCI6Y2FzZSBcInRvcEVtcHRpZWRcIjpjYXNlIFwidG9wRW5jcnlwdGVkXCI6Y2FzZSBcInRvcEVuZGVkXCI6Y2FzZSBcInRvcEVycm9yXCI6Y2FzZSBcInRvcElucHV0XCI6Y2FzZSBcInRvcEludmFsaWRcIjpjYXNlIFwidG9wTG9hZFwiOmNhc2UgXCJ0b3BMb2FkZWREYXRhXCI6Y2FzZSBcInRvcExvYWRlZE1ldGFkYXRhXCI6Y2FzZSBcInRvcExvYWRTdGFydFwiOmNhc2UgXCJ0b3BQYXVzZVwiOmNhc2UgXCJ0b3BQbGF5XCI6Y2FzZSBcInRvcFBsYXlpbmdcIjpjYXNlIFwidG9wUHJvZ3Jlc3NcIjpjYXNlIFwidG9wUmF0ZUNoYW5nZVwiOmNhc2UgXCJ0b3BSZXNldFwiOmNhc2UgXCJ0b3BTZWVrZWRcIjpjYXNlIFwidG9wU2Vla2luZ1wiOmNhc2UgXCJ0b3BTdGFsbGVkXCI6Y2FzZSBcInRvcFN1Ym1pdFwiOmNhc2UgXCJ0b3BTdXNwZW5kXCI6Y2FzZSBcInRvcFRpbWVVcGRhdGVcIjpjYXNlIFwidG9wVG9nZ2xlXCI6Y2FzZSBcInRvcFZvbHVtZUNoYW5nZVwiOmNhc2UgXCJ0b3BXYWl0aW5nXCI6dmFyIGY9WTtcbmJyZWFrO2Nhc2UgXCJ0b3BLZXlQcmVzc1wiOmlmKDA9PT1oaihjKSlyZXR1cm4gbnVsbDtjYXNlIFwidG9wS2V5RG93blwiOmNhc2UgXCJ0b3BLZXlVcFwiOmY9a2o7YnJlYWs7Y2FzZSBcInRvcEJsdXJcIjpjYXNlIFwidG9wRm9jdXNcIjpmPWdqO2JyZWFrO2Nhc2UgXCJ0b3BDbGlja1wiOmlmKDI9PT1jLmJ1dHRvbilyZXR1cm4gbnVsbDtjYXNlIFwidG9wRG91YmxlQ2xpY2tcIjpjYXNlIFwidG9wTW91c2VEb3duXCI6Y2FzZSBcInRvcE1vdXNlTW92ZVwiOmNhc2UgXCJ0b3BNb3VzZVVwXCI6Y2FzZSBcInRvcE1vdXNlT3V0XCI6Y2FzZSBcInRvcE1vdXNlT3ZlclwiOmNhc2UgXCJ0b3BDb250ZXh0TWVudVwiOmY9Tmk7YnJlYWs7Y2FzZSBcInRvcERyYWdcIjpjYXNlIFwidG9wRHJhZ0VuZFwiOmNhc2UgXCJ0b3BEcmFnRW50ZXJcIjpjYXNlIFwidG9wRHJhZ0V4aXRcIjpjYXNlIFwidG9wRHJhZ0xlYXZlXCI6Y2FzZSBcInRvcERyYWdPdmVyXCI6Y2FzZSBcInRvcERyYWdTdGFydFwiOmNhc2UgXCJ0b3BEcm9wXCI6Zj1sajticmVhaztjYXNlIFwidG9wVG91Y2hDYW5jZWxcIjpjYXNlIFwidG9wVG91Y2hFbmRcIjpjYXNlIFwidG9wVG91Y2hNb3ZlXCI6Y2FzZSBcInRvcFRvdWNoU3RhcnRcIjpmPVxubWo7YnJlYWs7Y2FzZSBcInRvcEFuaW1hdGlvbkVuZFwiOmNhc2UgXCJ0b3BBbmltYXRpb25JdGVyYXRpb25cIjpjYXNlIFwidG9wQW5pbWF0aW9uU3RhcnRcIjpmPWVqO2JyZWFrO2Nhc2UgXCJ0b3BUcmFuc2l0aW9uRW5kXCI6Zj1uajticmVhaztjYXNlIFwidG9wU2Nyb2xsXCI6Zj1KaTticmVhaztjYXNlIFwidG9wV2hlZWxcIjpmPW9qO2JyZWFrO2Nhc2UgXCJ0b3BDb3B5XCI6Y2FzZSBcInRvcEN1dFwiOmNhc2UgXCJ0b3BQYXN0ZVwiOmY9Zmp9Zj92b2lkIDA6dyhcIjg2XCIsYSk7YT1mLmdldFBvb2xlZChlLGIsYyxkKTtUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGEpO3JldHVybiBhfX07TC5zZXRIYW5kbGVUb3BMZXZlbChNLmhhbmRsZVRvcExldmVsKTtKYi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIFRhcEV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKTtcbmliLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKEcpO0piLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1NpbXBsZUV2ZW50UGx1Z2luOnJqLEVudGVyTGVhdmVFdmVudFBsdWdpbjpQaSxDaGFuZ2VFdmVudFBsdWdpbjpJaSxTZWxlY3RFdmVudFBsdWdpbjpkaixCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOnJpfSk7XG52YXIgc2o9QS5pbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFksWj1BLmluamVjdGlvbi5IQVNfQk9PTEVBTl9WQUxVRSx0aj1BLmluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRSx1aj1BLmluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSx2aj1BLmluamVjdGlvbi5IQVNfU1RSSU5HX0JPT0xFQU5fVkFMVUUsd2o9e1Byb3BlcnRpZXM6e2FsbG93RnVsbFNjcmVlbjpaLGFsbG93VHJhbnNwYXJlbmN5OnZqLGFzeW5jOlosYXV0b1BsYXk6WixjYXB0dXJlOlosY2hlY2tlZDpzanxaLGNvbHM6dWosY29udGVudEVkaXRhYmxlOnZqLGNvbnRyb2xzOlosXCJkZWZhdWx0XCI6WixkZWZlcjpaLGRpc2FibGVkOlosZG93bmxvYWQ6QS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSxkcmFnZ2FibGU6dmosZm9ybU5vVmFsaWRhdGU6WixoaWRkZW46Wixsb29wOlosbXVsdGlwbGU6c2p8WixtdXRlZDpzanxaLG5vVmFsaWRhdGU6WixvcGVuOloscGxheXNJbmxpbmU6WixcbnJlYWRPbmx5OloscmVxdWlyZWQ6WixyZXZlcnNlZDpaLHJvd3M6dWoscm93U3Bhbjp0aixzY29wZWQ6WixzZWFtbGVzczpaLHNlbGVjdGVkOnNqfFosc2l6ZTp1aixzdGFydDp0aixzcGFuOnVqLHNwZWxsQ2hlY2s6dmosc3R5bGU6MCxpdGVtU2NvcGU6WixhY2NlcHRDaGFyc2V0OjAsY2xhc3NOYW1lOjAsaHRtbEZvcjowLGh0dHBFcXVpdjowLHZhbHVlOnZqfSxET01BdHRyaWJ1dGVOYW1lczp7YWNjZXB0Q2hhcnNldDpcImFjY2VwdC1jaGFyc2V0XCIsY2xhc3NOYW1lOlwiY2xhc3NcIixodG1sRm9yOlwiZm9yXCIsaHR0cEVxdWl2OlwiaHR0cC1lcXVpdlwifSxET01NdXRhdGlvbk1ldGhvZHM6e3ZhbHVlOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YilyZXR1cm4gYS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcIm51bWJlclwiIT09YS50eXBlfHwhMT09PWEuaGFzQXR0cmlidXRlKFwidmFsdWVcIik/YS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIrYik6YS52YWxpZGl0eSYmIWEudmFsaWRpdHkuYmFkSW5wdXQmJlxuYS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1hJiZhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIitiKX19fSx4aj1BLmluamVjdGlvbi5IQVNfU1RSSU5HX0JPT0xFQU5fVkFMVUUseWo9e3hsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHhtbDpcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwifSx6aj17UHJvcGVydGllczp7YXV0b1JldmVyc2U6eGosZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDp4aixwcmVzZXJ2ZUFscGhhOnhqfSxET01BdHRyaWJ1dGVOYW1lczp7YXV0b1JldmVyc2U6XCJhdXRvUmV2ZXJzZVwiLGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQ6XCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIscHJlc2VydmVBbHBoYTpcInByZXNlcnZlQWxwaGFcIn0sRE9NQXR0cmlidXRlTmFtZXNwYWNlczp7eGxpbmtBY3R1YXRlOnlqLnhsaW5rLHhsaW5rQXJjcm9sZTp5ai54bGluayx4bGlua0hyZWY6eWoueGxpbmsseGxpbmtSb2xlOnlqLnhsaW5rLFxueGxpbmtTaG93OnlqLnhsaW5rLHhsaW5rVGl0bGU6eWoueGxpbmsseGxpbmtUeXBlOnlqLnhsaW5rLHhtbEJhc2U6eWoueG1sLHhtbExhbmc6eWoueG1sLHhtbFNwYWNlOnlqLnhtbH19LEFqPS9bXFwtXFw6XShbYS16XSkvZztmdW5jdGlvbiBCaihhKXtyZXR1cm4gYVsxXS50b1VwcGVyQ2FzZSgpfVxuXCJhY2NlbnQtaGVpZ2h0IGFsaWdubWVudC1iYXNlbGluZSBhcmFiaWMtZm9ybSBiYXNlbGluZS1zaGlmdCBjYXAtaGVpZ2h0IGNsaXAtcGF0aCBjbGlwLXJ1bGUgY29sb3ItaW50ZXJwb2xhdGlvbiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMgY29sb3ItcHJvZmlsZSBjb2xvci1yZW5kZXJpbmcgZG9taW5hbnQtYmFzZWxpbmUgZW5hYmxlLWJhY2tncm91bmQgZmlsbC1vcGFjaXR5IGZpbGwtcnVsZSBmbG9vZC1jb2xvciBmbG9vZC1vcGFjaXR5IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXNpemUtYWRqdXN0IGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBnbHlwaC1uYW1lIGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwgZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwgaG9yaXotYWR2LXggaG9yaXotb3JpZ2luLXggaW1hZ2UtcmVuZGVyaW5nIGxldHRlci1zcGFjaW5nIGxpZ2h0aW5nLWNvbG9yIG1hcmtlci1lbmQgbWFya2VyLW1pZCBtYXJrZXItc3RhcnQgb3ZlcmxpbmUtcG9zaXRpb24gb3ZlcmxpbmUtdGhpY2tuZXNzIHBhaW50LW9yZGVyIHBhbm9zZS0xIHBvaW50ZXItZXZlbnRzIHJlbmRlcmluZy1pbnRlbnQgc2hhcGUtcmVuZGVyaW5nIHN0b3AtY29sb3Igc3RvcC1vcGFjaXR5IHN0cmlrZXRocm91Z2gtcG9zaXRpb24gc3RyaWtldGhyb3VnaC10aGlja25lc3Mgc3Ryb2tlLWRhc2hhcnJheSBzdHJva2UtZGFzaG9mZnNldCBzdHJva2UtbGluZWNhcCBzdHJva2UtbGluZWpvaW4gc3Ryb2tlLW1pdGVybGltaXQgc3Ryb2tlLW9wYWNpdHkgc3Ryb2tlLXdpZHRoIHRleHQtYW5jaG9yIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXJlbmRlcmluZyB1bmRlcmxpbmUtcG9zaXRpb24gdW5kZXJsaW5lLXRoaWNrbmVzcyB1bmljb2RlLWJpZGkgdW5pY29kZS1yYW5nZSB1bml0cy1wZXItZW0gdi1hbHBoYWJldGljIHYtaGFuZ2luZyB2LWlkZW9ncmFwaGljIHYtbWF0aGVtYXRpY2FsIHZlY3Rvci1lZmZlY3QgdmVydC1hZHYteSB2ZXJ0LW9yaWdpbi14IHZlcnQtb3JpZ2luLXkgd29yZC1zcGFjaW5nIHdyaXRpbmctbW9kZSB4LWhlaWdodCB4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWxuczp4bGluayB4bWw6bGFuZyB4bWw6c3BhY2VcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoQWosXG5Caik7emouUHJvcGVydGllc1tiXT0wO3pqLkRPTUF0dHJpYnV0ZU5hbWVzW2JdPWF9KTtBLmluamVjdGlvbi5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyh3aik7QS5pbmplY3Rpb24uaW5qZWN0RE9NUHJvcGVydHlDb25maWcoemopO1xudmFyIENqPWlnLmluamVjdEludGVybmFscyxEaj1GLkVMRU1FTlRfTk9ERSxFaj1GLlRFWFRfTk9ERSxGaj1GLkNPTU1FTlRfTk9ERSxHaj1GLkRPQ1VNRU5UX05PREUsSGo9Ri5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFLElqPUEuUk9PVF9BVFRSSUJVVEVfTkFNRSxKaj1rYS5nZXRDaGlsZE5hbWVzcGFjZSxLaj1OLmNyZWF0ZUVsZW1lbnQsTGo9Ti5jcmVhdGVUZXh0Tm9kZSxNaj1OLnNldEluaXRpYWxQcm9wZXJ0aWVzLE5qPU4uZGlmZlByb3BlcnRpZXMsT2o9Ti51cGRhdGVQcm9wZXJ0aWVzLFBqPU4uZGlmZkh5ZHJhdGVkUHJvcGVydGllcyxRaj1OLmRpZmZIeWRyYXRlZFRleHQsUmo9Ti53YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50LFNqPU4ud2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCxUaj1OLndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCxVaj1OLndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCxWaj1HLnByZWNhY2hlRmliZXJOb2RlLFdqPUcudXBkYXRlRmliZXJQcm9wcztcbm5iLmluamVjdGlvbi5pbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50KE4pO0RoLl9pbmplY3RGaWJlcihmdW5jdGlvbihhKXtyZXR1cm4gWGouZmluZEhvc3RJbnN0YW5jZShhKX0pO3ZhciBZaj1udWxsLFpqPW51bGw7ZnVuY3Rpb24gYWsoYSl7cmV0dXJuISghYXx8YS5ub2RlVHlwZSE9PURqJiZhLm5vZGVUeXBlIT09R2omJmEubm9kZVR5cGUhPT1IaiYmKGEubm9kZVR5cGUhPT1Ganx8XCIgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgXCIhPT1hLm5vZGVWYWx1ZSkpfWZ1bmN0aW9uIGJrKGEpe2E9YT9hLm5vZGVUeXBlPT09R2o/YS5kb2N1bWVudEVsZW1lbnQ6YS5maXJzdENoaWxkOm51bGw7cmV0dXJuISghYXx8YS5ub2RlVHlwZSE9PURqfHwhYS5oYXNBdHRyaWJ1dGUoSWopKX1cbnZhciBYaj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldFB1YmxpY0luc3RhbmNlO2E9aGgoYSk7dmFyIGM9YS5zY2hlZHVsZVVwZGF0ZSxkPWEuZ2V0UHJpb3JpdHlDb250ZXh0O3JldHVybntjcmVhdGVDb250YWluZXI6ZnVuY3Rpb24oYSl7dmFyIGI9ZWUoKTthPXtjdXJyZW50OmIsY29udGFpbmVySW5mbzphLGlzU2NoZWR1bGVkOiExLG5leHRTY2hlZHVsZWRSb290Om51bGwsY29udGV4dDpudWxsLHBlbmRpbmdDb250ZXh0Om51bGx9O3JldHVybiBiLnN0YXRlTm9kZT1hfSx1cGRhdGVDb250YWluZXI6ZnVuY3Rpb24oYSxiLGcsaCl7dmFyIGU9Yi5jdXJyZW50O2c9amgoZyk7bnVsbD09PWIuY29udGV4dD9iLmNvbnRleHQ9ZzpiLnBlbmRpbmdDb250ZXh0PWc7Yj1oO2g9ZChlLGVkLmVuYWJsZUFzeW5jU3VidHJlZUFQSSYmbnVsbCE9YSYmbnVsbCE9YS50eXBlJiZudWxsIT1hLnR5cGUucHJvdG90eXBlJiYhMD09PWEudHlwZS5wcm90b3R5cGUudW5zdGFibGVfaXNBc3luY1JlYWN0Q29tcG9uZW50KTtcbmE9e2VsZW1lbnQ6YX07a2goZSxhLHZvaWQgMD09PWI/bnVsbDpiLGgpO2MoZSxoKX0sYmF0Y2hlZFVwZGF0ZXM6YS5iYXRjaGVkVXBkYXRlcyx1bmJhdGNoZWRVcGRhdGVzOmEudW5iYXRjaGVkVXBkYXRlcyxkZWZlcnJlZFVwZGF0ZXM6YS5kZWZlcnJlZFVwZGF0ZXMsZmx1c2hTeW5jOmEuZmx1c2hTeW5jLGdldFB1YmxpY1Jvb3RJbnN0YW5jZTpmdW5jdGlvbihhKXthPWEuY3VycmVudDtpZighYS5jaGlsZClyZXR1cm4gbnVsbDtzd2l0Y2goYS5jaGlsZC50YWcpe2Nhc2Ugb2g6cmV0dXJuIGIoYS5jaGlsZC5zdGF0ZU5vZGUpO2RlZmF1bHQ6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlfX0sZmluZEhvc3RJbnN0YW5jZTpmdW5jdGlvbihhKXthPXBoKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfSxmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFsczpmdW5jdGlvbihhKXthPXFoKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfX19KHtnZXRSb290SG9zdENvbnRleHQ6ZnVuY3Rpb24oYSl7aWYoYS5ub2RlVHlwZT09PVxuR2opYT0oYT1hLmRvY3VtZW50RWxlbWVudCk/YS5uYW1lc3BhY2VVUkk6SmoobnVsbCxcIlwiKTtlbHNle3ZhciBiPWEubm9kZVR5cGU9PT1Gaj9hLnBhcmVudE5vZGU6YTthPWIubmFtZXNwYWNlVVJJfHxudWxsO2I9Yi50YWdOYW1lO2E9SmooYSxiKX1yZXR1cm4gYX0sZ2V0Q2hpbGRIb3N0Q29udGV4dDpmdW5jdGlvbihhLGIpe3JldHVybiBKaihhLGIpfSxnZXRQdWJsaWNJbnN0YW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0scHJlcGFyZUZvckNvbW1pdDpmdW5jdGlvbigpe1lqPU0uaXNFbmFibGVkKCk7Wmo9emguZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24oKTtNLnNldEVuYWJsZWQoITEpfSxyZXNldEFmdGVyQ29tbWl0OmZ1bmN0aW9uKCl7emgucmVzdG9yZVNlbGVjdGlvbihaaik7Wmo9bnVsbDtNLnNldEVuYWJsZWQoWWopO1lqPW51bGx9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjLGQsZSl7YT1LaihhLGIsYyxkKTtWaihlLGEpO1dqKGEsYik7cmV0dXJuIGF9LGFwcGVuZEluaXRpYWxDaGlsZDpmdW5jdGlvbihhLFxuYil7YS5hcHBlbmRDaGlsZChiKX0sZmluYWxpemVJbml0aWFsQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMsZCl7TWooYSxiLGMsZCk7YTp7c3dpdGNoKGIpe2Nhc2UgXCJidXR0b25cIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwic2VsZWN0XCI6Y2FzZSBcInRleHRhcmVhXCI6YT0hIWMuYXV0b0ZvY3VzO2JyZWFrIGF9YT0hMX1yZXR1cm4gYX0scHJlcGFyZVVwZGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBOaihhLGIsYyxkLGUpfSxjb21taXRNb3VudDpmdW5jdGlvbihhKXthLmZvY3VzKCl9LGNvbW1pdFVwZGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe1dqKGEsZSk7T2ooYSxiLGMsZCxlKX0sc2hvdWxkU2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInRleHRhcmVhXCI9PT1hfHxcInN0cmluZ1wiPT09dHlwZW9mIGIuY2hpbGRyZW58fFwibnVtYmVyXCI9PT10eXBlb2YgYi5jaGlsZHJlbnx8XCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCYmXG5cInN0cmluZ1wiPT09dHlwZW9mIGIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sfSxyZXNldFRleHRDb250ZW50OmZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9XCJcIn0sc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTpmdW5jdGlvbihhLGIpe3JldHVybiEhYi5oaWRkZW59LGNyZWF0ZVRleHRJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXthPUxqKGEsYik7VmooZCxhKTtyZXR1cm4gYX0sY29tbWl0VGV4dFVwZGF0ZTpmdW5jdGlvbihhLGIsYyl7YS5ub2RlVmFsdWU9Y30sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSxiKXthLmFwcGVuZENoaWxkKGIpfSxhcHBlbmRDaGlsZFRvQ29udGFpbmVyOmZ1bmN0aW9uKGEsYil7YS5ub2RlVHlwZT09PUZqP2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTphLmFwcGVuZENoaWxkKGIpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxiLGMpe2EuaW5zZXJ0QmVmb3JlKGIsYyl9LGluc2VydEluQ29udGFpbmVyQmVmb3JlOmZ1bmN0aW9uKGEsXG5iLGMpe2Eubm9kZVR5cGU9PT1Gaj9hLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYyk6YS5pbnNlcnRCZWZvcmUoYixjKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNoaWxkKGIpfSxyZW1vdmVDaGlsZEZyb21Db250YWluZXI6ZnVuY3Rpb24oYSxiKXthLm5vZGVUeXBlPT09Rmo/YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpOmEucmVtb3ZlQ2hpbGQoYil9LGNhbkh5ZHJhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVUeXBlPT09RGomJmI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9LGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIlwiPT09Yj8hMTphLm5vZGVUeXBlPT09RWp9LGdldE5leHRIeWRyYXRhYmxlU2libGluZzpmdW5jdGlvbihhKXtmb3IoYT1hLm5leHRTaWJsaW5nO2EmJmEubm9kZVR5cGUhPT1EaiYmYS5ub2RlVHlwZSE9PUVqOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9LGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkOmZ1bmN0aW9uKGEpe2ZvcihhPVxuYS5maXJzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1EaiYmYS5ub2RlVHlwZSE9PUVqOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9LGh5ZHJhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7VmooZixhKTtXaihhLGMpO3JldHVybiBQaihhLGIsYyxlLGQpfSxoeWRyYXRlVGV4dEluc3RhbmNlOmZ1bmN0aW9uKGEsYixjKXtWaihjLGEpO3JldHVybiBRaihhLGIpfSxkaWROb3RIeWRyYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXsxPT09Yi5ub2RlVHlwZT9SaihhLGIpOlNqKGEsYil9LGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe1RqKGEsYixjKX0sZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXtVaihhLGIpfSxzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2s6ZGQucklDLHVzZVN5bmNTY2hlZHVsaW5nOiEwfSk7c2IuaW5qZWN0aW9uLmluamVjdEZpYmVyQmF0Y2hlZFVwZGF0ZXMoWGouYmF0Y2hlZFVwZGF0ZXMpO1xuZnVuY3Rpb24gY2soYSxiLGMsZCxlKXthayhjKT92b2lkIDA6dyhcIjIwMFwiKTt2YXIgZj1jLl9yZWFjdFJvb3RDb250YWluZXI7aWYoZilYai51cGRhdGVDb250YWluZXIoYixmLGEsZSk7ZWxzZXtpZighZCYmIWJrKGMpKWZvcihkPXZvaWQgMDtkPWMubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGQpO3ZhciBnPVhqLmNyZWF0ZUNvbnRhaW5lcihjKTtmPWMuX3JlYWN0Um9vdENvbnRhaW5lcj1nO1hqLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24oKXtYai51cGRhdGVDb250YWluZXIoYixnLGEsZSl9KX1yZXR1cm4gWGouZ2V0UHVibGljUm9vdEluc3RhbmNlKGYpfWZ1bmN0aW9uIGRrKGEsYil7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7YWsoYik/dm9pZCAwOncoXCIyMDBcIik7cmV0dXJuIG5lLmNyZWF0ZVBvcnRhbChhLGIsbnVsbCxjKX1cbnZhciBlaz17Y3JlYXRlUG9ydGFsOmRrLGh5ZHJhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjayhudWxsLGEsYiwhMCxjKX0scmVuZGVyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY2sobnVsbCxhLGIsITEsYyl9LHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOmZ1bmN0aW9uKGEsYixjLGQpe251bGwhPWEmJlBhLmhhcyhhKT92b2lkIDA6dyhcIjM4XCIpO3JldHVybiBjayhhLGIsYywhMSxkKX0sdW5tb3VudENvbXBvbmVudEF0Tm9kZTpmdW5jdGlvbihhKXthayhhKT92b2lkIDA6dyhcIjQwXCIpO3JldHVybiBhLl9yZWFjdFJvb3RDb250YWluZXI/KFhqLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24oKXtjayhudWxsLG51bGwsYSwhMSxmdW5jdGlvbigpe2EuX3JlYWN0Um9vdENvbnRhaW5lcj1udWxsfSl9KSwhMCk6ITF9LGZpbmRET01Ob2RlOkRoLHVuc3RhYmxlX2NyZWF0ZVBvcnRhbDpkayx1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczpzYi5iYXRjaGVkVXBkYXRlcyxcbnVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczpYai5kZWZlcnJlZFVwZGF0ZXMsZmx1c2hTeW5jOlhqLmZsdXNoU3luYyxfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDp7RXZlbnRQbHVnaW5IdWI6SmIsRXZlbnRQbHVnaW5SZWdpc3RyeTpzYSxFdmVudFByb3BhZ2F0b3JzOlRoLFJlYWN0Q29udHJvbGxlZENvbXBvbmVudDpuYixSZWFjdERPTUNvbXBvbmVudFRyZWU6RyxSZWFjdERPTUV2ZW50TGlzdGVuZXI6TH19O0NqKHtmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTpHLmdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOlhqLmZpbmRIb3N0SW5zdGFuY2UsYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4wLjBcIixyZW5kZXJlclBhY2thZ2VOYW1lOlwicmVhY3QtZG9tXCJ9KTttb2R1bGUuZXhwb3J0cz1laztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmYWxzZSkge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAodHJ1ZSkge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanNcIik7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9saWIvaW5kZXggKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5qc1wiKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9BcHBDb250YWluZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL0FwcENvbnRhaW5lci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cblxuXG5cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9BcHBDb250YWluZXIucHJvZCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL0FwcENvbnRhaW5lci5wcm9kLmpzXCIpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL0FwcENvbnRhaW5lci5kZXYnKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLnByb2QuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLnByb2QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuXG5cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISByZWFjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzXCIpO1xudmFyIENvbXBvbmVudCA9IFJlYWN0LkNvbXBvbmVudDtcblxudmFyIEFwcENvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhBcHBDb250YWluZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFwcENvbnRhaW5lcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQXBwQ29udGFpbmVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXBwQ29udGFpbmVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQXBwQ29udGFpbmVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgdGhpcy5wcm9wcy5wcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBcHBDb250YWluZXI7XG59KENvbXBvbmVudCk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwQ29udGFpbmVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBnbG9iYWwtcmVxdWlyZSAqL1xuXG5cblxuaWYgKHRydWUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2luZGV4LnByb2QgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5wcm9kLmpzXCIpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2luZGV4LmRldicpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5wcm9kLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvaW5kZXgucHJvZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cy5BcHBDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL0FwcENvbnRhaW5lciAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL0FwcENvbnRhaW5lci5qc1wiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvcGF0Y2guanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvcGF0Y2guanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cblxuXG5cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wYXRjaC5wcm9kICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvcGF0Y2gucHJvZC5qc1wiKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wYXRjaC5kZXYnKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvcGF0Y2gucHJvZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL3BhdGNoLnByb2QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBub29wICovXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9wYXRjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvcGF0Y2guanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xpYi9wYXRjaCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL3BhdGNoLmpzXCIpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvUHJvdmlkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY3JlYXRlUHJvdmlkZXIsIGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGNyZWF0ZVByb3ZpZGVyLCBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjcmVhdGVQcm92aWRlcjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3Byb3BfdHlwZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHByb3AtdHlwZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcHJvcF90eXBlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX1Byb3BUeXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvUHJvcFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvUHJvcFR5cGVzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbHNfd2FybmluZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvd2FybmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanNcIik7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cblxuXG5cblxuXG52YXIgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlO1xuXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX3dhcm5pbmdfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyKCkge1xuICB2YXIgX1Byb3ZpZGVyJGNoaWxkQ29udGV4O1xuXG4gIHZhciBzdG9yZUtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ3N0b3JlJztcbiAgdmFyIHN1YktleSA9IGFyZ3VtZW50c1sxXTtcblxuICB2YXIgc3Vic2NyaXB0aW9uS2V5ID0gc3ViS2V5IHx8IHN0b3JlS2V5ICsgJ1N1YnNjcmlwdGlvbic7XG5cbiAgdmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW3N0b3JlS2V5XSA9IHRoaXNbc3RvcmVLZXldLCBfcmVmW3N1YnNjcmlwdGlvbktleV0gPSBudWxsLCBfcmVmO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cbiAgICAgIF90aGlzW3N0b3JlS2V5XSA9IHByb3BzLnN0b3JlO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJDaGlsZHJlblwiXS5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvdmlkZXI7XG4gIH0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJDb21wb25lbnRcIl0pO1xuXG4gIGlmIChmYWxzZSkge1xuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXNbc3RvcmVLZXldICE9PSBuZXh0UHJvcHMuc3RvcmUpIHtcbiAgICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHN0b3JlOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX1Byb3BUeXBlc19fW1wiYVwiIC8qIHN0b3JlU2hhcGUgKi9dLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmVsZW1lbnQuaXNSZXF1aXJlZFxuICB9O1xuICBQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IChfUHJvdmlkZXIkY2hpbGRDb250ZXggPSB7fSwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4W3N0b3JlS2V5XSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfUHJvcFR5cGVzX19bXCJhXCIgLyogc3RvcmVTaGFwZSAqL10uaXNSZXF1aXJlZCwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4W3N1YnNjcmlwdGlvbktleV0gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX1Byb3BUeXBlc19fW1wiYlwiIC8qIHN1YnNjcmlwdGlvblNoYXBlICovXSwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4KTtcblxuICByZXR1cm4gUHJvdmlkZXI7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImJcIl0gPSAoY3JlYXRlUHJvdmlkZXIoKSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvY29ubmVjdEFkdmFuY2VkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvY29ubmVjdEFkdmFuY2VkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNvbm5lY3RBZHZhbmNlZDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaG9pc3Rfbm9uX3JlYWN0X3N0YXRpY3NfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhvaXN0LW5vbi1yZWFjdC1zdGF0aWNzICovIFwiLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2hvaXN0X25vbl9yZWFjdF9zdGF0aWNzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaG9pc3Rfbm9uX3JlYWN0X3N0YXRpY3NfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2ludmFyaWFudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaW52YXJpYW50ICovIFwiLi9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2ludmFyaWFudF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2ludmFyaWFudF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX191dGlsc19TdWJzY3JpcHRpb25fXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL1N1YnNjcmlwdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3V0aWxzX1Byb3BUeXBlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvUHJvcFR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvUHJvcFR5cGVzLmpzXCIpO1xudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuXG5cblxuXG5cblxudmFyIGhvdFJlbG9hZGluZ1ZlcnNpb24gPSAwO1xudmFyIGR1bW15U3RhdGUgPSB7fTtcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gbWFrZVNlbGVjdG9yU3RhdGVmdWwoc291cmNlU2VsZWN0b3IsIHN0b3JlKSB7XG4gIC8vIHdyYXAgdGhlIHNlbGVjdG9yIGluIGFuIG9iamVjdCB0aGF0IHRyYWNrcyBpdHMgcmVzdWx0cyBiZXR3ZWVuIHJ1bnMuXG4gIHZhciBzZWxlY3RvciA9IHtcbiAgICBydW46IGZ1bmN0aW9uIHJ1bkNvbXBvbmVudFNlbGVjdG9yKHByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmV4dFByb3BzID0gc291cmNlU2VsZWN0b3Ioc3RvcmUuZ2V0U3RhdGUoKSwgcHJvcHMpO1xuICAgICAgICBpZiAobmV4dFByb3BzICE9PSBzZWxlY3Rvci5wcm9wcyB8fCBzZWxlY3Rvci5lcnJvcikge1xuICAgICAgICAgIHNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgc2VsZWN0b3IucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICAgICAgc2VsZWN0b3IuZXJyb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzZWxlY3Rvci5zaG91bGRDb21wb25lbnRVcGRhdGUgPSB0cnVlO1xuICAgICAgICBzZWxlY3Rvci5lcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGNvbm5lY3RBZHZhbmNlZChcbi8qXG4gIHNlbGVjdG9yRmFjdG9yeSBpcyBhIGZ1bmMgdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIHRoZSBzZWxlY3RvciBmdW5jdGlvbiB1c2VkIHRvXG4gIGNvbXB1dGUgbmV3IHByb3BzIGZyb20gc3RhdGUsIHByb3BzLCBhbmQgZGlzcGF0Y2guIEZvciBleGFtcGxlOlxuICAgICBleHBvcnQgZGVmYXVsdCBjb25uZWN0QWR2YW5jZWQoKGRpc3BhdGNoLCBvcHRpb25zKSA9PiAoc3RhdGUsIHByb3BzKSA9PiAoe1xuICAgICAgdGhpbmc6IHN0YXRlLnRoaW5nc1twcm9wcy50aGluZ0lkXSxcbiAgICAgIHNhdmVUaGluZzogZmllbGRzID0+IGRpc3BhdGNoKGFjdGlvbkNyZWF0b3JzLnNhdmVUaGluZyhwcm9wcy50aGluZ0lkLCBmaWVsZHMpKSxcbiAgICB9KSkoWW91ckNvbXBvbmVudClcbiAgIEFjY2VzcyB0byBkaXNwYXRjaCBpcyBwcm92aWRlZCB0byB0aGUgZmFjdG9yeSBzbyBzZWxlY3RvckZhY3RvcmllcyBjYW4gYmluZCBhY3Rpb25DcmVhdG9yc1xuICBvdXRzaWRlIG9mIHRoZWlyIHNlbGVjdG9yIGFzIGFuIG9wdGltaXphdGlvbi4gT3B0aW9ucyBwYXNzZWQgdG8gY29ubmVjdEFkdmFuY2VkIGFyZSBwYXNzZWQgdG9cbiAgdGhlIHNlbGVjdG9yRmFjdG9yeSwgYWxvbmcgd2l0aCBkaXNwbGF5TmFtZSBhbmQgV3JhcHBlZENvbXBvbmVudCwgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgIE5vdGUgdGhhdCBzZWxlY3RvckZhY3RvcnkgaXMgcmVzcG9uc2libGUgZm9yIGFsbCBjYWNoaW5nL21lbW9pemF0aW9uIG9mIGluYm91bmQgYW5kIG91dGJvdW5kXG4gIHByb3BzLiBEbyBub3QgdXNlIGNvbm5lY3RBZHZhbmNlZCBkaXJlY3RseSB3aXRob3V0IG1lbW9pemluZyByZXN1bHRzIGJldHdlZW4gY2FsbHMgdG8geW91clxuICBzZWxlY3Rvciwgb3RoZXJ3aXNlIHRoZSBDb25uZWN0IGNvbXBvbmVudCB3aWxsIHJlLXJlbmRlciBvbiBldmVyeSBzdGF0ZSBvciBwcm9wcyBjaGFuZ2UuXG4qL1xuc2VsZWN0b3JGYWN0b3J5KSB7XG4gIHZhciBfY29udGV4dFR5cGVzLCBfY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZiRnZXREaXNwbGF5TmFtZSA9IF9yZWYuZ2V0RGlzcGxheU5hbWUsXG4gICAgICBnZXREaXNwbGF5TmFtZSA9IF9yZWYkZ2V0RGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCA/IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuICdDb25uZWN0QWR2YW5jZWQoJyArIG5hbWUgKyAnKSc7XG4gIH0gOiBfcmVmJGdldERpc3BsYXlOYW1lLFxuICAgICAgX3JlZiRtZXRob2ROYW1lID0gX3JlZi5tZXRob2ROYW1lLFxuICAgICAgbWV0aG9kTmFtZSA9IF9yZWYkbWV0aG9kTmFtZSA9PT0gdW5kZWZpbmVkID8gJ2Nvbm5lY3RBZHZhbmNlZCcgOiBfcmVmJG1ldGhvZE5hbWUsXG4gICAgICBfcmVmJHJlbmRlckNvdW50UHJvcCA9IF9yZWYucmVuZGVyQ291bnRQcm9wLFxuICAgICAgcmVuZGVyQ291bnRQcm9wID0gX3JlZiRyZW5kZXJDb3VudFByb3AgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IF9yZWYkcmVuZGVyQ291bnRQcm9wLFxuICAgICAgX3JlZiRzaG91bGRIYW5kbGVTdGF0ID0gX3JlZi5zaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMsXG4gICAgICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMgPSBfcmVmJHNob3VsZEhhbmRsZVN0YXQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHNob3VsZEhhbmRsZVN0YXQsXG4gICAgICBfcmVmJHN0b3JlS2V5ID0gX3JlZi5zdG9yZUtleSxcbiAgICAgIHN0b3JlS2V5ID0gX3JlZiRzdG9yZUtleSA9PT0gdW5kZWZpbmVkID8gJ3N0b3JlJyA6IF9yZWYkc3RvcmVLZXksXG4gICAgICBfcmVmJHdpdGhSZWYgPSBfcmVmLndpdGhSZWYsXG4gICAgICB3aXRoUmVmID0gX3JlZiR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkd2l0aFJlZixcbiAgICAgIGNvbm5lY3RPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnZ2V0RGlzcGxheU5hbWUnLCAnbWV0aG9kTmFtZScsICdyZW5kZXJDb3VudFByb3AnLCAnc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzJywgJ3N0b3JlS2V5JywgJ3dpdGhSZWYnXSk7XG5cbiAgdmFyIHN1YnNjcmlwdGlvbktleSA9IHN0b3JlS2V5ICsgJ1N1YnNjcmlwdGlvbic7XG4gIHZhciB2ZXJzaW9uID0gaG90UmVsb2FkaW5nVmVyc2lvbisrO1xuXG4gIHZhciBjb250ZXh0VHlwZXMgPSAoX2NvbnRleHRUeXBlcyA9IHt9LCBfY29udGV4dFR5cGVzW3N0b3JlS2V5XSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdXRpbHNfUHJvcFR5cGVzX19bXCJhXCIgLyogc3RvcmVTaGFwZSAqL10sIF9jb250ZXh0VHlwZXNbc3Vic2NyaXB0aW9uS2V5XSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdXRpbHNfUHJvcFR5cGVzX19bXCJiXCIgLyogc3Vic2NyaXB0aW9uU2hhcGUgKi9dLCBfY29udGV4dFR5cGVzKTtcbiAgdmFyIGNoaWxkQ29udGV4dFR5cGVzID0gKF9jaGlsZENvbnRleHRUeXBlcyA9IHt9LCBfY2hpbGRDb250ZXh0VHlwZXNbc3Vic2NyaXB0aW9uS2V5XSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdXRpbHNfUHJvcFR5cGVzX19bXCJiXCIgLyogc3Vic2NyaXB0aW9uU2hhcGUgKi9dLCBfY2hpbGRDb250ZXh0VHlwZXMpO1xuXG4gIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9pbnZhcmlhbnRfX19kZWZhdWx0KCkodHlwZW9mIFdyYXBwZWRDb21wb25lbnQgPT0gJ2Z1bmN0aW9uJywgJ1lvdSBtdXN0IHBhc3MgYSBjb21wb25lbnQgdG8gdGhlIGZ1bmN0aW9uIHJldHVybmVkIGJ5ICcgKyAoJ2Nvbm5lY3QuIEluc3RlYWQgcmVjZWl2ZWQgJyArIEpTT04uc3RyaW5naWZ5KFdyYXBwZWRDb21wb25lbnQpKSk7XG5cbiAgICB2YXIgd3JhcHBlZENvbXBvbmVudE5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICAgIHZhciBkaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKHdyYXBwZWRDb21wb25lbnROYW1lKTtcblxuICAgIHZhciBzZWxlY3RvckZhY3RvcnlPcHRpb25zID0gX2V4dGVuZHMoe30sIGNvbm5lY3RPcHRpb25zLCB7XG4gICAgICBnZXREaXNwbGF5TmFtZTogZ2V0RGlzcGxheU5hbWUsXG4gICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgcmVuZGVyQ291bnRQcm9wOiByZW5kZXJDb3VudFByb3AsXG4gICAgICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6IHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyxcbiAgICAgIHN0b3JlS2V5OiBzdG9yZUtleSxcbiAgICAgIHdpdGhSZWY6IHdpdGhSZWYsXG4gICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICB3cmFwcGVkQ29tcG9uZW50TmFtZTogd3JhcHBlZENvbXBvbmVudE5hbWUsXG4gICAgICBXcmFwcGVkQ29tcG9uZW50OiBXcmFwcGVkQ29tcG9uZW50XG4gICAgfSk7XG5cbiAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHMoQ29ubmVjdCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICBfdGhpcy5yZW5kZXJDb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnN0b3JlID0gcHJvcHNbc3RvcmVLZXldIHx8IGNvbnRleHRbc3RvcmVLZXldO1xuICAgICAgICBfdGhpcy5wcm9wc01vZGUgPSBCb29sZWFuKHByb3BzW3N0b3JlS2V5XSk7XG4gICAgICAgIF90aGlzLnNldFdyYXBwZWRJbnN0YW5jZSA9IF90aGlzLnNldFdyYXBwZWRJbnN0YW5jZS5iaW5kKF90aGlzKTtcblxuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfaW52YXJpYW50X19fZGVmYXVsdCgpKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCInICsgc3RvcmVLZXkgKyAnXCIgaW4gZWl0aGVyIHRoZSBjb250ZXh0IG9yIHByb3BzIG9mICcgKyAoJ1wiJyArIGRpc3BsYXlOYW1lICsgJ1wiLiBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnKSArICgnb3IgZXhwbGljaXRseSBwYXNzIFwiJyArIHN0b3JlS2V5ICsgJ1wiIGFzIGEgcHJvcCB0byBcIicgKyBkaXNwbGF5TmFtZSArICdcIi4nKSk7XG5cbiAgICAgICAgX3RoaXMuaW5pdFNlbGVjdG9yKCk7XG4gICAgICAgIF90aGlzLmluaXRTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfcmVmMjtcblxuICAgICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCByZWNlaXZlZCBzdG9yZSBmcm9tIHByb3BzLCBpdHMgc3Vic2NyaXB0aW9uIHNob3VsZCBiZSB0cmFuc3BhcmVudFxuICAgICAgICAvLyB0byBhbnkgZGVzY2VuZGFudHMgcmVjZWl2aW5nIHN0b3JlK3N1YnNjcmlwdGlvbiBmcm9tIGNvbnRleHQ7IGl0IHBhc3NlcyBhbG9uZ1xuICAgICAgICAvLyBzdWJzY3JpcHRpb24gcGFzc2VkIHRvIGl0LiBPdGhlcndpc2UsIGl0IHNoYWRvd3MgdGhlIHBhcmVudCBzdWJzY3JpcHRpb24sIHdoaWNoIGFsbG93c1xuICAgICAgICAvLyBDb25uZWN0IHRvIGNvbnRyb2wgb3JkZXJpbmcgb2Ygbm90aWZpY2F0aW9ucyB0byBmbG93IHRvcC1kb3duLlxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5wcm9wc01vZGUgPyBudWxsIDogdGhpcy5zdWJzY3JpcHRpb247XG4gICAgICAgIHJldHVybiBfcmVmMiA9IHt9LCBfcmVmMltzdWJzY3JpcHRpb25LZXldID0gc3Vic2NyaXB0aW9uIHx8IHRoaXMuY29udGV4dFtzdWJzY3JpcHRpb25LZXldLCBfcmVmMjtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICghc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzKSByZXR1cm47XG5cbiAgICAgICAgLy8gY29tcG9uZW50V2lsbE1vdW50IGZpcmVzIGR1cmluZyBzZXJ2ZXIgc2lkZSByZW5kZXJpbmcsIGJ1dCBjb21wb25lbnREaWRNb3VudCBhbmRcbiAgICAgICAgLy8gY29tcG9uZW50V2lsbFVubW91bnQgZG8gbm90LiBCZWNhdXNlIG9mIHRoaXMsIHRyeVN1YnNjcmliZSBoYXBwZW5zIGR1cmluZyAuLi5kaWRNb3VudC5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB1bnN1YnNjcmlwdGlvbiB3b3VsZCBuZXZlciB0YWtlIHBsYWNlIGR1cmluZyBTU1IsIGNhdXNpbmcgYSBtZW1vcnkgbGVhay5cbiAgICAgICAgLy8gVG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIGEgY2hpbGQgY29tcG9uZW50IG1heSBoYXZlIHRyaWdnZXJlZCBhIHN0YXRlIGNoYW5nZSBieVxuICAgICAgICAvLyBkaXNwYXRjaGluZyBhbiBhY3Rpb24gaW4gaXRzIGNvbXBvbmVudFdpbGxNb3VudCwgd2UgaGF2ZSB0byByZS1ydW4gdGhlIHNlbGVjdCBhbmQgbWF5YmVcbiAgICAgICAgLy8gcmUtcmVuZGVyLlxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi50cnlTdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5ydW4odGhpcy5wcm9wcyk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZSkgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IucnVuKG5leHRQcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZTtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikgdGhpcy5zdWJzY3JpcHRpb24udHJ5VW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm5vdGlmeU5lc3RlZFN1YnMgPSBub29wO1xuICAgICAgICB0aGlzLnN0b3JlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5ydW4gPSBub29wO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfaW52YXJpYW50X19fZGVmYXVsdCgpKHdpdGhSZWYsICdUbyBhY2Nlc3MgdGhlIHdyYXBwZWQgaW5zdGFuY2UsIHlvdSBuZWVkIHRvIHNwZWNpZnkgJyArICgneyB3aXRoUmVmOiB0cnVlIH0gaW4gdGhlIG9wdGlvbnMgYXJndW1lbnQgb2YgdGhlICcgKyBtZXRob2ROYW1lICsgJygpIGNhbGwuJykpO1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVkSW5zdGFuY2U7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5zZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBzZXRXcmFwcGVkSW5zdGFuY2UocmVmKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZEluc3RhbmNlID0gcmVmO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yID0gZnVuY3Rpb24gaW5pdFNlbGVjdG9yKCkge1xuICAgICAgICB2YXIgc291cmNlU2VsZWN0b3IgPSBzZWxlY3RvckZhY3RvcnkodGhpcy5zdG9yZS5kaXNwYXRjaCwgc2VsZWN0b3JGYWN0b3J5T3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBtYWtlU2VsZWN0b3JTdGF0ZWZ1bChzb3VyY2VTZWxlY3RvciwgdGhpcy5zdG9yZSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IucnVuKHRoaXMucHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaW5pdFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIGluaXRTdWJzY3JpcHRpb24oKSB7XG4gICAgICAgIGlmICghc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzKSByZXR1cm47XG5cbiAgICAgICAgLy8gcGFyZW50U3ViJ3Mgc291cmNlIHNob3VsZCBtYXRjaCB3aGVyZSBzdG9yZSBjYW1lIGZyb206IHByb3BzIHZzLiBjb250ZXh0LiBBIGNvbXBvbmVudFxuICAgICAgICAvLyBjb25uZWN0ZWQgdG8gdGhlIHN0b3JlIHZpYSBwcm9wcyBzaG91bGRuJ3QgdXNlIHN1YnNjcmlwdGlvbiBmcm9tIGNvbnRleHQsIG9yIHZpY2UgdmVyc2EuXG4gICAgICAgIHZhciBwYXJlbnRTdWIgPSAodGhpcy5wcm9wc01vZGUgPyB0aGlzLnByb3BzIDogdGhpcy5jb250ZXh0KVtzdWJzY3JpcHRpb25LZXldO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX1N1YnNjcmlwdGlvbl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKHRoaXMuc3RvcmUsIHBhcmVudFN1YiwgdGhpcy5vblN0YXRlQ2hhbmdlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIGBub3RpZnlOZXN0ZWRTdWJzYCBpcyBkdXBsaWNhdGVkIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29tcG9uZW50IGlzICB1bm1vdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIG1pZGRsZSBvZiB0aGUgbm90aWZpY2F0aW9uIGxvb3AsIHdoZXJlIGB0aGlzLnN1YnNjcmlwdGlvbmAgd2lsbCB0aGVuIGJlIG51bGwuIEFuXG4gICAgICAgIC8vIGV4dHJhIG51bGwgY2hlY2sgZXZlcnkgY2hhbmdlIGNhbiBiZSBhdm9pZGVkIGJ5IGNvcHlpbmcgdGhlIG1ldGhvZCBvbnRvIGB0aGlzYCBhbmQgdGhlblxuICAgICAgICAvLyByZXBsYWNpbmcgaXQgd2l0aCBhIG5vLW9wIG9uIHVubW91bnQuIFRoaXMgY2FuIHByb2JhYmx5IGJlIGF2b2lkZWQgaWYgU3Vic2NyaXB0aW9uJ3NcbiAgICAgICAgLy8gbGlzdGVuZXJzIGxvZ2ljIGlzIGNoYW5nZWQgdG8gbm90IGNhbGwgbGlzdGVuZXJzIHRoYXQgaGF2ZSBiZWVuIHVuc3Vic2NyaWJlZCBpbiB0aGVcbiAgICAgICAgLy8gbWlkZGxlIG9mIHRoZSBub3RpZmljYXRpb24gbG9vcC5cbiAgICAgICAgdGhpcy5ub3RpZnlOZXN0ZWRTdWJzID0gdGhpcy5zdWJzY3JpcHRpb24ubm90aWZ5TmVzdGVkU3Vicy5iaW5kKHRoaXMuc3Vic2NyaXB0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLm9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiBvblN0YXRlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKTtcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlOZXN0ZWRTdWJzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUgPSB0aGlzLm5vdGlmeU5lc3RlZFN1YnNPbkNvbXBvbmVudERpZFVwZGF0ZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKGR1bW15U3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5ub3RpZnlOZXN0ZWRTdWJzT25Db21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBub3RpZnlOZXN0ZWRTdWJzT25Db21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIC8vIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIGNvbmRpdGlvbmFsbHkgaW1wbGVtZW50ZWQgd2hlbiBgb25TdGF0ZUNoYW5nZWAgZGV0ZXJtaW5lcyBpdFxuICAgICAgICAvLyBuZWVkcyB0byBub3RpZnkgbmVzdGVkIHN1YnMuIE9uY2UgY2FsbGVkLCBpdCB1bmltcGxlbWVudHMgaXRzZWxmIHVudGlsIGZ1cnRoZXIgc3RhdGVcbiAgICAgICAgLy8gY2hhbmdlcyBvY2N1ci4gRG9pbmcgaXQgdGhpcyB3YXkgdnMgaGF2aW5nIGEgcGVybWFuZW50IGBjb21wb25lbnREaWRVcGRhdGVgIHRoYXQgZG9lc1xuICAgICAgICAvLyBhIGJvb2xlYW4gY2hlY2sgZXZlcnkgdGltZSBhdm9pZHMgYW4gZXh0cmEgbWV0aG9kIGNhbGwgbW9zdCBvZiB0aGUgdGltZSwgcmVzdWx0aW5nXG4gICAgICAgIC8vIGluIHNvbWUgcGVyZiBib29zdC5cbiAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubm90aWZ5TmVzdGVkU3VicygpO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaXNTdWJzY3JpYmVkID0gZnVuY3Rpb24gaXNTdWJzY3JpYmVkKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnN1YnNjcmlwdGlvbikgJiYgdGhpcy5zdWJzY3JpcHRpb24uaXNTdWJzY3JpYmVkKCk7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5hZGRFeHRyYVByb3BzID0gZnVuY3Rpb24gYWRkRXh0cmFQcm9wcyhwcm9wcykge1xuICAgICAgICBpZiAoIXdpdGhSZWYgJiYgIXJlbmRlckNvdW50UHJvcCAmJiAhKHRoaXMucHJvcHNNb2RlICYmIHRoaXMuc3Vic2NyaXB0aW9uKSkgcmV0dXJuIHByb3BzO1xuICAgICAgICAvLyBtYWtlIGEgc2hhbGxvdyBjb3B5IHNvIHRoYXQgZmllbGRzIGFkZGVkIGRvbid0IGxlYWsgdG8gdGhlIG9yaWdpbmFsIHNlbGVjdG9yLlxuICAgICAgICAvLyB0aGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IGZvciAncmVmJyBzaW5jZSB0aGF0J3MgYSByZWZlcmVuY2UgYmFjayB0byB0aGUgY29tcG9uZW50XG4gICAgICAgIC8vIGluc3RhbmNlLiBhIHNpbmdsZXRvbiBtZW1vaXplZCBzZWxlY3RvciB3b3VsZCB0aGVuIGJlIGhvbGRpbmcgYSByZWZlcmVuY2UgdG8gdGhlXG4gICAgICAgIC8vIGluc3RhbmNlLCBwcmV2ZW50aW5nIHRoZSBpbnN0YW5jZSBmcm9tIGJlaW5nIGdhcmJhZ2UgY29sbGVjdGVkLCBhbmQgdGhhdCB3b3VsZCBiZSBiYWRcbiAgICAgICAgdmFyIHdpdGhFeHRyYXMgPSBfZXh0ZW5kcyh7fSwgcHJvcHMpO1xuICAgICAgICBpZiAod2l0aFJlZikgd2l0aEV4dHJhcy5yZWYgPSB0aGlzLnNldFdyYXBwZWRJbnN0YW5jZTtcbiAgICAgICAgaWYgKHJlbmRlckNvdW50UHJvcCkgd2l0aEV4dHJhc1tyZW5kZXJDb3VudFByb3BdID0gdGhpcy5yZW5kZXJDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5wcm9wc01vZGUgJiYgdGhpcy5zdWJzY3JpcHRpb24pIHdpdGhFeHRyYXNbc3Vic2NyaXB0aW9uS2V5XSA9IHRoaXMuc3Vic2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gd2l0aEV4dHJhcztcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNlbGVjdG9yLmVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgc2VsZWN0b3IuZXJyb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKFdyYXBwZWRDb21wb25lbnQsIHRoaXMuYWRkRXh0cmFQcm9wcyhzZWxlY3Rvci5wcm9wcykpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29ubmVjdDtcbiAgICB9KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcblxuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIENvbm5lY3QuY2hpbGRDb250ZXh0VHlwZXMgPSBjaGlsZENvbnRleHRUeXBlcztcbiAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IGNvbnRleHRUeXBlcztcbiAgICBDb25uZWN0LnByb3BUeXBlcyA9IGNvbnRleHRUeXBlcztcblxuICAgIGlmIChmYWxzZSkge1xuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuICAgICAgICBpZiAodGhpcy52ZXJzaW9uICE9PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICB0aGlzLmluaXRTZWxlY3RvcigpO1xuXG4gICAgICAgICAgLy8gSWYgYW55IGNvbm5lY3RlZCBkZXNjZW5kYW50cyBkb24ndCBob3QgcmVsb2FkIChhbmQgcmVzdWJzY3JpYmUgaW4gdGhlIHByb2Nlc3MpLCB0aGVpclxuICAgICAgICAgIC8vIGxpc3RlbmVycyB3aWxsIGJlIGxvc3Qgd2hlbiB3ZSB1bnN1YnNjcmliZS4gVW5mb3J0dW5hdGVseSwgYnkgY29weWluZyBvdmVyIGFsbFxuICAgICAgICAgIC8vIGxpc3RlbmVycywgdGhpcyBkb2VzIG1lYW4gdGhhdCB0aGUgb2xkIHZlcnNpb25zIG9mIGNvbm5lY3RlZCBkZXNjZW5kYW50cyB3aWxsIHN0aWxsIGJlXG4gICAgICAgICAgLy8gbm90aWZpZWQgb2Ygc3RhdGUgY2hhbmdlczsgaG93ZXZlciwgdGhlaXIgb25TdGF0ZUNoYW5nZSBmdW5jdGlvbiBpcyBhIG5vLW9wIHNvIHRoaXNcbiAgICAgICAgICAvLyBpc24ndCBhIGh1Z2UgZGVhbC5cbiAgICAgICAgICB2YXIgb2xkTGlzdGVuZXJzID0gW107XG5cbiAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIG9sZExpc3RlbmVycyA9IHRoaXMuc3Vic2NyaXB0aW9uLmxpc3RlbmVycy5nZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnRyeVVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaW5pdFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgIGlmIChzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpO1xuICAgICAgICAgICAgb2xkTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc3Vic2NyaXB0aW9uLmxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfaG9pc3Rfbm9uX3JlYWN0X3N0YXRpY3NfX19kZWZhdWx0KCkoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudCk7XG4gIH07XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvY29ubmVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9jb25uZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBjcmVhdGVDb25uZWN0LCBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IGNyZWF0ZUNvbm5lY3QgKi9cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbXBvbmVudHNfY29ubmVjdEFkdmFuY2VkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21wb25lbnRzL2Nvbm5lY3RBZHZhbmNlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvY29ubmVjdEFkdmFuY2VkLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdXRpbHNfc2hhbGxvd0VxdWFsX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9zaGFsbG93RXF1YWwgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9zaGFsbG93RXF1YWwuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19tYXBEaXNwYXRjaFRvUHJvcHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWFwRGlzcGF0Y2hUb1Byb3BzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBEaXNwYXRjaFRvUHJvcHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19tYXBTdGF0ZVRvUHJvcHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbWFwU3RhdGVUb1Byb3BzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tZXJnZVByb3BzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21lcmdlUHJvcHMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21lcmdlUHJvcHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zZWxlY3RvckZhY3RvcnlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2VsZWN0b3JGYWN0b3J5ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanNcIik7XG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuXG5cblxuXG5cblxuLypcbiAgY29ubmVjdCBpcyBhIGZhY2FkZSBvdmVyIGNvbm5lY3RBZHZhbmNlZC4gSXQgdHVybnMgaXRzIGFyZ3MgaW50byBhIGNvbXBhdGlibGVcbiAgc2VsZWN0b3JGYWN0b3J5LCB3aGljaCBoYXMgdGhlIHNpZ25hdHVyZTpcblxuICAgIChkaXNwYXRjaCwgb3B0aW9ucykgPT4gKG5leHRTdGF0ZSwgbmV4dE93blByb3BzKSA9PiBuZXh0RmluYWxQcm9wc1xuICBcbiAgY29ubmVjdCBwYXNzZXMgaXRzIGFyZ3MgdG8gY29ubmVjdEFkdmFuY2VkIGFzIG9wdGlvbnMsIHdoaWNoIHdpbGwgaW4gdHVybiBwYXNzIHRoZW0gdG9cbiAgc2VsZWN0b3JGYWN0b3J5IGVhY2ggdGltZSBhIENvbm5lY3QgY29tcG9uZW50IGluc3RhbmNlIGlzIGluc3RhbnRpYXRlZCBvciBob3QgcmVsb2FkZWQuXG5cbiAgc2VsZWN0b3JGYWN0b3J5IHJldHVybnMgYSBmaW5hbCBwcm9wcyBzZWxlY3RvciBmcm9tIGl0cyBtYXBTdGF0ZVRvUHJvcHMsXG4gIG1hcFN0YXRlVG9Qcm9wc0ZhY3RvcmllcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3JpZXMsIG1lcmdlUHJvcHMsXG4gIG1lcmdlUHJvcHNGYWN0b3JpZXMsIGFuZCBwdXJlIGFyZ3MuXG5cbiAgVGhlIHJlc3VsdGluZyBmaW5hbCBwcm9wcyBzZWxlY3RvciBpcyBjYWxsZWQgYnkgdGhlIENvbm5lY3QgY29tcG9uZW50IGluc3RhbmNlIHdoZW5ldmVyXG4gIGl0IHJlY2VpdmVzIG5ldyBwcm9wcyBvciBzdG9yZSBzdGF0ZS5cbiAqL1xuXG5mdW5jdGlvbiBtYXRjaChhcmcsIGZhY3RvcmllcywgbmFtZSkge1xuICBmb3IgKHZhciBpID0gZmFjdG9yaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhY3Rvcmllc1tpXShhcmcpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoLCBvcHRpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIHR5cGUgJyArIHR5cGVvZiBhcmcgKyAnIGZvciAnICsgbmFtZSArICcgYXJndW1lbnQgd2hlbiBjb25uZWN0aW5nIGNvbXBvbmVudCAnICsgb3B0aW9ucy53cmFwcGVkQ29tcG9uZW50TmFtZSArICcuJyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0cmljdEVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbi8vIGNyZWF0ZUNvbm5lY3Qgd2l0aCBkZWZhdWx0IGFyZ3MgYnVpbGRzIHRoZSAnb2ZmaWNpYWwnIGNvbm5lY3QgYmVoYXZpb3IuIENhbGxpbmcgaXQgd2l0aFxuLy8gZGlmZmVyZW50IG9wdGlvbnMgb3BlbnMgdXAgc29tZSB0ZXN0aW5nIGFuZCBleHRlbnNpYmlsaXR5IHNjZW5hcmlvc1xuZnVuY3Rpb24gY3JlYXRlQ29ubmVjdCgpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgX3JlZiRjb25uZWN0SE9DID0gX3JlZi5jb25uZWN0SE9DLFxuICAgICAgY29ubmVjdEhPQyA9IF9yZWYkY29ubmVjdEhPQyA9PT0gdW5kZWZpbmVkID8gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb21wb25lbnRzX2Nvbm5lY3RBZHZhbmNlZF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIDogX3JlZiRjb25uZWN0SE9DLFxuICAgICAgX3JlZiRtYXBTdGF0ZVRvUHJvcHNGID0gX3JlZi5tYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMsXG4gICAgICBtYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMgPSBfcmVmJG1hcFN0YXRlVG9Qcm9wc0YgPT09IHVuZGVmaW5lZCA/IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbWFwU3RhdGVUb1Byb3BzX19bXCJhXCIgLyogZGVmYXVsdCAqL10gOiBfcmVmJG1hcFN0YXRlVG9Qcm9wc0YsXG4gICAgICBfcmVmJG1hcERpc3BhdGNoVG9Qcm8gPSBfcmVmLm1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyxcbiAgICAgIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyA9IF9yZWYkbWFwRGlzcGF0Y2hUb1BybyA9PT0gdW5kZWZpbmVkID8gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19tYXBEaXNwYXRjaFRvUHJvcHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSA6IF9yZWYkbWFwRGlzcGF0Y2hUb1BybyxcbiAgICAgIF9yZWYkbWVyZ2VQcm9wc0ZhY3RvciA9IF9yZWYubWVyZ2VQcm9wc0ZhY3RvcmllcyxcbiAgICAgIG1lcmdlUHJvcHNGYWN0b3JpZXMgPSBfcmVmJG1lcmdlUHJvcHNGYWN0b3IgPT09IHVuZGVmaW5lZCA/IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbWVyZ2VQcm9wc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIDogX3JlZiRtZXJnZVByb3BzRmFjdG9yLFxuICAgICAgX3JlZiRzZWxlY3RvckZhY3RvcnkgPSBfcmVmLnNlbGVjdG9yRmFjdG9yeSxcbiAgICAgIHNlbGVjdG9yRmFjdG9yeSA9IF9yZWYkc2VsZWN0b3JGYWN0b3J5ID09PSB1bmRlZmluZWQgPyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3NlbGVjdG9yRmFjdG9yeV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIDogX3JlZiRzZWxlY3RvckZhY3Rvcnk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcbiAgICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9LFxuICAgICAgICBfcmVmMiRwdXJlID0gX3JlZjIucHVyZSxcbiAgICAgICAgcHVyZSA9IF9yZWYyJHB1cmUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmMiRwdXJlLFxuICAgICAgICBfcmVmMiRhcmVTdGF0ZXNFcXVhbCA9IF9yZWYyLmFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBhcmVTdGF0ZXNFcXVhbCA9IF9yZWYyJGFyZVN0YXRlc0VxdWFsID09PSB1bmRlZmluZWQgPyBzdHJpY3RFcXVhbCA6IF9yZWYyJGFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBfcmVmMiRhcmVPd25Qcm9wc0VxdWEgPSBfcmVmMi5hcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgICBhcmVPd25Qcm9wc0VxdWFsID0gX3JlZjIkYXJlT3duUHJvcHNFcXVhID09PSB1bmRlZmluZWQgPyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3V0aWxzX3NoYWxsb3dFcXVhbF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIDogX3JlZjIkYXJlT3duUHJvcHNFcXVhLFxuICAgICAgICBfcmVmMiRhcmVTdGF0ZVByb3BzRXEgPSBfcmVmMi5hcmVTdGF0ZVByb3BzRXF1YWwsXG4gICAgICAgIGFyZVN0YXRlUHJvcHNFcXVhbCA9IF9yZWYyJGFyZVN0YXRlUHJvcHNFcSA9PT0gdW5kZWZpbmVkID8gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19zaGFsbG93RXF1YWxfX1tcImFcIiAvKiBkZWZhdWx0ICovXSA6IF9yZWYyJGFyZVN0YXRlUHJvcHNFcSxcbiAgICAgICAgX3JlZjIkYXJlTWVyZ2VkUHJvcHNFID0gX3JlZjIuYXJlTWVyZ2VkUHJvcHNFcXVhbCxcbiAgICAgICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCA9IF9yZWYyJGFyZU1lcmdlZFByb3BzRSA9PT0gdW5kZWZpbmVkID8gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19zaGFsbG93RXF1YWxfX1tcImFcIiAvKiBkZWZhdWx0ICovXSA6IF9yZWYyJGFyZU1lcmdlZFByb3BzRSxcbiAgICAgICAgZXh0cmFPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbJ3B1cmUnLCAnYXJlU3RhdGVzRXF1YWwnLCAnYXJlT3duUHJvcHNFcXVhbCcsICdhcmVTdGF0ZVByb3BzRXF1YWwnLCAnYXJlTWVyZ2VkUHJvcHNFcXVhbCddKTtcblxuICAgIHZhciBpbml0TWFwU3RhdGVUb1Byb3BzID0gbWF0Y2gobWFwU3RhdGVUb1Byb3BzLCBtYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMsICdtYXBTdGF0ZVRvUHJvcHMnKTtcbiAgICB2YXIgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyA9IG1hdGNoKG1hcERpc3BhdGNoVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgdmFyIGluaXRNZXJnZVByb3BzID0gbWF0Y2gobWVyZ2VQcm9wcywgbWVyZ2VQcm9wc0ZhY3RvcmllcywgJ21lcmdlUHJvcHMnKTtcblxuICAgIHJldHVybiBjb25uZWN0SE9DKHNlbGVjdG9yRmFjdG9yeSwgX2V4dGVuZHMoe1xuICAgICAgLy8gdXNlZCBpbiBlcnJvciBtZXNzYWdlc1xuICAgICAgbWV0aG9kTmFtZTogJ2Nvbm5lY3QnLFxuXG4gICAgICAvLyB1c2VkIHRvIGNvbXB1dGUgQ29ubmVjdCdzIGRpc3BsYXlOYW1lIGZyb20gdGhlIHdyYXBwZWQgY29tcG9uZW50J3MgZGlzcGxheU5hbWUuXG4gICAgICBnZXREaXNwbGF5TmFtZTogZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gJ0Nvbm5lY3QoJyArIG5hbWUgKyAnKSc7XG4gICAgICB9LFxuXG4gICAgICAvLyBpZiBtYXBTdGF0ZVRvUHJvcHMgaXMgZmFsc3ksIHRoZSBDb25uZWN0IGNvbXBvbmVudCBkb2Vzbid0IHN1YnNjcmliZSB0byBzdG9yZSBzdGF0ZSBjaGFuZ2VzXG4gICAgICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKSxcblxuICAgICAgLy8gcGFzc2VkIHRocm91Z2ggdG8gc2VsZWN0b3JGYWN0b3J5XG4gICAgICBpbml0TWFwU3RhdGVUb1Byb3BzOiBpbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wczogaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICAgIGluaXRNZXJnZVByb3BzOiBpbml0TWVyZ2VQcm9wcyxcbiAgICAgIHB1cmU6IHB1cmUsXG4gICAgICBhcmVTdGF0ZXNFcXVhbDogYXJlU3RhdGVzRXF1YWwsXG4gICAgICBhcmVPd25Qcm9wc0VxdWFsOiBhcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsOiBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gICAgICBhcmVNZXJnZWRQcm9wc0VxdWFsOiBhcmVNZXJnZWRQcm9wc0VxdWFsXG5cbiAgICB9LCBleHRyYU9wdGlvbnMpKTtcbiAgfTtcbn1cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChjcmVhdGVDb25uZWN0KCkpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbiwgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZywgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0LCBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc0Z1bmN0aW9uICovXG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZyAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc09iamVjdCAqL1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWR1eF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVkdXggKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3dyYXBNYXBUb1Byb3BzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3dyYXBNYXBUb1Byb3BzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC93cmFwTWFwVG9Qcm9wcy5qc1wiKTtcblxuXG5cbmZ1bmN0aW9uIHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc0Z1bmN0aW9uKG1hcERpc3BhdGNoVG9Qcm9wcykge1xuICByZXR1cm4gdHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3dyYXBNYXBUb1Byb3BzX19bXCJiXCIgLyogd3JhcE1hcFRvUHJvcHNGdW5jICovXSkobWFwRGlzcGF0Y2hUb1Byb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJykgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3NpbmcobWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gIHJldHVybiAhbWFwRGlzcGF0Y2hUb1Byb3BzID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fd3JhcE1hcFRvUHJvcHNfX1tcImFcIiAvKiB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50ICovXSkoZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHsgZGlzcGF0Y2g6IGRpc3BhdGNoIH07XG4gIH0pIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNPYmplY3QobWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gIHJldHVybiBtYXBEaXNwYXRjaFRvUHJvcHMgJiYgdHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ29iamVjdCcgPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX193cmFwTWFwVG9Qcm9wc19fW1wiYVwiIC8qIHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQgKi9dKShmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWR1eF9fW1wiYmluZEFjdGlvbkNyZWF0b3JzXCJdKShtYXBEaXNwYXRjaFRvUHJvcHMsIGRpc3BhdGNoKTtcbiAgfSkgOiB1bmRlZmluZWQ7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoW3doZW5NYXBEaXNwYXRjaFRvUHJvcHNJc0Z1bmN0aW9uLCB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNNaXNzaW5nLCB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNPYmplY3RdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24sIHdoZW5NYXBTdGF0ZVRvUHJvcHNJc01pc3NpbmcsIGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24gKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCB3aGVuTWFwU3RhdGVUb1Byb3BzSXNNaXNzaW5nICovXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX193cmFwTWFwVG9Qcm9wc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi93cmFwTWFwVG9Qcm9wcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3Qvd3JhcE1hcFRvUHJvcHMuanNcIik7XG5cblxuZnVuY3Rpb24gd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24obWFwU3RhdGVUb1Byb3BzKSB7XG4gIHJldHVybiB0eXBlb2YgbWFwU3RhdGVUb1Byb3BzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fd3JhcE1hcFRvUHJvcHNfX1tcImJcIiAvKiB3cmFwTWFwVG9Qcm9wc0Z1bmMgKi9dKShtYXBTdGF0ZVRvUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gd2hlbk1hcFN0YXRlVG9Qcm9wc0lzTWlzc2luZyhtYXBTdGF0ZVRvUHJvcHMpIHtcbiAgcmV0dXJuICFtYXBTdGF0ZVRvUHJvcHMgPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX193cmFwTWFwVG9Qcm9wc19fW1wiYVwiIC8qIHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQgKi9dKShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9KSA6IHVuZGVmaW5lZDtcbn1cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChbd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24sIHdoZW5NYXBTdGF0ZVRvUHJvcHNJc01pc3NpbmddKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tZXJnZVByb3BzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21lcmdlUHJvcHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHRNZXJnZVByb3BzLCB3cmFwTWVyZ2VQcm9wc0Z1bmMsIHdoZW5NZXJnZVByb3BzSXNGdW5jdGlvbiwgd2hlbk1lcmdlUHJvcHNJc09taXR0ZWQsIGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgZGVmYXVsdE1lcmdlUHJvcHMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCB3cmFwTWVyZ2VQcm9wc0Z1bmMgKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCB3aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb24gKi9cbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCB3aGVuTWVyZ2VQcm9wc0lzT21pdHRlZCAqL1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfdmVyaWZ5UGxhaW5PYmplY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL3ZlcmlmeVBsYWluT2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QuanNcIik7XG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5cblxuZnVuY3Rpb24gZGVmYXVsdE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBvd25Qcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHdyYXBNZXJnZVByb3BzRnVuYyhtZXJnZVByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0TWVyZ2VQcm9wc1Byb3h5KGRpc3BhdGNoLCBfcmVmKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgICAgcHVyZSA9IF9yZWYucHVyZSxcbiAgICAgICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCA9IF9yZWYuYXJlTWVyZ2VkUHJvcHNFcXVhbDtcblxuICAgIHZhciBoYXNSdW5PbmNlID0gZmFsc2U7XG4gICAgdmFyIG1lcmdlZFByb3BzID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlUHJvcHNQcm94eShzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcykge1xuICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpO1xuXG4gICAgICBpZiAoaGFzUnVuT25jZSkge1xuICAgICAgICBpZiAoIXB1cmUgfHwgIWFyZU1lcmdlZFByb3BzRXF1YWwobmV4dE1lcmdlZFByb3BzLCBtZXJnZWRQcm9wcykpIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzUnVuT25jZSA9IHRydWU7XG4gICAgICAgIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzO1xuXG4gICAgICAgIGlmIChmYWxzZSkgdmVyaWZ5UGxhaW5PYmplY3QobWVyZ2VkUHJvcHMsIGRpc3BsYXlOYW1lLCAnbWVyZ2VQcm9wcycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gICAgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gd2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuIHR5cGVvZiBtZXJnZVByb3BzID09PSAnZnVuY3Rpb24nID8gd3JhcE1lcmdlUHJvcHNGdW5jKG1lcmdlUHJvcHMpIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3aGVuTWVyZ2VQcm9wc0lzT21pdHRlZChtZXJnZVByb3BzKSB7XG4gIHJldHVybiAhbWVyZ2VQcm9wcyA/IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1lcmdlUHJvcHM7XG4gIH0gOiB1bmRlZmluZWQ7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoW3doZW5NZXJnZVByb3BzSXNGdW5jdGlvbiwgd2hlbk1lcmdlUHJvcHNJc09taXR0ZWRdKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSwgcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnksIGRlZmF1bHQgKi9cbi8qISBleHBvcnRzIHVzZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSAqL1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IHB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5ICovXG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX192ZXJpZnlTdWJzZWxlY3RvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdmVyaWZ5U3Vic2VsZWN0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC92ZXJpZnlTdWJzZWxlY3RvcnMuanNcIik7XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cblxuXG5mdW5jdGlvbiBpbXB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykge1xuICAgIHJldHVybiBtZXJnZVByb3BzKG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpLCBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKSwgb3duUHJvcHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgZGlzcGF0Y2gsIF9yZWYpIHtcbiAgdmFyIGFyZVN0YXRlc0VxdWFsID0gX3JlZi5hcmVTdGF0ZXNFcXVhbCxcbiAgICAgIGFyZU93blByb3BzRXF1YWwgPSBfcmVmLmFyZU93blByb3BzRXF1YWwsXG4gICAgICBhcmVTdGF0ZVByb3BzRXF1YWwgPSBfcmVmLmFyZVN0YXRlUHJvcHNFcXVhbDtcblxuICB2YXIgaGFzUnVuQXRMZWFzdE9uY2UgPSBmYWxzZTtcbiAgdmFyIHN0YXRlID0gdm9pZCAwO1xuICB2YXIgb3duUHJvcHMgPSB2b2lkIDA7XG4gIHZhciBzdGF0ZVByb3BzID0gdm9pZCAwO1xuICB2YXIgZGlzcGF0Y2hQcm9wcyA9IHZvaWQgMDtcbiAgdmFyIG1lcmdlZFByb3BzID0gdm9pZCAwO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUZpcnN0Q2FsbChmaXJzdFN0YXRlLCBmaXJzdE93blByb3BzKSB7XG4gICAgc3RhdGUgPSBmaXJzdFN0YXRlO1xuICAgIG93blByb3BzID0gZmlyc3RPd25Qcm9wcztcbiAgICBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyk7XG4gICAgZGlzcGF0Y2hQcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpO1xuICAgIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XG4gICAgaGFzUnVuQXRMZWFzdE9uY2UgPSB0cnVlO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld1Byb3BzQW5kTmV3U3RhdGUoKSB7XG4gICAgc3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgZGlzcGF0Y2hQcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpO1xuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcbiAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOZXdQcm9wcygpIHtcbiAgICBpZiAobWFwU3RhdGVUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzKSBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyk7XG5cbiAgICBpZiAobWFwRGlzcGF0Y2hUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzKSBkaXNwYXRjaFByb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvd25Qcm9wcyk7XG5cbiAgICBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld1N0YXRlKCkge1xuICAgIHZhciBuZXh0U3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuICAgIHZhciBzdGF0ZVByb3BzQ2hhbmdlZCA9ICFhcmVTdGF0ZVByb3BzRXF1YWwobmV4dFN0YXRlUHJvcHMsIHN0YXRlUHJvcHMpO1xuICAgIHN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcblxuICAgIGlmIChzdGF0ZVByb3BzQ2hhbmdlZCkgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcblxuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1YnNlcXVlbnRDYWxscyhuZXh0U3RhdGUsIG5leHRPd25Qcm9wcykge1xuICAgIHZhciBwcm9wc0NoYW5nZWQgPSAhYXJlT3duUHJvcHNFcXVhbChuZXh0T3duUHJvcHMsIG93blByb3BzKTtcbiAgICB2YXIgc3RhdGVDaGFuZ2VkID0gIWFyZVN0YXRlc0VxdWFsKG5leHRTdGF0ZSwgc3RhdGUpO1xuICAgIHN0YXRlID0gbmV4dFN0YXRlO1xuICAgIG93blByb3BzID0gbmV4dE93blByb3BzO1xuXG4gICAgaWYgKHByb3BzQ2hhbmdlZCAmJiBzdGF0ZUNoYW5nZWQpIHJldHVybiBoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlKCk7XG4gICAgaWYgKHByb3BzQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1Byb3BzKCk7XG4gICAgaWYgKHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1N0YXRlKCk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1cmVGaW5hbFByb3BzU2VsZWN0b3IobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIHtcbiAgICByZXR1cm4gaGFzUnVuQXRMZWFzdE9uY2UgPyBoYW5kbGVTdWJzZXF1ZW50Q2FsbHMobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIDogaGFuZGxlRmlyc3RDYWxsKG5leHRTdGF0ZSwgbmV4dE93blByb3BzKTtcbiAgfTtcbn1cblxuLy8gVE9ETzogQWRkIG1vcmUgY29tbWVudHNcblxuLy8gSWYgcHVyZSBpcyB0cnVlLCB0aGUgc2VsZWN0b3IgcmV0dXJuZWQgYnkgc2VsZWN0b3JGYWN0b3J5IHdpbGwgbWVtb2l6ZSBpdHMgcmVzdWx0cyxcbi8vIGFsbG93aW5nIGNvbm5lY3RBZHZhbmNlZCdzIHNob3VsZENvbXBvbmVudFVwZGF0ZSB0byByZXR1cm4gZmFsc2UgaWYgZmluYWxcbi8vIHByb3BzIGhhdmUgbm90IGNoYW5nZWQuIElmIGZhbHNlLCB0aGUgc2VsZWN0b3Igd2lsbCBhbHdheXMgcmV0dXJuIGEgbmV3XG4vLyBvYmplY3QgYW5kIHNob3VsZENvbXBvbmVudFVwZGF0ZSB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZS5cblxuZnVuY3Rpb24gZmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeShkaXNwYXRjaCwgX3JlZjIpIHtcbiAgdmFyIGluaXRNYXBTdGF0ZVRvUHJvcHMgPSBfcmVmMi5pbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyA9IF9yZWYyLmluaXRNYXBEaXNwYXRjaFRvUHJvcHMsXG4gICAgICBpbml0TWVyZ2VQcm9wcyA9IF9yZWYyLmluaXRNZXJnZVByb3BzLFxuICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgWydpbml0TWFwU3RhdGVUb1Byb3BzJywgJ2luaXRNYXBEaXNwYXRjaFRvUHJvcHMnLCAnaW5pdE1lcmdlUHJvcHMnXSk7XG5cbiAgdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGluaXRNYXBTdGF0ZVRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpO1xuICB2YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3B0aW9ucyk7XG4gIHZhciBtZXJnZVByb3BzID0gaW5pdE1lcmdlUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpO1xuXG4gIGlmIChmYWxzZSkge1xuICAgIHZlcmlmeVN1YnNlbGVjdG9ycyhtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgb3B0aW9ucy5kaXNwbGF5TmFtZSk7XG4gIH1cblxuICB2YXIgc2VsZWN0b3JGYWN0b3J5ID0gb3B0aW9ucy5wdXJlID8gcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkgOiBpbXB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5O1xuXG4gIHJldHVybiBzZWxlY3RvckZhY3RvcnkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoLCBvcHRpb25zKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC92ZXJpZnlTdWJzZWxlY3RvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC92ZXJpZnlTdWJzZWxlY3RvcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBkZWZhdWx0ICovXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc193YXJuaW5nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy93YXJuaW5nICovIFwiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvd2FybmluZy5qc1wiKTtcblxuXG5mdW5jdGlvbiB2ZXJpZnkoc2VsZWN0b3IsIG1ldGhvZE5hbWUsIGRpc3BsYXlOYW1lKSB7XG4gIGlmICghc2VsZWN0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdmFsdWUgZm9yICcgKyBtZXRob2ROYW1lICsgJyBpbiAnICsgZGlzcGxheU5hbWUgKyAnLicpO1xuICB9IGVsc2UgaWYgKG1ldGhvZE5hbWUgPT09ICdtYXBTdGF0ZVRvUHJvcHMnIHx8IG1ldGhvZE5hbWUgPT09ICdtYXBEaXNwYXRjaFRvUHJvcHMnKSB7XG4gICAgaWYgKCFzZWxlY3Rvci5oYXNPd25Qcm9wZXJ0eSgnZGVwZW5kc09uT3duUHJvcHMnKSkge1xuICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfd2FybmluZ19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgnVGhlIHNlbGVjdG9yIGZvciAnICsgbWV0aG9kTmFtZSArICcgb2YgJyArIGRpc3BsYXlOYW1lICsgJyBkaWQgbm90IHNwZWNpZnkgYSB2YWx1ZSBmb3IgZGVwZW5kc09uT3duUHJvcHMuJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHZlcmlmeVN1YnNlbGVjdG9ycyhtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgdmVyaWZ5KG1hcFN0YXRlVG9Qcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycsIGRpc3BsYXlOYW1lKTtcbiAgdmVyaWZ5KG1hcERpc3BhdGNoVG9Qcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycsIGRpc3BsYXlOYW1lKTtcbiAgdmVyaWZ5KG1lcmdlUHJvcHMsICdtZXJnZVByb3BzJywgZGlzcGxheU5hbWUpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L3dyYXBNYXBUb1Byb3BzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC93cmFwTWFwVG9Qcm9wcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQsIGdldERlcGVuZHNPbk93blByb3BzLCB3cmFwTWFwVG9Qcm9wc0Z1bmMgKi9cbi8qISBleHBvcnRzIHVzZWQ6IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQsIHdyYXBNYXBUb1Byb3BzRnVuYyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gd3JhcE1hcFRvUHJvcHNDb25zdGFudDtcbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBnZXREZXBlbmRzT25Pd25Qcm9wcyAqL1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImJcIl0gPSB3cmFwTWFwVG9Qcm9wc0Z1bmM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc192ZXJpZnlQbGFpbk9iamVjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy92ZXJpZnlQbGFpbk9iamVjdC5qc1wiKTtcblxuXG5mdW5jdGlvbiB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50KGdldENvbnN0YW50KSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0Q29uc3RhbnRTZWxlY3RvcihkaXNwYXRjaCwgb3B0aW9ucykge1xuICAgIHZhciBjb25zdGFudCA9IGdldENvbnN0YW50KGRpc3BhdGNoLCBvcHRpb25zKTtcblxuICAgIGZ1bmN0aW9uIGNvbnN0YW50U2VsZWN0b3IoKSB7XG4gICAgICByZXR1cm4gY29uc3RhbnQ7XG4gICAgfVxuICAgIGNvbnN0YW50U2VsZWN0b3IuZGVwZW5kc09uT3duUHJvcHMgPSBmYWxzZTtcbiAgICByZXR1cm4gY29uc3RhbnRTZWxlY3RvcjtcbiAgfTtcbn1cblxuLy8gZGVwZW5kc09uT3duUHJvcHMgaXMgdXNlZCBieSBjcmVhdGVNYXBUb1Byb3BzUHJveHkgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcGFzcyBwcm9wcyBhcyBhcmdzXG4vLyB0byB0aGUgbWFwVG9Qcm9wcyBmdW5jdGlvbiBiZWluZyB3cmFwcGVkLiBJdCBpcyBhbHNvIHVzZWQgYnkgbWFrZVB1cmVQcm9wc1NlbGVjdG9yIHRvIGRldGVybWluZVxuLy8gd2hldGhlciBtYXBUb1Byb3BzIG5lZWRzIHRvIGJlIGludm9rZWQgd2hlbiBwcm9wcyBoYXZlIGNoYW5nZWQuXG4vLyBcbi8vIEEgbGVuZ3RoIG9mIG9uZSBzaWduYWxzIHRoYXQgbWFwVG9Qcm9wcyBkb2VzIG5vdCBkZXBlbmQgb24gcHJvcHMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC5cbi8vIEEgbGVuZ3RoIG9mIHplcm8gaXMgYXNzdW1lZCB0byBtZWFuIG1hcFRvUHJvcHMgaXMgZ2V0dGluZyBhcmdzIHZpYSBhcmd1bWVudHMgb3IgLi4uYXJncyBhbmRcbi8vIHRoZXJlZm9yZSBub3QgcmVwb3J0aW5nIGl0cyBsZW5ndGggYWNjdXJhdGVseS4uXG5mdW5jdGlvbiBnZXREZXBlbmRzT25Pd25Qcm9wcyhtYXBUb1Byb3BzKSB7XG4gIHJldHVybiBtYXBUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzICE9PSBudWxsICYmIG1hcFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHMgIT09IHVuZGVmaW5lZCA/IEJvb2xlYW4obWFwVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgOiBtYXBUb1Byb3BzLmxlbmd0aCAhPT0gMTtcbn1cblxuLy8gVXNlZCBieSB3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbiBhbmQgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb24sXG4vLyB0aGlzIGZ1bmN0aW9uIHdyYXBzIG1hcFRvUHJvcHMgaW4gYSBwcm94eSBmdW5jdGlvbiB3aGljaCBkb2VzIHNldmVyYWwgdGhpbmdzOlxuLy8gXG4vLyAgKiBEZXRlY3RzIHdoZXRoZXIgdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIGRlcGVuZHMgb24gcHJvcHMsIHdoaWNoXG4vLyAgICBpcyB1c2VkIGJ5IHNlbGVjdG9yRmFjdG9yeSB0byBkZWNpZGUgaWYgaXQgc2hvdWxkIHJlaW52b2tlIG9uIHByb3BzIGNoYW5nZXMuXG4vLyAgICBcbi8vICAqIE9uIGZpcnN0IGNhbGwsIGhhbmRsZXMgbWFwVG9Qcm9wcyBpZiByZXR1cm5zIGFub3RoZXIgZnVuY3Rpb24sIGFuZCB0cmVhdHMgdGhhdFxuLy8gICAgbmV3IGZ1bmN0aW9uIGFzIHRoZSB0cnVlIG1hcFRvUHJvcHMgZm9yIHN1YnNlcXVlbnQgY2FsbHMuXG4vLyAgICBcbi8vICAqIE9uIGZpcnN0IGNhbGwsIHZlcmlmaWVzIHRoZSBmaXJzdCByZXN1bHQgaXMgYSBwbGFpbiBvYmplY3QsIGluIG9yZGVyIHRvIHdhcm5cbi8vICAgIHRoZSBkZXZlbG9wZXIgdGhhdCB0aGVpciBtYXBUb1Byb3BzIGZ1bmN0aW9uIGlzIG5vdCByZXR1cm5pbmcgYSB2YWxpZCByZXN1bHQuXG4vLyAgICBcbmZ1bmN0aW9uIHdyYXBNYXBUb1Byb3BzRnVuYyhtYXBUb1Byb3BzLCBtZXRob2ROYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0UHJveHlTZWxlY3RvcihkaXNwYXRjaCwgX3JlZikge1xuICAgIHZhciBkaXNwbGF5TmFtZSA9IF9yZWYuZGlzcGxheU5hbWU7XG5cbiAgICB2YXIgcHJveHkgPSBmdW5jdGlvbiBtYXBUb1Byb3BzUHJveHkoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcykge1xuICAgICAgcmV0dXJuIHByb3h5LmRlcGVuZHNPbk93blByb3BzID8gcHJveHkubWFwVG9Qcm9wcyhzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKSA6IHByb3h5Lm1hcFRvUHJvcHMoc3RhdGVPckRpc3BhdGNoKTtcbiAgICB9O1xuXG4gICAgLy8gYWxsb3cgZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeSB0byBnZXQgb3duUHJvcHNcbiAgICBwcm94eS5kZXBlbmRzT25Pd25Qcm9wcyA9IHRydWU7XG5cbiAgICBwcm94eS5tYXBUb1Byb3BzID0gZnVuY3Rpb24gZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKSB7XG4gICAgICBwcm94eS5tYXBUb1Byb3BzID0gbWFwVG9Qcm9wcztcbiAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMobWFwVG9Qcm9wcyk7XG4gICAgICB2YXIgcHJvcHMgPSBwcm94eShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKTtcblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm94eS5tYXBUb1Byb3BzID0gcHJvcHM7XG4gICAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMocHJvcHMpO1xuICAgICAgICBwcm9wcyA9IHByb3h5KHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsc2UpIHZlcmlmeVBsYWluT2JqZWN0KHByb3BzLCBkaXNwbGF5TmFtZSwgbWV0aG9kTmFtZSk7XG5cbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBQcm92aWRlciwgY3JlYXRlUHJvdmlkZXIsIGNvbm5lY3RBZHZhbmNlZCwgY29ubmVjdCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jb21wb25lbnRzX1Byb3ZpZGVyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvUHJvdmlkZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29tcG9uZW50c19jb25uZWN0QWR2YW5jZWRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9uZW50cy9jb25uZWN0QWR2YW5jZWQgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL2Nvbm5lY3RBZHZhbmNlZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2Nvbm5lY3RfY29ubmVjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb25uZWN0L2Nvbm5lY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L2Nvbm5lY3QuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJQcm92aWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9uZW50c19Qcm92aWRlcl9fW1wiYlwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVQcm92aWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9uZW50c19Qcm92aWRlcl9fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb25uZWN0QWR2YW5jZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbXBvbmVudHNfY29ubmVjdEFkdmFuY2VkX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbm5lY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2Nvbm5lY3RfY29ubmVjdF9fW1wiYVwiXTsgfSk7XG5cblxuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9Qcm9wVHlwZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1Byb3BUeXBlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogc3Vic2NyaXB0aW9uU2hhcGUsIHN0b3JlU2hhcGUgKi9cbi8qISBleHBvcnRzIHVzZWQ6IHN0b3JlU2hhcGUsIHN1YnNjcmlwdGlvblNoYXBlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBzdWJzY3JpcHRpb25TaGFwZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHN0b3JlU2hhcGU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwcm9wLXR5cGVzICovIFwiLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcHJvcF90eXBlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfXyk7XG5cblxudmFyIHN1YnNjcmlwdGlvblNoYXBlID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoe1xuICB0cnlTdWJzY3JpYmU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgdHJ5VW5zdWJzY3JpYmU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgbm90aWZ5TmVzdGVkU3ViczogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuZnVuYy5pc1JlcXVpcmVkLFxuICBpc1N1YnNjcmliZWQ6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZFxufSk7XG5cbnZhciBzdG9yZVNoYXBlID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3Byb3BfdHlwZXNfX19kZWZhdWx0LmEuc2hhcGUoe1xuICBzdWJzY3JpYmU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzcGF0Y2g6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0U3RhdGU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9wcm9wX3R5cGVzX19fZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZFxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvU3Vic2NyaXB0aW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBTdWJzY3JpcHRpb247IH0pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gZW5jYXBzdWxhdGVzIHRoZSBzdWJzY3JpcHRpb24gbG9naWMgZm9yIGNvbm5lY3RpbmcgYSBjb21wb25lbnQgdG8gdGhlIHJlZHV4IHN0b3JlLCBhc1xuLy8gd2VsbCBhcyBuZXN0aW5nIHN1YnNjcmlwdGlvbnMgb2YgZGVzY2VuZGFudCBjb21wb25lbnRzLCBzbyB0aGF0IHdlIGNhbiBlbnN1cmUgdGhlXG4vLyBhbmNlc3RvciBjb21wb25lbnRzIHJlLXJlbmRlciBiZWZvcmUgZGVzY2VuZGFudHNcblxudmFyIENMRUFSRUQgPSBudWxsO1xudmFyIG51bGxMaXN0ZW5lcnMgPSB7XG4gIG5vdGlmeTogZnVuY3Rpb24gbm90aWZ5KCkge31cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpIHtcbiAgLy8gdGhlIGN1cnJlbnQvbmV4dCBwYXR0ZXJuIGlzIGNvcGllZCBmcm9tIHJlZHV4J3MgY3JlYXRlU3RvcmUgY29kZS5cbiAgLy8gVE9ETzogcmVmYWN0b3IrZXhwb3NlIHRoYXQgY29kZSB0byBiZSByZXVzYWJsZSBoZXJlP1xuICB2YXIgY3VycmVudCA9IFtdO1xuICB2YXIgbmV4dCA9IFtdO1xuXG4gIHJldHVybiB7XG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgbmV4dCA9IENMRUFSRUQ7XG4gICAgICBjdXJyZW50ID0gQ0xFQVJFRDtcbiAgICB9LFxuICAgIG5vdGlmeTogZnVuY3Rpb24gbm90aWZ5KCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnQgPSBuZXh0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGlzdGVuZXJzW2ldKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0sXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgaWYgKG5leHQgPT09IGN1cnJlbnQpIG5leHQgPSBjdXJyZW50LnNsaWNlKCk7XG4gICAgICBuZXh0LnB1c2gobGlzdGVuZXIpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkIHx8IGN1cnJlbnQgPT09IENMRUFSRUQpIHJldHVybjtcbiAgICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG5leHQgPT09IGN1cnJlbnQpIG5leHQgPSBjdXJyZW50LnNsaWNlKCk7XG4gICAgICAgIG5leHQuc3BsaWNlKG5leHQuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihzdG9yZSwgcGFyZW50U3ViLCBvblN0YXRlQ2hhbmdlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnNjcmlwdGlvbik7XG5cbiAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgdGhpcy5wYXJlbnRTdWIgPSBwYXJlbnRTdWI7XG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlID0gb25TdGF0ZUNoYW5nZTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnM7XG4gIH1cblxuICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZE5lc3RlZFN1YiA9IGZ1bmN0aW9uIGFkZE5lc3RlZFN1YihsaXN0ZW5lcikge1xuICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gIH07XG5cbiAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5ub3RpZnlOZXN0ZWRTdWJzID0gZnVuY3Rpb24gbm90aWZ5TmVzdGVkU3VicygpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5ub3RpZnkoKTtcbiAgfTtcblxuICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLnVuc3Vic2NyaWJlKTtcbiAgfTtcblxuICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnRyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVN1YnNjcmliZSgpIHtcbiAgICBpZiAoIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnBhcmVudFN1YiA/IHRoaXMucGFyZW50U3ViLmFkZE5lc3RlZFN1Yih0aGlzLm9uU3RhdGVDaGFuZ2UpIDogdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5vblN0YXRlQ2hhbmdlKTtcblxuICAgICAgdGhpcy5saXN0ZW5lcnMgPSBjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgICB0aGlzLmxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnM7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTdWJzY3JpcHRpb247XG59KCk7XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9zaGFsbG93RXF1YWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gc2hhbGxvd0VxdWFsO1xudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4geCAhPT0gMCB8fCB5ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkgcmV0dXJuIHRydWU7XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCAhaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy92ZXJpZnlQbGFpbk9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy92ZXJpZnlQbGFpbk9iamVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IGRlZmF1bHQgKi9cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfbG9kYXNoX2VzX2lzUGxhaW5PYmplY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGxvZGFzaC1lcy9pc1BsYWluT2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX193YXJuaW5nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3dhcm5pbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy93YXJuaW5nLmpzXCIpO1xuXG5cblxuZnVuY3Rpb24gdmVyaWZ5UGxhaW5PYmplY3QodmFsdWUsIGRpc3BsYXlOYW1lLCBtZXRob2ROYW1lKSB7XG4gIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9sb2Rhc2hfZXNfaXNQbGFpbk9iamVjdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkpIHtcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX193YXJuaW5nX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG1ldGhvZE5hbWUgKyAnKCkgaW4gJyArIGRpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZCAnICsgdmFsdWUgKyAnLicpO1xuICB9XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy93YXJuaW5nLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuIFJlYWN0IHYxNi4wLjBcbiByZWFjdC5wcm9kdWN0aW9uLm1pbi5qc1xuXG4gQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG5cbiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4qL1xudmFyIGY9X193ZWJwYWNrX3JlcXVpcmVfXygvKiEgb2JqZWN0LWFzc2lnbiAqLyBcIi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanNcIikscD1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmYmpzL2xpYi9lbXB0eU9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5T2JqZWN0LmpzXCIpO19fd2VicGFja19yZXF1aXJlX18oLyohIGZianMvbGliL2ludmFyaWFudCAqLyBcIi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qc1wiKTt2YXIgcj1fX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uICovIFwiLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qc1wiKTtcbmZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgtMSxkPVwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0IGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50XFx4M2RcIithLGU9MDtlPGI7ZSsrKWQrPVwiXFx4MjZhcmdzW11cXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbZSsxXSk7Yj1FcnJvcihkK1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7Yi5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwiO2IuZnJhbWVzVG9Qb3A9MTt0aHJvdyBiO31cbnZhciB1PXtpc01vdW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiB2KGEsYixkKXt0aGlzLnByb3BzPWE7dGhpcy5jb250ZXh0PWI7dGhpcy5yZWZzPXA7dGhpcy51cGRhdGVyPWR8fHV9di5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fTt2LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihhLGIpe1wib2JqZWN0XCIhPT10eXBlb2YgYSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGEmJm51bGwhPWE/dChcIjg1XCIpOnZvaWQgMDt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsYSxiLFwic2V0U3RhdGVcIil9O3YucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxhLFwiZm9yY2VVcGRhdGVcIil9O1xuZnVuY3Rpb24gdyhhLGIsZCl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1wO3RoaXMudXBkYXRlcj1kfHx1fWZ1bmN0aW9uIHgoKXt9eC5wcm90b3R5cGU9di5wcm90b3R5cGU7dmFyIHk9dy5wcm90b3R5cGU9bmV3IHg7eS5jb25zdHJ1Y3Rvcj13O2YoeSx2LnByb3RvdHlwZSk7eS5pc1B1cmVSZWFjdENvbXBvbmVudD0hMDtmdW5jdGlvbiB6KGEsYixkKXt0aGlzLnByb3BzPWE7dGhpcy5jb250ZXh0PWI7dGhpcy5yZWZzPXA7dGhpcy51cGRhdGVyPWR8fHV9dmFyIEE9ei5wcm90b3R5cGU9bmV3IHg7QS5jb25zdHJ1Y3Rvcj16O2YoQSx2LnByb3RvdHlwZSk7QS51bnN0YWJsZV9pc0FzeW5jUmVhY3RDb21wb25lbnQ9ITA7QS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn07XG52YXIgQj17Q29tcG9uZW50OnYsUHVyZUNvbXBvbmVudDp3LEFzeW5jQ29tcG9uZW50Onp9LEM9e2N1cnJlbnQ6bnVsbH0sRD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEU9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sW1wiZm9yXCJdJiZTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5lbGVtZW50XCIpfHw2MDEwMyxGPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07ZnVuY3Rpb24gRyhhLGIsZCxlLGMsZyxrKXtyZXR1cm57JCR0eXBlb2Y6RSx0eXBlOmEsa2V5OmIscmVmOmQscHJvcHM6ayxfb3duZXI6Z319XG5HLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGM9e30sZz1udWxsLGs9bnVsbCxtPW51bGwscT1udWxsO2lmKG51bGwhPWIpZm9yKGUgaW4gdm9pZCAwIT09Yi5yZWYmJihrPWIucmVmKSx2b2lkIDAhPT1iLmtleSYmKGc9XCJcIitiLmtleSksbT12b2lkIDA9PT1iLl9fc2VsZj9udWxsOmIuX19zZWxmLHE9dm9pZCAwPT09Yi5fX3NvdXJjZT9udWxsOmIuX19zb3VyY2UsYilELmNhbGwoYixlKSYmIUYuaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPWJbZV0pO3ZhciBsPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09bCljLmNoaWxkcmVuPWQ7ZWxzZSBpZigxPGwpe2Zvcih2YXIgaD1BcnJheShsKSxuPTA7bjxsO24rKyloW25dPWFyZ3VtZW50c1tuKzJdO2MuY2hpbGRyZW49aH1pZihhJiZhLmRlZmF1bHRQcm9wcylmb3IoZSBpbiBsPWEuZGVmYXVsdFByb3BzLGwpdm9pZCAwPT09Y1tlXSYmKGNbZV09bFtlXSk7cmV0dXJuIEcoYSxnLGssbSxxLEMuY3VycmVudCxjKX07XG5HLmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oYSl7dmFyIGI9Ry5jcmVhdGVFbGVtZW50LmJpbmQobnVsbCxhKTtiLnR5cGU9YTtyZXR1cm4gYn07Ry5jbG9uZUFuZFJlcGxhY2VLZXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRyhhLnR5cGUsYixhLnJlZixhLl9zZWxmLGEuX3NvdXJjZSxhLl9vd25lcixhLnByb3BzKX07XG5HLmNsb25lRWxlbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGU9Zih7fSxhLnByb3BzKSxjPWEua2V5LGc9YS5yZWYsaz1hLl9zZWxmLG09YS5fc291cmNlLHE9YS5fb3duZXI7aWYobnVsbCE9Yil7dm9pZCAwIT09Yi5yZWYmJihnPWIucmVmLHE9Qy5jdXJyZW50KTt2b2lkIDAhPT1iLmtleSYmKGM9XCJcIitiLmtleSk7aWYoYS50eXBlJiZhLnR5cGUuZGVmYXVsdFByb3BzKXZhciBsPWEudHlwZS5kZWZhdWx0UHJvcHM7Zm9yKGggaW4gYilELmNhbGwoYixoKSYmIUYuaGFzT3duUHJvcGVydHkoaCkmJihlW2hdPXZvaWQgMD09PWJbaF0mJnZvaWQgMCE9PWw/bFtoXTpiW2hdKX12YXIgaD1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWgpZS5jaGlsZHJlbj1kO2Vsc2UgaWYoMTxoKXtsPUFycmF5KGgpO2Zvcih2YXIgbj0wO248aDtuKyspbFtuXT1hcmd1bWVudHNbbisyXTtlLmNoaWxkcmVuPWx9cmV0dXJuIEcoYS50eXBlLGMsZyxrLG0scSxlKX07XG5HLmlzVmFsaWRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1FfTt2YXIgSD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IsST1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0mJlN5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIil8fDYwMTAzO2Z1bmN0aW9uIGVzY2FwZShhKXt2YXIgYj17XCJcXHgzZFwiOlwiXFx4M2QwXCIsXCI6XCI6XCJcXHgzZDJcIn07cmV0dXJuXCIkXCIrKFwiXCIrYSkucmVwbGFjZSgvWz06XS9nLGZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfSl9dmFyIEo9L1xcLysvZyxLPVtdO1xuZnVuY3Rpb24gTChhLGIsZCxlKXtpZihLLmxlbmd0aCl7dmFyIGM9Sy5wb3AoKTtjLnJlc3VsdD1hO2Mua2V5UHJlZml4PWI7Yy5mdW5jPWQ7Yy5jb250ZXh0PWU7Yy5jb3VudD0wO3JldHVybiBjfXJldHVybntyZXN1bHQ6YSxrZXlQcmVmaXg6YixmdW5jOmQsY29udGV4dDplLGNvdW50OjB9fWZ1bmN0aW9uIE0oYSl7YS5yZXN1bHQ9bnVsbDthLmtleVByZWZpeD1udWxsO2EuZnVuYz1udWxsO2EuY29udGV4dD1udWxsO2EuY291bnQ9MDsxMD5LLmxlbmd0aCYmSy5wdXNoKGEpfVxuZnVuY3Rpb24gTihhLGIsZCxlKXt2YXIgYz10eXBlb2YgYTtpZihcInVuZGVmaW5lZFwiPT09Y3x8XCJib29sZWFuXCI9PT1jKWE9bnVsbDtpZihudWxsPT09YXx8XCJzdHJpbmdcIj09PWN8fFwibnVtYmVyXCI9PT1jfHxcIm9iamVjdFwiPT09YyYmYS4kJHR5cGVvZj09PUkpcmV0dXJuIGQoZSxhLFwiXCI9PT1iP1wiLlwiK08oYSwwKTpiKSwxO3ZhciBnPTA7Yj1cIlwiPT09Yj9cIi5cIjpiK1wiOlwiO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKHZhciBrPTA7azxhLmxlbmd0aDtrKyspe2M9YVtrXTt2YXIgbT1iK08oYyxrKTtnKz1OKGMsbSxkLGUpfWVsc2UgaWYobT1IJiZhW0hdfHxhW1wiQEBpdGVyYXRvclwiXSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgbSlmb3IoYT1tLmNhbGwoYSksaz0wOyEoYz1hLm5leHQoKSkuZG9uZTspYz1jLnZhbHVlLG09YitPKGMsaysrKSxnKz1OKGMsbSxkLGUpO2Vsc2VcIm9iamVjdFwiPT09YyYmKGQ9XCJcIithLHQoXCIzMVwiLFwiW29iamVjdCBPYmplY3RdXCI9PT1kP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrXG5PYmplY3Qua2V5cyhhKS5qb2luKFwiLCBcIikrXCJ9XCI6ZCxcIlwiKSk7cmV0dXJuIGd9ZnVuY3Rpb24gTyhhLGIpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJm51bGwhPWEua2V5P2VzY2FwZShhLmtleSk6Yi50b1N0cmluZygzNil9ZnVuY3Rpb24gUChhLGIpe2EuZnVuYy5jYWxsKGEuY29udGV4dCxiLGEuY291bnQrKyl9ZnVuY3Rpb24gUShhLGIsZCl7dmFyIGU9YS5yZXN1bHQsYz1hLmtleVByZWZpeDthPWEuZnVuYy5jYWxsKGEuY29udGV4dCxiLGEuY291bnQrKyk7QXJyYXkuaXNBcnJheShhKT9SKGEsZSxkLHIudGhhdFJldHVybnNBcmd1bWVudCk6bnVsbCE9YSYmKEcuaXNWYWxpZEVsZW1lbnQoYSkmJihhPUcuY2xvbmVBbmRSZXBsYWNlS2V5KGEsYysoIWEua2V5fHxiJiZiLmtleT09PWEua2V5P1wiXCI6KFwiXCIrYS5rZXkpLnJlcGxhY2UoSixcIiRcXHgyNi9cIikrXCIvXCIpK2QpKSxlLnB1c2goYSkpfVxuZnVuY3Rpb24gUihhLGIsZCxlLGMpe3ZhciBnPVwiXCI7bnVsbCE9ZCYmKGc9KFwiXCIrZCkucmVwbGFjZShKLFwiJFxceDI2L1wiKStcIi9cIik7Yj1MKGIsZyxlLGMpO251bGw9PWF8fE4oYSxcIlwiLFEsYik7TShiKX12YXIgUz17Zm9yRWFjaDpmdW5jdGlvbihhLGIsZCl7aWYobnVsbD09YSlyZXR1cm4gYTtiPUwobnVsbCxudWxsLGIsZCk7bnVsbD09YXx8TihhLFwiXCIsUCxiKTtNKGIpfSxtYXA6ZnVuY3Rpb24oYSxiLGQpe2lmKG51bGw9PWEpcmV0dXJuIGE7dmFyIGU9W107UihhLGUsbnVsbCxiLGQpO3JldHVybiBlfSxjb3VudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8wOk4oYSxcIlwiLHIudGhhdFJldHVybnNOdWxsLG51bGwpfSx0b0FycmF5OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO1IoYSxiLG51bGwsci50aGF0UmV0dXJuc0FyZ3VtZW50KTtyZXR1cm4gYn19O1xubW9kdWxlLmV4cG9ydHM9e0NoaWxkcmVuOnttYXA6Uy5tYXAsZm9yRWFjaDpTLmZvckVhY2gsY291bnQ6Uy5jb3VudCx0b0FycmF5OlMudG9BcnJheSxvbmx5OmZ1bmN0aW9uKGEpe0cuaXNWYWxpZEVsZW1lbnQoYSk/dm9pZCAwOnQoXCIxNDNcIik7cmV0dXJuIGF9fSxDb21wb25lbnQ6Qi5Db21wb25lbnQsUHVyZUNvbXBvbmVudDpCLlB1cmVDb21wb25lbnQsdW5zdGFibGVfQXN5bmNDb21wb25lbnQ6Qi5Bc3luY0NvbXBvbmVudCxjcmVhdGVFbGVtZW50OkcuY3JlYXRlRWxlbWVudCxjbG9uZUVsZW1lbnQ6Ry5jbG9uZUVsZW1lbnQsaXNWYWxpZEVsZW1lbnQ6Ry5pc1ZhbGlkRWxlbWVudCxjcmVhdGVGYWN0b3J5OkcuY3JlYXRlRmFjdG9yeSx2ZXJzaW9uOlwiMTYuMC4wXCIsX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6e1JlYWN0Q3VycmVudE93bmVyOkMsYXNzaWduOmZ9fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuaWYgKHRydWUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qc1wiKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9hcHBseU1pZGRsZXdhcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYXBwbHlNaWRkbGV3YXJlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9zZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21wb3NlICovIFwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY29tcG9zZS5qc1wiKTtcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKTtcbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbiAgICAgIHZhciBjaGFpbiA9IFtdO1xuXG4gICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcG9zZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9iaW5kQWN0aW9uQ3JlYXRvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbWJpbmVSZWR1Y2Vycy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY29tYmluZVJlZHVjZXJzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjb21iaW5lUmVkdWNlcnM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVTdG9yZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jcmVhdGVTdG9yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NyZWF0ZVN0b3JlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9sb2Rhc2hfZXNfaXNQbGFpbk9iamVjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNQbGFpbk9iamVjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX3dhcm5pbmdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMvd2FybmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanNcIik7XG5cblxuXG5cbmZ1bmN0aW9uIGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKSB7XG4gIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cbiAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiAnICsgJ0lmIHlvdSB3YW50IHRoaXMgcmVkdWNlciB0byBob2xkIG5vIHZhbHVlLCB5b3UgY2FuIHJldHVybiBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLic7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVTdG9yZV9fW1wiYVwiIC8qIEFjdGlvblR5cGVzICovXS5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2xvZGFzaF9lc19pc1BsYWluT2JqZWN0X19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcblxuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuICdVbmV4cGVjdGVkICcgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArICcgJyArICgnXCInICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyAnXCIgZm91bmQgaW4gJyArIGFyZ3VtZW50TmFtZSArICcuICcpICsgJ0V4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogJyArICgnXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNoYXBlKHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlU3RvcmVfX1tcImFcIiAvKiBBY3Rpb25UeXBlcyAqL10uSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uXFwndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsICcgKyAneW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVTdG9yZV9fW1wiYVwiIC8qIEFjdGlvblR5cGVzICovXS5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cbiAgICBpZiAoZmFsc2UpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZygnTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0gdm9pZCAwO1xuICBpZiAoZmFsc2UpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFwZUFzc2VydGlvbkVycm9yID0gdm9pZCAwO1xuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTaGFwZShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICAgIGlmIChzaGFwZUFzc2VydGlvbkVycm9yKSB7XG4gICAgICB0aHJvdyBzaGFwZUFzc2VydGlvbkVycm9yO1xuICAgIH1cblxuICAgIGlmIChmYWxzZSkge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgIHdhcm5pbmcod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9rZXkgPSBmaW5hbFJlZHVjZXJLZXlzW19pXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1tfa2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVbX2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShfa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5leHRTdGF0ZVtfa2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY29tcG9zZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKiEgZXhwb3J0cyB1c2VkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jcmVhdGVTdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jcmVhdGVTdG9yZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBBY3Rpb25UeXBlcywgZGVmYXVsdCAqL1xuLyohIGV4cG9ydHMgdXNlZDogQWN0aW9uVHlwZXMsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEFjdGlvblR5cGVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJiXCJdID0gY3JlYXRlU3RvcmU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2xvZGFzaF9lc19pc1BsYWluT2JqZWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBsb2Rhc2gtZXMvaXNQbGFpbk9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc1BsYWluT2JqZWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zeW1ib2xfb2JzZXJ2YWJsZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgc3ltYm9sLW9ic2VydmFibGUgKi8gXCIuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfc3ltYm9sX29ic2VydmFibGVfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zeW1ib2xfb2JzZXJ2YWJsZV9fKTtcblxuXG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICAgKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAgICpcbiAgICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICAgKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gICAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICAgKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cbiAgICpcbiAgICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gICAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gICAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gICAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAgICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gICAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAgICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICAgKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICAgKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gICAqL1xufTtmdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgdHJlZSBtYW5hZ2VkIGJ5IHRoZSBzdG9yZS5cbiAgICpcbiAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblxuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9sb2Rhc2hfZXNfaXNQbGFpbk9iamVjdF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG4gICAgICB9XG4gICAgfSwgX3JlZltfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfc3ltYm9sX29ic2VydmFibGVfX19kZWZhdWx0LmFdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfVxuXG4gIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgcmV0dXJuIF9yZWYyID0ge1xuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gIH0sIF9yZWYyW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9zeW1ib2xfb2JzZXJ2YWJsZV9fX2RlZmF1bHQuYV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY3JlYXRlU3RvcmUsIGNvbWJpbmVSZWR1Y2VycywgYmluZEFjdGlvbkNyZWF0b3JzLCBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlU3RvcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY3JlYXRlU3RvcmUgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jcmVhdGVTdG9yZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbWJpbmVSZWR1Y2Vyc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb21iaW5lUmVkdWNlcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jb21iaW5lUmVkdWNlcnMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19iaW5kQWN0aW9uQ3JlYXRvcnNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmluZEFjdGlvbkNyZWF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvYmluZEFjdGlvbkNyZWF0b3JzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYXBwbHlNaWRkbGV3YXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FwcGx5TWlkZGxld2FyZSAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2NvbXBvc2VfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9zZSAqLyBcIi4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X191dGlsc193YXJuaW5nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzL3dhcm5pbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy91dGlscy93YXJuaW5nLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY3JlYXRlU3RvcmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZVN0b3JlX19bXCJiXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbWJpbmVSZWR1Y2Vyc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29tYmluZVJlZHVjZXJzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJpbmRBY3Rpb25DcmVhdG9yc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYmluZEFjdGlvbkNyZWF0b3JzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFwcGx5TWlkZGxld2FyZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYXBwbHlNaWRkbGV3YXJlX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbXBvc2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2NvbXBvc2VfX1tcImFcIl07IH0pO1xuXG5cblxuXG5cblxuXG4vKlxuKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4qIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiovXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAoZmFsc2UpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy91dGlscy93YXJuaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvdXRpbHMvd2FybmluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgZGVmYXVsdCAqL1xuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbihzZWxlY3Rvcikge1xuXHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdG1lbW9bc2VsZWN0b3JdID0gZm4uY2FsbCh0aGlzLCBzZWxlY3Rvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1lbW9bc2VsZWN0b3JdXG5cdH07XG59KShmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldClcbn0pO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91cmxzICovIFwiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGV4cG9ydHMgdXNlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGliL2luZGV4ICovIFwiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvbGliL2luZGV4LmpzXCIpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvbGliL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsLCBtb2R1bGUpIHtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wb255ZmlsbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcG9ueWZpbGwgKi8gXCIuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvcG9ueWZpbGwuanNcIik7XG5cbnZhciBfcG9ueWZpbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9ueWZpbGwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciByb290OyAvKiBnbG9iYWwgd2luZG93ICovXG5cblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHJ1ZSkge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSAoMCwgX3BvbnlmaWxsMlsnZGVmYXVsdCddKShyb290KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJlc3VsdDtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLy4uLy4uL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMgKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vbW9kdWxlLmpzXCIpKG1vZHVsZSkpKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvcG9ueWZpbGwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9wb255ZmlsbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGw7XG5mdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgX1N5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgX1N5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChfU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IF9TeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gX1N5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0X1N5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL21vZHVsZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufTtcclxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAwOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiBtdWx0aSByZWFjdC1ob3QtbG9hZGVyL3BhdGNoIC4vY2Ftcy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIGFsbCBleHBvcnRzIHVzZWQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtaG90LWxvYWRlci9wYXRjaCAqL1wiLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9wYXRjaC5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jYW1zL2luZGV4LmpzICovXCIuL2NhbXMvaW5kZXguanNcIik7XG5cblxuLyoqKi8gfSlcblxuLyoqKioqKi8gfSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdH0gO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQgfHwgMTAwMDA7XHJcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gXHRcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XHJcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4gXHRcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxyXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlKSB7XHJcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fTtcclxuIFx0XHR9KTtcclxuIFx0fVxyXG5cbiBcdFxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjA1NzZjOTA3YzE5MjQwNzNjMzU4XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XHJcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xyXG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbiBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbiBcdFx0fTtcclxuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xyXG4gXHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xyXG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbiBcdFx0XHRcdHRocm93IGVycjtcclxuIFx0XHRcdH0pO1xyXG4gXHRcclxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbiBcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gZm47XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhvdCA9IHtcclxuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcclxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4gXHRcdH07XHJcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xyXG4gXHRcdHJldHVybiBob3Q7XHJcbiBcdH1cclxuIFx0XHJcbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3REZWZlcnJlZDtcclxuIFx0XHJcbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xyXG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXHJcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcclxuIFx0XHRcdFx0fTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbiBcdFx0XHR7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcclxuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XHJcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xyXG4gXHRcdGlmKCFkZWZlcnJlZCkgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXHJcbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cclxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcclxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcclxuIFx0XHRcdH0pLnRoZW4oXHJcbiBcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcclxuIFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdCk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiBcdFxyXG4gXHRcdHZhciBjYjtcclxuIFx0XHR2YXIgaTtcclxuIFx0XHR2YXIgajtcclxuIFx0XHR2YXIgbW9kdWxlO1xyXG4gXHRcdHZhciBtb2R1bGVJZDtcclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcclxuIFx0XHRcdFx0XHRpZDogaWRcclxuIFx0XHRcdFx0fTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcclxuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fbWFpbikge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKCFwYXJlbnQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXHJcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxyXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFxyXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XHJcbiBcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCIpO1xyXG4gXHRcdH07XHJcbiBcdFxyXG4gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdDtcclxuIFx0XHRcdFx0aWYoaG90VXBkYXRlW2lkXSkge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcclxuIFx0XHRcdFx0aWYocmVzdWx0LmNoYWluKSB7XHJcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdHN3aXRjaChyZXN1bHQudHlwZSkge1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIGNoYWluSW5mbyk7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiIGluIFwiICsgcmVzdWx0LnBhcmVudElkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGlzcG9zZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGRlZmF1bHQ6XHJcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGFib3J0RXJyb3IpIHtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoZG9BcHBseSkge1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdFx0XHRcdGZvcihtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0Rpc3Bvc2UpIHtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuIFx0XHRcdFx0fSk7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuIFx0XHRcdGlmKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xyXG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdHZhciBpZHg7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbiBcdFxyXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbiBcdFx0XHRmb3IoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbiBcdFx0XHRcdGNiKGRhdGEpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuIFx0XHJcbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHJcbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXHJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbiBcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIGRlcGVuZGVuY3k7XHJcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKG1vZHVsZSkge1xyXG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbiBcdFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbiBcdFx0XHRcdFx0XHRpZihjYikge1xyXG4gXHRcdFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcclxuIFx0XHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcclxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcclxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0b3JnaW5hbEVycm9yOiBlcnIsIC8vIFRPRE8gcmVtb3ZlIGluIHdlYnBhY2sgNFxyXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyMjtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuIFx0XHRpZihlcnJvcikge1xyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XHJcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDA1NzZjOTA3YzE5MjQwNzNjMzU4IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgUGxheWVyc0NvbnRhaW5lciBmcm9tICcuL2NvbnRhaW5lcnMvUGxheWVyc0NvbnRhaW5lcidcblxuXG4vLyBJZiB5b3UgdXNlIFJlYWN0IFJvdXRlciwgbWFrZSB0aGlzIGNvbXBvbmVudFxuLy8gcmVuZGVyIDxSb3V0ZXI+IHdpdGggeW91ciByb3V0ZXMuIEN1cnJlbnRseSxcbi8vIG9ubHkgc3luY2hyb25vdXMgcm91dGVzIGFyZSBob3QgcmVsb2FkZWQsIGFuZFxuLy8geW91IHdpbGwgc2VlIGEgd2FybmluZyBmcm9tIDxSb3V0ZXI+IG9uIGV2ZXJ5IHJlbG9hZC5cbi8vIFlvdSBjYW4gaWdub3JlIHRoaXMgd2FybmluZy4gRm9yIGRldGFpbHMsIHNlZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvMjE4MlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TGF5b3V0PlxuXG4gICAgICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJwYWdlX19oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxPlBvcnR1Z2FsIEJlYWNoIENhbXM8L2gxPlxuICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICAgICAgPFBsYXllcnNDb250YWluZXIvPlxuXG4gICAgICAgICAgICA8L0xheW91dD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jYW1zL0FwcC5qcyIsImV4cG9ydCBjb25zdCBzZXRWaXNpYmlsaXR5RmlsdGVyID0gZmlsdGVyID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnU0VUX1ZJU0lCSUxJVFlfRklMVEVSJyxcbiAgICAgICAgZmlsdGVyXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNldE5ld0NhbWVyYSA9IChjYW1lcmEpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnU0VUX05FV19DQU1FUkEnLFxuICAgICAgICBjYW1lcmFcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgYWRkTmV3Q2FtZXJhID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdBRERfTkVXX0NBTUVSQScsXG4gICAgICAgIHVybDogJ2FycmlmYW5hJyxcbiAgICAgICAgbmFtZTogJ0FycmlmYW5hJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVDYW1lcmEgPSAoY2FtZXJhKSA9PiB7XG4gICByZXR1cm4ge1xuICAgICAgIHR5cGU6ICdERUxFVEVfQ0FNRVJBJyxcbiAgICAgICBjYW1lcmFcbiAgIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jYW1zL2FjdGlvbnMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHtcImJlYWNoZXNcIjpbe1wibmFtZVwiOlwiTHV6XCIsXCJ1cmxcIjpcImx1elwifSx7XCJuYW1lXCI6XCJMYWdvc1wiLFwidXJsXCI6XCJtZWlhcHJhaWFcIn0se1wibmFtZVwiOlwiQXJyaWZhbmFcIixcInVybFwiOlwiYXJyaWZhbmFcIn0se1wibmFtZVwiOlwiQW1vcmVpcmFcIixcInVybFwiOlwiYmNhbW9yZWlyYVwifSx7XCJuYW1lXCI6XCJaYW1idWplaXJhIGRvIE1hclwiLFwidXJsXCI6XCJ6YW1idWplaXJhXCJ9LHtcIm5hbWVcIjpcIlPDo28gVG9ycGVzXCIsXCJ1cmxcIjpcInNhb3RvcnBlc1wifV19XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jYW1zL2JlYWNoZXMuanNvblxuLy8gbW9kdWxlIGlkID0gLi9jYW1zL2JlYWNoZXMuanNvblxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYXlvdXQoe2NoaWxkcmVufSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2Ftcy9jb21wb25lbnRzL0xheW91dC5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGxzIGZyb20gJ2hscy5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IE9wdGlvbiBmcm9tICdtdWljc3MvbGliL3JlYWN0L29wdGlvbic7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ211aWNzcy9saWIvcmVhY3Qvc2VsZWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbXVpY3NzL2xpYi9yZWFjdC9idXR0b24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBsYXk6IHRydWUsXG4gICAgICAgICAgICBobHM6IGZhbHNlLFxuICAgICAgICAgICAgcmVyZW5kZXI6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldHVwUGxheWVyKCkge1xuICAgICAgICBpZiAoSGxzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIGxldCBiZWFjaEhscyA9IG5ldyBIbHMoKTtcbiAgICAgICAgICAgIGJlYWNoSGxzLmxvYWRTb3VyY2UoYGh0dHBzOi8vdmlkZW8tYXV0aDEuaW9sLnB0L2JlYWNoY2FtLyR7dGhpcy5wcm9wcy51cmx9L3BsYXlsaXN0Lm0zdThgKTtcbiAgICAgICAgICAgIGJlYWNoSGxzLmF0dGFjaE1lZGlhKHRoaXMucmVmcy52aWRlbyk7XG4gICAgICAgICAgICBiZWFjaEhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgKCkgPT4gdGhpcy5yZWZzLnZpZGVvLnBsYXkoKSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtobHM6IGJlYWNoSGxzfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy52aWRlby5zcmMgPSBgaHR0cHM6Ly92aWRlby1hdXRoMS5pb2wucHQvYmVhY2hjYW0vJHt0aGlzLnByb3BzLnVybH0vcGxheWxpc3QubTN1OGA7XG4gICAgICAgICAgICB0aGlzLnJlZnMudmlkZW8ucGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVyZW5kZXI6ZmFsc2V9KTtcbiAgICB9XG5cblxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3BsYXk6IGZhbHNlfSk7XG4gICAgICAgIHRoaXMuc3RhdGUuaGxzLnN0b3BMb2FkKClcbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtwbGF5OiB0cnVlfSk7XG4gICAgICAgIHRoaXMuc3RhdGUuaGxzLnN0YXJ0TG9hZCgwKVxuICAgICAgICB0aGlzLnN0YXRlLmhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgKCkgPT4gdGhpcy5yZWZzLnZpZGVvLnBsYXkoKSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBQbGF5ZXIoKVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMucmVmcy52aWRlby5wYXVzZSgpXG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgIHRoaXMuc2V0dXBQbGF5ZXIoKVxuICAgIH1cblxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV4dFByb3BzLnVybCAhPT0gdGhpcy5wcm9wcy51cmw7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGNvbnN0IGZvb3RlciA9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZFwiPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZlbnQgPT4gdGhpcy5wcm9wcy5vbkNsaWNrKHtpbmRleDogdGhpcy5wcm9wcy5pbmRleCwgdXJsOiBldmVudC50YXJnZXQudmFsdWV9KX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmJlYWNoTmFtZXMubWFwKChiZWFjaCwga2V5KSA9PiA8T3B0aW9uIGtleT17a2V5fSB2YWx1ZT17YmVhY2gudXJsfSBsYWJlbD17YmVhY2gubmFtZX0vPil9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG5cbiAgICAgICAgICAgIDwvZGl2PjtcblxuICAgICAgICBjb25zdCBwbGF5UGF1c2UgPSB0aGlzLnN0YXRlLnBsYXkgP1xuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJwbGF5ZXJfX3RvZ2dsZS1wbGF5XCIgdmFyaWFudD1cImZhYlwiIGNvbG9yPVwicGltYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5wYXVzZSgpfT48aSBjbGFzc05hbWU9XCJmYSBmYS1wYXVzZVwiPjwvaT48L0J1dHRvbj5cbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwicGxheWVyX190b2dnbGUtcGxheVwiIHZhcmlhbnQ9XCJmYWJcIiBjb2xvcj1cInBpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHRoaXMucGxheSgpfT48aSBjbGFzc05hbWU9XCJmYSBmYS1wbGF5XCI+PC9pPjwvQnV0dG9uPlxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJwbGF5ZXJcIj5cblxuICAgICAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cInBsYXllcl9fY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cInBsYXllcl9fZGVsZXRlXCIgdmFyaWFudD1cImZhYlwiIGNvbG9yPVwiZGFuZ2VyXCIgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5kZWxldGVDYW1lcmEoe2luZGV4OiB0aGlzLnByb3BzLmluZGV4fSl9PiZ0aW1lczs8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPHZpZGVvIHJlZj1cInZpZGVvXCIgYXV0b1BsYXkgY29udHJvbHM+PC92aWRlbz5cbiAgICAgICAgICAgICAgICA8L21haW4+XG5cbiAgICAgICAgICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cInBsYXllcl9fZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIHtmb290ZXJ9XG4gICAgICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5QbGF5ZXIucHJvcFR5cGVzID0ge1xuICAgIHVybDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2Ftcy9jb21wb25lbnRzL1BsYXllci5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vUGxheWVyJztcbmltcG9ydCBCdXR0b24gZnJvbSAnbXVpY3NzL2xpYi9yZWFjdC9idXR0b24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJzQ29udGFpbmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGF5ZXJzX193cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicGxheWVyc1wiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYW1lcmFzLm1hcCgoY2FtZXJhLCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtjYW1lcmEubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw9e2NhbWVyYS51cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVhY2hOYW1lcz17dGhpcy5wcm9wcy5iZWFjaE5hbWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNhbWVyYT17dGhpcy5wcm9wcy5kZWxldGVDYW1lcmF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfS8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJwcmltYXJ5XCIgb25DbGljaz17dGhpcy5wcm9wcy5hZGROZXdDYW1lcmF9PkFkZCBDYW1lcmE8L0J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ3Z190YXJnZXRfZGl2XzUxMjY3MF83MjE4OTQ3MFwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jYW1zL2NvbXBvbmVudHMvUGxheWVycy5qcyIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCBQbGF5ZXJzIGZyb20gJy4uL2NvbXBvbmVudHMvUGxheWVycydcbmltcG9ydCB7IHNldE5ld0NhbWVyYSB9IGZyb20gJy4uL2FjdGlvbnMnXG5pbXBvcnQgeyBhZGROZXdDYW1lcmEgfSBmcm9tICcuLi9hY3Rpb25zJ1xuaW1wb3J0IHsgZGVsZXRlQ2FtZXJhIH0gZnJvbSAnLi4vYWN0aW9ucydcbmltcG9ydCB7YmVhY2hlc30gZnJvbSAnLi4vYmVhY2hlcy5qc29uJ1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FtZXJhczogc3RhdGUuY2FtZXJhcyxcbiAgICAgICAgYmVhY2hOYW1lczogT2JqZWN0LmtleXMoYmVhY2hlcylcbiAgICAgICAgICAgIC5yZWR1Y2UoKG1lbW8sIGJlYWNoS2V5KSA9PiBtZW1vLmNvbmNhdChiZWFjaGVzW2JlYWNoS2V5XSksIFtdKVxuICAgICAgICAgICAgLnNvcnQoKGEsYikgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGEubmFtZSA+IGIubmFtZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KVxuICAgIH1cbn07XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIG9uQ2xpY2s6IChjYW1lcmEpID0+IGRpc3BhdGNoKHNldE5ld0NhbWVyYShjYW1lcmEpKSxcbiAgICAgICAgYWRkTmV3Q2FtZXJhOiAoKSA9PiBkaXNwYXRjaChhZGROZXdDYW1lcmEoKSksXG4gICAgICAgIGRlbGV0ZUNhbWVyYTogKGNhbWVyYSkgPT4gZGlzcGF0Y2goZGVsZXRlQ2FtZXJhKGNhbWVyYSkpXG4gICAgfVxufTtcblxuXG5jb25zdCBQbGF5ZXJzQ29udGFpbmVyID0gY29ubmVjdChcbiAgICBtYXBTdGF0ZVRvUHJvcHMsXG4gICAgbWFwRGlzcGF0Y2hUb1Byb3BzXG4pKFBsYXllcnMpO1xuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXJzQ29udGFpbmVyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jYW1zL2NvbnRhaW5lcnMvUGxheWVyc0NvbnRhaW5lci5qcyIsImltcG9ydCAqIGFzIHN0eWxlcyBmcm9tICcuL3N0eWxlcy5zY3NzJztcbmltcG9ydCB7IEFwcENvbnRhaW5lciB9IGZyb20gJ3JlYWN0LWhvdC1sb2FkZXInO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCdcbmltcG9ydCB3ZWJjYW1zIGZyb20gJy4vcmVkdWNlcnMnXG5cbmNvbnN0IHJvb3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHdlYmNhbXMpO1xuXG5jb25zdCByZW5kZXIgPSBDb21wb25lbnQgPT5cbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgICAgPEFwcENvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8Q29tcG9uZW50IC8+XG4gICAgICAgICAgICA8L0FwcENvbnRhaW5lcj5cbiAgICAgICAgPC9Qcm92aWRlcj4sXG4gICAgcm9vdEVsXG4pO1xuXG4vLyByZWdpc3RlciBzZXJ2aWNlIHdvcmtlclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignL3N3LmpzJyk7XG59XG5cbnJlbmRlcihBcHApO1xuaWYgKG1vZHVsZS5ob3QpIG1vZHVsZS5ob3QuYWNjZXB0KCcuL0FwcCcsICgpID0+IHJlbmRlcihBcHApKTtcbmlmIChsb2NhdGlvbi5wcm90b2NvbCAhPSAnaHR0cHM6JykgeyBsb2NhdGlvbi5ocmVmID0gJ2h0dHBzOicgKyB3aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHJpbmcod2luZG93LmxvY2F0aW9uLnByb3RvY29sLmxlbmd0aCk7IH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NhbXMvaW5kZXguanMiLCJpbXBvcnQge2JlYWNoZXN9IGZyb20gJy4uL2JlYWNoZXMuanNvbidcblxuY29uc3QgY2FtZXJhcyA9IChzdGF0ZSA9IGJlYWNoZXMuc2xpY2UoMiw0KSwgYWN0aW9uKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdTRVRfTkVXX0NBTUVSQSc6XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IFsuLi5zdGF0ZV07XG4gICAgICAgICAgICBuZXdTdGF0ZVthY3Rpb24uY2FtZXJhLmluZGV4XSA9IGJlYWNoZXMuZmlsdGVyKGJlYWNoID0+IGJlYWNoLnVybCA9PT0gYWN0aW9uLmNhbWVyYS51cmwpLnJlZHVjZSgobWVtbywgYmVhY2gpID0+IGJlYWNoLCB7fSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIGNhc2UgJ0FERF9ORVdfQ0FNRVJBJzpcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGFjdGlvbi51cmwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgY2FzZSAnREVMRVRFX0NBTUVSQSc6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKChjYW1lcmEsIGluZGV4KSA9PiBpbmRleCAhPT0gYWN0aW9uLmNhbWVyYS5pbmRleCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjYW1lcmFzXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jYW1zL3JlZHVjZXJzL2NhbWVyYXMuanMiLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCdcbmltcG9ydCB2aXNpYmlsaXR5RmlsdGVyIGZyb20gJy4vdmlzaWJpbGl0eUZpbHRlcidcbmltcG9ydCBjYW1lcmFzIGZyb20gJy4vY2FtZXJhcydcblxuY29uc3Qgd2ViY2FtcyA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgdmlzaWJpbGl0eUZpbHRlcixcbiAgICBjYW1lcmFzXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgd2ViY2Ftc1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2Ftcy9yZWR1Y2Vycy9pbmRleC5qcyIsImNvbnN0IHZpc2liaWxpdHlGaWx0ZXIgPSAoc3RhdGUgPSAnU0hPV19BTEwnLCBhY3Rpb24pID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NFVF9WSVNJQklMSVRZX0ZJTFRFUic6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmZpbHRlclxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgdmlzaWJpbGl0eUZpbHRlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2Ftcy9yZWR1Y2Vycy92aXNpYmlsaXR5RmlsdGVyLmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP2ltcG9ydExvYWRlcnM9MSEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlcy5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHt9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9pbXBvcnRMb2FkZXJzPTEhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZXMuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/aW1wb3J0TG9hZGVycz0xIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGVzLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY2Ftcy9zdHlsZXMuc2Nzc1xuLy8gbW9kdWxlIGlkID0gLi9jYW1zL3N0eWxlcy5zY3NzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImNvbnN0IHV0aWxzID0ge307XG5cbnV0aWxzLmlzTW9iaWxlID0gKCkgPT4ge1xuICAgIGxldCBjaGVjayA9IGZhbHNlO1xuICAgIChmdW5jdGlvbiAoYSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBjaGVjaztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbHM7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NhbXMvdXRpbHMvdXRpbHMuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZnJvbSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKDAsIF9mcm9tMi5kZWZhdWx0KShhcnIpO1xuICB9XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5BcnJheS5mcm9tO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmtleXM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjEnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICBpZiAoaW5kZXggaW4gb2JqZWN0KSAkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGtleSBpbiBleHBvcnRzKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBCVUdHWSA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKTsgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxudmFyIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uIChraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKSByZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUztcbiAgdmFyIFZBTFVFU19CVUcgPSBmYWxzZTtcbiAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7XG4gIHZhciAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdO1xuICB2YXIgJGRlZmF1bHQgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKTtcbiAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDtcbiAgdmFyICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlO1xuICB2YXIgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZiAoJGFueU5hdGl2ZSkge1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTtcbiAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmICghTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSkge1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuICBpZiAoREVGQVVMVCkge1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChrZXkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSkgcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uICgpIHsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRocm93LWxpdGVyYWxcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjLCBza2lwQ2xvc2luZykge1xuICBpZiAoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gWzddO1xuICAgIHZhciBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHsgZG9uZTogc2FmZSA9IHRydWUgfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgTyA9IHRvSU9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoaGFzKE8sIFApKSByZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZLCBleGVjKSB7XG4gIHZhciBmbiA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXTtcbiAgdmFyIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uICgpIHsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbiAoTywgcHJvdG8pIHtcbiAgYW5PYmplY3QoTyk7XG4gIGlmICghaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKSB0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbiAodGVzdCwgYnVnZ3ksIHNldCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZiAoYnVnZ3kpIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHN0b3JlID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbDtcbnZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24gKGl0ZXIpIHsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpO1xuICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheTtcbiAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIG1hcGZuID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGl0ZXJGbiA9IGdldEl0ZXJGbihPKTtcbiAgICB2YXIgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmIChpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSkge1xuICAgICAgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQygpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IgKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKSB9KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7IGRlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mIH0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IHNldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXQgfSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIgaW5kZXggPSB0aGlzLl9pO1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIE1FVEEgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZO1xudmFyICRmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciB3a3NEZWZpbmUgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJyk7XG52YXIgZW51bUtleXMgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7IGE6IFMgfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7XG4gICAgaWYgKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSAkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZiAoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCRyZXBsYWNlcikgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ2FzeW5jSXRlcmF0b3InKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvKTtcIiwgXCJcIl0pO1xuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wbGF5ZXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtiYWNrZ3JvdW5kLWNvbG9yOiNhOWE5YTk7Ym94LXNoYWRvdzowIDI3cHggNTVweCAwIHJnYmEoMCwwLDAsLjMpLDAgMTdweCAxN3B4IDAgcmdiYSgwLDAsMCwuMTUpO3Bvc2l0aW9uOnJlbGF0aXZlfS5wbGF5ZXI6aG92ZXIgLnBsYXllcl9fZGVsZXRle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDApO29wYWNpdHk6MX0ucGxheWVyX19jb250ZW50e3BhZGRpbmctYm90dG9tOjU2LjI1JTtoZWlnaHQ6MDtmbGV4OjE7d2lkdGg6MTAwJX0ucGxheWVyX19jb250ZW50IHZpZGVve3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudH0ucGxheWVyX19mb290ZXJ7d2lkdGg6OTYlO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjEwcHg7bWluLWhlaWdodDo1MHB4O21heC1oZWlnaHQ6MH0ucGxheWVyX19mb290ZXIsLnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZHtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZHt3aWR0aDoxMDAlfS5wbGF5ZXJfX2Zvb3Rlcl9fdW5jb2xsYXBzZWQgLm11aS1idG46Zm9jdXMsLnBsYXllcl9fZm9vdGVyX191bmNvbGxhcHNlZCAubXVpLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5wbGF5ZXJfX2Zvb3RlciAubXVpLXNlbGVjdHt3aWR0aDoxMDAlfS5wbGF5ZXJfX3RvZ2dsZS1wbGF5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLXRvcDotMjcuNXB4IWltcG9ydGFudDttYXJnaW4tbGVmdDotMjcuNXB4IWltcG9ydGFudH0ucGxheWVyX19kZWxldGV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjVweH0ucGxheWVyIGgye2NvbG9yOiNmZmY7bWFyZ2luLWxlZnQ6MiV9LnBsYXllcnNfX3dyYXBwZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjVweDt3aWR0aDo5NyV9LnBsYXllcnNfX3dyYXBwZXI+Lm11aS1idG57bWFyZ2luLXRvcDozMHB4fS5wbGF5ZXJze2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDIsMWZyKTtncmlkLWdhcDoxMHB4O2dyaWQtYXV0by1yb3dzOm1pbm1heCgxMDBweCxhdXRvKX1AbWVkaWEgKG1heC13aWR0aDo5NjBweCl7LnBsYXllcnN7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgxLDFmcil9fS5saW5rc3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ubGlua3tiYWNrZ3JvdW5kLWNvbG9yOiMyODVhZmY7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2UtaW4tb3V0O21hcmdpbjowIDVweDtjdXJzb3I6cG9pbnRlcn0ubGluazpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMyNzM1ZmZ9LmxpbmstLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiM3YTdjZmZ9LmxpbmsgYXtjb2xvcjojZmZmO3BhZGRpbmc6MTBweCAyMHB4fS5wYWdle2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjAgNXB4IDVweDt3aWR0aDoxMDB2dztvdmVyZmxvdzphdXRvO21pbi1oZWlnaHQ6MTAwdmh9LnBhZ2UsLnBhZ2VfX2hlYWRlcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6Y2VudGVyfS5wYWdlX19oZWFkZXJ7aGVpZ2h0OjY1cHg7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjUpO2NvbG9yOiNmZmY7cGFkZGluZy1ib3R0b206MTBweH0ucGFnZV9faGVhZGVyIGgxe21hcmdpbi1sZWZ0OjMwcHg7Zm9udC1zaXplOjI0cHh9I3dnX3RhcmdldF9kaXZfNTEyNjcwXzcyMTg5NDcwe2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdmVyZmxvdzphdXRvIWltcG9ydGFudH1ib2R5e2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246Y29sdW1uO21pbi1oZWlnaHQ6MTAwdmg7Zm9udC1mYW1pbHk6Um9ib3RvLHNhbnMtc2VyaWZ9bGl7bGlzdC1zdHlsZTpub25lO2ZvbnQtc2l6ZToyNHB4fWF7ZGlzcGxheTpibG9jazt0ZXh0LWRlY29yYXRpb246bm9uZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyP2ltcG9ydExvYWRlcnM9MSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vY2Ftcy9zdHlsZXMuc2Nzc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz9pbXBvcnRMb2FkZXJzPTEhLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2NhbXMvc3R5bGVzLnNjc3Ncbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9lbXB0eUZ1bmN0aW9uJyk7XG5cbi8qKlxuICogVXBzdHJlYW0gdmVyc2lvbiBvZiBldmVudCBsaXN0ZW5lci4gRG9lcyBub3QgdGFrZSBpbnRvIGFjY291bnQgc3BlY2lmaWNcbiAqIG5hdHVyZSBvZiBwbGF0Zm9ybS5cbiAqL1xudmFyIEV2ZW50TGlzdGVuZXIgPSB7XG4gIC8qKlxuICAgKiBMaXN0ZW4gdG8gRE9NIGV2ZW50cyBkdXJpbmcgdGhlIGJ1YmJsZSBwaGFzZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdGFyZ2V0IERPTSBlbGVtZW50IHRvIHJlZ2lzdGVyIGxpc3RlbmVyIG9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIEV2ZW50IHR5cGUsIGUuZy4gJ2NsaWNrJyBvciAnbW91c2VvdmVyJy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IHdpdGggYSBgcmVtb3ZlYCBtZXRob2QuXG4gICAqL1xuICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRhY2hFdmVudCkge1xuICAgICAgdGFyZ2V0LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIHRhcmdldC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnRUeXBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBMaXN0ZW4gdG8gRE9NIGV2ZW50cyBkdXJpbmcgdGhlIGNhcHR1cmUgcGhhc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRhcmdldCBET00gZWxlbWVudCB0byByZWdpc3RlciBsaXN0ZW5lciBvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSBFdmVudCB0eXBlLCBlLmcuICdjbGljaycgb3IgJ21vdXNlb3ZlcicuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IE9iamVjdCB3aXRoIGEgYHJlbW92ZWAgbWV0aG9kLlxuICAgKi9cbiAgY2FwdHVyZTogZnVuY3Rpb24gY2FwdHVyZSh0YXJnZXQsIGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHRlZCB0byBsaXN0ZW4gdG8gZXZlbnRzIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZSBvbiBhICcgKyAnYnJvd3NlciB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdGhlIGNhcHR1cmUgcGhhc2UuIFlvdXIgYXBwbGljYXRpb24gJyArICd3aWxsIG5vdCByZWNlaXZlIHNvbWUgZXZlbnRzLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBlbXB0eUZ1bmN0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICByZWdpc3RlckRlZmF1bHQ6IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdCgpIHt9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50TGlzdGVuZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXZlbnRMaXN0ZW5lci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXZlbnRMaXN0ZW5lci5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG4vKipcbiAqIFNpbXBsZSwgbGlnaHR3ZWlnaHQgbW9kdWxlIGFzc2lzdGluZyB3aXRoIHRoZSBkZXRlY3Rpb24gYW5kIGNvbnRleHQgb2ZcbiAqIFdvcmtlci4gSGVscHMgYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGFuZCBhbGxvd3MgY29kZSB0byByZWFzb24gYWJvdXRcbiAqIHdoZXRoZXIgb3Igbm90IHRoZXkgYXJlIGluIGEgV29ya2VyLCBldmVuIGlmIHRoZXkgbmV2ZXIgaW5jbHVkZSB0aGUgbWFpblxuICogYFJlYWN0V29ya2VyYCBkZXBlbmRlbmN5LlxuICovXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSB7XG5cbiAgY2FuVXNlRE9NOiBjYW5Vc2VET00sXG5cbiAgY2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cbiAgY2FuVXNlRXZlbnRMaXN0ZW5lcnM6IGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG4gIGNhblVzZVZpZXdwb3J0OiBjYW5Vc2VET00gJiYgISF3aW5kb3cuc2NyZWVuLFxuXG4gIGlzSW5Xb3JrZXI6ICFjYW5Vc2VET00gLy8gRm9yIG5vdywgdGhpcyBpcyB0cnVlIC0gbWlnaHQgY2hhbmdlIGluIHRoZSBmdXR1cmUuXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG52YXIgaXNUZXh0Tm9kZSA9IHJlcXVpcmUoJy4vaXNUZXh0Tm9kZScpO1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBET00gbm9kZSBjb250YWlucyBvciBpcyBhbm90aGVyIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUpIHtcbiAgaWYgKCFvdXRlck5vZGUgfHwgIWlubmVyTm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChvdXRlck5vZGUgPT09IGlubmVyTm9kZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUob3V0ZXJOb2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChpc1RleHROb2RlKGlubmVyTm9kZSkpIHtcbiAgICByZXR1cm4gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlLnBhcmVudE5vZGUpO1xuICB9IGVsc2UgaWYgKCdjb250YWlucycgaW4gb3V0ZXJOb2RlKSB7XG4gICAgcmV0dXJuIG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb250YWluc05vZGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY29udGFpbnNOb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jb250YWluc05vZGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSBpbnB1dC90ZXh0YXJlYSB0byBmb2N1c1xuICovXG5cbmZ1bmN0aW9uIGZvY3VzTm9kZShub2RlKSB7XG4gIC8vIElFOCBjYW4gdGhyb3cgXCJDYW4ndCBtb3ZlIGZvY3VzIHRvIHRoZSBjb250cm9sIGJlY2F1c2UgaXQgaXMgaW52aXNpYmxlLFxuICAvLyBub3QgZW5hYmxlZCwgb3Igb2YgYSB0eXBlIHRoYXQgZG9lcyBub3QgYWNjZXB0IHRoZSBmb2N1cy5cIiBmb3IgYWxsIGtpbmRzIG9mXG4gIC8vIHJlYXNvbnMgdGhhdCBhcmUgdG9vIGV4cGVuc2l2ZSBhbmQgZnJhZ2lsZSB0byB0ZXN0LlxuICB0cnkge1xuICAgIG5vZGUuZm9jdXMoKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmb2N1c05vZGU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZm9jdXNOb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9mb2N1c05vZGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgZmItd3d3L3R5cGVvZi11bmRlZmluZWQgKi9cblxuLyoqXG4gKiBTYW1lIGFzIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYnV0IHdyYXBzIGluIGEgdHJ5LWNhdGNoIGJsb2NrLiBJbiBJRSBpdCBpc1xuICogbm90IHNhZmUgdG8gY2FsbCBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGlmIHRoZXJlIGlzIG5vdGhpbmcgZm9jdXNlZC5cbiAqXG4gKiBUaGUgYWN0aXZlRWxlbWVudCB3aWxsIGJlIG51bGwgb25seSBpZiB0aGUgZG9jdW1lbnQgb3IgZG9jdW1lbnQgYm9keSBpcyBub3RcbiAqIHlldCBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7P0RPTURvY3VtZW50fSBkb2MgRGVmYXVsdHMgdG8gY3VycmVudCBkb2N1bWVudC5cbiAqIEByZXR1cm4gez9ET01FbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KGRvYykgLyo/RE9NRWxlbWVudCove1xuICBkb2MgPSBkb2MgfHwgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHVuZGVmaW5lZCk7XG4gIGlmICh0eXBlb2YgZG9jID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvYy5hY3RpdmVFbGVtZW50IHx8IGRvYy5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvYy5ib2R5O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QWN0aXZlRWxlbWVudDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGlzIGEgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZShvYmplY3QpIHtcbiAgdmFyIGRvYyA9IG9iamVjdCA/IG9iamVjdC5vd25lckRvY3VtZW50IHx8IG9iamVjdCA6IGRvY3VtZW50O1xuICB2YXIgZGVmYXVsdFZpZXcgPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICByZXR1cm4gISEob2JqZWN0ICYmICh0eXBlb2YgZGVmYXVsdFZpZXcuTm9kZSA9PT0gJ2Z1bmN0aW9uJyA/IG9iamVjdCBpbnN0YW5jZW9mIGRlZmF1bHRWaWV3Lk5vZGUgOiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqZWN0Lm5vZGVUeXBlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqZWN0Lm5vZGVOYW1lID09PSAnc3RyaW5nJykpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTm9kZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzTm9kZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgaXNOb2RlID0gcmVxdWlyZSgnLi9pc05vZGUnKTtcblxuLyoqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBhIERPTSB0ZXh0IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGlzVGV4dE5vZGUob2JqZWN0KSB7XG4gIHJldHVybiBpc05vZGUob2JqZWN0KSAmJiBvYmplY3Qubm9kZVR5cGUgPT0gMztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1RleHROb2RlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICogXG4gKi9cblxuLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICovXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgaWYgKHggPT09IHkpIHtcbiAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgIC8vIEFkZGVkIHRoZSBub256ZXJvIHkgY2hlY2sgdG8gbWFrZSBGbG93IGhhcHB5LCBidXQgaXQgaXMgcmVkdW5kYW50XG4gICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKGlzKG9iakEsIG9iakIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93RXF1YWw7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9zaGFsbG93RXF1YWwuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiSGxzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkhsc1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVuYWJsZUxvZ3M7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsb2dnZXI7IH0pO1xudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIGZha2VMb2dnZXIgPSB7XG4gIHRyYWNlOiBub29wLFxuICBkZWJ1Zzogbm9vcCxcbiAgbG9nOiBub29wLFxuICB3YXJuOiBub29wLFxuICBpbmZvOiBub29wLFxuICBlcnJvcjogbm9vcFxufTtcblxudmFyIGV4cG9ydGVkTG9nZ2VyID0gZmFrZUxvZ2dlcjtcblxuLypnbG9iYWxzIHNlbGY6IGZhbHNlICovXG5cbi8vbGV0IGxhc3RDYWxsVGltZTtcbi8vIGZ1bmN0aW9uIGZvcm1hdE1zZ1dpdGhUaW1lSW5mbyh0eXBlLCBtc2cpIHtcbi8vICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbi8vICAgY29uc3QgZGlmZiA9IGxhc3RDYWxsVGltZSA/ICcrJyArIChub3cgLSBsYXN0Q2FsbFRpbWUpIDogJzAnO1xuLy8gICBsYXN0Q2FsbFRpbWUgPSBub3c7XG4vLyAgIG1zZyA9IChuZXcgRGF0ZShub3cpKS50b0lTT1N0cmluZygpICsgJyB8IFsnICsgIHR5cGUgKyAnXSA+ICcgKyBtc2cgKyAnICggJyArIGRpZmYgKyAnIG1zICknO1xuLy8gICByZXR1cm4gbXNnO1xuLy8gfVxuXG5mdW5jdGlvbiBmb3JtYXRNc2codHlwZSwgbXNnKSB7XG4gIG1zZyA9ICdbJyArIHR5cGUgKyAnXSA+ICcgKyBtc2c7XG4gIHJldHVybiBtc2c7XG59XG5cbmZ1bmN0aW9uIGNvbnNvbGVQcmludEZuKHR5cGUpIHtcbiAgdmFyIGZ1bmMgPSBzZWxmLmNvbnNvbGVbdHlwZV07XG4gIGlmIChmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmdzWzBdKSB7XG4gICAgICAgIGFyZ3NbMF0gPSBmb3JtYXRNc2codHlwZSwgYXJnc1swXSk7XG4gICAgICB9XG4gICAgICBmdW5jLmFwcGx5KHNlbGYuY29uc29sZSwgYXJncyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbm9vcDtcbn1cblxuZnVuY3Rpb24gZXhwb3J0TG9nZ2VyRnVuY3Rpb25zKGRlYnVnQ29uZmlnKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3Rpb25zID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGZ1bmN0aW9uc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIGZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgZXhwb3J0ZWRMb2dnZXJbdHlwZV0gPSBkZWJ1Z0NvbmZpZ1t0eXBlXSA/IGRlYnVnQ29uZmlnW3R5cGVdLmJpbmQoZGVidWdDb25maWcpIDogY29uc29sZVByaW50Rm4odHlwZSk7XG4gIH0pO1xufVxuXG52YXIgZW5hYmxlTG9ncyA9IGZ1bmN0aW9uIGVuYWJsZUxvZ3MoZGVidWdDb25maWcpIHtcbiAgaWYgKGRlYnVnQ29uZmlnID09PSB0cnVlIHx8ICh0eXBlb2YgZGVidWdDb25maWcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGRlYnVnQ29uZmlnKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZXhwb3J0TG9nZ2VyRnVuY3Rpb25zKGRlYnVnQ29uZmlnLFxuICAgIC8vIFJlbW92ZSBvdXQgZnJvbSBsaXN0IGhlcmUgdG8gaGFyZC1kaXNhYmxlIGEgbG9nLWxldmVsXG4gICAgLy8ndHJhY2UnLFxuICAgICdkZWJ1ZycsICdsb2cnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJyk7XG4gICAgLy8gU29tZSBicm93c2VycyBkb24ndCBhbGxvdyB0byB1c2UgYmluZCBvbiBjb25zb2xlIG9iamVjdCBhbnl3YXlcbiAgICAvLyBmYWxsYmFjayB0byBkZWZhdWx0IGlmIG5lZWRlZFxuICAgIHRyeSB7XG4gICAgICBleHBvcnRlZExvZ2dlci5sb2coKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGV4cG9ydGVkTG9nZ2VyID0gZmFrZUxvZ2dlcjtcbiAgfVxufTtcblxudmFyIGxvZ2dlciA9IGV4cG9ydGVkTG9nZ2VyO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcbiAgLy8gZmlyZWQgYmVmb3JlIE1lZGlhU291cmNlIGlzIGF0dGFjaGluZyB0byBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyBtZWRpYSB9XG4gIE1FRElBX0FUVEFDSElORzogJ2hsc01lZGlhQXR0YWNoaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBzdWNjZXNmdWxseSBhdHRhY2hlZCB0byBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyB9XG4gIE1FRElBX0FUVEFDSEVEOiAnaGxzTWVkaWFBdHRhY2hlZCcsXG4gIC8vIGZpcmVkIGJlZm9yZSBkZXRhY2hpbmcgTWVkaWFTb3VyY2UgZnJvbSBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyB9XG4gIE1FRElBX0RFVEFDSElORzogJ2hsc01lZGlhRGV0YWNoaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBkZXRhY2hlZCBmcm9tIG1lZGlhIGVsZW1lbnQgLSBkYXRhOiB7IH1cbiAgTUVESUFfREVUQUNIRUQ6ICdobHNNZWRpYURldGFjaGVkJyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBidWZmZXIgaXMgZ29pbmcgdG8gYmUgcmVzZXQgLSBkYXRhOiB7IH1cbiAgQlVGRkVSX1JFU0VUOiAnaGxzQnVmZmVyUmVzZXQnLFxuICAvLyBmaXJlZCB3aGVuIHdlIGtub3cgYWJvdXQgdGhlIGNvZGVjcyB0aGF0IHdlIG5lZWQgYnVmZmVycyBmb3IgdG8gcHVzaCBpbnRvIC0gZGF0YToge3RyYWNrcyA6IHsgY29udGFpbmVyLCBjb2RlYywgbGV2ZWxDb2RlYywgaW5pdFNlZ21lbnQsIG1ldGFkYXRhIH19XG4gIEJVRkZFUl9DT0RFQ1M6ICdobHNCdWZmZXJDb2RlY3MnLFxuICAvLyBmaXJlZCB3aGVuIHNvdXJjZWJ1ZmZlcnMgaGF2ZSBiZWVuIGNyZWF0ZWQgLSBkYXRhOiB7IHRyYWNrcyA6IHRyYWNrcyB9XG4gIEJVRkZFUl9DUkVBVEVEOiAnaGxzQnVmZmVyQ3JlYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gd2UgYXBwZW5kIGEgc2VnbWVudCB0byB0aGUgYnVmZmVyIC0gZGF0YTogeyBzZWdtZW50OiBzZWdtZW50IG9iamVjdCB9XG4gIEJVRkZFUl9BUFBFTkRJTkc6ICdobHNCdWZmZXJBcHBlbmRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIHdlIGFyZSBkb25lIHdpdGggYXBwZW5kaW5nIGEgbWVkaWEgc2VnbWVudCB0byB0aGUgYnVmZmVyIC0gZGF0YSA6IHsgcGFyZW50IDogc2VnbWVudCBwYXJlbnQgdGhhdCB0cmlnZ2VyZWQgQlVGRkVSX0FQUEVORElORywgcGVuZGluZyA6IG5iIG9mIHNlZ21lbnRzIHdhaXRpbmcgZm9yIGFwcGVuZGluZyBmb3IgdGhpcyBzZWdtZW50IHBhcmVudH1cbiAgQlVGRkVSX0FQUEVOREVEOiAnaGxzQnVmZmVyQXBwZW5kZWQnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQgYW5kIHdlIHdhbnQgdG8gbm90aWZ5IHRoZSBtZWRpYSBidWZmZXIgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgZGF0YSAtIGRhdGE6IHsgfVxuICBCVUZGRVJfRU9TOiAnaGxzQnVmZmVyRW9zJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgbWVkaWEgYnVmZmVyIHNob3VsZCBiZSBmbHVzaGVkIC0gZGF0YSB7IHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQgfVxuICBCVUZGRVJfRkxVU0hJTkc6ICdobHNCdWZmZXJGbHVzaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBoYXMgYmVlbiBmbHVzaGVkIC0gZGF0YTogeyB9XG4gIEJVRkZFUl9GTFVTSEVEOiAnaGxzQnVmZmVyRmx1c2hlZCcsXG4gIC8vIGZpcmVkIHRvIHNpZ25hbCB0aGF0IGEgbWFuaWZlc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IG1hbmlmZXN0VVJMfVxuICBNQU5JRkVTVF9MT0FESU5HOiAnaGxzTWFuaWZlc3RMb2FkaW5nJyxcbiAgLy8gZmlyZWQgYWZ0ZXIgbWFuaWZlc3QgaGFzIGJlZW4gbG9hZGVkIC0gZGF0YTogeyBsZXZlbHMgOiBbYXZhaWxhYmxlIHF1YWxpdHkgbGV2ZWxzXSwgYXVkaW9UcmFja3MgOiBbIGF2YWlsYWJsZSBhdWRpbyB0cmFja3NdLCB1cmwgOiBtYW5pZmVzdFVSTCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZX19XG4gIE1BTklGRVNUX0xPQURFRDogJ2hsc01hbmlmZXN0TG9hZGVkJyxcbiAgLy8gZmlyZWQgYWZ0ZXIgbWFuaWZlc3QgaGFzIGJlZW4gcGFyc2VkIC0gZGF0YTogeyBsZXZlbHMgOiBbYXZhaWxhYmxlIHF1YWxpdHkgbGV2ZWxzXSwgZmlyc3RMZXZlbCA6IGluZGV4IG9mIGZpcnN0IHF1YWxpdHkgbGV2ZWwgYXBwZWFyaW5nIGluIE1hbmlmZXN0fVxuICBNQU5JRkVTVF9QQVJTRUQ6ICdobHNNYW5pZmVzdFBhcnNlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgcmVxdWVzdGVkIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9IC8vIGRlcHJlY2F0ZWQgaW4gZmF2b3IgTEVWRUxfU1dJVENISU5HXG4gIExFVkVMX1NXSVRDSDogJ2hsc0xldmVsU3dpdGNoJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHN3aXRjaCBpcyByZXF1ZXN0ZWQgLSBkYXRhOiB7IGxldmVsIDogaWQgb2YgbmV3IGxldmVsIH1cbiAgTEVWRUxfU1dJVENISU5HOiAnaGxzTGV2ZWxTd2l0Y2hpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgc3dpdGNoIGlzIGVmZmVjdGl2ZSAtIGRhdGE6IHsgbGV2ZWwgOiBpZCBvZiBuZXcgbGV2ZWwgfVxuICBMRVZFTF9TV0lUQ0hFRDogJ2hsc0xldmVsU3dpdGNoZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgcGxheWxpc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IGxldmVsIFVSTCwgbGV2ZWwgOiBpZCBvZiBsZXZlbCBiZWluZyBsb2FkZWR9XG4gIExFVkVMX0xPQURJTkc6ICdobHNMZXZlbExvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgcGxheWxpc3QgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgbG9hZGVkIGxldmVsLCBzdGF0cyA6IHsgdHJlcXVlc3QsIHRmaXJzdCwgdGxvYWQsIG10aW1lfSB9XG4gIExFVkVMX0xPQURFRDogJ2hsc0xldmVsTG9hZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsJ3MgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZCBiYXNlZCBvbiBwcmV2aW91cyBkZXRhaWxzLCBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWQgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIHVwZGF0ZWQgbGV2ZWwgfVxuICBMRVZFTF9VUERBVEVEOiAnaGxzTGV2ZWxVcGRhdGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGxldmVsJ3MgUFRTIGluZm9ybWF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgYWZ0ZXIgcGFyc2luZyBhIGZyYWdtZW50IC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgbGV2ZWwgOiBpZCBvZiB1cGRhdGVkIGxldmVsLCBkcmlmdDogUFRTIGRyaWZ0IG9ic2VydmVkIHdoZW4gcGFyc2luZyBsYXN0IGZyYWdtZW50IH1cbiAgTEVWRUxfUFRTX1VQREFURUQ6ICdobHNMZXZlbFB0c1VwZGF0ZWQnLFxuICAvLyBmaXJlZCB0byBub3RpZnkgdGhhdCBhdWRpbyB0cmFjayBsaXN0cyBoYXMgYmVlbiB1cGRhdGVkIC0gZGF0YTogeyBhdWRpb1RyYWNrcyA6IGF1ZGlvVHJhY2tzIH1cbiAgQVVESU9fVFJBQ0tTX1VQREFURUQ6ICdobHNBdWRpb1RyYWNrc1VwZGF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGFuIGF1ZGlvIHRyYWNrIHN3aXRjaCBvY2N1cnMgLSBkYXRhOiB7IGlkIDogYXVkaW8gdHJhY2sgaWQgfSAvLyBkZXByZWNhdGVkIGluIGZhdm9yIEFVRElPX1RSQUNLX1NXSVRDSElOR1xuICBBVURJT19UUkFDS19TV0lUQ0g6ICdobHNBdWRpb1RyYWNrU3dpdGNoJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBzd2l0Y2hpbmcgaXMgcmVxdWVzdGVkIC0gZGF0YTogeyBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgQVVESU9fVFJBQ0tfU1dJVENISU5HOiAnaGxzQXVkaW9UcmFja1N3aXRjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoIGFjdHVhbGx5IG9jY3VycyAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX1NXSVRDSEVEOiAnaGxzQXVkaW9UcmFja1N3aXRjaGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogYXVkaW8gdHJhY2sgVVJMLCBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgQVVESU9fVFJBQ0tfTE9BRElORzogJ2hsc0F1ZGlvVHJhY2tMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBsb2FkaW5nIGZpbmlzaGVzIC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgaWQgOiBhdWRpbyB0cmFjayBpZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZSB9IH1cbiAgQVVESU9fVFJBQ0tfTE9BREVEOiAnaGxzQXVkaW9UcmFja0xvYWRlZCcsXG4gIC8vIGZpcmVkIHRvIG5vdGlmeSB0aGF0IHN1YnRpdGxlIHRyYWNrIGxpc3RzIGhhcyBiZWVuIHVwZGF0ZWQgLSBkYXRhOiB7IHN1YnRpdGxlVHJhY2tzIDogc3VidGl0bGVUcmFja3MgfVxuICBTVUJUSVRMRV9UUkFDS1NfVVBEQVRFRDogJ2hsc1N1YnRpdGxlVHJhY2tzVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gc3VidGl0bGUgdHJhY2sgc3dpdGNoIG9jY3VycyAtIGRhdGE6IHsgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCB9XG4gIFNVQlRJVExFX1RSQUNLX1NXSVRDSDogJ2hsc1N1YnRpdGxlVHJhY2tTd2l0Y2gnLFxuICAvLyBmaXJlZCB3aGVuIGEgc3VidGl0bGUgdHJhY2sgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IHN1YnRpdGxlIHRyYWNrIFVSTCwgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCB9XG4gIFNVQlRJVExFX1RSQUNLX0xPQURJTkc6ICdobHNTdWJ0aXRsZVRyYWNrTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSB0cmFjayBsb2FkaW5nIGZpbmlzaGVzIC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZSB9IH1cbiAgU1VCVElUTEVfVFJBQ0tfTE9BREVEOiAnaGxzU3VidGl0bGVUcmFja0xvYWRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSBmcmFnbWVudCBoYXMgYmVlbiBwcm9jZXNzZWQgLSBkYXRhOiB7IHN1Y2Nlc3MgOiBib29sZWFuLCBmcmFnIDogdGhlIHByb2Nlc3NlZCBmcmFnIH1cbiAgU1VCVElUTEVfRlJBR19QUk9DRVNTRUQ6ICdobHNTdWJ0aXRsZUZyYWdQcm9jZXNzZWQnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBmaXJzdCB0aW1lc3RhbXAgaXMgZm91bmQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgaW5pdFBUUzogaW5pdFBUUywgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIElOSVRfUFRTX0ZPVU5EOiAnaGxzSW5pdFB0c0ZvdW5kJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19MT0FESU5HOiAnaGxzRnJhZ0xvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBwcm9ncmVzc2luZyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgeyB0cmVxdWVzdCwgdGZpcnN0LCBsb2FkZWQgfSB9XG4gIEZSQUdfTE9BRF9QUk9HUkVTUzogJ2hsc0ZyYWdMb2FkUHJvZ3Jlc3MnLFxuICAvLyBJZGVudGlmaWVyIGZvciBmcmFnbWVudCBsb2FkIGFib3J0aW5nIGZvciBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBGUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQ6ICdobHNGcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBmcmFnbWVudCBwYXlsb2FkLCBzdGF0cyA6IHsgdHJlcXVlc3QsIHRmaXJzdCwgdGxvYWQsIGxlbmd0aCB9IH1cbiAgRlJBR19MT0FERUQ6ICdobHNGcmFnTG9hZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGhhcyBmaW5pc2hlZCBkZWNyeXB0aW5nIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgc3RhdHMgOiB7IHRzdGFydCwgdGRlY3J5cHQgfSB9XG4gIEZSQUdfREVDUllQVEVEOiAnaGxzRnJhZ0RlY3J5cHRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gSW5pdCBTZWdtZW50IGhhcyBiZWVuIGV4dHJhY3RlZCBmcm9tIGZyYWdtZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgbW9vdiA6IG1vb3YgTVA0IGJveCwgY29kZWNzIDogY29kZWNzIGZvdW5kIHdoaWxlIHBhcnNpbmcgZnJhZ21lbnQgfVxuICBGUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5UOiAnaGxzRnJhZ1BhcnNpbmdJbml0U2VnbWVudCcsXG4gIC8vIGZpcmVkIHdoZW4gcGFyc2luZyBzZWkgdGV4dCBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBzZWkgc2FtcGxlcyBwZXMgXSB9XG4gIEZSQUdfUEFSU0lOR19VU0VSREFUQTogJ2hsc0ZyYWdQYXJzaW5nVXNlcmRhdGEnLFxuICAvLyBmaXJlZCB3aGVuIHBhcnNpbmcgaWQzIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIHNhbXBsZXMgOiBbIGlkMyBzYW1wbGVzIHBlcyBdIH1cbiAgRlJBR19QQVJTSU5HX01FVEFEQVRBOiAnaGxzRnJhZ1BhcnNpbmdNZXRhZGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gZGF0YSBoYXZlIGJlZW4gZXh0cmFjdGVkIGZyb20gZnJhZ21lbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBkYXRhMSA6IG1vb2YgTVA0IGJveCBvciBUUyBmcmFnbWVudHMsIGRhdGEyIDogbWRhdCBNUDQgYm94IG9yIG51bGx9XG4gIEZSQUdfUEFSU0lOR19EQVRBOiAnaGxzRnJhZ1BhcnNpbmdEYXRhJyxcbiAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBwYXJzaW5nIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QgfVxuICBGUkFHX1BBUlNFRDogJ2hsc0ZyYWdQYXJzZWQnLFxuICAvLyBmaXJlZCB3aGVuIGZyYWdtZW50IHJlbXV4ZWQgTVA0IGJveGVzIGhhdmUgYWxsIGJlZW4gYXBwZW5kZWQgaW50byBTb3VyY2VCdWZmZXIgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCB0cGFyc2VkLCB0YnVmZmVyZWQsIGxlbmd0aCwgYndFc3RpbWF0ZSB9IH1cbiAgRlJBR19CVUZGRVJFRDogJ2hsc0ZyYWdCdWZmZXJlZCcsXG4gIC8vIGZpcmVkIHdoZW4gZnJhZ21lbnQgbWF0Y2hpbmcgd2l0aCBjdXJyZW50IG1lZGlhIHBvc2l0aW9uIGlzIGNoYW5naW5nIC0gZGF0YSA6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19DSEFOR0VEOiAnaGxzRnJhZ0NoYW5nZWQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIEZQUyBkcm9wIGV2ZW50IC0gZGF0YTogeyBjdXJlbnREcm9wcGVkLCBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzIH1cbiAgRlBTX0RST1A6ICdobHNGcHNEcm9wJyxcbiAgLy90cmlnZ2VyZWQgd2hlbiBGUFMgZHJvcCB0cmlnZ2VycyBhdXRvIGxldmVsIGNhcHBpbmcgLSBkYXRhOiB7IGxldmVsLCBkcm9wcGVkbGV2ZWwgfVxuICBGUFNfRFJPUF9MRVZFTF9DQVBQSU5HOiAnaGxzRnBzRHJvcExldmVsQ2FwcGluZycsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGVycm9yIGV2ZW50IC0gZGF0YTogeyB0eXBlIDogZXJyb3IgdHlwZSwgZGV0YWlscyA6IGVycm9yIGRldGFpbHMsIGZhdGFsIDogaWYgdHJ1ZSwgaGxzLmpzIGNhbm5vdC93aWxsIG5vdCB0cnkgdG8gcmVjb3ZlciwgaWYgZmFsc2UsIGhscy5qcyB3aWxsIHRyeSB0byByZWNvdmVyLG90aGVyIGVycm9yIHNwZWNpZmljIGRhdGEgfVxuICBFUlJPUjogJ2hsc0Vycm9yJyxcbiAgLy8gZmlyZWQgd2hlbiBobHMuanMgaW5zdGFuY2Ugc3RhcnRzIGRlc3Ryb3lpbmcuIERpZmZlcmVudCBmcm9tIE1FRElBX0RFVEFDSEVEIGFzIG9uZSBjb3VsZCB3YW50IHRvIGRldGFjaCBhbmQgcmVhdHRhY2ggYSBtZWRpYSB0byB0aGUgaW5zdGFuY2Ugb2YgaGxzLmpzIHRvIGhhbmRsZSBtaWQtcm9sbHMgZm9yIGV4YW1wbGUgLSBkYXRhOiB7IH1cbiAgREVTVFJPWUlORzogJ2hsc0Rlc3Ryb3lpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBLRVlfTE9BRElORzogJ2hsc0tleUxvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBrZXkgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gIEtFWV9MT0FERUQ6ICdobHNLZXlMb2FkZWQnLFxuICAvLyBmaXJlZCB1cG9uIHN0cmVhbSBjb250cm9sbGVyIHN0YXRlIHRyYW5zaXRpb25zIC0gZGF0YTogeyBwcmV2aW91c1N0YXRlLCBuZXh0U3RhdGUgfVxuICBTVFJFQU1fU1RBVEVfVFJBTlNJVElPTjogJ2hsc1N0cmVhbVN0YXRlVHJhbnNpdGlvbidcbn0pO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIEVycm9yVHlwZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBFcnJvckRldGFpbHM7IH0pO1xudmFyIEVycm9yVHlwZXMgPSB7XG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbmV0d29yayBlcnJvciAobG9hZGluZyBlcnJvciAvIHRpbWVvdXQgLi4uKVxuICBORVRXT1JLX0VSUk9SOiAnbmV0d29ya0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtZWRpYSBFcnJvciAodmlkZW8vcGFyc2luZy9tZWRpYXNvdXJjZSBlcnJvcilcbiAgTUVESUFfRVJST1I6ICdtZWRpYUVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtdXggRXJyb3IgKGRlbXV4aW5nL3JlbXV4aW5nKVxuICBNVVhfRVJST1I6ICdtdXhFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFsbCBvdGhlciBlcnJvcnNcbiAgT1RIRVJfRVJST1I6ICdvdGhlckVycm9yJ1xufTtcblxudmFyIEVycm9yRGV0YWlscyA9IHtcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtYW5pZmVzdCBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBNQU5JRkVTVF9MT0FEX0VSUk9SOiAnbWFuaWZlc3RMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTUFOSUZFU1RfTE9BRF9USU1FT1VUOiAnbWFuaWZlc3RMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3QgcGFyc2luZyBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVhc29uIDogZXJyb3IgcmVhc29ufVxuICBNQU5JRkVTVF9QQVJTSU5HX0VSUk9SOiAnbWFuaWZlc3RQYXJzaW5nRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IHdpdGggb25seSBpbmNvbXBhdGlibGUgY29kZWNzIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZWFzb24gOiBlcnJvciByZWFzb259XG4gIE1BTklGRVNUX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1I6ICdtYW5pZmVzdEluY29tcGF0aWJsZUNvZGVjc0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBMRVZFTF9MT0FEX0VSUk9SOiAnbGV2ZWxMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGxldmVsIGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgTEVWRUxfTE9BRF9USU1FT1VUOiAnbGV2ZWxMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgc3dpdGNoIGVycm9yIC0gZGF0YTogeyBsZXZlbCA6IGZhdWx0eSBsZXZlbCBJZCwgZXZlbnQgOiBlcnJvciBkZXNjcmlwdGlvbn1cbiAgTEVWRUxfU1dJVENIX0VSUk9SOiAnbGV2ZWxTd2l0Y2hFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIEFVRElPX1RSQUNLX0xPQURfRVJST1I6ICdhdWRpb1RyYWNrTG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYW4gYXVkaW8gdHJhY2sgbG9hZCB0aW1lb3V0IC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBBVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6ICdhdWRpb1RyYWNrTG9hZFRpbWVPdXQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBmcmFnbWVudCBsb2FkIGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBGUkFHX0xPQURfRVJST1I6ICdmcmFnTG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9vcCBsb2FkaW5nIGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICBGUkFHX0xPT1BfTE9BRElOR19FUlJPUjogJ2ZyYWdMb29wTG9hZGluZ0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCB0aW1lb3V0IGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICBGUkFHX0xPQURfVElNRU9VVDogJ2ZyYWdMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgZnJhZ21lbnQgZGVjcnlwdGlvbiBlcnJvciBldmVudCAtIGRhdGE6IHtpZCA6IGRlbXV4ZXIgSWQsZnJhZzogZnJhZ21lbnQgb2JqZWN0LCByZWFzb24gOiBwYXJzaW5nIGVycm9yIGRlc2NyaXB0aW9uIH1cbiAgRlJBR19ERUNSWVBUX0VSUk9SOiAnZnJhZ0RlY3J5cHRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgZnJhZ21lbnQgcGFyc2luZyBlcnJvciBldmVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIElkLCByZWFzb24gOiBwYXJzaW5nIGVycm9yIGRlc2NyaXB0aW9uIH1cbiAgLy8gd2lsbCBiZSByZW5hbWVkIERFTVVYX1BBUlNJTkdfRVJST1IgYW5kIHN3aXRjaGVkIHRvIE1VWF9FUlJPUiBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gIEZSQUdfUEFSU0lOR19FUlJPUjogJ2ZyYWdQYXJzaW5nRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIHJlbXV4IGFsbG9jIGVycm9yIGV2ZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgSWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIGJ5dGVzIDogbmIgb2YgYnl0ZXMgb24gd2hpY2ggYWxsb2NhdGlvbiBmYWlsZWQgLCByZWFzb24gOiBlcnJvciB0ZXh0IH1cbiAgUkVNVVhfQUxMT0NfRVJST1I6ICdyZW11eEFsbG9jRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBLRVlfTE9BRF9FUlJPUjogJ2tleUxvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGRlY3J5cHQga2V5IGxvYWQgdGltZW91dCBlcnJvciAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdH1cbiAgS0VZX0xPQURfVElNRU9VVDogJ2tleUxvYWRUaW1lT3V0JyxcbiAgLy8gVHJpZ2dlcmVkIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3VycyB3aGlsZSBhZGRpbmcgYSBzb3VyY2VCdWZmZXIgdG8gTWVkaWFTb3VyY2UgLSBkYXRhIDogeyAgZXJyIDogZXhjZXB0aW9uICwgbWltZVR5cGUgOiBtaW1lVHlwZSB9XG4gIEJVRkZFUl9BRERfQ09ERUNfRVJST1I6ICdidWZmZXJBZGRDb2RlY0Vycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgYXBwZW5kIGVycm9yIC0gZGF0YTogYXBwZW5kIGVycm9yIGRlc2NyaXB0aW9uXG4gIEJVRkZFUl9BUFBFTkRfRVJST1I6ICdidWZmZXJBcHBlbmRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIGFwcGVuZGluZyBlcnJvciBldmVudCAtIGRhdGE6IGFwcGVuZGluZyBlcnJvciBkZXNjcmlwdGlvblxuICBCVUZGRVJfQVBQRU5ESU5HX0VSUk9SOiAnYnVmZmVyQXBwZW5kaW5nRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBzdGFsbGVkIGVycm9yIGV2ZW50XG4gIEJVRkZFUl9TVEFMTEVEX0VSUk9SOiAnYnVmZmVyU3RhbGxlZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgZnVsbCBldmVudFxuICBCVUZGRVJfRlVMTF9FUlJPUjogJ2J1ZmZlckZ1bGxFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIHNlZWsgb3ZlciBob2xlIGV2ZW50XG4gIEJVRkZFUl9TRUVLX09WRVJfSE9MRTogJ2J1ZmZlclNlZWtPdmVySG9sZScsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIG51ZGdlIG9uIHN0YWxsIChwbGF5YmFjayBpcyBzdHVjayBhbHRob3VnaCBjdXJyZW50VGltZSBpcyBpbiBhIGJ1ZmZlcmVkIGFyZWEpXG4gIEJVRkZFUl9OVURHRV9PTl9TVEFMTDogJ2J1ZmZlck51ZGdlT25TdGFsbCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGludGVybmFsIGV4Y2VwdGlvbiBoYXBwZW5pbmcgaW5zaWRlIGhscy5qcyB3aGlsZSBoYW5kbGluZyBhbiBldmVudFxuICBJTlRFUk5BTF9FWENFUFRJT046ICdpbnRlcm5hbEV4Y2VwdGlvbidcbn07XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSUQzIHBhcnNlclxuICovXG52YXIgSUQzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJRDMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElEMyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGFuIElEMyBoZWFkZXIgY2FuIGJlIGZvdW5kIGF0IG9mZnNldCBpbiBkYXRhXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlYXJjaCBpblxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gLSBUcnVlIGlmIGFuIElEMyBoZWFkZXIgaXMgZm91bmRcbiAgICovXG4gIElEMy5pc0hlYWRlciA9IGZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8qXG4gICAgKiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjBcbiAgICAqIFswXSAgICAgPSAnSSdcbiAgICAqIFsxXSAgICAgPSAnRCdcbiAgICAqIFsyXSAgICAgPSAnMydcbiAgICAqIFszLDRdICAgPSB7VmVyc2lvbn1cbiAgICAqIFs1XSAgICAgPSB7RmxhZ3N9XG4gICAgKiBbNi05XSAgID0ge0lEMyBTaXplfVxuICAgICpcbiAgICAqIEFuIElEM3YyIHRhZyBjYW4gYmUgZGV0ZWN0ZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhdHRlcm46XG4gICAgKiAgJDQ5IDQ0IDMzIHl5IHl5IHh4IHp6IHp6IHp6IHp6XG4gICAgKiBXaGVyZSB5eSBpcyBsZXNzIHRoYW4gJEZGLCB4eCBpcyB0aGUgJ2ZsYWdzJyBieXRlIGFuZCB6eiBpcyBsZXNzIHRoYW4gJDgwXG4gICAgKi9cbiAgICBpZiAob2Zmc2V0ICsgMTAgPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIC8vbG9vayBmb3IgJ0lEMycgaWRlbnRpZmllclxuICAgICAgaWYgKGRhdGFbb2Zmc2V0XSA9PT0gMHg0OSAmJiBkYXRhW29mZnNldCArIDFdID09PSAweDQ0ICYmIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4MzMpIHtcbiAgICAgICAgLy9jaGVjayB2ZXJzaW9uIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4RkYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4RkYpIHtcbiAgICAgICAgICAvL2NoZWNrIHNpemUgaXMgd2l0aGluIHJhbmdlXG4gICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgN10gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOF0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhbiBJRDMgZm9vdGVyIGNhbiBiZSBmb3VuZCBhdCBvZmZzZXQgaW4gZGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gVHJ1ZSBpZiBhbiBJRDMgZm9vdGVyIGlzIGZvdW5kXG4gICAqL1xuXG5cbiAgSUQzLmlzRm9vdGVyID0gZnVuY3Rpb24gaXNGb290ZXIoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLypcbiAgICAqIFRoZSBmb290ZXIgaXMgYSBjb3B5IG9mIHRoZSBoZWFkZXIsIGJ1dCB3aXRoIGEgZGlmZmVyZW50IGlkZW50aWZpZXJcbiAgICAqL1xuICAgIGlmIChvZmZzZXQgKyAxMCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgLy9sb29rIGZvciAnM0RJJyBpZGVudGlmaWVyXG4gICAgICBpZiAoZGF0YVtvZmZzZXRdID09PSAweDMzICYmIGRhdGFbb2Zmc2V0ICsgMV0gPT09IDB4NDQgJiYgZGF0YVtvZmZzZXQgKyAyXSA9PT0gMHg0OSkge1xuICAgICAgICAvL2NoZWNrIHZlcnNpb24gaXMgd2l0aGluIHJhbmdlXG4gICAgICAgIGlmIChkYXRhW29mZnNldCArIDNdIDwgMHhGRiAmJiBkYXRhW29mZnNldCArIDRdIDwgMHhGRikge1xuICAgICAgICAgIC8vY2hlY2sgc2l6ZSBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyA2XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA3XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA4XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA5XSA8IDB4ODApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhbnkgYWRqYWNlbnQgSUQzIHRhZ3MgZm91bmQgaW4gZGF0YSBzdGFydGluZyBhdCBvZmZzZXQsIGFzIG9uZSBibG9jayBvZiBkYXRhXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlYXJjaCBpblxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICogQHJldHVybiB7VWludDhBcnJheX0gLSBUaGUgYmxvY2sgb2YgZGF0YSBjb250YWluaW5nIGFueSBJRDMgdGFncyBmb3VuZFxuICAgKi9cblxuXG4gIElEMy5nZXRJRDNEYXRhID0gZnVuY3Rpb24gZ2V0SUQzRGF0YShkYXRhLCBvZmZzZXQpIHtcbiAgICB2YXIgZnJvbnQgPSBvZmZzZXQ7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG5cbiAgICB3aGlsZSAoSUQzLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgIC8vSUQzIGhlYWRlciBpcyAxMCBieXRlc1xuICAgICAgbGVuZ3RoICs9IDEwO1xuXG4gICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoZGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICBsZW5ndGggKz0gc2l6ZTtcblxuICAgICAgaWYgKElEMy5pc0Zvb3RlcihkYXRhLCBvZmZzZXQgKyAxMCkpIHtcbiAgICAgICAgLy9JRDMgZm9vdGVyIGlzIDEwIGJ5dGVzXG4gICAgICAgIGxlbmd0aCArPSAxMDtcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0ICs9IGxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGRhdGEuc3ViYXJyYXkoZnJvbnQsIGZyb250ICsgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIElEMy5fcmVhZFNpemUgPSBmdW5jdGlvbiBfcmVhZFNpemUoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIHNpemUgPSAwO1xuICAgIHNpemUgPSAoZGF0YVtvZmZzZXRdICYgMHg3ZikgPDwgMjE7XG4gICAgc2l6ZSB8PSAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDE0O1xuICAgIHNpemUgfD0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDdmKSA8PCA3O1xuICAgIHNpemUgfD0gZGF0YVtvZmZzZXQgKyAzXSAmIDB4N2Y7XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIGZvciB0aGUgRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZvdW5kIGluIHRoZSBJRDMgZGF0YSBjaHVua1xuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBCbG9jayBvZiBkYXRhIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgSUQzIHRhZ3NcbiAgICogQHJldHVybiB7bnVtYmVyfSAtIFRoZSB0aW1lc3RhbXBcbiAgICovXG5cblxuICBJRDMuZ2V0VGltZVN0YW1wID0gZnVuY3Rpb24gZ2V0VGltZVN0YW1wKGRhdGEpIHtcbiAgICB2YXIgZnJhbWVzID0gSUQzLmdldElEM0ZyYW1lcyhkYXRhKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgaWYgKElEMy5pc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSkge1xuICAgICAgICByZXR1cm4gSUQzLl9yZWFkVGltZVN0YW1wKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIElEMyBmcmFtZSBpcyBhbiBFbGVtZW50YXJ5IFN0cmVhbSB0aW1lc3RhbXAgZnJhbWVcbiAgICogQHBhcmFtIHtJRDMgZnJhbWV9IGZyYW1lXG4gICAqL1xuXG5cbiAgSUQzLmlzVGltZVN0YW1wRnJhbWUgPSBmdW5jdGlvbiBpc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSB7XG4gICAgcmV0dXJuIGZyYW1lICYmIGZyYW1lLmtleSA9PT0gJ1BSSVYnICYmIGZyYW1lLmluZm8gPT09ICdjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCc7XG4gIH07XG5cbiAgSUQzLl9nZXRGcmFtZURhdGEgPSBmdW5jdGlvbiBfZ2V0RnJhbWVEYXRhKGRhdGEpIHtcbiAgICAvKlxuICAgIEZyYW1lIElEICAgICAgICR4eCB4eCB4eCB4eCAoZm91ciBjaGFyYWN0ZXJzKVxuICAgIFNpemUgICAgICAgICAgICR4eCB4eCB4eCB4eFxuICAgIEZsYWdzICAgICAgICAgICR4eCB4eFxuICAgICovXG4gICAgdmFyIHR5cGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbMF0sIGRhdGFbMV0sIGRhdGFbMl0sIGRhdGFbM10pO1xuICAgIHZhciBzaXplID0gSUQzLl9yZWFkU2l6ZShkYXRhLCA0KTtcblxuICAgIC8vc2tpcCBmcmFtZSBpZCwgc2l6ZSwgYW5kIGZsYWdzXG4gICAgdmFyIG9mZnNldCA9IDEwO1xuXG4gICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgc2l6ZTogc2l6ZSwgZGF0YTogZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgSUQzIGZyYW1lcyBmb3VuZCBpbiBhbGwgdGhlIElEMyB0YWdzIGluIHRoZSBpZDNEYXRhXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gaWQzRGF0YSAtIFRoZSBJRDMgZGF0YSBjb250YWluaW5nIG9uZSBvciBtb3JlIElEMyB0YWdzXG4gICAqIEByZXR1cm4ge0lEMyBmcmFtZVtdfSAtIEFycmF5IG9mIElEMyBmcmFtZSBvYmplY3RzXG4gICAqL1xuXG5cbiAgSUQzLmdldElEM0ZyYW1lcyA9IGZ1bmN0aW9uIGdldElEM0ZyYW1lcyhpZDNEYXRhKSB7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgdmFyIGZyYW1lcyA9IFtdO1xuXG4gICAgd2hpbGUgKElEMy5pc0hlYWRlcihpZDNEYXRhLCBvZmZzZXQpKSB7XG4gICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoaWQzRGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICAvL3NraXAgcGFzdCBJRDMgaGVhZGVyXG4gICAgICBvZmZzZXQgKz0gMTA7XG4gICAgICB2YXIgZW5kID0gb2Zmc2V0ICsgc2l6ZTtcbiAgICAgIC8vbG9vcCB0aHJvdWdoIGZyYW1lcyBpbiB0aGUgSUQzIHRhZ1xuICAgICAgd2hpbGUgKG9mZnNldCArIDggPCBlbmQpIHtcbiAgICAgICAgdmFyIGZyYW1lRGF0YSA9IElEMy5fZ2V0RnJhbWVEYXRhKGlkM0RhdGEuc3ViYXJyYXkob2Zmc2V0KSk7XG4gICAgICAgIHZhciBmcmFtZSA9IElEMy5fZGVjb2RlRnJhbWUoZnJhbWVEYXRhKTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vc2tpcCBmcmFtZSBoZWFkZXIgYW5kIGZyYW1lIGRhdGFcbiAgICAgICAgb2Zmc2V0ICs9IGZyYW1lRGF0YS5zaXplICsgMTA7XG4gICAgICB9XG5cbiAgICAgIGlmIChJRDMuaXNGb290ZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgKz0gMTA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZyYW1lcztcbiAgfTtcblxuICBJRDMuX2RlY29kZUZyYW1lID0gZnVuY3Rpb24gX2RlY29kZUZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnR5cGUgPT09ICdQUklWJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlUHJpdkZyYW1lKGZyYW1lKTtcbiAgICB9IGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdUJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVGV4dEZyYW1lKGZyYW1lKTtcbiAgICB9IGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdXJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVVJMRnJhbWUoZnJhbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgSUQzLl9yZWFkVGltZVN0YW1wID0gZnVuY3Rpb24gX3JlYWRUaW1lU3RhbXAodGltZVN0YW1wRnJhbWUpIHtcbiAgICBpZiAodGltZVN0YW1wRnJhbWUuZGF0YS5ieXRlTGVuZ3RoID09PSA4KSB7XG4gICAgICB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KHRpbWVTdGFtcEZyYW1lLmRhdGEpO1xuICAgICAgLy8gdGltZXN0YW1wIGlzIDMzIGJpdCBleHByZXNzZWQgYXMgYSBiaWctZW5kaWFuIGVpZ2h0LW9jdGV0IG51bWJlcixcbiAgICAgIC8vIHdpdGggdGhlIHVwcGVyIDMxIGJpdHMgc2V0IHRvIHplcm8uXG4gICAgICB2YXIgcHRzMzNCaXQgPSBkYXRhWzNdICYgMHgxO1xuICAgICAgdmFyIHRpbWVzdGFtcCA9IChkYXRhWzRdIDw8IDIzKSArIChkYXRhWzVdIDw8IDE1KSArIChkYXRhWzZdIDw8IDcpICsgZGF0YVs3XTtcbiAgICAgIHRpbWVzdGFtcCAvPSA0NTtcblxuICAgICAgaWYgKHB0czMzQml0KSB7XG4gICAgICAgIHRpbWVzdGFtcCArPSA0NzcyMTg1OC44NDsgLy8gMl4zMiAvIDkwXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRpbWVzdGFtcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICBJRDMuX2RlY29kZVByaXZGcmFtZSA9IGZ1bmN0aW9uIF9kZWNvZGVQcml2RnJhbWUoZnJhbWUpIHtcbiAgICAvKlxuICAgIEZvcm1hdDogPHRleHQgc3RyaW5nPlxcMDxiaW5hcnkgZGF0YT5cbiAgICAqL1xuICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgb3duZXIgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEpO1xuICAgIHZhciBwcml2YXRlRGF0YSA9IG5ldyBVaW50OEFycmF5KGZyYW1lLmRhdGEuc3ViYXJyYXkob3duZXIubGVuZ3RoICsgMSkpO1xuXG4gICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBvd25lciwgZGF0YTogcHJpdmF0ZURhdGEuYnVmZmVyIH07XG4gIH07XG5cbiAgSUQzLl9kZWNvZGVUZXh0RnJhbWUgPSBmdW5jdGlvbiBfZGVjb2RlVGV4dEZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnNpemUgPCAyKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChmcmFtZS50eXBlID09PSAnVFhYWCcpIHtcbiAgICAgIC8qXG4gICAgICBGb3JtYXQ6XG4gICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1ZhbHVlfVxuICAgICAgKi9cbiAgICAgIHZhciBpbmRleCA9IDE7XG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICAgIHZhciB2YWx1ZSA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuXG4gICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGluZm86IGRlc2NyaXB0aW9uLCBkYXRhOiB2YWx1ZSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvKlxuICAgICAgRm9ybWF0OlxuICAgICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICAgIFsxLT9dID0ge1ZhbHVlfVxuICAgICAgKi9cbiAgICAgIHZhciB0ZXh0ID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KDEpKTtcbiAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdGV4dCB9O1xuICAgIH1cbiAgfTtcblxuICBJRDMuX2RlY29kZVVSTEZyYW1lID0gZnVuY3Rpb24gX2RlY29kZVVSTEZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnR5cGUgPT09ICdXWFhYJykge1xuICAgICAgLypcbiAgICAgIEZvcm1hdDpcbiAgICAgIFswXSAgID0ge1RleHQgRW5jb2Rpbmd9XG4gICAgICBbMS0/XSA9IHtEZXNjcmlwdGlvbn1cXDB7VVJMfVxuICAgICAgKi9cbiAgICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAxO1xuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KGluZGV4KSk7XG5cbiAgICAgIGluZGV4ICs9IGRlc2NyaXB0aW9uLmxlbmd0aCArIDE7XG4gICAgICB2YXIgdmFsdWUgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLypcbiAgICAgIEZvcm1hdDpcbiAgICAgIFswLT9dID0ge1VSTH1cbiAgICAgICovXG4gICAgICB2YXIgdXJsID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhKTtcbiAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdXJsIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODkzNjk4NC91aW50OGFycmF5LXRvLXN0cmluZy1pbi1qYXZhc2NyaXB0LzIyMzczMTk3XG4gIC8vIGh0dHA6Ly93d3cub25pY29zLmNvbS9zdGFmZi9pei9hbXVzZS9qYXZhc2NyaXB0L2V4cGVydC91dGYudHh0XG4gIC8qIHV0Zi5qcyAtIFVURi04IDw9PiBVVEYtMTYgY29udmVydGlvblxuICAgKlxuICAgKiBDb3B5cmlnaHQgKEMpIDE5OTkgTWFzYW5hbyBJenVtbyA8aXpAb25pY29zLmNvLmpwPlxuICAgKiBWZXJzaW9uOiAxLjBcbiAgICogTGFzdE1vZGlmaWVkOiBEZWMgMjUgMTk5OVxuICAgKiBUaGlzIGxpYnJhcnkgaXMgZnJlZS4gIFlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQuXG4gICAqL1xuXG5cbiAgSUQzLl91dGY4QXJyYXlUb1N0ciA9IGZ1bmN0aW9uIF91dGY4QXJyYXlUb1N0cihhcnJheSkge1xuXG4gICAgdmFyIGNoYXIyID0gdm9pZCAwO1xuICAgIHZhciBjaGFyMyA9IHZvaWQgMDtcbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgdmFyIGMgPSBhcnJheVtpKytdO1xuICAgICAgc3dpdGNoIChjID4+IDQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIGNhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA2OmNhc2UgNzpcbiAgICAgICAgICAvLyAweHh4eHh4eFxuICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOmNhc2UgMTM6XG4gICAgICAgICAgLy8gMTEweCB4eHh4ICAgMTB4eCB4eHh4XG4gICAgICAgICAgY2hhcjIgPSBhcnJheVtpKytdO1xuICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMHgxRikgPDwgNiB8IGNoYXIyICYgMHgzRik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgLy8gMTExMCB4eHh4ICAxMHh4IHh4eHggIDEweHggeHh4eFxuICAgICAgICAgIGNoYXIyID0gYXJyYXlbaSsrXTtcbiAgICAgICAgICBjaGFyMyA9IGFycmF5W2krK107XG4gICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiAweDBGKSA8PCAxMiB8IChjaGFyMiAmIDB4M0YpIDw8IDYgfCAoY2hhcjMgJiAweDNGKSA8PCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9O1xuXG4gIHJldHVybiBJRDM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoSUQzKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMxODA4XHJcblxyXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcbihmdW5jdGlvbihyb290KSB7IFxyXG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cclxuICB2YXIgVVJMX1JFR0VYID0gL14oKD86W15cXC87PyNdKzopPykoXFwvXFwvW15cXC9cXDs/I10qKT8oLio/KT8/KDsuKj8pPyhcXD8uKj8pPygjLio/KT8kLztcclxuICB2YXIgRklSU1RfU0VHTUVOVF9SRUdFWCA9IC9eKFteXFwvOz8jXSopKC4qKSQvO1xyXG4gIHZhciBTTEFTSF9ET1RfUkVHRVggPSAvKD86XFwvfF4pXFwuKD89XFwvKS9nO1xyXG4gIHZhciBTTEFTSF9ET1RfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLlxcLlxcLyg/IVxcLlxcLlxcLykuKj8oPz1cXC8pL2c7XHJcblxyXG4gIHZhciBVUkxUb29sa2l0ID0geyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgIC8vIElmIG9wdHMuYWx3YXlzTm9ybWFsaXplIGlzIHRydWUgdGhlbiB0aGUgcGF0aCB3aWxsIGFsd2F5cyBiZSBub3JtYWxpemVkIGV2ZW4gd2hlbiBpdCBzdGFydHMgd2l0aCAvIG9yIC8vXHJcbiAgICAvLyBFLmdcclxuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSBmYWxzZSAoZGVmYXVsdCwgc3BlYyBjb21wbGlhbnQpXHJcbiAgICAvLyBodHRwOi8vYS5jb20vYi9jZCArIC9lL2YvLi4vZyA9PiBodHRwOi8vYS5jb20vZS9mLy4uL2dcclxuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSB0cnVlIChkZWZhdWx0LCBub3Qgc3BlYyBjb21wbGlhbnQpXHJcbiAgICAvLyBodHRwOi8vYS5jb20vYi9jZCArIC9lL2YvLi4vZyA9PiBodHRwOi8vYS5jb20vZS9nXHJcbiAgICBidWlsZEFic29sdXRlVVJMOiBmdW5jdGlvbihiYXNlVVJMLCByZWxhdGl2ZVVSTCwgb3B0cykge1xyXG4gICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgLy8gcmVtb3ZlIGFueSByZW1haW5pbmcgc3BhY2UgYW5kIENSTEZcclxuICAgICAgYmFzZVVSTCA9IGJhc2VVUkwudHJpbSgpO1xyXG4gICAgICByZWxhdGl2ZVVSTCA9IHJlbGF0aXZlVVJMLnRyaW0oKTtcclxuICAgICAgaWYgKCFyZWxhdGl2ZVVSTCkge1xyXG4gICAgICAgIC8vIDJhKSBJZiB0aGUgZW1iZWRkZWQgVVJMIGlzIGVudGlyZWx5IGVtcHR5LCBpdCBpbmhlcml0cyB0aGVcclxuICAgICAgICAvLyBlbnRpcmUgYmFzZSBVUkwgKGkuZS4sIGlzIHNldCBlcXVhbCB0byB0aGUgYmFzZSBVUkwpXHJcbiAgICAgICAgLy8gYW5kIHdlIGFyZSBkb25lLlxyXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcclxuICAgICAgICAgIHJldHVybiBiYXNlVVJMO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVBhcnRzRm9yTm9ybWFsaXNlID0gdGhpcy5wYXJzZVVSTChiYXNlVVJMKTtcclxuICAgICAgICBpZiAoIWJhc2VQYXJ0cykge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgYmFzZSBVUkwuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoKTtcclxuICAgICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhiYXNlUGFydHNGb3JOb3JtYWxpc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZWxhdGl2ZVBhcnRzID0gdGhpcy5wYXJzZVVSTChyZWxhdGl2ZVVSTCk7XHJcbiAgICAgIGlmICghcmVsYXRpdmVQYXJ0cykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIHJlbGF0aXZlIFVSTC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVsYXRpdmVQYXJ0cy5zY2hlbWUpIHtcclxuICAgICAgICAvLyAyYikgSWYgdGhlIGVtYmVkZGVkIFVSTCBzdGFydHMgd2l0aCBhIHNjaGVtZSBuYW1lLCBpdCBpc1xyXG4gICAgICAgIC8vIGludGVycHJldGVkIGFzIGFuIGFic29sdXRlIFVSTCBhbmQgd2UgYXJlIGRvbmUuXHJcbiAgICAgICAgaWYgKCFvcHRzLmFsd2F5c05vcm1hbGl6ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlbGF0aXZlVVJMO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKTtcclxuICAgICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhyZWxhdGl2ZVBhcnRzKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgYmFzZVBhcnRzID0gdGhpcy5wYXJzZVVSTChiYXNlVVJMKTtcclxuICAgICAgaWYgKCFiYXNlUGFydHMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWJhc2VQYXJ0cy5uZXRMb2MgJiYgYmFzZVBhcnRzLnBhdGggJiYgYmFzZVBhcnRzLnBhdGhbMF0gIT09ICcvJykge1xyXG4gICAgICAgIC8vIElmIG5ldExvYyBtaXNzaW5nIGFuZCBwYXRoIGRvZXNuJ3Qgc3RhcnQgd2l0aCAnLycsIGFzc3VtZSBldmVydGhpbmcgYmVmb3JlIHRoZSBmaXJzdCAnLycgaXMgdGhlIG5ldExvY1xyXG4gICAgICAgIC8vIFRoaXMgY2F1c2VzICdleGFtcGxlLmNvbS9hJyB0byBiZSBoYW5kbGVkIGFzICcvL2V4YW1wbGUuY29tL2EnIGluc3RlYWQgb2YgJy9leGFtcGxlLmNvbS9hJ1xyXG4gICAgICAgIHZhciBwYXRoUGFydHMgPSBGSVJTVF9TRUdNRU5UX1JFR0VYLmV4ZWMoYmFzZVBhcnRzLnBhdGgpO1xyXG4gICAgICAgIGJhc2VQYXJ0cy5uZXRMb2MgPSBwYXRoUGFydHNbMV07XHJcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSBwYXRoUGFydHNbMl07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGJhc2VQYXJ0cy5uZXRMb2MgJiYgIWJhc2VQYXJ0cy5wYXRoKSB7XHJcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSAnLyc7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGJ1aWx0UGFydHMgPSB7XHJcbiAgICAgICAgLy8gMmMpIE90aGVyd2lzZSwgdGhlIGVtYmVkZGVkIFVSTCBpbmhlcml0cyB0aGUgc2NoZW1lIG9mXHJcbiAgICAgICAgLy8gdGhlIGJhc2UgVVJMLlxyXG4gICAgICAgIHNjaGVtZTogYmFzZVBhcnRzLnNjaGVtZSxcclxuICAgICAgICBuZXRMb2M6IHJlbGF0aXZlUGFydHMubmV0TG9jLFxyXG4gICAgICAgIHBhdGg6IG51bGwsXHJcbiAgICAgICAgcGFyYW1zOiByZWxhdGl2ZVBhcnRzLnBhcmFtcyxcclxuICAgICAgICBxdWVyeTogcmVsYXRpdmVQYXJ0cy5xdWVyeSxcclxuICAgICAgICBmcmFnbWVudDogcmVsYXRpdmVQYXJ0cy5mcmFnbWVudFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoIXJlbGF0aXZlUGFydHMubmV0TG9jKSB7XHJcbiAgICAgICAgLy8gMykgSWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxuZXRfbG9jPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cclxuICAgICAgICAvLyBTdGVwIDcuICBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIDxuZXRfbG9jPlxyXG4gICAgICAgIC8vIChpZiBhbnkpIG9mIHRoZSBiYXNlIFVSTC5cclxuICAgICAgICBidWlsdFBhcnRzLm5ldExvYyA9IGJhc2VQYXJ0cy5uZXRMb2M7XHJcbiAgICAgICAgLy8gNCkgSWYgdGhlIGVtYmVkZGVkIFVSTCBwYXRoIGlzIHByZWNlZGVkIGJ5IGEgc2xhc2ggXCIvXCIsIHRoZVxyXG4gICAgICAgIC8vIHBhdGggaXMgbm90IHJlbGF0aXZlIGFuZCB3ZSBza2lwIHRvIFN0ZXAgNy5cclxuICAgICAgICBpZiAocmVsYXRpdmVQYXJ0cy5wYXRoWzBdICE9PSAnLycpIHtcclxuICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXRoKSB7XHJcbiAgICAgICAgICAgIC8vIDUpIElmIHRoZSBlbWJlZGRlZCBVUkwgcGF0aCBpcyBlbXB0eSAoYW5kIG5vdCBwcmVjZWRlZCBieSBhXHJcbiAgICAgICAgICAgIC8vIHNsYXNoKSwgdGhlbiB0aGUgZW1iZWRkZWQgVVJMIGluaGVyaXRzIHRoZSBiYXNlIFVSTCBwYXRoXHJcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IGJhc2VQYXJ0cy5wYXRoO1xyXG4gICAgICAgICAgICAvLyA1YSkgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxwYXJhbXM+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xyXG4gICAgICAgICAgICAvLyBzdGVwIDc7IG90aGVyd2lzZSwgaXQgaW5oZXJpdHMgdGhlIDxwYXJhbXM+IG9mIHRoZSBiYXNlXHJcbiAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmRcclxuICAgICAgICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLnBhcmFtcykge1xyXG4gICAgICAgICAgICAgIGJ1aWx0UGFydHMucGFyYW1zID0gYmFzZVBhcnRzLnBhcmFtcztcclxuICAgICAgICAgICAgICAvLyA1YikgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxxdWVyeT4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXHJcbiAgICAgICAgICAgICAgLy8gc3RlcCA3OyBvdGhlcndpc2UsIGl0IGluaGVyaXRzIHRoZSA8cXVlcnk+IG9mIHRoZSBiYXNlXHJcbiAgICAgICAgICAgICAgLy8gVVJMIChpZiBhbnkpIGFuZCB3ZSBza2lwIHRvIHN0ZXAgNy5cclxuICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucXVlcnkpIHtcclxuICAgICAgICAgICAgICAgIGJ1aWx0UGFydHMucXVlcnkgPSBiYXNlUGFydHMucXVlcnk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyA2KSBUaGUgbGFzdCBzZWdtZW50IG9mIHRoZSBiYXNlIFVSTCdzIHBhdGggKGFueXRoaW5nXHJcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyB0aGUgcmlnaHRtb3N0IHNsYXNoIFwiL1wiLCBvciB0aGUgZW50aXJlIHBhdGggaWYgbm9cclxuICAgICAgICAgICAgLy8gc2xhc2ggaXMgcHJlc2VudCkgaXMgcmVtb3ZlZCBhbmQgdGhlIGVtYmVkZGVkIFVSTCdzIHBhdGggaXNcclxuICAgICAgICAgICAgLy8gYXBwZW5kZWQgaW4gaXRzIHBsYWNlLlxyXG4gICAgICAgICAgICB2YXIgYmFzZVVSTFBhdGggPSBiYXNlUGFydHMucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5ld1BhdGggPSBiYXNlVVJMUGF0aC5zdWJzdHJpbmcoMCwgYmFzZVVSTFBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpICsgcmVsYXRpdmVQYXJ0cy5wYXRoO1xyXG4gICAgICAgICAgICBidWlsdFBhcnRzLnBhdGggPSBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgobmV3UGF0aCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChidWlsdFBhcnRzLnBhdGggPT09IG51bGwpIHtcclxuICAgICAgICBidWlsdFBhcnRzLnBhdGggPSBvcHRzLmFsd2F5c05vcm1hbGl6ZSA/IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChyZWxhdGl2ZVBhcnRzLnBhdGgpIDogcmVsYXRpdmVQYXJ0cy5wYXRoO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKGJ1aWx0UGFydHMpO1xyXG4gICAgfSxcclxuICAgIHBhcnNlVVJMOiBmdW5jdGlvbih1cmwpIHtcclxuICAgICAgdmFyIHBhcnRzID0gVVJMX1JFR0VYLmV4ZWModXJsKTtcclxuICAgICAgaWYgKCFwYXJ0cykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc2NoZW1lOiBwYXJ0c1sxXSB8fCAnJyxcclxuICAgICAgICBuZXRMb2M6IHBhcnRzWzJdIHx8ICcnLFxyXG4gICAgICAgIHBhdGg6IHBhcnRzWzNdIHx8ICcnLFxyXG4gICAgICAgIHBhcmFtczogcGFydHNbNF0gfHwgJycsXHJcbiAgICAgICAgcXVlcnk6IHBhcnRzWzVdIHx8ICcnLFxyXG4gICAgICAgIGZyYWdtZW50OiBwYXJ0c1s2XSB8fCAnJ1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIG5vcm1hbGl6ZVBhdGg6IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgLy8gVGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIGFyZVxyXG4gICAgICAvLyB0aGVuIGFwcGxpZWQsIGluIG9yZGVyLCB0byB0aGUgbmV3IHBhdGg6XHJcbiAgICAgIC8vIDZhKSBBbGwgb2NjdXJyZW5jZXMgb2YgXCIuL1wiLCB3aGVyZSBcIi5cIiBpcyBhIGNvbXBsZXRlIHBhdGhcclxuICAgICAgLy8gc2VnbWVudCwgYXJlIHJlbW92ZWQuXHJcbiAgICAgIC8vIDZiKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCIuXCIgYXMgYSBjb21wbGV0ZSBwYXRoIHNlZ21lbnQsXHJcbiAgICAgIC8vIHRoYXQgXCIuXCIgaXMgcmVtb3ZlZC5cclxuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKS5yZXBsYWNlKFNMQVNIX0RPVF9SRUdFWCwgJycpO1xyXG4gICAgICAvLyA2YykgQWxsIG9jY3VycmVuY2VzIG9mIFwiPHNlZ21lbnQ+Ly4uL1wiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxyXG4gICAgICAvLyBjb21wbGV0ZSBwYXRoIHNlZ21lbnQgbm90IGVxdWFsIHRvIFwiLi5cIiwgYXJlIHJlbW92ZWQuXHJcbiAgICAgIC8vIFJlbW92YWwgb2YgdGhlc2UgcGF0aCBzZWdtZW50cyBpcyBwZXJmb3JtZWQgaXRlcmF0aXZlbHksXHJcbiAgICAgIC8vIHJlbW92aW5nIHRoZSBsZWZ0bW9zdCBtYXRjaGluZyBwYXR0ZXJuIG9uIGVhY2ggaXRlcmF0aW9uLFxyXG4gICAgICAvLyB1bnRpbCBubyBtYXRjaGluZyBwYXR0ZXJuIHJlbWFpbnMuXHJcbiAgICAgIC8vIDZkKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCI8c2VnbWVudD4vLi5cIiwgd2hlcmUgPHNlZ21lbnQ+IGlzIGFcclxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIHRoYXRcclxuICAgICAgLy8gXCI8c2VnbWVudD4vLi5cIiBpcyByZW1vdmVkLlxyXG4gICAgICB3aGlsZSAocGF0aC5sZW5ndGggIT09IChwYXRoID0gcGF0aC5yZXBsYWNlKFNMQVNIX0RPVF9ET1RfUkVHRVgsICcnKSkubGVuZ3RoKSB7fSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgICAgcmV0dXJuIHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICBidWlsZFVSTEZyb21QYXJ0czogZnVuY3Rpb24ocGFydHMpIHtcclxuICAgICAgcmV0dXJuIHBhcnRzLnNjaGVtZSArIHBhcnRzLm5ldExvYyArIHBhcnRzLnBhdGggKyBwYXJ0cy5wYXJhbXMgKyBwYXJ0cy5xdWVyeSArIHBhcnRzLmZyYWdtZW50O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcbiAgaWYodHJ1ZSlcclxuICAgIG1vZHVsZS5leHBvcnRzID0gVVJMVG9vbGtpdDtcclxuICBlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcclxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBVUkxUb29sa2l0OyB9KTtcclxuICBlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JylcclxuICAgIGV4cG9ydHNbXCJVUkxUb29sa2l0XCJdID0gVVJMVG9vbGtpdDtcclxuICBlbHNlXHJcbiAgICByb290W1wiVVJMVG9vbGtpdFwiXSA9IFVSTFRvb2xraXQ7XHJcbn0pKHRoaXMpO1xyXG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2V2ZW50cy5qc1xudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZXJyb3JzLmpzXG52YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY3J5cHQvYWVzLWNyeXB0by5qc1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEFFU0NyeXB0byA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQUVTQ3J5cHRvKHN1YnRsZSwgaXYpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQUVTQ3J5cHRvKTtcblxuICAgIHRoaXMuc3VidGxlID0gc3VidGxlO1xuICAgIHRoaXMuYWVzSVYgPSBpdjtcbiAgfVxuXG4gIEFFU0NyeXB0by5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uIGRlY3J5cHQoZGF0YSwga2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuc3VidGxlLmRlY3J5cHQoeyBuYW1lOiAnQUVTLUNCQycsIGl2OiB0aGlzLmFlc0lWIH0sIGtleSwgZGF0YSk7XG4gIH07XG5cbiAgcmV0dXJuIEFFU0NyeXB0bztcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWVzX2NyeXB0byA9IChBRVNDcnlwdG8pO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY3J5cHQvZmFzdC1hZXMta2V5LmpzXG5mdW5jdGlvbiBmYXN0X2Flc19rZXlfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEZhc3RBRVNLZXkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZhc3RBRVNLZXkoc3VidGxlLCBrZXkpIHtcbiAgICBmYXN0X2Flc19rZXlfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhc3RBRVNLZXkpO1xuXG4gICAgdGhpcy5zdWJ0bGUgPSBzdWJ0bGU7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gIH1cblxuICBGYXN0QUVTS2V5LnByb3RvdHlwZS5leHBhbmRLZXkgPSBmdW5jdGlvbiBleHBhbmRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VidGxlLmltcG9ydEtleSgncmF3JywgdGhpcy5rZXksIHsgbmFtZTogJ0FFUy1DQkMnIH0sIGZhbHNlLCBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddKTtcbiAgfTtcblxuICByZXR1cm4gRmFzdEFFU0tleTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZmFzdF9hZXNfa2V5ID0gKEZhc3RBRVNLZXkpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY3J5cHQvYWVzLWRlY3J5cHRvci5qc1xuZnVuY3Rpb24gYWVzX2RlY3J5cHRvcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQUVTRGVjcnlwdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBRVNEZWNyeXB0b3IoKSB7XG4gICAgYWVzX2RlY3J5cHRvcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQUVTRGVjcnlwdG9yKTtcblxuICAgIC8vIFN0YXRpYyBhZnRlciBydW5uaW5nIGluaXRUYWJsZVxuICAgIHRoaXMucmNvbiA9IFsweDAsIDB4MSwgMHgyLCAweDQsIDB4OCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNl07XG4gICAgdGhpcy5zdWJNaXggPSBbbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NildO1xuICAgIHRoaXMuaW52U3ViTWl4ID0gW25ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpXTtcbiAgICB0aGlzLnNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICB0aGlzLmludlNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcblxuICAgIC8vIENoYW5nZXMgZHVyaW5nIHJ1bnRpbWVcbiAgICB0aGlzLmtleSA9IG5ldyBVaW50MzJBcnJheSgwKTtcblxuICAgIHRoaXMuaW5pdFRhYmxlKCk7XG4gIH1cblxuICAvLyBVc2luZyB2aWV3LmdldFVpbnQzMigpIGFsc28gc3dhcHMgdGhlIGJ5dGUgb3JkZXIuXG5cblxuICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyA9IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhhcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIG5ld0FycmF5W2ldID0gdmlldy5nZXRVaW50MzIoaSAqIDQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH07XG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5pbml0VGFibGUgPSBmdW5jdGlvbiBpbml0VGFibGUoKSB7XG4gICAgdmFyIHNCb3ggPSB0aGlzLnNCb3g7XG4gICAgdmFyIGludlNCb3ggPSB0aGlzLmludlNCb3g7XG4gICAgdmFyIHN1Yk1peCA9IHRoaXMuc3ViTWl4O1xuICAgIHZhciBzdWJNaXgwID0gc3ViTWl4WzBdO1xuICAgIHZhciBzdWJNaXgxID0gc3ViTWl4WzFdO1xuICAgIHZhciBzdWJNaXgyID0gc3ViTWl4WzJdO1xuICAgIHZhciBzdWJNaXgzID0gc3ViTWl4WzNdO1xuICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICB2YXIgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgIHZhciBkID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB4aSA9IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgZFtpXSA9IGkgPDwgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRbaV0gPSBpIDw8IDEgXiAweDExYjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgIHZhciBzeCA9IHhpIF4geGkgPDwgMSBeIHhpIDw8IDIgXiB4aSA8PCAzIF4geGkgPDwgNDtcbiAgICAgIHN4ID0gc3ggPj4+IDggXiBzeCAmIDB4ZmYgXiAweDYzO1xuICAgICAgc0JveFt4XSA9IHN4O1xuICAgICAgaW52U0JveFtzeF0gPSB4O1xuXG4gICAgICAvLyBDb21wdXRlIG11bHRpcGxpY2F0aW9uXG4gICAgICB2YXIgeDIgPSBkW3hdO1xuICAgICAgdmFyIHg0ID0gZFt4Ml07XG4gICAgICB2YXIgeDggPSBkW3g0XTtcblxuICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgIHZhciB0ID0gZFtzeF0gKiAweDEwMSBeIHN4ICogMHgxMDEwMTAwO1xuICAgICAgc3ViTWl4MFt4XSA9IHQgPDwgMjQgfCB0ID4+PiA4O1xuICAgICAgc3ViTWl4MVt4XSA9IHQgPDwgMTYgfCB0ID4+PiAxNjtcbiAgICAgIHN1Yk1peDJbeF0gPSB0IDw8IDggfCB0ID4+PiAyNDtcbiAgICAgIHN1Yk1peDNbeF0gPSB0O1xuXG4gICAgICAvLyBDb21wdXRlIGludiBzdWIgYnl0ZXMsIGludiBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgIHQgPSB4OCAqIDB4MTAxMDEwMSBeIHg0ICogMHgxMDAwMSBeIHgyICogMHgxMDEgXiB4ICogMHgxMDEwMTAwO1xuICAgICAgaW52U3ViTWl4MFtzeF0gPSB0IDw8IDI0IHwgdCA+Pj4gODtcbiAgICAgIGludlN1Yk1peDFbc3hdID0gdCA8PCAxNiB8IHQgPj4+IDE2O1xuICAgICAgaW52U3ViTWl4MltzeF0gPSB0IDw8IDggfCB0ID4+PiAyNDtcbiAgICAgIGludlN1Yk1peDNbc3hdID0gdDtcblxuICAgICAgLy8gQ29tcHV0ZSBuZXh0IGNvdW50ZXJcbiAgICAgIGlmICgheCkge1xuICAgICAgICB4ID0geGkgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXTtcbiAgICAgICAgeGkgXj0gZFtkW3hpXV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gZXhwYW5kS2V5KGtleUJ1ZmZlcikge1xuICAgIC8vIGNvbnZlcnQga2V5QnVmZmVyIHRvIFVpbnQzMkFycmF5XG4gICAgdmFyIGtleSA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGtleUJ1ZmZlcik7XG4gICAgdmFyIHNhbWVLZXkgPSB0cnVlO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGtleS5sZW5ndGggJiYgc2FtZUtleSkge1xuICAgICAgc2FtZUtleSA9IGtleVtvZmZzZXRdID09PSB0aGlzLmtleVtvZmZzZXRdO1xuICAgICAgb2Zmc2V0Kys7XG4gICAgfVxuXG4gICAgaWYgKHNhbWVLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB2YXIga2V5U2l6ZSA9IHRoaXMua2V5U2l6ZSA9IGtleS5sZW5ndGg7XG5cbiAgICBpZiAoa2V5U2l6ZSAhPT0gNCAmJiBrZXlTaXplICE9PSA2ICYmIGtleVNpemUgIT09IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZXMga2V5IHNpemU9JyArIGtleVNpemUpO1xuICAgIH1cblxuICAgIHZhciBrc1Jvd3MgPSB0aGlzLmtzUm93cyA9IChrZXlTaXplICsgNiArIDEpICogNDtcbiAgICB2YXIga3NSb3cgPSB2b2lkIDA7XG4gICAgdmFyIGludktzUm93ID0gdm9pZCAwO1xuXG4gICAgdmFyIGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgIHZhciBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKTtcbiAgICB2YXIgc2JveCA9IHRoaXMuc0JveDtcbiAgICB2YXIgcmNvbiA9IHRoaXMucmNvbjtcblxuICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICB2YXIgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgIHZhciBwcmV2ID0gdm9pZCAwO1xuICAgIHZhciB0ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgICBpZiAoa3NSb3cgPCBrZXlTaXplKSB7XG4gICAgICAgIHByZXYgPSBrZXlTY2hlZHVsZVtrc1Jvd10gPSBrZXlba3NSb3ddO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHQgPSBwcmV2O1xuXG4gICAgICBpZiAoa3NSb3cgJSBrZXlTaXplID09PSAwKSB7XG4gICAgICAgIC8vIFJvdCB3b3JkXG4gICAgICAgIHQgPSB0IDw8IDggfCB0ID4+PiAyNDtcblxuICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICB0ID0gc2JveFt0ID4+PiAyNF0gPDwgMjQgfCBzYm94W3QgPj4+IDE2ICYgMHhmZl0gPDwgMTYgfCBzYm94W3QgPj4+IDggJiAweGZmXSA8PCA4IHwgc2JveFt0ICYgMHhmZl07XG5cbiAgICAgICAgLy8gTWl4IFJjb25cbiAgICAgICAgdCBePSByY29uW2tzUm93IC8ga2V5U2l6ZSB8IDBdIDw8IDI0O1xuICAgICAgfSBlbHNlIGlmIChrZXlTaXplID4gNiAmJiBrc1JvdyAlIGtleVNpemUgPT09IDQpIHtcbiAgICAgICAgLy8gU3ViIHdvcmRcbiAgICAgICAgdCA9IHNib3hbdCA+Pj4gMjRdIDw8IDI0IHwgc2JveFt0ID4+PiAxNiAmIDB4ZmZdIDw8IDE2IHwgc2JveFt0ID4+PiA4ICYgMHhmZl0gPDwgOCB8IHNib3hbdCAmIDB4ZmZdO1xuICAgICAgfVxuXG4gICAgICBrZXlTY2hlZHVsZVtrc1Jvd10gPSBwcmV2ID0gKGtleVNjaGVkdWxlW2tzUm93IC0ga2V5U2l6ZV0gXiB0KSA+Pj4gMDtcbiAgICB9XG5cbiAgICBmb3IgKGludktzUm93ID0gMDsgaW52S3NSb3cgPCBrc1Jvd3M7IGludktzUm93KyspIHtcbiAgICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3c7XG4gICAgICBpZiAoaW52S3NSb3cgJiAzKSB7XG4gICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3cgLSA0XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0KSB7XG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBpbnZTdWJNaXgwW3Nib3hbdCA+Pj4gMjRdXSBeIGludlN1Yk1peDFbc2JveFt0ID4+PiAxNiAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFt0ID4+PiA4ICYgMHhmZl1dIF4gaW52U3ViTWl4M1tzYm94W3QgJiAweGZmXV07XG4gICAgICB9XG5cbiAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cblxuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUubmV0d29ya1RvSG9zdE9yZGVyU3dhcCA9IGZ1bmN0aW9uIG5ldHdvcmtUb0hvc3RPcmRlclN3YXAod29yZCkge1xuICAgIHJldHVybiB3b3JkIDw8IDI0IHwgKHdvcmQgJiAweGZmMDApIDw8IDggfCAod29yZCAmIDB4ZmYwMDAwKSA+PiA4IHwgd29yZCA+Pj4gMjQ7XG4gIH07XG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gZGVjcnlwdChpbnB1dEFycmF5QnVmZmVyLCBvZmZzZXQsIGFlc0lWKSB7XG4gICAgdmFyIG5Sb3VuZHMgPSB0aGlzLmtleVNpemUgKyA2O1xuICAgIHZhciBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGU7XG4gICAgdmFyIGludlNCT1ggPSB0aGlzLmludlNCb3g7XG5cbiAgICB2YXIgaW52U3ViTWl4ID0gdGhpcy5pbnZTdWJNaXg7XG4gICAgdmFyIGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgdmFyIGludlN1Yk1peDIgPSBpbnZTdWJNaXhbMl07XG4gICAgdmFyIGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICB2YXIgaW5pdFZlY3RvciA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGFlc0lWKTtcbiAgICB2YXIgaW5pdFZlY3RvcjAgPSBpbml0VmVjdG9yWzBdO1xuICAgIHZhciBpbml0VmVjdG9yMSA9IGluaXRWZWN0b3JbMV07XG4gICAgdmFyIGluaXRWZWN0b3IyID0gaW5pdFZlY3RvclsyXTtcbiAgICB2YXIgaW5pdFZlY3RvcjMgPSBpbml0VmVjdG9yWzNdO1xuXG4gICAgdmFyIGlucHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEFycmF5QnVmZmVyKTtcbiAgICB2YXIgb3V0cHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEludDMyLmxlbmd0aCk7XG5cbiAgICB2YXIgdDAgPSB2b2lkIDAsXG4gICAgICAgIHQxID0gdm9pZCAwLFxuICAgICAgICB0MiA9IHZvaWQgMCxcbiAgICAgICAgdDMgPSB2b2lkIDA7XG4gICAgdmFyIHMwID0gdm9pZCAwLFxuICAgICAgICBzMSA9IHZvaWQgMCxcbiAgICAgICAgczIgPSB2b2lkIDAsXG4gICAgICAgIHMzID0gdm9pZCAwO1xuICAgIHZhciBpbnB1dFdvcmRzMCA9IHZvaWQgMCxcbiAgICAgICAgaW5wdXRXb3JkczEgPSB2b2lkIDAsXG4gICAgICAgIGlucHV0V29yZHMyID0gdm9pZCAwLFxuICAgICAgICBpbnB1dFdvcmRzMyA9IHZvaWQgMDtcblxuICAgIHZhciBrc1JvdywgaTtcbiAgICB2YXIgc3dhcFdvcmQgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXA7XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcbiAgICAgIGlucHV0V29yZHMwID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXRdKTtcbiAgICAgIGlucHV0V29yZHMxID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XG4gICAgICBpbnB1dFdvcmRzMiA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xuICAgICAgaW5wdXRXb3JkczMgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDNdKTtcblxuICAgICAgczAgPSBpbnB1dFdvcmRzMCBeIGludktleVNjaGVkdWxlWzBdO1xuICAgICAgczEgPSBpbnB1dFdvcmRzMyBeIGludktleVNjaGVkdWxlWzFdO1xuICAgICAgczIgPSBpbnB1dFdvcmRzMiBeIGludktleVNjaGVkdWxlWzJdO1xuICAgICAgczMgPSBpbnB1dFdvcmRzMSBeIGludktleVNjaGVkdWxlWzNdO1xuXG4gICAgICBrc1JvdyA9IDQ7XG5cbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcm91bmRzIG9mIGRlY3J5cHRpb25cbiAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcbiAgICAgICAgdDAgPSBpbnZTdWJNaXgwW3MwID4+PiAyNF0gXiBpbnZTdWJNaXgxW3MxID4+IDE2ICYgMHhmZl0gXiBpbnZTdWJNaXgyW3MyID4+IDggJiAweGZmXSBeIGludlN1Yk1peDNbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgdDEgPSBpbnZTdWJNaXgwW3MxID4+PiAyNF0gXiBpbnZTdWJNaXgxW3MyID4+IDE2ICYgMHhmZl0gXiBpbnZTdWJNaXgyW3MzID4+IDggJiAweGZmXSBeIGludlN1Yk1peDNbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICAgIHQyID0gaW52U3ViTWl4MFtzMiA+Pj4gMjRdIF4gaW52U3ViTWl4MVtzMyA+PiAxNiAmIDB4ZmZdIF4gaW52U3ViTWl4MltzMCA+PiA4ICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICB0MyA9IGludlN1Yk1peDBbczMgPj4+IDI0XSBeIGludlN1Yk1peDFbczAgPj4gMTYgJiAweGZmXSBeIGludlN1Yk1peDJbczEgPj4gOCAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgICAgIHMwID0gdDA7XG4gICAgICAgIHMxID0gdDE7XG4gICAgICAgIHMyID0gdDI7XG4gICAgICAgIHMzID0gdDM7XG5cbiAgICAgICAga3NSb3cgPSBrc1JvdyArIDQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFNoaWZ0IHJvd3MsIHN1YiBieXRlcywgYWRkIHJvdW5kIGtleVxuICAgICAgdDAgPSBpbnZTQk9YW3MwID4+PiAyNF0gPDwgMjQgXiBpbnZTQk9YW3MxID4+IDE2ICYgMHhmZl0gPDwgMTYgXiBpbnZTQk9YW3MyID4+IDggJiAweGZmXSA8PCA4IF4gaW52U0JPWFtzMyAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgdDEgPSBpbnZTQk9YW3MxID4+PiAyNF0gPDwgMjQgXiBpbnZTQk9YW3MyID4+IDE2ICYgMHhmZl0gPDwgMTYgXiBpbnZTQk9YW3MzID4+IDggJiAweGZmXSA8PCA4IF4gaW52U0JPWFtzMCAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAxXTtcbiAgICAgIHQyID0gaW52U0JPWFtzMiA+Pj4gMjRdIDw8IDI0IF4gaW52U0JPWFtzMyA+PiAxNiAmIDB4ZmZdIDw8IDE2IF4gaW52U0JPWFtzMCA+PiA4ICYgMHhmZl0gPDwgOCBeIGludlNCT1hbczEgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMl07XG4gICAgICB0MyA9IGludlNCT1hbczMgPj4+IDI0XSA8PCAyNCBeIGludlNCT1hbczAgPj4gMTYgJiAweGZmXSA8PCAxNiBeIGludlNCT1hbczEgPj4gOCAmIDB4ZmZdIDw8IDggXiBpbnZTQk9YW3MyICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xuICAgICAga3NSb3cgPSBrc1JvdyArIDM7XG5cbiAgICAgIC8vIFdyaXRlXG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXRdID0gc3dhcFdvcmQodDAgXiBpbml0VmVjdG9yMCk7XG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAxXSA9IHN3YXBXb3JkKHQzIF4gaW5pdFZlY3RvcjEpO1xuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMl0gPSBzd2FwV29yZCh0MiBeIGluaXRWZWN0b3IyKTtcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDNdID0gc3dhcFdvcmQodDEgXiBpbml0VmVjdG9yMyk7XG5cbiAgICAgIC8vIHJlc2V0IGluaXRWZWN0b3IgdG8gbGFzdCA0IHVuc2lnbmVkIGludFxuICAgICAgaW5pdFZlY3RvcjAgPSBpbnB1dFdvcmRzMDtcbiAgICAgIGluaXRWZWN0b3IxID0gaW5wdXRXb3JkczE7XG4gICAgICBpbml0VmVjdG9yMiA9IGlucHV0V29yZHMyO1xuICAgICAgaW5pdFZlY3RvcjMgPSBpbnB1dFdvcmRzMztcblxuICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgNDtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0SW50MzIuYnVmZmVyO1xuICB9O1xuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5rZXkgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5rZXlTaXplID0gdW5kZWZpbmVkO1xuICAgIHRoaXMua3NSb3dzID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5zQm94ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW52U0JveCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnN1Yk1peCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmludlN1Yk1peCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmtleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW52S2V5U2NoZWR1bGUgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLnJjb24gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgcmV0dXJuIEFFU0RlY3J5cHRvcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWVzX2RlY3J5cHRvciA9IChBRVNEZWNyeXB0b3IpO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy91dGlscy9sb2dnZXIuanNcbnZhciBsb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcbmZ1bmN0aW9uIGRlY3J5cHRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxuXG5cbi8qZ2xvYmFscyBzZWxmOiBmYWxzZSAqL1xuXG52YXIgZGVjcnlwdGVyX0RlY3J5cHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcpIHtcbiAgICBkZWNyeXB0ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY3J5cHRlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5sb2dFbmFibGVkID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgdmFyIGJyb3dzZXJDcnlwdG8gPSBjcnlwdG8gPyBjcnlwdG8gOiBzZWxmLmNyeXB0bztcbiAgICAgIHRoaXMuc3VidGxlID0gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0aGlzLmRpc2FibGVXZWJDcnlwdG8gPSAhdGhpcy5zdWJ0bGU7XG4gIH1cblxuICBEZWNyeXB0ZXIucHJvdG90eXBlLmlzU3luYyA9IGZ1bmN0aW9uIGlzU3luYygpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTO1xuICB9O1xuXG4gIERlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uIGRlY3J5cHQoZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuZGlzYWJsZVdlYkNyeXB0byAmJiB0aGlzLmNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUykge1xuICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0pTIEFFUyBkZWNyeXB0Jyk7XG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xuICAgICAgaWYgKCFkZWNyeXB0b3IpIHtcbiAgICAgICAgdGhpcy5kZWNyeXB0b3IgPSBkZWNyeXB0b3IgPSBuZXcgYWVzX2RlY3J5cHRvcigpO1xuICAgICAgfVxuICAgICAgZGVjcnlwdG9yLmV4cGFuZEtleShrZXkpO1xuICAgICAgY2FsbGJhY2soZGVjcnlwdG9yLmRlY3J5cHQoZGF0YSwgMCwgaXYpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1dlYkNyeXB0byBBRVMgZGVjcnlwdCcpO1xuICAgICAgICB0aGlzLmxvZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdWJ0bGUgPSB0aGlzLnN1YnRsZTtcbiAgICAgIGlmICh0aGlzLmtleSAhPT0ga2V5KSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhc3RBZXNLZXkgPSBuZXcgZmFzdF9hZXNfa2V5KHN1YnRsZSwga2V5KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5mYXN0QWVzS2V5LmV4cGFuZEtleSgpLnRoZW4oZnVuY3Rpb24gKGFlc0tleSkge1xuICAgICAgICAvLyBkZWNyeXB0IHVzaW5nIHdlYiBjcnlwdG9cbiAgICAgICAgdmFyIGNyeXB0byA9IG5ldyBhZXNfY3J5cHRvKHN1YnRsZSwgaXYpO1xuICAgICAgICBjcnlwdG8uZGVjcnlwdChkYXRhLCBhZXNLZXkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBfdGhpcy5vbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgX3RoaXMub25XZWJDcnlwdG9FcnJvcihlcnIsIGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBEZWNyeXB0ZXIucHJvdG90eXBlLm9uV2ViQ3J5cHRvRXJyb3IgPSBmdW5jdGlvbiBvbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVMpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnV2ViQ3J5cHRvIEVycm9yLCBkaXNhYmxlIFdlYkNyeXB0byBBUEknKTtcbiAgICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9IHRydWU7XG4gICAgICB0aGlzLmxvZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5kZWNyeXB0KGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2RlY3J5cHRpbmcgZXJyb3IgOiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKEV2ZW50LkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19ERUNSWVBUX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiBlcnIubWVzc2FnZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgRGVjcnlwdGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZGVjcnlwdG9yID0gdGhpcy5kZWNyeXB0b3I7XG4gICAgaWYgKGRlY3J5cHRvcikge1xuICAgICAgZGVjcnlwdG9yLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVjcnlwdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRGVjcnlwdGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjcnlwdF9kZWNyeXB0ZXIgPSAoZGVjcnlwdGVyX0RlY3J5cHRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9hZHRzLmpzXG4vKipcbiAqICBBRFRTIHBhcnNlciBoZWxwZXJcbiAqL1xuXG5cblxuZnVuY3Rpb24gZ2V0QXVkaW9Db25maWcob2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYykge1xuICB2YXIgYWR0c09iamVjdFR5cGUsXG4gICAgICAvLyA6aW50XG4gIGFkdHNTYW1wbGVpbmdJbmRleCxcbiAgICAgIC8vIDppbnRcbiAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4LFxuICAgICAgLy8gOmludFxuICBhZHRzQ2hhbmVsQ29uZmlnLFxuICAgICAgLy8gOmludFxuICBjb25maWcsXG4gICAgICB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksXG4gICAgICBtYW5pZmVzdENvZGVjID0gYXVkaW9Db2RlYyxcbiAgICAgIGFkdHNTYW1wbGVpbmdSYXRlcyA9IFs5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLCAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBdO1xuICAvLyBieXRlIDJcbiAgYWR0c09iamVjdFR5cGUgPSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweEMwKSA+Pj4gNikgKyAxO1xuICBhZHRzU2FtcGxlaW5nSW5kZXggPSAoZGF0YVtvZmZzZXQgKyAyXSAmIDB4M0MpID4+PiAyO1xuICBpZiAoYWR0c1NhbXBsZWluZ0luZGV4ID4gYWR0c1NhbXBsZWluZ1JhdGVzLmxlbmd0aCAtIDEpIHtcbiAgICBvYnNlcnZlci50cmlnZ2VyKEV2ZW50LkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiAnaW52YWxpZCBBRFRTIHNhbXBsaW5nIGluZGV4OicgKyBhZHRzU2FtcGxlaW5nSW5kZXggfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFkdHNDaGFuZWxDb25maWcgPSAoZGF0YVtvZmZzZXQgKyAyXSAmIDB4MDEpIDw8IDI7XG4gIC8vIGJ5dGUgM1xuICBhZHRzQ2hhbmVsQ29uZmlnIHw9IChkYXRhW29mZnNldCArIDNdICYgMHhDMCkgPj4+IDY7XG4gIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWFuaWZlc3QgY29kZWM6JyArIGF1ZGlvQ29kZWMgKyAnLEFEVFMgZGF0YTp0eXBlOicgKyBhZHRzT2JqZWN0VHlwZSArICcsc2FtcGxlaW5nSW5kZXg6JyArIGFkdHNTYW1wbGVpbmdJbmRleCArICdbJyArIGFkdHNTYW1wbGVpbmdSYXRlc1thZHRzU2FtcGxlaW5nSW5kZXhdICsgJ0h6XSxjaGFubmVsQ29uZmlnOicgKyBhZHRzQ2hhbmVsQ29uZmlnKTtcbiAgLy8gZmlyZWZveDogZnJlcSBsZXNzIHRoYW4gMjRrSHogPSBBQUMgU0JSIChIRS1BQUMpXG4gIGlmICgvZmlyZWZveC9pLnRlc3QodXNlckFnZW50KSkge1xuICAgIGlmIChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNikge1xuICAgICAgYWR0c09iamVjdFR5cGUgPSA1O1xuICAgICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleDtcbiAgICB9XG4gICAgLy8gQW5kcm9pZCA6IGFsd2F5cyB1c2UgQUFDXG4gIH0gZWxzZSBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSAhPT0gLTEpIHtcbiAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleDtcbiAgfSBlbHNlIHtcbiAgICAvKiAgZm9yIG90aGVyIGJyb3dzZXJzIChDaHJvbWUvVml2YWxkaS9PcGVyYSAuLi4pXG4gICAgICAgIGFsd2F5cyBmb3JjZSBhdWRpbyB0eXBlIHRvIGJlIEhFLUFBQyBTQlIsIGFzIHNvbWUgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgYXVkaW8gY29kZWMgc3dpdGNoIHByb3Blcmx5IChsaWtlIENocm9tZSAuLi4pXG4gICAgKi9cbiAgICBhZHRzT2JqZWN0VHlwZSA9IDU7XG4gICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgIC8vIGlmIChtYW5pZmVzdCBjb2RlYyBpcyBIRS1BQUMgb3IgSEUtQUFDdjIpIE9SIChtYW5pZmVzdCBjb2RlYyBub3Qgc3BlY2lmaWVkIEFORCBmcmVxdWVuY3kgbGVzcyB0aGFuIDI0a0h6KVxuICAgIGlmIChhdWRpb0NvZGVjICYmIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuMjknKSAhPT0gLTEgfHwgYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHx8ICFhdWRpb0NvZGVjICYmIGFkdHNTYW1wbGVpbmdJbmRleCA+PSA2KSB7XG4gICAgICAvLyBIRS1BQUMgdXNlcyBTQlIgKFNwZWN0cmFsIEJhbmQgUmVwbGljYXRpb24pICwgaGlnaCBmcmVxdWVuY2llcyBhcmUgY29uc3RydWN0ZWQgZnJvbSBsb3cgZnJlcXVlbmNpZXNcbiAgICAgIC8vIHRoZXJlIGlzIGEgZmFjdG9yIDIgYmV0d2VlbiBmcmFtZSBzYW1wbGUgcmF0ZSBhbmQgb3V0cHV0IHNhbXBsZSByYXRlXG4gICAgICAvLyBtdWx0aXBseSBmcmVxdWVuY3kgYnkgMiAoc2VlIHRhYmxlIGJlbG93LCBlcXVpdmFsZW50IHRvIHN1YnN0cmFjdCAzKVxuICAgICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ID0gYWR0c1NhbXBsZWluZ0luZGV4IC0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgKG1hbmlmZXN0IGNvZGVjIGlzIEFBQykgQU5EIChmcmVxdWVuY3kgbGVzcyB0aGFuIDI0a0h6IEFORCBuYiBjaGFubmVsIGlzIDEpIE9SIChtYW5pZmVzdCBjb2RlYyBub3Qgc3BlY2lmaWVkIGFuZCBtb25vIGF1ZGlvKVxuICAgICAgLy8gQ2hyb21lIGZhaWxzIHRvIHBsYXkgYmFjayB3aXRoIGxvdyBmcmVxdWVuY3kgQUFDIExDIG1vbm8gd2hlbiBpbml0aWFsaXplZCB3aXRoIEhFLUFBQy4gIFRoaXMgaXMgbm90IGEgcHJvYmxlbSB3aXRoIHN0ZXJlby5cbiAgICAgIGlmIChhdWRpb0NvZGVjICYmIGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC4yJykgIT09IC0xICYmIChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNiAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxIHx8IC92aXZhbGRpL2kudGVzdCh1c2VyQWdlbnQpKSB8fCAhYXVkaW9Db2RlYyAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxKSB7XG4gICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgfVxuICAgICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ID0gYWR0c1NhbXBsZWluZ0luZGV4O1xuICAgIH1cbiAgfVxuICAvKiByZWZlciB0byBodHRwOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocD90aXRsZT1NUEVHLTRfQXVkaW8jQXVkaW9fU3BlY2lmaWNfQ29uZmlnXG4gICAgICBJU08gMTQ0OTYtMyAoQUFDKS5wZGYgLSBUYWJsZSAxLjEzIOKAlCBTeW50YXggb2YgQXVkaW9TcGVjaWZpY0NvbmZpZygpXG4gICAgQXVkaW8gUHJvZmlsZSAvIEF1ZGlvIE9iamVjdCBUeXBlXG4gICAgMDogTnVsbFxuICAgIDE6IEFBQyBNYWluXG4gICAgMjogQUFDIExDIChMb3cgQ29tcGxleGl0eSlcbiAgICAzOiBBQUMgU1NSIChTY2FsYWJsZSBTYW1wbGUgUmF0ZSlcbiAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICA1OiBTQlIgKFNwZWN0cmFsIEJhbmQgUmVwbGljYXRpb24pXG4gICAgNjogQUFDIFNjYWxhYmxlXG4gICBzYW1wbGluZyBmcmVxXG4gICAgMDogOTYwMDAgSHpcbiAgICAxOiA4ODIwMCBIelxuICAgIDI6IDY0MDAwIEh6XG4gICAgMzogNDgwMDAgSHpcbiAgICA0OiA0NDEwMCBIelxuICAgIDU6IDMyMDAwIEh6XG4gICAgNjogMjQwMDAgSHpcbiAgICA3OiAyMjA1MCBIelxuICAgIDg6IDE2MDAwIEh6XG4gICAgOTogMTIwMDAgSHpcbiAgICAxMDogMTEwMjUgSHpcbiAgICAxMTogODAwMCBIelxuICAgIDEyOiA3MzUwIEh6XG4gICAgMTM6IFJlc2VydmVkXG4gICAgMTQ6IFJlc2VydmVkXG4gICAgMTU6IGZyZXF1ZW5jeSBpcyB3cml0dGVuIGV4cGxpY3RseVxuICAgIENoYW5uZWwgQ29uZmlndXJhdGlvbnNcbiAgICBUaGVzZSBhcmUgdGhlIGNoYW5uZWwgY29uZmlndXJhdGlvbnM6XG4gICAgMDogRGVmaW5lZCBpbiBBT1QgU3BlY2lmYyBDb25maWdcbiAgICAxOiAxIGNoYW5uZWw6IGZyb250LWNlbnRlclxuICAgIDI6IDIgY2hhbm5lbHM6IGZyb250LWxlZnQsIGZyb250LXJpZ2h0XG4gICovXG4gIC8vIGF1ZGlvT2JqZWN0VHlwZSA9IHByb2ZpbGUgPT4gcHJvZmlsZSwgdGhlIE1QRUctNCBBdWRpbyBPYmplY3QgVHlwZSBtaW51cyAxXG4gIGNvbmZpZ1swXSA9IGFkdHNPYmplY3RUeXBlIDw8IDM7XG4gIC8vIHNhbXBsaW5nRnJlcXVlbmN5SW5kZXhcbiAgY29uZmlnWzBdIHw9IChhZHRzU2FtcGxlaW5nSW5kZXggJiAweDBFKSA+PiAxO1xuICBjb25maWdbMV0gfD0gKGFkdHNTYW1wbGVpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gIC8vIGNoYW5uZWxDb25maWd1cmF0aW9uXG4gIGNvbmZpZ1sxXSB8PSBhZHRzQ2hhbmVsQ29uZmlnIDw8IDM7XG4gIGlmIChhZHRzT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgIC8vIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleFxuICAgIGNvbmZpZ1sxXSB8PSAoYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ICYgMHgwRSkgPj4gMTtcbiAgICBjb25maWdbMl0gPSAoYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAvLyBhZHRzT2JqZWN0VHlwZSAoZm9yY2UgdG8gMiwgY2hyb21lIGlzIGNoZWNraW5nIHRoYXQgb2JqZWN0IHR5cGUgaXMgbGVzcyB0aGFuIDUgPz8/XG4gICAgLy8gICAgaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy5naXQvKy9tYXN0ZXIvbWVkaWEvZm9ybWF0cy9tcDQvYWFjLmNjXG4gICAgY29uZmlnWzJdIHw9IDIgPDwgMjtcbiAgICBjb25maWdbM10gPSAwO1xuICB9XG4gIHJldHVybiB7IGNvbmZpZzogY29uZmlnLCBzYW1wbGVyYXRlOiBhZHRzU2FtcGxlaW5nUmF0ZXNbYWR0c1NhbXBsZWluZ0luZGV4XSwgY2hhbm5lbENvdW50OiBhZHRzQ2hhbmVsQ29uZmlnLCBjb2RlYzogJ21wNGEuNDAuJyArIGFkdHNPYmplY3RUeXBlLCBtYW5pZmVzdENvZGVjOiBtYW5pZmVzdENvZGVjIH07XG59XG5cbmZ1bmN0aW9uIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpIHtcbiAgcmV0dXJuIGRhdGFbb2Zmc2V0XSA9PT0gMHhmZiAmJiAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4ZjYpID09PSAweGYwO1xufVxuXG5mdW5jdGlvbiBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KSB7XG4gIHJldHVybiAhIShkYXRhW29mZnNldCArIDFdICYgMHgwMSkgPyA3IDogOTtcbn1cblxuZnVuY3Rpb24gZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCkge1xuICByZXR1cm4gKGRhdGFbb2Zmc2V0ICsgM10gJiAweDAzKSA8PCAxMSB8IGRhdGFbb2Zmc2V0ICsgNF0gPDwgMyB8IChkYXRhW29mZnNldCArIDVdICYgMHhFMCkgPj4+IDU7XG59XG5cbmZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAvLyBMb29rIGZvciBBRFRTIGhlYWRlciB8IDExMTEgMTExMSB8IDExMTEgWDAwWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDFcbiAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyAwIGZvciBBRFRTXG4gIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIGlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhZHRzX3Byb2JlKGRhdGEsIG9mZnNldCkge1xuICAvLyBzYW1lIGFzIGlzSGVhZGVyIGJ1dCB3ZSBhbHNvIGNoZWNrIHRoYXQgQURUUyBmcmFtZSBmb2xsb3dzIGxhc3QgQURUUyBmcmFtZVxuICAvLyBvciBlbmQgb2YgZGF0YSBpcyByZWFjaGVkXG4gIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAvLyBBRFRTIGhlYWRlciBMZW5ndGhcbiAgICB2YXIgaGVhZGVyTGVuZ3RoID0gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgLy8gQURUUyBmcmFtZSBMZW5ndGhcbiAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXJMZW5ndGg7XG4gICAgaWYgKG9mZnNldCArIDUgPCBkYXRhLmxlbmd0aCkge1xuICAgICAgZnJhbWVMZW5ndGggPSBnZXRGdWxsRnJhbWVMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICB9XG4gICAgdmFyIG5ld09mZnNldCA9IG9mZnNldCArIGZyYW1lTGVuZ3RoO1xuICAgIGlmIChuZXdPZmZzZXQgPT09IGRhdGEubGVuZ3RoIHx8IG5ld09mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgbmV3T2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdFRyYWNrQ29uZmlnKHRyYWNrLCBvYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCBhdWRpb0NvZGVjKSB7XG4gIGlmICghdHJhY2suc2FtcGxlcmF0ZSkge1xuICAgIHZhciBjb25maWcgPSBnZXRBdWRpb0NvbmZpZyhvYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCBhdWRpb0NvZGVjKTtcbiAgICB0cmFjay5jb25maWcgPSBjb25maWcuY29uZmlnO1xuICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBjb25maWcuc2FtcGxlcmF0ZTtcbiAgICB0cmFjay5jaGFubmVsQ291bnQgPSBjb25maWcuY2hhbm5lbENvdW50O1xuICAgIHRyYWNrLmNvZGVjID0gY29uZmlnLmNvZGVjO1xuICAgIHRyYWNrLm1hbmlmZXN0Q29kZWMgPSBjb25maWcubWFuaWZlc3RDb2RlYztcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3BhcnNlZCBjb2RlYzonICsgdHJhY2suY29kZWMgKyAnLHJhdGU6JyArIGNvbmZpZy5zYW1wbGVyYXRlICsgJyxuYiBjaGFubmVsOicgKyBjb25maWcuY2hhbm5lbENvdW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGcmFtZUR1cmF0aW9uKHNhbXBsZXJhdGUpIHtcbiAgcmV0dXJuIDEwMjQgKiA5MDAwMCAvIHNhbXBsZXJhdGU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRnJhbWVIZWFkZXIoZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgsIGZyYW1lRHVyYXRpb24pIHtcbiAgdmFyIGhlYWRlckxlbmd0aCwgZnJhbWVMZW5ndGgsIHN0YW1wO1xuICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG5cbiAgLy8gVGhlIHByb3RlY3Rpb24gc2tpcCBiaXQgdGVsbHMgdXMgaWYgd2UgaGF2ZSAyIGJ5dGVzIG9mIENSQyBkYXRhIGF0IHRoZSBlbmQgb2YgdGhlIEFEVFMgaGVhZGVyXG4gIGhlYWRlckxlbmd0aCA9IGdldEhlYWRlckxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICAvLyByZXRyaWV2ZSBmcmFtZSBzaXplXG4gIGZyYW1lTGVuZ3RoID0gZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gIGZyYW1lTGVuZ3RoIC09IGhlYWRlckxlbmd0aDtcblxuICBpZiAoZnJhbWVMZW5ndGggPiAwICYmIG9mZnNldCArIGhlYWRlckxlbmd0aCArIGZyYW1lTGVuZ3RoIDw9IGxlbmd0aCkge1xuICAgIHN0YW1wID0gcHRzICsgZnJhbWVJbmRleCAqIGZyYW1lRHVyYXRpb247XG4gICAgLy9sb2dnZXIubG9nKGBBQUMgZnJhbWUsIG9mZnNldC9sZW5ndGgvdG90YWwvcHRzOiR7b2Zmc2V0K2hlYWRlckxlbmd0aH0vJHtmcmFtZUxlbmd0aH0vJHtkYXRhLmJ5dGVMZW5ndGh9LyR7KHN0YW1wLzkwKS50b0ZpeGVkKDApfWApO1xuICAgIHJldHVybiB7IGhlYWRlckxlbmd0aDogaGVhZGVyTGVuZ3RoLCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGgsIHN0YW1wOiBzdGFtcCB9O1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KSB7XG4gIHZhciBmcmFtZUR1cmF0aW9uID0gZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcbiAgdmFyIGhlYWRlciA9IHBhcnNlRnJhbWVIZWFkZXIoZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgsIGZyYW1lRHVyYXRpb24pO1xuICBpZiAoaGVhZGVyKSB7XG4gICAgdmFyIHN0YW1wID0gaGVhZGVyLnN0YW1wO1xuICAgIHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXIuaGVhZGVyTGVuZ3RoO1xuICAgIHZhciBmcmFtZUxlbmd0aCA9IGhlYWRlci5mcmFtZUxlbmd0aDtcblxuICAgIC8vbG9nZ2VyLmxvZyhgQUFDIGZyYW1lLCBvZmZzZXQvbGVuZ3RoL3RvdGFsL3B0czoke29mZnNldCtoZWFkZXJMZW5ndGh9LyR7ZnJhbWVMZW5ndGh9LyR7ZGF0YS5ieXRlTGVuZ3RofS8keyhzdGFtcC85MCkudG9GaXhlZCgwKX1gKTtcbiAgICB2YXIgYWFjU2FtcGxlID0ge1xuICAgICAgdW5pdDogZGF0YS5zdWJhcnJheShvZmZzZXQgKyBoZWFkZXJMZW5ndGgsIG9mZnNldCArIGhlYWRlckxlbmd0aCArIGZyYW1lTGVuZ3RoKSxcbiAgICAgIHB0czogc3RhbXAsXG4gICAgICBkdHM6IHN0YW1wXG4gICAgfTtcblxuICAgIHRyYWNrLnNhbXBsZXMucHVzaChhYWNTYW1wbGUpO1xuICAgIHRyYWNrLmxlbiArPSBmcmFtZUxlbmd0aDtcblxuICAgIHJldHVybiB7IHNhbXBsZTogYWFjU2FtcGxlLCBsZW5ndGg6IGZyYW1lTGVuZ3RoICsgaGVhZGVyTGVuZ3RoIH07XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kZW11eC9pZDMuanNcbnZhciBpZDMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9hYWNkZW11eGVyLmpzXG5mdW5jdGlvbiBhYWNkZW11eGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQUFDIGRlbXV4ZXJcbiAqL1xuXG5cblxuXG52YXIgYWFjZGVtdXhlcl9BQUNEZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBQUNEZW11eGVyKG9ic2VydmVyLCByZW11eGVyLCBjb25maWcpIHtcbiAgICBhYWNkZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBBQUNEZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICB9XG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHJlc2V0SW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGR1cmF0aW9uKSB7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IHsgY29udGFpbmVyOiAnYXVkaW8vYWR0cycsIHR5cGU6ICdhdWRpbycsIGlkOiAwLCBzZXF1ZW5jZU51bWJlcjogMCwgaXNBQUM6IHRydWUsIHNhbXBsZXM6IFtdLCBsZW46IDAsIG1hbmlmZXN0Q29kZWM6IGF1ZGlvQ29kZWMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH07XG4gIH07XG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIEFBQ0RlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGZvciB0aGUgQURUUyBzeW5jIHdvcmRcbiAgICAvLyBMb29rIGZvciBBRFRTIGhlYWRlciB8IDExMTEgMTExMSB8IDExMTEgWDAwWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDFcbiAgICAvLyBMYXllciBiaXRzIChwb3NpdGlvbiAxNCBhbmQgMTUpIGluIGhlYWRlciBzaG91bGQgYmUgYWx3YXlzIDAgZm9yIEFEVFNcbiAgICAvLyBNb3JlIGluZm8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgICB2YXIgaWQzRGF0YSA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRJRDNEYXRhKGRhdGEsIDApIHx8IFtdO1xuICAgIHZhciBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW5ndGg7IG9mZnNldCsrKSB7XG4gICAgICBpZiAoYWR0c19wcm9iZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnQURUUyBzeW5jIHdvcmQgZm91bmQgIScpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcblxuXG4gIEFBQ0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrO1xuICAgIHZhciBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgMCkgfHwgW107XG4gICAgdmFyIHRpbWVzdGFtcCA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRUaW1lU3RhbXAoaWQzRGF0YSk7XG4gICAgdmFyIHB0cyA9IHRpbWVzdGFtcCA/IDkwICogdGltZXN0YW1wIDogdGltZU9mZnNldCAqIDkwMDAwO1xuICAgIHZhciBmcmFtZUluZGV4ID0gMDtcbiAgICB2YXIgc3RhbXAgPSBwdHM7XG4gICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcblxuICAgIHZhciBpZDNTYW1wbGVzID0gW3sgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9XTtcblxuICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGggLSAxKSB7XG4gICAgICBpZiAoaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiBvZmZzZXQgKyA1IDwgbGVuZ3RoKSB7XG4gICAgICAgIGluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0cmFjay5tYW5pZmVzdENvZGVjKTtcbiAgICAgICAgdmFyIGZyYW1lID0gYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICBzdGFtcCA9IGZyYW1lLnNhbXBsZS5wdHM7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnVW5hYmxlIHRvIHBhcnNlIEFBQyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCBvZmZzZXQpO1xuICAgICAgICBpZDNTYW1wbGVzLnB1c2goeyBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wLCBkYXRhOiBpZDNEYXRhIH0pO1xuICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL25vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICB9O1xuXG4gIEFBQ0RlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge307XG5cbiAgcmV0dXJuIEFBQ0RlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGFhY2RlbXV4ZXIgPSAoYWFjZGVtdXhlcl9BQUNEZW11eGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanNcbmZ1bmN0aW9uIG1wNGRlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBNUDQgZGVtdXhlclxuICovXG4vL2ltcG9ydCB7bG9nZ2VyfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG5cbnZhciBVSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcblxudmFyIG1wNGRlbXV4ZXJfTVA0RGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVA0RGVtdXhlcihvYnNlcnZlciwgcmVtdXhlcikge1xuICAgIG1wNGRlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QNERlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gIH1cblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIHJlc2V0VGltZVN0YW1wKGluaXRQVFMpIHtcbiAgICB0aGlzLmluaXRQVFMgPSBpbml0UFRTO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIC8vanNoaW50IHVudXNlZDpmYWxzZVxuICAgIGlmIChpbml0U2VnbWVudCAmJiBpbml0U2VnbWVudC5ieXRlTGVuZ3RoKSB7XG4gICAgICB2YXIgaW5pdERhdGEgPSB0aGlzLmluaXREYXRhID0gTVA0RGVtdXhlci5wYXJzZUluaXRTZWdtZW50KGluaXRTZWdtZW50KTtcbiAgICAgIHZhciB0cmFja3MgPSB7fTtcbiAgICAgIGlmIChpbml0RGF0YS5hdWRpbyAmJiBpbml0RGF0YS52aWRlbykge1xuICAgICAgICB0cmFja3MuYXVkaW92aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMgKyAnLCcgKyB2aWRlb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbml0RGF0YS5hdWRpbykge1xuICAgICAgICAgIHRyYWNrcy5hdWRpbyA9IHsgY29udGFpbmVyOiAnYXVkaW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMsIGluaXRTZWdtZW50OiBkdXJhdGlvbiA/IGluaXRTZWdtZW50IDogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0RGF0YS52aWRlbykge1xuICAgICAgICAgIHRyYWNrcy52aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IHZpZGVvQ29kZWMsIGluaXRTZWdtZW50OiBkdXJhdGlvbiA/IGluaXRTZWdtZW50IDogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICB9XG4gICAgICBpZiAodmlkZW9Db2RlYykge1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSB2aWRlb0NvZGVjO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBNUDREZW11eGVyLnByb2JlID0gZnVuY3Rpb24gcHJvYmUoZGF0YSkge1xuICAgIGlmIChkYXRhLmxlbmd0aCA+PSA4KSB7XG4gICAgICB2YXIgZGF0YVR5cGUgPSBNUDREZW11eGVyLmJpbjJzdHIoZGF0YS5zdWJhcnJheSg0LCA4KSk7XG4gICAgICByZXR1cm4gWydtb29mJywgJ2Z0eXAnLCAnc3R5cCddLmluZGV4T2YoZGF0YVR5cGUpID49IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBNUDREZW11eGVyLmJpbjJzdHIgPSBmdW5jdGlvbiBiaW4yc3RyKGJ1ZmZlcikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1ZmZlcik7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5yZWFkVWludDMyID0gZnVuY3Rpb24gcmVhZFVpbnQzMihidWZmZXIsIG9mZnNldCkge1xuICAgIGlmIChidWZmZXIuZGF0YSkge1xuICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5zdGFydDtcbiAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5kYXRhO1xuICAgIH1cblxuICAgIHZhciB2YWwgPSBidWZmZXJbb2Zmc2V0XSA8PCAyNCB8IGJ1ZmZlcltvZmZzZXQgKyAxXSA8PCAxNiB8IGJ1ZmZlcltvZmZzZXQgKyAyXSA8PCA4IHwgYnVmZmVyW29mZnNldCArIDNdO1xuICAgIHJldHVybiB2YWwgPCAwID8gNDI5NDk2NzI5NiArIHZhbCA6IHZhbDtcbiAgfTtcblxuICBNUDREZW11eGVyLndyaXRlVWludDMyID0gZnVuY3Rpb24gd3JpdGVVaW50MzIoYnVmZmVyLCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgaWYgKGJ1ZmZlci5kYXRhKSB7XG4gICAgICBvZmZzZXQgKz0gYnVmZmVyLnN0YXJ0O1xuICAgICAgYnVmZmVyID0gYnVmZmVyLmRhdGE7XG4gICAgfVxuICAgIGJ1ZmZlcltvZmZzZXRdID0gdmFsdWUgPj4gMjQ7XG4gICAgYnVmZmVyW29mZnNldCArIDFdID0gdmFsdWUgPj4gMTYgJiAweGZmO1xuICAgIGJ1ZmZlcltvZmZzZXQgKyAyXSA9IHZhbHVlID4+IDggJiAweGZmO1xuICAgIGJ1ZmZlcltvZmZzZXQgKyAzXSA9IHZhbHVlICYgMHhmZjtcbiAgfTtcblxuICAvLyBGaW5kIHRoZSBkYXRhIGZvciBhIGJveCBzcGVjaWZpZWQgYnkgaXRzIHBhdGhcblxuXG4gIE1QNERlbXV4ZXIuZmluZEJveCA9IGZ1bmN0aW9uIGZpbmRCb3goZGF0YSwgcGF0aCkge1xuICAgIHZhciByZXN1bHRzID0gW10sXG4gICAgICAgIGksXG4gICAgICAgIHNpemUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3VicmVzdWx0cyxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZGJveDtcblxuICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgIHN0YXJ0ID0gZGF0YS5zdGFydDtcbiAgICAgIGVuZCA9IGRhdGEuZW5kO1xuICAgICAgZGF0YSA9IGRhdGEuZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnQgPSAwO1xuICAgICAgZW5kID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgIH1cblxuICAgIGlmICghcGF0aC5sZW5ndGgpIHtcbiAgICAgIC8vIHNob3J0LWNpcmN1aXQgdGhlIHNlYXJjaCBmb3IgZW1wdHkgcGF0aHNcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOykge1xuICAgICAgc2l6ZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihkYXRhLCBpKTtcbiAgICAgIHR5cGUgPSBNUDREZW11eGVyLmJpbjJzdHIoZGF0YS5zdWJhcnJheShpICsgNCwgaSArIDgpKTtcbiAgICAgIGVuZGJveCA9IHNpemUgPiAxID8gaSArIHNpemUgOiBlbmQ7XG5cbiAgICAgIGlmICh0eXBlID09PSBwYXRoWzBdKSB7XG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRoIGFuZCB3ZSd2ZSBmb3VuZCB0aGUgYm94IHdlIHdlcmVcbiAgICAgICAgICAvLyBsb29raW5nIGZvclxuICAgICAgICAgIHJlc3VsdHMucHVzaCh7IGRhdGE6IGRhdGEsIHN0YXJ0OiBpICsgOCwgZW5kOiBlbmRib3ggfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmVjdXJzaXZlbHkgc2VhcmNoIGZvciB0aGUgbmV4dCBib3ggYWxvbmcgdGhlIHBhdGhcbiAgICAgICAgICBzdWJyZXN1bHRzID0gTVA0RGVtdXhlci5maW5kQm94KHsgZGF0YTogZGF0YSwgc3RhcnQ6IGkgKyA4LCBlbmQ6IGVuZGJveCB9LCBwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICBpZiAoc3VicmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzdWJyZXN1bHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGkgPSBlbmRib3g7XG4gICAgfVxuXG4gICAgLy8gd2UndmUgZmluaXNoZWQgc2VhcmNoaW5nIGFsbCBvZiBkYXRhXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbiBNUDQgaW5pdGlhbGl6YXRpb24gc2VnbWVudCBhbmQgZXh0cmFjdHMgc3RyZWFtIHR5cGUgYW5kXG4gICAqIHRpbWVzY2FsZSB2YWx1ZXMgZm9yIGFueSBkZWNsYXJlZCB0cmFja3MuIFRpbWVzY2FsZSB2YWx1ZXMgaW5kaWNhdGUgdGhlXG4gICAqIG51bWJlciBvZiBjbG9jayB0aWNrcyBwZXIgc2Vjb25kIHRvIGFzc3VtZSBmb3IgdGltZS1iYXNlZCB2YWx1ZXNcbiAgICogZWxzZXdoZXJlIGluIHRoZSBNUDQuXG4gICAqXG4gICAqIFRvIGRldGVybWluZSB0aGUgc3RhcnQgdGltZSBvZiBhbiBNUDQsIHlvdSBuZWVkIHR3byBwaWVjZXMgb2ZcbiAgICogaW5mb3JtYXRpb246IHRoZSB0aW1lc2NhbGUgdW5pdCBhbmQgdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlXG4gICAqIHRpbWUuIE11bHRpcGxlIHRpbWVzY2FsZXMgY2FuIGJlIHNwZWNpZmllZCB3aXRoaW4gYW4gTVA0IGJ1dCB0aGVcbiAgICogYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBpcyBhbHdheXMgZXhwcmVzc2VkIGluIHRoZSB0aW1lc2NhbGUgZnJvbVxuICAgKiB0aGUgbWVkaWEgaGVhZGVyIGJveCBmb3IgdGhlIHRyYWNrOlxuICAgKiBgYGBcbiAgICogbW9vdiA+IHRyYWsgPiBtZGlhID4gbWRoZC50aW1lc2NhbGVcbiAgICogbW9vdiA+IHRyYWsgPiBtZGlhID4gaGRsclxuICAgKiBgYGBcbiAgICogQHBhcmFtIGluaXQge1VpbnQ4QXJyYXl9IHRoZSBieXRlcyBvZiB0aGUgaW5pdCBzZWdtZW50XG4gICAqIEByZXR1cm4ge29iamVjdH0gYSBoYXNoIG9mIHRyYWNrIHR5cGUgdG8gdGltZXNjYWxlIHZhbHVlcyBvciBudWxsIGlmXG4gICAqIHRoZSBpbml0IHNlZ21lbnQgaXMgbWFsZm9ybWVkLlxuICAgKi9cblxuXG4gIE1QNERlbXV4ZXIucGFyc2VJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHBhcnNlSW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHRyYWtzID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ21vb3YnLCAndHJhayddKTtcblxuICAgIHRyYWtzLmZvckVhY2goZnVuY3Rpb24gKHRyYWspIHtcbiAgICAgIHZhciB0a2hkID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWssIFsndGtoZCddKVswXTtcbiAgICAgIGlmICh0a2hkKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gdGtoZC5kYXRhW3RraGQuc3RhcnRdO1xuICAgICAgICB2YXIgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGtoZCwgaW5kZXgpO1xuXG4gICAgICAgIHZhciBtZGhkID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWssIFsnbWRpYScsICdtZGhkJ10pWzBdO1xuICAgICAgICBpZiAobWRoZCkge1xuICAgICAgICAgIHZlcnNpb24gPSBtZGhkLmRhdGFbbWRoZC5zdGFydF07XG4gICAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgICB2YXIgdGltZXNjYWxlID0gTVA0RGVtdXhlci5yZWFkVWludDMyKG1kaGQsIGluZGV4KTtcblxuICAgICAgICAgIHZhciBoZGxyID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWssIFsnbWRpYScsICdoZGxyJ10pWzBdO1xuICAgICAgICAgIGlmIChoZGxyKSB7XG4gICAgICAgICAgICB2YXIgaGRsclR5cGUgPSBNUDREZW11eGVyLmJpbjJzdHIoaGRsci5kYXRhLnN1YmFycmF5KGhkbHIuc3RhcnQgKyA4LCBoZGxyLnN0YXJ0ICsgMTIpKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0geyAnc291bic6ICdhdWRpbycsICd2aWRlJzogJ3ZpZGVvJyB9W2hkbHJUeXBlXTtcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdFt0cmFja0lkXSA9IHsgdGltZXNjYWxlOiB0aW1lc2NhbGUsIHR5cGU6IHR5cGUgfTtcbiAgICAgICAgICAgICAgcmVzdWx0W3R5cGVdID0geyB0aW1lc2NhbGU6IHRpbWVzY2FsZSwgaWQ6IHRyYWNrSWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHN0YXJ0IHRpbWUsIGluIHNlY29uZHMsIGZvciBhbiBNUDRcbiAgICogZnJhZ21lbnQuIElmIG11bHRpcGxlIGZyYWdtZW50cyBhcmUgc3BlY2lmaWVkLCB0aGUgZWFybGllc3QgdGltZSBpc1xuICAgKiByZXR1cm5lZC5cbiAgICpcbiAgICogVGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgY2FuIGJlIHBhcnNlZCBmcm9tIHRyYWNrIGZyYWdtZW50XG4gICAqIG1ldGFkYXRhOlxuICAgKiBgYGBcbiAgICogbW9vZiA+IHRyYWYgPiB0ZmR0LmJhc2VNZWRpYURlY29kZVRpbWVcbiAgICogYGBgXG4gICAqIEl0IHJlcXVpcmVzIHRoZSB0aW1lc2NhbGUgdmFsdWUgZnJvbSB0aGUgbWRoZCB0byBpbnRlcnByZXQuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lc2NhbGUge29iamVjdH0gYSBoYXNoIG9mIHRyYWNrIGlkcyB0byB0aW1lc2NhbGUgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBlYXJsaWVzdCBiYXNlIG1lZGlhIGRlY29kZSBzdGFydCB0aW1lIGZvciB0aGVcbiAgICogZnJhZ21lbnQsIGluIHNlY29uZHNcbiAgICovXG5cblxuICBNUDREZW11eGVyLmdldFN0YXJ0RFRTID0gZnVuY3Rpb24gZ2V0U3RhcnREVFMoaW5pdERhdGEsIGZyYWdtZW50KSB7XG4gICAgdmFyIHRyYWZzLCBiYXNlVGltZXMsIHJlc3VsdDtcblxuICAgIC8vIHdlIG5lZWQgaW5mbyBmcm9tIHR3byBjaGlsZHJlbmQgb2YgZWFjaCB0cmFjayBmcmFnbWVudCBib3hcbiAgICB0cmFmcyA9IE1QNERlbXV4ZXIuZmluZEJveChmcmFnbWVudCwgWydtb29mJywgJ3RyYWYnXSk7XG5cbiAgICAvLyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWVzIGZvciBlYWNoIHRyYWNrXG4gICAgYmFzZVRpbWVzID0gW10uY29uY2F0LmFwcGx5KFtdLCB0cmFmcy5tYXAoZnVuY3Rpb24gKHRyYWYpIHtcbiAgICAgIHJldHVybiBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmhkJ10pLm1hcChmdW5jdGlvbiAodGZoZCkge1xuICAgICAgICB2YXIgaWQsIHNjYWxlLCBiYXNlVGltZTtcblxuICAgICAgICAvLyBnZXQgdGhlIHRyYWNrIGlkIGZyb20gdGhlIHRmaGRcbiAgICAgICAgaWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgIC8vIGFzc3VtZSBhIDkwa0h6IGNsb2NrIGlmIG5vIHRpbWVzY2FsZSB3YXMgc3BlY2lmaWVkXG4gICAgICAgIHNjYWxlID0gaW5pdERhdGFbaWRdLnRpbWVzY2FsZSB8fCA5MGUzO1xuXG4gICAgICAgIC8vIGdldCB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBmcm9tIHRoZSB0ZmR0XG4gICAgICAgIGJhc2VUaW1lID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZkdCddKS5tYXAoZnVuY3Rpb24gKHRmZHQpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiwgcmVzdWx0O1xuXG4gICAgICAgICAgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICByZXN1bHQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgNCk7XG4gICAgICAgICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCAqPSBNYXRoLnBvdygyLCAzMik7XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICAvLyBjb252ZXJ0IGJhc2UgdGltZSB0byBzZWNvbmRzXG4gICAgICAgIHJldHVybiBiYXNlVGltZSAvIHNjYWxlO1xuICAgICAgfSk7XG4gICAgfSkpO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBtaW5pbXVtXG4gICAgcmVzdWx0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYmFzZVRpbWVzKTtcbiAgICByZXR1cm4gaXNGaW5pdGUocmVzdWx0KSA/IHJlc3VsdCA6IDA7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5vZmZzZXRTdGFydERUUyA9IGZ1bmN0aW9uIG9mZnNldFN0YXJ0RFRTKGluaXREYXRhLCBmcmFnbWVudCwgdGltZU9mZnNldCkge1xuICAgIE1QNERlbXV4ZXIuZmluZEJveChmcmFnbWVudCwgWydtb29mJywgJ3RyYWYnXSkubWFwKGZ1bmN0aW9uICh0cmFmKSB7XG4gICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZoZCddKS5tYXAoZnVuY3Rpb24gKHRmaGQpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICAgIHZhciBpZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmhkLCA0KTtcbiAgICAgICAgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcbiAgICAgICAgdmFyIHRpbWVzY2FsZSA9IGluaXREYXRhW2lkXS50aW1lc2NhbGUgfHwgOTBlMztcblxuICAgICAgICAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuICAgICAgICBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmR0J10pLm1hcChmdW5jdGlvbiAodGZkdCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gdGZkdC5kYXRhW3RmZHQuc3RhcnRdO1xuICAgICAgICAgIHZhciBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIGJhc2VNZWRpYURlY29kZVRpbWUgLSB0aW1lT2Zmc2V0ICogdGltZXNjYWxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSAqPSBNYXRoLnBvdygyLCAzMik7XG4gICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lICs9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmR0LCA4KTtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgLT0gdGltZU9mZnNldCAqIHRpbWVzY2FsZTtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLm1heChiYXNlTWVkaWFEZWNvZGVUaW1lLCAwKTtcbiAgICAgICAgICAgIHZhciB1cHBlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAvIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgdmFyIGxvd2VyID0gTWF0aC5mbG9vcihiYXNlTWVkaWFEZWNvZGVUaW1lICUgKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIHVwcGVyKTtcbiAgICAgICAgICAgIE1QNERlbXV4ZXIud3JpdGVVaW50MzIodGZkdCwgOCwgbG93ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICBpZiAoIWluaXREYXRhKSB7XG4gICAgICB0aGlzLnJlc2V0SW5pdFNlZ21lbnQoZGF0YSwgdGhpcy5hdWRpb0NvZGVjLCB0aGlzLnZpZGVvQ29kZWMpO1xuICAgICAgaW5pdERhdGEgPSB0aGlzLmluaXREYXRhO1xuICAgIH1cbiAgICB2YXIgc3RhcnREVFMgPSB2b2lkIDAsXG4gICAgICAgIGluaXRQVFMgPSB0aGlzLmluaXRQVFM7XG4gICAgaWYgKGluaXRQVFMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIF9zdGFydERUUyA9IE1QNERlbXV4ZXIuZ2V0U3RhcnREVFMoaW5pdERhdGEsIGRhdGEpO1xuICAgICAgdGhpcy5pbml0UFRTID0gaW5pdFBUUyA9IF9zdGFydERUUyAtIHRpbWVPZmZzZXQ7XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5ELCB7IGluaXRQVFM6IGluaXRQVFMgfSk7XG4gICAgfVxuICAgIE1QNERlbXV4ZXIub2Zmc2V0U3RhcnREVFMoaW5pdERhdGEsIGRhdGEsIGluaXRQVFMpO1xuICAgIHN0YXJ0RFRTID0gTVA0RGVtdXhlci5nZXRTdGFydERUUyhpbml0RGF0YSwgZGF0YSk7XG4gICAgdGhpcy5yZW11eGVyLnJlbXV4KGluaXREYXRhLmF1ZGlvLCBpbml0RGF0YS52aWRlbywgbnVsbCwgbnVsbCwgc3RhcnREVFMsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCwgZGF0YSk7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fTtcblxuICByZXR1cm4gTVA0RGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbXA0ZGVtdXhlciA9IChtcDRkZW11eGVyX01QNERlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvbXBlZ2F1ZGlvLmpzXG4vKipcbiAqICBNUEVHIHBhcnNlciBoZWxwZXJcbiAqL1xuXG52YXIgTXBlZ0F1ZGlvID0ge1xuXG4gICAgQml0cmF0ZXNNYXA6IFszMiwgNjQsIDk2LCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMjg4LCAzMjAsIDM1MiwgMzg0LCA0MTYsIDQ0OCwgMzIsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAzODQsIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAzMjAsIDMyLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNDQsIDE2MCwgMTc2LCAxOTIsIDIyNCwgMjU2LCA4LCAxNiwgMjQsIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTQ0LCAxNjBdLFxuXG4gICAgU2FtcGxpbmdSYXRlTWFwOiBbNDQxMDAsIDQ4MDAwLCAzMjAwMCwgMjIwNTAsIDI0MDAwLCAxNjAwMCwgMTEwMjUsIDEyMDAwLCA4MDAwXSxcblxuICAgIGFwcGVuZEZyYW1lOiBmdW5jdGlvbiBhcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpIHtcbiAgICAgICAgLy8gVXNpbmcgaHR0cDovL3d3dy5kYXRhdm95YWdlLmNvbS9tcGdzY3JpcHQvbXBlZ2hkci5odG0gYXMgYSByZWZlcmVuY2VcbiAgICAgICAgaWYgKG9mZnNldCArIDI0ID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGVhZGVyID0gdGhpcy5wYXJzZUhlYWRlcihkYXRhLCBvZmZzZXQpO1xuICAgICAgICBpZiAoaGVhZGVyICYmIG9mZnNldCArIGhlYWRlci5mcmFtZUxlbmd0aCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGZyYW1lRHVyYXRpb24gPSAxMTUyICogOTAwMDAgLyBoZWFkZXIuc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgIHZhciBzdGFtcCA9IHB0cyArIGZyYW1lSW5kZXggKiBmcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgdmFyIHNhbXBsZSA9IHsgdW5pdDogZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIGhlYWRlci5mcmFtZUxlbmd0aCksIHB0czogc3RhbXAsIGR0czogc3RhbXAgfTtcblxuICAgICAgICAgICAgdHJhY2suY29uZmlnID0gW107XG4gICAgICAgICAgICB0cmFjay5jaGFubmVsQ291bnQgPSBoZWFkZXIuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgdHJhY2suc2FtcGxlcmF0ZSA9IGhlYWRlci5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKHNhbXBsZSk7XG4gICAgICAgICAgICB0cmFjay5sZW4gKz0gaGVhZGVyLmZyYW1lTGVuZ3RoO1xuXG4gICAgICAgICAgICByZXR1cm4geyBzYW1wbGU6IHNhbXBsZSwgbGVuZ3RoOiBoZWFkZXIuZnJhbWVMZW5ndGggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIHBhcnNlSGVhZGVyOiBmdW5jdGlvbiBwYXJzZUhlYWRlcihkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGhlYWRlckIgPSBkYXRhW29mZnNldCArIDFdID4+IDMgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyQyA9IGRhdGFbb2Zmc2V0ICsgMV0gPj4gMSAmIDM7XG4gICAgICAgIHZhciBoZWFkZXJFID0gZGF0YVtvZmZzZXQgKyAyXSA+PiA0ICYgMTU7XG4gICAgICAgIHZhciBoZWFkZXJGID0gZGF0YVtvZmZzZXQgKyAyXSA+PiAyICYgMztcbiAgICAgICAgdmFyIGhlYWRlckcgPSAhIShkYXRhW29mZnNldCArIDJdICYgMik7XG4gICAgICAgIGlmIChoZWFkZXJCICE9PSAxICYmIGhlYWRlckUgIT09IDAgJiYgaGVhZGVyRSAhPT0gMTUgJiYgaGVhZGVyRiAhPT0gMykge1xuICAgICAgICAgICAgdmFyIGNvbHVtbkluQml0cmF0ZXMgPSBoZWFkZXJCID09PSAzID8gMyAtIGhlYWRlckMgOiBoZWFkZXJDID09PSAzID8gMyA6IDQ7XG4gICAgICAgICAgICB2YXIgYml0UmF0ZSA9IE1wZWdBdWRpby5CaXRyYXRlc01hcFtjb2x1bW5JbkJpdHJhdGVzICogMTQgKyBoZWFkZXJFIC0gMV0gKiAxMDAwO1xuICAgICAgICAgICAgdmFyIGNvbHVtbkluU2FtcGxlUmF0ZXMgPSBoZWFkZXJCID09PSAzID8gMCA6IGhlYWRlckIgPT09IDIgPyAxIDogMjtcbiAgICAgICAgICAgIHZhciBzYW1wbGVSYXRlID0gTXBlZ0F1ZGlvLlNhbXBsaW5nUmF0ZU1hcFtjb2x1bW5JblNhbXBsZVJhdGVzICogMyArIGhlYWRlckZdO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSBoZWFkZXJHID8gMSA6IDA7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbENvdW50ID0gZGF0YVtvZmZzZXQgKyAzXSA+PiA2ID09PSAzID8gMSA6IDI7IC8vIElmIGJpdHMgb2YgY2hhbm5lbCBtb2RlIGFyZSBgMTFgIHRoZW4gaXQgaXMgYSBzaW5nbGUgY2hhbm5lbCAoTW9ubylcbiAgICAgICAgICAgIHZhciBmcmFtZUxlbmd0aCA9IGhlYWRlckMgPT09IDMgPyAoaGVhZGVyQiA9PT0gMyA/IDEyIDogNikgKiBiaXRSYXRlIC8gc2FtcGxlUmF0ZSArIHBhZGRpbmcgPDwgMiA6IChoZWFkZXJCID09PSAzID8gMTQ0IDogNzIpICogYml0UmF0ZSAvIHNhbXBsZVJhdGUgKyBwYWRkaW5nIHwgMDtcblxuICAgICAgICAgICAgcmV0dXJuIHsgc2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSwgY2hhbm5lbENvdW50OiBjaGFubmVsQ291bnQsIGZyYW1lTGVuZ3RoOiBmcmFtZUxlbmd0aCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuXG4gICAgaXNIZWFkZXJQYXR0ZXJuOiBmdW5jdGlvbiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkYXRhW29mZnNldF0gPT09IDB4ZmYgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweGUwKSA9PT0gMHhlMCAmJiAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDYpICE9PSAweDAwO1xuICAgIH0sXG5cbiAgICBpc0hlYWRlcjogZnVuY3Rpb24gaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIExvb2sgZm9yIE1QRUcgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExWCBYWVpYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMSBhbmQgWSBvciBaIHNob3VsZCBiZSAxXG4gICAgICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgZGlmZmVyZW50IGZyb20gMCAoTGF5ZXIgSSBvciBMYXllciBJSSBvciBMYXllciBJSUkpXG4gICAgICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBwcm9iZTogZnVuY3Rpb24gcHJvYmUoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIHNhbWUgYXMgaXNIZWFkZXIgYnV0IHdlIGFsc28gY2hlY2sgdGhhdCBNUEVHIGZyYW1lIGZvbGxvd3MgbGFzdCBNUEVHIGZyYW1lXG4gICAgICAgIC8vIG9yIGVuZCBvZiBkYXRhIGlzIHJlYWNoZWRcbiAgICAgICAgaWYgKG9mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiB0aGlzLmlzSGVhZGVyUGF0dGVybihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAvLyBNUEVHIGhlYWRlciBMZW5ndGhcbiAgICAgICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSA0O1xuICAgICAgICAgICAgLy8gTVBFRyBmcmFtZSBMZW5ndGhcbiAgICAgICAgICAgIHZhciBoZWFkZXIgPSB0aGlzLnBhcnNlSGVhZGVyKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXJMZW5ndGg7XG4gICAgICAgICAgICBpZiAoaGVhZGVyICYmIGhlYWRlci5mcmFtZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZyYW1lTGVuZ3RoID0gaGVhZGVyLmZyYW1lTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld09mZnNldCA9IG9mZnNldCArIGZyYW1lTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5ld09mZnNldCA9PT0gZGF0YS5sZW5ndGggfHwgbmV3T2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG5ld09mZnNldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbXBlZ2F1ZGlvID0gKE1wZWdBdWRpbyk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9leHAtZ29sb21iLmpzXG5mdW5jdGlvbiBleHBfZ29sb21iX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUGFyc2VyIGZvciBleHBvbmVudGlhbCBHb2xvbWIgY29kZXMsIGEgdmFyaWFibGUtYml0d2lkdGggbnVtYmVyIGVuY29kaW5nIHNjaGVtZSB1c2VkIGJ5IGgyNjQuXG4qL1xuXG5cblxudmFyIGV4cF9nb2xvbWJfRXhwR29sb21iID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFeHBHb2xvbWIoZGF0YSkge1xuICAgIGV4cF9nb2xvbWJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4cEdvbG9tYik7XG5cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIC8vIHRoZSBudW1iZXIgb2YgYnl0ZXMgbGVmdCB0byBleGFtaW5lIGluIHRoaXMuZGF0YVxuICAgIHRoaXMuYnl0ZXNBdmFpbGFibGUgPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgLy8gdGhlIGN1cnJlbnQgd29yZCBiZWluZyBleGFtaW5lZFxuICAgIHRoaXMud29yZCA9IDA7IC8vIDp1aW50XG4gICAgLy8gdGhlIG51bWJlciBvZiBiaXRzIGxlZnQgdG8gZXhhbWluZSBpbiB0aGUgY3VycmVudCB3b3JkXG4gICAgdGhpcy5iaXRzQXZhaWxhYmxlID0gMDsgLy8gOnVpbnRcbiAgfVxuXG4gIC8vICgpOnZvaWRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUubG9hZFdvcmQgPSBmdW5jdGlvbiBsb2FkV29yZCgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YSxcbiAgICAgICAgYnl0ZXNBdmFpbGFibGUgPSB0aGlzLmJ5dGVzQXZhaWxhYmxlLFxuICAgICAgICBwb3NpdGlvbiA9IGRhdGEuYnl0ZUxlbmd0aCAtIGJ5dGVzQXZhaWxhYmxlLFxuICAgICAgICB3b3JraW5nQnl0ZXMgPSBuZXcgVWludDhBcnJheSg0KSxcbiAgICAgICAgYXZhaWxhYmxlQnl0ZXMgPSBNYXRoLm1pbig0LCBieXRlc0F2YWlsYWJsZSk7XG4gICAgaWYgKGF2YWlsYWJsZUJ5dGVzID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJ5dGVzIGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICB3b3JraW5nQnl0ZXMuc2V0KGRhdGEuc3ViYXJyYXkocG9zaXRpb24sIHBvc2l0aW9uICsgYXZhaWxhYmxlQnl0ZXMpKTtcbiAgICB0aGlzLndvcmQgPSBuZXcgRGF0YVZpZXcod29ya2luZ0J5dGVzLmJ1ZmZlcikuZ2V0VWludDMyKDApO1xuICAgIC8vIHRyYWNrIHRoZSBhbW91bnQgb2YgdGhpcy5kYXRhIHRoYXQgaGFzIGJlZW4gcHJvY2Vzc2VkXG4gICAgdGhpcy5iaXRzQXZhaWxhYmxlID0gYXZhaWxhYmxlQnl0ZXMgKiA4O1xuICAgIHRoaXMuYnl0ZXNBdmFpbGFibGUgLT0gYXZhaWxhYmxlQnl0ZXM7XG4gIH07XG5cbiAgLy8gKGNvdW50OmludCk6dm9pZFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwQml0cyA9IGZ1bmN0aW9uIHNraXBCaXRzKGNvdW50KSB7XG4gICAgdmFyIHNraXBCeXRlczsgLy8gOmludFxuICAgIGlmICh0aGlzLmJpdHNBdmFpbGFibGUgPiBjb3VudCkge1xuICAgICAgdGhpcy53b3JkIDw8PSBjb3VudDtcbiAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBjb3VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgLT0gdGhpcy5iaXRzQXZhaWxhYmxlO1xuICAgICAgc2tpcEJ5dGVzID0gY291bnQgPj4gMztcbiAgICAgIGNvdW50IC09IHNraXBCeXRlcyA+PiAzO1xuICAgICAgdGhpcy5ieXRlc0F2YWlsYWJsZSAtPSBza2lwQnl0ZXM7XG4gICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgICB0aGlzLndvcmQgPDw9IGNvdW50O1xuICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGNvdW50O1xuICAgIH1cbiAgfTtcblxuICAvLyAoc2l6ZTppbnQpOnVpbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZEJpdHMgPSBmdW5jdGlvbiByZWFkQml0cyhzaXplKSB7XG4gICAgdmFyIGJpdHMgPSBNYXRoLm1pbih0aGlzLmJpdHNBdmFpbGFibGUsIHNpemUpLFxuICAgICAgICAvLyA6dWludFxuICAgIHZhbHUgPSB0aGlzLndvcmQgPj4+IDMyIC0gYml0czsgLy8gOnVpbnRcbiAgICBpZiAoc2l6ZSA+IDMyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignQ2Fubm90IHJlYWQgbW9yZSB0aGFuIDMyIGJpdHMgYXQgYSB0aW1lJyk7XG4gICAgfVxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBiaXRzO1xuICAgIGlmICh0aGlzLmJpdHNBdmFpbGFibGUgPiAwKSB7XG4gICAgICB0aGlzLndvcmQgPDw9IGJpdHM7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJ5dGVzQXZhaWxhYmxlID4gMCkge1xuICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgIH1cbiAgICBiaXRzID0gc2l6ZSAtIGJpdHM7XG4gICAgaWYgKGJpdHMgPiAwICYmIHRoaXMuYml0c0F2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHZhbHUgPDwgYml0cyB8IHRoaXMucmVhZEJpdHMoYml0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1O1xuICAgIH1cbiAgfTtcblxuICAvLyAoKTp1aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBMWiA9IGZ1bmN0aW9uIHNraXBMWigpIHtcbiAgICB2YXIgbGVhZGluZ1plcm9Db3VudDsgLy8gOnVpbnRcbiAgICBmb3IgKGxlYWRpbmdaZXJvQ291bnQgPSAwOyBsZWFkaW5nWmVyb0NvdW50IDwgdGhpcy5iaXRzQXZhaWxhYmxlOyArK2xlYWRpbmdaZXJvQ291bnQpIHtcbiAgICAgIGlmICgwICE9PSAodGhpcy53b3JkICYgMHg4MDAwMDAwMCA+Pj4gbGVhZGluZ1plcm9Db3VudCkpIHtcbiAgICAgICAgLy8gdGhlIGZpcnN0IGJpdCBvZiB3b3JraW5nIHdvcmQgaXMgMVxuICAgICAgICB0aGlzLndvcmQgPDw9IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICByZXR1cm4gbGVhZGluZ1plcm9Db3VudDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gd2UgZXhoYXVzdGVkIHdvcmQgYW5kIHN0aWxsIGhhdmUgbm90IGZvdW5kIGEgMVxuICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICByZXR1cm4gbGVhZGluZ1plcm9Db3VudCArIHRoaXMuc2tpcExaKCk7XG4gIH07XG5cbiAgLy8gKCk6dm9pZFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwVUVHID0gZnVuY3Rpb24gc2tpcFVFRygpIHtcbiAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgfTtcblxuICAvLyAoKTp2b2lkXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBFRyA9IGZ1bmN0aW9uIHNraXBFRygpIHtcbiAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgfTtcblxuICAvLyAoKTp1aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVRUcgPSBmdW5jdGlvbiByZWFkVUVHKCkge1xuICAgIHZhciBjbHogPSB0aGlzLnNraXBMWigpOyAvLyA6dWludFxuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKGNseiArIDEpIC0gMTtcbiAgfTtcblxuICAvLyAoKTppbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZEVHID0gZnVuY3Rpb24gcmVhZEVHKCkge1xuICAgIHZhciB2YWx1ID0gdGhpcy5yZWFkVUVHKCk7IC8vIDppbnRcbiAgICBpZiAoMHgwMSAmIHZhbHUpIHtcbiAgICAgIC8vIHRoZSBudW1iZXIgaXMgb2RkIGlmIHRoZSBsb3cgb3JkZXIgYml0IGlzIHNldFxuICAgICAgcmV0dXJuIDEgKyB2YWx1ID4+PiAxOyAvLyBhZGQgMSB0byBtYWtlIGl0IGV2ZW4sIGFuZCBkaXZpZGUgYnkgMlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTEgKiAodmFsdSA+Pj4gMSk7IC8vIGRpdmlkZSBieSB0d28gdGhlbiBtYWtlIGl0IG5lZ2F0aXZlXG4gICAgfVxuICB9O1xuXG4gIC8vIFNvbWUgY29udmVuaWVuY2UgZnVuY3Rpb25zXG4gIC8vIDpCb29sZWFuXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRCb29sZWFuID0gZnVuY3Rpb24gcmVhZEJvb2xlYW4oKSB7XG4gICAgcmV0dXJuIDEgPT09IHRoaXMucmVhZEJpdHMoMSk7XG4gIH07XG5cbiAgLy8gKCk6aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVQnl0ZSA9IGZ1bmN0aW9uIHJlYWRVQnl0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cyg4KTtcbiAgfTtcblxuICAvLyAoKTppbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVTaG9ydCA9IGZ1bmN0aW9uIHJlYWRVU2hvcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMTYpO1xuICB9O1xuICAvLyAoKTppbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVJbnQgPSBmdW5jdGlvbiByZWFkVUludCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cygzMik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkdmFuY2UgdGhlIEV4cEdvbG9tYiBkZWNvZGVyIHBhc3QgYSBzY2FsaW5nIGxpc3QuIFRoZSBzY2FsaW5nXG4gICAqIGxpc3QgaXMgb3B0aW9uYWxseSB0cmFuc21pdHRlZCBhcyBwYXJ0IG9mIGEgc2VxdWVuY2UgcGFyYW1ldGVyXG4gICAqIHNldCBhbmQgaXMgbm90IHJlbGV2YW50IHRvIHRyYW5zbXV4aW5nLlxuICAgKiBAcGFyYW0gY291bnQge251bWJlcn0gdGhlIG51bWJlciBvZiBlbnRyaWVzIGluIHRoaXMgc2NhbGluZyBsaXN0XG4gICAqIEBzZWUgUmVjb21tZW5kYXRpb24gSVRVLVQgSC4yNjQsIFNlY3Rpb24gNy4zLjIuMS4xLjFcbiAgICovXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBTY2FsaW5nTGlzdCA9IGZ1bmN0aW9uIHNraXBTY2FsaW5nTGlzdChjb3VudCkge1xuICAgIHZhciBsYXN0U2NhbGUgPSA4LFxuICAgICAgICBuZXh0U2NhbGUgPSA4LFxuICAgICAgICBqLFxuICAgICAgICBkZWx0YVNjYWxlO1xuICAgIGZvciAoaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICBpZiAobmV4dFNjYWxlICE9PSAwKSB7XG4gICAgICAgIGRlbHRhU2NhbGUgPSB0aGlzLnJlYWRFRygpO1xuICAgICAgICBuZXh0U2NhbGUgPSAobGFzdFNjYWxlICsgZGVsdGFTY2FsZSArIDI1NikgJSAyNTY7XG4gICAgICB9XG4gICAgICBsYXN0U2NhbGUgPSBuZXh0U2NhbGUgPT09IDAgPyBsYXN0U2NhbGUgOiBuZXh0U2NhbGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZWFkIGEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldCBhbmQgcmV0dXJuIHNvbWUgaW50ZXJlc3RpbmcgdmlkZW9cbiAgICogcHJvcGVydGllcy4gQSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0IGlzIHRoZSBIMjY0IG1ldGFkYXRhIHRoYXRcbiAgICogZGVzY3JpYmVzIHRoZSBwcm9wZXJ0aWVzIG9mIHVwY29taW5nIHZpZGVvIGZyYW1lcy5cbiAgICogQHBhcmFtIGRhdGEge1VpbnQ4QXJyYXl9IHRoZSBieXRlcyBvZiBhIHNlcXVlbmNlIHBhcmFtZXRlciBzZXRcbiAgICogQHJldHVybiB7b2JqZWN0fSBhbiBvYmplY3Qgd2l0aCBjb25maWd1cmF0aW9uIHBhcnNlZCBmcm9tIHRoZVxuICAgKiBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0LCBpbmNsdWRpbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlXG4gICAqIGFzc29jaWF0ZWQgdmlkZW8gZnJhbWVzLlxuICAgKi9cblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFNQUyA9IGZ1bmN0aW9uIHJlYWRTUFMoKSB7XG4gICAgdmFyIGZyYW1lQ3JvcExlZnRPZmZzZXQgPSAwLFxuICAgICAgICBmcmFtZUNyb3BSaWdodE9mZnNldCA9IDAsXG4gICAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IDAsXG4gICAgICAgIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCA9IDAsXG4gICAgICAgIHByb2ZpbGVJZGMsXG4gICAgICAgIHByb2ZpbGVDb21wYXQsXG4gICAgICAgIGxldmVsSWRjLFxuICAgICAgICBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGUsXG4gICAgICAgIHBpY1dpZHRoSW5NYnNNaW51czEsXG4gICAgICAgIHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEsXG4gICAgICAgIGZyYW1lTWJzT25seUZsYWcsXG4gICAgICAgIHNjYWxpbmdMaXN0Q291bnQsXG4gICAgICAgIGksXG4gICAgICAgIHJlYWRVQnl0ZSA9IHRoaXMucmVhZFVCeXRlLmJpbmQodGhpcyksXG4gICAgICAgIHJlYWRCaXRzID0gdGhpcy5yZWFkQml0cy5iaW5kKHRoaXMpLFxuICAgICAgICByZWFkVUVHID0gdGhpcy5yZWFkVUVHLmJpbmQodGhpcyksXG4gICAgICAgIHJlYWRCb29sZWFuID0gdGhpcy5yZWFkQm9vbGVhbi5iaW5kKHRoaXMpLFxuICAgICAgICBza2lwQml0cyA9IHRoaXMuc2tpcEJpdHMuYmluZCh0aGlzKSxcbiAgICAgICAgc2tpcEVHID0gdGhpcy5za2lwRUcuYmluZCh0aGlzKSxcbiAgICAgICAgc2tpcFVFRyA9IHRoaXMuc2tpcFVFRy5iaW5kKHRoaXMpLFxuICAgICAgICBza2lwU2NhbGluZ0xpc3QgPSB0aGlzLnNraXBTY2FsaW5nTGlzdC5iaW5kKHRoaXMpO1xuXG4gICAgcmVhZFVCeXRlKCk7XG4gICAgcHJvZmlsZUlkYyA9IHJlYWRVQnl0ZSgpOyAvLyBwcm9maWxlX2lkY1xuICAgIHByb2ZpbGVDb21wYXQgPSByZWFkQml0cyg1KTsgLy8gY29uc3RyYWludF9zZXRbMC00XV9mbGFnLCB1KDUpXG4gICAgc2tpcEJpdHMoMyk7IC8vIHJlc2VydmVkX3plcm9fM2JpdHMgdSgzKSxcbiAgICBsZXZlbElkYyA9IHJlYWRVQnl0ZSgpOyAvL2xldmVsX2lkYyB1KDgpXG4gICAgc2tpcFVFRygpOyAvLyBzZXFfcGFyYW1ldGVyX3NldF9pZFxuICAgIC8vIHNvbWUgcHJvZmlsZXMgaGF2ZSBtb3JlIG9wdGlvbmFsIGRhdGEgd2UgZG9uJ3QgbmVlZFxuICAgIGlmIChwcm9maWxlSWRjID09PSAxMDAgfHwgcHJvZmlsZUlkYyA9PT0gMTEwIHx8IHByb2ZpbGVJZGMgPT09IDEyMiB8fCBwcm9maWxlSWRjID09PSAyNDQgfHwgcHJvZmlsZUlkYyA9PT0gNDQgfHwgcHJvZmlsZUlkYyA9PT0gODMgfHwgcHJvZmlsZUlkYyA9PT0gODYgfHwgcHJvZmlsZUlkYyA9PT0gMTE4IHx8IHByb2ZpbGVJZGMgPT09IDEyOCkge1xuICAgICAgdmFyIGNocm9tYUZvcm1hdElkYyA9IHJlYWRVRUcoKTtcbiAgICAgIGlmIChjaHJvbWFGb3JtYXRJZGMgPT09IDMpIHtcbiAgICAgICAgc2tpcEJpdHMoMSk7IC8vIHNlcGFyYXRlX2NvbG91cl9wbGFuZV9mbGFnXG4gICAgICB9XG4gICAgICBza2lwVUVHKCk7IC8vIGJpdF9kZXB0aF9sdW1hX21pbnVzOFxuICAgICAgc2tpcFVFRygpOyAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgc2tpcEJpdHMoMSk7IC8vIHFwcHJpbWVfeV96ZXJvX3RyYW5zZm9ybV9ieXBhc3NfZmxhZ1xuICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgLy8gc2VxX3NjYWxpbmdfbWF0cml4X3ByZXNlbnRfZmxhZ1xuICAgICAgICBzY2FsaW5nTGlzdENvdW50ID0gY2hyb21hRm9ybWF0SWRjICE9PSAzID8gOCA6IDEyO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2NhbGluZ0xpc3RDb3VudDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIC8vIHNlcV9zY2FsaW5nX2xpc3RfcHJlc2VudF9mbGFnWyBpIF1cbiAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICBza2lwU2NhbGluZ0xpc3QoMTYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2tpcFNjYWxpbmdMaXN0KDY0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc2tpcFVFRygpOyAvLyBsb2cyX21heF9mcmFtZV9udW1fbWludXM0XG4gICAgdmFyIHBpY09yZGVyQ250VHlwZSA9IHJlYWRVRUcoKTtcbiAgICBpZiAocGljT3JkZXJDbnRUeXBlID09PSAwKSB7XG4gICAgICByZWFkVUVHKCk7IC8vbG9nMl9tYXhfcGljX29yZGVyX2NudF9sc2JfbWludXM0XG4gICAgfSBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgIHNraXBCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHJlYWRVRUcoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICBza2lwRUcoKTsgLy8gb2Zmc2V0X2Zvcl9yZWZfZnJhbWVbIGkgXVxuICAgICAgfVxuICAgIH1cbiAgICBza2lwVUVHKCk7IC8vIG1heF9udW1fcmVmX2ZyYW1lc1xuICAgIHNraXBCaXRzKDEpOyAvLyBnYXBzX2luX2ZyYW1lX251bV92YWx1ZV9hbGxvd2VkX2ZsYWdcbiAgICBwaWNXaWR0aEluTWJzTWludXMxID0gcmVhZFVFRygpO1xuICAgIHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEgPSByZWFkVUVHKCk7XG4gICAgZnJhbWVNYnNPbmx5RmxhZyA9IHJlYWRCaXRzKDEpO1xuICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICBza2lwQml0cygxKTsgLy8gbWJfYWRhcHRpdmVfZnJhbWVfZmllbGRfZmxhZ1xuICAgIH1cbiAgICBza2lwQml0cygxKTsgLy8gZGlyZWN0Xzh4OF9pbmZlcmVuY2VfZmxhZ1xuICAgIGlmIChyZWFkQm9vbGVhbigpKSB7XG4gICAgICAvLyBmcmFtZV9jcm9wcGluZ19mbGFnXG4gICAgICBmcmFtZUNyb3BMZWZ0T2Zmc2V0ID0gcmVhZFVFRygpO1xuICAgICAgZnJhbWVDcm9wUmlnaHRPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICBmcmFtZUNyb3BUb3BPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICBmcmFtZUNyb3BCb3R0b21PZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgfVxuICAgIHZhciBwaXhlbFJhdGlvID0gWzEsIDFdO1xuICAgIGlmIChyZWFkQm9vbGVhbigpKSB7XG4gICAgICAvLyB2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWdcbiAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7XG4gICAgICAgIC8vIGFzcGVjdF9yYXRpb19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW9JZGMgPSByZWFkVUJ5dGUoKTtcbiAgICAgICAgc3dpdGNoIChhc3BlY3RSYXRpb0lkYykge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMSwgMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMiwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTAsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE2LCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0MCwgMzNdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMjQsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzIwLCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszMiwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbODAsIDMzXTticmVhaztcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxOCwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE1LCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbNjQsIDMzXTticmVhaztcbiAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNjAsIDk5XTticmVhaztcbiAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0LCAzXTticmVhaztcbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszLCAyXTticmVhaztcbiAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyLCAxXTticmVhaztcbiAgICAgICAgICBjYXNlIDI1NTpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFtyZWFkVUJ5dGUoKSA8PCA4IHwgcmVhZFVCeXRlKCksIHJlYWRVQnl0ZSgpIDw8IDggfCByZWFkVUJ5dGUoKV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogTWF0aC5jZWlsKChwaWNXaWR0aEluTWJzTWludXMxICsgMSkgKiAxNiAtIGZyYW1lQ3JvcExlZnRPZmZzZXQgKiAyIC0gZnJhbWVDcm9wUmlnaHRPZmZzZXQgKiAyKSxcbiAgICAgIGhlaWdodDogKDIgLSBmcmFtZU1ic09ubHlGbGFnKSAqIChwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxICsgMSkgKiAxNiAtIChmcmFtZU1ic09ubHlGbGFnID8gMiA6IDQpICogKGZyYW1lQ3JvcFRvcE9mZnNldCArIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCksXG4gICAgICBwaXhlbFJhdGlvOiBwaXhlbFJhdGlvXG4gICAgfTtcbiAgfTtcblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRTbGljZVR5cGUgPSBmdW5jdGlvbiByZWFkU2xpY2VUeXBlKCkge1xuICAgIC8vIHNraXAgTkFMdSB0eXBlXG4gICAgdGhpcy5yZWFkVUJ5dGUoKTtcbiAgICAvLyBkaXNjYXJkIGZpcnN0X21iX2luX3NsaWNlXG4gICAgdGhpcy5yZWFkVUVHKCk7XG4gICAgLy8gcmV0dXJuIHNsaWNlX3R5cGVcbiAgICByZXR1cm4gdGhpcy5yZWFkVUVHKCk7XG4gIH07XG5cbiAgcmV0dXJuIEV4cEdvbG9tYjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZXhwX2dvbG9tYiA9IChleHBfZ29sb21iX0V4cEdvbG9tYik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9zYW1wbGUtYWVzLmpzXG5mdW5jdGlvbiBzYW1wbGVfYWVzX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogU0FNUExFLUFFUyBkZWNyeXB0ZXJcbiovXG5cblxuXG52YXIgc2FtcGxlX2Flc19TYW1wbGVBZXNEZWNyeXB0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNhbXBsZUFlc0RlY3J5cHRlcihvYnNlcnZlciwgY29uZmlnLCBkZWNyeXB0ZGF0YSwgZGlzY2FyZEVQQikge1xuICAgIHNhbXBsZV9hZXNfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNhbXBsZUFlc0RlY3J5cHRlcik7XG5cbiAgICB0aGlzLmRlY3J5cHRkYXRhID0gZGVjcnlwdGRhdGE7XG4gICAgdGhpcy5kaXNjYXJkRVBCID0gZGlzY2FyZEVQQjtcbiAgICB0aGlzLmRlY3J5cHRlciA9IG5ldyBjcnlwdF9kZWNyeXB0ZXIob2JzZXJ2ZXIsIGNvbmZpZyk7XG4gIH1cblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRCdWZmZXIgPSBmdW5jdGlvbiBkZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChlbmNyeXB0ZWREYXRhLCB0aGlzLmRlY3J5cHRkYXRhLmtleS5idWZmZXIsIHRoaXMuZGVjcnlwdGRhdGEuaXYuYnVmZmVyLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLy8gQUFDIC0gZW5jcnlwdCBhbGwgZnVsbCAxNiBieXRlcyBibG9ja3Mgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMTZcblxuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEFhY1NhbXBsZSA9IGZ1bmN0aW9uIGRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKSB7XG4gICAgdmFyIGN1clVuaXQgPSBzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0O1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gY3VyVW5pdC5zdWJhcnJheSgxNiwgY3VyVW5pdC5sZW5ndGggLSBjdXJVbml0Lmxlbmd0aCAlIDE2KTtcbiAgICB2YXIgZW5jcnlwdGVkQnVmZmVyID0gZW5jcnlwdGVkRGF0YS5idWZmZXIuc2xpY2UoZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0LCBlbmNyeXB0ZWREYXRhLmJ5dGVPZmZzZXQgKyBlbmNyeXB0ZWREYXRhLmxlbmd0aCk7XG5cbiAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICB0aGlzLmRlY3J5cHRCdWZmZXIoZW5jcnlwdGVkQnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgZGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgICAgY3VyVW5pdC5zZXQoZGVjcnlwdGVkRGF0YSwgMTYpO1xuXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBYWNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4ICsgMSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEFhY1NhbXBsZXMgPSBmdW5jdGlvbiBkZWNyeXB0QWFjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgY2FsbGJhY2spIHtcbiAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyspIHtcbiAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0Lmxlbmd0aCA8IDMyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuXG4gICAgICB0aGlzLmRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKTtcblxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQVZDIC0gZW5jcnlwdCBvbmUgMTYgYnl0ZXMgYmxvY2sgb3V0IG9mIHRlbiwgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMzJcblxuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZ2V0QXZjRW5jcnlwdGVkRGF0YSA9IGZ1bmN0aW9uIGdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpIHtcbiAgICB2YXIgZW5jcnlwdGVkRGF0YUxlbiA9IE1hdGguZmxvb3IoKGRlY29kZWREYXRhLmxlbmd0aCAtIDQ4KSAvIDE2MCkgKiAxNiArIDE2O1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gbmV3IEludDhBcnJheShlbmNyeXB0ZWREYXRhTGVuKTtcbiAgICB2YXIgb3V0cHV0UG9zID0gMDtcbiAgICBmb3IgKHZhciBpbnB1dFBvcyA9IDMyOyBpbnB1dFBvcyA8PSBkZWNvZGVkRGF0YS5sZW5ndGggLSAxNjsgaW5wdXRQb3MgKz0gMTYwLCBvdXRwdXRQb3MgKz0gMTYpIHtcbiAgICAgIGVuY3J5cHRlZERhdGEuc2V0KGRlY29kZWREYXRhLnN1YmFycmF5KGlucHV0UG9zLCBpbnB1dFBvcyArIDE2KSwgb3V0cHV0UG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY3J5cHRlZERhdGE7XG4gIH07XG5cbiAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5nZXRBdmNEZWNyeXB0ZWRVbml0ID0gZnVuY3Rpb24gZ2V0QXZjRGVjcnlwdGVkVW5pdChkZWNvZGVkRGF0YSwgZGVjcnlwdGVkRGF0YSkge1xuICAgIGRlY3J5cHRlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKTtcbiAgICB2YXIgaW5wdXRQb3MgPSAwO1xuICAgIGZvciAodmFyIG91dHB1dFBvcyA9IDMyOyBvdXRwdXRQb3MgPD0gZGVjb2RlZERhdGEubGVuZ3RoIC0gMTY7IG91dHB1dFBvcyArPSAxNjAsIGlucHV0UG9zICs9IDE2KSB7XG4gICAgICBkZWNvZGVkRGF0YS5zZXQoZGVjcnlwdGVkRGF0YS5zdWJhcnJheShpbnB1dFBvcywgaW5wdXRQb3MgKyAxNiksIG91dHB1dFBvcyk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkRGF0YTtcbiAgfTtcblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRBdmNTYW1wbGUgPSBmdW5jdGlvbiBkZWNyeXB0QXZjU2FtcGxlKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXgsIGNhbGxiYWNrLCBjdXJVbml0LCBzeW5jKSB7XG4gICAgdmFyIGRlY29kZWREYXRhID0gdGhpcy5kaXNjYXJkRVBCKGN1clVuaXQuZGF0YSk7XG4gICAgdmFyIGVuY3J5cHRlZERhdGEgPSB0aGlzLmdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpO1xuICAgIHZhciBsb2NhbHRoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgY3VyVW5pdC5kYXRhID0gbG9jYWx0aGlzLmdldEF2Y0RlY3J5cHRlZFVuaXQoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpO1xuXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBdmNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXggKyAxLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QXZjU2FtcGxlcyA9IGZ1bmN0aW9uIGRlY3J5cHRBdmNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgZm9yICg7OyBzYW1wbGVJbmRleCsrLCB1bml0SW5kZXggPSAwKSB7XG4gICAgICBpZiAoc2FtcGxlSW5kZXggPj0gc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VyVW5pdHMgPSBzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0cztcbiAgICAgIGZvciAoOzsgdW5pdEluZGV4KyspIHtcbiAgICAgICAgaWYgKHVuaXRJbmRleCA+PSBjdXJVbml0cy5sZW5ndGgpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJVbml0ID0gY3VyVW5pdHNbdW5pdEluZGV4XTtcbiAgICAgICAgaWYgKGN1clVuaXQubGVuZ3RoIDw9IDQ4IHx8IGN1clVuaXQudHlwZSAhPT0gMSAmJiBjdXJVbml0LnR5cGUgIT09IDUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzeW5jID0gdGhpcy5kZWNyeXB0ZXIuaXNTeW5jKCk7XG5cbiAgICAgICAgdGhpcy5kZWNyeXB0QXZjU2FtcGxlKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXgsIGNhbGxiYWNrLCBjdXJVbml0LCBzeW5jKTtcblxuICAgICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFNhbXBsZUFlc0RlY3J5cHRlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc2FtcGxlX2FlcyA9IChzYW1wbGVfYWVzX1NhbXBsZUFlc0RlY3J5cHRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC90c2RlbXV4ZXIuanNcbmZ1bmN0aW9uIHRzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIGhpZ2hseSBvcHRpbWl6ZWQgVFMgZGVtdXhlcjpcbiAqIHBhcnNlIFBBVCwgUE1UXG4gKiBleHRyYWN0IFBFUyBwYWNrZXQgZnJvbSBhdWRpbyBhbmQgdmlkZW8gUElEc1xuICogZXh0cmFjdCBBVkMvSDI2NCBOQUwgdW5pdHMgYW5kIEFBQy9BRFRTIHNhbXBsZXMgZnJvbSBQRVMgcGFja2V0XG4gKiB0cmlnZ2VyIHRoZSByZW11eGVyIHVwb24gcGFyc2luZyBjb21wbGV0aW9uXG4gKiBpdCBhbHNvIHRyaWVzIHRvIHdvcmthcm91bmQgYXMgYmVzdCBhcyBpdCBjYW4gYXVkaW8gY29kZWMgc3dpdGNoIChIRS1BQUMgdG8gQUFDIGFuZCB2aWNlIHZlcnNhKSwgd2l0aG91dCBoYXZpbmcgdG8gcmVzdGFydCB0aGUgTWVkaWFTb3VyY2UuXG4gKiBpdCBhbHNvIGNvbnRyb2xzIHRoZSByZW11eGluZyBwcm9jZXNzIDpcbiAqIHVwb24gZGlzY29udGludWl0eSBvciBsZXZlbCBzd2l0Y2ggZGV0ZWN0aW9uLCBpdCB3aWxsIGFsc28gbm90aWZpZXMgdGhlIHJlbXV4ZXIgc28gdGhhdCBpdCBjYW4gcmVzZXQgaXRzIHN0YXRlLlxuKi9cblxuXG5cblxuXG5cbi8vIGltcG9ydCBIZXggZnJvbSAnLi4vdXRpbHMvaGV4JztcblxuXG5cbnZhciB0c2RlbXV4ZXJfVFNEZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUU0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCkge1xuICAgIHRzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgVFNEZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gICAgdGhpcy5zYW1wbGVBZXMgPSBudWxsO1xuICB9XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5zZXREZWNyeXB0RGF0YSA9IGZ1bmN0aW9uIHNldERlY3J5cHREYXRhKGRlY3J5cHRkYXRhKSB7XG4gICAgaWYgKGRlY3J5cHRkYXRhICE9IG51bGwgJiYgZGVjcnlwdGRhdGEua2V5ICE9IG51bGwgJiYgZGVjcnlwdGRhdGEubWV0aG9kID09PSAnU0FNUExFLUFFUycpIHtcbiAgICAgIHRoaXMuc2FtcGxlQWVzID0gbmV3IHNhbXBsZV9hZXModGhpcy5vYnNlcnZlciwgdGhpcy5jb25maWcsIGRlY3J5cHRkYXRhLCB0aGlzLmRpc2NhcmRFUEIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNhbXBsZUFlcyA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm9iZSA9IGZ1bmN0aW9uIHByb2JlKGRhdGEpIHtcbiAgICAvLyBhIFRTIGZyYWdtZW50IHNob3VsZCBjb250YWluIGF0IGxlYXN0IDMgVFMgcGFja2V0cywgYSBQQVQsIGEgUE1ULCBhbmQgb25lIFBJRCwgZWFjaCBzdGFydGluZyB3aXRoIDB4NDdcbiAgICBpZiAoZGF0YS5sZW5ndGggPj0gMyAqIDE4OCAmJiBkYXRhWzBdID09PSAweDQ3ICYmIGRhdGFbMTg4XSA9PT0gMHg0NyAmJiBkYXRhWzIgKiAxODhdID09PSAweDQ3KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIHRoaXMucG10UGFyc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fcG10SWQgPSAtMTtcbiAgICB0aGlzLl9hdmNUcmFjayA9IHsgY29udGFpbmVyOiAndmlkZW8vbXAydCcsIHR5cGU6ICd2aWRlbycsIGlkOiAtMSwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbjogMCwgZHJvcHBlZDogMCB9O1xuICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ3ZpZGVvL21wMnQnLCB0eXBlOiAnYXVkaW8nLCBpZDogLTEsIGlucHV0VGltZVNjYWxlOiA5MDAwMCwgZHVyYXRpb246IGR1cmF0aW9uLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbjogMCwgaXNBQUM6IHRydWUgfTtcbiAgICB0aGlzLl9pZDNUcmFjayA9IHsgdHlwZTogJ2lkMycsIGlkOiAtMSwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbjogMCB9O1xuICAgIHRoaXMuX3R4dFRyYWNrID0geyB0eXBlOiAndGV4dCcsIGlkOiAtMSwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbjogMCB9O1xuICAgIC8vIGZsdXNoIGFueSBwYXJ0aWFsIGNvbnRlbnRcbiAgICB0aGlzLmFhY092ZXJGbG93ID0gbnVsbDtcbiAgICB0aGlzLmFhY0xhc3RQVFMgPSBudWxsO1xuICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gcmVzZXRUaW1lU3RhbXAoKSB7fTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICB2YXIgc3RhcnQsXG4gICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICBzdHQsXG4gICAgICAgIHBpZCxcbiAgICAgICAgYXRmLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHBlcyxcbiAgICAgICAgdW5rbm93blBJRHMgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRpZ3VvdXMgPSBjb250aWd1b3VzO1xuICAgIHZhciBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCxcbiAgICAgICAgYXZjVHJhY2sgPSB0aGlzLl9hdmNUcmFjayxcbiAgICAgICAgYXVkaW9UcmFjayA9IHRoaXMuX2F1ZGlvVHJhY2ssXG4gICAgICAgIGlkM1RyYWNrID0gdGhpcy5faWQzVHJhY2ssXG4gICAgICAgIGF2Y0lkID0gYXZjVHJhY2suaWQsXG4gICAgICAgIGF1ZGlvSWQgPSBhdWRpb1RyYWNrLmlkLFxuICAgICAgICBpZDNJZCA9IGlkM1RyYWNrLmlkLFxuICAgICAgICBwbXRJZCA9IHRoaXMuX3BtdElkLFxuICAgICAgICBhdmNEYXRhID0gYXZjVHJhY2sucGVzRGF0YSxcbiAgICAgICAgYXVkaW9EYXRhID0gYXVkaW9UcmFjay5wZXNEYXRhLFxuICAgICAgICBpZDNEYXRhID0gaWQzVHJhY2sucGVzRGF0YSxcbiAgICAgICAgcGFyc2VQQVQgPSB0aGlzLl9wYXJzZVBBVCxcbiAgICAgICAgcGFyc2VQTVQgPSB0aGlzLl9wYXJzZVBNVCxcbiAgICAgICAgcGFyc2VQRVMgPSB0aGlzLl9wYXJzZVBFUyxcbiAgICAgICAgcGFyc2VBVkNQRVMgPSB0aGlzLl9wYXJzZUFWQ1BFUy5iaW5kKHRoaXMpLFxuICAgICAgICBwYXJzZUFBQ1BFUyA9IHRoaXMuX3BhcnNlQUFDUEVTLmJpbmQodGhpcyksXG4gICAgICAgIHBhcnNlTVBFR1BFUyA9IHRoaXMuX3BhcnNlTVBFR1BFUy5iaW5kKHRoaXMpLFxuICAgICAgICBwYXJzZUlEM1BFUyA9IHRoaXMuX3BhcnNlSUQzUEVTLmJpbmQodGhpcyk7XG5cbiAgICAvLyBkb24ndCBwYXJzZSBsYXN0IFRTIHBhY2tldCBpZiBpbmNvbXBsZXRlXG4gICAgbGVuIC09IGxlbiAlIDE4ODtcbiAgICAvLyBsb29wIHRocm91Z2ggVFMgcGFja2V0c1xuICAgIGZvciAoc3RhcnQgPSAwOyBzdGFydCA8IGxlbjsgc3RhcnQgKz0gMTg4KSB7XG4gICAgICBpZiAoZGF0YVtzdGFydF0gPT09IDB4NDcpIHtcbiAgICAgICAgc3R0ID0gISEoZGF0YVtzdGFydCArIDFdICYgMHg0MCk7XG4gICAgICAgIC8vIHBpZCBpcyBhIDEzLWJpdCBmaWVsZCBzdGFydGluZyBhdCB0aGUgbGFzdCBiaXQgb2YgVFNbMV1cbiAgICAgICAgcGlkID0gKChkYXRhW3N0YXJ0ICsgMV0gJiAweDFmKSA8PCA4KSArIGRhdGFbc3RhcnQgKyAyXTtcbiAgICAgICAgYXRmID0gKGRhdGFbc3RhcnQgKyAzXSAmIDB4MzApID4+IDQ7XG4gICAgICAgIC8vIGlmIGFuIGFkYXB0aW9uIGZpZWxkIGlzIHByZXNlbnQsIGl0cyBsZW5ndGggaXMgc3BlY2lmaWVkIGJ5IHRoZSBmaWZ0aCBieXRlIG9mIHRoZSBUUyBwYWNrZXQgaGVhZGVyLlxuICAgICAgICBpZiAoYXRmID4gMSkge1xuICAgICAgICAgIG9mZnNldCA9IHN0YXJ0ICsgNSArIGRhdGFbc3RhcnQgKyA0XTtcbiAgICAgICAgICAvLyBjb250aW51ZSBpZiB0aGVyZSBpcyBvbmx5IGFkYXB0YXRpb24gZmllbGRcbiAgICAgICAgICBpZiAob2Zmc2V0ID09PSBzdGFydCArIDE4OCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCA9IHN0YXJ0ICsgNDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHBpZCkge1xuICAgICAgICAgIGNhc2UgYXZjSWQ6XG4gICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgIGlmIChhdmNEYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdmNEYXRhKSkpIHtcbiAgICAgICAgICAgICAgICBwYXJzZUFWQ1BFUyhwZXMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhdmNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF2Y0RhdGEpIHtcbiAgICAgICAgICAgICAgYXZjRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgIGF2Y0RhdGEuc2l6ZSArPSBzdGFydCArIDE4OCAtIG9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgYXVkaW9JZDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgaWYgKGF1ZGlvRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXVkaW9EYXRhKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgcGFyc2VBQUNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyc2VNUEVHUEVTKHBlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGF1ZGlvRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgYXVkaW9EYXRhLmRhdGEucHVzaChkYXRhLnN1YmFycmF5KG9mZnNldCwgc3RhcnQgKyAxODgpKTtcbiAgICAgICAgICAgICAgYXVkaW9EYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGlkM0lkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBpZiAoaWQzRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoaWQzRGF0YSkpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VJRDNQRVMocGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZDNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlkM0RhdGEpIHtcbiAgICAgICAgICAgICAgaWQzRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgIGlkM0RhdGEuc2l6ZSArPSBzdGFydCArIDE4OCAtIG9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFbb2Zmc2V0XSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbXRJZCA9IHRoaXMuX3BtdElkID0gcGFyc2VQQVQoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgcG10SWQ6XG4gICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgIG9mZnNldCArPSBkYXRhW29mZnNldF0gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcnNlZFBJRHMgPSBwYXJzZVBNVChkYXRhLCBvZmZzZXQsIHRoaXMudHlwZVN1cHBvcnRlZC5tcGVnID09PSB0cnVlIHx8IHRoaXMudHlwZVN1cHBvcnRlZC5tcDMgPT09IHRydWUsIHRoaXMuc2FtcGxlQWVzICE9IG51bGwpO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0cmFjayBpZCBpZiB0cmFjayBQSUQgZm91bmQgd2hpbGUgcGFyc2luZyBQTVRcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgcmVzZXR0aW5nIHRoZSBQSUQgdG8gLTEgaW4gY2FzZVxuICAgICAgICAgICAgLy8gdHJhY2sgUElEIHRyYW5zaWVudGx5IGRpc2FwcGVhcnMgZnJvbSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiBpbiBjYXNlIG9mIHRyYW5zaWVudCBtaXNzaW5nIGF1ZGlvIHNhbXBsZXMgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIGF2Y0lkID0gcGFyc2VkUElEcy5hdmM7XG4gICAgICAgICAgICBpZiAoYXZjSWQgPiAwKSB7XG4gICAgICAgICAgICAgIGF2Y1RyYWNrLmlkID0gYXZjSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdWRpb0lkID0gcGFyc2VkUElEcy5hdWRpbztcbiAgICAgICAgICAgIGlmIChhdWRpb0lkID4gMCkge1xuICAgICAgICAgICAgICBhdWRpb1RyYWNrLmlkID0gYXVkaW9JZDtcbiAgICAgICAgICAgICAgYXVkaW9UcmFjay5pc0FBQyA9IHBhcnNlZFBJRHMuaXNBQUM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZDNJZCA9IHBhcnNlZFBJRHMuaWQzO1xuICAgICAgICAgICAgaWYgKGlkM0lkID4gMCkge1xuICAgICAgICAgICAgICBpZDNUcmFjay5pZCA9IGlkM0lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVua25vd25QSURzICYmICFwbXRQYXJzZWQpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdyZXBhcnNlIGZyb20gYmVnaW5uaW5nJyk7XG4gICAgICAgICAgICAgIHVua25vd25QSURzID0gZmFsc2U7XG4gICAgICAgICAgICAgIC8vIHdlIHNldCBpdCB0byAtMTg4LCB0aGUgKz0gMTg4IGluIHRoZSBmb3IgbG9vcCB3aWxsIHJlc2V0IHN0YXJ0IHRvIDBcbiAgICAgICAgICAgICAgc3RhcnQgPSAtMTg4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG10UGFyc2VkID0gdGhpcy5wbXRQYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICBjYXNlIDB4MWZmZjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1bmtub3duUElEcyA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IGZhbHNlLCByZWFzb246ICdUUyBwYWNrZXQgZGlkIG5vdCBzdGFydCB3aXRoIDB4NDcnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB0cnkgdG8gcGFyc2UgbGFzdCBQRVMgcGFja2V0c1xuICAgIGlmIChhdmNEYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdmNEYXRhKSkpIHtcbiAgICAgIHBhcnNlQVZDUEVTKHBlcywgdHJ1ZSk7XG4gICAgICBhdmNUcmFjay5wZXNEYXRhID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZWl0aGVyIGF2Y0RhdGEgbnVsbCBvciBQRVMgdHJ1bmNhdGVkLCBrZWVwIGl0IGZvciBuZXh0IGZyYWcgcGFyc2luZ1xuICAgICAgYXZjVHJhY2sucGVzRGF0YSA9IGF2Y0RhdGE7XG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXVkaW9EYXRhKSkpIHtcbiAgICAgIGlmIChhdWRpb1RyYWNrLmlzQUFDKSB7XG4gICAgICAgIHBhcnNlQUFDUEVTKHBlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZU1QRUdQRVMocGVzKTtcbiAgICAgIH1cbiAgICAgIGF1ZGlvVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdWRpb0RhdGEgJiYgYXVkaW9EYXRhLnNpemUpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsYXN0IEFBQyBQRVMgcGFja2V0IHRydW5jYXRlZCxtaWdodCBvdmVybGFwIGJldHdlZW4gZnJhZ21lbnRzJyk7XG4gICAgICB9XG4gICAgICAvLyBlaXRoZXIgYXVkaW9EYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgIGF1ZGlvVHJhY2sucGVzRGF0YSA9IGF1ZGlvRGF0YTtcbiAgICB9XG5cbiAgICBpZiAoaWQzRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoaWQzRGF0YSkpKSB7XG4gICAgICBwYXJzZUlEM1BFUyhwZXMpO1xuICAgICAgaWQzVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVpdGhlciBpZDNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBpZDNEYXRhO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNhbXBsZUFlcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXggPSBmdW5jdGlvbiBkZWNyeXB0QW5kUmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgaWYgKGF1ZGlvVHJhY2suc2FtcGxlcyAmJiBhdWRpb1RyYWNrLmlzQUFDKSB7XG4gICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgIHRoaXMuc2FtcGxlQWVzLmRlY3J5cHRBYWNTYW1wbGVzKGF1ZGlvVHJhY2suc2FtcGxlcywgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbHRoaXMuZGVjcnlwdEFuZFJlbXV4QXZjKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXhBdmMgPSBmdW5jdGlvbiBkZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgaWYgKHZpZGVvVHJhY2suc2FtcGxlcykge1xuICAgICAgdmFyIGxvY2FsdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWx0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VQQVQgPSBmdW5jdGlvbiBfcGFyc2VQQVQoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuICAgIHJldHVybiAoZGF0YVtvZmZzZXQgKyAxMF0gJiAweDFGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAxMV07XG4gICAgLy9sb2dnZXIubG9nKCdQTVQgUElEOicgICsgdGhpcy5fcG10SWQpO1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlUE1UID0gZnVuY3Rpb24gX3BhcnNlUE1UKGRhdGEsIG9mZnNldCwgbXBlZ1N1cHBvcnRlZCwgaXNTYW1wbGVBZXMpIHtcbiAgICB2YXIgc2VjdGlvbkxlbmd0aCxcbiAgICAgICAgdGFibGVFbmQsXG4gICAgICAgIHByb2dyYW1JbmZvTGVuZ3RoLFxuICAgICAgICBwaWQsXG4gICAgICAgIHJlc3VsdCA9IHsgYXVkaW86IC0xLCBhdmM6IC0xLCBpZDM6IC0xLCBpc0FBQzogdHJ1ZSB9O1xuICAgIHNlY3Rpb25MZW5ndGggPSAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MGYpIDw8IDggfCBkYXRhW29mZnNldCArIDJdO1xuICAgIHRhYmxlRW5kID0gb2Zmc2V0ICsgMyArIHNlY3Rpb25MZW5ndGggLSA0O1xuICAgIC8vIHRvIGRldGVybWluZSB3aGVyZSB0aGUgdGFibGUgaXMsIHdlIGhhdmUgdG8gZmlndXJlIG91dCBob3dcbiAgICAvLyBsb25nIHRoZSBwcm9ncmFtIGluZm8gZGVzY3JpcHRvcnMgYXJlXG4gICAgcHJvZ3JhbUluZm9MZW5ndGggPSAoZGF0YVtvZmZzZXQgKyAxMF0gJiAweDBmKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAxMV07XG4gICAgLy8gYWR2YW5jZSB0aGUgb2Zmc2V0IHRvIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgbWFwcGluZyB0YWJsZVxuICAgIG9mZnNldCArPSAxMiArIHByb2dyYW1JbmZvTGVuZ3RoO1xuICAgIHdoaWxlIChvZmZzZXQgPCB0YWJsZUVuZCkge1xuICAgICAgcGlkID0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDFGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAyXTtcbiAgICAgIHN3aXRjaCAoZGF0YVtvZmZzZXRdKSB7XG4gICAgICAgIGNhc2UgMHhjZjpcbiAgICAgICAgICAvLyBTQU1QTEUtQUVTIEFBQ1xuICAgICAgICAgIGlmICghaXNTYW1wbGVBZXMpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndW5rb3duIHN0cmVhbSB0eXBlOicgKyBkYXRhW29mZnNldF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgICAgLy8gSVNPL0lFQyAxMzgxOC03IEFEVFMgQUFDIChNUEVHLTIgbG93ZXIgYml0LXJhdGUgYXVkaW8pXG4gICAgICAgIGNhc2UgMHgwZjpcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ0FBQyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIFBhY2tldGl6ZWQgbWV0YWRhdGEgKElEMylcbiAgICAgICAgY2FzZSAweDE1OlxuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnSUQzIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5pZDMgPT09IC0xKSB7XG4gICAgICAgICAgICByZXN1bHQuaWQzID0gcGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDB4ZGI6XG4gICAgICAgICAgLy8gU0FNUExFLUFFUyBBVkNcbiAgICAgICAgICBpZiAoIWlzU2FtcGxlQWVzKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICAgIC8vIElUVS1UIFJlYy4gSC4yNjQgYW5kIElTTy9JRUMgMTQ0OTYtMTAgKGxvd2VyIGJpdC1yYXRlIHZpZGVvKVxuICAgICAgICBjYXNlIDB4MWI6XG4gICAgICAgICAgLy9sb2dnZXIubG9nKCdBVkMgUElEOicgICsgcGlkKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmF2YyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hdmMgPSBwaWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIElTTy9JRUMgMTExNzItMyAoTVBFRy0xIGF1ZGlvKVxuICAgICAgICAvLyBvciBJU08vSUVDIDEzODE4LTMgKE1QRUctMiBoYWx2ZWQgc2FtcGxlIHJhdGUgYXVkaW8pXG4gICAgICAgIGNhc2UgMHgwMzpcbiAgICAgICAgY2FzZSAweDA0OlxuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnTVBFRyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgIGlmICghbXBlZ1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdNUEVHIGF1ZGlvIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciBmb3Igbm93Jyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgICByZXN1bHQuaXNBQUMgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAweDI0OlxuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0hFVkMgc3RyZWFtIHR5cGUgZm91bmQsIG5vdCBzdXBwb3J0ZWQgZm9yIG5vdycpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd1bmtvd24gc3RyZWFtIHR5cGU6JyArIGRhdGFbb2Zmc2V0XSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBtb3ZlIHRvIHRoZSBuZXh0IHRhYmxlIGVudHJ5XG4gICAgICAvLyBza2lwIHBhc3QgdGhlIGVsZW1lbnRhcnkgc3RyZWFtIGRlc2NyaXB0b3JzLCBpZiBwcmVzZW50XG4gICAgICBvZmZzZXQgKz0gKChkYXRhW29mZnNldCArIDNdICYgMHgwRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgNF0pICsgNTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBFUyA9IGZ1bmN0aW9uIF9wYXJzZVBFUyhzdHJlYW0pIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGZyYWcsXG4gICAgICAgIHBlc0ZsYWdzLFxuICAgICAgICBwZXNQcmVmaXgsXG4gICAgICAgIHBlc0xlbixcbiAgICAgICAgcGVzSGRyTGVuLFxuICAgICAgICBwZXNEYXRhLFxuICAgICAgICBwZXNQdHMsXG4gICAgICAgIHBlc0R0cyxcbiAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0LFxuICAgICAgICBkYXRhID0gc3RyZWFtLmRhdGE7XG4gICAgLy8gc2FmZXR5IGNoZWNrXG4gICAgaWYgKCFzdHJlYW0gfHwgc3RyZWFtLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIHdlIG1pZ2h0IG5lZWQgdXAgdG8gMTkgYnl0ZXMgdG8gcmVhZCBQRVMgaGVhZGVyXG4gICAgLy8gaWYgZmlyc3QgY2h1bmsgb2YgZGF0YSBpcyBsZXNzIHRoYW4gMTkgYnl0ZXMsIGxldCdzIG1lcmdlIGl0IHdpdGggZm9sbG93aW5nIG9uZXMgdW50aWwgd2UgZ2V0IDE5IGJ5dGVzXG4gICAgLy8gdXN1YWxseSBvbmx5IG9uZSBtZXJnZSBpcyBuZWVkZWQgKGFuZCB0aGlzIGlzIHJhcmUgLi4uKVxuICAgIHdoaWxlIChkYXRhWzBdLmxlbmd0aCA8IDE5ICYmIGRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhWzBdLmxlbmd0aCArIGRhdGFbMV0ubGVuZ3RoKTtcbiAgICAgIG5ld0RhdGEuc2V0KGRhdGFbMF0pO1xuICAgICAgbmV3RGF0YS5zZXQoZGF0YVsxXSwgZGF0YVswXS5sZW5ndGgpO1xuICAgICAgZGF0YVswXSA9IG5ld0RhdGE7XG4gICAgICBkYXRhLnNwbGljZSgxLCAxKTtcbiAgICB9XG4gICAgLy9yZXRyaWV2ZSBQVFMvRFRTIGZyb20gZmlyc3QgZnJhZ21lbnRcbiAgICBmcmFnID0gZGF0YVswXTtcbiAgICBwZXNQcmVmaXggPSAoZnJhZ1swXSA8PCAxNikgKyAoZnJhZ1sxXSA8PCA4KSArIGZyYWdbMl07XG4gICAgaWYgKHBlc1ByZWZpeCA9PT0gMSkge1xuICAgICAgcGVzTGVuID0gKGZyYWdbNF0gPDwgOCkgKyBmcmFnWzVdO1xuICAgICAgLy8gaWYgUEVTIHBhcnNlZCBsZW5ndGggaXMgbm90IHplcm8gYW5kIGdyZWF0ZXIgdGhhbiB0b3RhbCByZWNlaXZlZCBsZW5ndGgsIHN0b3AgcGFyc2luZy4gUEVTIG1pZ2h0IGJlIHRydW5jYXRlZFxuICAgICAgLy8gbWludXMgNiA6IFBFUyBoZWFkZXIgc2l6ZVxuICAgICAgaWYgKHBlc0xlbiAmJiBwZXNMZW4gPiBzdHJlYW0uc2l6ZSAtIDYpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBwZXNGbGFncyA9IGZyYWdbN107XG4gICAgICBpZiAocGVzRmxhZ3MgJiAweEMwKSB7XG4gICAgICAgIC8qIFBFUyBoZWFkZXIgZGVzY3JpYmVkIGhlcmUgOiBodHRwOi8vZHZkLnNvdXJjZWZvcmdlLm5ldC9kdmRpbmZvL3Blcy1oZHIuaHRtbFxuICAgICAgICAgICAgYXMgUFRTIC8gRFRTIGlzIDMzIGJpdCB3ZSBjYW5ub3QgdXNlIGJpdHdpc2Ugb3BlcmF0b3IgaW4gSlMsXG4gICAgICAgICAgICBhcyBCaXR3aXNlIG9wZXJhdG9ycyB0cmVhdCB0aGVpciBvcGVyYW5kcyBhcyBhIHNlcXVlbmNlIG9mIDMyIGJpdHMgKi9cbiAgICAgICAgcGVzUHRzID0gKGZyYWdbOV0gJiAweDBFKSAqIDUzNjg3MDkxMiArIC8vIDEgPDwgMjlcbiAgICAgICAgKGZyYWdbMTBdICYgMHhGRikgKiA0MTk0MzA0ICsgLy8gMSA8PCAyMlxuICAgICAgICAoZnJhZ1sxMV0gJiAweEZFKSAqIDE2Mzg0ICsgLy8gMSA8PCAxNFxuICAgICAgICAoZnJhZ1sxMl0gJiAweEZGKSAqIDEyOCArIC8vIDEgPDwgN1xuICAgICAgICAoZnJhZ1sxM10gJiAweEZFKSAvIDI7XG4gICAgICAgIC8vIGNoZWNrIGlmIGdyZWF0ZXIgdGhhbiAyXjMyIC0xXG4gICAgICAgIGlmIChwZXNQdHMgPiA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgLy8gZGVjcmVtZW50IDJeMzNcbiAgICAgICAgICBwZXNQdHMgLT0gODU4OTkzNDU5MjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVzRmxhZ3MgJiAweDQwKSB7XG4gICAgICAgICAgcGVzRHRzID0gKGZyYWdbMTRdICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgKGZyYWdbMTVdICYgMHhGRikgKiA0MTk0MzA0ICsgLy8gMSA8PCAyMlxuICAgICAgICAgIChmcmFnWzE2XSAmIDB4RkUpICogMTYzODQgKyAvLyAxIDw8IDE0XG4gICAgICAgICAgKGZyYWdbMTddICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAoZnJhZ1sxOF0gJiAweEZFKSAvIDI7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgZ3JlYXRlciB0aGFuIDJeMzIgLTFcbiAgICAgICAgICBpZiAocGVzRHRzID4gNDI5NDk2NzI5NSkge1xuICAgICAgICAgICAgLy8gZGVjcmVtZW50IDJeMzNcbiAgICAgICAgICAgIHBlc0R0cyAtPSA4NTg5OTM0NTkyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVzUHRzIC0gcGVzRHRzID4gNjAgKiA5MDAwMCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybihNYXRoLnJvdW5kKChwZXNQdHMgLSBwZXNEdHMpIC8gOTAwMDApICsgJ3MgZGVsdGEgYmV0d2VlbiBQVFMgYW5kIERUUywgYWxpZ24gdGhlbScpO1xuICAgICAgICAgICAgcGVzUHRzID0gcGVzRHRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXNEdHMgPSBwZXNQdHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlc0hkckxlbiA9IGZyYWdbOF07XG4gICAgICAvLyA5IGJ5dGVzIDogNiBieXRlcyBmb3IgUEVTIGhlYWRlciArIDMgYnl0ZXMgZm9yIFBFUyBleHRlbnNpb25cbiAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IHBlc0hkckxlbiArIDk7XG5cbiAgICAgIHN0cmVhbS5zaXplIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgIC8vcmVhc3NlbWJsZSBQRVMgcGFja2V0XG4gICAgICBwZXNEYXRhID0gbmV3IFVpbnQ4QXJyYXkoc3RyZWFtLnNpemUpO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGRhdGFMZW4gPSBkYXRhLmxlbmd0aDsgaiA8IGRhdGFMZW47IGorKykge1xuICAgICAgICBmcmFnID0gZGF0YVtqXTtcbiAgICAgICAgdmFyIGxlbiA9IGZyYWcuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKHBheWxvYWRTdGFydE9mZnNldCkge1xuICAgICAgICAgIGlmIChwYXlsb2FkU3RhcnRPZmZzZXQgPiBsZW4pIHtcbiAgICAgICAgICAgIC8vIHRyaW0gZnVsbCBmcmFnIGlmIFBFUyBoZWFkZXIgYmlnZ2VyIHRoYW4gZnJhZ1xuICAgICAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0IC09IGxlbjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmltIHBhcnRpYWwgZnJhZyBpZiBQRVMgaGVhZGVyIHNtYWxsZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICBmcmFnID0gZnJhZy5zdWJhcnJheShwYXlsb2FkU3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgbGVuIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBlc0RhdGEuc2V0KGZyYWcsIGkpO1xuICAgICAgICBpICs9IGxlbjtcbiAgICAgIH1cbiAgICAgIGlmIChwZXNMZW4pIHtcbiAgICAgICAgLy8gcGF5bG9hZCBzaXplIDogcmVtb3ZlIFBFUyBoZWFkZXIgKyBQRVMgZXh0ZW5zaW9uXG4gICAgICAgIHBlc0xlbiAtPSBwZXNIZHJMZW4gKyAzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZGF0YTogcGVzRGF0YSwgcHRzOiBwZXNQdHMsIGR0czogcGVzRHRzLCBsZW46IHBlc0xlbiB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5wdXNoQWNjZXNVbml0ID0gZnVuY3Rpb24gcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIGF2Y1RyYWNrKSB7XG4gICAgaWYgKGF2Y1NhbXBsZS51bml0cy5sZW5ndGggJiYgYXZjU2FtcGxlLmZyYW1lKSB7XG4gICAgICB2YXIgc2FtcGxlcyA9IGF2Y1RyYWNrLnNhbXBsZXM7XG4gICAgICB2YXIgbmJTYW1wbGVzID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAvLyBvbmx5IHB1c2ggQVZDIHNhbXBsZSBpZiBzdGFydGluZyB3aXRoIGEga2V5ZnJhbWUgaXMgbm90IG1hbmRhdG9yeSBPUlxuICAgICAgLy8gICAgaWYga2V5ZnJhbWUgYWxyZWFkeSBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IE9SXG4gICAgICAvLyAgICAgICBrZXlmcmFtZSBmb3VuZCBpbiBsYXN0IGZyYWdtZW50ICh0cmFjay5zcHMpIEFORFxuICAgICAgLy8gICAgICAgICAgc2FtcGxlcyBhbHJlYWR5IGFwcGVuZGVkICh3ZSBhbHJlYWR5IGZvdW5kIGEga2V5ZnJhbWUgaW4gdGhpcyBmcmFnbWVudCkgT1IgZnJhZ21lbnQgaXMgY29udGlndW91c1xuICAgICAgaWYgKCF0aGlzLmNvbmZpZy5mb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5IHx8IGF2Y1NhbXBsZS5rZXkgPT09IHRydWUgfHwgYXZjVHJhY2suc3BzICYmIChuYlNhbXBsZXMgfHwgdGhpcy5jb250aWd1b3VzKSkge1xuICAgICAgICBhdmNTYW1wbGUuaWQgPSBuYlNhbXBsZXM7XG4gICAgICAgIHNhbXBsZXMucHVzaChhdmNTYW1wbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZHJvcHBlZCBzYW1wbGVzLCB0cmFjayBpdFxuICAgICAgICBhdmNUcmFjay5kcm9wcGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdmNTYW1wbGUuZGVidWcubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coYXZjU2FtcGxlLnB0cyArICcvJyArIGF2Y1NhbXBsZS5kdHMgKyAnOicgKyBhdmNTYW1wbGUuZGVidWcpO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFWQ1BFUyA9IGZ1bmN0aW9uIF9wYXJzZUFWQ1BFUyhwZXMsIGxhc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy9sb2dnZXIubG9nKCdwYXJzZSBuZXcgUEVTJyk7XG4gICAgdmFyIHRyYWNrID0gdGhpcy5fYXZjVHJhY2ssXG4gICAgICAgIHVuaXRzID0gdGhpcy5fcGFyc2VBVkNOQUx1KHBlcy5kYXRhKSxcbiAgICAgICAgZGVidWcgPSBmYWxzZSxcbiAgICAgICAgZXhwR29sb21iRGVjb2RlcixcbiAgICAgICAgYXZjU2FtcGxlID0gdGhpcy5hdmNTYW1wbGUsXG4gICAgICAgIHB1c2gsXG4gICAgICAgIHNwc2ZvdW5kID0gZmFsc2UsXG4gICAgICAgIGksXG4gICAgICAgIHB1c2hBY2Nlc1VuaXQgPSB0aGlzLnB1c2hBY2Nlc1VuaXQuYmluZCh0aGlzKSxcbiAgICAgICAgY3JlYXRlQVZDU2FtcGxlID0gZnVuY3Rpb24gY3JlYXRlQVZDU2FtcGxlKGtleSwgcHRzLCBkdHMsIGRlYnVnKSB7XG4gICAgICByZXR1cm4geyBrZXk6IGtleSwgcHRzOiBwdHMsIGR0czogZHRzLCB1bml0czogW10sIGRlYnVnOiBkZWJ1ZyB9O1xuICAgIH07XG4gICAgLy9mcmVlIHBlcy5kYXRhIHRvIHNhdmUgdXAgc29tZSBtZW1vcnlcbiAgICBwZXMuZGF0YSA9IG51bGw7XG5cbiAgICAvLyBpZiBuZXcgTkFMIHVuaXRzIGZvdW5kIGFuZCBsYXN0IHNhbXBsZSBzdGlsbCB0aGVyZSwgbGV0J3MgcHVzaCAuLi5cbiAgICAvLyB0aGlzIGhlbHBzIHBhcnNpbmcgc3RyZWFtcyB3aXRoIG1pc3NpbmcgQVVEIChvbmx5IGRvIHRoaXMgaWYgQVVEIG5ldmVyIGZvdW5kKVxuICAgIGlmIChhdmNTYW1wbGUgJiYgdW5pdHMubGVuZ3RoICYmICF0cmFjay5hdWRGb3VuZCkge1xuICAgICAgcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIHRyYWNrKTtcbiAgICAgIGF2Y1NhbXBsZSA9IHRoaXMuYXZjU2FtcGxlID0gY3JlYXRlQVZDU2FtcGxlKGZhbHNlLCBwZXMucHRzLCBwZXMuZHRzLCAnJyk7XG4gICAgfVxuXG4gICAgdW5pdHMuZm9yRWFjaChmdW5jdGlvbiAodW5pdCkge1xuICAgICAgc3dpdGNoICh1bml0LnR5cGUpIHtcbiAgICAgICAgLy9ORFJcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmICghYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSBfdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUodHJ1ZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnTkRSICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF2Y1NhbXBsZS5mcmFtZSA9IHRydWU7XG4gICAgICAgICAgdmFyIGRhdGEgPSB1bml0LmRhdGE7XG4gICAgICAgICAgLy8gb25seSBjaGVjayBzbGljZSB0eXBlIHRvIGRldGVjdCBLRiBpbiBjYXNlIFNQUyBmb3VuZCBpbiBzYW1lIHBhY2tldCAoYW55IGtleWZyYW1lIGlzIHByZWNlZGVkIGJ5IFNQUyAuLi4pXG4gICAgICAgICAgaWYgKHNwc2ZvdW5kICYmIGRhdGEubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgLy8gcmV0cmlldmUgc2xpY2UgdHlwZSBieSBwYXJzaW5nIGJlZ2lubmluZyBvZiBOQUwgdW5pdCAoZm9sbG93IEgyNjQgc3BlYywgc2xpY2VfaGVhZGVyIGRlZmluaXRpb24pIHRvIGRldGVjdCBrZXlmcmFtZSBlbWJlZGRlZCBpbiBORFJcbiAgICAgICAgICAgIHZhciBzbGljZVR5cGUgPSBuZXcgZXhwX2dvbG9tYihkYXRhKS5yZWFkU2xpY2VUeXBlKCk7XG4gICAgICAgICAgICAvLyAyIDogSSBzbGljZSwgNCA6IFNJIHNsaWNlLCA3IDogSSBzbGljZSwgOTogU0kgc2xpY2VcbiAgICAgICAgICAgIC8vIFNJIHNsaWNlIDogQSBzbGljZSB0aGF0IGlzIGNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seSBhbmQgdXNpbmcgcXVhbnRpc2F0aW9uIG9mIHRoZSBwcmVkaWN0aW9uIHNhbXBsZXMuXG4gICAgICAgICAgICAvLyBBbiBTSSBzbGljZSBjYW4gYmUgY29kZWQgc3VjaCB0aGF0IGl0cyBkZWNvZGVkIHNhbXBsZXMgY2FuIGJlIGNvbnN0cnVjdGVkIGlkZW50aWNhbGx5IHRvIGFuIFNQIHNsaWNlLlxuICAgICAgICAgICAgLy8gSSBzbGljZTogQSBzbGljZSB0aGF0IGlzIG5vdCBhbiBTSSBzbGljZSB0aGF0IGlzIGRlY29kZWQgdXNpbmcgaW50cmEgcHJlZGljdGlvbiBvbmx5LlxuICAgICAgICAgICAgLy9pZiAoc2xpY2VUeXBlID09PSAyIHx8IHNsaWNlVHlwZSA9PT0gNykge1xuICAgICAgICAgICAgaWYgKHNsaWNlVHlwZSA9PT0gMiB8fCBzbGljZVR5cGUgPT09IDQgfHwgc2xpY2VUeXBlID09PSA3IHx8IHNsaWNlVHlwZSA9PT0gOSkge1xuICAgICAgICAgICAgICBhdmNTYW1wbGUua2V5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vSURSXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAvLyBoYW5kbGUgUEVTIG5vdCBzdGFydGluZyB3aXRoIEFVRFxuICAgICAgICAgIGlmICghYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSBfdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUodHJ1ZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnSURSICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF2Y1NhbXBsZS5rZXkgPSB0cnVlO1xuICAgICAgICAgIGF2Y1NhbXBsZS5mcmFtZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vU0VJXG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1NFSSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyID0gbmV3IGV4cF9nb2xvbWIoX3RoaXMuZGlzY2FyZEVQQih1bml0LmRhdGEpKTtcblxuICAgICAgICAgIC8vIHNraXAgZnJhbWVUeXBlXG4gICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcblxuICAgICAgICAgIHZhciBwYXlsb2FkVHlwZSA9IDA7XG4gICAgICAgICAgdmFyIHBheWxvYWRTaXplID0gMDtcbiAgICAgICAgICB2YXIgZW5kT2ZDYXB0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgIHZhciBiID0gMDtcblxuICAgICAgICAgIHdoaWxlICghZW5kT2ZDYXB0aW9ucyAmJiBleHBHb2xvbWJEZWNvZGVyLmJ5dGVzQXZhaWxhYmxlID4gMSkge1xuICAgICAgICAgICAgcGF5bG9hZFR5cGUgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBiID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgcGF5bG9hZFR5cGUgKz0gYjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGIgPT09IDB4RkYpO1xuXG4gICAgICAgICAgICAvLyBQYXJzZSBwYXlsb2FkIHNpemUuXG4gICAgICAgICAgICBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIGIgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSBiO1xuICAgICAgICAgICAgfSB3aGlsZSAoYiA9PT0gMHhGRik7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IHRoZXJlIGNhbiBiZSBtb3JlIHRoYW4gb25lIHBheWxvYWQgaW4gYW4gU0VJIHBhY2tldC4uLlxuICAgICAgICAgICAgLy8gVE9ETzogbmVlZCB0byByZWFkIHR5cGUgYW5kIHNpemUgaW4gYSB3aGlsZSBsb29wIHRvIGdldCB0aGVtIGFsbFxuICAgICAgICAgICAgaWYgKHBheWxvYWRUeXBlID09PSA0ICYmIGV4cEdvbG9tYkRlY29kZXIuYnl0ZXNBdmFpbGFibGUgIT09IDApIHtcblxuICAgICAgICAgICAgICBlbmRPZkNhcHRpb25zID0gdHJ1ZTtcblxuICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuXG4gICAgICAgICAgICAgIGlmIChjb3VudHJ5Q29kZSA9PT0gMTgxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyQ29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVTaG9ydCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyQ29kZSA9PT0gNDkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB1c2VyU3RydWN0dXJlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUludCgpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodXNlclN0cnVjdHVyZSA9PT0gMHg0NzQxMzkzNCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlckRhdGFUeXBlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSYXcgQ0VBLTYwOCBieXRlcyB3cmFwcGVkIGluIENFQS03MDggcGFja2V0XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyRGF0YVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RCeXRlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vjb25kQnl0ZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxDQ3MgPSAzMSAmIGZpcnN0Qnl0ZTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZUFycmF5ID0gW2ZpcnN0Qnl0ZSwgc2Vjb25kQnl0ZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWxDQ3M7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMyBieXRlcyBwZXIgQ0NcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkucHVzaChleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW5zZXJ0U2FtcGxlSW5PcmRlcihfdGhpcy5fdHh0VHJhY2suc2FtcGxlcywgeyB0eXBlOiAzLCBwdHM6IHBlcy5wdHMsIGJ5dGVzOiBieXRlQXJyYXkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZFNpemUgPCBleHBHb2xvbWJEZWNvZGVyLmJ5dGVzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXlsb2FkU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy9TUFNcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIHNwc2ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1NQUyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRyYWNrLnNwcykge1xuICAgICAgICAgICAgZXhwR29sb21iRGVjb2RlciA9IG5ldyBleHBfZ29sb21iKHVuaXQuZGF0YSk7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gZXhwR29sb21iRGVjb2Rlci5yZWFkU1BTKCk7XG4gICAgICAgICAgICB0cmFjay53aWR0aCA9IGNvbmZpZy53aWR0aDtcbiAgICAgICAgICAgIHRyYWNrLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0cmFjay5waXhlbFJhdGlvID0gY29uZmlnLnBpeGVsUmF0aW87XG4gICAgICAgICAgICB0cmFjay5zcHMgPSBbdW5pdC5kYXRhXTtcbiAgICAgICAgICAgIHRyYWNrLmR1cmF0aW9uID0gX3RoaXMuX2R1cmF0aW9uO1xuICAgICAgICAgICAgdmFyIGNvZGVjYXJyYXkgPSB1bml0LmRhdGEuc3ViYXJyYXkoMSwgNCk7XG4gICAgICAgICAgICB2YXIgY29kZWNzdHJpbmcgPSAnYXZjMS4nO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgaCA9IGNvZGVjYXJyYXlbaV0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgaCA9ICcwJyArIGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29kZWNzdHJpbmcgKz0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrLmNvZGVjID0gY29kZWNzdHJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvL1BQU1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgaWYgKGRlYnVnICYmIGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICdQUFMgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0cmFjay5wcHMpIHtcbiAgICAgICAgICAgIHRyYWNrLnBwcyA9IFt1bml0LmRhdGFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQVVEXG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgdHJhY2suYXVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCB0cmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgZGVidWcgPyAnQVVEICcgOiAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEZpbGxlciBEYXRhXG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgICBpZiAoYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ3Vua25vd24gTkFMICcgKyB1bml0LnR5cGUgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGF2Y1NhbXBsZSAmJiBwdXNoKSB7XG4gICAgICAgIHZhciBfdW5pdHMgPSBhdmNTYW1wbGUudW5pdHM7XG4gICAgICAgIF91bml0cy5wdXNoKHVuaXQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGlmIGxhc3QgUEVTIHBhY2tldCwgcHVzaCBzYW1wbGVzXG4gICAgaWYgKGxhc3QgJiYgYXZjU2FtcGxlKSB7XG4gICAgICBwdXNoQWNjZXNVbml0KGF2Y1NhbXBsZSwgdHJhY2spO1xuICAgICAgdGhpcy5hdmNTYW1wbGUgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9pbnNlcnRTYW1wbGVJbk9yZGVyID0gZnVuY3Rpb24gX2luc2VydFNhbXBsZUluT3JkZXIoYXJyLCBkYXRhKSB7XG4gICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IDApIHtcbiAgICAgIGlmIChkYXRhLnB0cyA+PSBhcnJbbGVuIC0gMV0ucHRzKSB7XG4gICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgcG9zID0gbGVuIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICAgICAgaWYgKGRhdGEucHRzIDwgYXJyW3Bvc10ucHRzKSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKHBvcywgMCwgZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goZGF0YSk7XG4gICAgfVxuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX2dldExhc3ROYWxVbml0ID0gZnVuY3Rpb24gX2dldExhc3ROYWxVbml0KCkge1xuICAgIHZhciBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSxcbiAgICAgICAgbGFzdFVuaXQgPSB2b2lkIDA7XG4gICAgLy8gdHJ5IHRvIGZhbGxiYWNrIHRvIHByZXZpb3VzIHNhbXBsZSBpZiBjdXJyZW50IG9uZSBpcyBlbXB0eVxuICAgIGlmICghYXZjU2FtcGxlIHx8IGF2Y1NhbXBsZS51bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLFxuICAgICAgICAgIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgYXZjU2FtcGxlID0gc2FtcGxlc1tzYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBpZiAoYXZjU2FtcGxlKSB7XG4gICAgICB2YXIgdW5pdHMgPSBhdmNTYW1wbGUudW5pdHM7XG4gICAgICBsYXN0VW5pdCA9IHVuaXRzW3VuaXRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdFVuaXQ7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VBVkNOQUx1ID0gZnVuY3Rpb24gX3BhcnNlQVZDTkFMdShhcnJheSkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgbGVuID0gYXJyYXkuYnl0ZUxlbmd0aCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG92ZXJmbG93LFxuICAgICAgICB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLFxuICAgICAgICBzdGF0ZSA9IHRyYWNrLm5hbHVTdGF0ZSB8fCAwLFxuICAgICAgICBsYXN0U3RhdGUgPSBzdGF0ZTtcbiAgICB2YXIgdW5pdHMgPSBbXSxcbiAgICAgICAgdW5pdCxcbiAgICAgICAgdW5pdFR5cGUsXG4gICAgICAgIGxhc3RVbml0U3RhcnQgPSAtMSxcbiAgICAgICAgbGFzdFVuaXRUeXBlO1xuICAgIC8vbG9nZ2VyLmxvZygnUEVTOicgKyBIZXguaGV4RHVtcChhcnJheSkpO1xuXG4gICAgaWYgKHN0YXRlID09PSAtMSkge1xuICAgICAgLy8gc3BlY2lhbCB1c2UgY2FzZSB3aGVyZSB3ZSBmb3VuZCAzIG9yIDQtYnl0ZSBzdGFydCBjb2RlcyBleGFjdGx5IGF0IHRoZSBlbmQgb2YgcHJldmlvdXMgUEVTIHBhY2tldFxuICAgICAgbGFzdFVuaXRTdGFydCA9IDA7XG4gICAgICAvLyBOQUx1IHR5cGUgaXMgdmFsdWUgcmVhZCBmcm9tIG9mZnNldCAwXG4gICAgICBsYXN0VW5pdFR5cGUgPSBhcnJheVswXSAmIDB4MWY7XG4gICAgICBzdGF0ZSA9IDA7XG4gICAgICBpID0gMTtcbiAgICB9XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgdmFsdWUgPSBhcnJheVtpKytdO1xuICAgICAgLy8gb3B0aW1pemF0aW9uLiBzdGF0ZSAwIGFuZCAxIGFyZSB0aGUgcHJlZG9taW5hbnQgY2FzZS4gbGV0J3MgaGFuZGxlIHRoZW0gb3V0c2lkZSBvZiB0aGUgc3dpdGNoL2Nhc2VcbiAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSB2YWx1ZSA/IDAgOiAxO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZSA9PT0gMSkge1xuICAgICAgICBzdGF0ZSA9IHZhbHVlID8gMCA6IDI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gaGVyZSB3ZSBoYXZlIHN0YXRlIGVpdGhlciBlcXVhbCB0byAyIG9yIDNcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgc3RhdGUgPSAzO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMSkge1xuICAgICAgICBpZiAobGFzdFVuaXRTdGFydCA+PSAwKSB7XG4gICAgICAgICAgdW5pdCA9IHsgZGF0YTogYXJyYXkuc3ViYXJyYXkobGFzdFVuaXRTdGFydCwgaSAtIHN0YXRlIC0gMSksIHR5cGU6IGxhc3RVbml0VHlwZSB9O1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZygncHVzaGluZyBOQUxVLCB0eXBlL3NpemU6JyArIHVuaXQudHlwZSArICcvJyArIHVuaXQuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxhc3RVbml0U3RhcnQgaXMgdW5kZWZpbmVkID0+IHRoaXMgaXMgdGhlIGZpcnN0IHN0YXJ0IGNvZGUgZm91bmQgaW4gdGhpcyBQRVMgcGFja2V0XG4gICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgc3RhcnQgY29kZSBkZWxpbWl0ZXIgaXMgb3ZlcmxhcHBpbmcgYmV0d2VlbiAyIFBFUyBwYWNrZXRzLFxuICAgICAgICAgIC8vIGllIGl0IHN0YXJ0ZWQgaW4gbGFzdCBwYWNrZXQgKGxhc3RTdGF0ZSBub3QgemVybylcbiAgICAgICAgICAvLyBhbmQgZW5kZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIFBFUyBwYWNrZXQgKGkgPD0gNCAtIGxhc3RTdGF0ZSlcbiAgICAgICAgICB2YXIgbGFzdFVuaXQgPSB0aGlzLl9nZXRMYXN0TmFsVW5pdCgpO1xuICAgICAgICAgIGlmIChsYXN0VW5pdCkge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBpIDw9IDQgLSBsYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgLy8gc3RhcnQgZGVsaW1pdGVyIG92ZXJsYXBwaW5nIGJldHdlZW4gUEVTIHBhY2tldHNcbiAgICAgICAgICAgICAgLy8gc3RyaXAgc3RhcnQgZGVsaW1pdGVyIGJ5dGVzIGZyb20gdGhlIGVuZCBvZiBsYXN0IE5BTCB1bml0XG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGxhc3RVbml0IGhhZCBhIHN0YXRlIGRpZmZlcmVudCBmcm9tIHplcm9cbiAgICAgICAgICAgICAgaWYgKGxhc3RVbml0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgbGFzdCBieXRlc1xuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSBsYXN0VW5pdC5kYXRhLnN1YmFycmF5KDAsIGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCAtIGxhc3RTdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIE5BTCB1bml0cyBhcmUgbm90IHN0YXJ0aW5nIHJpZ2h0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIFBFUyBwYWNrZXQsIHB1c2ggcHJlY2VkaW5nIGRhdGEgaW50byBwcmV2aW91cyBOQUwgdW5pdC5cbiAgICAgICAgICAgIG92ZXJmbG93ID0gaSAtIHN0YXRlIC0gMTtcbiAgICAgICAgICAgIGlmIChvdmVyZmxvdyA+IDApIHtcbiAgICAgICAgICAgICAgLy9sb2dnZXIubG9nKCdmaXJzdCBOQUxVIGZvdW5kIHdpdGggb3ZlcmZsb3c6JyArIG92ZXJmbG93KTtcbiAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCArIG92ZXJmbG93KTtcbiAgICAgICAgICAgICAgdG1wLnNldChsYXN0VW5pdC5kYXRhLCAwKTtcbiAgICAgICAgICAgICAgdG1wLnNldChhcnJheS5zdWJhcnJheSgwLCBvdmVyZmxvdyksIGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIGNhbiByZWFkIHVuaXQgdHlwZVxuICAgICAgICBpZiAoaSA8IGxlbikge1xuICAgICAgICAgIHVuaXRUeXBlID0gYXJyYXlbaV0gJiAweDFmO1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnZmluZCBOQUxVIEAgb2Zmc2V0OicgKyBpICsgJyx0eXBlOicgKyB1bml0VHlwZSk7XG4gICAgICAgICAgbGFzdFVuaXRTdGFydCA9IGk7XG4gICAgICAgICAgbGFzdFVuaXRUeXBlID0gdW5pdFR5cGU7XG4gICAgICAgICAgc3RhdGUgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdCBlbm91Z2ggYnl0ZSB0byByZWFkIHVuaXQgdHlwZS4gbGV0J3MgcmVhZCBpdCBvbiBuZXh0IFBFUyBwYXJzaW5nXG4gICAgICAgICAgc3RhdGUgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFzdFVuaXRTdGFydCA+PSAwICYmIHN0YXRlID49IDApIHtcbiAgICAgIHVuaXQgPSB7IGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIGxlbiksIHR5cGU6IGxhc3RVbml0VHlwZSwgc3RhdGU6IHN0YXRlIH07XG4gICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgLy9sb2dnZXIubG9nKCdwdXNoaW5nIE5BTFUsIHR5cGUvc2l6ZS9zdGF0ZTonICsgdW5pdC50eXBlICsgJy8nICsgdW5pdC5kYXRhLmJ5dGVMZW5ndGggKyAnLycgKyBzdGF0ZSk7XG4gICAgfVxuICAgIC8vIG5vIE5BTHUgZm91bmRcbiAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBhcHBlbmQgcGVzLmRhdGEgdG8gcHJldmlvdXMgTkFMIHVuaXRcbiAgICAgIHZhciBfbGFzdFVuaXQgPSB0aGlzLl9nZXRMYXN0TmFsVW5pdCgpO1xuICAgICAgaWYgKF9sYXN0VW5pdCkge1xuICAgICAgICB2YXIgX3RtcCA9IG5ldyBVaW50OEFycmF5KF9sYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGggKyBhcnJheS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgX3RtcC5zZXQoX2xhc3RVbml0LmRhdGEsIDApO1xuICAgICAgICBfdG1wLnNldChhcnJheSwgX2xhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgIF9sYXN0VW5pdC5kYXRhID0gX3RtcDtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhY2submFsdVN0YXRlID0gc3RhdGU7XG4gICAgcmV0dXJuIHVuaXRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiByZW1vdmUgRW11bGF0aW9uIFByZXZlbnRpb24gYnl0ZXMgZnJvbSBhIFJCU1BcbiAgICovXG5cblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLmRpc2NhcmRFUEIgPSBmdW5jdGlvbiBkaXNjYXJkRVBCKGRhdGEpIHtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoLFxuICAgICAgICBFUEJQb3NpdGlvbnMgPSBbXSxcbiAgICAgICAgaSA9IDEsXG4gICAgICAgIG5ld0xlbmd0aCxcbiAgICAgICAgbmV3RGF0YTtcblxuICAgIC8vIEZpbmQgYWxsIGBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlc2BcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcbiAgICAgIGlmIChkYXRhW2ldID09PSAwICYmIGRhdGFbaSArIDFdID09PSAwICYmIGRhdGFbaSArIDJdID09PSAweDAzKSB7XG4gICAgICAgIEVQQlBvc2l0aW9ucy5wdXNoKGkgKyAyKTtcbiAgICAgICAgaSArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5vIEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzIHdlcmUgZm91bmQganVzdCByZXR1cm4gdGhlIG9yaWdpbmFsXG4gICAgLy8gYXJyYXlcbiAgICBpZiAoRVBCUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcbiAgICBuZXdMZW5ndGggPSBsZW5ndGggLSBFUEJQb3NpdGlvbnMubGVuZ3RoO1xuICAgIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBzb3VyY2VJbmRleCsrLCBpKyspIHtcbiAgICAgIGlmIChzb3VyY2VJbmRleCA9PT0gRVBCUG9zaXRpb25zWzBdKSB7XG4gICAgICAgIC8vIFNraXAgdGhpcyBieXRlXG4gICAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHBvc2l0aW9uIGluZGV4XG4gICAgICAgIEVQQlBvc2l0aW9ucy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgbmV3RGF0YVtpXSA9IGRhdGFbc291cmNlSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFBQ1BFUyA9IGZ1bmN0aW9uIF9wYXJzZUFBQ1BFUyhwZXMpIHtcbiAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLFxuICAgICAgICBkYXRhID0gcGVzLmRhdGEsXG4gICAgICAgIHB0cyA9IHBlcy5wdHMsXG4gICAgICAgIHN0YXJ0T2Zmc2V0ID0gMCxcbiAgICAgICAgYWFjT3ZlckZsb3cgPSB0aGlzLmFhY092ZXJGbG93LFxuICAgICAgICBhYWNMYXN0UFRTID0gdGhpcy5hYWNMYXN0UFRTLFxuICAgICAgICBmcmFtZUR1cmF0aW9uLFxuICAgICAgICBmcmFtZUluZGV4LFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHN0YW1wLFxuICAgICAgICBsZW47XG4gICAgaWYgKGFhY092ZXJGbG93KSB7XG4gICAgICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkoYWFjT3ZlckZsb3cuYnl0ZUxlbmd0aCArIGRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICB0bXAuc2V0KGFhY092ZXJGbG93LCAwKTtcbiAgICAgIHRtcC5zZXQoZGF0YSwgYWFjT3ZlckZsb3cuYnl0ZUxlbmd0aCk7XG4gICAgICAvL2xvZ2dlci5sb2coYEFBQzogYXBwZW5kIG92ZXJmbG93aW5nICR7YWFjT3ZlckZsb3cuYnl0ZUxlbmd0aH0gYnl0ZXMgdG8gYmVnaW5uaW5nIG9mIG5ldyBQRVNgKTtcbiAgICAgIGRhdGEgPSB0bXA7XG4gICAgfVxuICAgIC8vIGxvb2sgZm9yIEFEVFMgaGVhZGVyICgweEZGRngpXG4gICAgZm9yIChvZmZzZXQgPSBzdGFydE9mZnNldCwgbGVuID0gZGF0YS5sZW5ndGg7IG9mZnNldCA8IGxlbiAtIDE7IG9mZnNldCsrKSB7XG4gICAgICBpZiAoaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgQURUUyBoZWFkZXIgZG9lcyBub3Qgc3RhcnQgc3RyYWlnaHQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBQRVMgcGF5bG9hZCwgcmFpc2UgYW4gZXJyb3JcbiAgICBpZiAob2Zmc2V0KSB7XG4gICAgICB2YXIgcmVhc29uLCBmYXRhbDtcbiAgICAgIGlmIChvZmZzZXQgPCBsZW4gLSAxKSB7XG4gICAgICAgIHJlYXNvbiA9ICdBQUMgUEVTIGRpZCBub3Qgc3RhcnQgd2l0aCBBRFRTIGhlYWRlcixvZmZzZXQ6JyArIG9mZnNldDtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlYXNvbiA9ICdubyBBRFRTIGhlYWRlciBmb3VuZCBpbiBBQUMgUEVTJztcbiAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncGFyc2luZyBlcnJvcjonICsgcmVhc29uKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYXRhbCwgcmVhc29uOiByZWFzb24gfSk7XG4gICAgICBpZiAoZmF0YWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0aGlzLmF1ZGlvQ29kZWMpO1xuICAgIGZyYW1lSW5kZXggPSAwO1xuICAgIGZyYW1lRHVyYXRpb24gPSBnZXRGcmFtZUR1cmF0aW9uKHRyYWNrLnNhbXBsZXJhdGUpO1xuXG4gICAgLy8gaWYgbGFzdCBBQUMgZnJhbWUgaXMgb3ZlcmZsb3dpbmcsIHdlIHNob3VsZCBlbnN1cmUgdGltZXN0YW1wcyBhcmUgY29udGlndW91czpcbiAgICAvLyBmaXJzdCBzYW1wbGUgUFRTIHNob3VsZCBiZSBlcXVhbCB0byBsYXN0IHNhbXBsZSBQVFMgKyBmcmFtZUR1cmF0aW9uXG4gICAgaWYgKGFhY092ZXJGbG93ICYmIGFhY0xhc3RQVFMpIHtcbiAgICAgIHZhciBuZXdQVFMgPSBhYWNMYXN0UFRTICsgZnJhbWVEdXJhdGlvbjtcbiAgICAgIGlmIChNYXRoLmFicyhuZXdQVFMgLSBwdHMpID4gMSkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FBQzogYWxpZ24gUFRTIGZvciBvdmVybGFwcGluZyBmcmFtZXMgYnkgJyArIE1hdGgucm91bmQoKG5ld1BUUyAtIHB0cykgLyA5MCkpO1xuICAgICAgICBwdHMgPSBuZXdQVFM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9zY2FuIGZvciBhYWMgc2FtcGxlc1xuICAgIHdoaWxlIChvZmZzZXQgPCBsZW4pIHtcbiAgICAgIGlmIChpc0hlYWRlcihkYXRhLCBvZmZzZXQpICYmIG9mZnNldCArIDUgPCBsZW4pIHtcbiAgICAgICAgdmFyIGZyYW1lID0gYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgLy9sb2dnZXIubG9nKGAke01hdGgucm91bmQoZnJhbWUuc2FtcGxlLnB0cyl9IDogQUFDYCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICBzdGFtcCA9IGZyYW1lLnNhbXBsZS5wdHM7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vbG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIEFBQyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL25vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBhYWNPdmVyRmxvdyA9IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBsZW4pO1xuICAgICAgLy9sb2dnZXIubG9nKGBBQUM6IG92ZXJmbG93IGRldGVjdGVkOiR7bGVuLW9mZnNldH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWFjT3ZlckZsb3cgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmFhY092ZXJGbG93ID0gYWFjT3ZlckZsb3c7XG4gICAgdGhpcy5hYWNMYXN0UFRTID0gc3RhbXA7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VNUEVHUEVTID0gZnVuY3Rpb24gX3BhcnNlTVBFR1BFUyhwZXMpIHtcbiAgICB2YXIgZGF0YSA9IHBlcy5kYXRhO1xuICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgZnJhbWVJbmRleCA9IDA7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgdmFyIHB0cyA9IHBlcy5wdHM7XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAobXBlZ2F1ZGlvLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGZyYW1lID0gbXBlZ2F1ZGlvLmFwcGVuZEZyYW1lKHRoaXMuX2F1ZGlvVHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9sb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgTXBlZyBhdWRpbyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL25vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VJRDNQRVMgPSBmdW5jdGlvbiBfcGFyc2VJRDNQRVMocGVzKSB7XG4gICAgdGhpcy5faWQzVHJhY2suc2FtcGxlcy5wdXNoKHBlcyk7XG4gIH07XG5cbiAgcmV0dXJuIFRTRGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdHNkZW11eGVyID0gKHRzZGVtdXhlcl9UU0RlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvbXAzZGVtdXhlci5qc1xuZnVuY3Rpb24gbXAzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIE1QMyBkZW11eGVyXG4gKi9cblxuXG5cblxudmFyIG1wM2RlbXV4ZXJfTVAzRGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVAzRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnKSB7XG4gICAgbXAzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTVAzRGVtdXhlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgfVxuXG4gIE1QM0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL21wZWcnLCB0eXBlOiAnYXVkaW8nLCBpZDogLTEsIHNlcXVlbmNlTnVtYmVyOiAwLCBpc0FBQzogZmFsc2UsIHNhbXBsZXM6IFtdLCBsZW46IDAsIG1hbmlmZXN0Q29kZWM6IGF1ZGlvQ29kZWMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH07XG4gIH07XG5cbiAgTVAzRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIE1QM0RlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgLy8gY2hlY2sgaWYgZGF0YSBjb250YWlucyBJRDMgdGltZXN0YW1wIGFuZCBNUEVHIHN5bmMgd29yZFxuICAgIHZhciBvZmZzZXQsIGxlbmd0aDtcbiAgICB2YXIgaWQzRGF0YSA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgIGlmIChpZDNEYXRhICYmIGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRUaW1lU3RhbXAoaWQzRGF0YSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gTG9vayBmb3IgTVBFRyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTFYIFhZWlggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxIGFuZCBZIG9yIFogc2hvdWxkIGJlIDFcbiAgICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgZGlmZmVyZW50IGZyb20gMCAoTGF5ZXIgSSBvciBMYXllciBJSSBvciBMYXllciBJSUkpXG4gICAgICAvLyBNb3JlIGluZm8gaHR0cDovL3d3dy5tcDMtdGVjaC5vcmcvcHJvZ3JhbW1lci9mcmFtZV9oZWFkZXIuaHRtbFxuICAgICAgZm9yIChvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aCwgbGVuZ3RoID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAxLCBvZmZzZXQgKyAxMDApOyBvZmZzZXQgPCBsZW5ndGg7IG9mZnNldCsrKSB7XG4gICAgICAgIGlmIChtcGVnYXVkaW8ucHJvYmUoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVBFRyBBdWRpbyBzeW5jIHdvcmQgZm91bmQgIScpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBNUDNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCAwKTtcbiAgICB2YXIgcHRzID0gOTAgKiBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0VGltZVN0YW1wKGlkM0RhdGEpO1xuICAgIHZhciBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgdmFyIGZyYW1lSW5kZXggPSAwLFxuICAgICAgICBzdGFtcCA9IDA7XG4gICAgdmFyIHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcblxuICAgIHZhciBpZDNTYW1wbGVzID0gW3sgcHRzOiBwdHMsIGR0czogcHRzLCBkYXRhOiBpZDNEYXRhIH1dO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgaWYgKG1wZWdhdWRpby5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IG1wZWdhdWRpby5hcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpO1xuICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICBvZmZzZXQgKz0gZnJhbWUubGVuZ3RoO1xuICAgICAgICAgIHN0YW1wID0gZnJhbWUuc2FtcGxlLnB0cztcbiAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9sb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgTXBlZyBhdWRpbyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCBvZmZzZXQpO1xuICAgICAgICBpZDNTYW1wbGVzLnB1c2goeyBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wLCBkYXRhOiBpZDNEYXRhIH0pO1xuICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL25vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICB9O1xuXG4gIE1QM0RlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge307XG5cbiAgcmV0dXJuIE1QM0RlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wM2RlbXV4ZXIgPSAobXAzZGVtdXhlcl9NUDNEZW11eGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2hlbHBlci9hYWMuanNcbmZ1bmN0aW9uIGFhY19fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICBBQUMgaGVscGVyXG4gKi9cblxudmFyIEFBQyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQUFDKCkge1xuICAgIGFhY19fY2xhc3NDYWxsQ2hlY2sodGhpcywgQUFDKTtcbiAgfVxuXG4gIEFBQy5nZXRTaWxlbnRGcmFtZSA9IGZ1bmN0aW9uIGdldFNpbGVudEZyYW1lKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICBzd2l0Y2ggKGNvZGVjKSB7XG4gICAgICBjYXNlICdtcDRhLjQwLjInOlxuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDhlXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgwLCAweDJjLCAweDgwLCAweDA4LCAweDAyLCAweDM4XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA1KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLCAweDAwLCAweDIwLCAweDA4LCAweGUwXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBoYW5kbGUgSEUtQUFDIGJlbG93IChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NGUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgxYywgMHg2LCAweGYxLCAweGMxLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NWUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDk1LCAweDAsIDB4NiwgMHhmMSwgMHhhMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NWUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDk1LCAweDAsIDB4NiwgMHhmMSwgMHhhMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBBQUM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGFhYyA9IChBQUMpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcmVtdXgvbXA0LWdlbmVyYXRvci5qc1xuZnVuY3Rpb24gbXA0X2dlbmVyYXRvcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEdlbmVyYXRlIE1QNCBCb3hcbiovXG5cbi8vaW1wb3J0IEhleCBmcm9tICcuLi91dGlscy9oZXgnO1xuXG52YXIgbXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcblxudmFyIE1QNCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVA0KCkge1xuICAgIG1wNF9nZW5lcmF0b3JfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QNCk7XG4gIH1cblxuICBNUDQuaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgTVA0LnR5cGVzID0ge1xuICAgICAgYXZjMTogW10sIC8vIGNvZGluZ25hbWVcbiAgICAgIGF2Y0M6IFtdLFxuICAgICAgYnRydDogW10sXG4gICAgICBkaW5mOiBbXSxcbiAgICAgIGRyZWY6IFtdLFxuICAgICAgZXNkczogW10sXG4gICAgICBmdHlwOiBbXSxcbiAgICAgIGhkbHI6IFtdLFxuICAgICAgbWRhdDogW10sXG4gICAgICBtZGhkOiBbXSxcbiAgICAgIG1kaWE6IFtdLFxuICAgICAgbWZoZDogW10sXG4gICAgICBtaW5mOiBbXSxcbiAgICAgIG1vb2Y6IFtdLFxuICAgICAgbW9vdjogW10sXG4gICAgICBtcDRhOiBbXSxcbiAgICAgICcubXAzJzogW10sXG4gICAgICBtdmV4OiBbXSxcbiAgICAgIG12aGQ6IFtdLFxuICAgICAgcGFzcDogW10sXG4gICAgICBzZHRwOiBbXSxcbiAgICAgIHN0Ymw6IFtdLFxuICAgICAgc3RjbzogW10sXG4gICAgICBzdHNjOiBbXSxcbiAgICAgIHN0c2Q6IFtdLFxuICAgICAgc3RzejogW10sXG4gICAgICBzdHRzOiBbXSxcbiAgICAgIHRmZHQ6IFtdLFxuICAgICAgdGZoZDogW10sXG4gICAgICB0cmFmOiBbXSxcbiAgICAgIHRyYWs6IFtdLFxuICAgICAgdHJ1bjogW10sXG4gICAgICB0cmV4OiBbXSxcbiAgICAgIHRraGQ6IFtdLFxuICAgICAgdm1oZDogW10sXG4gICAgICBzbWhkOiBbXVxuICAgIH07XG5cbiAgICB2YXIgaTtcbiAgICBmb3IgKGkgaW4gTVA0LnR5cGVzKSB7XG4gICAgICBpZiAoTVA0LnR5cGVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIE1QNC50eXBlc1tpXSA9IFtpLmNoYXJDb2RlQXQoMCksIGkuY2hhckNvZGVBdCgxKSwgaS5jaGFyQ29kZUF0KDIpLCBpLmNoYXJDb2RlQXQoMyldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2aWRlb0hkbHIgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsIC8vIGhhbmRsZXJfdHlwZTogJ3ZpZGUnXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHg1NiwgMHg2OSwgMHg2NCwgMHg2NSwgMHg2ZiwgMHg0OCwgMHg2MSwgMHg2ZSwgMHg2NCwgMHg2YywgMHg2NSwgMHg3MiwgMHgwMCAvLyBuYW1lOiAnVmlkZW9IYW5kbGVyJ1xuICAgIF0pO1xuXG4gICAgdmFyIGF1ZGlvSGRsciA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgMHg3MywgMHg2ZiwgMHg3NSwgMHg2ZSwgLy8gaGFuZGxlcl90eXBlOiAnc291bidcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDUzLCAweDZmLCAweDc1LCAweDZlLCAweDY0LCAweDQ4LCAweDYxLCAweDZlLCAweDY0LCAweDZjLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6ICdTb3VuZEhhbmRsZXInXG4gICAgXSk7XG5cbiAgICBNUDQuSERMUl9UWVBFUyA9IHtcbiAgICAgICd2aWRlbyc6IHZpZGVvSGRscixcbiAgICAgICdhdWRpbyc6IGF1ZGlvSGRsclxuICAgIH07XG5cbiAgICB2YXIgZHJlZiA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGVudHJ5X2NvdW50XG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwYywgLy8gZW50cnlfc2l6ZVxuICAgIDB4NzUsIDB4NzIsIDB4NmMsIDB4MjAsIC8vICd1cmwnIHR5cGVcbiAgICAweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAxIC8vIGVudHJ5X2ZsYWdzXG4gICAgXSk7XG5cbiAgICB2YXIgc3RjbyA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50XG4gICAgXSk7XG5cbiAgICBNUDQuU1RUUyA9IE1QNC5TVFNDID0gTVA0LlNUQ08gPSBzdGNvO1xuXG4gICAgTVA0LlNUU1ogPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gc2FtcGxlX3NpemVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwXSk7XG4gICAgTVA0LlZNSEQgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgLy8gZ3JhcGhpY3Ntb2RlXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCAvLyBvcGNvbG9yXG4gICAgXSk7XG4gICAgTVA0LlNNSEQgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgLy8gYmFsYW5jZVxuICAgIDB4MDAsIDB4MDAgLy8gcmVzZXJ2ZWRcbiAgICBdKTtcblxuICAgIE1QNC5TVFNEID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMV0pOyAvLyBlbnRyeV9jb3VudFxuXG4gICAgdmFyIG1ham9yQnJhbmQgPSBuZXcgVWludDhBcnJheShbMTA1LCAxMTUsIDExMSwgMTA5XSk7IC8vIGlzb21cbiAgICB2YXIgYXZjMUJyYW5kID0gbmV3IFVpbnQ4QXJyYXkoWzk3LCAxMTgsIDk5LCA0OV0pOyAvLyBhdmMxXG4gICAgdmFyIG1pbm9yVmVyc2lvbiA9IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAxXSk7XG5cbiAgICBNUDQuRlRZUCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIG1ham9yQnJhbmQsIG1pbm9yVmVyc2lvbiwgbWFqb3JCcmFuZCwgYXZjMUJyYW5kKTtcbiAgICBNUDQuRElORiA9IE1QNC5ib3goTVA0LnR5cGVzLmRpbmYsIE1QNC5ib3goTVA0LnR5cGVzLmRyZWYsIGRyZWYpKTtcbiAgfTtcblxuICBNUDQuYm94ID0gZnVuY3Rpb24gYm94KHR5cGUpIHtcbiAgICB2YXIgcGF5bG9hZCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgIHNpemUgPSA4LFxuICAgICAgICBpID0gcGF5bG9hZC5sZW5ndGgsXG4gICAgICAgIGxlbiA9IGksXG4gICAgICAgIHJlc3VsdDtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIHNpemUgd2UgbmVlZCB0byBhbGxvY2F0ZVxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICByZXN1bHRbMF0gPSBzaXplID4+IDI0ICYgMHhmZjtcbiAgICByZXN1bHRbMV0gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgICByZXN1bHRbMl0gPSBzaXplID4+IDggJiAweGZmO1xuICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgIHJlc3VsdC5zZXQodHlwZSwgNCk7XG4gICAgLy8gY29weSB0aGUgcGF5bG9hZCBpbnRvIHRoZSByZXN1bHRcbiAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAvLyBjb3B5IHBheWxvYWRbaV0gYXJyYXkgQCBvZmZzZXQgc2l6ZVxuICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIE1QNC5oZGxyID0gZnVuY3Rpb24gaGRscih0eXBlKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIE1QNC5IRExSX1RZUEVTW3R5cGVdKTtcbiAgfTtcblxuICBNUDQubWRhdCA9IGZ1bmN0aW9uIG1kYXQoZGF0YSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGF0LCBkYXRhKTtcbiAgfTtcblxuICBNUDQubWRoZCA9IGZ1bmN0aW9uIG1kaGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uICo9IHRpbWVzY2FsZTtcbiAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCArIDEpKTtcbiAgICB2YXIgbG93ZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uICUgKG1wNF9nZW5lcmF0b3JfVUlOVDMyX01BWCArIDEpKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRoZCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIC8vIHZlcnNpb24gMVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMiwgLy8gY3JlYXRpb25fdGltZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgdGltZXNjYWxlID4+IDI0ICYgMHhGRiwgdGltZXNjYWxlID4+IDE2ICYgMHhGRiwgdGltZXNjYWxlID4+IDggJiAweEZGLCB0aW1lc2NhbGUgJiAweEZGLCAvLyB0aW1lc2NhbGVcbiAgICB1cHBlcldvcmREdXJhdGlvbiA+PiAyNCwgdXBwZXJXb3JkRHVyYXRpb24gPj4gMTYgJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiA+PiA4ICYgMHhGRiwgdXBwZXJXb3JkRHVyYXRpb24gJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiA+PiAyNCwgbG93ZXJXb3JkRHVyYXRpb24gPj4gMTYgJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiA+PiA4ICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gJiAweEZGLCAweDU1LCAweGM0LCAvLyAndW5kJyBsYW5ndWFnZSAodW5kZXRlcm1pbmVkKVxuICAgIDB4MDAsIDB4MDBdKSk7XG4gIH07XG5cbiAgTVA0Lm1kaWEgPSBmdW5jdGlvbiBtZGlhKHRyYWNrKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaWEsIE1QNC5tZGhkKHRyYWNrLnRpbWVzY2FsZSwgdHJhY2suZHVyYXRpb24pLCBNUDQuaGRscih0cmFjay50eXBlKSwgTVA0Lm1pbmYodHJhY2spKTtcbiAgfTtcblxuICBNUDQubWZoZCA9IGZ1bmN0aW9uIG1maGQoc2VxdWVuY2VOdW1iZXIpIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgc2VxdWVuY2VOdW1iZXIgPj4gMjQsIHNlcXVlbmNlTnVtYmVyID4+IDE2ICYgMHhGRiwgc2VxdWVuY2VOdW1iZXIgPj4gOCAmIDB4RkYsIHNlcXVlbmNlTnVtYmVyICYgMHhGRl0pIC8vIHNlcXVlbmNlX251bWJlclxuICAgICk7XG4gIH07XG5cbiAgTVA0Lm1pbmYgPSBmdW5jdGlvbiBtaW5mKHRyYWNrKSB7XG4gICAgaWYgKHRyYWNrLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5taW5mLCBNUDQuYm94KE1QNC50eXBlcy5zbWhkLCBNUDQuU01IRCksIE1QNC5ESU5GLCBNUDQuc3RibCh0cmFjaykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgTVA0LmJveChNUDQudHlwZXMudm1oZCwgTVA0LlZNSEQpLCBNUDQuRElORiwgTVA0LnN0YmwodHJhY2spKTtcbiAgICB9XG4gIH07XG5cbiAgTVA0Lm1vb2YgPSBmdW5jdGlvbiBtb29mKHNuLCBiYXNlTWVkaWFEZWNvZGVUaW1lLCB0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZChzbiksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSk7XG4gIH07XG4gIC8qKlxuICAgKiBAcGFyYW0gdHJhY2tzLi4uIChvcHRpb25hbCkge2FycmF5fSB0aGUgdHJhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vdmllXG4gICAqL1xuXG5cbiAgTVA0Lm1vb3YgPSBmdW5jdGlvbiBtb292KHRyYWNrcykge1xuICAgIHZhciBpID0gdHJhY2tzLmxlbmd0aCxcbiAgICAgICAgYm94ZXMgPSBbXTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGJveGVzW2ldID0gTVA0LnRyYWsodHJhY2tzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTVA0LmJveC5hcHBseShudWxsLCBbTVA0LnR5cGVzLm1vb3YsIE1QNC5tdmhkKHRyYWNrc1swXS50aW1lc2NhbGUsIHRyYWNrc1swXS5kdXJhdGlvbildLmNvbmNhdChib3hlcykuY29uY2F0KE1QNC5tdmV4KHRyYWNrcykpKTtcbiAgfTtcblxuICBNUDQubXZleCA9IGZ1bmN0aW9uIG12ZXgodHJhY2tzKSB7XG4gICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLFxuICAgICAgICBib3hlcyA9IFtdO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYm94ZXNbaV0gPSBNUDQudHJleCh0cmFja3NbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gTVA0LmJveC5hcHBseShudWxsLCBbTVA0LnR5cGVzLm12ZXhdLmNvbmNhdChib3hlcykpO1xuICB9O1xuXG4gIE1QNC5tdmhkID0gZnVuY3Rpb24gbXZoZCh0aW1lc2NhbGUsIGR1cmF0aW9uKSB7XG4gICAgZHVyYXRpb24gKj0gdGltZXNjYWxlO1xuICAgIHZhciB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpO1xuICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpO1xuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uIDFcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAzLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgIHRpbWVzY2FsZSA+PiAyNCAmIDB4RkYsIHRpbWVzY2FsZSA+PiAxNiAmIDB4RkYsIHRpbWVzY2FsZSA+PiA4ICYgMHhGRiwgdGltZXNjYWxlICYgMHhGRiwgLy8gdGltZXNjYWxlXG4gICAgdXBwZXJXb3JkRHVyYXRpb24gPj4gMjQsIHVwcGVyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgdXBwZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gMjQsIGxvd2VyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uICYgMHhGRiwgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgLy8gMS4wIHJhdGVcbiAgICAweDAxLCAweDAwLCAvLyAxLjAgdm9sdW1lXG4gICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdHJhbnNmb3JtYXRpb246IHVuaXR5IG1hdHJpeFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiAvLyBuZXh0X3RyYWNrX0lEXG4gICAgXSk7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm12aGQsIGJ5dGVzKTtcbiAgfTtcblxuICBNUDQuc2R0cCA9IGZ1bmN0aW9uIHNkdHAodHJhY2spIHtcbiAgICB2YXIgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW10sXG4gICAgICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCArIHNhbXBsZXMubGVuZ3RoKSxcbiAgICAgICAgZmxhZ3MsXG4gICAgICAgIGk7XG4gICAgLy8gbGVhdmUgdGhlIGZ1bGwgYm94IGhlYWRlciAoNCBieXRlcykgYWxsIHplcm9cbiAgICAvLyB3cml0ZSB0aGUgc2FtcGxlIHRhYmxlXG4gICAgZm9yIChpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgIGJ5dGVzW2kgKyA0XSA9IGZsYWdzLmRlcGVuZHNPbiA8PCA0IHwgZmxhZ3MuaXNEZXBlbmRlZE9uIDw8IDIgfCBmbGFncy5oYXNSZWR1bmRhbmN5O1xuICAgIH1cblxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zZHRwLCBieXRlcyk7XG4gIH07XG5cbiAgTVA0LnN0YmwgPSBmdW5jdGlvbiBzdGJsKHRyYWNrKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIE1QNC5zdHNkKHRyYWNrKSwgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LlNUVFMpLCBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuU1RTQyksIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5TVFNaKSwgTVA0LmJveChNUDQudHlwZXMuc3RjbywgTVA0LlNUQ08pKTtcbiAgfTtcblxuICBNUDQuYXZjMSA9IGZ1bmN0aW9uIGF2YzEodHJhY2spIHtcbiAgICB2YXIgc3BzID0gW10sXG4gICAgICAgIHBwcyA9IFtdLFxuICAgICAgICBpLFxuICAgICAgICBkYXRhLFxuICAgICAgICBsZW47XG4gICAgLy8gYXNzZW1ibGUgdGhlIFNQU3NcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0cmFjay5zcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEgPSB0cmFjay5zcHNbaV07XG4gICAgICBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBzcHMucHVzaChsZW4gPj4+IDggJiAweEZGKTtcbiAgICAgIHNwcy5wdXNoKGxlbiAmIDB4RkYpO1xuICAgICAgc3BzID0gc3BzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhKSk7IC8vIFNQU1xuICAgIH1cblxuICAgIC8vIGFzc2VtYmxlIHRoZSBQUFNzXG4gICAgZm9yIChpID0gMDsgaSA8IHRyYWNrLnBwcy5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YSA9IHRyYWNrLnBwc1tpXTtcbiAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgIHBwcy5wdXNoKGxlbiA+Pj4gOCAmIDB4RkYpO1xuICAgICAgcHBzLnB1c2gobGVuICYgMHhGRik7XG4gICAgICBwcHMgPSBwcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICB9XG5cbiAgICB2YXIgYXZjYyA9IE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uXG4gICAgc3BzWzNdLCAvLyBwcm9maWxlXG4gICAgc3BzWzRdLCAvLyBwcm9maWxlIGNvbXBhdFxuICAgIHNwc1s1XSwgLy8gbGV2ZWxcbiAgICAweGZjIHwgMywgLy8gbGVuZ3RoU2l6ZU1pbnVzT25lLCBoYXJkLWNvZGVkIHRvIDQgYnl0ZXNcbiAgICAweEUwIHwgdHJhY2suc3BzLmxlbmd0aCAvLyAzYml0IHJlc2VydmVkICgxMTEpICsgbnVtT2ZTZXF1ZW5jZVBhcmFtZXRlclNldHNcbiAgICBdLmNvbmNhdChzcHMpLmNvbmNhdChbdHJhY2sucHBzLmxlbmd0aCAvLyBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzXG4gICAgXSkuY29uY2F0KHBwcykpKSxcbiAgICAgICAgLy8gXCJQUFNcIlxuICAgIHdpZHRoID0gdHJhY2sud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IHRyYWNrLmhlaWdodCxcbiAgICAgICAgaFNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzBdLFxuICAgICAgICB2U3BhY2luZyA9IHRyYWNrLnBpeGVsUmF0aW9bMV07XG4gICAgLy9jb25zb2xlLmxvZygnYXZjYzonICsgSGV4LmhleER1bXAoYXZjYykpO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5hdmMxLCBuZXcgVWludDhBcnJheShbMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDEsIC8vIGRhdGFfcmVmZXJlbmNlX2luZGV4XG4gICAgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgd2lkdGggPj4gOCAmIDB4RkYsIHdpZHRoICYgMHhmZiwgLy8gd2lkdGhcbiAgICBoZWlnaHQgPj4gOCAmIDB4RkYsIGhlaWdodCAmIDB4ZmYsIC8vIGhlaWdodFxuICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsIC8vIGhvcml6cmVzb2x1dGlvblxuICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsIC8vIHZlcnRyZXNvbHV0aW9uXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAvLyBmcmFtZV9jb3VudFxuICAgIDB4MTIsIDB4NjQsIDB4NjEsIDB4NjksIDB4NkMsIC8vZGFpbHltb3Rpb24vaGxzLmpzXG4gICAgMHg3OSwgMHg2RCwgMHg2RiwgMHg3NCwgMHg2OSwgMHg2RiwgMHg2RSwgMHgyRiwgMHg2OCwgMHg2QywgMHg3MywgMHgyRSwgMHg2QSwgMHg3MywgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gY29tcHJlc3Nvcm5hbWVcbiAgICAweDAwLCAweDE4LCAvLyBkZXB0aCA9IDI0XG4gICAgMHgxMSwgMHgxMV0pLCAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgYXZjYywgTVA0LmJveChNUDQudHlwZXMuYnRydCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MWMsIDB4OWMsIDB4ODAsIC8vIGJ1ZmZlclNpemVEQlxuICAgIDB4MDAsIDB4MmQsIDB4YzYsIDB4YzAsIC8vIG1heEJpdHJhdGVcbiAgICAweDAwLCAweDJkLCAweGM2LCAweGMwXSkpLCAvLyBhdmdCaXRyYXRlXG4gICAgTVA0LmJveChNUDQudHlwZXMucGFzcCwgbmV3IFVpbnQ4QXJyYXkoW2hTcGFjaW5nID4+IDI0LCAvLyBoU3BhY2luZ1xuICAgIGhTcGFjaW5nID4+IDE2ICYgMHhGRiwgaFNwYWNpbmcgPj4gOCAmIDB4RkYsIGhTcGFjaW5nICYgMHhGRiwgdlNwYWNpbmcgPj4gMjQsIC8vIHZTcGFjaW5nXG4gICAgdlNwYWNpbmcgPj4gMTYgJiAweEZGLCB2U3BhY2luZyA+PiA4ICYgMHhGRiwgdlNwYWNpbmcgJiAweEZGXSkpKTtcbiAgfTtcblxuICBNUDQuZXNkcyA9IGZ1bmN0aW9uIGVzZHModHJhY2spIHtcbiAgICB2YXIgY29uZmlnbGVuID0gdHJhY2suY29uZmlnLmxlbmd0aDtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG5cbiAgICAweDAzLCAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAweDE3ICsgY29uZmlnbGVuLCAvLyBsZW5ndGhcbiAgICAweDAwLCAweDAxLCAvL2VzX2lkXG4gICAgMHgwMCwgLy8gc3RyZWFtX3ByaW9yaXR5XG5cbiAgICAweDA0LCAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAweDBmICsgY29uZmlnbGVuLCAvLyBsZW5ndGhcbiAgICAweDQwLCAvL2NvZGVjIDogbXBlZzRfYXVkaW9cbiAgICAweDE1LCAvLyBzdHJlYW1fdHlwZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGJ1ZmZlcl9zaXplXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbWF4Qml0cmF0ZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGF2Z0JpdHJhdGVcblxuICAgIDB4MDUgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgXS5jb25jYXQoW2NvbmZpZ2xlbl0pLmNvbmNhdCh0cmFjay5jb25maWcpLmNvbmNhdChbMHgwNiwgMHgwMSwgMHgwMl0pKTsgLy8gR0FTcGVjaWZpY0NvbmZpZykpOyAvLyBsZW5ndGggKyBhdWRpbyBjb25maWcgZGVzY3JpcHRvclxuICB9O1xuXG4gIE1QNC5tcDRhID0gZnVuY3Rpb24gbXA0YSh0cmFjaykge1xuICAgIHZhciBzYW1wbGVyYXRlID0gdHJhY2suc2FtcGxlcmF0ZTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXA0YSwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAvLyBkYXRhX3JlZmVyZW5jZV9pbmRleFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgdHJhY2suY2hhbm5lbENvdW50LCAvLyBjaGFubmVsY291bnRcbiAgICAweDAwLCAweDEwLCAvLyBzYW1wbGVTaXplOjE2Yml0c1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkMlxuICAgIHNhbXBsZXJhdGUgPj4gOCAmIDB4RkYsIHNhbXBsZXJhdGUgJiAweGZmLCAvL1xuICAgIDB4MDAsIDB4MDBdKSwgTVA0LmJveChNUDQudHlwZXMuZXNkcywgTVA0LmVzZHModHJhY2spKSk7XG4gIH07XG5cbiAgTVA0Lm1wMyA9IGZ1bmN0aW9uIG1wMyh0cmFjaykge1xuICAgIHZhciBzYW1wbGVyYXRlID0gdHJhY2suc2FtcGxlcmF0ZTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXNbJy5tcDMnXSwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAvLyBkYXRhX3JlZmVyZW5jZV9pbmRleFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgdHJhY2suY2hhbm5lbENvdW50LCAvLyBjaGFubmVsY291bnRcbiAgICAweDAwLCAweDEwLCAvLyBzYW1wbGVTaXplOjE2Yml0c1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkMlxuICAgIHNhbXBsZXJhdGUgPj4gOCAmIDB4RkYsIHNhbXBsZXJhdGUgJiAweGZmLCAvL1xuICAgIDB4MDAsIDB4MDBdKSk7XG4gIH07XG5cbiAgTVA0LnN0c2QgPSBmdW5jdGlvbiBzdHNkKHRyYWNrKSB7XG4gICAgaWYgKHRyYWNrLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgIGlmICghdHJhY2suaXNBQUMgJiYgdHJhY2suY29kZWMgPT09ICdtcDMnKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuU1RTRCwgTVA0Lm1wMyh0cmFjaykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQubXA0YSh0cmFjaykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5hdmMxKHRyYWNrKSk7XG4gICAgfVxuICB9O1xuXG4gIE1QNC50a2hkID0gZnVuY3Rpb24gdGtoZCh0cmFjaykge1xuICAgIHZhciBpZCA9IHRyYWNrLmlkLFxuICAgICAgICBkdXJhdGlvbiA9IHRyYWNrLmR1cmF0aW9uICogdHJhY2sudGltZXNjYWxlLFxuICAgICAgICB3aWR0aCA9IHRyYWNrLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSB0cmFjay5oZWlnaHQsXG4gICAgICAgIHVwcGVyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIChtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVggKyAxKSksXG4gICAgICAgIGxvd2VyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAlIChtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVggKyAxKSk7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRraGQsIG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uIDFcbiAgICAweDAwLCAweDAwLCAweDA3LCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAzLCAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgIGlkID4+IDI0ICYgMHhGRiwgaWQgPj4gMTYgJiAweEZGLCBpZCA+PiA4ICYgMHhGRiwgaWQgJiAweEZGLCAvLyB0cmFja19JRFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgdXBwZXJXb3JkRHVyYXRpb24gPj4gMjQsIHVwcGVyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgdXBwZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gMjQsIGxvd2VyV29yZER1cmF0aW9uID4+IDE2ICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gPj4gOCAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uICYgMHhGRiwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAvLyBsYXllclxuICAgIDB4MDAsIDB4MDAsIC8vIGFsdGVybmF0ZV9ncm91cFxuICAgIDB4MDAsIDB4MDAsIC8vIG5vbi1hdWRpbyB0cmFjayB2b2x1bWVcbiAgICAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHRyYW5zZm9ybWF0aW9uOiB1bml0eSBtYXRyaXhcbiAgICB3aWR0aCA+PiA4ICYgMHhGRiwgd2lkdGggJiAweEZGLCAweDAwLCAweDAwLCAvLyB3aWR0aFxuICAgIGhlaWdodCA+PiA4ICYgMHhGRiwgaGVpZ2h0ICYgMHhGRiwgMHgwMCwgMHgwMCAvLyBoZWlnaHRcbiAgICBdKSk7XG4gIH07XG5cbiAgTVA0LnRyYWYgPSBmdW5jdGlvbiB0cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgdmFyIHNhbXBsZURlcGVuZGVuY3lUYWJsZSA9IE1QNC5zZHRwKHRyYWNrKSxcbiAgICAgICAgaWQgPSB0cmFjay5pZCxcbiAgICAgICAgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAvIChtcDRfZ2VuZXJhdG9yX1VJTlQzMl9NQVggKyAxKSksXG4gICAgICAgIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgJSAobXA0X2dlbmVyYXRvcl9VSU5UMzJfTUFYICsgMSkpO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmFmLCBNUDQuYm94KE1QNC50eXBlcy50ZmhkLCBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICBpZCA+PiAyNCwgaWQgPj4gMTYgJiAwWEZGLCBpZCA+PiA4ICYgMFhGRiwgaWQgJiAweEZGXSkgLy8gdHJhY2tfSURcbiAgICApLCBNUDQuYm94KE1QNC50eXBlcy50ZmR0LCBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICB1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0LCB1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2ICYgMFhGRiwgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiA4ICYgMFhGRiwgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSAmIDB4RkYsIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMjQsIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMTYgJiAwWEZGLCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDggJiAwWEZGLCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lICYgMHhGRl0pKSwgTVA0LnRydW4odHJhY2ssIHNhbXBsZURlcGVuZGVuY3lUYWJsZS5sZW5ndGggKyAxNiArIC8vIHRmaGRcbiAgICAyMCArIC8vIHRmZHRcbiAgICA4ICsgLy8gdHJhZiBoZWFkZXJcbiAgICAxNiArIC8vIG1maGRcbiAgICA4ICsgLy8gbW9vZiBoZWFkZXJcbiAgICA4KSwgLy8gbWRhdCBoZWFkZXJcbiAgICBzYW1wbGVEZXBlbmRlbmN5VGFibGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHRyYWNrIGJveC5cbiAgICogQHBhcmFtIHRyYWNrIHtvYmplY3R9IGEgdHJhY2sgZGVmaW5pdGlvblxuICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSB0aGUgdHJhY2sgYm94XG4gICAqL1xuXG5cbiAgTVA0LnRyYWsgPSBmdW5jdGlvbiB0cmFrKHRyYWNrKSB7XG4gICAgdHJhY2suZHVyYXRpb24gPSB0cmFjay5kdXJhdGlvbiB8fCAweGZmZmZmZmZmO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmFrLCBNUDQudGtoZCh0cmFjayksIE1QNC5tZGlhKHRyYWNrKSk7XG4gIH07XG5cbiAgTVA0LnRyZXggPSBmdW5jdGlvbiB0cmV4KHRyYWNrKSB7XG4gICAgdmFyIGlkID0gdHJhY2suaWQ7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyZXgsIG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIGlkID4+IDI0LCBpZCA+PiAxNiAmIDBYRkYsIGlkID4+IDggJiAwWEZGLCBpZCAmIDB4RkYsIC8vIHRyYWNrX0lEXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gZGVmYXVsdF9zYW1wbGVfZGVzY3JpcHRpb25faW5kZXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGRlZmF1bHRfc2FtcGxlX3NpemVcbiAgICAweDAwLCAweDAxLCAweDAwLCAweDAxIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgXSkpO1xuICB9O1xuXG4gIE1QNC50cnVuID0gZnVuY3Rpb24gdHJ1bih0cmFjaywgb2Zmc2V0KSB7XG4gICAgdmFyIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdLFxuICAgICAgICBsZW4gPSBzYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgYXJyYXlsZW4gPSAxMiArIDE2ICogbGVuLFxuICAgICAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5bGVuKSxcbiAgICAgICAgaSxcbiAgICAgICAgc2FtcGxlLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgZmxhZ3MsXG4gICAgICAgIGN0cztcbiAgICBvZmZzZXQgKz0gOCArIGFycmF5bGVuO1xuICAgIGFycmF5LnNldChbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwZiwgMHgwMSwgLy8gZmxhZ3NcbiAgICBsZW4gPj4+IDI0ICYgMHhGRiwgbGVuID4+PiAxNiAmIDB4RkYsIGxlbiA+Pj4gOCAmIDB4RkYsIGxlbiAmIDB4RkYsIC8vIHNhbXBsZV9jb3VudFxuICAgIG9mZnNldCA+Pj4gMjQgJiAweEZGLCBvZmZzZXQgPj4+IDE2ICYgMHhGRiwgb2Zmc2V0ID4+PiA4ICYgMHhGRiwgb2Zmc2V0ICYgMHhGRiAvLyBkYXRhX29mZnNldFxuICAgIF0sIDApO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgIGR1cmF0aW9uID0gc2FtcGxlLmR1cmF0aW9uO1xuICAgICAgc2l6ZSA9IHNhbXBsZS5zaXplO1xuICAgICAgZmxhZ3MgPSBzYW1wbGUuZmxhZ3M7XG4gICAgICBjdHMgPSBzYW1wbGUuY3RzO1xuICAgICAgYXJyYXkuc2V0KFtkdXJhdGlvbiA+Pj4gMjQgJiAweEZGLCBkdXJhdGlvbiA+Pj4gMTYgJiAweEZGLCBkdXJhdGlvbiA+Pj4gOCAmIDB4RkYsIGR1cmF0aW9uICYgMHhGRiwgLy8gc2FtcGxlX2R1cmF0aW9uXG4gICAgICBzaXplID4+PiAyNCAmIDB4RkYsIHNpemUgPj4+IDE2ICYgMHhGRiwgc2l6ZSA+Pj4gOCAmIDB4RkYsIHNpemUgJiAweEZGLCAvLyBzYW1wbGVfc2l6ZVxuICAgICAgZmxhZ3MuaXNMZWFkaW5nIDw8IDIgfCBmbGFncy5kZXBlbmRzT24sIGZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2IHwgZmxhZ3MuaGFzUmVkdW5kYW5jeSA8PCA0IHwgZmxhZ3MucGFkZGluZ1ZhbHVlIDw8IDEgfCBmbGFncy5pc05vblN5bmMsIGZsYWdzLmRlZ3JhZFByaW8gJiAweEYwIDw8IDgsIGZsYWdzLmRlZ3JhZFByaW8gJiAweDBGLCAvLyBzYW1wbGVfZmxhZ3NcbiAgICAgIGN0cyA+Pj4gMjQgJiAweEZGLCBjdHMgPj4+IDE2ICYgMHhGRiwgY3RzID4+PiA4ICYgMHhGRiwgY3RzICYgMHhGRiAvLyBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgIF0sIDEyICsgMTYgKiBpKTtcbiAgICB9XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRydW4sIGFycmF5KTtcbiAgfTtcblxuICBNUDQuaW5pdFNlZ21lbnQgPSBmdW5jdGlvbiBpbml0U2VnbWVudCh0cmFja3MpIHtcbiAgICBpZiAoIU1QNC50eXBlcykge1xuICAgICAgTVA0LmluaXQoKTtcbiAgICB9XG4gICAgdmFyIG1vdmllID0gTVA0Lm1vb3YodHJhY2tzKSxcbiAgICAgICAgcmVzdWx0O1xuICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KE1QNC5GVFlQLmJ5dGVMZW5ndGggKyBtb3ZpZS5ieXRlTGVuZ3RoKTtcbiAgICByZXN1bHQuc2V0KE1QNC5GVFlQKTtcbiAgICByZXN1bHQuc2V0KG1vdmllLCBNUDQuRlRZUC5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHJldHVybiBNUDQ7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wNF9nZW5lcmF0b3IgPSAoTVA0KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3JlbXV4L21wNC1yZW11eGVyLmpzXG5mdW5jdGlvbiBtcDRfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiogZk1QNCByZW11eGVyXG4qL1xuXG5cblxuXG5cblxuXG4vLyAxMCBzZWNvbmRzXG52YXIgTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiA9IDEwICogMTAwMDtcblxudmFyIG1wNF9yZW11eGVyX01QNFJlbXV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1QNFJlbXV4ZXIob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCwgdmVuZG9yKSB7XG4gICAgbXA0X3JlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QNFJlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMudHlwZVN1cHBvcnRlZCA9IHR5cGVTdXBwb3J0ZWQ7XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgdGhpcy5pc1NhZmFyaSA9IHZlbmRvciAmJiB2ZW5kb3IuaW5kZXhPZignQXBwbGUnKSA+IC0xICYmIHVzZXJBZ2VudCAmJiAhdXNlckFnZW50Lm1hdGNoKCdDcmlPUycpO1xuICAgIHRoaXMuSVNHZW5lcmF0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge307XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcChkZWZhdWx0VGltZVN0YW1wKSB7XG4gICAgdGhpcy5faW5pdFBUUyA9IHRoaXMuX2luaXREVFMgPSBkZWZhdWx0VGltZVN0YW1wO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KCkge1xuICAgIHRoaXMuSVNHZW5lcmF0ZWQgPSBmYWxzZTtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eCA9IGZ1bmN0aW9uIHJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIC8vIGdlbmVyYXRlIEluaXQgU2VnbWVudCBpZiBuZWVkZWRcbiAgICBpZiAoIXRoaXMuSVNHZW5lcmF0ZWQpIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5JU0dlbmVyYXRlZCkge1xuICAgICAgdmFyIG5iQXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aDtcbiAgICAgIHZhciBuYlZpZGVvU2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGg7XG4gICAgICB2YXIgYXVkaW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgICAgIHZhciB2aWRlb1RpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICAgICAgaWYgKG5iQXVkaW9TYW1wbGVzICYmIG5iVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgIC8vIHRpbWVPZmZzZXQgaXMgZXhwZWN0ZWQgdG8gYmUgdGhlIG9mZnNldCBvZiB0aGUgZmlyc3QgdGltZXN0YW1wIG9mIHRoaXMgZnJhZ21lbnQgKGZpcnN0IERUUylcbiAgICAgICAgLy8gaWYgZmlyc3QgYXVkaW8gRFRTIGlzIG5vdCBhbGlnbmVkIHdpdGggZmlyc3QgdmlkZW8gRFRTIHRoZW4gd2UgbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50XG4gICAgICAgIC8vIHdoZW4gcHJvdmlkaW5nIHRpbWVPZmZzZXQgdG8gcmVtdXhBdWRpbyAvIHJlbXV4VmlkZW8uIGlmIHdlIGRvbid0IGRvIHRoYXQsIHRoZXJlIG1pZ2h0IGJlIGEgcGVybWFuZW50IC8gc21hbGxcbiAgICAgICAgLy8gZHJpZnQgYmV0d2VlbiBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtc1xuICAgICAgICB2YXIgYXVkaW92aWRlb0RlbHRhRHRzID0gKGF1ZGlvVHJhY2suc2FtcGxlc1swXS5kdHMgLSB2aWRlb1RyYWNrLnNhbXBsZXNbMF0uZHRzKSAvIHZpZGVvVHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIGF1ZGlvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCBhdWRpb3ZpZGVvRGVsdGFEdHMpO1xuICAgICAgICB2aWRlb1RpbWVPZmZzZXQgKz0gTWF0aC5tYXgoMCwgLWF1ZGlvdmlkZW9EZWx0YUR0cyk7XG4gICAgICB9XG4gICAgICAvLyBQdXJwb3NlZnVsbHkgcmVtdXhpbmcgYXVkaW8gYmVmb3JlIHZpZGVvLCBzbyB0aGF0IHJlbXV4VmlkZW8gY2FuIHVzZSBuZXh0QXVkaW9QdHMsIHdoaWNoIGlzXG4gICAgICAvLyBjYWxjdWxhdGVkIGluIHJlbXV4QXVkaW8uXG4gICAgICAvL2xvZ2dlci5sb2coJ25iIEFBQyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgIGlmIChuYkF1ZGlvU2FtcGxlcykge1xuICAgICAgICAvLyBpZiBpbml0U2VnbWVudCB3YXMgZ2VuZXJhdGVkIHdpdGhvdXQgdmlkZW8gc2FtcGxlcywgcmVnZW5lcmF0ZSBpdCBhZ2FpblxuICAgICAgICBpZiAoIWF1ZGlvVHJhY2sudGltZXNjYWxlKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncmVnZW5lcmF0ZSBJbml0U2VnbWVudCBhcyBhdWRpbyBkZXRlY3RlZCcpO1xuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9EYXRhID0gdGhpcy5yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgLy9sb2dnZXIubG9nKCduYiBBVkMgc2FtcGxlczonICsgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChuYlZpZGVvU2FtcGxlcykge1xuICAgICAgICAgIHZhciBhdWRpb1RyYWNrTGVuZ3RoID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tMZW5ndGggPSBhdWRpb0RhdGEuZW5kUFRTIC0gYXVkaW9EYXRhLnN0YXJ0UFRTO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBpbml0U2VnbWVudCB3YXMgZ2VuZXJhdGVkIHdpdGhvdXQgdmlkZW8gc2FtcGxlcywgcmVnZW5lcmF0ZSBpdCBhZ2FpblxuICAgICAgICAgIGlmICghdmlkZW9UcmFjay50aW1lc2NhbGUpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3JlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgdmlkZW8gZGV0ZWN0ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHZpZGVvVGltZU9mZnNldCwgY29udGlndW91cywgYXVkaW9UcmFja0xlbmd0aCwgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZpZGVvRGF0YSA9IHZvaWQgMDtcbiAgICAgICAgLy9sb2dnZXIubG9nKCduYiBBVkMgc2FtcGxlczonICsgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChuYlZpZGVvU2FtcGxlcykge1xuICAgICAgICAgIHZpZGVvRGF0YSA9IHRoaXMucmVtdXhWaWRlbyh2aWRlb1RyYWNrLCB2aWRlb1RpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvRGF0YSAmJiBhdWRpb1RyYWNrLmNvZGVjKSB7XG4gICAgICAgICAgdGhpcy5yZW11eEVtcHR5QXVkaW8oYXVkaW9UcmFjaywgYXVkaW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCB2aWRlb0RhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgIGlmIChpZDNUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5yZW11eElEMyhpZDNUcmFjaywgdGltZU9mZnNldCk7XG4gICAgfVxuICAgIC8vbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgIGlmICh0ZXh0VHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucmVtdXhUZXh0KHRleHRUcmFjaywgdGltZU9mZnNldCk7XG4gICAgfVxuICAgIC8vbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCk7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUuZ2VuZXJhdGVJUyA9IGZ1bmN0aW9uIGdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCkge1xuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIsXG4gICAgICAgIGF1ZGlvU2FtcGxlcyA9IGF1ZGlvVHJhY2suc2FtcGxlcyxcbiAgICAgICAgdmlkZW9TYW1wbGVzID0gdmlkZW9UcmFjay5zYW1wbGVzLFxuICAgICAgICB0eXBlU3VwcG9ydGVkID0gdGhpcy50eXBlU3VwcG9ydGVkLFxuICAgICAgICBjb250YWluZXIgPSAnYXVkaW8vbXA0JyxcbiAgICAgICAgdHJhY2tzID0ge30sXG4gICAgICAgIGRhdGEgPSB7IHRyYWNrczogdHJhY2tzIH0sXG4gICAgICAgIGNvbXB1dGVQVFNEVFMgPSB0aGlzLl9pbml0UFRTID09PSB1bmRlZmluZWQsXG4gICAgICAgIGluaXRQVFMsXG4gICAgICAgIGluaXREVFM7XG5cbiAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBJbmZpbml0eTtcbiAgICB9XG4gICAgaWYgKGF1ZGlvVHJhY2suY29uZmlnICYmIGF1ZGlvU2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIC8vIGxldCdzIHVzZSBhdWRpbyBzYW1wbGluZyByYXRlIGFzIE1QNCB0aW1lIHNjYWxlLlxuICAgICAgLy8gcmF0aW9uYWxlIGlzIHRoYXQgdGhlcmUgaXMgYSBpbnRlZ2VyIG5iIG9mIGF1ZGlvIGZyYW1lcyBwZXIgYXVkaW8gc2FtcGxlICgxMDI0IGZvciBBQUMpXG4gICAgICAvLyB1c2luZyBhdWRpbyBzYW1wbGluZyByYXRlIGhlcmUgaGVscHMgaGF2aW5nIGFuIGludGVnZXIgTVA0IGZyYW1lIGR1cmF0aW9uXG4gICAgICAvLyB0aGlzIGF2b2lkcyBwb3RlbnRpYWwgcm91bmRpbmcgaXNzdWUgYW5kIEFWIHN5bmMgaXNzdWVcbiAgICAgIGF1ZGlvVHJhY2sudGltZXNjYWxlID0gYXVkaW9UcmFjay5zYW1wbGVyYXRlO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyBzYW1wbGluZyByYXRlIDogJyArIGF1ZGlvVHJhY2suc2FtcGxlcmF0ZSk7XG4gICAgICBpZiAoIWF1ZGlvVHJhY2suaXNBQUMpIHtcbiAgICAgICAgaWYgKHR5cGVTdXBwb3J0ZWQubXBlZykge1xuICAgICAgICAgIC8vIENocm9tZSBhbmQgU2FmYXJpXG4gICAgICAgICAgY29udGFpbmVyID0gJ2F1ZGlvL21wZWcnO1xuICAgICAgICAgIGF1ZGlvVHJhY2suY29kZWMgPSAnJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlU3VwcG9ydGVkLm1wMykge1xuICAgICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgICBhdWRpb1RyYWNrLmNvZGVjID0gJ21wMyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyYWNrcy5hdWRpbyA9IHtcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgIGNvZGVjOiBhdWRpb1RyYWNrLmNvZGVjLFxuICAgICAgICBpbml0U2VnbWVudDogIWF1ZGlvVHJhY2suaXNBQUMgJiYgdHlwZVN1cHBvcnRlZC5tcGVnID8gbmV3IFVpbnQ4QXJyYXkoKSA6IG1wNF9nZW5lcmF0b3IuaW5pdFNlZ21lbnQoW2F1ZGlvVHJhY2tdKSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBjaGFubmVsQ291bnQ6IGF1ZGlvVHJhY2suY2hhbm5lbENvdW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAvLyByZW1lbWJlciBmaXJzdCBQVFMgb2YgdGhpcyBkZW11eGluZyBjb250ZXh0LiBmb3IgYXVkaW8sIFBUUyA9IERUU1xuICAgICAgICBpbml0UFRTID0gaW5pdERUUyA9IGF1ZGlvU2FtcGxlc1swXS5wdHMgLSBhdWRpb1RyYWNrLmlucHV0VGltZVNjYWxlICogdGltZU9mZnNldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlkZW9UcmFjay5zcHMgJiYgdmlkZW9UcmFjay5wcHMgJiYgdmlkZW9TYW1wbGVzLmxlbmd0aCkge1xuICAgICAgLy8gbGV0J3MgdXNlIGlucHV0IHRpbWUgc2NhbGUgYXMgTVA0IHZpZGVvIHRpbWVzY2FsZVxuICAgICAgLy8gd2UgdXNlIGlucHV0IHRpbWUgc2NhbGUgc3RyYWlnaHQgYXdheSB0byBhdm9pZCByb3VuZGluZyBpc3N1ZXMgb24gZnJhbWUgZHVyYXRpb24gLyBjdHMgY29tcHV0YXRpb25cbiAgICAgIHZhciBpbnB1dFRpbWVTY2FsZSA9IHZpZGVvVHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICB2aWRlb1RyYWNrLnRpbWVzY2FsZSA9IGlucHV0VGltZVNjYWxlO1xuICAgICAgdHJhY2tzLnZpZGVvID0ge1xuICAgICAgICBjb250YWluZXI6ICd2aWRlby9tcDQnLFxuICAgICAgICBjb2RlYzogdmlkZW9UcmFjay5jb2RlYyxcbiAgICAgICAgaW5pdFNlZ21lbnQ6IG1wNF9nZW5lcmF0b3IuaW5pdFNlZ21lbnQoW3ZpZGVvVHJhY2tdKSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICB3aWR0aDogdmlkZW9UcmFjay53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZpZGVvVHJhY2suaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICBpbml0UFRTID0gTWF0aC5taW4oaW5pdFBUUywgdmlkZW9TYW1wbGVzWzBdLnB0cyAtIGlucHV0VGltZVNjYWxlICogdGltZU9mZnNldCk7XG4gICAgICAgIGluaXREVFMgPSBNYXRoLm1pbihpbml0RFRTLCB2aWRlb1NhbXBsZXNbMF0uZHRzIC0gaW5wdXRUaW1lU2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCwgeyBpbml0UFRTOiBpbml0UFRTIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0cmFja3MpLmxlbmd0aCkge1xuICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZGF0YSk7XG4gICAgICB0aGlzLklTR2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgIHRoaXMuX2luaXRQVFMgPSBpbml0UFRTO1xuICAgICAgICB0aGlzLl9pbml0RFRTID0gaW5pdERUUztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnbm8gYXVkaW8vdmlkZW8gc2FtcGxlcyBmb3VuZCcgfSk7XG4gICAgfVxuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VmlkZW8gPSBmdW5jdGlvbiByZW11eFZpZGVvKHRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhdWRpb1RyYWNrTGVuZ3RoLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICB2YXIgb2Zmc2V0ID0gOCxcbiAgICAgICAgdGltZVNjYWxlID0gdHJhY2sudGltZXNjYWxlLFxuICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbixcbiAgICAgICAgbWRhdCxcbiAgICAgICAgbW9vZixcbiAgICAgICAgZmlyc3RQVFMsXG4gICAgICAgIGZpcnN0RFRTLFxuICAgICAgICBuZXh0RFRTLFxuICAgICAgICBsYXN0UFRTLFxuICAgICAgICBsYXN0RFRTLFxuICAgICAgICBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzLFxuICAgICAgICBvdXRwdXRTYW1wbGVzID0gW10sXG4gICAgICAgIG5iU2FtcGxlcyA9IGlucHV0U2FtcGxlcy5sZW5ndGgsXG4gICAgICAgIHB0c05vcm1hbGl6ZSA9IHRoaXMuX1BUU05vcm1hbGl6ZSxcbiAgICAgICAgaW5pdERUUyA9IHRoaXMuX2luaXREVFM7XG5cbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRyYWNrLnNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgIGxldCBhdmNTYW1wbGUgPSB0cmFjay5zYW1wbGVzW2ldO1xuICAgIC8vICAgbGV0IHVuaXRzID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgIC8vICAgbGV0IHVuaXRzU3RyaW5nID0gJyc7XG4gICAgLy8gICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaXRzLmxlbmd0aCA7IGorKykge1xuICAgIC8vICAgICB1bml0c1N0cmluZyArPSB1bml0c1tqXS50eXBlICsgJywnO1xuICAgIC8vICAgICBpZiAodW5pdHNbal0uZGF0YS5sZW5ndGggPCA1MDApIHtcbiAgICAvLyAgICAgICB1bml0c1N0cmluZyArPSBIZXguaGV4RHVtcCh1bml0c1tqXS5kYXRhKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vICAgbG9nZ2VyLmxvZyhhdmNTYW1wbGUucHRzICsgJy8nICsgYXZjU2FtcGxlLmR0cyArICcsJyArIHVuaXRzU3RyaW5nICsgYXZjU2FtcGxlLnVuaXRzLmxlbmd0aCk7XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgcGFyc2VkIGZyYWdtZW50IGlzIGNvbnRpZ3VvdXMgd2l0aCBsYXN0IG9uZSwgbGV0J3MgdXNlIGxhc3QgRFRTIHZhbHVlIGFzIHJlZmVyZW5jZVxuICAgIHZhciBuZXh0QXZjRHRzID0gdGhpcy5uZXh0QXZjRHRzO1xuXG4gICAgdmFyIGlzU2FmYXJpID0gdGhpcy5pc1NhZmFyaTtcblxuICAgIC8vIFNhZmFyaSBkb2VzIG5vdCBsaWtlIG92ZXJsYXBwaW5nIERUUyBvbiBjb25zZWN1dGl2ZSBmcmFnbWVudHMuIGxldCdzIHVzZSBuZXh0QXZjRHRzIHRvIG92ZXJjb21lIHRoaXMgaWYgZnJhZ21lbnRzIGFyZSBjb25zZWN1dGl2ZVxuICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgLy8gYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAgIC8vIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcmUgZnJhZ3Mgd2l0aFxuICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgIC8vICAtIGxlc3MgdGhhbiAyMDAgbXMgUFRTIGdhcHMgKHRpbWVTY2FsZS81KVxuICAgICAgY29udGlndW91cyB8PSBpbnB1dFNhbXBsZXMubGVuZ3RoICYmIG5leHRBdmNEdHMgJiYgKGFjY3VyYXRlVGltZU9mZnNldCAmJiBNYXRoLmFicyh0aW1lT2Zmc2V0IC0gbmV4dEF2Y0R0cyAvIHRpbWVTY2FsZSkgPCAwLjEgfHwgTWF0aC5hYnMoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdmNEdHMgLSBpbml0RFRTKSA8IHRpbWVTY2FsZSAvIDUpO1xuICAgIH1cblxuICAgIGlmICghY29udGlndW91cykge1xuICAgICAgLy8gaWYgbm90IGNvbnRpZ3VvdXMsIGxldCdzIHVzZSB0YXJnZXQgdGltZU9mZnNldFxuICAgICAgbmV4dEF2Y0R0cyA9IHRpbWVPZmZzZXQgKiB0aW1lU2NhbGU7XG4gICAgfVxuXG4gICAgLy8gUFRTIGlzIGNvZGVkIG9uIDMzYml0cywgYW5kIGNhbiBsb29wIGZyb20gLTJeMzIgdG8gMl4zMlxuICAgIC8vIHB0c05vcm1hbGl6ZSB3aWxsIG1ha2UgUFRTL0RUUyB2YWx1ZSBtb25vdG9uaWMsIHdlIHVzZSBsYXN0IGtub3duIERUUyB2YWx1ZSBhcyByZWZlcmVuY2UgdmFsdWVcbiAgICBpbnB1dFNhbXBsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2FtcGxlKSB7XG4gICAgICBzYW1wbGUucHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0RFRTLCBuZXh0QXZjRHRzKTtcbiAgICAgIHNhbXBsZS5kdHMgPSBwdHNOb3JtYWxpemUoc2FtcGxlLmR0cyAtIGluaXREVFMsIG5leHRBdmNEdHMpO1xuICAgIH0pO1xuXG4gICAgLy8gc29ydCB2aWRlbyBzYW1wbGVzIGJ5IERUUyB0aGVuIFBUUyB0aGVuIGRlbXV4IGlkIG9yZGVyXG4gICAgaW5wdXRTYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZhciBkZWx0YWR0cyA9IGEuZHRzIC0gYi5kdHM7XG4gICAgICB2YXIgZGVsdGFwdHMgPSBhLnB0cyAtIGIucHRzO1xuICAgICAgcmV0dXJuIGRlbHRhZHRzID8gZGVsdGFkdHMgOiBkZWx0YXB0cyA/IGRlbHRhcHRzIDogYS5pZCAtIGIuaWQ7XG4gICAgfSk7XG5cbiAgICAvLyBoYW5kbGUgYnJva2VuIHN0cmVhbXMgd2l0aCBQVFMgPCBEVFMsIHRvbGVyYW5jZSB1cCAyMDBtcyAoMTgwMDAgaW4gOTBrSHogdGltZXNjYWxlKVxuICAgIHZhciBQVFNEVFNzaGlmdCA9IGlucHV0U2FtcGxlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihwcmV2LCBjdXJyLnB0cyAtIGN1cnIuZHRzKSwgLTE4MDAwKTtcbiAgICB9LCAwKTtcbiAgICBpZiAoUFRTRFRTc2hpZnQgPCAwKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdQVFMgPCBEVFMgZGV0ZWN0ZWQgaW4gdmlkZW8gc2FtcGxlcywgc2hpZnRpbmcgRFRTIGJ5ICcgKyBNYXRoLnJvdW5kKFBUU0RUU3NoaWZ0IC8gOTApICsgJyBtcyB0byBvdmVyY29tZSB0aGlzIGlzc3VlJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnB1dFNhbXBsZXNbaV0uZHRzICs9IFBUU0RUU3NoaWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvbXB1dGUgZmlyc3QgRFRTIGFuZCBsYXN0IERUUywgbm9ybWFsaXplIHRoZW0gYWdhaW5zdCByZWZlcmVuY2UgdmFsdWVcbiAgICB2YXIgc2FtcGxlID0gaW5wdXRTYW1wbGVzWzBdO1xuICAgIGZpcnN0RFRTID0gTWF0aC5tYXgoc2FtcGxlLmR0cywgMCk7XG4gICAgZmlyc3RQVFMgPSBNYXRoLm1heChzYW1wbGUucHRzLCAwKTtcblxuICAgIC8vIGNoZWNrIHRpbWVzdGFtcCBjb250aW51aXR5IGFjY3Jvc3MgY29uc2VjdXRpdmUgZnJhZ21lbnRzICh0aGlzIGlzIHRvIHJlbW92ZSBpbnRlci1mcmFnbWVudCBnYXAvaG9sZSlcbiAgICB2YXIgZGVsdGEgPSBNYXRoLnJvdW5kKChmaXJzdERUUyAtIG5leHRBdmNEdHMpIC8gOTApO1xuICAgIC8vIGlmIGZyYWdtZW50IGFyZSBjb250aWd1b3VzLCBkZXRlY3QgaG9sZS9vdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50c1xuICAgIGlmIChjb250aWd1b3VzKSB7XG4gICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgaWYgKGRlbHRhID4gMSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnQVZDOicgKyBkZWx0YSArICcgbXMgaG9sZSBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZCxmaWxsaW5nIGl0Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVsdGEgPCAtMSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnQVZDOicgKyAtZGVsdGEgKyAnIG1zIG92ZXJsYXBwaW5nIGJldHdlZW4gZnJhZ21lbnRzIGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGhvbGUvZ2FwIDogc2V0IERUUyB0byBuZXh0IGV4cGVjdGVkIERUU1xuICAgICAgICBmaXJzdERUUyA9IG5leHRBdmNEdHM7XG4gICAgICAgIGlucHV0U2FtcGxlc1swXS5kdHMgPSBmaXJzdERUUztcbiAgICAgICAgLy8gb2Zmc2V0IFBUUyBhcyB3ZWxsLCBlbnN1cmUgdGhhdCBQVFMgaXMgc21hbGxlciBvciBlcXVhbCB0aGFuIG5ldyBEVFNcbiAgICAgICAgZmlyc3RQVFMgPSBNYXRoLm1heChmaXJzdFBUUyAtIGRlbHRhLCBuZXh0QXZjRHRzKTtcbiAgICAgICAgaW5wdXRTYW1wbGVzWzBdLnB0cyA9IGZpcnN0UFRTO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1ZpZGVvL1BUUy9EVFMgYWRqdXN0ZWQ6ICcgKyBNYXRoLnJvdW5kKGZpcnN0UFRTIC8gOTApICsgJy8nICsgTWF0aC5yb3VuZChmaXJzdERUUyAvIDkwKSArICcsZGVsdGE6JyArIGRlbHRhICsgJyBtcycpO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0RFRTID0gZmlyc3REVFM7XG5cbiAgICAvLyBjb21wdXRlIGxhc3RQVFMvbGFzdERUU1xuICAgIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpbnB1dFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgbGFzdERUUyA9IE1hdGgubWF4KHNhbXBsZS5kdHMsIDApO1xuICAgIGxhc3RQVFMgPSBNYXRoLm1heChzYW1wbGUucHRzLCAwLCBsYXN0RFRTKTtcblxuICAgIC8vIG9uIFNhZmFyaSBsZXQncyBzaWduYWwgdGhlIHNhbWUgc2FtcGxlIGR1cmF0aW9uIGZvciBhbGwgc2FtcGxlc1xuICAgIC8vIHNhbXBsZSBkdXJhdGlvbiAoYXMgZXhwZWN0ZWQgYnkgdHJ1biBNUDQgYm94ZXMpLCBzaG91bGQgYmUgdGhlIGRlbHRhIGJldHdlZW4gc2FtcGxlIERUU1xuICAgIC8vIHNldCB0aGlzIGNvbnN0YW50IGR1cmF0aW9uIGFzIGJlaW5nIHRoZSBhdmcgZGVsdGEgYmV0d2VlbiBjb25zZWN1dGl2ZSBEVFMuXG4gICAgaWYgKGlzU2FmYXJpKSB7XG4gICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IE1hdGgucm91bmQoKGxhc3REVFMgLSBmaXJzdERUUykgLyAoaW5wdXRTYW1wbGVzLmxlbmd0aCAtIDEpKTtcbiAgICB9XG5cbiAgICB2YXIgbmJOYWx1ID0gMCxcbiAgICAgICAgbmFsdUxlbiA9IDA7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG5iU2FtcGxlczsgX2krKykge1xuICAgICAgLy8gY29tcHV0ZSB0b3RhbC9hdmMgc2FtcGxlIGxlbmd0aCBhbmQgbmIgb2YgTkFMIHVuaXRzXG4gICAgICB2YXIgX3NhbXBsZSA9IGlucHV0U2FtcGxlc1tfaV0sXG4gICAgICAgICAgdW5pdHMgPSBfc2FtcGxlLnVuaXRzLFxuICAgICAgICAgIG5iVW5pdHMgPSB1bml0cy5sZW5ndGgsXG4gICAgICAgICAgc2FtcGxlTGVuID0gMDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmJVbml0czsgaisrKSB7XG4gICAgICAgIHNhbXBsZUxlbiArPSB1bml0c1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG5hbHVMZW4gKz0gc2FtcGxlTGVuO1xuICAgICAgbmJOYWx1ICs9IG5iVW5pdHM7XG4gICAgICBfc2FtcGxlLmxlbmd0aCA9IHNhbXBsZUxlbjtcblxuICAgICAgLy8gbm9ybWFsaXplIFBUUy9EVFNcbiAgICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgICAvLyBzYW1wbGUgRFRTIGlzIGNvbXB1dGVkIHVzaW5nIGEgY29uc3RhbnQgZGVjb2Rpbmcgb2Zmc2V0IChtcDRTYW1wbGVEdXJhdGlvbikgYmV0d2VlbiBzYW1wbGVzXG4gICAgICAgIF9zYW1wbGUuZHRzID0gZmlyc3REVFMgKyBfaSAqIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZW5zdXJlIHNhbXBsZSBtb25vdG9uaWMgRFRTXG4gICAgICAgIF9zYW1wbGUuZHRzID0gTWF0aC5tYXgoX3NhbXBsZS5kdHMsIGZpcnN0RFRTKTtcbiAgICAgIH1cbiAgICAgIC8vIGVuc3VyZSB0aGF0IGNvbXB1dGVkIHZhbHVlIGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiBzYW1wbGUgRFRTXG4gICAgICBfc2FtcGxlLnB0cyA9IE1hdGgubWF4KF9zYW1wbGUucHRzLCBfc2FtcGxlLmR0cyk7XG4gICAgfVxuXG4gICAgLyogY29uY2F0ZW5hdGUgdGhlIHZpZGVvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgKG5lZWQgOCBtb3JlIGJ5dGVzIHRvIGZpbGwgbGVuZ3RoIGFuZCBtcGRhdCB0eXBlKSAqL1xuICAgIHZhciBtZGF0U2l6ZSA9IG5hbHVMZW4gKyA0ICogbmJOYWx1ICsgODtcbiAgICB0cnkge1xuICAgICAgbWRhdCA9IG5ldyBVaW50OEFycmF5KG1kYXRTaXplKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1VWF9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uUkVNVVhfQUxMT0NfRVJST1IsIGZhdGFsOiBmYWxzZSwgYnl0ZXM6IG1kYXRTaXplLCByZWFzb246ICdmYWlsIGFsbG9jYXRpbmcgdmlkZW8gbWRhdCAnICsgbWRhdFNpemUgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KG1kYXQuYnVmZmVyKTtcbiAgICB2aWV3LnNldFVpbnQzMigwLCBtZGF0U2l6ZSk7XG4gICAgbWRhdC5zZXQobXA0X2dlbmVyYXRvci50eXBlcy5tZGF0LCA0KTtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG5iU2FtcGxlczsgX2kyKyspIHtcbiAgICAgIHZhciBhdmNTYW1wbGUgPSBpbnB1dFNhbXBsZXNbX2kyXSxcbiAgICAgICAgICBhdmNTYW1wbGVVbml0cyA9IGF2Y1NhbXBsZS51bml0cyxcbiAgICAgICAgICBtcDRTYW1wbGVMZW5ndGggPSAwLFxuICAgICAgICAgIGNvbXBvc2l0aW9uVGltZU9mZnNldCA9IHZvaWQgMDtcbiAgICAgIC8vIGNvbnZlcnQgTkFMVSBiaXRzdHJlYW0gdG8gTVA0IGZvcm1hdCAocHJlcGVuZCBOQUxVIHdpdGggc2l6ZSBmaWVsZClcbiAgICAgIGZvciAodmFyIF9qID0gMCwgX25iVW5pdHMgPSBhdmNTYW1wbGVVbml0cy5sZW5ndGg7IF9qIDwgX25iVW5pdHM7IF9qKyspIHtcbiAgICAgICAgdmFyIHVuaXQgPSBhdmNTYW1wbGVVbml0c1tfal0sXG4gICAgICAgICAgICB1bml0RGF0YSA9IHVuaXQuZGF0YSxcbiAgICAgICAgICAgIHVuaXREYXRhTGVuID0gdW5pdC5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKG9mZnNldCwgdW5pdERhdGFMZW4pO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgbWRhdC5zZXQodW5pdERhdGEsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSB1bml0RGF0YUxlbjtcbiAgICAgICAgbXA0U2FtcGxlTGVuZ3RoICs9IDQgKyB1bml0RGF0YUxlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1NhZmFyaSkge1xuICAgICAgICAvLyBleHBlY3RlZCBzYW1wbGUgZHVyYXRpb24gaXMgdGhlIERlY29kaW5nIFRpbWVzdGFtcCBkaWZmIG9mIGNvbnNlY3V0aXZlIHNhbXBsZXNcbiAgICAgICAgaWYgKF9pMiA8IG5iU2FtcGxlcyAtIDEpIHtcbiAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGlucHV0U2FtcGxlc1tfaTIgKyAxXS5kdHMgLSBhdmNTYW1wbGUuZHRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgICAgbGFzdEZyYW1lRHVyYXRpb24gPSBhdmNTYW1wbGUuZHRzIC0gaW5wdXRTYW1wbGVzW19pMiA+IDAgPyBfaTIgLSAxIDogX2kyXS5kdHM7XG4gICAgICAgICAgaWYgKGNvbmZpZy5zdHJldGNoU2hvcnRWaWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAvLyBJbiBzb21lIGNhc2VzLCBhIHNlZ21lbnQncyBhdWRpbyB0cmFjayBkdXJhdGlvbiBtYXkgZXhjZWVkIHRoZSB2aWRlbyB0cmFjayBkdXJhdGlvbi5cbiAgICAgICAgICAgIC8vIFNpbmNlIHdlJ3ZlIGFscmVhZHkgcmVtdXhlZCBhdWRpbywgYW5kIHdlIGtub3cgaG93IGxvbmcgdGhlIGF1ZGlvIHRyYWNrIGlzLCB3ZSBsb29rIHRvXG4gICAgICAgICAgICAvLyBzZWUgaWYgdGhlIGRlbHRhIHRvIHRoZSBuZXh0IHNlZ21lbnQgaXMgbG9uZ2VyIHRoYW4gdGhlIG1pbmltdW0gb2YgbWF4QnVmZmVySG9sZSBhbmRcbiAgICAgICAgICAgIC8vIG1heFNlZWtIb2xlLiBJZiBzbywgcGxheWJhY2sgd291bGQgcG90ZW50aWFsbHkgZ2V0IHN0dWNrLCBzbyB3ZSBhcnRpZmljaWFsbHkgaW5mbGF0ZVxuICAgICAgICAgICAgLy8gdGhlIGR1cmF0aW9uIG9mIHRoZSBsYXN0IGZyYW1lIHRvIG1pbmltaXplIGFueSBwb3RlbnRpYWwgZ2FwIGJldHdlZW4gc2VnbWVudHMuXG4gICAgICAgICAgICB2YXIgbWF4QnVmZmVySG9sZSA9IGNvbmZpZy5tYXhCdWZmZXJIb2xlLFxuICAgICAgICAgICAgICAgIG1heFNlZWtIb2xlID0gY29uZmlnLm1heFNlZWtIb2xlLFxuICAgICAgICAgICAgICAgIGdhcFRvbGVyYW5jZSA9IE1hdGguZmxvb3IoTWF0aC5taW4obWF4QnVmZmVySG9sZSwgbWF4U2Vla0hvbGUpICogdGltZVNjYWxlKSxcbiAgICAgICAgICAgICAgICBkZWx0YVRvRnJhbWVFbmQgPSAoYXVkaW9UcmFja0xlbmd0aCA/IGZpcnN0UFRTICsgYXVkaW9UcmFja0xlbmd0aCAqIHRpbWVTY2FsZSA6IHRoaXMubmV4dEF1ZGlvUHRzKSAtIGF2Y1NhbXBsZS5wdHM7XG4gICAgICAgICAgICBpZiAoZGVsdGFUb0ZyYW1lRW5kID4gZ2FwVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHN1YnRyYWN0IGxhc3RGcmFtZUR1cmF0aW9uIGZyb20gZGVsdGFUb0ZyYW1lRW5kIHRvIHRyeSB0byBwcmV2ZW50IGFueSB2aWRlb1xuICAgICAgICAgICAgICAvLyBmcmFtZSBvdmVybGFwLiBtYXhCdWZmZXJIb2xlL21heFNlZWtIb2xlIHNob3VsZCBiZSA+PiBsYXN0RnJhbWVEdXJhdGlvbiBhbnl3YXkuXG4gICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gZGVsdGFUb0ZyYW1lRW5kIC0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgIGlmIChtcDRTYW1wbGVEdXJhdGlvbiA8IDApIHtcbiAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnSXQgaXMgYXBwcm94aW1hdGVseSAnICsgZGVsdGFUb0ZyYW1lRW5kIC8gOTAgKyAnIG1zIHRvIHRoZSBuZXh0IHNlZ21lbnQ7IHVzaW5nIGR1cmF0aW9uICcgKyBtcDRTYW1wbGVEdXJhdGlvbiAvIDkwICsgJyBtcyBmb3IgdGhlIGxhc3QgdmlkZW8gZnJhbWUuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSBNYXRoLnJvdW5kKGF2Y1NhbXBsZS5wdHMgLSBhdmNTYW1wbGUuZHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBvc2l0aW9uVGltZU9mZnNldCA9IE1hdGgubWF4KDAsIG1wNFNhbXBsZUR1cmF0aW9uICogTWF0aC5yb3VuZCgoYXZjU2FtcGxlLnB0cyAtIGF2Y1NhbXBsZS5kdHMpIC8gbXA0U2FtcGxlRHVyYXRpb24pKTtcbiAgICAgIH1cblxuICAgICAgLy9jb25zb2xlLmxvZygnUFRTL0RUUy9pbml0RFRTL25vcm1QVFMvbm9ybURUUy9yZWxhdGl2ZSBQVFMgOiAke2F2Y1NhbXBsZS5wdHN9LyR7YXZjU2FtcGxlLmR0c30vJHtpbml0RFRTfS8ke3B0c25vcm19LyR7ZHRzbm9ybX0vJHsoYXZjU2FtcGxlLnB0cy80Mjk0OTY3Mjk2KS50b0ZpeGVkKDMpfScpO1xuICAgICAgb3V0cHV0U2FtcGxlcy5wdXNoKHtcbiAgICAgICAgc2l6ZTogbXA0U2FtcGxlTGVuZ3RoLFxuICAgICAgICAvLyBjb25zdGFudCBkdXJhdGlvblxuICAgICAgICBkdXJhdGlvbjogbXA0U2FtcGxlRHVyYXRpb24sXG4gICAgICAgIGN0czogY29tcG9zaXRpb25UaW1lT2Zmc2V0LFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgIGRlcGVuZHNPbjogYXZjU2FtcGxlLmtleSA/IDIgOiAxLFxuICAgICAgICAgIGlzTm9uU3luYzogYXZjU2FtcGxlLmtleSA/IDAgOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBuZXh0IEFWQyBzYW1wbGUgRFRTIHNob3VsZCBiZSBlcXVhbCB0byBsYXN0IHNhbXBsZSBEVFMgKyBsYXN0IHNhbXBsZSBkdXJhdGlvbiAoaW4gUEVTIHRpbWVzY2FsZSlcbiAgICB0aGlzLm5leHRBdmNEdHMgPSBsYXN0RFRTICsgbXA0U2FtcGxlRHVyYXRpb247XG4gICAgdmFyIGRyb3BwZWQgPSB0cmFjay5kcm9wcGVkO1xuICAgIHRyYWNrLmxlbiA9IDA7XG4gICAgdHJhY2submJOYWx1ID0gMDtcbiAgICB0cmFjay5kcm9wcGVkID0gMDtcbiAgICBpZiAob3V0cHV0U2FtcGxlcy5sZW5ndGggJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgIHZhciBmbGFncyA9IG91dHB1dFNhbXBsZXNbMF0uZmxhZ3M7XG4gICAgICAvLyBjaHJvbWUgd29ya2Fyb3VuZCwgbWFyayBmaXJzdCBzYW1wbGUgYXMgYmVpbmcgYSBSYW5kb20gQWNjZXNzIFBvaW50IHRvIGF2b2lkIHNvdXJjZWJ1ZmZlciBhcHBlbmQgaXNzdWVcbiAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgIGZsYWdzLmRlcGVuZHNPbiA9IDI7XG4gICAgICBmbGFncy5pc05vblN5bmMgPSAwO1xuICAgIH1cbiAgICB0cmFjay5zYW1wbGVzID0gb3V0cHV0U2FtcGxlcztcbiAgICBtb29mID0gbXA0X2dlbmVyYXRvci5tb29mKHRyYWNrLnNlcXVlbmNlTnVtYmVyKyssIGZpcnN0RFRTLCB0cmFjayk7XG4gICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuXG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBkYXRhMTogbW9vZixcbiAgICAgIGRhdGEyOiBtZGF0LFxuICAgICAgc3RhcnRQVFM6IGZpcnN0UFRTIC8gdGltZVNjYWxlLFxuICAgICAgZW5kUFRTOiAobGFzdFBUUyArIG1wNFNhbXBsZUR1cmF0aW9uKSAvIHRpbWVTY2FsZSxcbiAgICAgIHN0YXJ0RFRTOiBmaXJzdERUUyAvIHRpbWVTY2FsZSxcbiAgICAgIGVuZERUUzogdGhpcy5uZXh0QXZjRHRzIC8gdGltZVNjYWxlLFxuICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgIG5iOiBvdXRwdXRTYW1wbGVzLmxlbmd0aCxcbiAgICAgIGRyb3BwZWQ6IGRyb3BwZWRcbiAgICB9O1xuICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEEsIGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4QXVkaW8gPSBmdW5jdGlvbiByZW11eEF1ZGlvKHRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB0cmFjay5pbnB1dFRpbWVTY2FsZSxcbiAgICAgICAgbXA0dGltZVNjYWxlID0gdHJhY2sudGltZXNjYWxlLFxuICAgICAgICBzY2FsZUZhY3RvciA9IGlucHV0VGltZVNjYWxlIC8gbXA0dGltZVNjYWxlLFxuICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IHRyYWNrLmlzQUFDID8gMTAyNCA6IDExNTIsXG4gICAgICAgIGlucHV0U2FtcGxlRHVyYXRpb24gPSBtcDRTYW1wbGVEdXJhdGlvbiAqIHNjYWxlRmFjdG9yLFxuICAgICAgICBwdHNOb3JtYWxpemUgPSB0aGlzLl9QVFNOb3JtYWxpemUsXG4gICAgICAgIGluaXREVFMgPSB0aGlzLl9pbml0RFRTLFxuICAgICAgICByYXdNUEVHID0gIXRyYWNrLmlzQUFDICYmIHRoaXMudHlwZVN1cHBvcnRlZC5tcGVnO1xuXG4gICAgdmFyIG9mZnNldCxcbiAgICAgICAgbXA0U2FtcGxlLFxuICAgICAgICBmaWxsRnJhbWUsXG4gICAgICAgIG1kYXQsXG4gICAgICAgIG1vb2YsXG4gICAgICAgIGZpcnN0UFRTLFxuICAgICAgICBsYXN0UFRTLFxuICAgICAgICBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzLFxuICAgICAgICBvdXRwdXRTYW1wbGVzID0gW10sXG4gICAgICAgIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzO1xuXG4gICAgLy8gZm9yIGF1ZGlvIHNhbXBsZXMsIGFsc28gY29uc2lkZXIgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGFzIGJlaW5nIGNvbnRpZ3VvdXMgKGV2ZW4gaWYgYSBsZXZlbCBzd2l0Y2ggb2NjdXJzKSxcbiAgICAvLyBmb3Igc2FrZSBvZiBjbGFyaXR5OlxuICAgIC8vIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcmUgZnJhZ3Mgd2l0aFxuICAgIC8vICAtIGxlc3MgdGhhbiAxMDBtcyBnYXBzIGJldHdlZW4gbmV3IHRpbWUgb2Zmc2V0IChpZiBhY2N1cmF0ZSkgYW5kIG5leHQgZXhwZWN0ZWQgUFRTIE9SXG4gICAgLy8gIC0gbGVzcyB0aGFuIDIwIGF1ZGlvIGZyYW1lcyBkaXN0YW5jZVxuICAgIC8vIGNvbnRpZ3VvdXMgZnJhZ21lbnRzIGFyZSBjb25zZWN1dGl2ZSBmcmFnbWVudHMgZnJvbSBzYW1lIHF1YWxpdHkgbGV2ZWwgKHNhbWUgbGV2ZWwsIG5ldyBTTiA9IG9sZCBTTiArIDEpXG4gICAgLy8gdGhpcyBoZWxwcyBlbnN1cmluZyBhdWRpbyBjb250aW51aXR5XG4gICAgLy8gYW5kIHRoaXMgYWxzbyBhdm9pZHMgYXVkaW8gZ2xpdGNoZXMvY3V0IHdoZW4gc3dpdGNoaW5nIHF1YWxpdHksIG9yIHJlcG9ydGluZyB3cm9uZyBkdXJhdGlvbiBvbiBmaXJzdCBhdWRpbyBmcmFtZVxuICAgIGNvbnRpZ3VvdXMgfD0gaW5wdXRTYW1wbGVzLmxlbmd0aCAmJiBuZXh0QXVkaW9QdHMgJiYgKGFjY3VyYXRlVGltZU9mZnNldCAmJiBNYXRoLmFicyh0aW1lT2Zmc2V0IC0gbmV4dEF1ZGlvUHRzIC8gaW5wdXRUaW1lU2NhbGUpIDwgMC4xIHx8IE1hdGguYWJzKGlucHV0U2FtcGxlc1swXS5wdHMgLSBuZXh0QXVkaW9QdHMgLSBpbml0RFRTKSA8IDIwICogaW5wdXRTYW1wbGVEdXJhdGlvbik7XG5cbiAgICBpZiAoIWNvbnRpZ3VvdXMpIHtcbiAgICAgIC8vIGlmIGZyYWdtZW50cyBhcmUgbm90IGNvbnRpZ3VvdXMsIGxldCdzIHVzZSB0aW1lT2Zmc2V0IHRvIGNvbXB1dGUgbmV4dCBBdWRpbyBQVFNcbiAgICAgIG5leHRBdWRpb1B0cyA9IHRpbWVPZmZzZXQgKiBpbnB1dFRpbWVTY2FsZTtcbiAgICB9XG5cbiAgICAvLyBjb21wdXRlIG5vcm1hbGl6ZWQgUFRTXG4gICAgaW5wdXRTYW1wbGVzLmZvckVhY2goZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgc2FtcGxlLnB0cyA9IHNhbXBsZS5kdHMgPSBwdHNOb3JtYWxpemUoc2FtcGxlLnB0cyAtIGluaXREVFMsIG5leHRBdWRpb1B0cyk7XG4gICAgfSk7XG5cbiAgICAvLyBzb3J0IGJhc2VkIG9uIG5vcm1hbGl6ZWQgUFRTICh0aGlzIGlzIHRvIGF2b2lkIHNvcnRpbmcgaXNzdWVzIGluIGNhc2UgdGltZXN0YW1wXG4gICAgLy8gcmVsb29wIGluIHRoZSBtaWRkbGUgb2Ygb3VyIHNhbXBsZXMgYXJyYXkpXG4gICAgaW5wdXRTYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnB0cyAtIGIucHRzO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlIGF1ZGlvIHRyYWNrIGlzIG1pc3Npbmcgc2FtcGxlcywgdGhlIGZyYW1lcyBzZWVtIHRvIGdldCBcImxlZnQtc2hpZnRlZFwiIHdpdGhpbiB0aGVcbiAgICAvLyByZXN1bHRpbmcgbXA0IHNlZ21lbnQsIGNhdXNpbmcgc3luYyBpc3N1ZXMgYW5kIGxlYXZpbmcgZ2FwcyBhdCB0aGUgZW5kIG9mIHRoZSBhdWRpbyBzZWdtZW50LlxuICAgIC8vIEluIGFuIGVmZm9ydCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmcsIHdlIGluamVjdCBmcmFtZXMgaGVyZSB3aGVyZSB0aGVyZSBhcmUgZ2Fwcy5cbiAgICAvLyBXaGVuIHBvc3NpYmxlLCB3ZSBpbmplY3QgYSBzaWxlbnQgZnJhbWU7IHdoZW4gdGhhdCdzIG5vdCBwb3NzaWJsZSwgd2UgZHVwbGljYXRlIHRoZSBsYXN0XG4gICAgLy8gZnJhbWUuXG5cbiAgICAvLyBvbmx5IGluamVjdC9kcm9wIGF1ZGlvIGZyYW1lcyBpbiBjYXNlIHRpbWUgb2Zmc2V0IGlzIGFjY3VyYXRlXG4gICAgaWYgKGFjY3VyYXRlVGltZU9mZnNldCAmJiB0cmFjay5pc0FBQykge1xuICAgICAgdmFyIG1heEF1ZGlvRnJhbWVzRHJpZnQgPSB0aGlzLmNvbmZpZy5tYXhBdWRpb0ZyYW1lc0RyaWZ0O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG5leHRQdHMgPSBuZXh0QXVkaW9QdHM7IGkgPCBpbnB1dFNhbXBsZXMubGVuZ3RoOykge1xuICAgICAgICAvLyBGaXJzdCwgbGV0J3Mgc2VlIGhvdyBmYXIgb2ZmIHRoaXMgZnJhbWUgaXMgZnJvbSB3aGVyZSB3ZSBleHBlY3QgaXQgdG8gYmVcbiAgICAgICAgdmFyIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpXSxcbiAgICAgICAgICAgIGRlbHRhO1xuICAgICAgICB2YXIgcHRzID0gc2FtcGxlLnB0cztcbiAgICAgICAgZGVsdGEgPSBwdHMgLSBuZXh0UHRzO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coTWF0aC5yb3VuZChwdHMpICsgJy8nICsgTWF0aC5yb3VuZChuZXh0UHRzKSArICcvJyArIE1hdGgucm91bmQoZGVsdGEpKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5hYnMoMTAwMCAqIGRlbHRhIC8gaW5wdXRUaW1lU2NhbGUpO1xuXG4gICAgICAgIC8vIElmIHdlJ3JlIG92ZXJsYXBwaW5nIGJ5IG1vcmUgdGhhbiBhIGR1cmF0aW9uLCBkcm9wIHRoaXMgc2FtcGxlXG4gICAgICAgIGlmIChkZWx0YSA8PSAtbWF4QXVkaW9GcmFtZXNEcmlmdCAqIGlucHV0U2FtcGxlRHVyYXRpb24pIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdEcm9wcGluZyAxIGF1ZGlvIGZyYW1lIEAgJyArIChuZXh0UHRzIC8gaW5wdXRUaW1lU2NhbGUpLnRvRml4ZWQoMykgKyAncyBkdWUgdG8gJyArIE1hdGgucm91bmQoZHVyYXRpb24pICsgJyBtcyBvdmVybGFwLicpO1xuICAgICAgICAgIGlucHV0U2FtcGxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgdHJhY2subGVuIC09IHNhbXBsZS51bml0Lmxlbmd0aDtcbiAgICAgICAgICAvLyBEb24ndCB0b3VjaCBuZXh0UHRzTm9ybSBvciBpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgbWlzc2luZyBmcmFtZXMgaWY6XG4gICAgICAgIC8vIDE6IFdlJ3JlIG1vcmUgdGhhbiBtYXhBdWRpb0ZyYW1lc0RyaWZ0IGZyYW1lIGF3YXlcbiAgICAgICAgLy8gMjogTm90IG1vcmUgdGhhbiBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OIGF3YXlcbiAgICAgICAgLy8gMzogY3VycmVudFRpbWUgKGFrYSBuZXh0UHRzTm9ybSkgaXMgbm90IDBcbiAgICAgICAgZWxzZSBpZiAoZGVsdGEgPj0gbWF4QXVkaW9GcmFtZXNEcmlmdCAqIGlucHV0U2FtcGxlRHVyYXRpb24gJiYgZHVyYXRpb24gPCBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OICYmIG5leHRQdHMpIHtcbiAgICAgICAgICAgIHZhciBtaXNzaW5nID0gTWF0aC5yb3VuZChkZWx0YSAvIGlucHV0U2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignSW5qZWN0aW5nICcgKyBtaXNzaW5nICsgJyBhdWRpbyBmcmFtZSBAICcgKyAobmV4dFB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgJ3MgZHVlIHRvICcgKyBNYXRoLnJvdW5kKDEwMDAgKiBkZWx0YSAvIGlucHV0VGltZVNjYWxlKSArICcgbXMgZ2FwLicpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtaXNzaW5nOyBqKyspIHtcbiAgICAgICAgICAgICAgdmFyIG5ld1N0YW1wID0gTWF0aC5tYXgobmV4dFB0cywgMCk7XG4gICAgICAgICAgICAgIGZpbGxGcmFtZSA9IGFhYy5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICBpZiAoIWZpbGxGcmFtZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnVW5hYmxlIHRvIGdldCBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjOyBkdXBsaWNhdGluZyBsYXN0IGZyYW1lIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgZmlsbEZyYW1lID0gc2FtcGxlLnVuaXQuc3ViYXJyYXkoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbnB1dFNhbXBsZXMuc3BsaWNlKGksIDAsIHsgdW5pdDogZmlsbEZyYW1lLCBwdHM6IG5ld1N0YW1wLCBkdHM6IG5ld1N0YW1wIH0pO1xuICAgICAgICAgICAgICB0cmFjay5sZW4gKz0gZmlsbEZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBzYW1wbGUgdG8gbmV4dCBleHBlY3RlZCBwdHNcbiAgICAgICAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gbmV4dFB0cztcbiAgICAgICAgICAgIG5leHRQdHMgKz0gaW5wdXRTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBqdXN0IGFkanVzdCBwdHNcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAwLjEgKiBpbnB1dFNhbXBsZUR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgIC8vbG9nZ2VyLmxvZyhgSW52YWxpZCBmcmFtZSBkZWx0YSAke01hdGgucm91bmQoZGVsdGEgKyBpbnB1dFNhbXBsZUR1cmF0aW9uKX0gYXQgUFRTICR7TWF0aC5yb3VuZChwdHMgLyA5MCl9IChzaG91bGQgYmUgJHtNYXRoLnJvdW5kKGlucHV0U2FtcGxlRHVyYXRpb24pfSkuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYW1wbGUucHRzID0gc2FtcGxlLmR0cyA9IG5leHRQdHM7XG4gICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9qMiA9IDAsIF9uYlNhbXBsZXMgPSBpbnB1dFNhbXBsZXMubGVuZ3RoOyBfajIgPCBfbmJTYW1wbGVzOyBfajIrKykge1xuICAgICAgdmFyIGF1ZGlvU2FtcGxlID0gaW5wdXRTYW1wbGVzW19qMl07XG4gICAgICB2YXIgdW5pdCA9IGF1ZGlvU2FtcGxlLnVuaXQ7XG4gICAgICB2YXIgX3B0cyA9IGF1ZGlvU2FtcGxlLnB0cztcbiAgICAgIC8vbG9nZ2VyLmxvZyhgQXVkaW8vUFRTOiR7TWF0aC5yb3VuZChwdHMvOTApfWApO1xuICAgICAgLy8gaWYgbm90IGZpcnN0IHNhbXBsZVxuICAgICAgaWYgKGxhc3RQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtcDRTYW1wbGUuZHVyYXRpb24gPSBNYXRoLnJvdW5kKChfcHRzIC0gbGFzdFBUUykgLyBzY2FsZUZhY3Rvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2RlbHRhID0gTWF0aC5yb3VuZCgxMDAwICogKF9wdHMgLSBuZXh0QXVkaW9QdHMpIC8gaW5wdXRUaW1lU2NhbGUpLFxuICAgICAgICAgICAgbnVtTWlzc2luZ0ZyYW1lcyA9IDA7XG4gICAgICAgIC8vIGlmIGZyYWdtZW50IGFyZSBjb250aWd1b3VzLCBkZXRlY3QgaG9sZS9vdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50c1xuICAgICAgICAvLyBjb250aWd1b3VzIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGZyb20gc2FtZSBxdWFsaXR5IGxldmVsIChzYW1lIGxldmVsLCBuZXcgU04gPSBvbGQgU04gKyAxKVxuICAgICAgICBpZiAoY29udGlndW91cyAmJiB0cmFjay5pc0FBQykge1xuICAgICAgICAgIC8vIGxvZyBkZWx0YVxuICAgICAgICAgIGlmIChfZGVsdGEpIHtcbiAgICAgICAgICAgIGlmIChfZGVsdGEgPiAwICYmIF9kZWx0YSA8IE1BWF9TSUxFTlRfRlJBTUVfRFVSQVRJT04pIHtcbiAgICAgICAgICAgICAgbnVtTWlzc2luZ0ZyYW1lcyA9IE1hdGgucm91bmQoKF9wdHMgLSBuZXh0QXVkaW9QdHMpIC8gaW5wdXRTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyhfZGVsdGEgKyAnIG1zIGhvbGUgYmV0d2VlbiBBQUMgc2FtcGxlcyBkZXRlY3RlZCxmaWxsaW5nIGl0Jyk7XG4gICAgICAgICAgICAgIGlmIChudW1NaXNzaW5nRnJhbWVzID4gMCkge1xuICAgICAgICAgICAgICAgIGZpbGxGcmFtZSA9IGFhYy5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNrLmxlbiArPSBudW1NaXNzaW5nRnJhbWVzICogZmlsbEZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGZyYW1lIG92ZXJsYXAsIG92ZXJsYXBwaW5nIGZvciBtb3JlIHRoYW4gaGFsZiBhIGZyYW1lIGR1cmFpb25cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX2RlbHRhIDwgLTEyKSB7XG4gICAgICAgICAgICAgIC8vIGRyb3Agb3ZlcmxhcHBpbmcgYXVkaW8gZnJhbWVzLi4uIGJyb3dzZXIgd2lsbCBkZWFsIHdpdGggaXRcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkcm9wIG92ZXJsYXBwaW5nIEFBQyBzYW1wbGUsIGV4cGVjdGVkL3BhcnNlZC9kZWx0YTonICsgKG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgJ3MvJyArIChfcHRzIC8gaW5wdXRUaW1lU2NhbGUpLnRvRml4ZWQoMykgKyAncy8nICsgLV9kZWx0YSArICdtcycpO1xuICAgICAgICAgICAgICB0cmFjay5sZW4gLT0gdW5pdC5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCBQVFMvRFRTIHRvIGV4cGVjdGVkIFBUUy9EVFNcbiAgICAgICAgICAgIF9wdHMgPSBuZXh0QXVkaW9QdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbWVtYmVyIGZpcnN0IFBUUyBvZiBvdXIgYXVkaW9TYW1wbGVzLCBlbnN1cmUgdmFsdWUgaXMgcG9zaXRpdmVcbiAgICAgICAgZmlyc3RQVFMgPSBNYXRoLm1heCgwLCBfcHRzKTtcbiAgICAgICAgaWYgKHRyYWNrLmxlbiA+IDApIHtcbiAgICAgICAgICAvKiBjb25jYXRlbmF0ZSB0aGUgYXVkaW8gZGF0YSBhbmQgY29uc3RydWN0IHRoZSBtZGF0IGluIHBsYWNlXG4gICAgICAgICAgICAobmVlZCA4IG1vcmUgYnl0ZXMgdG8gZmlsbCBsZW5ndGggYW5kIG1kYXQgdHlwZSkgKi9cbiAgICAgICAgICB2YXIgbWRhdFNpemUgPSByYXdNUEVHID8gdHJhY2subGVuIDogdHJhY2subGVuICsgODtcbiAgICAgICAgICBvZmZzZXQgPSByYXdNUEVHID8gMCA6IDg7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1kYXQgPSBuZXcgVWludDhBcnJheShtZGF0U2l6ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NVVhfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLlJFTVVYX0FMTE9DX0VSUk9SLCBmYXRhbDogZmFsc2UsIGJ5dGVzOiBtZGF0U2l6ZSwgcmVhc29uOiAnZmFpbCBhbGxvY2F0aW5nIGF1ZGlvIG1kYXQgJyArIG1kYXRTaXplIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXJhd01QRUcpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KG1kYXQuYnVmZmVyKTtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG1kYXRTaXplKTtcbiAgICAgICAgICAgIG1kYXQuc2V0KG1wNF9nZW5lcmF0b3IudHlwZXMubWRhdCwgNCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vIGF1ZGlvIHNhbXBsZXNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgbnVtTWlzc2luZ0ZyYW1lczsgX2kzKyspIHtcbiAgICAgICAgICBmaWxsRnJhbWUgPSBhYWMuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcbiAgICAgICAgICBpZiAoIWZpbGxGcmFtZSkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdVbmFibGUgdG8gZ2V0IHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWM7IGR1cGxpY2F0aW5nIHRoaXMgZnJhbWUgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIGZpbGxGcmFtZSA9IHVuaXQuc3ViYXJyYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWRhdC5zZXQoZmlsbEZyYW1lLCBvZmZzZXQpO1xuICAgICAgICAgIG9mZnNldCArPSBmaWxsRnJhbWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBtcDRTYW1wbGUgPSB7XG4gICAgICAgICAgICBzaXplOiBmaWxsRnJhbWUuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIGN0czogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDI0LFxuICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgICAgIGRlZ3JhZFByaW86IDAsXG4gICAgICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgb3V0cHV0U2FtcGxlcy5wdXNoKG1wNFNhbXBsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1kYXQuc2V0KHVuaXQsIG9mZnNldCk7XG4gICAgICB2YXIgdW5pdExlbiA9IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgIG9mZnNldCArPSB1bml0TGVuO1xuICAgICAgLy9jb25zb2xlLmxvZygnUFRTL0RUUy9pbml0RFRTL25vcm1QVFMvbm9ybURUUy9yZWxhdGl2ZSBQVFMgOiAke2F1ZGlvU2FtcGxlLnB0c30vJHthdWRpb1NhbXBsZS5kdHN9LyR7aW5pdERUU30vJHtwdHNub3JtfS8ke2R0c25vcm19LyR7KGF1ZGlvU2FtcGxlLnB0cy80Mjk0OTY3Mjk2KS50b0ZpeGVkKDMpfScpO1xuICAgICAgbXA0U2FtcGxlID0ge1xuICAgICAgICBzaXplOiB1bml0TGVuLFxuICAgICAgICBjdHM6IDAsXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb3V0cHV0U2FtcGxlcy5wdXNoKG1wNFNhbXBsZSk7XG4gICAgICBsYXN0UFRTID0gX3B0cztcbiAgICB9XG4gICAgdmFyIGxhc3RTYW1wbGVEdXJhdGlvbiA9IDA7XG4gICAgdmFyIG5iU2FtcGxlcyA9IG91dHB1dFNhbXBsZXMubGVuZ3RoO1xuICAgIC8vc2V0IGxhc3Qgc2FtcGxlIGR1cmF0aW9uIGFzIGJlaW5nIGlkZW50aWNhbCB0byBwcmV2aW91cyBzYW1wbGVcbiAgICBpZiAobmJTYW1wbGVzID49IDIpIHtcbiAgICAgIGxhc3RTYW1wbGVEdXJhdGlvbiA9IG91dHB1dFNhbXBsZXNbbmJTYW1wbGVzIC0gMl0uZHVyYXRpb247XG4gICAgICBtcDRTYW1wbGUuZHVyYXRpb24gPSBsYXN0U2FtcGxlRHVyYXRpb247XG4gICAgfVxuICAgIGlmIChuYlNhbXBsZXMpIHtcbiAgICAgIC8vIG5leHQgYXVkaW8gc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZHVyYXRpb25cbiAgICAgIHRoaXMubmV4dEF1ZGlvUHRzID0gbmV4dEF1ZGlvUHRzID0gbGFzdFBUUyArIHNjYWxlRmFjdG9yICogbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgICAgLy9sb2dnZXIubG9nKCdBdWRpby9QVFMvUFRTZW5kOicgKyBhdWRpb1NhbXBsZS5wdHMudG9GaXhlZCgwKSArICcvJyArIHRoaXMubmV4dEFhY0R0cy50b0ZpeGVkKDApKTtcbiAgICAgIHRyYWNrLmxlbiA9IDA7XG4gICAgICB0cmFjay5zYW1wbGVzID0gb3V0cHV0U2FtcGxlcztcbiAgICAgIGlmIChyYXdNUEVHKSB7XG4gICAgICAgIG1vb2YgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9vZiA9IG1wNF9nZW5lcmF0b3IubW9vZih0cmFjay5zZXF1ZW5jZU51bWJlcisrLCBmaXJzdFBUUyAvIHNjYWxlRmFjdG9yLCB0cmFjayk7XG4gICAgICB9XG4gICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICB2YXIgc3RhcnQgPSBmaXJzdFBUUyAvIGlucHV0VGltZVNjYWxlO1xuICAgICAgdmFyIGVuZCA9IG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlO1xuICAgICAgdmFyIGF1ZGlvRGF0YSA9IHtcbiAgICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICAgIGRhdGEyOiBtZGF0LFxuICAgICAgICBzdGFydFBUUzogc3RhcnQsXG4gICAgICAgIGVuZFBUUzogZW5kLFxuICAgICAgICBzdGFydERUUzogc3RhcnQsXG4gICAgICAgIGVuZERUUzogZW5kLFxuICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICBuYjogbmJTYW1wbGVzXG4gICAgICB9O1xuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgYXVkaW9EYXRhKTtcbiAgICAgIHJldHVybiBhdWRpb0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4RW1wdHlBdWRpbyA9IGZ1bmN0aW9uIHJlbXV4RW1wdHlBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgdmlkZW9EYXRhKSB7XG4gICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGUsXG4gICAgICAgIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnNhbXBsZXJhdGUgPyB0cmFjay5zYW1wbGVyYXRlIDogaW5wdXRUaW1lU2NhbGUsXG4gICAgICAgIHNjYWxlRmFjdG9yID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGUsXG4gICAgICAgIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzLFxuXG5cbiAgICAvLyBzeW5jIHdpdGggdmlkZW8ncyB0aW1lc3RhbXBcbiAgICBzdGFydERUUyA9IChuZXh0QXVkaW9QdHMgIT09IHVuZGVmaW5lZCA/IG5leHRBdWRpb1B0cyA6IHZpZGVvRGF0YS5zdGFydERUUyAqIGlucHV0VGltZVNjYWxlKSArIHRoaXMuX2luaXREVFMsXG4gICAgICAgIGVuZERUUyA9IHZpZGVvRGF0YS5lbmREVFMgKiBpbnB1dFRpbWVTY2FsZSArIHRoaXMuX2luaXREVFMsXG5cbiAgICAvLyBvbmUgc2FtcGxlJ3MgZHVyYXRpb24gdmFsdWVcbiAgICBzYW1wbGVEdXJhdGlvbiA9IDEwMjQsXG4gICAgICAgIGZyYW1lRHVyYXRpb24gPSBzY2FsZUZhY3RvciAqIHNhbXBsZUR1cmF0aW9uLFxuXG5cbiAgICAvLyBzYW1wbGVzIGNvdW50IG9mIHRoaXMgc2VnbWVudCdzIGR1cmF0aW9uXG4gICAgbmJTYW1wbGVzID0gTWF0aC5jZWlsKChlbmREVFMgLSBzdGFydERUUykgLyBmcmFtZUR1cmF0aW9uKSxcblxuXG4gICAgLy8gc2lsZW50IGZyYW1lXG4gICAgc2lsZW50RnJhbWUgPSBhYWMuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3JlbXV4IGVtcHR5IEF1ZGlvJyk7XG4gICAgLy8gQ2FuJ3QgcmVtdXggaWYgd2UgY2FuJ3QgZ2VuZXJhdGUgYSBzaWxlbnQgZnJhbWUuLi5cbiAgICBpZiAoIXNpbGVudEZyYW1lKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgnVW5hYmxlIHRvIHJlbXV4RW1wdHlBdWRpbyBzaW5jZSB3ZSB3ZXJlIHVuYWJsZSB0byBnZXQgYSBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYlNhbXBsZXM7IGkrKykge1xuICAgICAgdmFyIHN0YW1wID0gc3RhcnREVFMgKyBpICogZnJhbWVEdXJhdGlvbjtcbiAgICAgIHNhbXBsZXMucHVzaCh7IHVuaXQ6IHNpbGVudEZyYW1lLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH0pO1xuICAgICAgdHJhY2subGVuICs9IHNpbGVudEZyYW1lLmxlbmd0aDtcbiAgICB9XG4gICAgdHJhY2suc2FtcGxlcyA9IHNhbXBsZXM7XG5cbiAgICB0aGlzLnJlbXV4QXVkaW8odHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMpO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4SUQzID0gZnVuY3Rpb24gcmVtdXhJRDModHJhY2ssIHRpbWVPZmZzZXQpIHtcbiAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsXG4gICAgICAgIHNhbXBsZTtcbiAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICB2YXIgaW5pdFBUUyA9IHRoaXMuX2luaXRQVFM7XG4gICAgdmFyIGluaXREVFMgPSB0aGlzLl9pbml0RFRTO1xuICAgIC8vIGNvbnN1bWUgc2FtcGxlc1xuICAgIGlmIChsZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgc2FtcGxlID0gdHJhY2suc2FtcGxlc1tpbmRleF07XG4gICAgICAgIC8vIHNldHRpbmcgaWQzIHB0cywgZHRzIHRvIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgLy8gdXNpbmcgdGhpcy5faW5pdFBUUyBhbmQgdGhpcy5faW5pdERUUyB0byBjYWxjdWxhdGUgcmVsYXRpdmUgdGltZVxuICAgICAgICBzYW1wbGUucHRzID0gKHNhbXBsZS5wdHMgLSBpbml0UFRTKSAvIGlucHV0VGltZVNjYWxlO1xuICAgICAgICBzYW1wbGUuZHRzID0gKHNhbXBsZS5kdHMgLSBpbml0RFRTKSAvIGlucHV0VGltZVNjYWxlO1xuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfTUVUQURBVEEsIHtcbiAgICAgICAgc2FtcGxlczogdHJhY2suc2FtcGxlc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgIHRpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VGV4dCA9IGZ1bmN0aW9uIHJlbXV4VGV4dCh0cmFjaywgdGltZU9mZnNldCkge1xuICAgIHRyYWNrLnNhbXBsZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEucHRzIC0gYi5wdHM7XG4gICAgfSk7XG5cbiAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsXG4gICAgICAgIHNhbXBsZTtcbiAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICB2YXIgaW5pdFBUUyA9IHRoaXMuX2luaXRQVFM7XG4gICAgLy8gY29uc3VtZSBzYW1wbGVzXG4gICAgaWYgKGxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW2luZGV4XTtcbiAgICAgICAgLy8gc2V0dGluZyB0ZXh0IHB0cywgZHRzIHRvIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgLy8gdXNpbmcgdGhpcy5faW5pdFBUUyBhbmQgdGhpcy5faW5pdERUUyB0byBjYWxjdWxhdGUgcmVsYXRpdmUgdGltZVxuICAgICAgICBzYW1wbGUucHRzID0gKHNhbXBsZS5wdHMgLSBpbml0UFRTKSAvIGlucHV0VGltZVNjYWxlO1xuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIHtcbiAgICAgICAgc2FtcGxlczogdHJhY2suc2FtcGxlc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgIHRpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLl9QVFNOb3JtYWxpemUgPSBmdW5jdGlvbiBfUFRTTm9ybWFsaXplKHZhbHVlLCByZWZlcmVuY2UpIHtcbiAgICB2YXIgb2Zmc2V0O1xuICAgIGlmIChyZWZlcmVuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAocmVmZXJlbmNlIDwgdmFsdWUpIHtcbiAgICAgIC8vIC0gMl4zM1xuICAgICAgb2Zmc2V0ID0gLTg1ODk5MzQ1OTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICsgMl4zM1xuICAgICAgb2Zmc2V0ID0gODU4OTkzNDU5MjtcbiAgICB9XG4gICAgLyogUFRTIGlzIDMzYml0IChmcm9tIDAgdG8gMl4zMyAtMSlcbiAgICAgIGlmIGRpZmYgYmV0d2VlbiB2YWx1ZSBhbmQgcmVmZXJlbmNlIGlzIGJpZ2dlciB0aGFuIGhhbGYgb2YgdGhlIGFtcGxpdHVkZSAoMl4zMikgdGhlbiBpdCBtZWFucyB0aGF0XG4gICAgICBQVFMgbG9vcGluZyBvY2N1cmVkLiBmaWxsIHRoZSBnYXAgKi9cbiAgICB3aGlsZSAoTWF0aC5hYnModmFsdWUgLSByZWZlcmVuY2UpID4gNDI5NDk2NzI5Nikge1xuICAgICAgdmFsdWUgKz0gb2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIE1QNFJlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wNF9yZW11eGVyID0gKG1wNF9yZW11eGVyX01QNFJlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlci5qc1xuZnVuY3Rpb24gcGFzc3Rocm91Z2hfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIHBhc3N0aHJvdWdoIHJlbXV4ZXJcbiovXG5cblxudmFyIHBhc3N0aHJvdWdoX3JlbXV4ZXJfUGFzc1Rocm91Z2hSZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYXNzVGhyb3VnaFJlbXV4ZXIob2JzZXJ2ZXIpIHtcbiAgICBwYXNzdGhyb3VnaF9yZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXNzVGhyb3VnaFJlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICB9XG5cbiAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHJlc2V0SW5pdFNlZ21lbnQoKSB7fTtcblxuICBQYXNzVGhyb3VnaFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4ID0gZnVuY3Rpb24gcmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0LCByYXdEYXRhKSB7XG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcjtcbiAgICB2YXIgc3RyZWFtVHlwZSA9ICcnO1xuICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICBzdHJlYW1UeXBlICs9ICdhdWRpbyc7XG4gICAgfVxuICAgIGlmICh2aWRlb1RyYWNrKSB7XG4gICAgICBzdHJlYW1UeXBlICs9ICd2aWRlbyc7XG4gICAgfVxuICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCB7XG4gICAgICBkYXRhMTogcmF3RGF0YSxcbiAgICAgIHN0YXJ0UFRTOiB0aW1lT2Zmc2V0LFxuICAgICAgc3RhcnREVFM6IHRpbWVPZmZzZXQsXG4gICAgICB0eXBlOiBzdHJlYW1UeXBlLFxuICAgICAgbmI6IDEsXG4gICAgICBkcm9wcGVkOiAwXG4gICAgfSk7XG4gICAgLy9ub3RpZnkgZW5kIG9mIHBhcnNpbmdcbiAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCk7XG4gIH07XG5cbiAgcmV0dXJuIFBhc3NUaHJvdWdoUmVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFzc3Rocm91Z2hfcmVtdXhlciA9IChwYXNzdGhyb3VnaF9yZW11eGVyX1Bhc3NUaHJvdWdoUmVtdXhlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qc1xuZnVuY3Rpb24gZGVtdXhlcl9pbmxpbmVfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyogIGlubGluZSBkZW11eGVyLlxuICogICBwcm9iZSBmcmFnbWVudHMgYW5kIGluc3RhbnRpYXRlIGFwcHJvcHJpYXRlIGRlbXV4ZXIgZGVwZW5kaW5nIG9uIGNvbnRlbnQgdHlwZSAoVFNEZW11eGVyLCBBQUNEZW11eGVyLCAuLi4pXG4gKi9cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgZGVtdXhlcl9pbmxpbmVfRGVtdXhlcklubGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVtdXhlcklubGluZShvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgY29uZmlnLCB2ZW5kb3IpIHtcbiAgICBkZW11eGVyX2lubGluZV9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVtdXhlcklubGluZSk7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnZlbmRvciA9IHZlbmRvcjtcbiAgfVxuXG4gIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgIGlmIChkZW11eGVyKSB7XG4gICAgICBkZW11eGVyLmRlc3Ryb3koKTtcbiAgICB9XG4gIH07XG5cbiAgRGVtdXhlcklubGluZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goZGF0YSwgZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICBpZiAoZGF0YS5ieXRlTGVuZ3RoID4gMCAmJiBkZWNyeXB0ZGF0YSAhPSBudWxsICYmIGRlY3J5cHRkYXRhLmtleSAhPSBudWxsICYmIGRlY3J5cHRkYXRhLm1ldGhvZCA9PT0gJ0FFUy0xMjgnKSB7XG4gICAgICB2YXIgZGVjcnlwdGVyID0gdGhpcy5kZWNyeXB0ZXI7XG4gICAgICBpZiAoZGVjcnlwdGVyID09IG51bGwpIHtcbiAgICAgICAgZGVjcnlwdGVyID0gdGhpcy5kZWNyeXB0ZXIgPSBuZXcgY3J5cHRfZGVjcnlwdGVyKHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnKTtcbiAgICAgIH1cbiAgICAgIHZhciBsb2NhbHRoaXMgPSB0aGlzO1xuICAgICAgLy8gcGVyZm9ybWFuY2Uubm93KCkgbm90IGF2YWlsYWJsZSBvbiBXZWJXb3JrZXIsIGF0IGxlYXN0IG9uIFNhZmFyaSBEZXNrdG9wXG4gICAgICB2YXIgc3RhcnRUaW1lO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgfVxuICAgICAgZGVjcnlwdGVyLmRlY3J5cHQoZGF0YSwgZGVjcnlwdGRhdGEua2V5LmJ1ZmZlciwgZGVjcnlwdGRhdGEuaXYuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICB2YXIgZW5kVGltZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWx0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfREVDUllQVEVELCB7IHN0YXRzOiB7IHRzdGFydDogc3RhcnRUaW1lLCB0ZGVjcnlwdDogZW5kVGltZSB9IH0pO1xuICAgICAgICBsb2NhbHRoaXMucHVzaERlY3J5cHRlZChuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKSwgZGVjcnlwdGRhdGEsIG5ldyBVaW50OEFycmF5KGluaXRTZWdtZW50KSwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hEZWNyeXB0ZWQobmV3IFVpbnQ4QXJyYXkoZGF0YSksIGRlY3J5cHRkYXRhLCBuZXcgVWludDhBcnJheShpbml0U2VnbWVudCksIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUyk7XG4gICAgfVxuICB9O1xuXG4gIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLnB1c2hEZWNyeXB0ZWQgPSBmdW5jdGlvbiBwdXNoRGVjcnlwdGVkKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKSB7XG4gICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgaWYgKCFkZW11eGVyIHx8XG4gICAgLy8gaW4gY2FzZSBvZiBjb250aW51aXR5IGNoYW5nZSwgd2UgbWlnaHQgc3dpdGNoIGZyb20gY29udGVudCB0eXBlIChBQUMgY29udGFpbmVyIHRvIFRTIGNvbnRhaW5lciBmb3IgZXhhbXBsZSlcbiAgICAvLyBzbyBsZXQncyBjaGVjayB0aGF0IGN1cnJlbnQgZGVtdXhlciBpcyBzdGlsbCB2YWxpZFxuICAgIGRpc2NvbnRpbnVpdHkgJiYgIXRoaXMucHJvYmUoZGF0YSkpIHtcbiAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICB2YXIgdHlwZVN1cHBvcnRlZCA9IHRoaXMudHlwZVN1cHBvcnRlZDtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgIC8vIHByb2Jpbmcgb3JkZXIgaXMgVFMvQUFDL01QMy9NUDRcbiAgICAgIHZhciBtdXhDb25maWcgPSBbeyBkZW11eDogdHNkZW11eGVyLCByZW11eDogbXA0X3JlbXV4ZXIgfSwgeyBkZW11eDogYWFjZGVtdXhlciwgcmVtdXg6IG1wNF9yZW11eGVyIH0sIHsgZGVtdXg6IG1wM2RlbXV4ZXIsIHJlbXV4OiBtcDRfcmVtdXhlciB9LCB7IGRlbXV4OiBtcDRkZW11eGVyLCByZW11eDogcGFzc3Rocm91Z2hfcmVtdXhlciB9XTtcblxuICAgICAgLy8gcHJvYmUgZm9yIGNvbnRlbnQgdHlwZVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG11eENvbmZpZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbXV4ID0gbXV4Q29uZmlnW2ldO1xuICAgICAgICB2YXIgcHJvYmUgPSBtdXguZGVtdXgucHJvYmU7XG4gICAgICAgIGlmIChwcm9iZShkYXRhKSkge1xuICAgICAgICAgIHZhciBfcmVtdXhlciA9IHRoaXMucmVtdXhlciA9IG5ldyBtdXgucmVtdXgob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCwgdGhpcy52ZW5kb3IpO1xuICAgICAgICAgIGRlbXV4ZXIgPSBuZXcgbXV4LmRlbXV4KG9ic2VydmVyLCBfcmVtdXhlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkKTtcbiAgICAgICAgICB0aGlzLnByb2JlID0gcHJvYmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZGVtdXhlcikge1xuICAgICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogJ25vIGRlbXV4IG1hdGNoaW5nIHdpdGggY29udGVudCBmb3VuZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVtdXhlciA9IGRlbXV4ZXI7XG4gICAgfVxuICAgIHZhciByZW11eGVyID0gdGhpcy5yZW11eGVyO1xuXG4gICAgaWYgKGRpc2NvbnRpbnVpdHkgfHwgdHJhY2tTd2l0Y2gpIHtcbiAgICAgIGRlbXV4ZXIucmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pO1xuICAgICAgcmVtdXhlci5yZXNldEluaXRTZWdtZW50KCk7XG4gICAgfVxuICAgIGlmIChkaXNjb250aW51aXR5KSB7XG4gICAgICBkZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UFRTKTtcbiAgICAgIHJlbXV4ZXIucmVzZXRUaW1lU3RhbXAoZGVmYXVsdEluaXRQVFMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEoZGVjcnlwdGRhdGEpO1xuICAgIH1cbiAgICBkZW11eGVyLmFwcGVuZChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICB9O1xuXG4gIHJldHVybiBEZW11eGVySW5saW5lO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZW11eGVyX2lubGluZSA9IF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGRlbXV4ZXJfaW5saW5lX0RlbXV4ZXJJbmxpbmUpO1xuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY3Vlc19uYW1lc3BhY2VPYmplY3QgPSB7fTtcbl9fd2VicGFja19yZXF1aXJlX18uZChjdWVzX25hbWVzcGFjZU9iamVjdCwgXCJuZXdDdWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBuZXdDdWU7IH0pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3VybC10b29sa2l0L3NyYy91cmwtdG9vbGtpdC5qc1xudmFyIHVybF90b29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciB1cmxfdG9vbGtpdF9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih1cmxfdG9vbGtpdCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZXZlbnRzLmpzXG52YXIgZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9lcnJvcnMuanNcbnZhciBlcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL3V0aWxzL2xvZ2dlci5qc1xudmFyIGxvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2V2ZW50LWhhbmRsZXIuanNcbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcbipcbiogQWxsIG9iamVjdHMgaW4gdGhlIGV2ZW50IGhhbmRsaW5nIGNoYWluIHNob3VsZCBpbmhlcml0IGZyb20gdGhpcyBjbGFzc1xuKlxuKi9cblxuXG5cblxuXG52YXIgZXZlbnRfaGFuZGxlcl9FdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV2ZW50SGFuZGxlcihobHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRIYW5kbGVyKTtcblxuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMub25FdmVudCA9IHRoaXMub25FdmVudC5iaW5kKHRoaXMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGV2ZW50cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGV2ZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVkRXZlbnRzID0gZXZlbnRzO1xuICAgIHRoaXMudXNlR2VuZXJpY0hhbmRsZXIgPSB0cnVlO1xuXG4gICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBFdmVudEhhbmRsZXIucHJvdG90eXBlLmlzRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gaXNFdmVudEhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIF90eXBlb2YodGhpcy5oYW5kbGVkRXZlbnRzKSA9PT0gJ29iamVjdCcgJiYgdGhpcy5oYW5kbGVkRXZlbnRzLmxlbmd0aCAmJiB0eXBlb2YgdGhpcy5vbkV2ZW50ID09PSAnZnVuY3Rpb24nO1xuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUucmVnaXN0ZXJMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5pc0V2ZW50SGFuZGxlcigpKSB7XG4gICAgICB0aGlzLmhhbmRsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaGxzRXZlbnRHZW5lcmljJykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRm9yYmlkZGVuIGV2ZW50IG5hbWU6ICcgKyBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5obHMub24oZXZlbnQsIHRoaXMub25FdmVudCk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51bnJlZ2lzdGVyTGlzdGVuZXJzID0gZnVuY3Rpb24gdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5pc0V2ZW50SGFuZGxlcigpKSB7XG4gICAgICB0aGlzLmhhbmRsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5obHMub2ZmKGV2ZW50LCB0aGlzLm9uRXZlbnQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBhcmd1bWVudHM6IGV2ZW50IChzdHJpbmcpLCBkYXRhIChhbnkpXG4gICAqL1xuXG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gb25FdmVudChldmVudCwgZGF0YSkge1xuICAgIHRoaXMub25FdmVudEdlbmVyaWMoZXZlbnQsIGRhdGEpO1xuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25FdmVudEdlbmVyaWMgPSBmdW5jdGlvbiBvbkV2ZW50R2VuZXJpYyhldmVudCwgZGF0YSkge1xuICAgIHZhciBldmVudFRvRnVuY3Rpb24gPSBmdW5jdGlvbiBldmVudFRvRnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9ICdvbicgKyBldmVudC5yZXBsYWNlKCdobHMnLCAnJyk7XG4gICAgICBpZiAodHlwZW9mIHRoaXNbZnVuY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgJyArIGV2ZW50ICsgJyBoYXMgbm8gZ2VuZXJpYyBoYW5kbGVyIGluIHRoaXMgJyArIHRoaXMuY29uc3RydWN0b3IubmFtZSArICcgY2xhc3MgKHRyaWVkICcgKyBmdW5jTmFtZSArICcpJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1tmdW5jTmFtZV0uYmluZCh0aGlzLCBkYXRhKTtcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBldmVudFRvRnVuY3Rpb24uY2FsbCh0aGlzLCBldmVudCwgZGF0YSkuY2FsbCgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2ludGVybmFsIGVycm9yIGhhcHBlbmVkIHdoaWxlIHByb2Nlc3NpbmcgJyArIGV2ZW50ICsgJzonICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5JTlRFUk5BTF9FWENFUFRJT04sIGZhdGFsOiBmYWxzZSwgZXZlbnQ6IGV2ZW50LCBlcnI6IGVyciB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEV2ZW50SGFuZGxlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZXZlbnRfaGFuZGxlciA9IChldmVudF9oYW5kbGVyX0V2ZW50SGFuZGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9hdHRyLWxpc3QuanNcbmZ1bmN0aW9uIGF0dHJfbGlzdF9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgREVDSU1BTF9SRVNPTFVUSU9OX1JFR0VYID0gL14oXFxkKyl4KFxcZCspJC87XG52YXIgQVRUUl9MSVNUX1JFR0VYID0gL1xccyooLis/KVxccyo9KCg/OlxcXCIuKj9cXFwiKXwuKj8pKD86LHwkKS9nO1xuXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2thbm9uZ2lsL25vZGUtbTN1OHBhcnNlL2Jsb2IvbWFzdGVyL2F0dHJsaXN0LmpzXG5cbnZhciBBdHRyTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXR0ckxpc3QoYXR0cnMpIHtcbiAgICBhdHRyX2xpc3RfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF0dHJMaXN0KTtcblxuICAgIGlmICh0eXBlb2YgYXR0cnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhdHRycyA9IEF0dHJMaXN0LnBhcnNlQXR0ckxpc3QoYXR0cnMpO1xuICAgIH1cbiAgICBmb3IgKHZhciBhdHRyIGluIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgdGhpc1thdHRyXSA9IGF0dHJzW2F0dHJdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsSW50ZWdlciA9IGZ1bmN0aW9uIGRlY2ltYWxJbnRlZ2VyKGF0dHJOYW1lKSB7XG4gICAgdmFyIGludFZhbHVlID0gcGFyc2VJbnQodGhpc1thdHRyTmFtZV0sIDEwKTtcbiAgICBpZiAoaW50VmFsdWUgPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gaW50VmFsdWU7XG4gIH07XG5cbiAgQXR0ckxpc3QucHJvdG90eXBlLmhleGFkZWNpbWFsSW50ZWdlciA9IGZ1bmN0aW9uIGhleGFkZWNpbWFsSW50ZWdlcihhdHRyTmFtZSkge1xuICAgIGlmICh0aGlzW2F0dHJOYW1lXSkge1xuICAgICAgdmFyIHN0cmluZ1ZhbHVlID0gKHRoaXNbYXR0ck5hbWVdIHx8ICcweCcpLnNsaWNlKDIpO1xuICAgICAgc3RyaW5nVmFsdWUgPSAoc3RyaW5nVmFsdWUubGVuZ3RoICYgMSA/ICcwJyA6ICcnKSArIHN0cmluZ1ZhbHVlO1xuXG4gICAgICB2YXIgdmFsdWUgPSBuZXcgVWludDhBcnJheShzdHJpbmdWYWx1ZS5sZW5ndGggLyAyKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgIHZhbHVlW2ldID0gcGFyc2VJbnQoc3RyaW5nVmFsdWUuc2xpY2UoaSAqIDIsIGkgKiAyICsgMiksIDE2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5oZXhhZGVjaW1hbEludGVnZXJBc051bWJlciA9IGZ1bmN0aW9uIGhleGFkZWNpbWFsSW50ZWdlckFzTnVtYmVyKGF0dHJOYW1lKSB7XG4gICAgdmFyIGludFZhbHVlID0gcGFyc2VJbnQodGhpc1thdHRyTmFtZV0sIDE2KTtcbiAgICBpZiAoaW50VmFsdWUgPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gaW50VmFsdWU7XG4gIH07XG5cbiAgQXR0ckxpc3QucHJvdG90eXBlLmRlY2ltYWxGbG9hdGluZ1BvaW50ID0gZnVuY3Rpb24gZGVjaW1hbEZsb2F0aW5nUG9pbnQoYXR0ck5hbWUpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0aGlzW2F0dHJOYW1lXSk7XG4gIH07XG5cbiAgQXR0ckxpc3QucHJvdG90eXBlLmVudW1lcmF0ZWRTdHJpbmcgPSBmdW5jdGlvbiBlbnVtZXJhdGVkU3RyaW5nKGF0dHJOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXNbYXR0ck5hbWVdO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIGRlY2ltYWxSZXNvbHV0aW9uKGF0dHJOYW1lKSB7XG4gICAgdmFyIHJlcyA9IERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWC5leGVjKHRoaXNbYXR0ck5hbWVdKTtcbiAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHBhcnNlSW50KHJlc1sxXSwgMTApLFxuICAgICAgaGVpZ2h0OiBwYXJzZUludChyZXNbMl0sIDEwKVxuICAgIH07XG4gIH07XG5cbiAgQXR0ckxpc3QucGFyc2VBdHRyTGlzdCA9IGZ1bmN0aW9uIHBhcnNlQXR0ckxpc3QoaW5wdXQpIHtcbiAgICB2YXIgbWF0Y2gsXG4gICAgICAgIGF0dHJzID0ge307XG4gICAgQVRUUl9MSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKChtYXRjaCA9IEFUVFJfTElTVF9SRUdFWC5leGVjKGlucHV0KSkgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG1hdGNoWzJdLFxuICAgICAgICAgIHF1b3RlID0gJ1wiJztcblxuICAgICAgaWYgKHZhbHVlLmluZGV4T2YocXVvdGUpID09PSAwICYmIHZhbHVlLmxhc3RJbmRleE9mKHF1b3RlKSA9PT0gdmFsdWUubGVuZ3RoIC0gMSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgIH1cbiAgICAgIGF0dHJzW21hdGNoWzFdXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cnM7XG4gIH07XG5cbiAgcmV0dXJuIEF0dHJMaXN0O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhdHRyX2xpc3QgPSAoQXR0ckxpc3QpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvY29kZWNzLmpzXG4vLyBmcm9tIGh0dHA6Ly9tcDRyYS5vcmcvY29kZWNzLmh0bWxcbnZhciBzYW1wbGVFbnRyeUNvZGVzSVNPID0ge1xuICAgIGF1ZGlvOiB7XG4gICAgICAgICdhM2RzJzogdHJ1ZSxcbiAgICAgICAgJ2FjLTMnOiB0cnVlLFxuICAgICAgICAnYWMtNCc6IHRydWUsXG4gICAgICAgICdhbGFjJzogdHJ1ZSxcbiAgICAgICAgJ2FsYXcnOiB0cnVlLFxuICAgICAgICAnZHJhMSc6IHRydWUsXG4gICAgICAgICdkdHMrJzogdHJ1ZSxcbiAgICAgICAgJ2R0cy0nOiB0cnVlLFxuICAgICAgICAnZHRzYyc6IHRydWUsXG4gICAgICAgICdkdHNlJzogdHJ1ZSxcbiAgICAgICAgJ2R0c2gnOiB0cnVlLFxuICAgICAgICAnZWMtMyc6IHRydWUsXG4gICAgICAgICdlbmNhJzogdHJ1ZSxcbiAgICAgICAgJ2c3MTknOiB0cnVlLFxuICAgICAgICAnZzcyNic6IHRydWUsXG4gICAgICAgICdtNGFlJzogdHJ1ZSxcbiAgICAgICAgJ21oYTEnOiB0cnVlLFxuICAgICAgICAnbWhhMic6IHRydWUsXG4gICAgICAgICdtaG0xJzogdHJ1ZSxcbiAgICAgICAgJ21obTInOiB0cnVlLFxuICAgICAgICAnbWxwYSc6IHRydWUsXG4gICAgICAgICdtcDRhJzogdHJ1ZSxcbiAgICAgICAgJ3JhdyAnOiB0cnVlLFxuICAgICAgICAnT3B1cyc6IHRydWUsXG4gICAgICAgICdzYW1yJzogdHJ1ZSxcbiAgICAgICAgJ3Nhd2InOiB0cnVlLFxuICAgICAgICAnc2F3cCc6IHRydWUsXG4gICAgICAgICdzZXZjJzogdHJ1ZSxcbiAgICAgICAgJ3NxY3AnOiB0cnVlLFxuICAgICAgICAnc3Ntdic6IHRydWUsXG4gICAgICAgICd0d29zJzogdHJ1ZSxcbiAgICAgICAgJ3VsYXcnOiB0cnVlXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgICAnYXZjMSc6IHRydWUsXG4gICAgICAgICdhdmMyJzogdHJ1ZSxcbiAgICAgICAgJ2F2YzMnOiB0cnVlLFxuICAgICAgICAnYXZjNCc6IHRydWUsXG4gICAgICAgICdhdmNwJzogdHJ1ZSxcbiAgICAgICAgJ2RyYWMnOiB0cnVlLFxuICAgICAgICAnZHZhdic6IHRydWUsXG4gICAgICAgICdkdmhlJzogdHJ1ZSxcbiAgICAgICAgJ2VuY3YnOiB0cnVlLFxuICAgICAgICAnaGV2MSc6IHRydWUsXG4gICAgICAgICdodmMxJzogdHJ1ZSxcbiAgICAgICAgJ21qcDInOiB0cnVlLFxuICAgICAgICAnbXA0dic6IHRydWUsXG4gICAgICAgICdtdmMxJzogdHJ1ZSxcbiAgICAgICAgJ212YzInOiB0cnVlLFxuICAgICAgICAnbXZjMyc6IHRydWUsXG4gICAgICAgICdtdmM0JzogdHJ1ZSxcbiAgICAgICAgJ3Jlc3YnOiB0cnVlLFxuICAgICAgICAncnY2MCc6IHRydWUsXG4gICAgICAgICdzMjYzJzogdHJ1ZSxcbiAgICAgICAgJ3N2YzEnOiB0cnVlLFxuICAgICAgICAnc3ZjMic6IHRydWUsXG4gICAgICAgICd2Yy0xJzogdHJ1ZSxcbiAgICAgICAgJ3ZwMDgnOiB0cnVlLFxuICAgICAgICAndnAwOSc6IHRydWVcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSkge1xuICAgIHZhciB0eXBlQ29kZXMgPSBzYW1wbGVFbnRyeUNvZGVzSVNPW3R5cGVdO1xuICAgIHJldHVybiAhIXR5cGVDb2RlcyAmJiB0eXBlQ29kZXNbY29kZWMuc2xpY2UoMCwgNCldID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0NvZGVjU3VwcG9ydGVkSW5NcDQoY29kZWMpIHtcbiAgICByZXR1cm4gTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7Y29kZWNzPVwiJyArIGNvZGVjICsgJ1wiJyk7XG59XG5cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvbG9hZGVyL3BsYXlsaXN0LWxvYWRlci5qc1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBwbGF5bGlzdF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBQbGF5bGlzdCBMb2FkZXJcbiovXG5cblxuXG5cblxuXG5cblxuXG4vLyBodHRwczovL3JlZ2V4MTAxLmNvbSBpcyB5b3VyIGZyaWVuZFxudmFyIE1BU1RFUl9QTEFZTElTVF9SRUdFWCA9IC8jRVhULVgtU1RSRUFNLUlORjooW15cXG5cXHJdKilbXFxyXFxuXSsoW15cXHJcXG5dKykvZztcbnZhciBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVggPSAvI0VYVC1YLU1FRElBOiguKikvZztcblxudmFyIExFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QgPSBuZXcgUmVnRXhwKFsvI0VYVElORjooXFxkKig/OlxcLlxcZCspPykoPzosKC4qKVxccyspPy8uc291cmNlLCAvLyBkdXJhdGlvbiAoI0VYVElORjo8ZHVyYXRpb24+LDx0aXRsZT4pLCBncm91cCAxID0+IGR1cmF0aW9uLCBncm91cCAyID0+IHRpdGxlXG4vfCg/ISMpKFxcUyspLy5zb3VyY2UsIC8vIHNlZ21lbnQgVVJJLCBncm91cCAzID0+IHRoZSBVUkkgKG5vdGUgbmV3bGluZSBpcyBub3QgZWF0ZW4pXG4vfCNFWFQtWC1CWVRFUkFOR0U6KiguKykvLnNvdXJjZSwgLy8gbmV4dCBzZWdtZW50J3MgYnl0ZXJhbmdlLCBncm91cCA0ID0+IHJhbmdlIHNwZWMgKHhAeSlcbi98I0VYVC1YLVBST0dSQU0tREFURS1USU1FOiguKykvLnNvdXJjZSwgLy8gbmV4dCBzZWdtZW50J3MgcHJvZ3JhbSBkYXRlL3RpbWUgZ3JvdXAgNSA9PiB0aGUgZGF0ZXRpbWUgc3BlY1xuL3wjLiovLnNvdXJjZSAvLyBBbGwgb3RoZXIgbm9uLXNlZ21lbnQgb3JpZW50ZWQgdGFncyB3aWxsIG1hdGNoIHdpdGggYWxsIGdyb3VwcyBlbXB0eVxuXS5qb2luKCcnKSwgJ2cnKTtcblxudmFyIExFVkVMX1BMQVlMSVNUX1JFR0VYX1NMT1cgPSAvKD86KD86IyhFWFRNM1UpKXwoPzojRVhULVgtKFBMQVlMSVNULVRZUEUpOiguKykpfCg/OiNFWFQtWC0oTUVESUEtU0VRVUVOQ0UpOiAqKFxcZCspKXwoPzojRVhULVgtKFRBUkdFVERVUkFUSU9OKTogKihcXGQrKSl8KD86I0VYVC1YLShLRVkpOiguKykpfCg/OiNFWFQtWC0oU1RBUlQpOiguKykpfCg/OiNFWFQtWC0oRU5ETElTVCkpfCg/OiNFWFQtWC0oRElTQ09OVElOVUlUWS1TRVEpVUVOQ0U6KFxcZCspKXwoPzojRVhULVgtKERJUylDT05USU5VSVRZKSl8KD86I0VYVC1YLShWRVJTSU9OKTooXFxkKykpfCg/OiNFWFQtWC0oTUFQKTooLispKXwoPzooIykoLiopOiguKikpfCg/OigjKSguKikpKD86LiopXFxyP1xcbj8vO1xuXG52YXIgcGxheWxpc3RfbG9hZGVyX0xldmVsS2V5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMZXZlbEtleSgpIHtcbiAgICBwbGF5bGlzdF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExldmVsS2V5KTtcblxuICAgIHRoaXMubWV0aG9kID0gbnVsbDtcbiAgICB0aGlzLmtleSA9IG51bGw7XG4gICAgdGhpcy5pdiA9IG51bGw7XG4gICAgdGhpcy5fdXJpID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMZXZlbEtleSwgW3tcbiAgICBrZXk6ICd1cmknLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCF0aGlzLl91cmkgJiYgdGhpcy5yZWx1cmkpIHtcbiAgICAgICAgdGhpcy5fdXJpID0gdXJsX3Rvb2xraXRfZGVmYXVsdC5hLmJ1aWxkQWJzb2x1dGVVUkwodGhpcy5iYXNldXJpLCB0aGlzLnJlbHVyaSwgeyBhbHdheXNOb3JtYWxpemU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fdXJpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMZXZlbEtleTtcbn0oKTtcblxudmFyIHBsYXlsaXN0X2xvYWRlcl9GcmFnbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XG4gICAgcGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBGcmFnbWVudCk7XG5cbiAgICB0aGlzLl91cmwgPSBudWxsO1xuICAgIHRoaXMuX2J5dGVSYW5nZSA9IG51bGw7XG4gICAgdGhpcy5fZGVjcnlwdGRhdGEgPSBudWxsO1xuICAgIHRoaXMudGFnTGlzdCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgbWV0aG9kIGZvciBwYXJzZUxldmVsUGxheWxpc3QgdG8gY3JlYXRlIGFuIGluaXRpYWxpemF0aW9uIHZlY3RvciBmb3IgYSBnaXZlbiBzZWdtZW50XG4gICAqIEByZXR1cm5zIHtVaW50OEFycmF5fVxuICAgKi9cbiAgRnJhZ21lbnQucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yID0gZnVuY3Rpb24gY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3Ioc2VnbWVudE51bWJlcikge1xuICAgIHZhciB1aW50OFZpZXcgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICBmb3IgKHZhciBpID0gMTI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICB1aW50OFZpZXdbaV0gPSBzZWdtZW50TnVtYmVyID4+IDggKiAoMTUgLSBpKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVpbnQ4VmlldztcbiAgfTtcblxuICAvKipcbiAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBnZXQgYSBmcmFnbWVudCdzIGRlY3J5cHRpb24gZGF0YSBmcm9tIHRoZSBjdXJyZW50bHkgcGFyc2VkIGVuY3J5cHRpb24ga2V5IGRhdGFcbiAgICogQHBhcmFtIGxldmVsa2V5IC0gYSBwbGF5bGlzdCdzIGVuY3J5cHRpb24gaW5mb1xuICAgKiBAcGFyYW0gc2VnbWVudE51bWJlciAtIHRoZSBmcmFnbWVudCdzIHNlZ21lbnQgbnVtYmVyXG4gICAqIEByZXR1cm5zIHsqfSAtIGFuIG9iamVjdCB0byBiZSBhcHBsaWVkIGFzIGEgZnJhZ21lbnQncyBkZWNyeXB0ZGF0YVxuICAgKi9cblxuXG4gIEZyYWdtZW50LnByb3RvdHlwZS5mcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5ID0gZnVuY3Rpb24gZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleShsZXZlbGtleSwgc2VnbWVudE51bWJlcikge1xuICAgIHZhciBkZWNyeXB0ZGF0YSA9IGxldmVsa2V5O1xuXG4gICAgaWYgKGxldmVsa2V5ICYmIGxldmVsa2V5Lm1ldGhvZCAmJiBsZXZlbGtleS51cmkgJiYgIWxldmVsa2V5Lml2KSB7XG4gICAgICBkZWNyeXB0ZGF0YSA9IG5ldyBwbGF5bGlzdF9sb2FkZXJfTGV2ZWxLZXkoKTtcbiAgICAgIGRlY3J5cHRkYXRhLm1ldGhvZCA9IGxldmVsa2V5Lm1ldGhvZDtcbiAgICAgIGRlY3J5cHRkYXRhLmJhc2V1cmkgPSBsZXZlbGtleS5iYXNldXJpO1xuICAgICAgZGVjcnlwdGRhdGEucmVsdXJpID0gbGV2ZWxrZXkucmVsdXJpO1xuICAgICAgZGVjcnlwdGRhdGEuaXYgPSB0aGlzLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yKHNlZ21lbnROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWNyeXB0ZGF0YTtcbiAgfTtcblxuICBGcmFnbWVudC5wcm90b3R5cGUuY2xvbmVPYmogPSBmdW5jdGlvbiBjbG9uZU9iaihvYmopIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoRnJhZ21lbnQsIFt7XG4gICAga2V5OiAndXJsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fdXJsICYmIHRoaXMucmVsdXJsKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IHVybF90b29sa2l0X2RlZmF1bHQuYS5idWlsZEFic29sdXRlVVJMKHRoaXMuYmFzZXVybCwgdGhpcy5yZWx1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLl91cmwgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwcm9ncmFtRGF0ZVRpbWUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCF0aGlzLl9wcm9ncmFtRGF0ZVRpbWUgJiYgdGhpcy5yYXdQcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICAgICAgdGhpcy5fcHJvZ3JhbURhdGVUaW1lID0gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLnJhd1Byb2dyYW1EYXRlVGltZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyYW1EYXRlVGltZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdieXRlUmFuZ2UnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCF0aGlzLl9ieXRlUmFuZ2UpIHtcbiAgICAgICAgdmFyIGJ5dGVSYW5nZSA9IHRoaXMuX2J5dGVSYW5nZSA9IFtdO1xuICAgICAgICBpZiAodGhpcy5yYXdCeXRlUmFuZ2UpIHtcbiAgICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5yYXdCeXRlUmFuZ2Uuc3BsaXQoJ0AnLCAyKTtcbiAgICAgICAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdmFyIGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQgPSB0aGlzLmxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID8gbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA6IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ5dGVSYW5nZVswXSA9IHBhcnNlSW50KHBhcmFtc1sxXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ5dGVSYW5nZVsxXSA9IHBhcnNlSW50KHBhcmFtc1swXSkgKyBieXRlUmFuZ2VbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9ieXRlUmFuZ2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYnl0ZVJhbmdlU3RhcnRPZmZzZXQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2J5dGVSYW5nZUVuZE9mZnNldCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ieXRlUmFuZ2VbMV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVjcnlwdGRhdGEnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCF0aGlzLl9kZWNyeXB0ZGF0YSkge1xuICAgICAgICB0aGlzLl9kZWNyeXB0ZGF0YSA9IHRoaXMuZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleSh0aGlzLmxldmVsa2V5LCB0aGlzLnNuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9kZWNyeXB0ZGF0YTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRnJhZ21lbnQ7XG59KCk7XG5cbnZhciBwbGF5bGlzdF9sb2FkZXJfUGxheWxpc3RMb2FkZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBfaW5oZXJpdHMoUGxheWxpc3RMb2FkZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIFBsYXlsaXN0TG9hZGVyKGhscykge1xuICAgIHBsYXlsaXN0X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxheWxpc3RMb2FkZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURJTkcpKTtcblxuICAgIF90aGlzLmxvYWRlcnMgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZm9yICh2YXIgbG9hZGVyTmFtZSBpbiB0aGlzLmxvYWRlcnMpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbbG9hZGVyTmFtZV07XG4gICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubG9hZGVycyA9IHt9O1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGluZyhkYXRhKSB7XG4gICAgdGhpcy5sb2FkKGRhdGEudXJsLCB7IHR5cGU6ICdtYW5pZmVzdCcgfSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uTGV2ZWxMb2FkaW5nID0gZnVuY3Rpb24gb25MZXZlbExvYWRpbmcoZGF0YSkge1xuICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiAnbGV2ZWwnLCBsZXZlbDogZGF0YS5sZXZlbCwgaWQ6IGRhdGEuaWQgfSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRpbmcgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tMb2FkaW5nKGRhdGEpIHtcbiAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogJ2F1ZGlvVHJhY2snLCBpZDogZGF0YS5pZCB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrTG9hZGluZyA9IGZ1bmN0aW9uIG9uU3VidGl0bGVUcmFja0xvYWRpbmcoZGF0YSkge1xuICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiAnc3VidGl0bGVUcmFjaycsIGlkOiBkYXRhLmlkIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCh1cmwsIGNvbnRleHQpIHtcbiAgICB2YXIgbG9hZGVyID0gdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV07XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgdmFyIGxvYWRlckNvbnRleHQgPSBsb2FkZXIuY29udGV4dDtcbiAgICAgIGlmIChsb2FkZXJDb250ZXh0ICYmIGxvYWRlckNvbnRleHQudXJsID09PSB1cmwpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10udHJhY2UoJ3BsYXlsaXN0IHJlcXVlc3Qgb25nb2luZycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBwcmV2aW91cyBsb2FkZXIgZm9yIHR5cGU6JyArIGNvbnRleHQudHlwZSk7XG4gICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLFxuICAgICAgICByZXRyeSA9IHZvaWQgMCxcbiAgICAgICAgdGltZW91dCA9IHZvaWQgMCxcbiAgICAgICAgcmV0cnlEZWxheSA9IHZvaWQgMCxcbiAgICAgICAgbWF4UmV0cnlEZWxheSA9IHZvaWQgMDtcbiAgICBpZiAoY29udGV4dC50eXBlID09PSAnbWFuaWZlc3QnKSB7XG4gICAgICByZXRyeSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdNYXhSZXRyeTtcbiAgICAgIHRpbWVvdXQgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nVGltZU91dDtcbiAgICAgIHJldHJ5RGVsYXkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nUmV0cnlEZWxheTtcbiAgICAgIG1heFJldHJ5RGVsYXkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXRyeSA9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeTtcbiAgICAgIHRpbWVvdXQgPSBjb25maWcubGV2ZWxMb2FkaW5nVGltZU91dDtcbiAgICAgIHJldHJ5RGVsYXkgPSBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheTtcbiAgICAgIG1heFJldHJ5RGVsYXkgPSBjb25maWcubGV2ZWxMb2FkaW5nTWF4UmV0cnlUaW1lb3V0O1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsb2FkaW5nIHBsYXlsaXN0IGZvciAnICsgY29udGV4dC50eXBlICsgJyAnICsgKGNvbnRleHQubGV2ZWwgfHwgY29udGV4dC5pZCkpO1xuICAgIH1cbiAgICBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IGNvbnRleHQubG9hZGVyID0gdHlwZW9mIGNvbmZpZy5wTG9hZGVyICE9PSAndW5kZWZpbmVkJyA/IG5ldyBjb25maWcucExvYWRlcihjb25maWcpIDogbmV3IGNvbmZpZy5sb2FkZXIoY29uZmlnKTtcbiAgICBjb250ZXh0LnVybCA9IHVybDtcbiAgICBjb250ZXh0LnJlc3BvbnNlVHlwZSA9ICcnO1xuXG4gICAgdmFyIGxvYWRlckNvbmZpZyA9IHZvaWQgMCxcbiAgICAgICAgbG9hZGVyQ2FsbGJhY2tzID0gdm9pZCAwO1xuICAgIGxvYWRlckNvbmZpZyA9IHsgdGltZW91dDogdGltZW91dCwgbWF4UmV0cnk6IHJldHJ5LCByZXRyeURlbGF5OiByZXRyeURlbGF5LCBtYXhSZXRyeURlbGF5OiBtYXhSZXRyeURlbGF5IH07XG4gICAgbG9hZGVyQ2FsbGJhY2tzID0geyBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSwgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSwgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcykgfTtcbiAgICBsb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlKHVybCwgYmFzZVVybCkge1xuICAgIHJldHVybiB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTChiYXNlVXJsLCB1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5wYXJzZU1hc3RlclBsYXlsaXN0ID0gZnVuY3Rpb24gcGFyc2VNYXN0ZXJQbGF5bGlzdChzdHJpbmcsIGJhc2V1cmwpIHtcbiAgICB2YXIgbGV2ZWxzID0gW10sXG4gICAgICAgIHJlc3VsdCA9IHZvaWQgMDtcbiAgICBNQVNURVJfUExBWUxJU1RfUkVHRVgubGFzdEluZGV4ID0gMDtcblxuICAgIGZ1bmN0aW9uIHNldENvZGVjcyhjb2RlY3MsIGxldmVsKSB7XG4gICAgICBbJ3ZpZGVvJywgJ2F1ZGlvJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgZmlsdGVyZWQgPSBjb2RlY3MuZmlsdGVyKGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgICAgIHJldHVybiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHByZWZlcnJlZCA9IGZpbHRlcmVkLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlYy5sYXN0SW5kZXhPZignYXZjMScsIDApID09PSAwIHx8IGNvZGVjLmxhc3RJbmRleE9mKCdtcDRhJywgMCkgPT09IDA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGV2ZWxbdHlwZSArICdDb2RlYyddID0gcHJlZmVycmVkLmxlbmd0aCA+IDAgPyBwcmVmZXJyZWRbMF0gOiBmaWx0ZXJlZFswXTtcblxuICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGxpc3RcbiAgICAgICAgICBjb2RlY3MgPSBjb2RlY3MuZmlsdGVyKGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkLmluZGV4T2YoY29kZWMpID09PSAtMTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGxldmVsLnVua25vd25Db2RlY3MgPSBjb2RlY3M7XG4gICAgfVxuXG4gICAgd2hpbGUgKChyZXN1bHQgPSBNQVNURVJfUExBWUxJU1RfUkVHRVguZXhlYyhzdHJpbmcpKSAhPSBudWxsKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB7fTtcblxuICAgICAgdmFyIGF0dHJzID0gbGV2ZWwuYXR0cnMgPSBuZXcgYXR0cl9saXN0KHJlc3VsdFsxXSk7XG4gICAgICBsZXZlbC51cmwgPSB0aGlzLnJlc29sdmUocmVzdWx0WzJdLCBiYXNldXJsKTtcblxuICAgICAgdmFyIHJlc29sdXRpb24gPSBhdHRycy5kZWNpbWFsUmVzb2x1dGlvbignUkVTT0xVVElPTicpO1xuICAgICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgbGV2ZWwud2lkdGggPSByZXNvbHV0aW9uLndpZHRoO1xuICAgICAgICBsZXZlbC5oZWlnaHQgPSByZXNvbHV0aW9uLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGxldmVsLmJpdHJhdGUgPSBhdHRycy5kZWNpbWFsSW50ZWdlcignQVZFUkFHRS1CQU5EV0lEVEgnKSB8fCBhdHRycy5kZWNpbWFsSW50ZWdlcignQkFORFdJRFRIJyk7XG4gICAgICBsZXZlbC5uYW1lID0gYXR0cnMuTkFNRTtcblxuICAgICAgc2V0Q29kZWNzKFtdLmNvbmNhdCgoYXR0cnMuQ09ERUNTIHx8ICcnKS5zcGxpdCgvWyAsXSsvKSksIGxldmVsKTtcblxuICAgICAgaWYgKGxldmVsLnZpZGVvQ29kZWMgJiYgbGV2ZWwudmlkZW9Db2RlYy5pbmRleE9mKCdhdmMxJykgIT09IC0xKSB7XG4gICAgICAgIGxldmVsLnZpZGVvQ29kZWMgPSB0aGlzLmF2YzF0b2F2Y290aShsZXZlbC52aWRlb0NvZGVjKTtcbiAgICAgIH1cblxuICAgICAgbGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgIH1cbiAgICByZXR1cm4gbGV2ZWxzO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEgPSBmdW5jdGlvbiBwYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCBiYXNldXJsLCB0eXBlKSB7XG4gICAgdmFyIGF1ZGlvQ29kZWMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgICB2YXIgcmVzdWx0ID0gdm9pZCAwLFxuICAgICAgICBtZWRpYXMgPSBbXSxcbiAgICAgICAgaWQgPSAwO1xuICAgIE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX01FRElBX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT0gbnVsbCkge1xuICAgICAgdmFyIG1lZGlhID0ge307XG4gICAgICB2YXIgYXR0cnMgPSBuZXcgYXR0cl9saXN0KHJlc3VsdFsxXSk7XG4gICAgICBpZiAoYXR0cnMuVFlQRSA9PT0gdHlwZSkge1xuICAgICAgICBtZWRpYS5ncm91cElkID0gYXR0cnNbJ0dST1VQLUlEJ107XG4gICAgICAgIG1lZGlhLm5hbWUgPSBhdHRycy5OQU1FO1xuICAgICAgICBtZWRpYS50eXBlID0gdHlwZTtcbiAgICAgICAgbWVkaWEuZGVmYXVsdCA9IGF0dHJzLkRFRkFVTFQgPT09ICdZRVMnO1xuICAgICAgICBtZWRpYS5hdXRvc2VsZWN0ID0gYXR0cnMuQVVUT1NFTEVDVCA9PT0gJ1lFUyc7XG4gICAgICAgIG1lZGlhLmZvcmNlZCA9IGF0dHJzLkZPUkNFRCA9PT0gJ1lFUyc7XG4gICAgICAgIGlmIChhdHRycy5VUkkpIHtcbiAgICAgICAgICBtZWRpYS51cmwgPSB0aGlzLnJlc29sdmUoYXR0cnMuVVJJLCBiYXNldXJsKTtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYS5sYW5nID0gYXR0cnMuTEFOR1VBR0U7XG4gICAgICAgIGlmICghbWVkaWEubmFtZSkge1xuICAgICAgICAgIG1lZGlhLm5hbWUgPSBtZWRpYS5sYW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgICAgbWVkaWEuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWEuaWQgPSBpZCsrO1xuICAgICAgICBtZWRpYXMucHVzaChtZWRpYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZWRpYXM7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmF2YzF0b2F2Y290aSA9IGZ1bmN0aW9uIGF2YzF0b2F2Y290aShjb2RlYykge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGF2Y2RhdGEgPSBjb2RlYy5zcGxpdCgnLicpO1xuICAgIGlmIChhdmNkYXRhLmxlbmd0aCA+IDIpIHtcbiAgICAgIHJlc3VsdCA9IGF2Y2RhdGEuc2hpZnQoKSArICcuJztcbiAgICAgIHJlc3VsdCArPSBwYXJzZUludChhdmNkYXRhLnNoaWZ0KCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgIHJlc3VsdCArPSAoJzAwMCcgKyBwYXJzZUludChhdmNkYXRhLnNoaWZ0KCkpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC00KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gY29kZWM7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLnBhcnNlTGV2ZWxQbGF5bGlzdCA9IGZ1bmN0aW9uIHBhcnNlTGV2ZWxQbGF5bGlzdChzdHJpbmcsIGJhc2V1cmwsIGlkLCB0eXBlKSB7XG4gICAgdmFyIGN1cnJlbnRTTiA9IDAsXG4gICAgICAgIHRvdGFsZHVyYXRpb24gPSAwLFxuICAgICAgICBsZXZlbCA9IHsgdHlwZTogbnVsbCwgdmVyc2lvbjogbnVsbCwgdXJsOiBiYXNldXJsLCBmcmFnbWVudHM6IFtdLCBsaXZlOiB0cnVlLCBzdGFydFNOOiAwIH0sXG4gICAgICAgIGxldmVsa2V5ID0gbmV3IHBsYXlsaXN0X2xvYWRlcl9MZXZlbEtleSgpLFxuICAgICAgICBjYyA9IDAsXG4gICAgICAgIHByZXZGcmFnID0gbnVsbCxcbiAgICAgICAgZnJhZyA9IG5ldyBwbGF5bGlzdF9sb2FkZXJfRnJhZ21lbnQoKSxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBpO1xuXG4gICAgTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVC5sYXN0SW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKChyZXN1bHQgPSBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNULmV4ZWMoc3RyaW5nKSkgIT09IG51bGwpIHtcbiAgICAgIHZhciBkdXJhdGlvbiA9IHJlc3VsdFsxXTtcbiAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICAvLyBJTkZcbiAgICAgICAgZnJhZy5kdXJhdGlvbiA9IHBhcnNlRmxvYXQoZHVyYXRpb24pO1xuICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgIHZhciB0aXRsZSA9ICgnICcgKyByZXN1bHRbMl0pLnNsaWNlKDEpO1xuICAgICAgICBmcmFnLnRpdGxlID0gdGl0bGUgPyB0aXRsZSA6IG51bGw7XG4gICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKHRpdGxlID8gWydJTkYnLCBkdXJhdGlvbiwgdGl0bGVdIDogWydJTkYnLCBkdXJhdGlvbl0pO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHRbM10pIHtcbiAgICAgICAgLy8gdXJsXG4gICAgICAgIGlmICghaXNOYU4oZnJhZy5kdXJhdGlvbikpIHtcbiAgICAgICAgICB2YXIgc24gPSBjdXJyZW50U04rKztcbiAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgIGZyYWcuc3RhcnQgPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICAgIGZyYWcubGV2ZWxrZXkgPSBsZXZlbGtleTtcbiAgICAgICAgICBmcmFnLnNuID0gc247XG4gICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgIGZyYWcuY2MgPSBjYztcbiAgICAgICAgICBmcmFnLmJhc2V1cmwgPSBiYXNldXJsO1xuICAgICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgICBmcmFnLnJlbHVybCA9ICgnICcgKyByZXN1bHRbM10pLnNsaWNlKDEpO1xuXG4gICAgICAgICAgbGV2ZWwuZnJhZ21lbnRzLnB1c2goZnJhZyk7XG4gICAgICAgICAgcHJldkZyYWcgPSBmcmFnO1xuICAgICAgICAgIHRvdGFsZHVyYXRpb24gKz0gZnJhZy5kdXJhdGlvbjtcblxuICAgICAgICAgIGZyYWcgPSBuZXcgcGxheWxpc3RfbG9hZGVyX0ZyYWdtZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0WzRdKSB7XG4gICAgICAgIC8vIFgtQllURVJBTkdFXG4gICAgICAgIGZyYWcucmF3Qnl0ZVJhbmdlID0gKCcgJyArIHJlc3VsdFs0XSkuc2xpY2UoMSk7XG4gICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgIHZhciBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID0gcHJldkZyYWcuYnl0ZVJhbmdlRW5kT2Zmc2V0O1xuICAgICAgICAgIGlmIChsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICBmcmFnLmxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQgPSBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXN1bHRbNV0pIHtcbiAgICAgICAgLy8gUFJPR1JBTS1EQVRFLVRJTUVcbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICBmcmFnLnJhd1Byb2dyYW1EYXRlVGltZSA9ICgnICcgKyByZXN1bHRbNV0pLnNsaWNlKDEpO1xuICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaChbJ1BST0dSQU0tREFURS1USU1FJywgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWVdKTtcbiAgICAgICAgaWYgKGxldmVsLnByb2dyYW1EYXRlVGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGV2ZWwucHJvZ3JhbURhdGVUaW1lID0gbmV3IERhdGUobmV3IERhdGUoRGF0ZS5wYXJzZShyZXN1bHRbNV0pKSAtIDEwMDAgKiB0b3RhbGR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0WzBdLm1hdGNoKExFVkVMX1BMQVlMSVNUX1JFR0VYX1NMT1cpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdFtpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgIHZhciB2YWx1ZTEgPSAoJyAnICsgcmVzdWx0W2kgKyAxXSkuc2xpY2UoMSk7XG4gICAgICAgIHZhciB2YWx1ZTIgPSAoJyAnICsgcmVzdWx0W2kgKyAyXSkuc2xpY2UoMSk7XG5cbiAgICAgICAgc3dpdGNoIChyZXN1bHRbaV0pIHtcbiAgICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKHZhbHVlMiA/IFt2YWx1ZTEsIHZhbHVlMl0gOiBbdmFsdWUxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdQTEFZTElTVC1UWVBFJzpcbiAgICAgICAgICAgIGxldmVsLnR5cGUgPSB2YWx1ZTEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01FRElBLVNFUVVFTkNFJzpcbiAgICAgICAgICAgIGN1cnJlbnRTTiA9IGxldmVsLnN0YXJ0U04gPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnVEFSR0VURFVSQVRJT04nOlxuICAgICAgICAgICAgbGV2ZWwudGFyZ2V0ZHVyYXRpb24gPSBwYXJzZUZsb2F0KHZhbHVlMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdWRVJTSU9OJzpcbiAgICAgICAgICAgIGxldmVsLnZlcnNpb24gPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnRVhUTTNVJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0VORExJU1QnOlxuICAgICAgICAgICAgbGV2ZWwubGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnRElTJzpcbiAgICAgICAgICAgIGNjKys7XG4gICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaChbJ0RJUyddKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0RJU0NPTlRJTlVJVFktU0VRJzpcbiAgICAgICAgICAgIGNjID0gcGFyc2VJbnQodmFsdWUxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0tFWSc6XG4gICAgICAgICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtcGFudG9zLWh0dHAtbGl2ZS1zdHJlYW1pbmctMDgjc2VjdGlvbi0zLjQuNFxuICAgICAgICAgICAgdmFyIGRlY3J5cHRwYXJhbXMgPSB2YWx1ZTE7XG4gICAgICAgICAgICB2YXIga2V5QXR0cnMgPSBuZXcgYXR0cl9saXN0KGRlY3J5cHRwYXJhbXMpO1xuICAgICAgICAgICAgdmFyIGRlY3J5cHRtZXRob2QgPSBrZXlBdHRycy5lbnVtZXJhdGVkU3RyaW5nKCdNRVRIT0QnKSxcbiAgICAgICAgICAgICAgICBkZWNyeXB0dXJpID0ga2V5QXR0cnMuVVJJLFxuICAgICAgICAgICAgICAgIGRlY3J5cHRpdiA9IGtleUF0dHJzLmhleGFkZWNpbWFsSW50ZWdlcignSVYnKTtcbiAgICAgICAgICAgIGlmIChkZWNyeXB0bWV0aG9kKSB7XG4gICAgICAgICAgICAgIGxldmVsa2V5ID0gbmV3IHBsYXlsaXN0X2xvYWRlcl9MZXZlbEtleSgpO1xuICAgICAgICAgICAgICBpZiAoZGVjcnlwdHVyaSAmJiBbJ0FFUy0xMjgnLCAnU0FNUExFLUFFUyddLmluZGV4T2YoZGVjcnlwdG1ldGhvZCkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldmVsa2V5Lm1ldGhvZCA9IGRlY3J5cHRtZXRob2Q7XG4gICAgICAgICAgICAgICAgLy8gVVJJIHRvIGdldCB0aGUga2V5XG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkuYmFzZXVyaSA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkucmVsdXJpID0gZGVjcnlwdHVyaTtcbiAgICAgICAgICAgICAgICBsZXZlbGtleS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemF0aW9uIFZlY3RvciAoSVYpXG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkuaXYgPSBkZWNyeXB0aXY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1NUQVJUJzpcbiAgICAgICAgICAgIHZhciBzdGFydFBhcmFtcyA9IHZhbHVlMTtcbiAgICAgICAgICAgIHZhciBzdGFydEF0dHJzID0gbmV3IGF0dHJfbGlzdChzdGFydFBhcmFtcyk7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRBdHRycy5kZWNpbWFsRmxvYXRpbmdQb2ludCgnVElNRS1PRkZTRVQnKTtcbiAgICAgICAgICAgIC8vVElNRS1PRkZTRVQgY2FuIGJlIDBcbiAgICAgICAgICAgIGlmICghaXNOYU4oc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICAgICAgICBsZXZlbC5zdGFydFRpbWVPZmZzZXQgPSBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNQVAnOlxuICAgICAgICAgICAgdmFyIG1hcEF0dHJzID0gbmV3IGF0dHJfbGlzdCh2YWx1ZTEpO1xuICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBtYXBBdHRycy5VUkk7XG4gICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9IG1hcEF0dHJzLkJZVEVSQU5HRTtcbiAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICBmcmFnLmxldmVsID0gaWQ7XG4gICAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICBsZXZlbC5pbml0U2VnbWVudCA9IGZyYWc7XG4gICAgICAgICAgICBmcmFnID0gbmV3IHBsYXlsaXN0X2xvYWRlcl9GcmFnbWVudCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2xpbmUgcGFyc2VkIGJ1dCBub3QgaGFuZGxlZDogJyArIHJlc3VsdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmcmFnID0gcHJldkZyYWc7XG4gICAgLy9sb2dnZXIubG9nKCdmb3VuZCAnICsgbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aCArICcgZnJhZ21lbnRzJyk7XG4gICAgaWYgKGZyYWcgJiYgIWZyYWcucmVsdXJsKSB7XG4gICAgICBsZXZlbC5mcmFnbWVudHMucG9wKCk7XG4gICAgICB0b3RhbGR1cmF0aW9uIC09IGZyYWcuZHVyYXRpb247XG4gICAgfVxuICAgIGxldmVsLnRvdGFsZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uO1xuICAgIGxldmVsLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA9IHRvdGFsZHVyYXRpb24gLyBsZXZlbC5mcmFnbWVudHMubGVuZ3RoO1xuICAgIGxldmVsLmVuZFNOID0gY3VycmVudFNOIC0gMTtcbiAgICBsZXZlbC5zdGFydENDID0gbGV2ZWwuZnJhZ21lbnRzWzBdID8gbGV2ZWwuZnJhZ21lbnRzWzBdLmNjIDogMDtcbiAgICBsZXZlbC5lbmRDQyA9IGNjO1xuICAgIHJldHVybiBsZXZlbDtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiBsb2Fkc3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgICB2YXIgc3RyaW5nID0gcmVzcG9uc2UuZGF0YSxcbiAgICAgICAgdXJsID0gcmVzcG9uc2UudXJsLFxuICAgICAgICB0eXBlID0gY29udGV4dC50eXBlLFxuICAgICAgICBpZCA9IGNvbnRleHQuaWQsXG4gICAgICAgIGxldmVsID0gY29udGV4dC5sZXZlbCxcbiAgICAgICAgaGxzID0gdGhpcy5obHM7XG5cbiAgICB0aGlzLmxvYWRlcnNbdHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgLy8gcmVzcG9uc2VVUkwgbm90IHN1cHBvcnRlZCBvbiBzb21lIGJyb3dzZXJzIChpdCBpcyB1c2VkIHRvIGRldGVjdCBVUkwgcmVkaXJlY3Rpb24pXG4gICAgLy8gZGF0YS11cmkgbW9kZSBhbHNvIG5vdCBzdXBwb3J0ZWQgKGJ1dCBubyBuZWVkIHRvIGRldGVjdCByZWRpcmVjdGlvbilcbiAgICBpZiAodXJsID09PSB1bmRlZmluZWQgfHwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIGluaXRpYWwgVVJMXG4gICAgICB1cmwgPSBjb250ZXh0LnVybDtcbiAgICB9XG4gICAgc3RhdHMudGxvYWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAvL3N0YXRzLm10aW1lID0gbmV3IERhdGUodGFyZ2V0LmdldFJlc3BvbnNlSGVhZGVyKCdMYXN0LU1vZGlmaWVkJykpO1xuICAgIGlmIChzdHJpbmcuaW5kZXhPZignI0VYVE0zVScpID09PSAwKSB7XG4gICAgICBpZiAoc3RyaW5nLmluZGV4T2YoJyNFWFRJTkY6JykgPiAwKSB7XG4gICAgICAgIHZhciBpc0xldmVsID0gdHlwZSAhPT0gJ2F1ZGlvVHJhY2snICYmIHR5cGUgIT09ICdzdWJ0aXRsZVRyYWNrJyxcbiAgICAgICAgICAgIGxldmVsSWQgPSAhaXNOYU4obGV2ZWwpID8gbGV2ZWwgOiAhaXNOYU4oaWQpID8gaWQgOiAwLFxuICAgICAgICAgICAgbGV2ZWxEZXRhaWxzID0gdGhpcy5wYXJzZUxldmVsUGxheWxpc3Qoc3RyaW5nLCB1cmwsIGxldmVsSWQsIHR5cGUgPT09ICdhdWRpb1RyYWNrJyA/ICdhdWRpbycgOiB0eXBlID09PSAnc3VidGl0bGVUcmFjaycgPyAnc3VidGl0bGUnIDogJ21haW4nKTtcbiAgICAgICAgbGV2ZWxEZXRhaWxzLnRsb2FkID0gc3RhdHMudGxvYWQ7XG4gICAgICAgIGlmICh0eXBlID09PSAnbWFuaWZlc3QnKSB7XG4gICAgICAgICAgLy8gZmlyc3QgcmVxdWVzdCwgc3RyZWFtIG1hbmlmZXN0IChubyBtYXN0ZXIgcGxheWxpc3QpLCBmaXJlIG1hbmlmZXN0IGxvYWRlZCBldmVudCB3aXRoIGxldmVsIGRldGFpbHNcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BREVELCB7IGxldmVsczogW3sgdXJsOiB1cmwsIGRldGFpbHM6IGxldmVsRGV0YWlscyB9XSwgYXVkaW9UcmFja3M6IFtdLCB1cmw6IHVybCwgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdHMudHBhcnNlZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBpZiAobGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uKSB7XG4gICAgICAgICAgaWYgKGlzTGV2ZWwpIHtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FERUQsIHsgZGV0YWlsczogbGV2ZWxEZXRhaWxzLCBsZXZlbDogbGV2ZWwgfHwgMCwgaWQ6IGlkIHx8IDAsIHN0YXRzOiBzdGF0cywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2F1ZGlvVHJhY2snKSB7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19MT0FERUQsIHsgZGV0YWlsczogbGV2ZWxEZXRhaWxzLCBpZDogaWQsIHN0YXRzOiBzdGF0cywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3VidGl0bGVUcmFjaycpIHtcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURFRCwgeyBkZXRhaWxzOiBsZXZlbERldGFpbHMsIGlkOiBpZCwgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTUFOSUZFU1RfUEFSU0lOR19FUlJPUiwgZmF0YWw6IHRydWUsIHVybDogdXJsLCByZWFzb246ICdpbnZhbGlkIHRhcmdldGR1cmF0aW9uJywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5wYXJzZU1hc3RlclBsYXlsaXN0KHN0cmluZywgdXJsKTtcbiAgICAgICAgLy8gbXVsdGkgbGV2ZWwgcGxheWxpc3QsIHBhcnNlIGxldmVsIGluZm9cbiAgICAgICAgaWYgKGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgYXVkaW9UcmFja3MgPSB0aGlzLnBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYShzdHJpbmcsIHVybCwgJ0FVRElPJywgbGV2ZWxzWzBdLmF1ZGlvQ29kZWMpO1xuICAgICAgICAgIHZhciBzdWJ0aXRsZXMgPSB0aGlzLnBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYShzdHJpbmcsIHVybCwgJ1NVQlRJVExFUycpO1xuICAgICAgICAgIGlmIChhdWRpb1RyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgZm91bmQgYW4gYXVkaW8gdHJhY2sgZW1iZWRkZWQgaW4gbWFpbiBwbGF5bGlzdCAoYXVkaW8gdHJhY2sgd2l0aG91dCBVUkkgYXR0cmlidXRlKVxuICAgICAgICAgICAgdmFyIGVtYmVkZGVkQXVkaW9Gb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgYXVkaW9UcmFja3MuZm9yRWFjaChmdW5jdGlvbiAoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICBpZiAoIWF1ZGlvVHJhY2sudXJsKSB7XG4gICAgICAgICAgICAgICAgZW1iZWRkZWRBdWRpb0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpZiBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBkZWZpbmVkLCBidXQgYXVkaW8gY29kZWMgc2lnbmFsZWQgaW4gcXVhbGl0eSBsZXZlbCwgd2UgbmVlZCB0byBzaWduYWwgdGhpcyBtYWluIGF1ZGlvIHRyYWNrXG4gICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiB3aXRoIHBsYXlsaXN0cyB3aXRoIGFsdCBhdWRpbyByZW5kaXRpb24gaW4gd2hpY2ggcXVhbGl0eSBsZXZlbHMgKG1haW4pIGNvbnRhaW5zIGJvdGggYXVkaW8rdmlkZW8uIGJ1dCB3aXRoIG1peGVkIGF1ZGlvIHRyYWNrIG5vdCBzaWduYWxlZFxuICAgICAgICAgICAgaWYgKGVtYmVkZGVkQXVkaW9Gb3VuZCA9PT0gZmFsc2UgJiYgbGV2ZWxzWzBdLmF1ZGlvQ29kZWMgJiYgIWxldmVsc1swXS5hdHRycy5BVURJTykge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZScpO1xuICAgICAgICAgICAgICBhdWRpb1RyYWNrcy51bnNoaWZ0KHsgdHlwZTogJ21haW4nLCBuYW1lOiAnbWFpbicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIHsgbGV2ZWxzOiBsZXZlbHMsIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcywgc3VidGl0bGVzOiBzdWJ0aXRsZXMsIHVybDogdXJsLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLk1BTklGRVNUX1BBUlNJTkdfRVJST1IsIGZhdGFsOiB0cnVlLCB1cmw6IHVybCwgcmVhc29uOiAnbm8gbGV2ZWwgZm91bmQgaW4gbWFuaWZlc3QnLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgdXJsOiB1cmwsIHJlYXNvbjogJ25vIEVYVE0zVSBkZWxpbWl0ZXInLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gICAgfVxuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5sb2FkZXJyb3IgPSBmdW5jdGlvbiBsb2FkZXJyb3IocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICB2YXIgZGV0YWlscyxcbiAgICAgICAgZmF0YWwsXG4gICAgICAgIGxvYWRlciA9IGNvbnRleHQubG9hZGVyO1xuICAgIHN3aXRjaCAoY29udGV4dC50eXBlKSB7XG4gICAgICBjYXNlICdtYW5pZmVzdCc6XG4gICAgICAgIGRldGFpbHMgPSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9MT0FEX0VSUk9SO1xuICAgICAgICBmYXRhbCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGV2ZWwnOlxuICAgICAgICBkZXRhaWxzID0gZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTEVWRUxfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhdWRpb1RyYWNrJzpcbiAgICAgICAgZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkFVRElPX1RSQUNLX0xPQURfRVJST1I7XG4gICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZGV0YWlscywgZmF0YWw6IGZhdGFsLCB1cmw6IGxvYWRlci51cmwsIGxvYWRlcjogbG9hZGVyLCByZXNwb25zZTogcmVzcG9uc2UsIGNvbnRleHQ6IGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZHRpbWVvdXQgPSBmdW5jdGlvbiBsb2FkdGltZW91dChzdGF0cywgY29udGV4dCkge1xuICAgIHZhciBuZXR3b3JrRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgIHZhciBkZXRhaWxzLFxuICAgICAgICBmYXRhbCxcbiAgICAgICAgbG9hZGVyID0gY29udGV4dC5sb2FkZXI7XG4gICAgc3dpdGNoIChjb250ZXh0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ21hbmlmZXN0JzpcbiAgICAgICAgZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLk1BTklGRVNUX0xPQURfVElNRU9VVDtcbiAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xldmVsJzpcbiAgICAgICAgZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfVElNRU9VVDtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhdWRpb1RyYWNrJzpcbiAgICAgICAgZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkFVRElPX1RSQUNLX0xPQURfVElNRU9VVDtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLCBkZXRhaWxzOiBkZXRhaWxzLCBmYXRhbDogZmF0YWwsIHVybDogbG9hZGVyLnVybCwgbG9hZGVyOiBsb2FkZXIsIGNvbnRleHQ6IGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgfTtcblxuICByZXR1cm4gUGxheWxpc3RMb2FkZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBwbGF5bGlzdF9sb2FkZXIgPSAocGxheWxpc3RfbG9hZGVyX1BsYXlsaXN0TG9hZGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2xvYWRlci9mcmFnbWVudC1sb2FkZXIuanNcbmZ1bmN0aW9uIGZyYWdtZW50X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBmcmFnbWVudF9sb2FkZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGZyYWdtZW50X2xvYWRlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIEZyYWdtZW50IExvYWRlclxuKi9cblxuXG5cblxuXG5cbnZhciBmcmFnbWVudF9sb2FkZXJfRnJhZ21lbnRMb2FkZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBmcmFnbWVudF9sb2FkZXJfX2luaGVyaXRzKEZyYWdtZW50TG9hZGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBGcmFnbWVudExvYWRlcihobHMpIHtcbiAgICBmcmFnbWVudF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZyYWdtZW50TG9hZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGZyYWdtZW50X2xvYWRlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HKSk7XG5cbiAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBsb2FkZXJzID0gdGhpcy5sb2FkZXJzO1xuICAgIGZvciAodmFyIGxvYWRlck5hbWUgaW4gbG9hZGVycykge1xuICAgICAgdmFyIGxvYWRlciA9IGxvYWRlcnNbbG9hZGVyTmFtZV07XG4gICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubG9hZGVycyA9IHt9O1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUub25GcmFnTG9hZGluZyA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRpbmcoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnLFxuICAgICAgICB0eXBlID0gZnJhZy50eXBlLFxuICAgICAgICBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0sXG4gICAgICAgIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcblxuICAgIGZyYWcubG9hZGVkID0gMDtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBwcmV2aW91cyBmcmFnbWVudCBsb2FkZXIgZm9yIHR5cGU6JyArIHR5cGUpO1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuICAgIGxvYWRlciA9IHRoaXMubG9hZGVyc1t0eXBlXSA9IGZyYWcubG9hZGVyID0gdHlwZW9mIGNvbmZpZy5mTG9hZGVyICE9PSAndW5kZWZpbmVkJyA/IG5ldyBjb25maWcuZkxvYWRlcihjb25maWcpIDogbmV3IGNvbmZpZy5sb2FkZXIoY29uZmlnKTtcblxuICAgIHZhciBsb2FkZXJDb250ZXh0ID0gdm9pZCAwLFxuICAgICAgICBsb2FkZXJDb25maWcgPSB2b2lkIDAsXG4gICAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHZvaWQgMDtcbiAgICBsb2FkZXJDb250ZXh0ID0geyB1cmw6IGZyYWcudXJsLCBmcmFnOiBmcmFnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsIHByb2dyZXNzRGF0YTogZmFsc2UgfTtcbiAgICB2YXIgc3RhcnQgPSBmcmFnLmJ5dGVSYW5nZVN0YXJ0T2Zmc2V0LFxuICAgICAgICBlbmQgPSBmcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICBpZiAoIWlzTmFOKHN0YXJ0KSAmJiAhaXNOYU4oZW5kKSkge1xuICAgICAgbG9hZGVyQ29udGV4dC5yYW5nZVN0YXJ0ID0gc3RhcnQ7XG4gICAgICBsb2FkZXJDb250ZXh0LnJhbmdlRW5kID0gZW5kO1xuICAgIH1cbiAgICBsb2FkZXJDb25maWcgPSB7IHRpbWVvdXQ6IGNvbmZpZy5mcmFnTG9hZGluZ1RpbWVPdXQsIG1heFJldHJ5OiAwLCByZXRyeURlbGF5OiAwLCBtYXhSZXRyeURlbGF5OiBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQgfTtcbiAgICBsb2FkZXJDYWxsYmFja3MgPSB7IG9uU3VjY2VzczogdGhpcy5sb2Fkc3VjY2Vzcy5iaW5kKHRoaXMpLCBvbkVycm9yOiB0aGlzLmxvYWRlcnJvci5iaW5kKHRoaXMpLCBvblRpbWVvdXQ6IHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSwgb25Qcm9ncmVzczogdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKSB9O1xuICAgIGxvYWRlci5sb2FkKGxvYWRlckNvbnRleHQsIGxvYWRlckNvbmZpZywgbG9hZGVyQ2FsbGJhY2tzKTtcbiAgfTtcblxuICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiBsb2Fkc3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgICB2YXIgcGF5bG9hZCA9IHJlc3BvbnNlLmRhdGEsXG4gICAgICAgIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgLy8gZGV0YWNoIGZyYWdtZW50IGxvYWRlciBvbiBsb2FkIHN1Y2Nlc3NcbiAgICBmcmFnLmxvYWRlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgeyBwYXlsb2FkOiBwYXlsb2FkLCBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgfTtcblxuICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gbG9hZGVycm9yKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgdmFyIGxvYWRlciA9IGNvbnRleHQubG9hZGVyO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGZyYWc6IGNvbnRleHQuZnJhZywgcmVzcG9uc2U6IHJlc3BvbnNlLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICB2YXIgbG9hZGVyID0gY29udGV4dC5sb2FkZXI7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuICAgIHRoaXMubG9hZGVyc1tjb250ZXh0LnR5cGVdID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfVElNRU9VVCwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgfTtcblxuICAvLyBkYXRhIHdpbGwgYmUgdXNlZCBmb3IgcHJvZ3Jlc3NpdmUgcGFyc2luZ1xuXG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRwcm9ncmVzcyA9IGZ1bmN0aW9uIGxvYWRwcm9ncmVzcyhzdGF0cywgY29udGV4dCwgZGF0YSkge1xuICAgIHZhciBuZXR3b3JrRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZztcbiAgICBmcmFnLmxvYWRlZCA9IHN0YXRzLmxvYWRlZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURfUFJPR1JFU1MsIHsgZnJhZzogZnJhZywgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEZyYWdtZW50TG9hZGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZnJhZ21lbnRfbG9hZGVyID0gKGZyYWdtZW50X2xvYWRlcl9GcmFnbWVudExvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9sb2FkZXIva2V5LWxvYWRlci5qc1xuZnVuY3Rpb24ga2V5X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBrZXlfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBrZXlfbG9hZGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogRGVjcnlwdCBrZXkgTG9hZGVyXG4qL1xuXG5cblxuXG5cblxudmFyIGtleV9sb2FkZXJfS2V5TG9hZGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAga2V5X2xvYWRlcl9faW5oZXJpdHMoS2V5TG9hZGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBLZXlMb2FkZXIoaGxzKSB7XG4gICAga2V5X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgS2V5TG9hZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGtleV9sb2FkZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FESU5HKSk7XG5cbiAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgX3RoaXMuZGVjcnlwdGtleSA9IG51bGw7XG4gICAgX3RoaXMuZGVjcnlwdHVybCA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgS2V5TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIHRoaXMubG9hZGVycykge1xuICAgICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tsb2FkZXJOYW1lXTtcbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sb2FkZXJzID0ge307XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEtleUxvYWRlci5wcm90b3R5cGUub25LZXlMb2FkaW5nID0gZnVuY3Rpb24gb25LZXlMb2FkaW5nKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZyxcbiAgICAgICAgdHlwZSA9IGZyYWcudHlwZSxcbiAgICAgICAgbG9hZGVyID0gdGhpcy5sb2FkZXJzW3R5cGVdLFxuICAgICAgICBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGEsXG4gICAgICAgIHVyaSA9IGRlY3J5cHRkYXRhLnVyaTtcbiAgICAvLyBpZiB1cmkgaXMgZGlmZmVyZW50IGZyb20gcHJldmlvdXMgb25lIG9yIGlmIGRlY3J5cHQga2V5IG5vdCByZXRyaWV2ZWQgeWV0XG4gICAgaWYgKHVyaSAhPT0gdGhpcy5kZWNyeXB0dXJsIHx8IHRoaXMuZGVjcnlwdGtleSA9PT0gbnVsbCkge1xuICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcblxuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBwcmV2aW91cyBrZXkgbG9hZGVyIGZvciB0eXBlOicgKyB0eXBlKTtcbiAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgICBmcmFnLmxvYWRlciA9IHRoaXMubG9hZGVyc1t0eXBlXSA9IG5ldyBjb25maWcubG9hZGVyKGNvbmZpZyk7XG4gICAgICB0aGlzLmRlY3J5cHR1cmwgPSB1cmk7XG4gICAgICB0aGlzLmRlY3J5cHRrZXkgPSBudWxsO1xuXG4gICAgICB2YXIgbG9hZGVyQ29udGV4dCA9IHZvaWQgMCxcbiAgICAgICAgICBsb2FkZXJDb25maWcgPSB2b2lkIDAsXG4gICAgICAgICAgbG9hZGVyQ2FsbGJhY2tzID0gdm9pZCAwO1xuICAgICAgbG9hZGVyQ29udGV4dCA9IHsgdXJsOiB1cmksIGZyYWc6IGZyYWcsIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJyB9O1xuICAgICAgbG9hZGVyQ29uZmlnID0geyB0aW1lb3V0OiBjb25maWcuZnJhZ0xvYWRpbmdUaW1lT3V0LCBtYXhSZXRyeTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnksIHJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIG1heFJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCB9O1xuICAgICAgbG9hZGVyQ2FsbGJhY2tzID0geyBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSwgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSwgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcykgfTtcbiAgICAgIGZyYWcubG9hZGVyLmxvYWQobG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3MpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kZWNyeXB0a2V5KSB7XG4gICAgICAvLyB3ZSBhbHJlYWR5IGxvYWRlZCB0aGlzIGtleSwgcmV0dXJuIGl0XG4gICAgICBkZWNyeXB0ZGF0YS5rZXkgPSB0aGlzLmRlY3J5cHRrZXk7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BREVELCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgfVxuICB9O1xuXG4gIEtleUxvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiBsb2Fkc3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZztcbiAgICB0aGlzLmRlY3J5cHRrZXkgPSBmcmFnLmRlY3J5cHRkYXRhLmtleSA9IG5ldyBVaW50OEFycmF5KHJlc3BvbnNlLmRhdGEpO1xuICAgIC8vIGRldGFjaCBmcmFnbWVudCBsb2FkZXIgb24gbG9hZCBzdWNjZXNzXG4gICAgZnJhZy5sb2FkZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURFRCwgeyBmcmFnOiBmcmFnIH0pO1xuICB9O1xuXG4gIEtleUxvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gbG9hZGVycm9yKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWcsXG4gICAgICAgIGxvYWRlciA9IGZyYWcubG9hZGVyO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX0xPQURfRVJST1IsIGZhdGFsOiBmYWxzZSwgZnJhZzogZnJhZywgcmVzcG9uc2U6IHJlc3BvbnNlIH0pO1xuICB9O1xuXG4gIEtleUxvYWRlci5wcm90b3R5cGUubG9hZHRpbWVvdXQgPSBmdW5jdGlvbiBsb2FkdGltZW91dChzdGF0cywgY29udGV4dCkge1xuICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLFxuICAgICAgICBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX1RJTUVPVVQsIGZhdGFsOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgfTtcblxuICByZXR1cm4gS2V5TG9hZGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIga2V5X2xvYWRlciA9IChrZXlfbG9hZGVyX0tleUxvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXG52YXIgQmluYXJ5U2VhcmNoID0ge1xuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIGZvciBhbiBpdGVtIGluIGFuIGFycmF5IHdoaWNoIG1hdGNoZXMgYSBjZXJ0YWluIGNvbmRpdGlvbi5cbiAgICAgKiBUaGlzIHJlcXVpcmVzIHRoZSBjb25kaXRpb24gdG8gb25seSBtYXRjaCBvbmUgaXRlbSBpbiB0aGUgYXJyYXksXG4gICAgICogYW5kIGZvciB0aGUgYXJyYXkgdG8gYmUgb3JkZXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJpc29uRnVuY3Rpb25cbiAgICAgKiAgICAgIENhbGxlZCBhbmQgcHJvdmlkZWQgYSBjYW5kaWRhdGUgaXRlbSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAgICogICAgICBTaG91bGQgcmV0dXJuOlxuICAgICAqICAgICAgICAgID4gLTEgaWYgdGhlIGl0ZW0gc2hvdWxkIGJlIGxvY2F0ZWQgYXQgYSBsb3dlciBpbmRleCB0aGFuIHRoZSBwcm92aWRlZCBpdGVtLlxuICAgICAqICAgICAgICAgID4gMSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgbG9jYXRlZCBhdCBhIGhpZ2hlciBpbmRleCB0aGFuIHRoZSBwcm92aWRlZCBpdGVtLlxuICAgICAqICAgICAgICAgID4gMCBpZiB0aGUgaXRlbSBpcyB0aGUgaXRlbSB5b3UncmUgbG9va2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgb2JqZWN0IGlmIGl0IGlzIGZvdW5kIG9yIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGxpc3QsIGNvbXBhcmlzb25GdW5jdGlvbikge1xuICAgICAgICB2YXIgbWluSW5kZXggPSAwO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHdoaWxlIChtaW5JbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgY3VycmVudEluZGV4ID0gKG1pbkluZGV4ICsgbWF4SW5kZXgpIC8gMiB8IDA7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGxpc3RbY3VycmVudEluZGV4XTtcblxuICAgICAgICAgICAgdmFyIGNvbXBhcmlzb25SZXN1bHQgPSBjb21wYXJpc29uRnVuY3Rpb24oY3VycmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGNvbXBhcmlzb25SZXN1bHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgbWluSW5kZXggPSBjdXJyZW50SW5kZXggKyAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wYXJpc29uUmVzdWx0IDwgMCkge1xuICAgICAgICAgICAgICAgIG1heEluZGV4ID0gY3VycmVudEluZGV4IC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYmluYXJ5X3NlYXJjaCA9IChCaW5hcnlTZWFyY2gpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaGVscGVyL2J1ZmZlci1oZWxwZXIuanNcbi8qKlxuICogQnVmZmVyIEhlbHBlciB1dGlscywgcHJvdmlkaW5nIG1ldGhvZHMgZGVhbGluZyBidWZmZXIgbGVuZ3RoIHJldHJpZXZhbFxuKi9cblxudmFyIEJ1ZmZlckhlbHBlciA9IHtcbiAgaXNCdWZmZXJlZDogZnVuY3Rpb24gaXNCdWZmZXJlZChtZWRpYSwgcG9zaXRpb24pIHtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIHZhciBidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocG9zaXRpb24gPj0gYnVmZmVyZWQuc3RhcnQoaSkgJiYgcG9zaXRpb24gPD0gYnVmZmVyZWQuZW5kKGkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGJ1ZmZlckluZm86IGZ1bmN0aW9uIGJ1ZmZlckluZm8obWVkaWEsIHBvcywgbWF4SG9sZUR1cmF0aW9uKSB7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICB2YXIgdmJ1ZmZlcmVkID0gbWVkaWEuYnVmZmVyZWQsXG4gICAgICAgICAgYnVmZmVyZWQgPSBbXSxcbiAgICAgICAgICBpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHZidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBidWZmZXJlZC5wdXNoKHsgc3RhcnQ6IHZidWZmZXJlZC5zdGFydChpKSwgZW5kOiB2YnVmZmVyZWQuZW5kKGkpIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRJbmZvKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IGxlbjogMCwgc3RhcnQ6IHBvcywgZW5kOiBwb3MsIG5leHRTdGFydDogdW5kZWZpbmVkIH07XG4gICAgfVxuICB9LFxuXG4gIGJ1ZmZlcmVkSW5mbzogZnVuY3Rpb24gYnVmZmVyZWRJbmZvKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgIHZhciBidWZmZXJlZDIgPSBbXSxcblxuICAgIC8vIGJ1ZmZlclN0YXJ0IGFuZCBidWZmZXJFbmQgYXJlIGJ1ZmZlciBib3VuZGFyaWVzIGFyb3VuZCBjdXJyZW50IHZpZGVvIHBvc2l0aW9uXG4gICAgYnVmZmVyTGVuLFxuICAgICAgICBidWZmZXJTdGFydCxcbiAgICAgICAgYnVmZmVyRW5kLFxuICAgICAgICBidWZmZXJTdGFydE5leHQsXG4gICAgICAgIGk7XG4gICAgLy8gc29ydCBvbiBidWZmZXIuc3RhcnQvc21hbGxlciBlbmQgKElFIGRvZXMgbm90IGFsd2F5cyByZXR1cm4gc29ydGVkIGJ1ZmZlcmVkIHJhbmdlKVxuICAgIGJ1ZmZlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYS5zdGFydCAtIGIuc3RhcnQ7XG4gICAgICBpZiAoZGlmZikge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBiLmVuZCAtIGEuZW5kO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHRoZXJlIG1pZ2h0IGJlIHNvbWUgc21hbGwgaG9sZXMgYmV0d2VlbiBidWZmZXIgdGltZSByYW5nZVxuICAgIC8vIGNvbnNpZGVyIHRoYXQgaG9sZXMgc21hbGxlciB0aGFuIG1heEhvbGVEdXJhdGlvbiBhcmUgaXJyZWxldmFudCBhbmQgYnVpbGQgYW5vdGhlclxuICAgIC8vIGJ1ZmZlciB0aW1lIHJhbmdlIHJlcHJlc2VudGF0aW9ucyB0aGF0IGRpc2NhcmRzIHRob3NlIGhvbGVzXG4gICAgZm9yIChpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYnVmMmxlbiA9IGJ1ZmZlcmVkMi5sZW5ndGg7XG4gICAgICBpZiAoYnVmMmxlbikge1xuICAgICAgICB2YXIgYnVmMmVuZCA9IGJ1ZmZlcmVkMltidWYybGVuIC0gMV0uZW5kO1xuICAgICAgICAvLyBpZiBzbWFsbCBob2xlICh2YWx1ZSBiZXR3ZWVuIDAgb3IgbWF4SG9sZUR1cmF0aW9uICkgb3Igb3ZlcmxhcHBpbmcgKG5lZ2F0aXZlKVxuICAgICAgICBpZiAoYnVmZmVyZWRbaV0uc3RhcnQgLSBidWYyZW5kIDwgbWF4SG9sZUR1cmF0aW9uKSB7XG4gICAgICAgICAgLy8gbWVyZ2Ugb3ZlcmxhcHBpbmcgdGltZSByYW5nZXNcbiAgICAgICAgICAvLyB1cGRhdGUgbGFzdFJhbmdlLmVuZCBvbmx5IGlmIHNtYWxsZXIgdGhhbiBpdGVtLmVuZFxuICAgICAgICAgIC8vIGUuZy4gIFsgMSwgMTVdIHdpdGggIFsgMiw4XSA9PiBbIDEsMTVdIChubyBuZWVkIHRvIG1vZGlmeSBsYXN0UmFuZ2UuZW5kKVxuICAgICAgICAgIC8vIHdoZXJlYXMgWyAxLCA4XSB3aXRoICBbIDIsMTVdID0+IFsgMSwxNV0gKCBsYXN0UmFuZ2Ugc2hvdWxkIHN3aXRjaCBmcm9tIFsxLDhdIHRvIFsxLDE1XSlcbiAgICAgICAgICBpZiAoYnVmZmVyZWRbaV0uZW5kID4gYnVmMmVuZCkge1xuICAgICAgICAgICAgYnVmZmVyZWQyW2J1ZjJsZW4gLSAxXS5lbmQgPSBidWZmZXJlZFtpXS5lbmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGJpZyBob2xlXG4gICAgICAgICAgYnVmZmVyZWQyLnB1c2goYnVmZmVyZWRbaV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmaXJzdCB2YWx1ZVxuICAgICAgICBidWZmZXJlZDIucHVzaChidWZmZXJlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoaSA9IDAsIGJ1ZmZlckxlbiA9IDAsIGJ1ZmZlclN0YXJ0ID0gYnVmZmVyRW5kID0gcG9zOyBpIDwgYnVmZmVyZWQyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc3RhcnQgPSBidWZmZXJlZDJbaV0uc3RhcnQsXG4gICAgICAgICAgZW5kID0gYnVmZmVyZWQyW2ldLmVuZDtcbiAgICAgIC8vbG9nZ2VyLmxvZygnYnVmIHN0YXJ0L2VuZDonICsgYnVmZmVyZWQuc3RhcnQoaSkgKyAnLycgKyBidWZmZXJlZC5lbmQoaSkpO1xuICAgICAgaWYgKHBvcyArIG1heEhvbGVEdXJhdGlvbiA+PSBzdGFydCAmJiBwb3MgPCBlbmQpIHtcbiAgICAgICAgLy8gcGxheSBwb3NpdGlvbiBpcyBpbnNpZGUgdGhpcyBidWZmZXIgVGltZVJhbmdlLCByZXRyaWV2ZSBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uIGFuZCBidWZmZXIgbGVuZ3RoXG4gICAgICAgIGJ1ZmZlclN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIGJ1ZmZlckVuZCA9IGVuZDtcbiAgICAgICAgYnVmZmVyTGVuID0gYnVmZmVyRW5kIC0gcG9zO1xuICAgICAgfSBlbHNlIGlmIChwb3MgKyBtYXhIb2xlRHVyYXRpb24gPCBzdGFydCkge1xuICAgICAgICBidWZmZXJTdGFydE5leHQgPSBzdGFydDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxlbjogYnVmZmVyTGVuLCBzdGFydDogYnVmZmVyU3RhcnQsIGVuZDogYnVmZmVyRW5kLCBuZXh0U3RhcnQ6IGJ1ZmZlclN0YXJ0TmV4dCB9O1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBidWZmZXJfaGVscGVyID0gKEJ1ZmZlckhlbHBlcik7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2RlbXV4L2RlbXV4ZXItaW5saW5lLmpzICsgMTYgbW9kdWxlc1xudmFyIGRlbXV4ZXJfaW5saW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXG52YXIgZXZlbnRzX2V2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZXZlbnRzX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV2ZW50c19ldmVudHMpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3dlYndvcmtpZnktd2VicGFjay9pbmRleC5qc1xudmFyIHdlYndvcmtpZnlfd2VicGFjayA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgd2Vid29ya2lmeV93ZWJwYWNrX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHdlYndvcmtpZnlfd2VicGFjayk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L2RlbXV4ZXIuanNcbmZ1bmN0aW9uIGRlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxuXG5cblxuXG52YXIgZGVtdXhlcl9EZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEZW11eGVyKGhscywgaWQpIHtcbiAgICBkZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBEZW11eGVyKTtcblxuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICAvLyBvYnNlcnZlciBzZXR1cFxuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIgPSBuZXcgZXZlbnRzX2RlZmF1bHQuYSgpO1xuICAgIHZhciBjb25maWcgPSBobHMuY29uZmlnO1xuICAgIG9ic2VydmVyLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgZGF0YVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIG9ic2VydmVyLmVtaXQuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcblxuICAgIG9ic2VydmVyLm9mZiA9IGZ1bmN0aW9uIG9mZihldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBkYXRhW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBvYnNlcnZlci5yZW1vdmVMaXN0ZW5lci5hcHBseShvYnNlcnZlciwgW2V2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG5cbiAgICB2YXIgZm9yd2FyZE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYsIGRhdGEpIHtcbiAgICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgICAgZGF0YS5mcmFnID0gdGhpcy5mcmFnO1xuICAgICAgZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICBobHMudHJpZ2dlcihldiwgZGF0YSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19ERUNSWVBURUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfTUVUQURBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5ELCBmb3J3YXJkTWVzc2FnZSk7XG5cbiAgICB2YXIgdHlwZVN1cHBvcnRlZCA9IHtcbiAgICAgIG1wNDogTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQnKSxcbiAgICAgIG1wZWc6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgnYXVkaW8vbXBlZycpLFxuICAgICAgbXAzOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wNDsgY29kZWNzPVwibXAzXCInKVxuICAgIH07XG4gICAgLy8gbmF2aWdhdG9yLnZlbmRvciBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSBpbiBXZWIgV29ya2VyXG4gICAgLy8gcmVmZXIgdG8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dvcmtlckdsb2JhbFNjb3BlL25hdmlnYXRvclxuICAgIHZhciB2ZW5kb3IgPSBuYXZpZ2F0b3IudmVuZG9yO1xuICAgIGlmIChjb25maWcuZW5hYmxlV29ya2VyICYmIHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2RlbXV4aW5nIGluIHdlYndvcmtlcicpO1xuICAgICAgdmFyIHcgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICB3ID0gdGhpcy53ID0gd2Vid29ya2lmeV93ZWJwYWNrX2RlZmF1bHQoKSgvKnJlcXVpcmUucmVzb2x2ZSovKDkpKTtcbiAgICAgICAgdGhpcy5vbndtc2cgPSB0aGlzLm9uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICB3LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9ud21zZyk7XG4gICAgICAgIHcub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uT1RIRVJfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLklOVEVSTkFMX0VYQ0VQVElPTiwgZmF0YWw6IHRydWUsIGV2ZW50OiAnZGVtdXhlcldvcmtlcicsIGVycjogeyBtZXNzYWdlOiBldmVudC5tZXNzYWdlICsgJyAoJyArIGV2ZW50LmZpbGVuYW1lICsgJzonICsgZXZlbnQubGluZW5vICsgJyknIH0gfSk7XG4gICAgICAgIH07XG4gICAgICAgIHcucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0JywgdHlwZVN1cHBvcnRlZDogdHlwZVN1cHBvcnRlZCwgdmVuZG9yOiB2ZW5kb3IsIGlkOiBpZCwgY29uZmlnOiBKU09OLnN0cmluZ2lmeShjb25maWcpIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdlcnJvciB3aGlsZSBpbml0aWFsaXppbmcgRGVtdXhlcldvcmtlciwgZmFsbGJhY2sgb24gRGVtdXhlcklubGluZScpO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgIC8vIHJldm9rZSB0aGUgT2JqZWN0IFVSTCB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSBkZW11eGVyIHdvcmtlciwgc28gYXMgbm90IHRvIGxlYWsgaXRcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHcub2JqZWN0VVJMKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVbXCJhXCIgLyogZGVmYXVsdCAqL10ob2JzZXJ2ZXIsIHR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgdmVuZG9yKTtcbiAgICAgICAgdGhpcy53ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVbXCJhXCIgLyogZGVmYXVsdCAqL10ob2JzZXJ2ZXIsIHR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgdmVuZG9yKTtcbiAgICB9XG4gIH1cblxuICBEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgdyA9IHRoaXMudztcbiAgICBpZiAodykge1xuICAgICAgdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbndtc2cpO1xuICAgICAgdy50ZXJtaW5hdGUoKTtcbiAgICAgIHRoaXMudyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgaWYgKGRlbXV4ZXIpIHtcbiAgICAgICAgZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBEZW11eGVyLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaChkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZnJhZywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICB2YXIgdyA9IHRoaXMudztcbiAgICB2YXIgdGltZU9mZnNldCA9ICFpc05hTihmcmFnLnN0YXJ0RFRTKSA/IGZyYWcuc3RhcnREVFMgOiBmcmFnLnN0YXJ0O1xuICAgIHZhciBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGE7XG4gICAgdmFyIGxhc3RGcmFnID0gdGhpcy5mcmFnO1xuICAgIHZhciBkaXNjb250aW51aXR5ID0gIShsYXN0RnJhZyAmJiBmcmFnLmNjID09PSBsYXN0RnJhZy5jYyk7XG4gICAgdmFyIHRyYWNrU3dpdGNoID0gIShsYXN0RnJhZyAmJiBmcmFnLmxldmVsID09PSBsYXN0RnJhZy5sZXZlbCk7XG4gICAgdmFyIG5leHRTTiA9IGxhc3RGcmFnICYmIGZyYWcuc24gPT09IGxhc3RGcmFnLnNuICsgMTtcbiAgICB2YXIgY29udGlndW91cyA9ICF0cmFja1N3aXRjaCAmJiBuZXh0U047XG4gICAgaWYgKGRpc2NvbnRpbnVpdHkpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyh0aGlzLmlkICsgJzpkaXNjb250aW51aXR5IGRldGVjdGVkJyk7XG4gICAgfVxuICAgIGlmICh0cmFja1N3aXRjaCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKHRoaXMuaWQgKyAnOnN3aXRjaCBkZXRlY3RlZCcpO1xuICAgIH1cbiAgICB0aGlzLmZyYWcgPSBmcmFnO1xuICAgIGlmICh3KSB7XG4gICAgICAvLyBwb3N0IGZyYWdtZW50IHBheWxvYWQgYXMgdHJhbnNmZXJhYmxlIG9iamVjdHMgKG5vIGNvcHkpXG4gICAgICB3LnBvc3RNZXNzYWdlKHsgY21kOiAnZGVtdXgnLCBkYXRhOiBkYXRhLCBkZWNyeXB0ZGF0YTogZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50OiBpbml0U2VnbWVudCwgYXVkaW9Db2RlYzogYXVkaW9Db2RlYywgdmlkZW9Db2RlYzogdmlkZW9Db2RlYywgdGltZU9mZnNldDogdGltZU9mZnNldCwgZGlzY29udGludWl0eTogZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2g6IHRyYWNrU3dpdGNoLCBjb250aWd1b3VzOiBjb250aWd1b3VzLCBkdXJhdGlvbjogZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldDogYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUzogZGVmYXVsdEluaXRQVFMgfSwgW2RhdGFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgICBpZiAoZGVtdXhlcikge1xuICAgICAgICBkZW11eGVyLnB1c2goZGF0YSwgZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBEZW11eGVyLnByb3RvdHlwZS5vbldvcmtlck1lc3NhZ2UgPSBmdW5jdGlvbiBvbldvcmtlck1lc3NhZ2UoZXYpIHtcbiAgICB2YXIgZGF0YSA9IGV2LmRhdGEsXG4gICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgIC8vY29uc29sZS5sb2coJ29uV29ya2VyTWVzc2FnZTonICsgZGF0YS5ldmVudCk7XG4gICAgc3dpdGNoIChkYXRhLmV2ZW50KSB7XG4gICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIGRlbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMudy5vYmplY3RVUkwpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgRlJBR19QQVJTSU5HX0RBVEE6IGRhdGExIGFuZCBkYXRhMiBhcmUgdHJhbnNmZXJhYmxlIG9iamVjdHNcbiAgICAgIGNhc2UgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBOlxuICAgICAgICBkYXRhLmRhdGEuZGF0YTEgPSBuZXcgVWludDhBcnJheShkYXRhLmRhdGExKTtcbiAgICAgICAgaWYgKGRhdGEuZGF0YTIpIHtcbiAgICAgICAgICBkYXRhLmRhdGEuZGF0YTIgPSBuZXcgVWludDhBcnJheShkYXRhLmRhdGEyKTtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZGF0YS5kYXRhID0gZGF0YS5kYXRhIHx8IHt9O1xuICAgICAgICBkYXRhLmRhdGEuZnJhZyA9IHRoaXMuZnJhZztcbiAgICAgICAgZGF0YS5kYXRhLmlkID0gdGhpcy5pZDtcbiAgICAgICAgaGxzLnRyaWdnZXIoZGF0YS5ldmVudCwgZGF0YS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBEZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZW11eF9kZW11eGVyID0gKGRlbXV4ZXJfRGVtdXhlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9oZWxwZXIvbGV2ZWwtaGVscGVyLmpzXG4vKipcbiAqIExldmVsIEhlbHBlciBjbGFzcywgcHJvdmlkaW5nIG1ldGhvZHMgZGVhbGluZyB3aXRoIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGRyaWZ0XG4qL1xuXG5cblxuZnVuY3Rpb24gdXBkYXRlUFRTKGZyYWdtZW50cywgZnJvbUlkeCwgdG9JZHgpIHtcbiAgdmFyIGZyYWdGcm9tID0gZnJhZ21lbnRzW2Zyb21JZHhdLFxuICAgICAgZnJhZ1RvID0gZnJhZ21lbnRzW3RvSWR4XSxcbiAgICAgIGZyYWdUb1BUUyA9IGZyYWdUby5zdGFydFBUUztcbiAgLy8gaWYgd2Uga25vdyBzdGFydFBUU1t0b0lkeF1cbiAgaWYgKCFpc05hTihmcmFnVG9QVFMpKSB7XG4gICAgLy8gdXBkYXRlIGZyYWdtZW50IGR1cmF0aW9uLlxuICAgIC8vIGl0IGhlbHBzIHRvIGZpeCBkcmlmdHMgYmV0d2VlbiBwbGF5bGlzdCByZXBvcnRlZCBkdXJhdGlvbiBhbmQgZnJhZ21lbnQgcmVhbCBkdXJhdGlvblxuICAgIGlmICh0b0lkeCA+IGZyb21JZHgpIHtcbiAgICAgIGZyYWdGcm9tLmR1cmF0aW9uID0gZnJhZ1RvUFRTIC0gZnJhZ0Zyb20uc3RhcnQ7XG4gICAgICBpZiAoZnJhZ0Zyb20uZHVyYXRpb24gPCAwKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ25lZ2F0aXZlIGR1cmF0aW9uIGNvbXB1dGVkIGZvciBmcmFnICcgKyBmcmFnRnJvbS5zbiArICcsbGV2ZWwgJyArIGZyYWdGcm9tLmxldmVsICsgJywgdGhlcmUgc2hvdWxkIGJlIHNvbWUgZHVyYXRpb24gZHJpZnQgYmV0d2VlbiBwbGF5bGlzdCBhbmQgZnJhZ21lbnQhJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYWdUby5kdXJhdGlvbiA9IGZyYWdGcm9tLnN0YXJ0IC0gZnJhZ1RvUFRTO1xuICAgICAgaWYgKGZyYWdUby5kdXJhdGlvbiA8IDApIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgJyArIGZyYWdUby5zbiArICcsbGV2ZWwgJyArIGZyYWdUby5sZXZlbCArICcsIHRoZXJlIHNob3VsZCBiZSBzb21lIGR1cmF0aW9uIGRyaWZ0IGJldHdlZW4gcGxheWxpc3QgYW5kIGZyYWdtZW50IScpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyB3ZSBkb250IGtub3cgc3RhcnRQVFNbdG9JZHhdXG4gICAgaWYgKHRvSWR4ID4gZnJvbUlkeCkge1xuICAgICAgZnJhZ1RvLnN0YXJ0ID0gZnJhZ0Zyb20uc3RhcnQgKyBmcmFnRnJvbS5kdXJhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhZ1RvLnN0YXJ0ID0gTWF0aC5tYXgoZnJhZ0Zyb20uc3RhcnQgLSBmcmFnVG8uZHVyYXRpb24sIDApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVGcmFnUFRTRFRTKGRldGFpbHMsIGZyYWcsIHN0YXJ0UFRTLCBlbmRQVFMsIHN0YXJ0RFRTLCBlbmREVFMpIHtcbiAgLy8gdXBkYXRlIGZyYWcgUFRTL0RUU1xuICB2YXIgbWF4U3RhcnRQVFMgPSBzdGFydFBUUztcbiAgaWYgKCFpc05hTihmcmFnLnN0YXJ0UFRTKSkge1xuICAgIC8vIGRlbHRhIFBUUyBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlb1xuICAgIHZhciBkZWx0YVBUUyA9IE1hdGguYWJzKGZyYWcuc3RhcnRQVFMgLSBzdGFydFBUUyk7XG4gICAgaWYgKGlzTmFOKGZyYWcuZGVsdGFQVFMpKSB7XG4gICAgICBmcmFnLmRlbHRhUFRTID0gZGVsdGFQVFM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYWcuZGVsdGFQVFMgPSBNYXRoLm1heChkZWx0YVBUUywgZnJhZy5kZWx0YVBUUyk7XG4gICAgfVxuICAgIG1heFN0YXJ0UFRTID0gTWF0aC5tYXgoc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgIHN0YXJ0UFRTID0gTWF0aC5taW4oc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgIGVuZFBUUyA9IE1hdGgubWF4KGVuZFBUUywgZnJhZy5lbmRQVFMpO1xuICAgIHN0YXJ0RFRTID0gTWF0aC5taW4oc3RhcnREVFMsIGZyYWcuc3RhcnREVFMpO1xuICAgIGVuZERUUyA9IE1hdGgubWF4KGVuZERUUywgZnJhZy5lbmREVFMpO1xuICB9XG5cbiAgdmFyIGRyaWZ0ID0gc3RhcnRQVFMgLSBmcmFnLnN0YXJ0O1xuICBmcmFnLnN0YXJ0ID0gZnJhZy5zdGFydFBUUyA9IHN0YXJ0UFRTO1xuICBmcmFnLm1heFN0YXJ0UFRTID0gbWF4U3RhcnRQVFM7XG4gIGZyYWcuZW5kUFRTID0gZW5kUFRTO1xuICBmcmFnLnN0YXJ0RFRTID0gc3RhcnREVFM7XG4gIGZyYWcuZW5kRFRTID0gZW5kRFRTO1xuICBmcmFnLmR1cmF0aW9uID0gZW5kUFRTIC0gc3RhcnRQVFM7XG5cbiAgdmFyIHNuID0gZnJhZy5zbjtcbiAgLy8gZXhpdCBpZiBzbiBvdXQgb2YgcmFuZ2VcbiAgaWYgKCFkZXRhaWxzIHx8IHNuIDwgZGV0YWlscy5zdGFydFNOIHx8IHNuID4gZGV0YWlscy5lbmRTTikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBmcmFnSWR4LCBmcmFnbWVudHMsIGk7XG4gIGZyYWdJZHggPSBzbiAtIGRldGFpbHMuc3RhcnRTTjtcbiAgZnJhZ21lbnRzID0gZGV0YWlscy5mcmFnbWVudHM7XG4gIC8vIHVwZGF0ZSBmcmFnIHJlZmVyZW5jZSBpbiBmcmFnbWVudHMgYXJyYXlcbiAgLy8gcmF0aW9uYWxlIGlzIHRoYXQgZnJhZ21lbnRzIGFycmF5IG1pZ2h0IG5vdCBjb250YWluIHRoaXMgZnJhZyBvYmplY3QuXG4gIC8vIHRoaXMgd2lsbCBoYXBwcGVuIGlmIHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCBiZXR3ZWVuIGZyYWcgbG9hZGluZyBhbmQgY2FsbCB0byB1cGRhdGVGcmFnUFRTRFRTKClcbiAgLy8gaWYgd2UgZG9uJ3QgdXBkYXRlIGZyYWcsIHdlIHdvbid0IGJlIGFibGUgdG8gcHJvcGFnYXRlIFBUUyBpbmZvIG9uIHRoZSBwbGF5bGlzdFxuICAvLyByZXN1bHRpbmcgaW4gaW52YWxpZCBzbGlkaW5nIGNvbXB1dGF0aW9uXG4gIGZyYWdtZW50c1tmcmFnSWR4XSA9IGZyYWc7XG4gIC8vIGFkanVzdCBmcmFnbWVudCBQVFMvZHVyYXRpb24gZnJvbSBzZXFudW0tMSB0byBmcmFnIDBcbiAgZm9yIChpID0gZnJhZ0lkeDsgaSA+IDA7IGktLSkge1xuICAgIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGksIGkgLSAxKTtcbiAgfVxuXG4gIC8vIGFkanVzdCBmcmFnbWVudCBQVFMvZHVyYXRpb24gZnJvbSBzZXFudW0gdG8gbGFzdCBmcmFnXG4gIGZvciAoaSA9IGZyYWdJZHg7IGkgPCBmcmFnbWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdXBkYXRlUFRTKGZyYWdtZW50cywgaSwgaSArIDEpO1xuICB9XG4gIGRldGFpbHMuUFRTS25vd24gPSB0cnVlO1xuICAvL2xvZ2dlci5sb2coYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyBzdGFydC9lbmQ6JHtzdGFydFBUUy50b0ZpeGVkKDMpfS8ke2VuZFBUUy50b0ZpeGVkKDMpfWApO1xuXG4gIHJldHVybiBkcmlmdDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZXRhaWxzKG9sZERldGFpbHMsIG5ld0RldGFpbHMpIHtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgob2xkRGV0YWlscy5zdGFydFNOLCBuZXdEZXRhaWxzLnN0YXJ0U04pIC0gbmV3RGV0YWlscy5zdGFydFNOLFxuICAgICAgZW5kID0gTWF0aC5taW4ob2xkRGV0YWlscy5lbmRTTiwgbmV3RGV0YWlscy5lbmRTTikgLSBuZXdEZXRhaWxzLnN0YXJ0U04sXG4gICAgICBkZWx0YSA9IG5ld0RldGFpbHMuc3RhcnRTTiAtIG9sZERldGFpbHMuc3RhcnRTTixcbiAgICAgIG9sZGZyYWdtZW50cyA9IG9sZERldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgbmV3ZnJhZ21lbnRzID0gbmV3RGV0YWlscy5mcmFnbWVudHMsXG4gICAgICBjY09mZnNldCA9IDAsXG4gICAgICBQVFNGcmFnO1xuXG4gIC8vIGNoZWNrIGlmIG9sZC9uZXcgcGxheWxpc3RzIGhhdmUgZnJhZ21lbnRzIGluIGNvbW1vblxuICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGxvb3AgdGhyb3VnaCBvdmVybGFwcGluZyBTTiBhbmQgdXBkYXRlIHN0YXJ0UFRTICwgY2MsIGFuZCBkdXJhdGlvbiBpZiBhbnkgZm91bmRcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgdmFyIG9sZEZyYWcgPSBvbGRmcmFnbWVudHNbZGVsdGEgKyBpXSxcbiAgICAgICAgbmV3RnJhZyA9IG5ld2ZyYWdtZW50c1tpXTtcbiAgICBpZiAobmV3RnJhZyAmJiBvbGRGcmFnKSB7XG4gICAgICBjY09mZnNldCA9IG9sZEZyYWcuY2MgLSBuZXdGcmFnLmNjO1xuICAgICAgaWYgKCFpc05hTihvbGRGcmFnLnN0YXJ0UFRTKSkge1xuICAgICAgICBuZXdGcmFnLnN0YXJ0ID0gbmV3RnJhZy5zdGFydFBUUyA9IG9sZEZyYWcuc3RhcnRQVFM7XG4gICAgICAgIG5ld0ZyYWcuZW5kUFRTID0gb2xkRnJhZy5lbmRQVFM7XG4gICAgICAgIG5ld0ZyYWcuZHVyYXRpb24gPSBvbGRGcmFnLmR1cmF0aW9uO1xuICAgICAgICBuZXdGcmFnLmJhY2t0cmFja2VkID0gb2xkRnJhZy5iYWNrdHJhY2tlZDtcbiAgICAgICAgbmV3RnJhZy5kcm9wcGVkID0gb2xkRnJhZy5kcm9wcGVkO1xuICAgICAgICBQVFNGcmFnID0gbmV3RnJhZztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoY2NPZmZzZXQpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2Rpc2NvbnRpbnVpdHkgc2xpZGluZyBmcm9tIHBsYXlsaXN0LCB0YWtlIGRyaWZ0IGludG8gYWNjb3VudCcpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuZXdmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld2ZyYWdtZW50c1tpXS5jYyArPSBjY09mZnNldDtcbiAgICB9XG4gIH1cblxuICAvLyBpZiBhdCBsZWFzdCBvbmUgZnJhZ21lbnQgY29udGFpbnMgUFRTIGluZm8sIHJlY29tcHV0ZSBQVFMgaW5mb3JtYXRpb24gZm9yIGFsbCBmcmFnbWVudHNcbiAgaWYgKFBUU0ZyYWcpIHtcbiAgICB1cGRhdGVGcmFnUFRTRFRTKG5ld0RldGFpbHMsIFBUU0ZyYWcsIFBUU0ZyYWcuc3RhcnRQVFMsIFBUU0ZyYWcuZW5kUFRTLCBQVFNGcmFnLnN0YXJ0RFRTLCBQVFNGcmFnLmVuZERUUyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZW5zdXJlIHRoYXQgZGVsdGEgaXMgd2l0aGluIG9sZGZyYWdtZW50cyByYW5nZVxuICAgIC8vIGFsc28gYWRqdXN0IHNsaWRpbmcgaW4gY2FzZSBkZWx0YSBpcyAwICh3ZSBjb3VsZCBoYXZlIG9sZD1bNTAtNjBdIGFuZCBuZXc9b2xkPVs1MC02MV0pXG4gICAgLy8gaW4gdGhhdCBjYXNlIHdlIGFsc28gbmVlZCB0byBhZGp1c3Qgc3RhcnQgb2Zmc2V0IG9mIGFsbCBmcmFnbWVudHNcbiAgICBpZiAoZGVsdGEgPj0gMCAmJiBkZWx0YSA8IG9sZGZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGFkanVzdCBzdGFydCBieSBzbGlkaW5nIG9mZnNldFxuICAgICAgdmFyIHNsaWRpbmcgPSBvbGRmcmFnbWVudHNbZGVsdGFdLnN0YXJ0O1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5ld2ZyYWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuZXdmcmFnbWVudHNbaV0uc3RhcnQgKz0gc2xpZGluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gaWYgd2UgYXJlIGhlcmUsIGl0IG1lYW5zIHdlIGhhdmUgZnJhZ21lbnRzIG92ZXJsYXBwaW5nIGJldHdlZW5cbiAgLy8gb2xkIGFuZCBuZXcgbGV2ZWwuIHJlbGlhYmxlIFBUUyBpbmZvIGlzIHRodXMgcmVseWluZyBvbiBvbGQgbGV2ZWxcbiAgbmV3RGV0YWlscy5QVFNLbm93biA9IG9sZERldGFpbHMuUFRTS25vd247XG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy90aW1lUmFuZ2VzLmpzXG4vKipcbiAqICBUaW1lUmFuZ2VzIHRvIHN0cmluZyBoZWxwZXJcbiAqL1xuXG52YXIgVGltZVJhbmdlcyA9IHtcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKHIpIHtcbiAgICB2YXIgbG9nID0gJycsXG4gICAgICAgIGxlbiA9IHIubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGxvZyArPSAnWycgKyByLnN0YXJ0KGkpLnRvRml4ZWQoMykgKyAnLCcgKyByLmVuZChpKS50b0ZpeGVkKDMpICsgJ10nO1xuICAgIH1cbiAgICByZXR1cm4gbG9nO1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0aW1lUmFuZ2VzID0gKFRpbWVSYW5nZXMpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvZGlzY29udGludWl0aWVzLmpzXG5cblxuXG5mdW5jdGlvbiBmaW5kRmlyc3RGcmFnV2l0aENDKGZyYWdtZW50cywgY2MpIHtcbiAgdmFyIGZpcnN0RnJhZyA9IG51bGw7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgY3VycmVudEZyYWcgPSBmcmFnbWVudHNbaV07XG4gICAgaWYgKGN1cnJlbnRGcmFnICYmIGN1cnJlbnRGcmFnLmNjID09PSBjYykge1xuICAgICAgZmlyc3RGcmFnID0gY3VycmVudEZyYWc7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlyc3RGcmFnO1xufVxuXG5mdW5jdGlvbiBmaW5kRnJhZ1dpdGhDQyhmcmFnbWVudHMsIENDKSB7XG4gIHJldHVybiBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICBpZiAoY2FuZGlkYXRlLmNjIDwgQ0MpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoY2FuZGlkYXRlLmNjID4gQ0MpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgbGFzdExldmVsLCBkZXRhaWxzKSB7XG4gIHZhciBzaG91bGRBbGlnbiA9IGZhbHNlO1xuICBpZiAobGFzdExldmVsICYmIGxhc3RMZXZlbC5kZXRhaWxzICYmIGRldGFpbHMpIHtcbiAgICBpZiAoZGV0YWlscy5lbmRDQyA+IGRldGFpbHMuc3RhcnRDQyB8fCBsYXN0RnJhZyAmJiBsYXN0RnJhZy5jYyA8IGRldGFpbHMuc3RhcnRDQykge1xuICAgICAgc2hvdWxkQWxpZ24gPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2hvdWxkQWxpZ247XG59XG5cbi8vIEZpbmQgdGhlIGZpcnN0IGZyYWcgaW4gdGhlIHByZXZpb3VzIGxldmVsIHdoaWNoIG1hdGNoZXMgdGhlIENDIG9mIHRoZSBmaXJzdCBmcmFnIG9mIHRoZSBuZXcgbGV2ZWxcbmZ1bmN0aW9uIGZpbmREaXNjb250aW51b3VzUmVmZXJlbmNlRnJhZyhwcmV2RGV0YWlscywgY3VyRGV0YWlscykge1xuICB2YXIgcHJldkZyYWdzID0gcHJldkRldGFpbHMuZnJhZ21lbnRzO1xuICB2YXIgY3VyRnJhZ3MgPSBjdXJEZXRhaWxzLmZyYWdtZW50cztcblxuICBpZiAoIWN1ckZyYWdzLmxlbmd0aCB8fCAhcHJldkZyYWdzLmxlbmd0aCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTm8gZnJhZ21lbnRzIHRvIGFsaWduJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByZXZTdGFydEZyYWcgPSBmaW5kRmlyc3RGcmFnV2l0aENDKHByZXZGcmFncywgY3VyRnJhZ3NbMF0uY2MpO1xuXG4gIGlmICghcHJldlN0YXJ0RnJhZyB8fCBwcmV2U3RhcnRGcmFnICYmICFwcmV2U3RhcnRGcmFnLnN0YXJ0UFRTKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdObyBmcmFnIGluIHByZXZpb3VzIGxldmVsIHRvIGFsaWduIG9uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHByZXZTdGFydEZyYWc7XG59XG5cbmZ1bmN0aW9uIGFkanVzdFB0cyhzbGlkaW5nLCBkZXRhaWxzKSB7XG4gIGRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWcpIHtcbiAgICBpZiAoZnJhZykge1xuICAgICAgdmFyIHN0YXJ0ID0gZnJhZy5zdGFydCArIHNsaWRpbmc7XG4gICAgICBmcmFnLnN0YXJ0ID0gZnJhZy5zdGFydFBUUyA9IHN0YXJ0O1xuICAgICAgZnJhZy5lbmRQVFMgPSBzdGFydCArIGZyYWcuZHVyYXRpb247XG4gICAgfVxuICB9KTtcbiAgZGV0YWlscy5QVFNLbm93biA9IHRydWU7XG59XG5cbi8vIElmIGEgY2hhbmdlIGluIENDIGlzIGRldGVjdGVkLCB0aGUgUFRTIGNhbiBubyBsb25nZXIgYmUgcmVsaWVkIHVwb25cbi8vIEF0dGVtcHQgdG8gYWxpZ24gdGhlIGxldmVsIGJ5IHVzaW5nIHRoZSBsYXN0IGxldmVsIC0gZmluZCB0aGUgbGFzdCBmcmFnIG1hdGNoaW5nIHRoZSBjdXJyZW50IENDIGFuZCB1c2UgaXQncyBQVFNcbi8vIGFzIGEgcmVmZXJlbmNlXG5mdW5jdGlvbiBhbGlnbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgbGFzdExldmVsLCBkZXRhaWxzKSB7XG4gIGlmIChzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzKGxhc3RGcmFnLCBsYXN0TGV2ZWwsIGRldGFpbHMpKSB7XG4gICAgdmFyIHJlZmVyZW5jZUZyYWcgPSBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcobGFzdExldmVsLmRldGFpbHMsIGRldGFpbHMpO1xuICAgIGlmIChyZWZlcmVuY2VGcmFnKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FkanVzdGluZyBQVFMgdXNpbmcgbGFzdCBsZXZlbCBkdWUgdG8gQ0MgaW5jcmVhc2Ugd2l0aGluIGN1cnJlbnQgbGV2ZWwnKTtcbiAgICAgIGFkanVzdFB0cyhyZWZlcmVuY2VGcmFnLnN0YXJ0LCBkZXRhaWxzKTtcbiAgICB9XG4gIH1cbiAgLy8gdHJ5IHRvIGFsaWduIHVzaW5nIHByb2dyYW1EYXRlVGltZSBhdHRyaWJ1dGUgKGlmIGF2YWlsYWJsZSlcbiAgaWYgKGRldGFpbHMuUFRTS25vd24gPT09IGZhbHNlICYmIGxhc3RMZXZlbCAmJiBsYXN0TGV2ZWwuZGV0YWlscykge1xuICAgIC8vIGlmIGxhc3QgbGV2ZWwgc2xpZGluZyBpcyAxMDAwIGFuZCBpdHMgZmlyc3QgZnJhZyBQUk9HUkFNLURBVEUtVElNRSBpcyAyMDE3LTA4LTIwIDE6MTA6MDAgQU1cbiAgICAvLyBhbmQgaWYgbmV3IGRldGFpbHMgZmlyc3QgZnJhZyBQUk9HUkFNIERBVEUtVElNRSBpcyAyMDE3LTA4LTIwIDE6MTA6MDggQU1cbiAgICAvLyB0aGVuIHdlIGNhbiBkZWR1Y2UgdGhhdCBwbGF5bGlzdCBCIHNsaWRpbmcgaXMgMTAwMCs4ID0gMTAwOHNcbiAgICB2YXIgbGFzdFBEVCA9IGxhc3RMZXZlbC5kZXRhaWxzLnByb2dyYW1EYXRlVGltZTtcbiAgICB2YXIgbmV3UERUID0gZGV0YWlscy5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgLy8gZGF0ZSBkaWZmIGlzIGluIG1zLiBmcmFnLnN0YXJ0IGlzIGluIHNlY29uZHNcbiAgICB2YXIgc2xpZGluZyA9IChuZXdQRFQgLSBsYXN0UERUKSAvIDEwMDAgKyBsYXN0TGV2ZWwuZGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgaWYgKCFpc05hTihzbGlkaW5nKSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhZGp1c3RpbmcgUFRTIHVzaW5nIHByb2dyYW1EYXRlVGltZSBkZWx0YSwgc2xpZGluZzonICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgIGFkanVzdFB0cyhzbGlkaW5nLCBkZXRhaWxzKTtcbiAgICB9XG4gIH1cbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvc3RyZWFtLWNvbnRyb2xsZXIuanNcbnZhciBzdHJlYW1fY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIHN0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIHN0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBzdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIFN0cmVhbSBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBTdGF0ZSA9IHtcbiAgU1RPUFBFRDogJ1NUT1BQRUQnLFxuICBJRExFOiAnSURMRScsXG4gIEtFWV9MT0FESU5HOiAnS0VZX0xPQURJTkcnLFxuICBGUkFHX0xPQURJTkc6ICdGUkFHX0xPQURJTkcnLFxuICBGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTogJ0ZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZJyxcbiAgV0FJVElOR19MRVZFTDogJ1dBSVRJTkdfTEVWRUwnLFxuICBQQVJTSU5HOiAnUEFSU0lORycsXG4gIFBBUlNFRDogJ1BBUlNFRCcsXG4gIEJVRkZFUl9GTFVTSElORzogJ0JVRkZFUl9GTFVTSElORycsXG4gIEVOREVEOiAnRU5ERUQnLFxuICBFUlJPUjogJ0VSUk9SJ1xufTtcblxudmFyIHN0cmVhbV9jb250cm9sbGVyX1N0cmVhbUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBzdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoU3RyZWFtQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gU3RyZWFtQ29udHJvbGxlcihobHMpIHtcbiAgICBzdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyZWFtQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBzdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NSRUFURUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hFRCkpO1xuXG4gICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICBfdGhpcy5hdWRpb0NvZGVjU3dhcCA9IGZhbHNlO1xuICAgIF90aGlzLnRpY2tzID0gMDtcbiAgICBfdGhpcy5fc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIF90aGlzLm9udGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgfVxuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiBzdGFydExvYWQoc3RhcnRQb3NpdGlvbikge1xuICAgIGlmICh0aGlzLmxldmVscykge1xuICAgICAgdmFyIGxhc3RDdXJyZW50VGltZSA9IHRoaXMubGFzdEN1cnJlbnRUaW1lLFxuICAgICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLm9udGljaywgMTAwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGV2ZWwgPSAtMTtcbiAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkKSB7XG4gICAgICAgIC8vIGRldGVybWluZSBsb2FkIGxldmVsXG4gICAgICAgIHZhciBzdGFydExldmVsID0gaGxzLnN0YXJ0TGV2ZWw7XG4gICAgICAgIGlmIChzdGFydExldmVsID09PSAtMSkge1xuICAgICAgICAgIC8vIC0xIDogZ3Vlc3Mgc3RhcnQgTGV2ZWwgYnkgZG9pbmcgYSBiaXRyYXRlIHRlc3QgYnkgbG9hZGluZyBmaXJzdCBmcmFnbWVudCBvZiBsb3dlc3QgcXVhbGl0eSBsZXZlbFxuICAgICAgICAgIHN0YXJ0TGV2ZWwgPSAwO1xuICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBuZXcgbGV2ZWwgdG8gcGxheWxpc3QgbG9hZGVyIDogdGhpcyB3aWxsIHRyaWdnZXIgc3RhcnQgbGV2ZWwgbG9hZFxuICAgICAgICAvLyBobHMubmV4dExvYWRMZXZlbCByZW1haW5zIHVudGlsIGl0IGlzIHNldCB0byBhIG5ldyB2YWx1ZSBvciB1bnRpbCBhIG5ldyBmcmFnIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWRcbiAgICAgICAgdGhpcy5sZXZlbCA9IGhscy5uZXh0TG9hZExldmVsID0gc3RhcnRMZXZlbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiB1bmRlZmluZWQgYnV0IGxhc3RDdXJyZW50VGltZSBzZXQsIHNldCBzdGFydFBvc2l0aW9uIHRvIGxhc3QgY3VycmVudFRpbWVcbiAgICAgIGlmIChsYXN0Q3VycmVudFRpbWUgPiAwICYmIHN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnb3ZlcnJpZGUgc3RhcnRQb3NpdGlvbiB3aXRoIGxhc3RDdXJyZW50VGltZSBAJyArIGxhc3RDdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICAgICAgc3RhcnRQb3NpdGlvbiA9IGxhc3RDdXJyZW50VGltZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBzdGFydFBvc2l0aW9uO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9yY2VTdGFydExvYWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlNUT1BQRUQ7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN0b3BMb2FkID0gZnVuY3Rpb24gc3RvcExvYWQoKSB7XG4gICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIGlmIChmcmFnKSB7XG4gICAgICBpZiAoZnJhZy5sb2FkZXIpIHtcbiAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIHRoaXMuZm9yY2VTdGFydExvYWQgPSBmYWxzZTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICB0aGlzLnRpY2tzKys7XG4gICAgaWYgKHRoaXMudGlja3MgPT09IDEpIHtcbiAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgICBpZiAodGhpcy50aWNrcyA+IDEpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnRpY2ssIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy50aWNrcyA9IDA7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgU3RhdGUuRVJST1I6XG4gICAgICAgIC8vZG9uJ3QgZG8gYW55dGhpbmcgaW4gZXJyb3Igc3RhdGUgdG8gYXZvaWQgYnJlYWtpbmcgZnVydGhlciAuLi5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLkJVRkZFUl9GTFVTSElORzpcbiAgICAgICAgLy8gaW4gYnVmZmVyIGZsdXNoaW5nIHN0YXRlLCByZXNldCBmcmFnTG9hZEVycm9yIGNvdW50ZXJcbiAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLklETEU6XG4gICAgICAgIHRoaXMuX2RvVGlja0lkbGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLldBSVRJTkdfTEVWRUw6XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdO1xuICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAobGV2ZWwgJiYgbGV2ZWwuZGV0YWlscykge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTpcbiAgICAgICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB2YXIgcmV0cnlEYXRlID0gdGhpcy5yZXRyeURhdGU7XG4gICAgICAgIC8vIGlmIGN1cnJlbnQgdGltZSBpcyBndCB0aGFuIHJldHJ5RGF0ZSwgb3IgaWYgbWVkaWEgc2Vla2luZyBsZXQncyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgIGlmICghcmV0cnlEYXRlIHx8IG5vdyA+PSByZXRyeURhdGUgfHwgdGhpcy5tZWRpYSAmJiB0aGlzLm1lZGlhLnNlZWtpbmcpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhQ29udHJvbGxlcjogcmV0cnlEYXRlIHJlYWNoZWQsIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUnKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGUuRVJST1I6XG4gICAgICBjYXNlIFN0YXRlLlNUT1BQRUQ6XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgIGNhc2UgU3RhdGUuUEFSU0lORzpcbiAgICAgIGNhc2UgU3RhdGUuUEFSU0VEOlxuICAgICAgY2FzZSBTdGF0ZS5FTkRFRDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gY2hlY2sgYnVmZmVyXG4gICAgdGhpcy5fY2hlY2tCdWZmZXIoKTtcbiAgICAvLyBjaGVjay91cGRhdGUgY3VycmVudCBmcmFnbWVudFxuICAgIHRoaXMuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkKCk7XG4gIH07XG5cbiAgLy8gSXJvbmljYWxseSB0aGUgXCJpZGxlXCIgc3RhdGUgaXMgdGhlIG9uIHdlIGRvIHRoZSBtb3N0IGxvZ2ljIGluIGl0IHNlZW1zIC4uLi5cbiAgLy8gTk9URTogTWF5YmUgd2UgY291bGQgcmF0aGVyIHNjaGVkdWxlIGEgY2hlY2sgZm9yIGJ1ZmZlciBsZW5ndGggYWZ0ZXIgaGFsZiBvZiB0aGUgY3VycmVudGx5XG4gIC8vICAgICAgIHBsYXllZCBzZWdtZW50LCBvciBvbiBwYXVzZS9wbGF5L3NlZWsgaW5zdGVhZCBvZiBuYWl2ZWx5IGNoZWNraW5nIGV2ZXJ5IDEwMG1zP1xuXG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2RvVGlja0lkbGUgPSBmdW5jdGlvbiBfZG9UaWNrSWRsZSgpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIGNvbmZpZyA9IGhscy5jb25maWcsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIC8vIGlmIHN0YXJ0IGxldmVsIG5vdCBwYXJzZWQgeWV0IE9SXG4gICAgLy8gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORCBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAvLyBleGl0IGxvb3AsIGFzIHdlIGVpdGhlciBuZWVkIG1vcmUgaW5mbyAobGV2ZWwgbm90IHBhcnNlZCkgb3Igd2UgbmVlZCBtZWRpYSB0byBiZSBhdHRhY2hlZCB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgIGlmICh0aGlzLmxldmVsTGFzdExvYWRlZCA9PT0gdW5kZWZpbmVkIHx8ICFtZWRpYSAmJiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgfHwgIWNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIG5vdCB5ZXQgbG9hZGVkIGFueSBmcmFnbWVudCwgc3RhcnQgbG9hZGluZyBmcm9tIHN0YXJ0IHBvc2l0aW9uXG4gICAgdmFyIHBvcyA9IHZvaWQgMDtcbiAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgcG9zID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcyA9IHRoaXMubmV4dExvYWRQb3NpdGlvbjtcbiAgICB9XG4gICAgLy8gZGV0ZXJtaW5lIG5leHQgbG9hZCBsZXZlbFxuICAgIHZhciBsZXZlbCA9IGhscy5uZXh0TG9hZExldmVsLFxuICAgICAgICBsZXZlbEluZm8gPSB0aGlzLmxldmVsc1tsZXZlbF07XG5cbiAgICBpZiAoIWxldmVsSW5mbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsZXZlbEJpdHJhdGUgPSBsZXZlbEluZm8uYml0cmF0ZSxcbiAgICAgICAgbWF4QnVmTGVuID0gdm9pZCAwO1xuXG4gICAgLy8gY29tcHV0ZSBtYXggQnVmZmVyIExlbmd0aCB0aGF0IHdlIGNvdWxkIGdldCBmcm9tIHRoaXMgbG9hZCBsZXZlbCwgYmFzZWQgb24gbGV2ZWwgYml0cmF0ZS4gZG9uJ3QgYnVmZmVyIG1vcmUgdGhhbiA2MCBNQiBhbmQgbW9yZSB0aGFuIDMwc1xuICAgIGlmIChsZXZlbEJpdHJhdGUpIHtcbiAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWF4KDggKiBjb25maWcubWF4QnVmZmVyU2l6ZSAvIGxldmVsQml0cmF0ZSwgY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1heEJ1ZkxlbiA9IGNvbmZpZy5tYXhCdWZmZXJMZW5ndGg7XG4gICAgfVxuICAgIG1heEJ1ZkxlbiA9IE1hdGgubWluKG1heEJ1ZkxlbiwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCk7XG5cbiAgICAvLyBkZXRlcm1pbmUgbmV4dCBjYW5kaWRhdGUgZnJhZ21lbnQgdG8gYmUgbG9hZGVkLCBiYXNlZCBvbiBjdXJyZW50IHBvc2l0aW9uIGFuZCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgLy8gZW5zdXJlIHVwIHRvIGBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoYCBvZiBidWZmZXIgdXBmcm9udFxuXG4gICAgdmFyIGJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyLmJ1ZmZlckluZm8odGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYSwgcG9zLCBjb25maWcubWF4QnVmZmVySG9sZSksXG4gICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuO1xuICAgIC8vIFN0YXkgaWRsZSBpZiB3ZSBhcmUgc3RpbGwgd2l0aCBidWZmZXIgbWFyZ2luc1xuICAgIGlmIChidWZmZXJMZW4gPj0gbWF4QnVmTGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgYnVmZmVyIGxlbmd0aCBpcyBsZXNzIHRoYW4gbWF4QnVmTGVuIHRyeSB0byBsb2FkIGEgbmV3IGZyYWdtZW50IC4uLlxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdidWZmZXIgbGVuZ3RoIG9mICcgKyBidWZmZXJMZW4udG9GaXhlZCgzKSArICcgaXMgYmVsb3cgbWF4IG9mICcgKyBtYXhCdWZMZW4udG9GaXhlZCgzKSArICcuIGNoZWNraW5nIGZvciBtb3JlIHBheWxvYWQgLi4uJyk7XG5cbiAgICAvLyBzZXQgbmV4dCBsb2FkIGxldmVsIDogdGhpcyB3aWxsIHRyaWdnZXIgYSBwbGF5bGlzdCBsb2FkIGlmIG5lZWRlZFxuICAgIHRoaXMubGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuXG4gICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsSW5mby5kZXRhaWxzO1xuICAgIC8vIGlmIGxldmVsIGluZm8gbm90IHJldHJpZXZlZCB5ZXQsIHN3aXRjaCBzdGF0ZSBhbmQgd2FpdCBmb3IgbGV2ZWwgcmV0cmlldmFsXG4gICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCwgZW5zdXJlIHRoYXQgbmV3IHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCB0byBhdm9pZCBsb2FkaW5nL3RyeSB0byBsb2FkXG4gICAgLy8gYSB1c2VsZXNzIGFuZCBvdXRkYXRlZCBmcmFnbWVudCAodGhhdCBtaWdodCBldmVuIGludHJvZHVjZSBsb2FkIGVycm9yIGlmIGl0IGlzIGFscmVhZHkgb3V0IG9mIHRoZSBsaXZlIHBsYXlsaXN0KVxuICAgIGlmICh0eXBlb2YgbGV2ZWxEZXRhaWxzID09PSAndW5kZWZpbmVkJyB8fCBsZXZlbERldGFpbHMubGl2ZSAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbGV2ZWwpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0xFVkVMO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHdlIGp1c3QgZ290IGRvbmUgbG9hZGluZyB0aGUgZmluYWwgZnJhZ21lbnQgYW5kIHRoZXJlIGlzIG5vIG90aGVyIGJ1ZmZlcmVkIHJhbmdlIGFmdGVyIC4uLlxuICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGluIGNhc2UgdGhlcmUgYXJlIGFueSBidWZmZXJlZCByYW5nZXMgYWZ0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlcmUgYXJlIHVuYnVmZmVyZWQgcG9ydGlvbiBpbiBiZXR3ZWVuXG4gICAgLy8gc28gd2Ugc2hvdWxkIG5vdCBzd2l0Y2ggdG8gRU5ERUQgaW4gdGhhdCBjYXNlLCB0byBiZSBhYmxlIHRvIGJ1ZmZlciB0aGVtXG4gICAgLy8gZG9udCBzd2l0Y2ggdG8gRU5ERUQgaWYgd2UgbmVlZCB0byBiYWNrdHJhY2sgbGFzdCBmcmFnbWVudFxuICAgIHZhciBmcmFnUHJldmlvdXMgPSB0aGlzLmZyYWdQcmV2aW91cztcbiAgICBpZiAoIWxldmVsRGV0YWlscy5saXZlICYmIGZyYWdQcmV2aW91cyAmJiAhZnJhZ1ByZXZpb3VzLmJhY2t0cmFja2VkICYmIGZyYWdQcmV2aW91cy5zbiA9PT0gbGV2ZWxEZXRhaWxzLmVuZFNOICYmICFidWZmZXJJbmZvLm5leHRTdGFydCkge1xuICAgICAgLy8gZnJhZ1ByZXZpb3VzIGlzIGxhc3QgZnJhZ21lbnQuIHJldHJpZXZlIGxldmVsIGR1cmF0aW9uIHVzaW5nIGxhc3QgZnJhZyBzdGFydCBvZmZzZXQgKyBkdXJhdGlvblxuICAgICAgLy8gcmVhbCBkdXJhdGlvbiBtaWdodCBiZSBsb3dlciB0aGFuIGluaXRpYWwgZHVyYXRpb24gaWYgdGhlcmUgYXJlIGRyaWZ0cyBiZXR3ZWVuIHJlYWwgZnJhZyBkdXJhdGlvbiBhbmQgcGxheWxpc3Qgc2lnbmFsaW5nXG4gICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLm1pbihtZWRpYS5kdXJhdGlvbiwgZnJhZ1ByZXZpb3VzLnN0YXJ0ICsgZnJhZ1ByZXZpb3VzLmR1cmF0aW9uKTtcbiAgICAgIC8vIGlmIGV2ZXJ5dGhpbmcgKGFsbW9zdCkgdGlsIHRoZSBlbmQgaXMgYnVmZmVyZWQsIGxldCdzIHNpZ25hbCBlb3NcbiAgICAgIC8vIHdlIGRvbid0IGNvbXBhcmUgZXhhY3RseSBtZWRpYS5kdXJhdGlvbiA9PT0gYnVmZmVySW5mby5lbmQgYXMgdGhlcmUgY291bGQgYmUgc29tZSBzdWJ0bGUgbWVkaWEgZHVyYXRpb24gZGlmZmVyZW5jZSAoYXVkaW8vdmlkZW8gb2Zmc2V0cy4uLilcbiAgICAgIC8vIHRvbGVyYXRlIHVwIHRvIG9uZSBmcmFnIGR1cmF0aW9uIHRvIGNvcGUgd2l0aCB0aGVzZSBjYXNlcy5cbiAgICAgIC8vIGFsc28gY29wZSB3aXRoIGFsbW9zdCB6ZXJvIGxhc3QgZnJhZyBkdXJhdGlvbiAobWF4IGxhc3QgZnJhZyBkdXJhdGlvbiB3aXRoIDIwMG1zKSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzY1N1xuICAgICAgaWYgKGR1cmF0aW9uIC0gTWF0aC5tYXgoYnVmZmVySW5mby5lbmQsIGZyYWdQcmV2aW91cy5zdGFydCkgPD0gTWF0aC5tYXgoMC4yLCBmcmFnUHJldmlvdXMuZHVyYXRpb24pKSB7XG4gICAgICAgIC8vIEZpbmFsaXplIHRoZSBtZWRpYSBzdHJlYW1cbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgICAgICBkYXRhLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9FT1MsIGRhdGEpO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRU5ERUQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIHRoZSBsZXZlbERldGFpbHMgZm9yIHRoZSBzZWxlY3RlZCB2YXJpYW50LCBsZXRzIGNvbnRpbnVlIGVucmljaGVuIG91ciBzdHJlYW0gKGxvYWQga2V5cy9mcmFnbWVudHMgb3IgdHJpZ2dlciBFT1MsIGV0Yy4uKVxuICAgIHRoaXMuX2ZldGNoUGF5bG9hZE9yRW9zKHBvcywgYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fZmV0Y2hQYXlsb2FkT3JFb3MgPSBmdW5jdGlvbiBfZmV0Y2hQYXlsb2FkT3JFb3MocG9zLCBidWZmZXJJbmZvLCBsZXZlbERldGFpbHMpIHtcbiAgICB2YXIgZnJhZ1ByZXZpb3VzID0gdGhpcy5mcmFnUHJldmlvdXMsXG4gICAgICAgIGxldmVsID0gdGhpcy5sZXZlbCxcbiAgICAgICAgZnJhZ21lbnRzID0gbGV2ZWxEZXRhaWxzLmZyYWdtZW50cyxcbiAgICAgICAgZnJhZ0xlbiA9IGZyYWdtZW50cy5sZW5ndGg7XG5cbiAgICAvLyBlbXB0eSBwbGF5bGlzdFxuICAgIGlmIChmcmFnTGVuID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZmluZCBmcmFnbWVudCBpbmRleCwgY29udGlndW91cyB3aXRoIGVuZCBvZiBidWZmZXIgcG9zaXRpb25cbiAgICB2YXIgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQsXG4gICAgICAgIGVuZCA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uc3RhcnQgKyBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLmR1cmF0aW9uLFxuICAgICAgICBidWZmZXJFbmQgPSBidWZmZXJJbmZvLmVuZCxcbiAgICAgICAgZnJhZyA9IHZvaWQgMDtcblxuICAgIGlmIChsZXZlbERldGFpbHMuaW5pdFNlZ21lbnQgJiYgIWxldmVsRGV0YWlscy5pbml0U2VnbWVudC5kYXRhKSB7XG4gICAgICBmcmFnID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBjYXNlIG9mIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byBlbnN1cmUgdGhhdCByZXF1ZXN0ZWQgcG9zaXRpb24gaXMgbm90IGxvY2F0ZWQgYmVmb3JlIHBsYXlsaXN0IHN0YXJ0XG4gICAgICBpZiAobGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgdmFyIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplID0gdGhpcy5jb25maWcuaW5pdGlhbExpdmVNYW5pZmVzdFNpemU7XG4gICAgICAgIGlmIChmcmFnTGVuIDwgaW5pdGlhbExpdmVNYW5pZmVzdFNpemUpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdDYW4gbm90IHN0YXJ0IHBsYXliYWNrIG9mIGEgbGV2ZWwsIHJlYXNvbjogbm90IGVub3VnaCBmcmFnbWVudHMgJyArIGZyYWdMZW4gKyAnIDwgJyArIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnID0gdGhpcy5fZW5zdXJlRnJhZ21lbnRBdExpdmVQb2ludChsZXZlbERldGFpbHMsIGJ1ZmZlckVuZCwgc3RhcnQsIGVuZCwgZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGZyYWdMZW4pO1xuICAgICAgICAvLyBpZiBpdCBleHBsaWNpdGVseSByZXR1cm5zIG51bGwgZG9uJ3QgbG9hZCBhbnkgZnJhZ21lbnQgYW5kIGV4aXQgZnVuY3Rpb24gbm93XG4gICAgICAgIGlmIChmcmFnID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBWb0QgcGxheWxpc3Q6IGlmIGJ1ZmZlckVuZCBiZWZvcmUgc3RhcnQgb2YgcGxheWxpc3QsIGxvYWQgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgaWYgKGJ1ZmZlckVuZCA8IHN0YXJ0KSB7XG4gICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZyYWcpIHtcbiAgICAgIGZyYWcgPSB0aGlzLl9maW5kRnJhZ21lbnQoc3RhcnQsIGZyYWdQcmV2aW91cywgZnJhZ0xlbiwgZnJhZ21lbnRzLCBidWZmZXJFbmQsIGVuZCwgbGV2ZWxEZXRhaWxzKTtcbiAgICB9XG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIHRoaXMuX2xvYWRGcmFnbWVudE9yS2V5KGZyYWcsIGxldmVsLCBsZXZlbERldGFpbHMsIHBvcywgYnVmZmVyRW5kKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50ID0gZnVuY3Rpb24gX2Vuc3VyZUZyYWdtZW50QXRMaXZlUG9pbnQobGV2ZWxEZXRhaWxzLCBidWZmZXJFbmQsIHN0YXJ0LCBlbmQsIGZyYWdQcmV2aW91cywgZnJhZ21lbnRzLCBmcmFnTGVuKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZyxcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuXG4gICAgdmFyIGZyYWcgPSB2b2lkIDA7XG5cbiAgICAvLyBjaGVjayBpZiByZXF1ZXN0ZWQgcG9zaXRpb24gaXMgd2l0aGluIHNlZWthYmxlIGJvdW5kYXJpZXMgOlxuICAgIC8vbG9nZ2VyLmxvZyhgc3RhcnQvcG9zL2J1ZkVuZC9zZWVraW5nOiR7c3RhcnQudG9GaXhlZCgzKX0vJHtwb3MudG9GaXhlZCgzKX0vJHtidWZmZXJFbmQudG9GaXhlZCgzKX0vJHt0aGlzLm1lZGlhLnNlZWtpbmd9YCk7XG4gICAgdmFyIG1heExhdGVuY3kgPSBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gOiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuXG4gICAgaWYgKGJ1ZmZlckVuZCA8IE1hdGgubWF4KHN0YXJ0IC0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGVuZCAtIG1heExhdGVuY3kpKSB7XG4gICAgICB2YXIgbGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzdGFydCwgbGV2ZWxEZXRhaWxzKTtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYnVmZmVyIGVuZDogJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpICsgJyBpcyBsb2NhdGVkIHRvbyBmYXIgZnJvbSB0aGUgZW5kIG9mIGxpdmUgc2xpZGluZyBwbGF5bGlzdCwgcmVzZXQgY3VycmVudFRpbWUgdG8gOiAnICsgbGl2ZVN5bmNQb3NpdGlvbi50b0ZpeGVkKDMpKTtcbiAgICAgIGJ1ZmZlckVuZCA9IGxpdmVTeW5jUG9zaXRpb247XG4gICAgICBpZiAobWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSAmJiBtZWRpYS5kdXJhdGlvbiA+IGxpdmVTeW5jUG9zaXRpb24pIHtcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBpZiBlbmQgb2YgYnVmZmVyIGdyZWF0ZXIgdGhhbiBsaXZlIGVkZ2UsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50XG4gICAgLy8gdGhpcyBjb3VsZCBoYXBwZW4gaWYgbGl2ZSBwbGF5bGlzdCBpbnRlcm1pdHRlbnRseSBzbGlkZXMgaW4gdGhlIHBhc3QuXG4gICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MSwxODI1ODAxNjddXG4gICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjldXG4gICAgLy8gTG9hZGluZyAxODI1ODAxNjggb2YgWzE4MjU4MDE2MiAsMTgyNTgwMTY5XSxsZXZlbCAxIC4uXG4gICAgLy8gTG9hZGluZyAxODI1ODAxNjkgb2YgWzE4MjU4MDE2MiAsMTgyNTgwMTY5XSxsZXZlbCAxIC4uXG4gICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjhdIDw9PT09PT09PT09PT09IGhlcmUgd2Ugc2hvdWxkIGhhdmUgYnVmZmVyRW5kID4gZW5kLiBpbiB0aGF0IGNhc2UgYnJlYWsgdG8gYXZvaWQgcmVsb2FkaW5nIDE4MjU4MDE2OFxuICAgIC8vIGxldmVsIDEgbG9hZGVkIFsxODI1ODAxNjQsMTgyNTgwMTcxXVxuICAgIC8vXG4gICAgLy8gZG9uJ3QgcmV0dXJuIG51bGwgaW4gY2FzZSBtZWRpYSBub3QgbG9hZGVkIHlldCAocmVhZHlzdGF0ZSA9PT0gMClcbiAgICBpZiAobGV2ZWxEZXRhaWxzLlBUU0tub3duICYmIGJ1ZmZlckVuZCA+IGVuZCAmJiBtZWRpYSAmJiBtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgJiYgIWxldmVsRGV0YWlscy5QVFNLbm93bikge1xuICAgICAgLyogd2UgYXJlIHN3aXRjaGluZyBsZXZlbCBvbiBsaXZlIHBsYXlsaXN0LCBidXQgd2UgZG9uJ3QgaGF2ZSBhbnkgUFRTIGluZm8gZm9yIHRoYXQgcXVhbGl0eSBsZXZlbCAuLi5cbiAgICAgICAgIHRyeSB0byBsb2FkIGZyYWcgbWF0Y2hpbmcgd2l0aCBuZXh0IFNOLlxuICAgICAgICAgZXZlbiBpZiBTTiBhcmUgbm90IHN5bmNocm9uaXplZCBiZXR3ZWVuIHBsYXlsaXN0cywgbG9hZGluZyB0aGlzIGZyYWcgd2lsbCBoZWxwIHVzXG4gICAgICAgICBjb21wdXRlIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGZpbmQgdGhlIHJpZ2h0IG9uZSBhZnRlciBpbiBjYXNlIGl0IHdhcyBub3QgdGhlIHJpZ2h0IGNvbnNlY3V0aXZlIG9uZSAqL1xuICAgICAgaWYgKGZyYWdQcmV2aW91cykge1xuICAgICAgICB2YXIgdGFyZ2V0U04gPSBmcmFnUHJldmlvdXMuc24gKyAxO1xuICAgICAgICBpZiAodGFyZ2V0U04gPj0gbGV2ZWxEZXRhaWxzLnN0YXJ0U04gJiYgdGFyZ2V0U04gPD0gbGV2ZWxEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ21lbnRzW3RhcmdldFNOIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgIGlmIChmcmFnUHJldmlvdXMuY2MgPT09IGZyYWdOZXh0LmNjKSB7XG4gICAgICAgICAgICBmcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggbmV4dCBTTjogJyArIGZyYWcuc24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGZyYWcgU04gbm90IGF2YWlsYWJsZSAob3Igbm90IHdpdGggc2FtZSBjb250aW51aXR5IGNvdW50ZXIpXG4gICAgICAgIC8vIGxvb2sgZm9yIGEgZnJhZyBzaGFyaW5nIHRoZSBzYW1lIENDXG4gICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgIGZyYWcgPSBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJhZ1ByZXZpb3VzLmNjIC0gZnJhZy5jYztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIHNhbWUgQ0M6ICcgKyBmcmFnLnNuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZnJhZykge1xuICAgICAgICAvKiB3ZSBoYXZlIG5vIGlkZWEgYWJvdXQgd2hpY2ggZnJhZ21lbnQgc2hvdWxkIGJlIGxvYWRlZC5cbiAgICAgICAgICAgc28gbGV0J3MgbG9hZCBtaWQgZnJhZ21lbnQuIGl0IHdpbGwgaGVscCBjb21wdXRpbmcgcGxheWxpc3Qgc2xpZGluZyBhbmQgZmluZCB0aGUgcmlnaHQgb25lXG4gICAgICAgICovXG4gICAgICAgIGZyYWcgPSBmcmFnbWVudHNbTWF0aC5taW4oZnJhZ0xlbiAtIDEsIE1hdGgucm91bmQoZnJhZ0xlbiAvIDIpKV07XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCB1bmtub3duLCBsb2FkIG1pZGRsZSBmcmFnIDogJyArIGZyYWcuc24pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZztcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fZmluZEZyYWdtZW50ID0gZnVuY3Rpb24gX2ZpbmRGcmFnbWVudChzdGFydCwgZnJhZ1ByZXZpb3VzLCBmcmFnTGVuLCBmcmFnbWVudHMsIGJ1ZmZlckVuZCwgZW5kLCBsZXZlbERldGFpbHMpIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIHZhciBmcmFnID0gdm9pZCAwO1xuICAgIHZhciBmb3VuZEZyYWcgPSB2b2lkIDA7XG4gICAgdmFyIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTtcbiAgICB2YXIgZnJhZ05leHQgPSBmcmFnUHJldmlvdXMgPyBmcmFnbWVudHNbZnJhZ1ByZXZpb3VzLnNuIC0gZnJhZ21lbnRzWzBdLnNuICsgMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCA9IGZ1bmN0aW9uIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChjYW5kaWRhdGUpIHtcbiAgICAgIC8vIG9mZnNldCBzaG91bGQgYmUgd2l0aGluIGZyYWdtZW50IGJvdW5kYXJ5IC0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2VcbiAgICAgIC8vIHRoaXMgaXMgdG8gY29wZSB3aXRoIHNpdHVhdGlvbnMgbGlrZVxuICAgICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAgIC8vIGZyYWdbw5hdIDogWzAsMTBdXG4gICAgICAvLyBmcmFnWzFdIDogWzEwLDIwXVxuICAgICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgICAgLy8gICAgICAgICAgICAgIGZyYWcgc3RhcnQgICAgICAgICAgICAgICBmcmFnIHN0YXJ0K2R1cmF0aW9uXG4gICAgICAvLyAgICAgICAgICAgICAgICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAgICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgICAgLy8gIC4uLi0tLS0tLS0tPjwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT48LS0tLS0tLS0tLi4uLlxuICAgICAgLy8gcHJldmlvdXMgZnJhZyAgICAgICAgIG1hdGNoaW5nIGZyYWdtZW50ICAgICAgICAgbmV4dCBmcmFnXG4gICAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgLy9sb2dnZXIubG9nKGBsZXZlbC9zbi9zdGFydC9lbmQvYnVmRW5kOiR7bGV2ZWx9LyR7Y2FuZGlkYXRlLnNufS8ke2NhbmRpZGF0ZS5zdGFydH0vJHsoY2FuZGlkYXRlLnN0YXJ0K2NhbmRpZGF0ZS5kdXJhdGlvbil9LyR7YnVmZmVyRW5kfWApO1xuICAgICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICAgIHZhciBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPSBNYXRoLm1pbihtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUuZHVyYXRpb24gKyAoY2FuZGlkYXRlLmRlbHRhUFRTID8gY2FuZGlkYXRlLmRlbHRhUFRTIDogMCkpO1xuICAgICAgaWYgKGNhbmRpZGF0ZS5zdGFydCArIGNhbmRpZGF0ZS5kdXJhdGlvbiAtIGNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSA8PSBidWZmZXJFbmQpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICBlbHNlIGlmIChjYW5kaWRhdGUuc3RhcnQgLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPiBidWZmZXJFbmQgJiYgY2FuZGlkYXRlLnN0YXJ0KSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgaWYgKGJ1ZmZlckVuZCA8IGVuZCkge1xuICAgICAgaWYgKGJ1ZmZlckVuZCA+IGVuZCAtIG1heEZyYWdMb29rVXBUb2xlcmFuY2UpIHtcbiAgICAgICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDA7XG4gICAgICB9XG4gICAgICAvLyBQcmVmZXIgdGhlIG5leHQgZnJhZ21lbnQgaWYgaXQncyB3aXRoaW4gdG9sZXJhbmNlXG4gICAgICBpZiAoZnJhZ05leHQgJiYgIWZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChmcmFnTmV4dCkpIHtcbiAgICAgICAgZm91bmRGcmFnID0gZnJhZ05leHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3VuZEZyYWcgPSBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgZm91bmRGcmFnID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXTtcbiAgICB9XG4gICAgaWYgKGZvdW5kRnJhZykge1xuICAgICAgZnJhZyA9IGZvdW5kRnJhZztcbiAgICAgIHZhciBjdXJTTklkeCA9IGZyYWcuc24gLSBsZXZlbERldGFpbHMuc3RhcnRTTjtcbiAgICAgIHZhciBzYW1lTGV2ZWwgPSBmcmFnUHJldmlvdXMgJiYgZnJhZy5sZXZlbCA9PT0gZnJhZ1ByZXZpb3VzLmxldmVsO1xuICAgICAgdmFyIHByZXZGcmFnID0gZnJhZ21lbnRzW2N1clNOSWR4IC0gMV07XG4gICAgICB2YXIgbmV4dEZyYWcgPSBmcmFnbWVudHNbY3VyU05JZHggKyAxXTtcbiAgICAgIC8vbG9nZ2VyLmxvZygnZmluZCBTTiBtYXRjaGluZyB3aXRoIHBvczonICsgIGJ1ZmZlckVuZCArICc6JyArIGZyYWcuc24pO1xuICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLnNuID09PSBmcmFnUHJldmlvdXMuc24pIHtcbiAgICAgICAgaWYgKHNhbWVMZXZlbCAmJiAhZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgIGlmIChmcmFnLnNuIDwgbGV2ZWxEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGFQVFMgPSBmcmFnUHJldmlvdXMuZGVsdGFQVFM7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHNpZ25pZmljYW50IGRlbHRhIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvLCBsYXJnZXIgdGhhbiBtYXggYWxsb3dlZCBob2xlLFxuICAgICAgICAgICAgLy8gYW5kIGlmIHByZXZpb3VzIHJlbXV4ZWQgZnJhZ21lbnQgZGlkIG5vdCBzdGFydCB3aXRoIGEga2V5ZnJhbWUuIChmcmFnUHJldmlvdXMuZHJvcHBlZClcbiAgICAgICAgICAgIC8vIGxldCdzIHRyeSB0byBsb2FkIHByZXZpb3VzIGZyYWdtZW50IGFnYWluIHRvIGdldCBsYXN0IGtleWZyYW1lXG4gICAgICAgICAgICAvLyB0aGVuIHdlIHdpbGwgcmVsb2FkIGFnYWluIGN1cnJlbnQgZnJhZ21lbnQgKHRoYXQgd2F5IHdlIHNob3VsZCBiZSBhYmxlIHRvIGZpbGwgdGhlIGJ1ZmZlciBob2xlIC4uLilcbiAgICAgICAgICAgIGlmIChkZWx0YVBUUyAmJiBkZWx0YVBUUyA+IGNvbmZpZy5tYXhCdWZmZXJIb2xlICYmIGZyYWdQcmV2aW91cy5kcm9wcGVkICYmIGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignU04ganVzdCBsb2FkZWQsIHdpdGggbGFyZ2UgUFRTIGdhcCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbWF5YmUgZnJhZyBpcyBub3Qgc3RhcnRpbmcgd2l0aCBhIGtleWZyYW1lID8gbG9hZCBwcmV2aW91cyBvbmUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXMnKTtcbiAgICAgICAgICAgICAgLy8gZGVjcmVtZW50IHByZXZpb3VzIGZyYWcgbG9hZCBjb3VudGVyIHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIHdoZW4gbmV4dCBmcmFnbWVudCB3aWxsIGdldCByZWxvYWRlZFxuICAgICAgICAgICAgICBmcmFnUHJldmlvdXMubG9hZENvdW50ZXItLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdTTiBqdXN0IGxvYWRlZCwgbG9hZCBuZXh0IG9uZTogJyArIGZyYWcuc24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgIC8vIE9ubHkgYmFja3RyYWNrIGEgbWF4IG9mIDEgY29uc2VjdXRpdmUgZnJhZ21lbnQgdG8gcHJldmVudCBzbGlkaW5nIGJhY2sgdG9vIGZhciB3aGVuIGxpdHRsZSBvciBubyBmcmFncyBzdGFydCB3aXRoIGtleWZyYW1lc1xuICAgICAgICAgIGlmIChuZXh0RnJhZyAmJiBuZXh0RnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQWxyZWFkeSBiYWNrdHJhY2tlZCBmcm9tIGZyYWdtZW50ICcgKyBuZXh0RnJhZy5zbiArICcsIHdpbGwgbm90IGJhY2t0cmFjayB0byBmcmFnbWVudCAnICsgZnJhZy5zbiArICcuIExvYWRpbmcgZnJhZ21lbnQgJyArIG5leHRGcmFnLnNuKTtcbiAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgYSBmcmFnbWVudCBoYXMgZHJvcHBlZCBmcmFtZXMgYW5kIGl0J3MgaW4gYSBzYW1lIGxldmVsL3NlcXVlbmNlLCBsb2FkIHRoZSBwcmV2aW91cyBmcmFnbWVudCB0byB0cnkgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgZHJvcHBlZCBjb3VudCBub3cgc2luY2UgaXQgd29uJ3QgYmUgcmVzZXQgdW50aWwgd2UgcGFyc2UgdGhlIGZyYWdtZW50IGFnYWluLCB3aGljaCBwcmV2ZW50cyBpbmZpbml0ZSBiYWNrdHJhY2tpbmcgb24gdGhlIHNhbWUgc2VnbWVudFxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignTG9hZGVkIGZyYWdtZW50IHdpdGggZHJvcHBlZCBmcmFtZXMsIGJhY2t0cmFja2luZyAxIHNlZ21lbnQgdG8gZmluZCBhIGtleWZyYW1lJyk7XG4gICAgICAgICAgICBmcmFnLmRyb3BwZWQgPSAwO1xuICAgICAgICAgICAgaWYgKHByZXZGcmFnKSB7XG4gICAgICAgICAgICAgIGlmIChwcmV2RnJhZy5sb2FkQ291bnRlcikge1xuICAgICAgICAgICAgICAgIHByZXZGcmFnLmxvYWRDb3VudGVyLS07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhZyA9IHByZXZGcmFnO1xuICAgICAgICAgICAgICBmcmFnLmJhY2t0cmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyU05JZHgpIHtcbiAgICAgICAgICAgICAgLy8gY2FuJ3QgYmFja3RyYWNrIG9uIHZlcnkgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgICAgICAgZnJhZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmcmFnO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9sb2FkRnJhZ21lbnRPcktleSA9IGZ1bmN0aW9uIF9sb2FkRnJhZ21lbnRPcktleShmcmFnLCBsZXZlbCwgbGV2ZWxEZXRhaWxzLCBwb3MsIGJ1ZmZlckVuZCkge1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgY29uZmlnID0gaGxzLmNvbmZpZztcblxuICAgIC8vbG9nZ2VyLmxvZygnbG9hZGluZyBmcmFnICcgKyBpICsnLHBvcy9idWZFbmQ6JyArIHBvcy50b0ZpeGVkKDMpICsgJy8nICsgYnVmZmVyRW5kLnRvRml4ZWQoMykpO1xuICAgIGlmIChmcmFnLmRlY3J5cHRkYXRhICYmIGZyYWcuZGVjcnlwdGRhdGEudXJpICE9IG51bGwgJiYgZnJhZy5kZWNyeXB0ZGF0YS5rZXkgPT0gbnVsbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkaW5nIGtleSBmb3IgJyArIGZyYWcuc24gKyAnIG9mIFsnICsgbGV2ZWxEZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgbGV2ZWxEZXRhaWxzLmVuZFNOICsgJ10sbGV2ZWwgJyArIGxldmVsKTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5LRVlfTE9BRElORztcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BRElORywgeyBmcmFnOiBmcmFnIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0xvYWRpbmcgJyArIGZyYWcuc24gKyAnIG9mIFsnICsgbGV2ZWxEZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgbGV2ZWxEZXRhaWxzLmVuZFNOICsgJ10sbGV2ZWwgJyArIGxldmVsICsgJywgY3VycmVudFRpbWU6JyArIHBvcy50b0ZpeGVkKDMpICsgJyxidWZmZXJFbmQ6JyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgIC8vIGVuc3VyZSB0aGF0IHdlIGFyZSBub3QgcmVsb2FkaW5nIHRoZSBzYW1lIGZyYWdtZW50cyBpbiBsb29wIC4uLlxuICAgICAgaWYgKHRoaXMuZnJhZ0xvYWRJZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmZyYWdMb2FkSWR4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYWdMb2FkSWR4ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChmcmFnLmxvYWRDb3VudGVyKSB7XG4gICAgICAgIGZyYWcubG9hZENvdW50ZXIrKztcbiAgICAgICAgdmFyIG1heFRocmVzaG9sZCA9IGNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgICAgIC8vIGlmIHRoaXMgZnJhZyBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZCAzIHRpbWVzLCBhbmQgaWYgaXQgaGFzIGJlZW4gcmVsb2FkZWQgcmVjZW50bHlcbiAgICAgICAgaWYgKGZyYWcubG9hZENvdW50ZXIgPiBtYXhUaHJlc2hvbGQgJiYgTWF0aC5hYnModGhpcy5mcmFnTG9hZElkeCAtIGZyYWcubG9hZElkeCkgPCBtYXhUaHJlc2hvbGQpIHtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPT1BfTE9BRElOR19FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhZy5sb2FkQ291bnRlciA9IDE7XG4gICAgICB9XG4gICAgICBmcmFnLmxvYWRJZHggPSB0aGlzLmZyYWdMb2FkSWR4O1xuICAgICAgZnJhZy5hdXRvTGV2ZWwgPSBobHMuYXV0b0xldmVsRW5hYmxlZDtcbiAgICAgIGZyYWcuYml0cmF0ZVRlc3QgPSB0aGlzLmJpdHJhdGVUZXN0O1xuXG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gZnJhZztcbiAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgIC8vIERvbid0IHVwZGF0ZSBuZXh0TG9hZFBvc2l0aW9uIGZvciBmcmFnbWVudHMgd2hpY2ggYXJlIG5vdCBidWZmZXJlZFxuICAgICAgaWYgKCFpc05hTihmcmFnLnNuKSAmJiAhZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgIH1cbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgIC8vIGxhenkgZGVtdXhlciBpbml0LCBhcyB0aGlzIGNvdWxkIHRha2Ugc29tZSB0aW1lIC4uLiBkbyBpdCBkdXJpbmcgZnJhZyBsb2FkaW5nXG4gICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhfZGVtdXhlcihobHMsICdtYWluJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5nZXRCdWZmZXJlZEZyYWcgPSBmdW5jdGlvbiBnZXRCdWZmZXJlZEZyYWcocG9zaXRpb24pIHtcbiAgICByZXR1cm4gYmluYXJ5X3NlYXJjaC5zZWFyY2godGhpcy5fYnVmZmVyZWRGcmFncywgZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgIGlmIChwb3NpdGlvbiA8IGZyYWcuc3RhcnRQVFMpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA+IGZyYWcuZW5kUFRTKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZm9sbG93aW5nQnVmZmVyZWRGcmFnID0gZnVuY3Rpb24gZm9sbG93aW5nQnVmZmVyZWRGcmFnKGZyYWcpIHtcbiAgICBpZiAoZnJhZykge1xuICAgICAgLy8gdHJ5IHRvIGdldCByYW5nZSBvZiBuZXh0IGZyYWdtZW50ICg1MDBtcyBhZnRlciB0aGlzIHJhbmdlKVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGZyYWcuZW5kUFRTICsgMC41KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkID0gZnVuY3Rpb24gX2NoZWNrRnJhZ21lbnRDaGFuZ2VkKCkge1xuICAgIHZhciBmcmFnUGxheWluZ0N1cnJlbnQsXG4gICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICB2aWRlbyA9IHRoaXMubWVkaWE7XG4gICAgaWYgKHZpZGVvICYmIHZpZGVvLnJlYWR5U3RhdGUgJiYgdmlkZW8uc2Vla2luZyA9PT0gZmFsc2UpIHtcbiAgICAgIGN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG4gICAgICAvKiBpZiB2aWRlbyBlbGVtZW50IGlzIGluIHNlZWtlZCBzdGF0ZSwgY3VycmVudFRpbWUgY2FuIG9ubHkgaW5jcmVhc2UuXG4gICAgICAgIChhc3N1bWluZyB0aGF0IHBsYXliYWNrIHJhdGUgaXMgcG9zaXRpdmUgLi4uKVxuICAgICAgICBBcyBzb21ldGltZXMgY3VycmVudFRpbWUganVtcHMgYmFjayB0byB6ZXJvIGFmdGVyIGFcbiAgICAgICAgbWVkaWEgZGVjb2RlIGVycm9yLCBjaGVjayB0aGlzLCB0byBhdm9pZCBzZWVraW5nIGJhY2sgdG9cbiAgICAgICAgd3JvbmcgcG9zaXRpb24gYWZ0ZXIgYSBtZWRpYSBkZWNvZGUgZXJyb3JcbiAgICAgICovXG4gICAgICBpZiAoY3VycmVudFRpbWUgPiB2aWRlby5wbGF5YmFja1JhdGUgKiB0aGlzLmxhc3RDdXJyZW50VGltZSkge1xuICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgICAgaWYgKGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUpKSB7XG4gICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoYnVmZmVyX2hlbHBlci5pc0J1ZmZlcmVkKHZpZGVvLCBjdXJyZW50VGltZSArIDAuMSkpIHtcbiAgICAgICAgLyogZW5zdXJlIHRoYXQgRlJBR19DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZCBhdCBzdGFydHVwLFxuICAgICAgICAgIHdoZW4gZmlyc3QgdmlkZW8gZnJhbWUgaXMgZGlzcGxheWVkIGFuZCBwbGF5YmFjayBpcyBwYXVzZWQuXG4gICAgICAgICAgYWRkIGEgdG9sZXJhbmNlIG9mIDEwMG1zLCBpbiBjYXNlIGN1cnJlbnQgcG9zaXRpb24gaXMgbm90IGJ1ZmZlcmVkLFxuICAgICAgICAgIGNoZWNrIGlmIGN1cnJlbnQgcG9zKzEwMG1zIGlzIGJ1ZmZlcmVkIGFuZCB1c2UgdGhhdCBidWZmZXIgcmFuZ2VcbiAgICAgICAgICBmb3IgRlJBR19DSEFOR0VEIGV2ZW50IHJlcG9ydGluZyAqL1xuICAgICAgICBmcmFnUGxheWluZ0N1cnJlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkRnJhZyhjdXJyZW50VGltZSArIDAuMSk7XG4gICAgICB9XG4gICAgICBpZiAoZnJhZ1BsYXlpbmdDdXJyZW50KSB7XG4gICAgICAgIHZhciBmcmFnUGxheWluZyA9IGZyYWdQbGF5aW5nQ3VycmVudDtcbiAgICAgICAgaWYgKGZyYWdQbGF5aW5nICE9PSB0aGlzLmZyYWdQbGF5aW5nKSB7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19DSEFOR0VELCB7IGZyYWc6IGZyYWdQbGF5aW5nIH0pO1xuICAgICAgICAgIHZhciBmcmFnUGxheWluZ0xldmVsID0gZnJhZ1BsYXlpbmcubGV2ZWw7XG4gICAgICAgICAgaWYgKCF0aGlzLmZyYWdQbGF5aW5nIHx8IHRoaXMuZnJhZ1BsYXlpbmcubGV2ZWwgIT09IGZyYWdQbGF5aW5nTGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1NXSVRDSEVELCB7IGxldmVsOiBmcmFnUGxheWluZ0xldmVsIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZyYWdQbGF5aW5nID0gZnJhZ1BsYXlpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLypcbiAgICBvbiBpbW1lZGlhdGUgbGV2ZWwgc3dpdGNoIDpcbiAgICAgLSBwYXVzZSBwbGF5YmFjayBpZiBwbGF5aW5nXG4gICAgIC0gY2FuY2VsIGFueSBwZW5kaW5nIGxvYWQgcmVxdWVzdFxuICAgICAtIGFuZCB0cmlnZ2VyIGEgYnVmZmVyIGZsdXNoXG4gICovXG5cblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5pbW1lZGlhdGVMZXZlbFN3aXRjaCA9IGZ1bmN0aW9uIGltbWVkaWF0ZUxldmVsU3dpdGNoKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnaW1tZWRpYXRlTGV2ZWxTd2l0Y2gnKTtcbiAgICBpZiAoIXRoaXMuaW1tZWRpYXRlU3dpdGNoKSB7XG4gICAgICB0aGlzLmltbWVkaWF0ZVN3aXRjaCA9IHRydWU7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICAgIHByZXZpb3VzbHlQYXVzZWQgPSB2b2lkIDA7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgcHJldmlvdXNseVBhdXNlZCA9IG1lZGlhLnBhdXNlZDtcbiAgICAgICAgbWVkaWEucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvbid0IHJlc3RhcnQgcGxheWJhY2sgYWZ0ZXIgaW5zdGFudCBsZXZlbCBzd2l0Y2ggaW4gY2FzZSBtZWRpYSBub3QgYXR0YWNoZWRcbiAgICAgICAgcHJldmlvdXNseVBhdXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnByZXZpb3VzbHlQYXVzZWQgPSBwcmV2aW91c2x5UGF1c2VkO1xuICAgIH1cbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAvLyBpbmNyZWFzZSBmcmFnbWVudCBsb2FkIEluZGV4IHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIGFmdGVyIGJ1ZmZlciBmbHVzaFxuICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZnJhZ0xvYWRJZHggKz0gMiAqIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTG9vcFRocmVzaG9sZDtcbiAgICB9XG4gICAgLy8gZmx1c2ggZXZlcnl0aGluZ1xuICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gIH07XG5cbiAgLypcbiAgICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCBlbmQsIGFmdGVyIG5ldyBmcmFnbWVudCBoYXMgYmVlbiBidWZmZXJlZCA6XG4gICAgICAtIG51ZGdlIHZpZGVvIGRlY29kZXIgYnkgc2xpZ2h0bHkgYWRqdXN0aW5nIHZpZGVvIGN1cnJlbnRUaW1lIChpZiBjdXJyZW50VGltZSBidWZmZXJlZClcbiAgICAgIC0gcmVzdW1lIHRoZSBwbGF5YmFjayBpZiBuZWVkZWRcbiAgKi9cblxuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmltbWVkaWF0ZUxldmVsU3dpdGNoRW5kID0gZnVuY3Rpb24gaW1tZWRpYXRlTGV2ZWxTd2l0Y2hFbmQoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEgJiYgbWVkaWEuYnVmZmVyZWQubGVuZ3RoKSB7XG4gICAgICB0aGlzLmltbWVkaWF0ZVN3aXRjaCA9IGZhbHNlO1xuICAgICAgaWYgKGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgbWVkaWEuY3VycmVudFRpbWUpKSB7XG4gICAgICAgIC8vIG9ubHkgbnVkZ2UgaWYgY3VycmVudFRpbWUgaXMgYnVmZmVyZWRcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgLT0gMC4wMDAxO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnByZXZpb3VzbHlQYXVzZWQpIHtcbiAgICAgICAgbWVkaWEucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5uZXh0TGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiBuZXh0TGV2ZWxTd2l0Y2goKSB7XG4gICAgLyogdHJ5IHRvIHN3aXRjaCBBU0FQIHdpdGhvdXQgYnJlYWtpbmcgdmlkZW8gcGxheWJhY2sgOlxuICAgICAgIGluIG9yZGVyIHRvIGVuc3VyZSBzbW9vdGggYnV0IHF1aWNrIGxldmVsIHN3aXRjaGluZyxcbiAgICAgIHdlIG5lZWQgdG8gZmluZCB0aGUgbmV4dCBmbHVzaGFibGUgYnVmZmVyIHJhbmdlXG4gICAgICB3ZSBzaG91bGQgdGFrZSBpbnRvIGFjY291bnQgbmV3IHNlZ21lbnQgZmV0Y2ggdGltZVxuICAgICovXG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAvLyBlbnN1cmUgdGhhdCBtZWRpYSBpcyBkZWZpbmVkIGFuZCB0aGF0IG1ldGFkYXRhIGFyZSBhdmFpbGFibGUgKHRvIHJldHJpZXZlIGN1cnJlbnRUaW1lKVxuICAgIGlmIChtZWRpYSAmJiBtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICB2YXIgZmV0Y2hkZWxheSA9IHZvaWQgMCxcbiAgICAgICAgICBmcmFnUGxheWluZ0N1cnJlbnQgPSB2b2lkIDAsXG4gICAgICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHZvaWQgMDtcbiAgICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gaW5jcmVhc2UgZnJhZ21lbnQgbG9hZCBJbmRleCB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciBhZnRlciBidWZmZXIgZmx1c2hcbiAgICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdMb29wVGhyZXNob2xkO1xuICAgICAgfVxuICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCAmJiBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgPiAxKSB7XG4gICAgICAgIC8vIGZsdXNoIGJ1ZmZlciBwcmVjZWRpbmcgY3VycmVudCBmcmFnbWVudCAoZmx1c2ggdW50aWwgY3VycmVudCBmcmFnbWVudCBzdGFydCBvZmZzZXQpXG4gICAgICAgIC8vIG1pbnVzIDFzIHRvIGF2b2lkIHZpZGVvIGZyZWV6aW5nLCB0aGF0IGNvdWxkIGhhcHBlbiBpZiB3ZSBmbHVzaCBrZXlmcmFtZSBvZiBjdXJyZW50IHZpZGVvIC4uLlxuICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWVkaWEucGF1c2VkKSB7XG4gICAgICAgIC8vIGFkZCBhIHNhZmV0eSBkZWxheSBvZiAxc1xuICAgICAgICB2YXIgbmV4dExldmVsSWQgPSB0aGlzLmhscy5uZXh0TG9hZExldmVsLFxuICAgICAgICAgICAgbmV4dExldmVsID0gdGhpcy5sZXZlbHNbbmV4dExldmVsSWRdLFxuICAgICAgICAgICAgZnJhZ0xhc3RLYnBzID0gdGhpcy5mcmFnTGFzdEticHM7XG4gICAgICAgIGlmIChmcmFnTGFzdEticHMgJiYgdGhpcy5mcmFnQ3VycmVudCkge1xuICAgICAgICAgIGZldGNoZGVsYXkgPSB0aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uICogbmV4dExldmVsLmJpdHJhdGUgLyAoMTAwMCAqIGZyYWdMYXN0S2JwcykgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZldGNoZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgIH1cbiAgICAgIC8vbG9nZ2VyLmxvZygnZmV0Y2hkZWxheTonK2ZldGNoZGVsYXkpO1xuICAgICAgLy8gZmluZCBidWZmZXIgcmFuZ2UgdGhhdCB3aWxsIGJlIHJlYWNoZWQgb25jZSBuZXcgZnJhZ21lbnQgd2lsbCBiZSBmZXRjaGVkXG4gICAgICBuZXh0QnVmZmVyZWRGcmFnID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUgKyBmZXRjaGRlbGF5KTtcbiAgICAgIGlmIChuZXh0QnVmZmVyZWRGcmFnKSB7XG4gICAgICAgIC8vIHdlIGNhbiBmbHVzaCBidWZmZXIgcmFuZ2UgZm9sbG93aW5nIHRoaXMgb25lIHdpdGhvdXQgc3RhbGxpbmcgcGxheWJhY2tcbiAgICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHRoaXMuZm9sbG93aW5nQnVmZmVyZWRGcmFnKG5leHRCdWZmZXJlZEZyYWcpO1xuICAgICAgICBpZiAobmV4dEJ1ZmZlcmVkRnJhZykge1xuICAgICAgICAgIC8vIGlmIHdlIGFyZSBoZXJlLCB3ZSBjYW4gYWxzbyBjYW5jZWwgYW55IGxvYWRpbmcvZGVtdXhpbmcgaW4gcHJvZ3Jlc3MsIGFzIHRoZXkgYXJlIHVzZWxlc3NcbiAgICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgIGlmIChmcmFnQ3VycmVudCAmJiBmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAvLyBzdGFydCBmbHVzaCBwb3NpdGlvbiBpcyB0aGUgc3RhcnQgUFRTIG9mIG5leHQgYnVmZmVyZWQgZnJhZy5cbiAgICAgICAgICAvLyB3ZSB1c2UgZnJhZy5uYXhTdGFydFBUUyB3aGljaCBpcyBtYXgoYXVkaW8gc3RhcnRQVFMsIHZpZGVvIHN0YXJ0UFRTKS5cbiAgICAgICAgICAvLyBpbiBjYXNlIHRoZXJlIGlzIGEgc21hbGwgUFRTIERlbHRhIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvLCB1c2luZyBtYXhTdGFydFBUUyBhdm9pZHMgZmx1c2hpbmcgbGFzdCBzYW1wbGVzIGZyb20gY3VycmVudCBmcmFnbWVudFxuICAgICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKG5leHRCdWZmZXJlZEZyYWcubWF4U3RhcnRQVFMsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZmx1c2hNYWluQnVmZmVyID0gZnVuY3Rpb24gZmx1c2hNYWluQnVmZmVyKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuQlVGRkVSX0ZMVVNISU5HO1xuICAgIHZhciBmbHVzaFNjb3BlID0geyBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsIGVuZE9mZnNldDogZW5kT2Zmc2V0IH07XG4gICAgLy8gaWYgYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrcyBhcmUgdXNlZCwgb25seSBmbHVzaCB2aWRlbywgb3RoZXJ3aXNlIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICBpZiAodGhpcy5hbHRBdWRpbykge1xuICAgICAgZmx1c2hTY29wZS50eXBlID0gJ3ZpZGVvJztcbiAgICB9XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNISU5HLCBmbHVzaFNjb3BlKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoZWQoZGF0YSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gZGF0YS5tZWRpYTtcbiAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbnZzZWVrZWQgPSB0aGlzLm9uTWVkaWFTZWVrZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9udmVuZGVkID0gdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCB0aGlzLm9udnNlZWtlZCk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKHRoaXMubGV2ZWxzICYmIGNvbmZpZy5hdXRvU3RhcnRMb2FkKSB7XG4gICAgICB0aGlzLmhscy5zdGFydExvYWQoY29uZmlnLnN0YXJ0UG9zaXRpb24pO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSAmJiBtZWRpYS5lbmRlZCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdNU0UgZGV0YWNoaW5nIGFuZCB2aWRlbyBlbmRlZCwgcmVzZXQgc3RhcnRQb3NpdGlvbicpO1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWUgPSAwO1xuICAgIH1cblxuICAgIC8vIHJlc2V0IGZyYWdtZW50IGxvYWRpbmcgY291bnRlciBvbiBNU0UgZGV0YWNoaW5nIHRvIGF2b2lkIHJlcG9ydGluZyBGUkFHX0xPT1BfTE9BRElOR19FUlJPUiBhZnRlciBlcnJvciByZWNvdmVyeVxuICAgIHZhciBsZXZlbHMgPSB0aGlzLmxldmVscztcbiAgICBpZiAobGV2ZWxzKSB7XG4gICAgICAvLyByZXNldCBmcmFnbWVudCBsb2FkIGNvdW50ZXJcbiAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBpZiAobGV2ZWwuZGV0YWlscykge1xuICAgICAgICAgIGxldmVsLmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgICAgICBmcmFnbWVudC5sb2FkQ291bnRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZyYWdtZW50LmJhY2t0cmFja2VkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub252c2Vla2luZyk7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVrZWQnLCB0aGlzLm9udnNlZWtlZCk7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgICAgdGhpcy5vbnZzZWVraW5nID0gdGhpcy5vbnZzZWVrZWQgPSB0aGlzLm9udmVuZGVkID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNlZWtpbmcgPSBmdW5jdGlvbiBvbk1lZGlhU2Vla2luZygpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBjdXJyZW50VGltZSA9IG1lZGlhID8gbWVkaWEuY3VycmVudFRpbWUgOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmICghaXNOYU4oY3VycmVudFRpbWUpKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNlZWtpbmcgdG8gJyArIGN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgIH1cbiAgICB2YXIgbWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IG1lZGlhO1xuICAgIHZhciBidWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKG1lZGlhQnVmZmVyLCBjdXJyZW50VGltZSwgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSk7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZSQUdfTE9BRElORykge1xuICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBzZWVraW5nIHRvIGEgdW5idWZmZXJlZCBhcmVhIEFORCBpZiBmcmFnIGxvYWRpbmcgaXMgaW4gcHJvZ3Jlc3NcbiAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA9PT0gMCAmJiBmcmFnQ3VycmVudCkge1xuICAgICAgICB2YXIgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsXG4gICAgICAgICAgICBmcmFnU3RhcnRPZmZzZXQgPSBmcmFnQ3VycmVudC5zdGFydCAtIHRvbGVyYW5jZSxcbiAgICAgICAgICAgIGZyYWdFbmRPZmZzZXQgPSBmcmFnQ3VycmVudC5zdGFydCArIGZyYWdDdXJyZW50LmR1cmF0aW9uICsgdG9sZXJhbmNlO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBzZWVrIHBvc2l0aW9uIHdpbGwgYmUgb3V0IG9mIGN1cnJlbnRseSBsb2FkZWQgZnJhZyByYW5nZSA6IGlmIG91dCBjYW5jZWwgZnJhZyBsb2FkLCBpZiBpbiwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIDwgZnJhZ1N0YXJ0T2Zmc2V0IHx8IGN1cnJlbnRUaW1lID4gZnJhZ0VuZE9mZnNldCkge1xuICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2Vla2luZyBvdXRzaWRlIG9mIGJ1ZmZlciB3aGlsZSBmcmFnbWVudCBsb2FkIGluIHByb2dyZXNzLCBjYW5jZWwgZnJhZ21lbnQgbG9hZCcpO1xuICAgICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2Vla2luZyBvdXRzaWRlIG9mIGJ1ZmZlciBidXQgd2l0aGluIGN1cnJlbnRseSBsb2FkZWQgZnJhZ21lbnQgcmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuRU5ERUQpIHtcbiAgICAgIC8vIGlmIHNlZWtpbmcgdG8gdW5idWZmZXJlZCBhcmVhLCBjbGVhbiB1cCBmcmFnUHJldmlvdXNcbiAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA9PT0gMCkge1xuICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IDA7XG4gICAgICB9XG4gICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBjaGVjayBmb3IgcG90ZW50aWFsIG5ldyBmcmFnbWVudFxuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgfVxuICAgIGlmIChtZWRpYSkge1xuICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9XG4gICAgLy8gYXZvaWQgcmVwb3J0aW5nIGZyYWdtZW50IGxvb3AgbG9hZGluZyBlcnJvciBpbiBjYXNlIHVzZXIgaXMgc2Vla2luZyBzZXZlcmFsIHRpbWVzIG9uIHNhbWUgcG9zaXRpb25cbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU3RhdGUuRlJBR19MT0FESU5HICYmIHRoaXMuZnJhZ0xvYWRJZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogY29uZmlnLmZyYWdMb2FkaW5nTG9vcFRocmVzaG9sZDtcbiAgICB9XG4gICAgLy8gaW4gY2FzZSBzZWVraW5nIG9jY3VycyBhbHRob3VnaCBubyBtZWRpYSBidWZmZXJlZCwgYWRqdXN0IHN0YXJ0UG9zaXRpb24gYW5kIG5leHRMb2FkUG9zaXRpb24gdG8gc2VlayB0YXJnZXRcbiAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbiA9IGN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIHByb2Nlc3NpbmdcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU2Vla2VkID0gZnVuY3Rpb24gb25NZWRpYVNlZWtlZCgpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBjdXJyZW50VGltZSA9IG1lZGlhID8gbWVkaWEuY3VycmVudFRpbWUgOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFpc05hTihjdXJyZW50VGltZSkpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc2Vla2VkIHRvICcgKyBjdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICB9XG4gICAgLy8gdGljayB0byBzcGVlZCB1cCBGUkFHTUVOVF9QTEFZSU5HIHRyaWdnZXJpbmdcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRW5kZWQgPSBmdW5jdGlvbiBvbk1lZGlhRW5kZWQoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYSBlbmRlZCcpO1xuICAgIC8vIHJlc2V0IHN0YXJ0UG9zaXRpb24gYW5kIGxhc3RDdXJyZW50VGltZSB0byByZXN0YXJ0IHBsYXliYWNrIEAgc3RyZWFtIGJlZ2lubmluZ1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIC8vIHJlc2V0IGJ1ZmZlciBvbiBtYW5pZmVzdCBsb2FkaW5nXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd0cmlnZ2VyIEJVRkZFUl9SRVNFVCcpO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9SRVNFVCk7XG4gICAgdGhpcy5fYnVmZmVyZWRGcmFncyA9IFtdO1xuICAgIHRoaXMuc3RhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gb25NYW5pZmVzdFBhcnNlZChkYXRhKSB7XG4gICAgdmFyIGFhYyA9IGZhbHNlLFxuICAgICAgICBoZWFhYyA9IGZhbHNlLFxuICAgICAgICBjb2RlYztcbiAgICBkYXRhLmxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgLy8gZGV0ZWN0IGlmIHdlIGhhdmUgZGlmZmVyZW50IGtpbmQgb2YgYXVkaW8gY29kZWNzIHVzZWQgYW1vbmdzdCBwbGF5bGlzdHNcbiAgICAgIGNvZGVjID0gbGV2ZWwuYXVkaW9Db2RlYztcbiAgICAgIGlmIChjb2RlYykge1xuICAgICAgICBpZiAoY29kZWMuaW5kZXhPZignbXA0YS40MC4yJykgIT09IC0xKSB7XG4gICAgICAgICAgYWFjID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgaGVhYWMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5hdWRpb0NvZGVjU3dpdGNoID0gYWFjICYmIGhlYWFjO1xuICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2l0Y2gpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYm90aCBBQUMvSEUtQUFDIGF1ZGlvIGZvdW5kIGluIGxldmVsczsgZGVjbGFyaW5nIGxldmVsIGNvZGVjIGFzIEhFLUFBQycpO1xuICAgIH1cbiAgICB0aGlzLmxldmVscyA9IGRhdGEubGV2ZWxzO1xuICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmIChjb25maWcuYXV0b1N0YXJ0TG9hZCB8fCB0aGlzLmZvcmNlU3RhcnRMb2FkKSB7XG4gICAgICB0aGlzLmhscy5zdGFydExvYWQoY29uZmlnLnN0YXJ0UG9zaXRpb24pO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGVkID0gZnVuY3Rpb24gb25MZXZlbExvYWRlZChkYXRhKSB7XG4gICAgdmFyIG5ld0RldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgdmFyIG5ld0xldmVsSWQgPSBkYXRhLmxldmVsO1xuICAgIHZhciBsYXN0TGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsTGFzdExvYWRlZF07XG4gICAgdmFyIGN1ckxldmVsID0gdGhpcy5sZXZlbHNbbmV3TGV2ZWxJZF07XG4gICAgdmFyIGR1cmF0aW9uID0gbmV3RGV0YWlscy50b3RhbGR1cmF0aW9uO1xuICAgIHZhciBzbGlkaW5nID0gMDtcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGV2ZWwgJyArIG5ld0xldmVsSWQgKyAnIGxvYWRlZCBbJyArIG5ld0RldGFpbHMuc3RhcnRTTiArICcsJyArIG5ld0RldGFpbHMuZW5kU04gKyAnXSxkdXJhdGlvbjonICsgZHVyYXRpb24pO1xuXG4gICAgaWYgKG5ld0RldGFpbHMubGl2ZSkge1xuICAgICAgdmFyIGN1ckRldGFpbHMgPSBjdXJMZXZlbC5kZXRhaWxzO1xuICAgICAgaWYgKGN1ckRldGFpbHMgJiYgbmV3RGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICBtZXJnZURldGFpbHMoY3VyRGV0YWlscywgbmV3RGV0YWlscyk7XG4gICAgICAgIHNsaWRpbmcgPSBuZXdEZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICAgICAgdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIGN1ckRldGFpbHMpO1xuICAgICAgICBpZiAobmV3RGV0YWlscy5QVFNLbm93biAmJiAhaXNOYU4oc2xpZGluZykpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3Qgc2xpZGluZzonICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICAgIGFsaWduRGlzY29udGludWl0aWVzKHRoaXMuZnJhZ1ByZXZpb3VzLCBsYXN0TGV2ZWwsIG5ld0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QgLSBmaXJzdCBsb2FkLCB1bmtub3duIHNsaWRpbmcnKTtcbiAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICBhbGlnbkRpc2NvbnRpbnVpdGllcyh0aGlzLmZyYWdQcmV2aW91cywgbGFzdExldmVsLCBuZXdEZXRhaWxzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBvdmVycmlkZSBsZXZlbCBpbmZvXG4gICAgY3VyTGV2ZWwuZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgdGhpcy5sZXZlbExhc3RMb2FkZWQgPSBuZXdMZXZlbElkO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1VQREFURUQsIHsgZGV0YWlsczogbmV3RGV0YWlscywgbGV2ZWw6IG5ld0xldmVsSWQgfSk7XG5cbiAgICBpZiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAvLyBjb21wdXRlIHN0YXJ0IHBvc2l0aW9uIGlmIHNldCB0byAtMS4gdXNlIGl0IHN0cmFpZ2h0IGF3YXkgaWYgdmFsdWUgaXMgZGVmaW5lZFxuICAgICAgaWYgKHRoaXMuc3RhcnRQb3NpdGlvbiA9PT0gLTEgfHwgdGhpcy5sYXN0Q3VycmVudFRpbWUgPT09IC0xKSB7XG4gICAgICAgIC8vIGZpcnN0LCBjaGVjayBpZiBzdGFydCB0aW1lIG9mZnNldCBoYXMgYmVlbiBzZXQgaW4gcGxheWxpc3QsIGlmIHllcywgdXNlIHRoaXMgdmFsdWVcbiAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IG5ld0RldGFpbHMuc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICBpZiAoIWlzTmFOKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICBpZiAoc3RhcnRUaW1lT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCduZWdhdGl2ZSBzdGFydCB0aW1lIG9mZnNldCAnICsgc3RhcnRUaW1lT2Zmc2V0ICsgJywgY291bnQgZnJvbSBlbmQgb2YgbGFzdCBmcmFnbWVudCcpO1xuICAgICAgICAgICAgc3RhcnRUaW1lT2Zmc2V0ID0gc2xpZGluZyArIGR1cmF0aW9uICsgc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byAnICsgc3RhcnRUaW1lT2Zmc2V0KTtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCwgc2V0IHN0YXJ0IHBvc2l0aW9uIHRvIGJlIGZyYWdtZW50IE4tdGhpcy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50ICh1c3VhbGx5IDMpXG4gICAgICAgICAgaWYgKG5ld0RldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIG5ld0RldGFpbHMpO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdjb25maWd1cmUgc3RhcnRQb3NpdGlvbiB0byAnICsgdGhpcy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICB9XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgfVxuICAgIC8vIG9ubHkgc3dpdGNoIGJhdGNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciBsZXZlbCB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9XG4gICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25LZXlMb2FkZWQgPSBmdW5jdGlvbiBvbktleUxvYWRlZCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuS0VZX0xPQURJTkcpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudCxcbiAgICAgICAgZnJhZ0xvYWRlZCA9IGRhdGEuZnJhZztcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuRlJBR19MT0FESU5HICYmIGZyYWdDdXJyZW50ICYmIGZyYWdMb2FkZWQudHlwZSA9PT0gJ21haW4nICYmIGZyYWdMb2FkZWQubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIGZyYWdMb2FkZWQuc24gPT09IGZyYWdDdXJyZW50LnNuKSB7XG4gICAgICB2YXIgc3RhdHMgPSBkYXRhLnN0YXRzLFxuICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IHRoaXMubGV2ZWxzW2ZyYWdDdXJyZW50LmxldmVsXSxcbiAgICAgICAgICBkZXRhaWxzID0gY3VycmVudExldmVsLmRldGFpbHM7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0xvYWRlZCAgJyArIGZyYWdDdXJyZW50LnNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sbGV2ZWwgJyArIGZyYWdDdXJyZW50LmxldmVsKTtcbiAgICAgIC8vIHJlc2V0IGZyYWcgYml0cmF0ZSB0ZXN0IGluIGFueSBjYXNlIGFmdGVyIGZyYWcgbG9hZGVkIGV2ZW50XG4gICAgICB0aGlzLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICB0aGlzLnN0YXRzID0gc3RhdHM7XG4gICAgICAvLyBpZiB0aGlzIGZyYWcgd2FzIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0IEFORCBpZiBobHMubmV4dExvYWRMZXZlbCBpcyBncmVhdGVyIHRoYW4gMFxuICAgICAgLy8gdGhlbiB0aGlzIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIGJlIGFibGUgdG8gbG9hZCBhIGZyYWdtZW50IGF0IGEgaGlnaGVyIHF1YWxpdHkgbGV2ZWxcbiAgICAgIGlmIChmcmFnTG9hZGVkLmJpdHJhdGVUZXN0ID09PSB0cnVlICYmIHRoaXMuaGxzLm5leHRMb2FkTGV2ZWwpIHtcbiAgICAgICAgLy8gc3dpdGNoIGJhY2sgdG8gSURMRSBzdGF0ZSAuLi4gd2UganVzdCBsb2FkZWQgYSBmcmFnbWVudCB0byBkZXRlcm1pbmUgYWRlcXVhdGUgc3RhcnQgYml0cmF0ZSBhbmQgaW5pdGlhbGl6ZSBhdXRvc3dpdGNoIGFsZ29cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19CVUZGRVJFRCwgeyBzdGF0czogc3RhdHMsIGZyYWc6IGZyYWdDdXJyZW50LCBpZDogJ21haW4nIH0pO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgIH0gZWxzZSBpZiAoZnJhZ0xvYWRlZC5zbiA9PT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdtYWluJyB9KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuUEFSU0lORztcbiAgICAgICAgLy8gdHJhbnNtdXggdGhlIE1QRUctVFMgZGF0YSB0byBJU08tQk1GRiBzZWdtZW50c1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBkZXRhaWxzLnRvdGFsZHVyYXRpb24sXG4gICAgICAgICAgICBsZXZlbCA9IGZyYWdDdXJyZW50LmxldmVsLFxuICAgICAgICAgICAgc24gPSBmcmFnQ3VycmVudC5zbixcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCBjdXJyZW50TGV2ZWwuYXVkaW9Db2RlYztcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9Db2RlY1N3YXApIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3YXBwaW5nIHBsYXlsaXN0IGF1ZGlvIGNvZGVjJyk7XG4gICAgICAgICAgaWYgKGF1ZGlvQ29kZWMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXVkaW9Db2RlYyA9IHRoaXMubGFzdEF1ZGlvQ29kZWM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmFwcGVuZGVkID0gZmFsc2U7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnUGFyc2luZyAnICsgc24gKyAnIG9mIFsnICsgZGV0YWlscy5zdGFydFNOICsgJyAsJyArIGRldGFpbHMuZW5kU04gKyAnXSxsZXZlbCAnICsgbGV2ZWwgKyAnLCBjYyAnICsgZnJhZ0N1cnJlbnQuY2MpO1xuICAgICAgICB2YXIgZGVtdXhlciA9IHRoaXMuZGVtdXhlcjtcbiAgICAgICAgaWYgKCFkZW11eGVyKSB7XG4gICAgICAgICAgZGVtdXhlciA9IHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eF9kZW11eGVyKHRoaXMuaGxzLCAnbWFpbicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRpbWUgT2Zmc2V0IGlzIGFjY3VyYXRlIGlmIGxldmVsIFBUUyBpcyBrbm93biwgb3IgaWYgcGxheWxpc3QgaXMgbm90IHNsaWRpbmcgKG5vdCBsaXZlKSBhbmQgaWYgbWVkaWEgaXMgbm90IHNlZWtpbmcgKHRoaXMgaXMgdG8gb3ZlcmNvbWUgcG90ZW50aWFsIHRpbWVzdGFtcCBkcmlmdHMgYmV0d2VlbiBwbGF5bGlzdHMgYW5kIGZyYWdtZW50cylcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIG1lZGlhU2Vla2luZyA9IG1lZGlhICYmIG1lZGlhLnNlZWtpbmc7XG4gICAgICAgIHZhciBhY2N1cmF0ZVRpbWVPZmZzZXQgPSAhbWVkaWFTZWVraW5nICYmIChkZXRhaWxzLlBUU0tub3duIHx8ICFkZXRhaWxzLmxpdmUpO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnREYXRhID0gZGV0YWlscy5pbml0U2VnbWVudCA/IGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA6IFtdO1xuICAgICAgICBkZW11eGVyLnB1c2goZGF0YS5wYXlsb2FkLCBpbml0U2VnbWVudERhdGEsIGF1ZGlvQ29kZWMsIGN1cnJlbnRMZXZlbC52aWRlb0NvZGVjLCBmcmFnQ3VycmVudCwgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nSW5pdFNlZ21lbnQgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nSW5pdFNlZ21lbnQoZGF0YSkge1xuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdtYWluJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MsXG4gICAgICAgICAgdHJhY2tOYW1lLFxuICAgICAgICAgIHRyYWNrO1xuXG4gICAgICAvLyBpZiBhdWRpbyB0cmFjayBpcyBleHBlY3RlZCB0byBjb21lIGZyb20gYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXIsIGRpc2NhcmQgYW55IGNvbWluZyBmcm9tIG1haW5cbiAgICAgIGlmICh0cmFja3MuYXVkaW8gJiYgdGhpcy5hbHRBdWRpbykge1xuICAgICAgICBkZWxldGUgdHJhY2tzLmF1ZGlvO1xuICAgICAgfVxuICAgICAgLy8gaW5jbHVkZSBsZXZlbENvZGVjIGluIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAgICAgIHRyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgIHZhciBhdWRpb0NvZGVjID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbF0uYXVkaW9Db2RlYyxcbiAgICAgICAgICAgIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoYXVkaW9Db2RlYyAmJiB0aGlzLmF1ZGlvQ29kZWNTd2FwKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2FwcGluZyBwbGF5bGlzdCBhdWRpbyBjb2RlYycpO1xuICAgICAgICAgIGlmIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkge1xuICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuNSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluIGNhc2UgQUFDIGFuZCBIRS1BQUMgYXVkaW8gY29kZWNzIGFyZSBzaWduYWxsZWQgaW4gbWFuaWZlc3RcbiAgICAgICAgLy8gZm9yY2UgSEUtQUFDICwgYXMgaXQgc2VlbXMgdGhhdCBtb3N0IGJyb3dzZXJzIHByZWZlcnMgdGhhdCB3YXksXG4gICAgICAgIC8vIGV4Y2VwdCBmb3IgbW9ubyBzdHJlYW1zIE9SIG9uIEZGXG4gICAgICAgIC8vIHRoZXNlIGNvbmRpdGlvbnMgbWlnaHQgbmVlZCB0byBiZSByZXZpZXdlZCAuLi5cbiAgICAgICAgaWYgKHRoaXMuYXVkaW9Db2RlY1N3aXRjaCkge1xuICAgICAgICAgIC8vIGRvbid0IGZvcmNlIEhFLUFBQyBpZiBtb25vIHN0cmVhbVxuICAgICAgICAgIGlmICh0cmFjay5tZXRhZGF0YS5jaGFubmVsQ291bnQgIT09IDEgJiZcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBIRS1BQUMgaWYgZmlyZWZveFxuICAgICAgICAgIHVhLmluZGV4T2YoJ2ZpcmVmb3gnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSEUtQUFDIGlzIGJyb2tlbiBvbiBBbmRyb2lkLCBhbHdheXMgc2lnbmFsIGF1ZGlvIGNvZGVjIGFzIEFBQyBldmVuIGlmIHZhcmlhbnQgbWFuaWZlc3Qgc3RhdGVzIG90aGVyd2lzZVxuICAgICAgICBpZiAodWEuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSAmJiB0cmFjay5jb250YWluZXIgIT09ICdhdWRpby9tcGVnJykge1xuICAgICAgICAgIC8vIEV4Y2x1ZGUgbXBlZyBhdWRpb1xuICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FuZHJvaWQ6IGZvcmNlIGF1ZGlvIGNvZGVjIHRvICcgKyBhdWRpb0NvZGVjKTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gYXVkaW9Db2RlYztcbiAgICAgICAgdHJhY2suaWQgPSBkYXRhLmlkO1xuICAgICAgfVxuICAgICAgdHJhY2sgPSB0cmFja3MudmlkZW87XG4gICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdLnZpZGVvQ29kZWM7XG4gICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DT0RFQ1MsIHRyYWNrcyk7XG4gICAgICAvLyBsb29wIHRocm91Z2ggdHJhY2tzIHRoYXQgYXJlIGdvaW5nIHRvIGJlIHByb3ZpZGVkIHRvIGJ1ZmZlckNvbnRyb2xsZXJcbiAgICAgIGZvciAodHJhY2tOYW1lIGluIHRyYWNrcykge1xuICAgICAgICB0cmFjayA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21haW4gdHJhY2s6JyArIHRyYWNrTmFtZSArICcsY29udGFpbmVyOicgKyB0cmFjay5jb250YWluZXIgKyAnLGNvZGVjc1tsZXZlbC9wYXJzZWRdPVsnICsgdHJhY2subGV2ZWxDb2RlYyArICcvJyArIHRyYWNrLmNvZGVjICsgJ10nKTtcbiAgICAgICAgdmFyIGluaXRTZWdtZW50ID0gdHJhY2suaW5pdFNlZ21lbnQ7XG4gICAgICAgIGlmIChpbml0U2VnbWVudCkge1xuICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCB7IHR5cGU6IHRyYWNrTmFtZSwgZGF0YTogaW5pdFNlZ21lbnQsIHBhcmVudDogJ21haW4nLCBjb250ZW50OiAnaW5pdFNlZ21lbnQnIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nRGF0YSA9IGZ1bmN0aW9uIG9uRnJhZ1BhcnNpbmdEYXRhKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdtYWluJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiAhKGRhdGEudHlwZSA9PT0gJ2F1ZGlvJyAmJiB0aGlzLmFsdEF1ZGlvKSAmJiAvLyBmaWx0ZXIgb3V0IG1haW4gYXVkaW8gaWYgYXVkaW8gdHJhY2sgaXMgbG9hZGVkIHRocm91Z2ggYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXJcbiAgICB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXSxcbiAgICAgICAgICBmcmFnID0gZnJhZ0N1cnJlbnQ7XG4gICAgICBpZiAoaXNOYU4oZGF0YS5lbmRQVFMpKSB7XG4gICAgICAgIGRhdGEuZW5kUFRTID0gZGF0YS5zdGFydFBUUyArIGZyYWdDdXJyZW50LmR1cmF0aW9uO1xuICAgICAgICBkYXRhLmVuZERUUyA9IGRhdGEuc3RhcnREVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdQYXJzZWQgJyArIGRhdGEudHlwZSArICcsUFRTOlsnICsgZGF0YS5zdGFydFBUUy50b0ZpeGVkKDMpICsgJywnICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArICddLERUUzpbJyArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArICcvJyArIGRhdGEuZW5kRFRTLnRvRml4ZWQoMykgKyAnXSxuYjonICsgZGF0YS5uYiArICcsZHJvcHBlZDonICsgKGRhdGEuZHJvcHBlZCB8fCAwKSk7XG5cbiAgICAgIC8vIERldGVjdCBnYXBzIGluIGEgZnJhZ21lbnQgIGFuZCB0cnkgdG8gZml4IGl0IGJ5IGZpbmRpbmcgYSBrZXlmcmFtZSBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnQgKHNlZSBfZmluZEZyYWdtZW50cylcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgZnJhZy5kcm9wcGVkID0gZGF0YS5kcm9wcGVkO1xuICAgICAgICBpZiAoZnJhZy5kcm9wcGVkKSB7XG4gICAgICAgICAgaWYgKCFmcmFnLmJhY2t0cmFja2VkKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdtaXNzaW5nIHZpZGVvIGZyYW1lKHMpLCBiYWNrdHJhY2tpbmcgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgIC8vIFJldHVybiBiYWNrIHRvIHRoZSBJRExFIHN0YXRlIHdpdGhvdXQgYXBwZW5kaW5nIHRvIGJ1ZmZlclxuICAgICAgICAgICAgLy8gQ2F1c2VzIGZpbmRGcmFnbWVudHMgdG8gYmFja3RyYWNrIGEgc2VnbWVudCBhbmQgZmluZCB0aGUga2V5ZnJhbWVcbiAgICAgICAgICAgIC8vIEF1ZGlvIGZyYWdtZW50cyBhcnJpdmluZyBiZWZvcmUgdmlkZW8gc2V0cyB0aGUgbmV4dExvYWRQb3NpdGlvbiwgY2F1c2luZyBfZmluZEZyYWdtZW50cyB0byBza2lwIHRoZSBiYWNrdHJhY2tlZCBmcmFnbWVudFxuICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBkYXRhLnN0YXJ0UFRTO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQWxyZWFkeSBiYWNrdHJhY2tlZCBvbiB0aGlzIGZyYWdtZW50LCBhcHBlbmRpbmcgd2l0aCB0aGUgZ2FwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9ubHkgcmVzZXQgdGhlIGJhY2t0cmFja2VkIGZsYWcgaWYgd2UndmUgbG9hZGVkIHRoZSBmcmFnIHdpdGhvdXQgYW55IGRyb3BwZWQgZnJhbWVzXG4gICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBkcmlmdCA9IHVwZGF0ZUZyYWdQVFNEVFMobGV2ZWwuZGV0YWlscywgZnJhZywgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMsIGRhdGEuc3RhcnREVFMsIGRhdGEuZW5kRFRTKSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9QVFNfVVBEQVRFRCwgeyBkZXRhaWxzOiBsZXZlbC5kZXRhaWxzLCBsZXZlbDogdGhpcy5sZXZlbCwgZHJpZnQ6IGRyaWZ0LCB0eXBlOiBkYXRhLnR5cGUsIHN0YXJ0OiBkYXRhLnN0YXJ0UFRTLCBlbmQ6IGRhdGEuZW5kUFRTIH0pO1xuXG4gICAgICAvLyBoYXMgcmVtdXhlciBkcm9wcGVkIHZpZGVvIGZyYW1lcyBsb2NhdGVkIGJlZm9yZSBmaXJzdCBrZXlmcmFtZSA/XG4gICAgICBbZGF0YS5kYXRhMSwgZGF0YS5kYXRhMl0uZm9yRWFjaChmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIC8vIG9ubHkgYXBwZW5kIGluIFBBUlNJTkcgc3RhdGUgKHJhdGlvbmFsZSBpcyB0aGF0IGFuIGFwcGVuZGluZyBlcnJvciBjb3VsZCBoYXBwZW4gc3luY2hyb25vdXNseSBvbiBmaXJzdCBzZWdtZW50IGFwcGVuZGluZylcbiAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGl0IGlzIHVzZWxlc3MgdG8gYXBwZW5kIGZvbGxvd2luZyBzZWdtZW50c1xuICAgICAgICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGggJiYgX3RoaXMyLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICAgICAgX3RoaXMyLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAvLyBhcm0gcGVuZGluZyBCdWZmZXJpbmcgZmxhZyBiZWZvcmUgYXBwZW5kaW5nIGEgc2VnbWVudFxuICAgICAgICAgIF90aGlzMi5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVORElORywgeyB0eXBlOiBkYXRhLnR5cGUsIGRhdGE6IGJ1ZmZlciwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiBvbkZyYWdQYXJzZWQoZGF0YSkge1xuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdtYWluJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB0aGlzLnN0YXRzLnRwYXJzZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5QQVJTRUQ7XG4gICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGluZyA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja1N3aXRjaGluZyhkYXRhKSB7XG4gICAgLy8gaWYgYW55IFVSTCBmb3VuZCBvbiBuZXcgYXVkaW8gdHJhY2ssIGl0IGlzIGFuIGFsdGVybmF0ZSBhdWRpbyB0cmFja1xuICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmwsXG4gICAgICAgIHRyYWNrSWQgPSBkYXRhLmlkO1xuICAgIC8vIGlmIHdlIHN3aXRjaCBvbiBtYWluIGF1ZGlvLCBlbnN1cmUgdGhhdCBtYWluIGZyYWdtZW50IHNjaGVkdWxpbmcgaXMgc3luY2VkIHdpdGggbWVkaWEuYnVmZmVyZWRcbiAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiB3ZSBzd2l0Y2ggdG8gYWx0IGF1ZGlvOiBhdWRpbyBzdHJlYW0gY29udHJvbGxlciBpcyBoYW5kbGluZyBpdC5cbiAgICAvLyB3ZSB3aWxsIGp1c3QgaGF2ZSB0byBjaGFuZ2UgYnVmZmVyIHNjaGVkdWxpbmcgb24gYXVkaW9UcmFja1N3aXRjaGVkXG4gICAgaWYgKCFhbHRBdWRpbykge1xuICAgICAgaWYgKHRoaXMubWVkaWFCdWZmZXIgIT09IHRoaXMubWVkaWEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgb24gbWFpbiBhdWRpbywgdXNlIG1lZGlhLmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZycpO1xuICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZWZpbGwgYXVkaW8gYnVmZmVyIGZyb20gbWFpbjogY2FuY2VsIGFueSBmcmFnIGxvYWRpbmcgdG8gc3BlZWQgdXAgYXVkaW8gc3dpdGNoXG4gICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyB0byBtYWluIGF1ZGlvIHRyYWNrLCBjYW5jZWwgbWFpbiBmcmFnbWVudCBsb2FkJyk7XG4gICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLy8gZGVzdHJveSBkZW11eGVyIHRvIGZvcmNlIGluaXQgc2VnbWVudCBnZW5lcmF0aW9uIChmb2xsb3dpbmcgYXVkaW8gc3dpdGNoKVxuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGxvYWQgbmV3IGZyYWdtZW50XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgfVxuICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgLy8gc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8sIGZsdXNoIGFsbCBhdWRpbyBhbmQgdHJpZ2dlciB0cmFjayBzd2l0Y2hlZFxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICB0aGlzLmFsdEF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGVkID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrU3dpdGNoZWQoZGF0YSkge1xuICAgIHZhciB0cmFja0lkID0gZGF0YS5pZCxcbiAgICAgICAgYWx0QXVkaW8gPSAhIXRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RyYWNrSWRdLnVybDtcbiAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgIHZhciB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXI7XG4gICAgICAvLyBpZiB3ZSBzd2l0Y2hlZCBvbiBhbHRlcm5hdGUgYXVkaW8sIGVuc3VyZSB0aGF0IG1haW4gZnJhZ21lbnQgc2NoZWR1bGluZyBpcyBzeW5jZWQgd2l0aCB2aWRlbyBzb3VyY2VidWZmZXIgYnVmZmVyZWRcbiAgICAgIGlmICh2aWRlb0J1ZmZlciAmJiB0aGlzLm1lZGlhQnVmZmVyICE9PSB2aWRlb0J1ZmZlcikge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBvbiBhbHRlcm5hdGUgYXVkaW8sIHVzZSB2aWRlby5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IHZpZGVvQnVmZmVyO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFsdEF1ZGlvID0gYWx0QXVkaW87XG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJDcmVhdGVkID0gZnVuY3Rpb24gb25CdWZmZXJDcmVhdGVkKGRhdGEpIHtcbiAgICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MsXG4gICAgICAgIG1lZGlhVHJhY2sgPSB2b2lkIDAsXG4gICAgICAgIG5hbWUgPSB2b2lkIDAsXG4gICAgICAgIGFsdGVybmF0ZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIHR5cGUgaW4gdHJhY2tzKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0cmFja3NbdHlwZV07XG4gICAgICBpZiAodHJhY2suaWQgPT09ICdtYWluJykge1xuICAgICAgICBuYW1lID0gdHlwZTtcbiAgICAgICAgbWVkaWFUcmFjayA9IHRyYWNrO1xuICAgICAgICAvLyBrZWVwIHZpZGVvIHNvdXJjZSBidWZmZXIgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IHRyYWNrc1t0eXBlXS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsdGVybmF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhbHRlcm5hdGUgJiYgbWVkaWFUcmFjaykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhbHRlcm5hdGUgdHJhY2sgZm91bmQsIHVzZSAnICsgbmFtZSArICcuYnVmZmVyZWQgdG8gc2NoZWR1bGUgbWFpbiBmcmFnbWVudCBsb2FkaW5nJyk7XG4gICAgICB0aGlzLm1lZGlhQnVmZmVyID0gbWVkaWFUcmFjay5idWZmZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZGVkID0gZnVuY3Rpb24gb25CdWZmZXJBcHBlbmRlZChkYXRhKSB7XG4gICAgaWYgKGRhdGEucGFyZW50ID09PSAnbWFpbicpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09IFN0YXRlLlBBUlNJTkcgfHwgc3RhdGUgPT09IFN0YXRlLlBBUlNFRCkge1xuICAgICAgICAvLyBjaGVjayBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gYXBwZW5kZWRcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gZGF0YS5wZW5kaW5nID4gMDtcbiAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tBcHBlbmRlZFBhcnNlZCA9IGZ1bmN0aW9uIF9jaGVja0FwcGVuZGVkUGFyc2VkKCkge1xuICAgIC8vdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTRUQgJiYgKCF0aGlzLmFwcGVuZGVkIHx8ICF0aGlzLnBlbmRpbmdCdWZmZXJpbmcpKSB7XG4gICAgICB2YXIgZnJhZyA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICBpZiAoZnJhZykge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWFpbiBidWZmZXJlZCA6ICcgKyB0aW1lUmFuZ2VzLnRvU3RyaW5nKG1lZGlhLmJ1ZmZlcmVkKSk7XG4gICAgICAgIC8vIGZpbHRlciBmcmFnbWVudHMgcG90ZW50aWFsbHkgZXZpY3RlZCBmcm9tIGJ1ZmZlci4gdGhpcyBpcyB0byBhdm9pZCBtZW1sZWFrIG9uIGxpdmUgc3RyZWFtc1xuICAgICAgICB2YXIgYnVmZmVyZWRGcmFncyA9IHRoaXMuX2J1ZmZlcmVkRnJhZ3MuZmlsdGVyKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgcmV0dXJuIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgKGZyYWcuc3RhcnRQVFMgKyBmcmFnLmVuZFBUUykgLyAyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHB1c2ggbmV3IHJhbmdlXG4gICAgICAgIGJ1ZmZlcmVkRnJhZ3MucHVzaChmcmFnKTtcbiAgICAgICAgLy8gc29ydCBmcmFncywgYXMgd2UgdXNlIEJpbmFyeVNlYXJjaCBmb3IgbG9va3VwIGluIGdldEJ1ZmZlcmVkRnJhZyAuLi5cbiAgICAgICAgdGhpcy5fYnVmZmVyZWRGcmFncyA9IGJ1ZmZlcmVkRnJhZ3Muc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiBhLnN0YXJ0UFRTIC0gYi5zdGFydFBUUztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gZnJhZztcbiAgICAgICAgdmFyIHN0YXRzID0gdGhpcy5zdGF0cztcbiAgICAgICAgc3RhdHMudGJ1ZmZlcmVkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIC8vIHdlIHNob3VsZCBnZXQgcmlkIG9mIHRoaXMuZnJhZ0xhc3RLYnBzXG4gICAgICAgIHRoaXMuZnJhZ0xhc3RLYnBzID0gTWF0aC5yb3VuZCg4ICogc3RhdHMudG90YWwgLyAoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudGZpcnN0KSk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ21haW4nIH0pO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcgfHwgdGhpcy5mcmFnQ3VycmVudDtcbiAgICAvLyBkb24ndCBoYW5kbGUgZnJhZyBlcnJvciBub3QgcmVsYXRlZCB0byBtYWluIGZyYWdtZW50XG4gICAgaWYgKGZyYWcgJiYgZnJhZy50eXBlICE9PSAnbWFpbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gMC41IDogdG9sZXJhbmNlIG5lZWRlZCBhcyBzb21lIGJyb3dzZXJzIHN0YWxscyBwbGF5YmFjayBiZWZvcmUgcmVhY2hpbmcgYnVmZmVyZWQgZW5kXG4gICAgdmFyIG1lZGlhQnVmZmVyZWQgPSAhIXRoaXMubWVkaWEgJiYgYnVmZmVyX2hlbHBlci5pc0J1ZmZlcmVkKHRoaXMubWVkaWEsIHRoaXMubWVkaWEuY3VycmVudFRpbWUpICYmIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZCh0aGlzLm1lZGlhLCB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgMC41KTtcblxuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAvLyBrZWVwIHJldHJ5aW5nIHVudGlsIHRoZSBsaW1pdCB3aWxsIGJlIHJlYWNoZWRcbiAgICAgICAgICBpZiAodGhpcy5mcmFnTG9hZEVycm9yICsgMSA8PSB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5KSB7XG4gICAgICAgICAgICAvLyBleHBvbmVudGlhbCBiYWNrb2ZmIGNhcHBlZCB0byBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXRcbiAgICAgICAgICAgIHZhciBkZWxheSA9IE1hdGgubWluKE1hdGgucG93KDIsIHRoaXMuZnJhZ0xvYWRFcnJvcikgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0KTtcbiAgICAgICAgICAgIC8vIHJlc2V0IGxvYWQgY291bnRlciB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvclxuICAgICAgICAgICAgZnJhZy5sb2FkQ291bnRlciA9IDA7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdtZWRpYUNvbnRyb2xsZXI6IGZyYWcgbG9hZGluZyBmYWlsZWQsIHJldHJ5IGluICcgKyBkZWxheSArICcgbXMnKTtcbiAgICAgICAgICAgIHRoaXMucmV0cnlEYXRlID0gcGVyZm9ybWFuY2Uubm93KCkgKyBkZWxheTtcbiAgICAgICAgICAgIC8vIHJldHJ5IGxvYWRpbmcgc3RhdGVcbiAgICAgICAgICAgIC8vIGlmIGxvYWRlZG1ldGFkYXRhIGlzIG5vdCBzZXQsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGVtZXJnZW5jeSBzd2l0Y2ggZG93biBvbiBmaXJzdCBmcmFnXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIHJlc2V0IHN0YXJ0RnJhZ1JlcXVlc3RlZCBmbGFnXG4gICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yKys7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdtZWRpYUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnIHJlYWNoZXMgbWF4IHJldHJ5LCByZWRpc3BhdGNoIGFzIGZhdGFsIC4uLicpO1xuICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FUlJPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9PUF9MT0FESU5HX0VSUk9SOlxuICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAvLyBpZiBidWZmZXIgaXMgbm90IGVtcHR5XG4gICAgICAgICAgaWYgKG1lZGlhQnVmZmVyZWQpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0byByZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggOiByYXRpb25hbGUgaXMgdGhhdCB3ZSBjb3VsZCBnZXRcbiAgICAgICAgICAgIC8vIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIGJlY2F1c2Ugb2YgYnVmZmVyIGV2aWN0aW9uXG4gICAgICAgICAgICB0aGlzLl9yZWR1Y2VNYXhCdWZmZXJMZW5ndGgoZnJhZy5kdXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYnVmZmVyIGVtcHR5LiByZXBvcnQgYXMgZmF0YWwgaWYgaW4gbWFudWFsIG1vZGUgb3IgaWYgbG93ZXN0IGxldmVsLlxuICAgICAgICAgICAgLy8gbGV2ZWwgY29udHJvbGxlciB0YWtlcyBjYXJlIG9mIGVtZXJnZW5jeSBzd2l0Y2ggZG93biBsb2dpY1xuICAgICAgICAgICAgaWYgKCFmcmFnLmF1dG9MZXZlbCB8fCBmcmFnLmxldmVsID09PSAwKSB7XG4gICAgICAgICAgICAgIC8vIHN3aXRjaCBlcnJvciB0byBmYXRhbFxuICAgICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTEVWRUxfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgICAgICAgLy8gaWYgZmF0YWwgZXJyb3IsIHN0b3AgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVSUk9SO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2Fybignc3RyZWFtQ29udHJvbGxlcjogJyArIGRhdGEuZGV0YWlscyArICcsc3dpdGNoIHRvICcgKyB0aGlzLnN0YXRlICsgJyBzdGF0ZSAuLi4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSBvZiBub24gZmF0YWwgZXJyb3Igd2hpbGUgbG9hZGluZyBsZXZlbCwgaWYgbGV2ZWwgY29udHJvbGxlciBpcyBub3QgcmV0cnlpbmcgdG8gbG9hZCBsZXZlbCAsIHN3aXRjaCBiYWNrIHRvIElETEVcbiAgICAgICAgICAgIGlmICghZGF0YS5sZXZlbFJldHJ5ICYmIHRoaXMuc3RhdGUgPT09IFN0YXRlLldBSVRJTkdfTEVWRUwpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfRlVMTF9FUlJPUjpcbiAgICAgICAgLy8gaWYgaW4gYXBwZW5kaW5nIHN0YXRlXG4gICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nICYmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HIHx8IHRoaXMuc3RhdGUgPT09IFN0YXRlLlBBUlNFRCkpIHtcbiAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZiBsZW4gaWYgY3VycmVudCBwb3NpdGlvbiBpcyBidWZmZXJlZFxuICAgICAgICAgIGlmIChtZWRpYUJ1ZmZlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWR1Y2VNYXhCdWZmZXJMZW5ndGgodGhpcy5jb25maWcubWF4QnVmZmVyTGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyBvbiBJRS9FZGdlLCByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzcwOFxuICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGZsdXNoIHRoZSB3aG9sZSBidWZmZXIgdG8gcmVjb3ZlclxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYnVmZmVyIGZ1bGwgZXJyb3IgYWxzbyBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoIGV2ZXJ5dGhpbmcnKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZmx1c2ggZXZlcnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX3JlZHVjZU1heEJ1ZmZlckxlbmd0aCA9IGZ1bmN0aW9uIF9yZWR1Y2VNYXhCdWZmZXJMZW5ndGgobWluTGVuZ3RoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmIChjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IG1pbkxlbmd0aCkge1xuICAgICAgLy8gcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIGFzIGl0IG1pZ2h0IGJlIHRvbyBoaWdoLiB3ZSBkbyB0aGlzIHRvIGF2b2lkIGxvb3AgZmx1c2hpbmcgLi4uXG4gICAgICBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdtYWluOnJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCB0byAnICsgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCArICdzJyk7XG4gICAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGluY3JlYXNlIGZyYWdtZW50IGxvYWQgSW5kZXggdG8gYXZvaWQgZnJhZyBsb29wIGxvYWRpbmcgZXJyb3IgYWZ0ZXIgYnVmZmVyIGZsdXNoXG4gICAgICAgIHRoaXMuZnJhZ0xvYWRJZHggKz0gMiAqIGNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9jaGVja0J1ZmZlciA9IGZ1bmN0aW9uIF9jaGVja0J1ZmZlcigpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAvLyBpZiByZWFkeSBzdGF0ZSBkaWZmZXJlbnQgZnJvbSBIQVZFX05PVEhJTkcgKG51bWVyaWMgdmFsdWUgMCksIHdlIGFyZSBhbGxvd2VkIHRvIHNlZWtcbiAgICBpZiAobWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWUsXG4gICAgICAgICAgbWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IG1lZGlhLFxuICAgICAgICAgIGJ1ZmZlcmVkID0gbWVkaWFCdWZmZXIuYnVmZmVyZWQ7XG4gICAgICAvLyBhZGp1c3QgY3VycmVudFRpbWUgdG8gc3RhcnQgcG9zaXRpb24gb24gbG9hZGVkIG1ldGFkYXRhXG4gICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEgJiYgYnVmZmVyZWQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICAvLyBvbmx5IGFkanVzdCBjdXJyZW50VGltZSBpZiBkaWZmZXJlbnQgZnJvbSBzdGFydFBvc2l0aW9uIG9yIGlmIHN0YXJ0UG9zaXRpb24gbm90IGJ1ZmZlcmVkXG4gICAgICAgIC8vIGF0IHRoYXQgc3RhZ2UsIHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBidWZmZXJlZCByYW5nZSwgYXMgd2UgcmVhY2ggdGhhdCBjb2RlIGFmdGVyIGZpcnN0IGZyYWdtZW50IGhhcyBiZWVuIGJ1ZmZlcmVkXG4gICAgICAgIHZhciBzdGFydFBvc2l0aW9uID0gbWVkaWEuc2Vla2luZyA/IGN1cnJlbnRUaW1lIDogdGhpcy5zdGFydFBvc2l0aW9uLFxuICAgICAgICAgICAgc3RhcnRQb3NpdGlvbkJ1ZmZlcmVkID0gYnVmZmVyX2hlbHBlci5pc0J1ZmZlcmVkKG1lZGlhQnVmZmVyLCBzdGFydFBvc2l0aW9uKSxcbiAgICAgICAgICAgIGZpcnN0YnVmZmVyZWRQb3NpdGlvbiA9IGJ1ZmZlcmVkLnN0YXJ0KDApLFxuICAgICAgICAgICAgc3RhcnROb3RCdWZmZXJlZEJ1dENsb3NlID0gIXN0YXJ0UG9zaXRpb25CdWZmZXJlZCAmJiBNYXRoLmFicyhzdGFydFBvc2l0aW9uIC0gZmlyc3RidWZmZXJlZFBvc2l0aW9uKSA8IGNvbmZpZy5tYXhTZWVrSG9sZTtcbiAgICAgICAgLy8gaWYgY3VycmVudFRpbWUgbm90IG1hdGNoaW5nIHdpdGggZXhwZWN0ZWQgc3RhcnRQb3NpdGlvbiBvciBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZCBidXQgY2xvc2UgdG8gZmlyc3QgYnVmZmVyZWRcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSBzdGFydFBvc2l0aW9uIHx8IHN0YXJ0Tm90QnVmZmVyZWRCdXRDbG9zZSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndGFyZ2V0IHN0YXJ0IHBvc2l0aW9uOicgKyBzdGFydFBvc2l0aW9uKTtcbiAgICAgICAgICAvLyBpZiBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZCwgbGV0J3Mgc2VlayB0byBidWZmZXJlZC5zdGFydCgwKVxuICAgICAgICAgIGlmIChzdGFydE5vdEJ1ZmZlcmVkQnV0Q2xvc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBmaXJzdGJ1ZmZlcmVkUG9zaXRpb247XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RhcmdldCBzdGFydCBwb3NpdGlvbiBub3QgYnVmZmVyZWQsIHNlZWsgdG8gYnVmZmVyZWQuc3RhcnQoMCkgJyArIHN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FkanVzdCBjdXJyZW50VGltZSBmcm9tICcgKyBjdXJyZW50VGltZSArICcgdG8gJyArIHN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmltbWVkaWF0ZVN3aXRjaCkge1xuICAgICAgICB0aGlzLmltbWVkaWF0ZUxldmVsU3dpdGNoRW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXIuYnVmZmVySW5mbyhtZWRpYSwgY3VycmVudFRpbWUsIDApLFxuICAgICAgICAgICAgZXhwZWN0ZWRQbGF5aW5nID0gIShtZWRpYS5wYXVzZWQgfHwgLy8gbm90IHBsYXlpbmcgd2hlbiBtZWRpYSBpcyBwYXVzZWRcbiAgICAgICAgbWVkaWEuZW5kZWQgfHwgLy8gbm90IHBsYXlpbmcgd2hlbiBtZWRpYSBpcyBlbmRlZFxuICAgICAgICBtZWRpYS5idWZmZXJlZC5sZW5ndGggPT09IDApLFxuICAgICAgICAgICAgLy8gbm90IHBsYXlpbmcgaWYgbm90aGluZyBidWZmZXJlZFxuICAgICAgICBqdW1wVGhyZXNob2xkID0gMC41LFxuICAgICAgICAgICAgLy8gdG9sZXJhbmNlIG5lZWRlZCBhcyBzb21lIGJyb3dzZXJzIHN0YWxscyBwbGF5YmFjayBiZWZvcmUgcmVhY2hpbmcgYnVmZmVyZWQgcmFuZ2UgZW5kXG4gICAgICAgIHBsYXloZWFkTW92aW5nID0gY3VycmVudFRpbWUgIT09IHRoaXMubGFzdEN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChwbGF5aGVhZE1vdmluZykge1xuICAgICAgICAgIC8vIHBsYXllZCBtb3ZpbmcsIGJ1dCB3YXMgcHJldmlvdXNseSBzdGFsbGVkID0+IG5vdyBub3Qgc3R1Y2sgYW55bW9yZVxuICAgICAgICAgIGlmICh0aGlzLnN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3BsYXliYWNrIG5vdCBzdHVjayBhbnltb3JlIEAnICsgY3VycmVudFRpbWUgKyAnLCBhZnRlciAnICsgTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuc3RhbGxlZCkgKyAnbXMnKTtcbiAgICAgICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0YWxsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdGhpcy5udWRnZVJldHJ5ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwbGF5aGVhZCBub3QgbW92aW5nXG4gICAgICAgICAgaWYgKGV4cGVjdGVkUGxheWluZykge1xuICAgICAgICAgICAgLy8gcGxheWhlYWQgbm90IG1vdmluZyBCVVQgbWVkaWEgZXhwZWN0ZWQgdG8gcGxheVxuICAgICAgICAgICAgdmFyIHRub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGFsbGVkKSB7XG4gICAgICAgICAgICAgIC8vIHN0YWxsIGp1c3QgZGV0ZWN0ZWQsIHN0b3JlIGN1cnJlbnQgdGltZVxuICAgICAgICAgICAgICB0aGlzLnN0YWxsZWQgPSB0bm93O1xuICAgICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHBsYXliYWNrIGFscmVhZHkgc3RhbGxlZCwgY2hlY2sgc3RhbGxpbmcgZHVyYXRpb25cbiAgICAgICAgICAgICAgLy8gaWYgc3RhbGxpbmcgZm9yIG1vcmUgdGhhbiBhIGdpdmVuIHRocmVzaG9sZCwgbGV0J3MgdHJ5IHRvIHJlY292ZXJcbiAgICAgICAgICAgICAgdmFyIHN0YWxsZWREdXJhdGlvbiA9IHRub3cgLSB0aGlzLnN0YWxsZWQ7XG4gICAgICAgICAgICAgIHZhciBidWZmZXJMZW4gPSBidWZmZXJJbmZvLmxlbjtcbiAgICAgICAgICAgICAgdmFyIG51ZGdlUmV0cnkgPSB0aGlzLm51ZGdlUmV0cnkgfHwgMDtcbiAgICAgICAgICAgICAgLy8gaGF2ZSB3ZSByZWFjaGVkIHN0YWxsIGRlYWRsaW5lID9cbiAgICAgICAgICAgICAgaWYgKGJ1ZmZlckxlbiA8PSBqdW1wVGhyZXNob2xkICYmIHN0YWxsZWREdXJhdGlvbiA+IGNvbmZpZy5sb3dCdWZmZXJXYXRjaGRvZ1BlcmlvZCAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICAvLyByZXBvcnQgc3RhbGxlZCBlcnJvciBvbmNlXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdwbGF5YmFjayBzdGFsbGluZyBpbiBsb3cgYnVmZmVyIEAnICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX1NUQUxMRURfRVJST1IsIGZhdGFsOiBmYWxzZSwgYnVmZmVyOiBidWZmZXJMZW4gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIGJ1ZmZlciBsZW4gaXMgYmVsb3cgdGhyZXNob2xkLCB0cnkgdG8ganVtcCB0byBzdGFydCBvZiBuZXh0IGJ1ZmZlciByYW5nZSBpZiBjbG9zZVxuICAgICAgICAgICAgICAgIC8vIG5vIGJ1ZmZlciBhdmFpbGFibGUgQCBjdXJyZW50VGltZSwgY2hlY2sgaWYgbmV4dCBidWZmZXIgaXMgY2xvc2UgKHdpdGhpbiBhIGNvbmZpZy5tYXhTZWVrSG9sZSBzZWNvbmQgcmFuZ2UpXG4gICAgICAgICAgICAgICAgdmFyIG5leHRCdWZmZXJTdGFydCA9IGJ1ZmZlckluZm8ubmV4dFN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IG5leHRCdWZmZXJTdGFydCAtIGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0QnVmZmVyU3RhcnQgJiYgZGVsdGEgPCBjb25maWcubWF4U2Vla0hvbGUgJiYgZGVsdGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSArK251ZGdlUmV0cnk7XG4gICAgICAgICAgICAgICAgICB2YXIgbnVkZ2VPZmZzZXQgPSBudWRnZVJldHJ5ICogY29uZmlnLm51ZGdlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgLy8gbmV4dCBidWZmZXIgaXMgY2xvc2UgISBhZGp1c3QgY3VycmVudFRpbWUgdG8gbmV4dEJ1ZmZlclN0YXJ0XG4gICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgZW5zdXJlIGVmZmVjdGl2ZSB2aWRlbyBkZWNvZGluZ1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhZGp1c3QgY3VycmVudFRpbWUgZnJvbSAnICsgbWVkaWEuY3VycmVudFRpbWUgKyAnIHRvIG5leHQgYnVmZmVyZWQgQCAnICsgbmV4dEJ1ZmZlclN0YXJ0ICsgJyArIG51ZGdlICcgKyBudWRnZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IG5leHRCdWZmZXJTdGFydCArIG51ZGdlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc3RhbGxlZCBzbyB0byByZWFybSB3YXRjaGRvZyB0aW1lclxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGFsbGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX1NFRUtfT1ZFUl9IT0xFLCBmYXRhbDogZmFsc2UsIGhvbGU6IG5leHRCdWZmZXJTdGFydCArIG51ZGdlT2Zmc2V0IC0gY3VycmVudFRpbWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1ZmZlckxlbiA+IGp1bXBUaHJlc2hvbGQgJiYgc3RhbGxlZER1cmF0aW9uID4gY29uZmlnLmhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZCAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICAvLyByZXBvcnQgc3RhbGxlZCBlcnJvciBvbmNlXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdwbGF5YmFjayBzdGFsbGluZyBpbiBoaWdoIGJ1ZmZlciBAJyArIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9TVEFMTEVEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGJ1ZmZlcjogYnVmZmVyTGVuIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXNldCBzdGFsbGVkIHNvIHRvIHJlYXJtIHdhdGNoZG9nIHRpbWVyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFsbGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMubnVkZ2VSZXRyeSA9ICsrbnVkZ2VSZXRyeTtcbiAgICAgICAgICAgICAgICBpZiAobnVkZ2VSZXRyeSA8IGNvbmZpZy5udWRnZU1heFJldHJ5KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2N1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IF9jdXJyZW50VGltZSArIG51ZGdlUmV0cnkgKiBjb25maWcubnVkZ2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FkanVzdCBjdXJyZW50VGltZSBmcm9tICcgKyBfY3VycmVudFRpbWUgKyAnIHRvICcgKyB0YXJnZXRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIC8vIHBsYXliYWNrIHN0YWxsZWQgaW4gYnVmZmVyZWQgYXJlYSAuLi4gbGV0J3MgbnVkZ2UgY3VycmVudFRpbWUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXNcbiAgICAgICAgICAgICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZTtcbiAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9OVURHRV9PTl9TVEFMTCwgZmF0YWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignc3RpbGwgc3R1Y2sgaW4gaGlnaCBidWZmZXIgQCcgKyBjdXJyZW50VGltZSArICcgYWZ0ZXIgJyArIGNvbmZpZy5udWRnZU1heFJldHJ5ICsgJywgcmFpc2UgZmF0YWwgZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9TVEFMTEVEX0VSUk9SLCBmYXRhbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAvLyBpZiBsb2FkZWRtZXRhZGF0YSBpcyBub3Qgc2V0LCBpdCBtZWFucyB0aGF0IHdlIGFyZSBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb24gZmlyc3QgZnJhZ1xuICAgIC8vIGluIHRoYXQgY2FzZSwgcmVzZXQgc3RhcnRGcmFnUmVxdWVzdGVkIGZsYWdcbiAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgfVxuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyRmx1c2hlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyRmx1c2hlZCgpIHtcbiAgICAvKiBhZnRlciBzdWNjZXNzZnVsIGJ1ZmZlciBmbHVzaGluZywgZmlsdGVyIGZsdXNoZWQgZnJhZ21lbnRzIGZyb20gYnVmZmVyZWRGcmFnc1xuICAgICAgdXNlIG1lZGlhQnVmZmVyZWQgaW5zdGVhZCBvZiBtZWRpYSAoc28gdGhhdCB3ZSB3aWxsIGNoZWNrIGFnYWluc3QgdmlkZW8uYnVmZmVyZWQgcmFuZ2VzIGluIGNhc2Ugb2YgYWx0IGF1ZGlvIHRyYWNrKVxuICAgICovXG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhO1xuICAgIHRoaXMuX2J1ZmZlcmVkRnJhZ3MgPSB0aGlzLl9idWZmZXJlZEZyYWdzLmZpbHRlcihmdW5jdGlvbiAoZnJhZykge1xuICAgICAgcmV0dXJuIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgKGZyYWcuc3RhcnRQVFMgKyBmcmFnLmVuZFBUUykgLyAyKTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGluY3JlYXNlIGZyYWdtZW50IGxvYWQgSW5kZXggdG8gYXZvaWQgZnJhZyBsb29wIGxvYWRpbmcgZXJyb3IgYWZ0ZXIgYnVmZmVyIGZsdXNoXG4gICAgICB0aGlzLmZyYWdMb2FkSWR4ICs9IDIgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8vIG1vdmUgdG8gSURMRSBvbmNlIGZsdXNoIGNvbXBsZXRlLiB0aGlzIHNob3VsZCB0cmlnZ2VyIG5ldyBmcmFnbWVudCBsb2FkaW5nXG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgLy8gcmVzZXQgcmVmZXJlbmNlIHRvIGZyYWdcbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuc3dhcEF1ZGlvQ29kZWMgPSBmdW5jdGlvbiBzd2FwQXVkaW9Db2RlYygpIHtcbiAgICB0aGlzLmF1ZGlvQ29kZWNTd2FwID0gIXRoaXMuYXVkaW9Db2RlY1N3YXA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuY29tcHV0ZUxpdmVQb3NpdGlvbiA9IGZ1bmN0aW9uIGNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIHRhcmdldExhdGVuY3kgPSB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uICE9PSB1bmRlZmluZWQgPyB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uIDogdGhpcy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuICAgIHJldHVybiBzbGlkaW5nICsgTWF0aC5tYXgoMCwgbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLSB0YXJnZXRMYXRlbmN5KTtcbiAgfTtcblxuICBzdHJlYW1fY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MoU3RyZWFtQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzdGF0ZScsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV4dFN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWFpbiBzdHJlYW06JyArIHByZXZpb3VzU3RhdGUgKyAnLT4nICsgbmV4dFN0YXRlKTtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1RSRUFNX1NUQVRFX1RSQU5TSVRJT04sIHsgcHJldmlvdXNTdGF0ZTogcHJldmlvdXNTdGF0ZSwgbmV4dFN0YXRlOiBuZXh0U3RhdGUgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjdXJyZW50TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICB2YXIgZnJhZyA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICByZXR1cm4gZnJhZy5sZXZlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25leHRCdWZmZXJlZEZyYWcnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAvLyBmaXJzdCBnZXQgZW5kIHJhbmdlIG9mIGN1cnJlbnQgZnJhZ21lbnRcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9sbG93aW5nQnVmZmVyZWRGcmFnKHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICduZXh0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGZyYWcgPSB0aGlzLm5leHRCdWZmZXJlZEZyYWc7XG4gICAgICBpZiAoZnJhZykge1xuICAgICAgICByZXR1cm4gZnJhZy5sZXZlbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsaXZlU3luY1Bvc2l0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9saXZlU3luY1Bvc2l0aW9uO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2xpdmVTeW5jUG9zaXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RyZWFtQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHN0cmVhbV9jb250cm9sbGVyID0gKHN0cmVhbV9jb250cm9sbGVyX1N0cmVhbUNvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9sZXZlbC1jb250cm9sbGVyLmpzXG52YXIgbGV2ZWxfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGxldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gbGV2ZWxfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gbGV2ZWxfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIExldmVsIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxuXG5cblxudmFyIGxldmVsX2NvbnRyb2xsZXJfTGV2ZWxDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgbGV2ZWxfY29udHJvbGxlcl9faW5oZXJpdHMoTGV2ZWxDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBMZXZlbENvbnRyb2xsZXIoaGxzKSB7XG4gICAgbGV2ZWxfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTGV2ZWxDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGxldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IpKTtcblxuICAgIF90aGlzLl9tYW51YWxMZXZlbCA9IC0xO1xuICAgIF90aGlzLnRpbWVyID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgIHRoaXMuX21hbnVhbExldmVsID0gLTE7XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5jbGVhblRpbWVyID0gZnVuY3Rpb24gY2xlYW5UaW1lcigpIHtcbiAgICBpZiAodGhpcy50aW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gc3RhcnRMb2FkKCkge1xuICAgIHRoaXMuY2FubG9hZCA9IHRydWU7XG4gICAgdmFyIGxldmVscyA9IHRoaXMuX2xldmVscztcbiAgICAvLyBjbGVhbiB1cCBsaXZlIGxldmVsIGRldGFpbHMgdG8gZm9yY2UgcmVsb2FkIHRoZW0sIGFuZCByZXNldCBsb2FkIGVycm9yc1xuICAgIGlmIChsZXZlbHMpIHtcbiAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBsZXZlbERldGFpbHMubGl2ZSkge1xuICAgICAgICAgIGxldmVsLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBzcGVlZCB1cCBsaXZlIHBsYXlsaXN0IHJlZnJlc2ggaWYgdGltZXIgZXhpc3RzXG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnN0b3BMb2FkID0gZnVuY3Rpb24gc3RvcExvYWQoKSB7XG4gICAgdGhpcy5jYW5sb2FkID0gZmFsc2U7XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGVkID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRlZChkYXRhKSB7XG4gICAgdmFyIGxldmVscyA9IFtdLFxuICAgICAgICBiaXRyYXRlU3RhcnQgPSB2b2lkIDAsXG4gICAgICAgIGxldmVsU2V0ID0ge30sXG4gICAgICAgIGxldmVsRnJvbVNldCA9IG51bGwsXG4gICAgICAgIHZpZGVvQ29kZWNGb3VuZCA9IGZhbHNlLFxuICAgICAgICBhdWRpb0NvZGVjRm91bmQgPSBmYWxzZSxcbiAgICAgICAgY2hyb21lT3JGaXJlZm94ID0gL2Nocm9tZXxmaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAvLyByZWdyb3VwIHJlZHVuZGFudCBsZXZlbHMgdG9nZXRoZXJcbiAgICBkYXRhLmxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgbGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmYWxzZTtcblxuICAgICAgdmlkZW9Db2RlY0ZvdW5kID0gdmlkZW9Db2RlY0ZvdW5kIHx8ICEhbGV2ZWwudmlkZW9Db2RlYztcbiAgICAgIGF1ZGlvQ29kZWNGb3VuZCA9IGF1ZGlvQ29kZWNGb3VuZCB8fCAhIWxldmVsLmF1ZGlvQ29kZWMgfHwgISEobGV2ZWwuYXR0cnMgJiYgbGV2ZWwuYXR0cnMuQVVESU8pO1xuXG4gICAgICAvLyBlcmFzZSBhdWRpbyBjb2RlYyBpbmZvIGlmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBtcDRhLjQwLjM0LlxuICAgICAgLy8gZGVtdXhlciB3aWxsIGF1dG9kZXRlY3QgY29kZWMgYW5kIGZhbGxiYWNrIHRvIG1wZWcvYXVkaW9cbiAgICAgIGlmIChjaHJvbWVPckZpcmVmb3ggPT09IHRydWUgJiYgbGV2ZWwuYXVkaW9Db2RlYyAmJiBsZXZlbC5hdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuMzQnKSAhPT0gLTEpIHtcbiAgICAgICAgbGV2ZWwuYXVkaW9Db2RlYyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGV2ZWxGcm9tU2V0ID0gbGV2ZWxTZXRbbGV2ZWwuYml0cmF0ZV07XG5cbiAgICAgIGlmIChsZXZlbEZyb21TZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXZlbC51cmwgPSBbbGV2ZWwudXJsXTtcbiAgICAgICAgbGV2ZWwudXJsSWQgPSAwO1xuICAgICAgICBsZXZlbFNldFtsZXZlbC5iaXRyYXRlXSA9IGxldmVsO1xuICAgICAgICBsZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXZlbEZyb21TZXQudXJsLnB1c2gobGV2ZWwudXJsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHJlbW92ZSBhdWRpby1vbmx5IGxldmVsIGlmIHdlIGFsc28gaGF2ZSBsZXZlbHMgd2l0aCBhdWRpbyt2aWRlbyBjb2RlY3Mgc2lnbmFsbGVkXG4gICAgaWYgKHZpZGVvQ29kZWNGb3VuZCA9PT0gdHJ1ZSAmJiBhdWRpb0NvZGVjRm91bmQgPT09IHRydWUpIHtcbiAgICAgIGxldmVscyA9IGxldmVscy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIHZpZGVvQ29kZWMgPSBfcmVmLnZpZGVvQ29kZWM7XG4gICAgICAgIHJldHVybiAhIXZpZGVvQ29kZWM7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBvbmx5IGtlZXAgbGV2ZWxzIHdpdGggc3VwcG9ydGVkIGF1ZGlvL3ZpZGVvIGNvZGVjc1xuICAgIGxldmVscyA9IGxldmVscy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgYXVkaW9Db2RlYyA9IF9yZWYyLmF1ZGlvQ29kZWMsXG4gICAgICAgICAgdmlkZW9Db2RlYyA9IF9yZWYyLnZpZGVvQ29kZWM7XG5cbiAgICAgIHJldHVybiAoIWF1ZGlvQ29kZWMgfHwgaXNDb2RlY1N1cHBvcnRlZEluTXA0KGF1ZGlvQ29kZWMpKSAmJiAoIXZpZGVvQ29kZWMgfHwgaXNDb2RlY1N1cHBvcnRlZEluTXA0KHZpZGVvQ29kZWMpKTtcbiAgICB9KTtcblxuICAgIGlmIChsZXZlbHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gc3RhcnQgYml0cmF0ZSBpcyB0aGUgZmlyc3QgYml0cmF0ZSBvZiB0aGUgbWFuaWZlc3RcbiAgICAgIGJpdHJhdGVTdGFydCA9IGxldmVsc1swXS5iaXRyYXRlO1xuICAgICAgLy8gc29ydCBsZXZlbCBvbiBiaXRyYXRlXG4gICAgICBsZXZlbHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5iaXRyYXRlIC0gYi5iaXRyYXRlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG4gICAgICAvLyBmaW5kIGluZGV4IG9mIGZpcnN0IGxldmVsIGluIHNvcnRlZCBsZXZlbHNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsZXZlbHNbaV0uYml0cmF0ZSA9PT0gYml0cmF0ZVN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IGk7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtYW5pZmVzdCBsb2FkZWQsJyArIGxldmVscy5sZW5ndGggKyAnIGxldmVsKHMpIGZvdW5kLCBmaXJzdCBiaXRyYXRlOicgKyBiaXRyYXRlU3RhcnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9QQVJTRUQsIHtcbiAgICAgICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgICAgIGZpcnN0TGV2ZWw6IHRoaXMuX2ZpcnN0TGV2ZWwsXG4gICAgICAgIHN0YXRzOiBkYXRhLnN0YXRzLFxuICAgICAgICBhdWRpbzogYXVkaW9Db2RlY0ZvdW5kLFxuICAgICAgICB2aWRlbzogdmlkZW9Db2RlY0ZvdW5kLFxuICAgICAgICBhbHRBdWRpbzogZGF0YS5hdWRpb1RyYWNrcy5sZW5ndGggPiAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHtcbiAgICAgICAgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SLFxuICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgdXJsOiB0aGlzLmhscy51cmwsXG4gICAgICAgIHJlYXNvbjogJ25vIGxldmVsIHdpdGggY29tcGF0aWJsZSBjb2RlY3MgZm91bmQgaW4gbWFuaWZlc3QnXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5zZXRMZXZlbEludGVybmFsID0gZnVuY3Rpb24gc2V0TGV2ZWxJbnRlcm5hbChuZXdMZXZlbCkge1xuICAgIHZhciBsZXZlbHMgPSB0aGlzLl9sZXZlbHM7XG4gICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdMZXZlbCA+PSAwICYmIG5ld0xldmVsIDwgbGV2ZWxzLmxlbmd0aCkge1xuICAgICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIGlmICh0aGlzLl9sZXZlbCAhPT0gbmV3TGV2ZWwpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gbGV2ZWwgJyArIG5ld0xldmVsKTtcbiAgICAgICAgdGhpcy5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgdmFyIGxldmVsUHJvcGVydGllcyA9IGxldmVsc1tuZXdMZXZlbF07XG4gICAgICAgIGxldmVsUHJvcGVydGllcy5sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAvLyBMRVZFTF9TV0lUQ0ggdG8gYmUgZGVwcmVjYXRlZCBpbiBuZXh0IG1ham9yIHJlbGVhc2VcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1NXSVRDSCwgbGV2ZWxQcm9wZXJ0aWVzKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1NXSVRDSElORywgbGV2ZWxQcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZXZlbCA9IGxldmVsc1tuZXdMZXZlbF0sXG4gICAgICAgICAgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBsZXZlbFxuICAgICAgaWYgKCFsZXZlbERldGFpbHMgfHwgbGV2ZWxEZXRhaWxzLmxpdmUgPT09IHRydWUpIHtcbiAgICAgICAgLy8gbGV2ZWwgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICB2YXIgdXJsSWQgPSBsZXZlbC51cmxJZDtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURJTkcsIHsgdXJsOiBsZXZlbC51cmxbdXJsSWRdLCBsZXZlbDogbmV3TGV2ZWwsIGlkOiB1cmxJZCB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW52YWxpZCBsZXZlbCBpZCBnaXZlbiwgdHJpZ2dlciBlcnJvclxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5PVEhFUl9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTEVWRUxfU1dJVENIX0VSUk9SLCBsZXZlbDogbmV3TGV2ZWwsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnaW52YWxpZCBsZXZlbCBpZHgnIH0pO1xuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmIChkYXRhLmZhdGFsID09PSB0cnVlKSB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUikge1xuICAgICAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGV0YWlscyA9IGRhdGEuZGV0YWlscyxcbiAgICAgICAgbGV2ZWxFcnJvciA9IGZhbHNlLFxuICAgICAgICBmcmFnbWVudEVycm9yID0gZmFsc2U7XG4gICAgdmFyIGxldmVsSW5kZXggPSB2b2lkIDAsXG4gICAgICAgIGxldmVsID0gdm9pZCAwO1xuICAgIHZhciBfaGxzID0gdGhpcy5obHMsXG4gICAgICAgIGNvbmZpZyA9IF9obHMuY29uZmlnLFxuICAgICAgICBtZWRpYSA9IF9obHMubWVkaWE7XG5cbiAgICAvLyB0cnkgdG8gcmVjb3ZlciBub3QgZmF0YWwgZXJyb3JzXG5cbiAgICBzd2l0Y2ggKGRldGFpbHMpIHtcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT09QX0xPQURJTkdfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICBsZXZlbEluZGV4ID0gZGF0YS5mcmFnLmxldmVsO1xuICAgICAgICBmcmFnbWVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICAgICAgbGV2ZWxJbmRleCA9IGRhdGEuY29udGV4dC5sZXZlbDtcbiAgICAgICAgbGV2ZWxFcnJvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5SRU1VWF9BTExPQ19FUlJPUjpcbiAgICAgICAgbGV2ZWxJbmRleCA9IGRhdGEubGV2ZWw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvKiB0cnkgdG8gc3dpdGNoIHRvIGEgcmVkdW5kYW50IHN0cmVhbSBpZiBhbnkgYXZhaWxhYmxlLlxuICAgICAqIGlmIG5vIHJlZHVuZGFudCBzdHJlYW0gYXZhaWxhYmxlLCBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gKGlmIGluIGF1dG8gbW9kZSBhbmQgY3VycmVudCBsZXZlbCBub3QgMClcbiAgICAgKiBvdGhlcndpc2UsIHdlIGNhbm5vdCByZWNvdmVyIHRoaXMgbmV0d29yayBlcnJvciAuLi5cbiAgICAgKi9cbiAgICBpZiAobGV2ZWxJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbEluZGV4XTtcbiAgICAgIGxldmVsLmxvYWRFcnJvcisrO1xuICAgICAgbGV2ZWwuZnJhZ21lbnRFcnJvciA9IGZyYWdtZW50RXJyb3I7XG5cbiAgICAgIC8vIGlmIGFueSByZWR1bmRhbnQgc3RyZWFtcyBhdmFpbGFibGUgYW5kIGlmIHdlIGhhdmVuJ3QgdHJ5IHRoZW0gYWxsIChsZXZlbC5sb2FkRXJyb3IgaXMgcmVzZXRlZCBvbiBzdWNjZXNzZnVsIGZyYWcvbGV2ZWwgbG9hZC5cbiAgICAgIC8vIGlmIGxldmVsLmxvYWRFcnJvciByZWFjaGVzIHJlZHVuZGFudExldmVscyBpdCBtZWFucyB0aGF0IHdlIHRyaWVkIHRoZW0gYWxsLCBubyBob3BlICA9PiBsZXQncyBzd2l0Y2ggZG93blxuICAgICAgdmFyIHJlZHVuZGFudExldmVscyA9IGxldmVsLnVybC5sZW5ndGg7XG5cbiAgICAgIGlmIChyZWR1bmRhbnRMZXZlbHMgPiAxICYmIGxldmVsLmxvYWRFcnJvciA8IHJlZHVuZGFudExldmVscykge1xuICAgICAgICBsZXZlbC51cmxJZCA9IChsZXZlbC51cmxJZCArIDEpICUgcmVkdW5kYW50TGV2ZWxzO1xuICAgICAgICBsZXZlbC5kZXRhaWxzID0gdW5kZWZpbmVkO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCcgKyBkZXRhaWxzICsgJyBmb3IgbGV2ZWwgJyArIGxldmVsSW5kZXggKyAnOiBzd2l0Y2hpbmcgdG8gcmVkdW5kYW50IHN0cmVhbSBpZCAnICsgbGV2ZWwudXJsSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gd2UgY291bGQgdHJ5IHRvIHJlY292ZXIgaWYgaW4gYXV0byBtb2RlIGFuZCBjdXJyZW50IGxldmVsIG5vdCBsb3dlc3QgbGV2ZWwgKDApXG4gICAgICAgIGlmICh0aGlzLl9tYW51YWxMZXZlbCA9PT0gLTEgJiYgbGV2ZWxJbmRleCAhPT0gMCkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2xldmVsIGNvbnRyb2xsZXIsJyArIGRldGFpbHMgKyAnOiBzd2l0Y2gtZG93biBmb3IgbmV4dCBmcmFnbWVudCcpO1xuICAgICAgICAgIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWwgPSBNYXRoLm1heCgwLCBsZXZlbEluZGV4IC0gMSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgJiYgbGV2ZWwuZGV0YWlscyAmJiBsZXZlbC5kZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCcgKyBkZXRhaWxzICsgJyBvbiBsaXZlIHN0cmVhbSwgZGlzY2FyZCcpO1xuICAgICAgICAgIGlmIChsZXZlbEVycm9yID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyByZXNldCB0aGlzLl9sZXZlbCBzbyB0aGF0IGFub3RoZXIgY2FsbCB0byBzZXQgbGV2ZWwoKSB3aWxsIHRyaWdnZXIgYWdhaW4gYSBmcmFnIGxvYWRcbiAgICAgICAgICAgIHRoaXMuX2xldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvdGhlciBlcnJvcnMgYXJlIGhhbmRsZWQgYnkgc3RyZWFtIGNvbnRyb2xsZXJcbiAgICAgICAgfSBlbHNlIGlmIChsZXZlbEVycm9yID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gMC41IDogdG9sZXJhbmNlIG5lZWRlZCBhcyBzb21lIGJyb3dzZXJzIHN0YWxscyBwbGF5YmFjayBiZWZvcmUgcmVhY2hpbmcgYnVmZmVyZWQgZW5kXG4gICAgICAgICAgdmFyIG1lZGlhQnVmZmVyZWQgPSAhIW1lZGlhICYmIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgbWVkaWEuY3VycmVudFRpbWUpICYmIGJ1ZmZlcl9oZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgbWVkaWEuY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICAgIC8vIEZJWE1FIFJlbHkgb24gTGV2ZWwgUmV0cnkgcGFyYW1ldGVycywgbm93IGl0J3MgcG9zc2libGUgdG8gcmV0cnkgYXMgbG9uZyBhcyBtZWRpYSBpcyBidWZmZXJlZFxuICAgICAgICAgIGlmIChtZWRpYUJ1ZmZlcmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCcgKyBkZXRhaWxzICsgJywgYnV0IG1lZGlhIGJ1ZmZlcmVkLCByZXRyeSBpbiAnICsgY29uZmlnLmxldmVsTG9hZGluZ1JldHJ5RGVsYXkgKyAnbXMnKTtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50aWNrKCk7XG4gICAgICAgICAgICB9LCBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheSk7XG4gICAgICAgICAgICAvLyBib29sZWFuIHVzZWQgdG8gaW5mb3JtIHN0cmVhbSBjb250cm9sbGVyIG5vdCB0byBzd2l0Y2ggYmFjayB0byBJRExFIG9uIG5vbiBmYXRhbCBlcnJvclxuICAgICAgICAgICAgZGF0YS5sZXZlbFJldHJ5ID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2Nhbm5vdCByZWNvdmVyICcgKyBkZXRhaWxzICsgJyBlcnJvcicpO1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgICAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gcmVzZXQgZXJyb3JzIG9uIHRoZSBzdWNjZXNzZnVsIGxvYWQgb2YgYSBmcmFnbWVudFxuXG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkZWQoX3JlZjMpIHtcbiAgICB2YXIgZnJhZyA9IF9yZWYzLmZyYWc7XG5cbiAgICBpZiAoZnJhZyAhPT0gdW5kZWZpbmVkICYmIGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICBpZiAobGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXZlbC5mcmFnbWVudEVycm9yID0gZmFsc2U7XG4gICAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIG9uTGV2ZWxMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIGxldmVsSWQgPSBkYXRhLmxldmVsO1xuICAgIC8vIG9ubHkgcHJvY2VzcyBsZXZlbCBsb2FkZWQgZXZlbnRzIG1hdGNoaW5nIHdpdGggZXhwZWN0ZWQgbGV2ZWxcbiAgICBpZiAobGV2ZWxJZCA9PT0gdGhpcy5fbGV2ZWwpIHtcbiAgICAgIHZhciBjdXJMZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbElkXTtcbiAgICAgIC8vIHJlc2V0IGxldmVsIGxvYWQgZXJyb3IgY291bnRlciBvbiBzdWNjZXNzZnVsIGxldmVsIGxvYWRlZCBvbmx5IGlmIHRoZXJlIGlzIG5vIGlzc3VlcyB3aXRoIGZyYWdtZW50c1xuICAgICAgaWYgKGN1ckxldmVsLmZyYWdtZW50RXJyb3IgPT09IGZhbHNlKSB7XG4gICAgICAgIGN1ckxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICAgIC8vIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0LCBhcm0gYSB0aW1lciB0byByZWxvYWQgaXRcbiAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgdmFyIHJlbG9hZEludGVydmFsID0gMTAwMCAqIChuZXdEZXRhaWxzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA/IG5ld0RldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIDogbmV3RGV0YWlscy50YXJnZXRkdXJhdGlvbiksXG4gICAgICAgICAgICBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgICAgaWYgKGN1ckRldGFpbHMgJiYgbmV3RGV0YWlscy5lbmRTTiA9PT0gY3VyRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgIC8vIGZvbGxvdyBITFMgU3BlYywgSWYgdGhlIGNsaWVudCByZWxvYWRzIGEgUGxheWxpc3QgZmlsZSBhbmQgZmluZHMgdGhhdCBpdCBoYXMgbm90XG4gICAgICAgICAgLy8gY2hhbmdlZCB0aGVuIGl0IE1VU1Qgd2FpdCBmb3IgYSBwZXJpb2Qgb2Ygb25lLWhhbGYgdGhlIHRhcmdldFxuICAgICAgICAgIC8vIGR1cmF0aW9uIGJlZm9yZSByZXRyeWluZy5cbiAgICAgICAgICByZWxvYWRJbnRlcnZhbCAvPSAyO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2FtZSBsaXZlIHBsYXlsaXN0LCByZWxvYWQgdHdpY2UgZmFzdGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVjcmVtZW50IHJlbG9hZEludGVydmFsIHdpdGggbGV2ZWwgbG9hZGluZyBkZWxheVxuICAgICAgICByZWxvYWRJbnRlcnZhbCAtPSBwZXJmb3JtYW5jZS5ub3coKSAtIGRhdGEuc3RhdHMudHJlcXVlc3Q7XG4gICAgICAgIC8vIGluIGFueSBjYXNlLCBkb24ndCByZWxvYWQgbW9yZSB0aGFuIGV2ZXJ5IHNlY29uZFxuICAgICAgICByZWxvYWRJbnRlcnZhbCA9IE1hdGgubWF4KDEwMDAsIE1hdGgucm91bmQocmVsb2FkSW50ZXJ2YWwpKTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0LCByZWxvYWQgaW4gJyArIHJlbG9hZEludGVydmFsICsgJyBtcycpO1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy50aWNrKCk7XG4gICAgICAgIH0sIHJlbG9hZEludGVydmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgIHZhciBsZXZlbElkID0gdGhpcy5fbGV2ZWw7XG4gICAgaWYgKGxldmVsSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmNhbmxvYWQpIHtcbiAgICAgIHZhciBsZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbElkXTtcbiAgICAgIGlmIChsZXZlbCAmJiBsZXZlbC51cmwpIHtcbiAgICAgICAgdmFyIHVybElkID0gbGV2ZWwudXJsSWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURJTkcsIHsgdXJsOiBsZXZlbC51cmxbdXJsSWRdLCBsZXZlbDogbGV2ZWxJZCwgaWQ6IHVybElkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBsZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhMZXZlbENvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnbGV2ZWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sZXZlbHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xldmVsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIHZhciBsZXZlbHMgPSB0aGlzLl9sZXZlbHM7XG4gICAgICBpZiAobGV2ZWxzICYmIGxldmVscy5sZW5ndGggPiBuZXdMZXZlbCkge1xuICAgICAgICBpZiAodGhpcy5fbGV2ZWwgIT09IG5ld0xldmVsIHx8IGxldmVsc1tuZXdMZXZlbF0uZGV0YWlscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRMZXZlbEludGVybmFsKG5ld0xldmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21hbnVhbExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYW51YWxMZXZlbDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICB0aGlzLl9tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgaWYgKHRoaXMuX3N0YXJ0TGV2ZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgICB9XG4gICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaXJzdExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9maXJzdExldmVsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIHRoaXMuX2ZpcnN0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdGFydExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vIGhscy5zdGFydExldmVsIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBjb25maWcuc3RhcnRMZXZlbFxuICAgICAgLy8gaWYgbm9uZSBvZiB0aGVzZSB2YWx1ZXMgYXJlIGRlZmluZWQsIGZhbGxiYWNrIG9uIHRoaXMuX2ZpcnN0TGV2ZWwgKGZpcnN0IHF1YWxpdHkgbGV2ZWwgYXBwZWFyaW5nIGluIHZhcmlhbnQgbWFuaWZlc3QpXG4gICAgICBpZiAodGhpcy5fc3RhcnRMZXZlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjb25maWdTdGFydExldmVsID0gdGhpcy5obHMuY29uZmlnLnN0YXJ0TGV2ZWw7XG4gICAgICAgIGlmIChjb25maWdTdGFydExldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gY29uZmlnU3RhcnRMZXZlbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0TGV2ZWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgdGhpcy5fc3RhcnRMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25leHRMb2FkTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuX21hbnVhbExldmVsICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFudWFsTGV2ZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5obHMubmV4dEF1dG9MZXZlbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5leHRMZXZlbCkge1xuICAgICAgdGhpcy5sZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgIGlmICh0aGlzLl9tYW51YWxMZXZlbCA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5obHMubmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGV2ZWxDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbGV2ZWxfY29udHJvbGxlciA9IChsZXZlbF9jb250cm9sbGVyX0xldmVsQ29udHJvbGxlcik7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2RlbXV4L2lkMy5qc1xudmFyIGlkMyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvaWQzLXRyYWNrLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIGlkM190cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGlkM190cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBpZDNfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIGlkMyBtZXRhZGF0YSB0cmFjayBjb250cm9sbGVyXG4qL1xuXG5cblxuXG5cbnZhciBpZDNfdHJhY2tfY29udHJvbGxlcl9JRDNUcmFja0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBpZDNfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoSUQzVHJhY2tDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBJRDNUcmFja0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgaWQzX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElEM1RyYWNrQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBpZDNfdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfTUVUQURBVEEpKTtcblxuICAgIF90aGlzLmlkM1RyYWNrID0gdW5kZWZpbmVkO1xuICAgIF90aGlzLm1lZGlhID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8vIEFkZCBJRDMgbWV0YXRhZGF0YSB0ZXh0IHRyYWNrLlxuXG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoZWQoZGF0YSkge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhRGV0YWNoaW5nKCkge1xuICAgIHRoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nTWV0YWRhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nTWV0YWRhdGEoZGF0YSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRhdGEuZnJhZztcbiAgICB2YXIgc2FtcGxlcyA9IGRhdGEuc2FtcGxlcztcblxuICAgIC8vIGNyZWF0ZSB0cmFjayBkeW5hbWljYWxseVxuICAgIGlmICghdGhpcy5pZDNUcmFjaykge1xuICAgICAgdGhpcy5pZDNUcmFjayA9IHRoaXMubWVkaWEuYWRkVGV4dFRyYWNrKCdtZXRhZGF0YScsICdpZDMnKTtcbiAgICAgIHRoaXMuaWQzVHJhY2subW9kZSA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIC8vIEF0dGVtcHQgdG8gcmVjcmVhdGUgU2FmYXJpIGZ1bmN0aW9uYWxpdHkgYnkgY3JlYXRpbmdcbiAgICAvLyBXZWJLaXREYXRhQ3VlIG9iamVjdHMgd2hlbiBhdmFpbGFibGUgYW5kIHN0b3JlIHRoZSBkZWNvZGVkXG4gICAgLy8gSUQzIGRhdGEgaW4gdGhlIHZhbHVlIHByb3BlcnR5IG9mIHRoZSBjdWVcbiAgICB2YXIgQ3VlID0gd2luZG93LldlYktpdERhdGFDdWUgfHwgd2luZG93LlZUVEN1ZSB8fCB3aW5kb3cuVGV4dFRyYWNrQ3VlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZnJhbWVzID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0ZyYW1lcyhzYW1wbGVzW2ldLmRhdGEpO1xuICAgICAgaWYgKGZyYW1lcykge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gc2FtcGxlc1tpXS5wdHM7XG4gICAgICAgIHZhciBlbmRUaW1lID0gaSA8IHNhbXBsZXMubGVuZ3RoIC0gMSA/IHNhbXBsZXNbaSArIDFdLnB0cyA6IGZyYWdtZW50LmVuZFBUUztcblxuICAgICAgICAvLyBHaXZlIGEgc2xpZ2h0IGJ1bXAgdG8gdGhlIGVuZFRpbWUgaWYgaXQncyBlcXVhbCB0byBzdGFydFRpbWUgdG8gYXZvaWQgYSBTeW50YXhFcnJvciBpbiBJRVxuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBlbmRUaW1lKSB7XG4gICAgICAgICAgZW5kVGltZSArPSAwLjAwMDE7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZyYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBmcmFtZSA9IGZyYW1lc1tqXTtcbiAgICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBwdXQgdGhlIHRpbWVzdGFtcCBmcmFtZSBpbiB0aGUgVGV4dFRyYWNrXG4gICAgICAgICAgaWYgKCFpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uaXNUaW1lU3RhbXBGcmFtZShmcmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBjdWUgPSBuZXcgQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgJycpO1xuICAgICAgICAgICAgY3VlLnZhbHVlID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLmlkM1RyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSUQzVHJhY2tDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgaWQzX3RyYWNrX2NvbnRyb2xsZXIgPSAoaWQzX3RyYWNrX2NvbnRyb2xsZXJfSUQzVHJhY2tDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2V3bWEuanNcbmZ1bmN0aW9uIGV3bWFfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcbiAqIGNvbXB1dGUgYW4gRXhwb25lbnRpYWwgV2VpZ2h0ZWQgbW92aW5nIGF2ZXJhZ2VcbiAqIC0gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTW92aW5nX2F2ZXJhZ2UjRXhwb25lbnRpYWxfbW92aW5nX2F2ZXJhZ2VcbiAqICAtIGhlYXZpbHkgaW5zcGlyZWQgZnJvbSBzaGFrYS1wbGF5ZXJcbiAqL1xuXG52YXIgRVdNQSA9IGZ1bmN0aW9uICgpIHtcblxuICAvLyAgQWJvdXQgaGFsZiBvZiB0aGUgZXN0aW1hdGVkIHZhbHVlIHdpbGwgYmUgZnJvbSB0aGUgbGFzdCB8aGFsZkxpZmV8IHNhbXBsZXMgYnkgd2VpZ2h0LlxuICBmdW5jdGlvbiBFV01BKGhhbGZMaWZlKSB7XG4gICAgZXdtYV9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRVdNQSk7XG5cbiAgICAvLyBMYXJnZXIgdmFsdWVzIG9mIGFscGhhIGV4cGlyZSBoaXN0b3JpY2FsIGRhdGEgbW9yZSBzbG93bHkuXG4gICAgdGhpcy5hbHBoYV8gPSBoYWxmTGlmZSA/IE1hdGguZXhwKE1hdGgubG9nKDAuNSkgLyBoYWxmTGlmZSkgOiAwO1xuICAgIHRoaXMuZXN0aW1hdGVfID0gMDtcbiAgICB0aGlzLnRvdGFsV2VpZ2h0XyA9IDA7XG4gIH1cblxuICBFV01BLnByb3RvdHlwZS5zYW1wbGUgPSBmdW5jdGlvbiBzYW1wbGUod2VpZ2h0LCB2YWx1ZSkge1xuICAgIHZhciBhZGpBbHBoYSA9IE1hdGgucG93KHRoaXMuYWxwaGFfLCB3ZWlnaHQpO1xuICAgIHRoaXMuZXN0aW1hdGVfID0gdmFsdWUgKiAoMSAtIGFkakFscGhhKSArIGFkakFscGhhICogdGhpcy5lc3RpbWF0ZV87XG4gICAgdGhpcy50b3RhbFdlaWdodF8gKz0gd2VpZ2h0O1xuICB9O1xuXG4gIEVXTUEucHJvdG90eXBlLmdldFRvdGFsV2VpZ2h0ID0gZnVuY3Rpb24gZ2V0VG90YWxXZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudG90YWxXZWlnaHRfO1xuICB9O1xuXG4gIEVXTUEucHJvdG90eXBlLmdldEVzdGltYXRlID0gZnVuY3Rpb24gZ2V0RXN0aW1hdGUoKSB7XG4gICAgaWYgKHRoaXMuYWxwaGFfKSB7XG4gICAgICB2YXIgemVyb0ZhY3RvciA9IDEgLSBNYXRoLnBvdyh0aGlzLmFscGhhXywgdGhpcy50b3RhbFdlaWdodF8pO1xuICAgICAgcmV0dXJuIHRoaXMuZXN0aW1hdGVfIC8gemVyb0ZhY3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZXN0aW1hdGVfO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRVdNQTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZXdtYSA9IChFV01BKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2V3bWEtYmFuZHdpZHRoLWVzdGltYXRvci5qc1xuZnVuY3Rpb24gZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qXG4gKiBFV01BIEJhbmR3aWR0aCBFc3RpbWF0b3JcbiAqICAtIGhlYXZpbHkgaW5zcGlyZWQgZnJvbSBzaGFrYS1wbGF5ZXJcbiAqIFRyYWNrcyBiYW5kd2lkdGggc2FtcGxlcyBhbmQgZXN0aW1hdGVzIGF2YWlsYWJsZSBiYW5kd2lkdGguXG4gKiBCYXNlZCBvbiB0aGUgbWluaW11bSBvZiB0d28gZXhwb25lbnRpYWxseS13ZWlnaHRlZCBtb3ZpbmcgYXZlcmFnZXMgd2l0aFxuICogZGlmZmVyZW50IGhhbGYtbGl2ZXMuXG4gKi9cblxuXG5cbnZhciBld21hX2JhbmR3aWR0aF9lc3RpbWF0b3JfRXdtYUJhbmRXaWR0aEVzdGltYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXdtYUJhbmRXaWR0aEVzdGltYXRvcihobHMsIHNsb3csIGZhc3QsIGRlZmF1bHRFc3RpbWF0ZSkge1xuICAgIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRXdtYUJhbmRXaWR0aEVzdGltYXRvcik7XG5cbiAgICB0aGlzLmhscyA9IGhscztcbiAgICB0aGlzLmRlZmF1bHRFc3RpbWF0ZV8gPSBkZWZhdWx0RXN0aW1hdGU7XG4gICAgdGhpcy5taW5XZWlnaHRfID0gMC4wMDE7XG4gICAgdGhpcy5taW5EZWxheU1zXyA9IDUwO1xuICAgIHRoaXMuc2xvd18gPSBuZXcgZXdtYShzbG93KTtcbiAgICB0aGlzLmZhc3RfID0gbmV3IGV3bWEoZmFzdCk7XG4gIH1cblxuICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5zYW1wbGUgPSBmdW5jdGlvbiBzYW1wbGUoZHVyYXRpb25NcywgbnVtQnl0ZXMpIHtcbiAgICBkdXJhdGlvbk1zID0gTWF0aC5tYXgoZHVyYXRpb25NcywgdGhpcy5taW5EZWxheU1zXyk7XG4gICAgdmFyIGJhbmR3aWR0aCA9IDgwMDAgKiBudW1CeXRlcyAvIGR1cmF0aW9uTXMsXG5cbiAgICAvL2NvbnNvbGUubG9nKCdpbnN0YW50IGJ3OicrIE1hdGgucm91bmQoYmFuZHdpZHRoKSk7XG4gICAgLy8gd2Ugd2VpZ2h0IHNhbXBsZSB1c2luZyBsb2FkaW5nIGR1cmF0aW9uLi4uLlxuICAgIHdlaWdodCA9IGR1cmF0aW9uTXMgLyAxMDAwO1xuICAgIHRoaXMuZmFzdF8uc2FtcGxlKHdlaWdodCwgYmFuZHdpZHRoKTtcbiAgICB0aGlzLnNsb3dfLnNhbXBsZSh3ZWlnaHQsIGJhbmR3aWR0aCk7XG4gIH07XG5cbiAgRXdtYUJhbmRXaWR0aEVzdGltYXRvci5wcm90b3R5cGUuY2FuRXN0aW1hdGUgPSBmdW5jdGlvbiBjYW5Fc3RpbWF0ZSgpIHtcbiAgICB2YXIgZmFzdCA9IHRoaXMuZmFzdF87XG4gICAgcmV0dXJuIGZhc3QgJiYgZmFzdC5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0XztcbiAgfTtcblxuICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5nZXRFc3RpbWF0ZSA9IGZ1bmN0aW9uIGdldEVzdGltYXRlKCkge1xuICAgIGlmICh0aGlzLmNhbkVzdGltYXRlKCkpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ3Nsb3cgZXN0aW1hdGU6JysgTWF0aC5yb3VuZCh0aGlzLnNsb3dfLmdldEVzdGltYXRlKCkpKTtcbiAgICAgIC8vY29uc29sZS5sb2coJ2Zhc3QgZXN0aW1hdGU6JysgTWF0aC5yb3VuZCh0aGlzLmZhc3RfLmdldEVzdGltYXRlKCkpKTtcbiAgICAgIC8vIFRha2UgdGhlIG1pbmltdW0gb2YgdGhlc2UgdHdvIGVzdGltYXRlcy4gIFRoaXMgc2hvdWxkIGhhdmUgdGhlIGVmZmVjdCBvZlxuICAgICAgLy8gYWRhcHRpbmcgZG93biBxdWlja2x5LCBidXQgdXAgbW9yZSBzbG93bHkuXG4gICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5mYXN0Xy5nZXRFc3RpbWF0ZSgpLCB0aGlzLnNsb3dfLmdldEVzdGltYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWZhdWx0RXN0aW1hdGVfO1xuICAgIH1cbiAgfTtcblxuICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIHJldHVybiBFd21hQmFuZFdpZHRoRXN0aW1hdG9yO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBld21hX2JhbmR3aWR0aF9lc3RpbWF0b3IgPSAoZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yX0V3bWFCYW5kV2lkdGhFc3RpbWF0b3IpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9hYnItY29udHJvbGxlci5qc1xudmFyIGFicl9jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gYWJyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gYWJyX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGFicl9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogc2ltcGxlIEFCUiBDb250cm9sbGVyXG4gKiAgLSBjb21wdXRlIG5leHQgbGV2ZWwgYmFzZWQgb24gbGFzdCBmcmFnbWVudCBidyBoZXVyaXN0aWNzXG4gKiAgLSBpbXBsZW1lbnQgYW4gYWJhbmRvbiBydWxlcyB0cmlnZ2VyZWQgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIGFuZCBpZiBjb21wdXRlZCBidyBzaG93cyB0aGF0IHdlIHJpc2sgYnVmZmVyIHN0YWxsaW5nXG4gKi9cblxuXG5cblxuXG5cblxuXG52YXIgYWJyX2NvbnRyb2xsZXJfQWJyQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGFicl9jb250cm9sbGVyX19pbmhlcml0cyhBYnJDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBBYnJDb250cm9sbGVyKGhscykge1xuICAgIGFicl9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBBYnJDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGFicl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUikpO1xuXG4gICAgX3RoaXMubGFzdExvYWRlZEZyYWdMZXZlbCA9IDA7XG4gICAgX3RoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICBfdGhpcy5obHMgPSBobHM7XG4gICAgX3RoaXMudGltZXIgPSBudWxsO1xuICAgIF90aGlzLl9id0VzdGltYXRvciA9IG51bGw7XG4gICAgX3RoaXMub25DaGVjayA9IF90aGlzLl9hYmFuZG9uUnVsZXNDaGVjay5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGluZyA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRpbmcoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLm9uQ2hlY2ssIDEwMCk7XG4gICAgICB9XG4gICAgICAvLyBsYXp5IGluaXQgb2YgYncgRXN0aW1hdG9yLCByYXRpb25hbGUgaXMgdGhhdCB3ZSB1c2UgZGlmZmVyZW50IHBhcmFtcyBmb3IgTGl2ZS9Wb0RcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gd2FpdCBmb3Igc3RyZWFtIG1hbmlmZXN0IC8gcGxheWxpc3QgdHlwZSB0byBpbnN0YW50aWF0ZSBpdC5cbiAgICAgIGlmICghdGhpcy5fYndFc3RpbWF0b3IpIHtcbiAgICAgICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICAgICAgbGV2ZWwgPSBkYXRhLmZyYWcubGV2ZWwsXG4gICAgICAgICAgICBpc0xpdmUgPSBobHMubGV2ZWxzW2xldmVsXS5kZXRhaWxzLmxpdmUsXG4gICAgICAgICAgICBjb25maWcgPSBobHMuY29uZmlnLFxuICAgICAgICAgICAgZXdtYUZhc3QgPSB2b2lkIDAsXG4gICAgICAgICAgICBld21hU2xvdyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoaXNMaXZlKSB7XG4gICAgICAgICAgZXdtYUZhc3QgPSBjb25maWcuYWJyRXdtYUZhc3RMaXZlO1xuICAgICAgICAgIGV3bWFTbG93ID0gY29uZmlnLmFickV3bWFTbG93TGl2ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBld21hRmFzdCA9IGNvbmZpZy5hYnJFd21hRmFzdFZvRDtcbiAgICAgICAgICBld21hU2xvdyA9IGNvbmZpZy5hYnJFd21hU2xvd1ZvRDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9id0VzdGltYXRvciA9IG5ldyBld21hX2JhbmR3aWR0aF9lc3RpbWF0b3IoaGxzLCBld21hU2xvdywgZXdtYUZhc3QsIGNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5fYWJhbmRvblJ1bGVzQ2hlY2sgPSBmdW5jdGlvbiBfYWJhbmRvblJ1bGVzQ2hlY2soKSB7XG4gICAgLypcbiAgICAgIG1vbml0b3IgZnJhZ21lbnQgcmV0cmlldmFsIHRpbWUuLi5cbiAgICAgIHdlIGNvbXB1dGUgZXhwZWN0ZWQgdGltZSBvZiBhcnJpdmFsIG9mIHRoZSBjb21wbGV0ZSBmcmFnbWVudC5cbiAgICAgIHdlIGNvbXBhcmUgaXQgdG8gZXhwZWN0ZWQgdGltZSBvZiBidWZmZXIgc3RhcnZhdGlvblxuICAgICovXG4gICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICB2ID0gaGxzLm1lZGlhLFxuICAgICAgICBmcmFnID0gdGhpcy5mcmFnQ3VycmVudCxcbiAgICAgICAgbG9hZGVyID0gZnJhZy5sb2FkZXIsXG4gICAgICAgIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG5cbiAgICAvLyBpZiBsb2FkZXIgaGFzIGJlZW4gZGVzdHJveWVkIG9yIGxvYWRpbmcgaGFzIGJlZW4gYWJvcnRlZCwgc3RvcCB0aW1lciBhbmQgcmV0dXJuXG4gICAgaWYgKCFsb2FkZXIgfHwgbG9hZGVyLnN0YXRzICYmIGxvYWRlci5zdGF0cy5hYm9ydGVkKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdmcmFnIGxvYWRlciBkZXN0cm95IG9yIGFib3J0ZWQsIGRpc2FybSBhYmFuZG9uUnVsZXMnKTtcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3RhdHMgPSBsb2FkZXIuc3RhdHM7XG4gICAgLyogb25seSBtb25pdG9yIGZyYWcgcmV0cmlldmFsIHRpbWUgaWZcbiAgICAodmlkZW8gbm90IHBhdXNlZCBPUiBmaXJzdCBmcmFnbWVudCBiZWluZyBsb2FkZWQocmVhZHkgc3RhdGUgPT09IEhBVkVfTk9USElORyA9IDApKSBBTkQgYXV0b3N3aXRjaGluZyBlbmFibGVkIEFORCBub3QgbG93ZXN0IGxldmVsICg9PiBtZWFucyB0aGF0IHdlIGhhdmUgc2V2ZXJhbCBsZXZlbHMpICovXG4gICAgaWYgKHYgJiYgc3RhdHMgJiYgKCF2LnBhdXNlZCAmJiB2LnBsYXliYWNrUmF0ZSAhPT0gMCB8fCAhdi5yZWFkeVN0YXRlKSAmJiBmcmFnLmF1dG9MZXZlbCAmJiBmcmFnLmxldmVsKSB7XG4gICAgICB2YXIgcmVxdWVzdERlbGF5ID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGF0cy50cmVxdWVzdCxcbiAgICAgICAgICBwbGF5YmFja1JhdGUgPSBNYXRoLmFicyh2LnBsYXliYWNrUmF0ZSk7XG4gICAgICAvLyBtb25pdG9yIGZyYWdtZW50IGxvYWQgcHJvZ3Jlc3MgYWZ0ZXIgaGFsZiBvZiBleHBlY3RlZCBmcmFnbWVudCBkdXJhdGlvbix0byBzdGFiaWxpemUgYml0cmF0ZVxuICAgICAgaWYgKHJlcXVlc3REZWxheSA+IDUwMCAqIGZyYWcuZHVyYXRpb24gLyBwbGF5YmFja1JhdGUpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IGhscy5sZXZlbHMsXG4gICAgICAgICAgICBsb2FkUmF0ZSA9IE1hdGgubWF4KDEsIHN0YXRzLmJ3ID8gc3RhdHMuYncgLyA4IDogc3RhdHMubG9hZGVkICogMTAwMCAvIHJlcXVlc3REZWxheSksXG4gICAgICAgICAgICAvLyBieXRlL3M7IGF0IGxlYXN0IDEgYnl0ZS9zIHRvIGF2b2lkIGRpdmlzaW9uIGJ5IHplcm9cbiAgICAgICAgLy8gY29tcHV0ZSBleHBlY3RlZCBmcmFnbWVudCBsZW5ndGggdXNpbmcgZnJhZyBkdXJhdGlvbiBhbmQgbGV2ZWwgYml0cmF0ZS4gYWxzbyBlbnN1cmUgdGhhdCBleHBlY3RlZCBsZW4gaXMgZ3RlIHRoYW4gYWxyZWFkeSBsb2FkZWQgc2l6ZVxuICAgICAgICBsZXZlbCA9IGxldmVsc1tmcmFnLmxldmVsXSxcbiAgICAgICAgICAgIGxldmVsQml0cmF0ZSA9IGxldmVsLnJlYWxCaXRyYXRlID8gTWF0aC5tYXgobGV2ZWwucmVhbEJpdHJhdGUsIGxldmVsLmJpdHJhdGUpIDogbGV2ZWwuYml0cmF0ZSxcbiAgICAgICAgICAgIGV4cGVjdGVkTGVuID0gc3RhdHMudG90YWwgPyBzdGF0cy50b3RhbCA6IE1hdGgubWF4KHN0YXRzLmxvYWRlZCwgTWF0aC5yb3VuZChmcmFnLmR1cmF0aW9uICogbGV2ZWxCaXRyYXRlIC8gOCkpLFxuICAgICAgICAgICAgcG9zID0gdi5jdXJyZW50VGltZSxcbiAgICAgICAgICAgIGZyYWdMb2FkZWREZWxheSA9IChleHBlY3RlZExlbiAtIHN0YXRzLmxvYWRlZCkgLyBsb2FkUmF0ZSxcbiAgICAgICAgICAgIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9IChidWZmZXJfaGVscGVyLmJ1ZmZlckluZm8odiwgcG9zLCBobHMuY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG4gICAgICAgIC8vIGNvbnNpZGVyIGVtZXJnZW5jeSBzd2l0Y2ggZG93biBvbmx5IGlmIHdlIGhhdmUgbGVzcyB0aGFuIDIgZnJhZyBidWZmZXJlZCBBTkRcbiAgICAgICAgLy8gdGltZSB0byBmaW5pc2ggbG9hZGluZyBjdXJyZW50IGZyYWdtZW50IGlzIGJpZ2dlciB0aGFuIGJ1ZmZlciBzdGFydmF0aW9uIGRlbGF5XG4gICAgICAgIC8vIGllIGlmIHdlIHJpc2sgYnVmZmVyIHN0YXJ2YXRpb24gaWYgYncgZG9lcyBub3QgaW5jcmVhc2UgcXVpY2tseVxuICAgICAgICBpZiAoYnVmZmVyU3RhcnZhdGlvbkRlbGF5IDwgMiAqIGZyYWcuZHVyYXRpb24gLyBwbGF5YmFja1JhdGUgJiYgZnJhZ0xvYWRlZERlbGF5ID4gYnVmZmVyU3RhcnZhdGlvbkRlbGF5KSB7XG4gICAgICAgICAgdmFyIGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgbmV4dExvYWRMZXZlbCA9IHZvaWQgMDtcbiAgICAgICAgICAvLyBsZXRzIGl0ZXJhdGUgdGhyb3VnaCBsb3dlciBsZXZlbCBhbmQgdHJ5IHRvIGZpbmQgdGhlIGJpZ2dlc3Qgb25lIHRoYXQgY291bGQgYXZvaWQgcmVidWZmZXJpbmdcbiAgICAgICAgICAvLyB3ZSBzdGFydCBmcm9tIGN1cnJlbnQgbGV2ZWwgLSAxIGFuZCB3ZSBzdGVwIGRvd24gLCB1bnRpbCB3ZSBmaW5kIGEgbWF0Y2hpbmcgbGV2ZWxcbiAgICAgICAgICBmb3IgKG5leHRMb2FkTGV2ZWwgPSBmcmFnLmxldmVsIC0gMTsgbmV4dExvYWRMZXZlbCA+IG1pbkF1dG9MZXZlbDsgbmV4dExvYWRMZXZlbC0tKSB7XG4gICAgICAgICAgICAvLyBjb21wdXRlIHRpbWUgdG8gbG9hZCBuZXh0IGZyYWdtZW50IGF0IGxvd2VyIGxldmVsXG4gICAgICAgICAgICAvLyAwLjggOiBjb25zaWRlciBvbmx5IDgwJSBvZiBjdXJyZW50IGJ3IHRvIGJlIGNvbnNlcnZhdGl2ZVxuICAgICAgICAgICAgLy8gOCA9IGJpdHMgcGVyIGJ5dGUgKGJwcy9CcHMpXG4gICAgICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGUpIDogbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGU7XG4gICAgICAgICAgICBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPSBmcmFnLmR1cmF0aW9uICogbGV2ZWxOZXh0Qml0cmF0ZSAvICg4ICogMC44ICogbG9hZFJhdGUpO1xuICAgICAgICAgICAgaWYgKGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA8IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkge1xuICAgICAgICAgICAgICAvLyB3ZSBmb3VuZCBhIGxvd2VyIGxldmVsIHRoYXQgYmUgcmVidWZmZXJpbmcgZnJlZSB3aXRoIGN1cnJlbnQgZXN0aW1hdGVkIGJ3ICFcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG9ubHkgZW1lcmdlbmN5IHN3aXRjaCBkb3duIGlmIGl0IHRha2VzIGxlc3MgdGltZSB0byBsb2FkIG5ldyBmcmFnbWVudCBhdCBsb3dlc3QgbGV2ZWwgaW5zdGVhZFxuICAgICAgICAgIC8vIG9mIGZpbmlzaGluZyBsb2FkaW5nIGN1cnJlbnQgb25lIC4uLlxuICAgICAgICAgIGlmIChmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPCBmcmFnTG9hZGVkRGVsYXkpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2xvYWRpbmcgdG9vIHNsb3csIGFib3J0IGZyYWdtZW50IGxvYWRpbmcgYW5kIHN3aXRjaCB0byBsZXZlbCAnICsgbmV4dExvYWRMZXZlbCArICc6ZnJhZ0xvYWRlZERlbGF5WycgKyBuZXh0TG9hZExldmVsICsgJ108ZnJhZ0xvYWRlZERlbGF5WycgKyAoZnJhZy5sZXZlbCAtIDEpICsgJ107YnVmZmVyU3RhcnZhdGlvbkRlbGF5OicgKyBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkudG9GaXhlZCgxKSArICc8JyArIGZyYWdMb2FkZWREZWxheS50b0ZpeGVkKDEpICsgJzonICsgYnVmZmVyU3RhcnZhdGlvbkRlbGF5LnRvRml4ZWQoMSkpO1xuICAgICAgICAgICAgLy8gZm9yY2UgbmV4dCBsb2FkIGxldmVsIGluIGF1dG8gbW9kZVxuICAgICAgICAgICAgaGxzLm5leHRMb2FkTGV2ZWwgPSBuZXh0TG9hZExldmVsO1xuICAgICAgICAgICAgLy8gdXBkYXRlIGJ3IGVzdGltYXRlIGZvciB0aGlzIGZyYWdtZW50IGJlZm9yZSBjYW5jZWxsaW5nIGxvYWQgKHRoaXMgd2lsbCBoZWxwIHJlZHVjaW5nIHRoZSBidylcbiAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShyZXF1ZXN0RGVsYXksIHN0YXRzLmxvYWRlZCk7XG4gICAgICAgICAgICAvL2Fib3J0IGZyYWdtZW50IGxvYWRpbmdcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgLy8gc3RvcCBhYmFuZG9uIHJ1bGVzIHRpbWVyXG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQsIHsgZnJhZzogZnJhZywgc3RhdHM6IHN0YXRzIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkZWQoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJyAmJiAhaXNOYU4oZnJhZy5zbikpIHtcbiAgICAgIC8vIHN0b3AgbW9uaXRvcmluZyBidyBvbmNlIGZyYWcgbG9hZGVkXG4gICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgIC8vIHN0b3JlIGxldmVsIGlkIGFmdGVyIHN1Y2Nlc3NmdWwgZnJhZ21lbnQgbG9hZFxuICAgICAgdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gZnJhZy5sZXZlbDtcbiAgICAgIC8vIHJlc2V0IGZvcmNlZCBhdXRvIGxldmVsIHZhbHVlIHNvIHRoYXQgbmV4dCBsZXZlbCB3aWxsIGJlIHNlbGVjdGVkXG4gICAgICB0aGlzLl9uZXh0QXV0b0xldmVsID0gLTE7XG5cbiAgICAgIC8vIGNvbXB1dGUgbGV2ZWwgYXZlcmFnZSBiaXRyYXRlXG4gICAgICBpZiAodGhpcy5obHMuY29uZmlnLmFick1heFdpdGhSZWFsQml0cmF0ZSkge1xuICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmhscy5sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICAgIHZhciBsb2FkZWRCeXRlcyA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuYnl0ZXMgOiAwKSArIGRhdGEuc3RhdHMubG9hZGVkO1xuICAgICAgICB2YXIgbG9hZGVkRHVyYXRpb24gPSAobGV2ZWwubG9hZGVkID8gbGV2ZWwubG9hZGVkLmR1cmF0aW9uIDogMCkgKyBkYXRhLmZyYWcuZHVyYXRpb247XG4gICAgICAgIGxldmVsLmxvYWRlZCA9IHsgYnl0ZXM6IGxvYWRlZEJ5dGVzLCBkdXJhdGlvbjogbG9hZGVkRHVyYXRpb24gfTtcbiAgICAgICAgbGV2ZWwucmVhbEJpdHJhdGUgPSBNYXRoLnJvdW5kKDggKiBsb2FkZWRCeXRlcyAvIGxvYWRlZER1cmF0aW9uKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIGZyYWdtZW50IGhhcyBiZWVuIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0LFxuICAgICAgaWYgKGRhdGEuZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICB2YXIgc3RhdHMgPSBkYXRhLnN0YXRzO1xuICAgICAgICBzdGF0cy50cGFyc2VkID0gc3RhdHMudGJ1ZmZlcmVkID0gc3RhdHMudGxvYWQ7XG4gICAgICAgIHRoaXMub25GcmFnQnVmZmVyZWQoZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gb25GcmFnQnVmZmVyZWQoZGF0YSkge1xuICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHMsXG4gICAgICAgIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgLy8gb25seSB1cGRhdGUgc3RhdHMgb24gZmlyc3QgZnJhZyBidWZmZXJpbmdcbiAgICAvLyBpZiBzYW1lIGZyYWcgaXMgbG9hZGVkIG11bHRpcGxlIHRpbWVzLCBpdCBtaWdodCBiZSBpbiBicm93c2VyIGNhY2hlLCBhbmQgbG9hZGVkIHF1aWNrbHlcbiAgICAvLyBhbmQgbGVhZGluZyB0byB3cm9uZyBidyBlc3RpbWF0aW9uXG4gICAgLy8gb24gYml0cmF0ZSB0ZXN0LCBhbHNvIG9ubHkgdXBkYXRlIHN0YXRzIG9uY2UgKGlmIHRsb2FkID0gdGJ1ZmZlcmVkID09IG9uIEZSQUdfTE9BREVEKVxuICAgIGlmIChzdGF0cy5hYm9ydGVkICE9PSB0cnVlICYmIGZyYWcubG9hZENvdW50ZXIgPT09IDEgJiYgZnJhZy50eXBlID09PSAnbWFpbicgJiYgIWlzTmFOKGZyYWcuc24pICYmICghZnJhZy5iaXRyYXRlVGVzdCB8fCBzdGF0cy50bG9hZCA9PT0gc3RhdHMudGJ1ZmZlcmVkKSkge1xuICAgICAgLy8gdXNlIHRwYXJzZWQtdHJlcXVlc3QgaW5zdGVhZCBvZiB0YnVmZmVyZWQtdHJlcXVlc3QgdG8gY29tcHV0ZSBmcmFnTG9hZGluZ1Byb2Nlc3Npbmc7IHJhdGlvbmFsZSBpcyB0aGF0ICBidWZmZXIgYXBwZW5kaW5nIG9ubHkgaGFwcGVucyBvbmNlIG1lZGlhIGlzIGF0dGFjaGVkXG4gICAgICAvLyBpbiBjYXNlIHdlIHVzZSBjb25maWcuc3RhcnRGcmFnUHJlZmV0Y2ggd2hpbGUgbWVkaWEgaXMgbm90IGF0dGFjaGVkIHlldCwgZnJhZ21lbnQgbWlnaHQgYmUgcGFyc2VkIHdoaWxlIG1lZGlhIG5vdCBhdHRhY2hlZCB5ZXQsIGJ1dCBpdCB3aWxsIG9ubHkgYmUgYnVmZmVyZWQgb24gbWVkaWEgYXR0YWNoZWRcbiAgICAgIC8vIGFzIGEgY29uc2VxdWVuY2UgaXQgY291bGQgaGFwcGVuIHJlYWxseSBsYXRlIGluIHRoZSBwcm9jZXNzLiBtZWFuaW5nIHRoYXQgYXBwZW5kaW5nIGR1cmF0aW9uIG1pZ2h0IGFwcGVhcnMgaHVnZSAuLi4gbGVhZGluZyB0byB1bmRlcmVzdGltYXRlZCB0aHJvdWdocHV0IGVzdGltYXRpb25cbiAgICAgIHZhciBmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcyA9IHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50cmVxdWVzdDtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGF0ZW5jeS9sb2FkaW5nL3BhcnNpbmcvYXBwZW5kL2ticHM6JyArIE1hdGgucm91bmQoc3RhdHMudGZpcnN0IC0gc3RhdHMudHJlcXVlc3QpICsgJy8nICsgTWF0aC5yb3VuZChzdGF0cy50bG9hZCAtIHN0YXRzLnRmaXJzdCkgKyAnLycgKyBNYXRoLnJvdW5kKHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50bG9hZCkgKyAnLycgKyBNYXRoLnJvdW5kKHN0YXRzLnRidWZmZXJlZCAtIHN0YXRzLnRwYXJzZWQpICsgJy8nICsgTWF0aC5yb3VuZCg4ICogc3RhdHMubG9hZGVkIC8gKHN0YXRzLnRidWZmZXJlZCAtIHN0YXRzLnRyZXF1ZXN0KSkpO1xuICAgICAgdGhpcy5fYndFc3RpbWF0b3Iuc2FtcGxlKGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zLCBzdGF0cy5sb2FkZWQpO1xuICAgICAgc3RhdHMuYndFc3RpbWF0ZSA9IHRoaXMuX2J3RXN0aW1hdG9yLmdldEVzdGltYXRlKCk7XG4gICAgICAvLyBpZiBmcmFnbWVudCBoYXMgYmVlbiBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCwgKGhscy5zdGFydExldmVsID0gLTEpLCBzdG9yZSBiaXRyYXRlIHRlc3QgZGVsYXkgZHVyYXRpb25cbiAgICAgIGlmIChmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIC8gMTAwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICAvLyBzdG9wIHRpbWVyIGluIGNhc2Ugb2YgZnJhZyBsb2FkaW5nIGVycm9yXG4gICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyVGltZXIgPSBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG4gIH07XG5cbiAgLy8gcmV0dXJuIG5leHQgYXV0byBsZXZlbFxuXG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuX2ZpbmRCZXN0TGV2ZWwgPSBmdW5jdGlvbiBfZmluZEJlc3RMZXZlbChjdXJyZW50TGV2ZWwsIGN1cnJlbnRGcmFnRHVyYXRpb24sIGN1cnJlbnRCdywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIG1heEZldGNoRHVyYXRpb24sIGJ3RmFjdG9yLCBid1VwRmFjdG9yLCBsZXZlbHMpIHtcbiAgICBmb3IgKHZhciBpID0gbWF4QXV0b0xldmVsOyBpID49IG1pbkF1dG9MZXZlbDsgaS0tKSB7XG4gICAgICB2YXIgbGV2ZWxJbmZvID0gbGV2ZWxzW2ldLFxuICAgICAgICAgIGxldmVsRGV0YWlscyA9IGxldmVsSW5mby5kZXRhaWxzLFxuICAgICAgICAgIGF2Z0R1cmF0aW9uID0gbGV2ZWxEZXRhaWxzID8gbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLyBsZXZlbERldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA6IGN1cnJlbnRGcmFnRHVyYXRpb24sXG4gICAgICAgICAgbGl2ZSA9IGxldmVsRGV0YWlscyA/IGxldmVsRGV0YWlscy5saXZlIDogZmFsc2UsXG4gICAgICAgICAgYWRqdXN0ZWRidyA9IHZvaWQgMDtcbiAgICAgIC8vIGZvbGxvdyBhbGdvcml0aG0gY2FwdHVyZWQgZnJvbSBzdGFnZWZyaWdodCA6XG4gICAgICAvLyBodHRwczovL2FuZHJvaWQuZ29vZ2xlc291cmNlLmNvbS9wbGF0Zm9ybS9mcmFtZXdvcmtzL2F2LysvbWFzdGVyL21lZGlhL2xpYnN0YWdlZnJpZ2h0L2h0dHBsaXZlL0xpdmVTZXNzaW9uLmNwcFxuICAgICAgLy8gUGljayB0aGUgaGlnaGVzdCBiYW5kd2lkdGggc3RyZWFtIGJlbG93IG9yIGVxdWFsIHRvIGVzdGltYXRlZCBiYW5kd2lkdGguXG4gICAgICAvLyBjb25zaWRlciBvbmx5IDgwJSBvZiB0aGUgYXZhaWxhYmxlIGJhbmR3aWR0aCwgYnV0IGlmIHdlIGFyZSBzd2l0Y2hpbmcgdXAsXG4gICAgICAvLyBiZSBldmVuIG1vcmUgY29uc2VydmF0aXZlICg3MCUpIHRvIGF2b2lkIG92ZXJlc3RpbWF0aW5nIGFuZCBpbW1lZGlhdGVseVxuICAgICAgLy8gc3dpdGNoaW5nIGJhY2suXG4gICAgICBpZiAoaSA8PSBjdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3RmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3VXBGYWN0b3IgKiBjdXJyZW50Qnc7XG4gICAgICB9XG4gICAgICB2YXIgYml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGUsXG4gICAgICAgICAgZmV0Y2hEdXJhdGlvbiA9IGJpdHJhdGUgKiBhdmdEdXJhdGlvbiAvIGFkanVzdGVkYnc7XG5cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdsZXZlbC9hZGp1c3RlZGJ3L2JpdHJhdGUvYXZnRHVyYXRpb24vbWF4RmV0Y2hEdXJhdGlvbi9mZXRjaER1cmF0aW9uOiAnICsgaSArICcvJyArIE1hdGgucm91bmQoYWRqdXN0ZWRidykgKyAnLycgKyBiaXRyYXRlICsgJy8nICsgYXZnRHVyYXRpb24gKyAnLycgKyBtYXhGZXRjaER1cmF0aW9uICsgJy8nICsgZmV0Y2hEdXJhdGlvbik7XG4gICAgICAvLyBpZiBhZGp1c3RlZCBidyBpcyBncmVhdGVyIHRoYW4gbGV2ZWwgYml0cmF0ZSBBTkRcbiAgICAgIGlmIChhZGp1c3RlZGJ3ID4gYml0cmF0ZSAmJiAoXG4gICAgICAvLyBmcmFnbWVudCBmZXRjaER1cmF0aW9uIHVua25vd24gT1IgbGl2ZSBzdHJlYW0gT1IgZnJhZ21lbnQgZmV0Y2hEdXJhdGlvbiBsZXNzIHRoYW4gbWF4IGFsbG93ZWQgZmV0Y2ggZHVyYXRpb24sIHRoZW4gdGhpcyBsZXZlbCBtYXRjaGVzXG4gICAgICAvLyB3ZSBkb24ndCBhY2NvdW50IGZvciBtYXggRmV0Y2ggRHVyYXRpb24gZm9yIGxpdmUgc3RyZWFtcywgdGhpcyBpcyB0byBhdm9pZCBzd2l0Y2hpbmcgZG93biB3aGVuIG5lYXIgdGhlIGVkZ2Ugb2YgbGl2ZSBzbGlkaW5nIHdpbmRvdyAuLi5cbiAgICAgIC8vIHNwZWNpYWwgY2FzZSB0byBzdXBwb3J0IHN0YXJ0TGV2ZWwgPSAtMSAoYml0cmF0ZVRlc3QpIG9uIGxpdmUgc3RyZWFtcyA6IGluIHRoYXQgY2FzZSB3ZSBzaG91bGQgbm90IGV4aXQgbG9vcCBzbyB0aGF0IF9maW5kQmVzdExldmVsIHdpbGwgcmV0dXJuIC0xXG4gICAgICAhZmV0Y2hEdXJhdGlvbiB8fCBsaXZlICYmICF0aGlzLmJpdHJhdGVUZXN0RGVsYXkgfHwgZmV0Y2hEdXJhdGlvbiA8IG1heEZldGNoRHVyYXRpb24pKSB7XG4gICAgICAgIC8vIGFzIHdlIGFyZSBsb29waW5nIGZyb20gaGlnaGVzdCB0byBsb3dlc3QsIHRoaXMgd2lsbCByZXR1cm4gdGhlIGJlc3QgYWNoaWV2YWJsZSBxdWFsaXR5IGxldmVsXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBub3QgZW5vdWdoIHRpbWUgYnVkZ2V0IGV2ZW4gd2l0aCBxdWFsaXR5IGxldmVsIDAgLi4uIHJlYnVmZmVyaW5nIG1pZ2h0IGhhcHBlblxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBhYnJfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MoQWJyQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICduZXh0QXV0b0xldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBmb3JjZWRBdXRvTGV2ZWwgPSB0aGlzLl9uZXh0QXV0b0xldmVsO1xuICAgICAgdmFyIGJ3RXN0aW1hdG9yID0gdGhpcy5fYndFc3RpbWF0b3I7XG4gICAgICAvLyBpbiBjYXNlIG5leHQgYXV0byBsZXZlbCBoYXMgYmVlbiBmb3JjZWQsIGFuZCBidyBub3QgYXZhaWxhYmxlIG9yIG5vdCByZWxpYWJsZSwgcmV0dXJuIGZvcmNlZCB2YWx1ZVxuICAgICAgaWYgKGZvcmNlZEF1dG9MZXZlbCAhPT0gLTEgJiYgKCFid0VzdGltYXRvciB8fCAhYndFc3RpbWF0b3IuY2FuRXN0aW1hdGUoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcmNlZEF1dG9MZXZlbDtcbiAgICAgIH1cbiAgICAgIC8vIGNvbXB1dGUgbmV4dCBsZXZlbCB1c2luZyBBQlIgbG9naWNcbiAgICAgIHZhciBuZXh0QUJSQXV0b0xldmVsID0gdGhpcy5fbmV4dEFCUkF1dG9MZXZlbDtcbiAgICAgIC8vIGlmIGZvcmNlZCBhdXRvIGxldmVsIGhhcyBiZWVuIGRlZmluZWQsIHVzZSBpdCB0byBjYXAgQUJSIGNvbXB1dGVkIHF1YWxpdHkgbGV2ZWxcbiAgICAgIGlmIChmb3JjZWRBdXRvTGV2ZWwgIT09IC0xKSB7XG4gICAgICAgIG5leHRBQlJBdXRvTGV2ZWwgPSBNYXRoLm1pbihmb3JjZWRBdXRvTGV2ZWwsIG5leHRBQlJBdXRvTGV2ZWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHRBQlJBdXRvTGV2ZWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0TGV2ZWwpIHtcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX25leHRBQlJBdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICAgIG1heEF1dG9MZXZlbCA9IGhscy5tYXhBdXRvTGV2ZWwsXG4gICAgICAgICAgbGV2ZWxzID0gaGxzLmxldmVscyxcbiAgICAgICAgICBjb25maWcgPSBobHMuY29uZmlnLFxuICAgICAgICAgIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG4gICAgICB2YXIgdiA9IGhscy5tZWRpYSxcbiAgICAgICAgICBjdXJyZW50TGV2ZWwgPSB0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWwsXG4gICAgICAgICAgY3VycmVudEZyYWdEdXJhdGlvbiA9IHRoaXMuZnJhZ0N1cnJlbnQgPyB0aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uIDogMCxcbiAgICAgICAgICBwb3MgPSB2ID8gdi5jdXJyZW50VGltZSA6IDAsXG5cbiAgICAgIC8vIHBsYXliYWNrUmF0ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIHBsYXliYWNrIHJhdGU7IGlmIHYucGxheWJhY2tSYXRlIGlzIDAsIHdlIHVzZSAxIHRvIGxvYWQgYXNcbiAgICAgIC8vIGlmIHdlJ3JlIHBsYXlpbmcgYmFjayBhdCB0aGUgbm9ybWFsIHJhdGUuXG4gICAgICBwbGF5YmFja1JhdGUgPSB2ICYmIHYucGxheWJhY2tSYXRlICE9PSAwID8gTWF0aC5hYnModi5wbGF5YmFja1JhdGUpIDogMS4wLFxuICAgICAgICAgIGF2Z2J3ID0gdGhpcy5fYndFc3RpbWF0b3IgPyB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpIDogY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUsXG5cbiAgICAgIC8vIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSBpcyB0aGUgd2FsbC1jbG9jayB0aW1lIGxlZnQgdW50aWwgdGhlIHBsYXliYWNrIGJ1ZmZlciBpcyBleGhhdXN0ZWQuXG4gICAgICBidWZmZXJTdGFydmF0aW9uRGVsYXkgPSAoYnVmZmVyX2hlbHBlci5idWZmZXJJbmZvKHYsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG5cbiAgICAgIC8vIEZpcnN0LCBsb29rIHRvIHNlZSBpZiB3ZSBjYW4gZmluZCBhIGxldmVsIG1hdGNoaW5nIHdpdGggb3VyIGF2ZyBiYW5kd2lkdGggQU5EIHRoYXQgY291bGQgYWxzbyBndWFyYW50ZWUgbm8gcmVidWZmZXJpbmcgYXQgYWxsXG4gICAgICB2YXIgYmVzdExldmVsID0gdGhpcy5fZmluZEJlc3RMZXZlbChjdXJyZW50TGV2ZWwsIGN1cnJlbnRGcmFnRHVyYXRpb24sIGF2Z2J3LCBtaW5BdXRvTGV2ZWwsIG1heEF1dG9MZXZlbCwgYnVmZmVyU3RhcnZhdGlvbkRlbGF5LCBjb25maWcuYWJyQmFuZFdpZHRoRmFjdG9yLCBjb25maWcuYWJyQmFuZFdpZHRoVXBGYWN0b3IsIGxldmVscyk7XG4gICAgICBpZiAoYmVzdExldmVsID49IDApIHtcbiAgICAgICAgcmV0dXJuIGJlc3RMZXZlbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdyZWJ1ZmZlcmluZyBleHBlY3RlZCB0byBoYXBwZW4sIGxldHMgdHJ5IHRvIGZpbmQgYSBxdWFsaXR5IGxldmVsIG1pbmltaXppbmcgdGhlIHJlYnVmZmVyaW5nJyk7XG4gICAgICAgIC8vIG5vdCBwb3NzaWJsZSB0byBnZXQgcmlkIG9mIHJlYnVmZmVyaW5nIC4uLiBsZXQncyB0cnkgdG8gZmluZCBsZXZlbCB0aGF0IHdpbGwgZ3VhcmFudGVlIGxlc3MgdGhhbiBtYXhTdGFydmF0aW9uRGVsYXkgb2YgcmVidWZmZXJpbmdcbiAgICAgICAgLy8gaWYgbm8gbWF0Y2hpbmcgbGV2ZWwgZm91bmQsIGxvZ2ljIHdpbGwgcmV0dXJuIDBcbiAgICAgICAgdmFyIG1heFN0YXJ2YXRpb25EZWxheSA9IGN1cnJlbnRGcmFnRHVyYXRpb24gPyBNYXRoLm1pbihjdXJyZW50RnJhZ0R1cmF0aW9uLCBjb25maWcubWF4U3RhcnZhdGlvbkRlbGF5KSA6IGNvbmZpZy5tYXhTdGFydmF0aW9uRGVsYXksXG4gICAgICAgICAgICBid0ZhY3RvciA9IGNvbmZpZy5hYnJCYW5kV2lkdGhGYWN0b3IsXG4gICAgICAgICAgICBid1VwRmFjdG9yID0gY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yO1xuICAgICAgICBpZiAoYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgLy8gaW4gY2FzZSBidWZmZXIgaXMgZW1wdHksIGxldCdzIGNoZWNrIGlmIHByZXZpb3VzIGZyYWdtZW50IHdhcyBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdFxuICAgICAgICAgIHZhciBiaXRyYXRlVGVzdERlbGF5ID0gdGhpcy5iaXRyYXRlVGVzdERlbGF5O1xuICAgICAgICAgIGlmIChiaXRyYXRlVGVzdERlbGF5KSB7XG4gICAgICAgICAgICAvLyBpZiBpdCBpcyB0aGUgY2FzZSwgdGhlbiB3ZSBuZWVkIHRvIGFkanVzdCBvdXIgbWF4IHN0YXJ2YXRpb24gZGVsYXkgdXNpbmcgbWF4TG9hZGluZ0RlbGF5IGNvbmZpZyB2YWx1ZVxuICAgICAgICAgICAgLy8gbWF4IHZpZGVvIGxvYWRpbmcgZGVsYXkgdXNlZCBpbiAgYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiA6XG4gICAgICAgICAgICAvLyBpbiB0aGF0IG1vZGUgQUJSIGNvbnRyb2xsZXIgd2lsbCBlbnN1cmUgdGhhdCB2aWRlbyBsb2FkaW5nIHRpbWUgKGllIHRoZSB0aW1lIHRvIGZldGNoIHRoZSBmaXJzdCBmcmFnbWVudCBhdCBsb3dlc3QgcXVhbGl0eSBsZXZlbCArXG4gICAgICAgICAgICAvLyB0aGUgdGltZSB0byBmZXRjaCB0aGUgZnJhZ21lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHF1YWxpdHkgbGV2ZWwgaXMgbGVzcyB0aGFuIGBgYG1heExvYWRpbmdEZWxheWBgYCApXG4gICAgICAgICAgICAvLyBjYXAgbWF4TG9hZGluZ0RlbGF5IGFuZCBlbnN1cmUgaXQgaXMgbm90IGJpZ2dlciAndGhhbiBiaXRyYXRlIHRlc3QnIGZyYWcgZHVyYXRpb25cbiAgICAgICAgICAgIHZhciBtYXhMb2FkaW5nRGVsYXkgPSBjdXJyZW50RnJhZ0R1cmF0aW9uID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heExvYWRpbmdEZWxheSkgOiBjb25maWcubWF4TG9hZGluZ0RlbGF5O1xuICAgICAgICAgICAgbWF4U3RhcnZhdGlvbkRlbGF5ID0gbWF4TG9hZGluZ0RlbGF5IC0gYml0cmF0ZVRlc3REZWxheTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdiaXRyYXRlIHRlc3QgdG9vayAnICsgTWF0aC5yb3VuZCgxMDAwICogYml0cmF0ZVRlc3REZWxheSkgKyAnbXMsIHNldCBmaXJzdCBmcmFnbWVudCBtYXggZmV0Y2hEdXJhdGlvbiB0byAnICsgTWF0aC5yb3VuZCgxMDAwICogbWF4U3RhcnZhdGlvbkRlbGF5KSArICcgbXMnKTtcbiAgICAgICAgICAgIC8vIGRvbid0IHVzZSBjb25zZXJ2YXRpdmUgZmFjdG9yIG9uIGJpdHJhdGUgdGVzdFxuICAgICAgICAgICAgYndGYWN0b3IgPSBid1VwRmFjdG9yID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYmVzdExldmVsID0gdGhpcy5fZmluZEJlc3RMZXZlbChjdXJyZW50TGV2ZWwsIGN1cnJlbnRGcmFnRHVyYXRpb24sIGF2Z2J3LCBtaW5BdXRvTGV2ZWwsIG1heEF1dG9MZXZlbCwgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ICsgbWF4U3RhcnZhdGlvbkRlbGF5LCBid0ZhY3RvciwgYndVcEZhY3RvciwgbGV2ZWxzKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGJlc3RMZXZlbCwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFickNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhYnJfY29udHJvbGxlciA9IChhYnJfY29udHJvbGxlcl9BYnJDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIGJ1ZmZlcl9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGJ1ZmZlcl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBidWZmZXJfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIEJ1ZmZlciBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxudmFyIGJ1ZmZlcl9jb250cm9sbGVyX0J1ZmZlckNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBidWZmZXJfY29udHJvbGxlcl9faW5oZXJpdHMoQnVmZmVyQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gQnVmZmVyQ29udHJvbGxlcihobHMpIHtcbiAgICBidWZmZXJfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyQ29udHJvbGxlcik7XG5cbiAgICAvLyB0aGUgdmFsdWUgdGhhdCB3ZSBoYXZlIHNldCBtZWRpYXNvdXJjZS5kdXJhdGlvbiB0b1xuICAgIC8vICh0aGUgYWN0dWFsIGR1cmF0aW9uIG1heSBiZSB0d2Vha2VkIHNsaWdobHkgYnkgdGhlIGJyb3dzZXIpXG4gICAgdmFyIF90aGlzID0gYnVmZmVyX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX1BBUlNFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9SRVNFVCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQ09ERUNTLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0VPUywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1BUU19VUERBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfVVBEQVRFRCkpO1xuXG4gICAgX3RoaXMuX21zRHVyYXRpb24gPSBudWxsO1xuICAgIC8vIHRoZSB2YWx1ZSB0aGF0IHdlIHdhbnQgdG8gc2V0IG1lZGlhU291cmNlLmR1cmF0aW9uIHRvXG4gICAgX3RoaXMuX2xldmVsRHVyYXRpb24gPSBudWxsO1xuXG4gICAgLy8gU291cmNlIEJ1ZmZlciBsaXN0ZW5lcnNcbiAgICBfdGhpcy5vbnNidWUgPSBfdGhpcy5vblNCVXBkYXRlRW5kLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uc2JlID0gX3RoaXMub25TQlVwZGF0ZUVycm9yLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICBfdGhpcy50cmFja3MgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbFB0c1VwZGF0ZWQgPSBmdW5jdGlvbiBvbkxldmVsUHRzVXBkYXRlZChkYXRhKSB7XG4gICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgdmFyIGF1ZGlvVHJhY2sgPSB0aGlzLnRyYWNrcy5hdWRpbztcblxuICAgIC8vIEFkanVzdGluZyBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGAgKGRlc2lyZWQgcG9pbnQgaW4gdGhlIHRpbWVsaW5lIHdoZXJlIHRoZSBuZXh0IGZyYW1lcyBzaG91bGQgYmUgYXBwZW5kZWQpXG4gICAgLy8gaW4gQ2hyb21lIGJyb3dzZXIgd2hlbiB3ZSBkZXRlY3QgTVBFRyBhdWRpbyBjb250YWluZXIgYW5kIHRpbWUgZGVsdGEgYmV0d2VlbiBsZXZlbCBQVFMgYW5kIGBTb3VyY2VCdWZmZXIudGltZXN0YW1wT2Zmc2V0YFxuICAgIC8vIGlzIGdyZWF0ZXIgdGhhbiAxMDBtcyAodGhpcyBpcyBlbm91Z2ggdG8gaGFuZGxlIHNlZWsgZm9yIFZPRCBvciBsZXZlbCBjaGFuZ2UgZm9yIExJVkUgdmlkZW9zKS4gQXQgdGhlIHRpbWUgb2YgY2hhbmdlIHdlIGlzc3VlXG4gICAgLy8gYFNvdXJjZUJ1ZmZlci5hYm9ydCgpYCBhbmQgYWRqdXN0aW5nIGBTb3VyY2VCdWZmZXIudGltZXN0YW1wT2Zmc2V0YCBpZiBgU291cmNlQnVmZmVyLnVwZGF0aW5nYCBpcyBmYWxzZSBvciBhd2FpdGluZyBgdXBkYXRlZW5kYFxuICAgIC8vIGV2ZW50IGlmIFNCIGlzIGluIHVwZGF0aW5nIHN0YXRlLlxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvMzMyI2lzc3VlY29tbWVudC0yNTc5ODY0ODZcblxuICAgIGlmICh0eXBlID09PSAnYXVkaW8nICYmIGF1ZGlvVHJhY2sgJiYgYXVkaW9UcmFjay5jb250YWluZXIgPT09ICdhdWRpby9tcGVnJykge1xuICAgICAgLy8gQ2hyb21lIGF1ZGlvIG1wMyB0cmFja1xuICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIuYXVkaW87XG4gICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgLSBkYXRhLnN0YXJ0KTtcblxuICAgICAgLy8gYWRqdXN0IHRpbWVzdGFtcCBvZmZzZXQgaWYgdGltZSBkZWx0YSBpcyBncmVhdGVyIHRoYW4gMTAwbXNcbiAgICAgIGlmIChkZWx0YSA+IDAuMSkge1xuICAgICAgICB2YXIgdXBkYXRpbmcgPSBhdWRpb0J1ZmZlci51cGRhdGluZztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF1ZGlvQnVmZmVyLmFib3J0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdjYW4gbm90IGFib3J0IGF1ZGlvIGJ1ZmZlcjogJyArIGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVwZGF0aW5nKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignY2hhbmdlIG1wZWcgYXVkaW8gdGltZXN0YW1wIG9mZnNldCBmcm9tICcgKyBhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgKyAnIHRvICcgKyBkYXRhLnN0YXJ0KTtcbiAgICAgICAgICBhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgPSBkYXRhLnN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQgPSBkYXRhLnN0YXJ0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0UGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgYXVkaW9FeHBlY3RlZCA9IGRhdGEuYXVkaW8sXG4gICAgICAgIHZpZGVvRXhwZWN0ZWQgPSBkYXRhLnZpZGVvIHx8IGRhdGEubGV2ZWxzLmxlbmd0aCAmJiBkYXRhLmF1ZGlvLFxuICAgICAgICBzb3VyY2VCdWZmZXJOYiA9IDA7XG4gICAgLy8gaW4gY2FzZSBvZiBhbHQgYXVkaW8gMiBCVUZGRVJfQ09ERUNTIGV2ZW50cyB3aWxsIGJlIHRyaWdnZXJlZCwgb25lIHBlciBzdHJlYW0gY29udHJvbGxlclxuICAgIC8vIHNvdXJjZWJ1ZmZlcnMgd2lsbCBiZSBjcmVhdGVkIGFsbCBhdCBvbmNlIHdoZW4gdGhlIGV4cGVjdGVkIG5iIG9mIHRyYWNrcyB3aWxsIGJlIHJlYWNoZWRcbiAgICAvLyBpbiBjYXNlIGFsdCBhdWRpbyBpcyBub3QgdXNlZCwgb25seSBvbmUgQlVGRkVSX0NPREVDIGV2ZW50IHdpbGwgYmUgZmlyZWQgZnJvbSBtYWluIHN0cmVhbSBjb250cm9sbGVyXG4gICAgLy8gaXQgd2lsbCBjb250YWluIHRoZSBleHBlY3RlZCBuYiBvZiBzb3VyY2UgYnVmZmVycywgbm8gbmVlZCB0byBjb21wdXRlIGl0XG4gICAgaWYgKGRhdGEuYWx0QXVkaW8gJiYgKGF1ZGlvRXhwZWN0ZWQgfHwgdmlkZW9FeHBlY3RlZCkpIHtcbiAgICAgIHNvdXJjZUJ1ZmZlck5iID0gKGF1ZGlvRXhwZWN0ZWQgPyAxIDogMCkgKyAodmlkZW9FeHBlY3RlZCA/IDEgOiAwKTtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyhzb3VyY2VCdWZmZXJOYiArICcgc291cmNlQnVmZmVyKHMpIGV4cGVjdGVkJyk7XG4gICAgfVxuICAgIHRoaXMuc291cmNlQnVmZmVyTmIgPSBzb3VyY2VCdWZmZXJOYjtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGluZyhkYXRhKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICAvLyBzZXR1cCB0aGUgbWVkaWEgc291cmNlXG4gICAgICB2YXIgbXMgPSB0aGlzLm1lZGlhU291cmNlID0gbmV3IE1lZGlhU291cmNlKCk7XG4gICAgICAvL01lZGlhIFNvdXJjZSBsaXN0ZW5lcnNcbiAgICAgIHRoaXMub25tc28gPSB0aGlzLm9uTWVkaWFTb3VyY2VPcGVuLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9ubXNlID0gdGhpcy5vbk1lZGlhU291cmNlRW5kZWQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMub25tc2MgPSB0aGlzLm9uTWVkaWFTb3VyY2VDbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMub25tc28pO1xuICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLm9ubXNlKTtcbiAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5vbm1zYyk7XG4gICAgICAvLyBsaW5rIHZpZGVvIGFuZCBtZWRpYSBTb3VyY2VcbiAgICAgIG1lZGlhLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwobXMpO1xuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNvdXJjZSBkZXRhY2hpbmcnKTtcbiAgICB2YXIgbXMgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgIGlmIChtcykge1xuICAgICAgaWYgKG1zLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIGVuZE9mU3RyZWFtIGNvdWxkIHRyaWdnZXIgZXhjZXB0aW9uIGlmIGFueSBzb3VyY2VidWZmZXIgaXMgaW4gdXBkYXRpbmcgc3RhdGVcbiAgICAgICAgICAvLyB3ZSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCBjaGVja2luZyBzb3VyY2VidWZmZXIgc3RhdGUgaGVyZSxcbiAgICAgICAgICAvLyBhcyB3ZSBhcmUgYW55d2F5IGRldGFjaGluZyB0aGUgTWVkaWFTb3VyY2VcbiAgICAgICAgICAvLyBsZXQncyBqdXN0IGF2b2lkIHRoaXMgZXhjZXB0aW9uIHRvIHByb3BhZ2F0ZVxuICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ29uTWVkaWFEZXRhY2hpbmc6JyArIGVyci5tZXNzYWdlICsgJyB3aGlsZSBjYWxsaW5nIGVuZE9mU3RyZWFtJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLm9ubXNvKTtcbiAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5vbm1zZSk7XG4gICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMub25tc2MpO1xuXG4gICAgICAvLyBEZXRhY2ggcHJvcGVybHkgdGhlIE1lZGlhU291cmNlIGZyb20gdGhlIEhUTUxNZWRpYUVsZW1lbnQgYXNcbiAgICAgIC8vIHN1Z2dlc3RlZCBpbiBodHRwczovL2dpdGh1Yi5jb20vdzNjL21lZGlhLXNvdXJjZS9pc3N1ZXMvNTMuXG4gICAgICBpZiAodGhpcy5tZWRpYSkge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMubWVkaWEuc3JjKTtcbiAgICAgICAgdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICB0aGlzLm1lZGlhLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tZWRpYVNvdXJjZSA9IG51bGw7XG4gICAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICAgIHRoaXMucGVuZGluZ1RyYWNrcyA9IHt9O1xuICAgICAgdGhpcy50cmFja3MgPSB7fTtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVyID0ge307XG4gICAgICB0aGlzLmZsdXNoUmFuZ2UgPSBbXTtcbiAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgIHRoaXMuYXBwZW5kZWQgPSAwO1xuICAgIH1cbiAgICB0aGlzLm9ubXNvID0gdGhpcy5vbm1zZSA9IHRoaXMub25tc2MgPSBudWxsO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSEVEKTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU291cmNlT3BlbiA9IGZ1bmN0aW9uIG9uTWVkaWFTb3VyY2VPcGVuKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc291cmNlIG9wZW5lZCcpO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCB7IG1lZGlhOiB0aGlzLm1lZGlhIH0pO1xuICAgIHZhciBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAvLyBvbmNlIHJlY2VpdmVkLCBkb24ndCBsaXN0ZW4gYW55bW9yZSB0byBzb3VyY2VvcGVuIGV2ZW50XG4gICAgICBtZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nVHJhY2tzID0gZnVuY3Rpb24gY2hlY2tQZW5kaW5nVHJhY2tzKCkge1xuICAgIC8vIGlmIGFueSBidWZmZXIgY29kZWNzIHBlbmRpbmcsIGNoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHRvIGNyZWF0ZSBzb3VyY2VCdWZmZXJzXG4gICAgdmFyIHBlbmRpbmdUcmFja3MgPSB0aGlzLnBlbmRpbmdUcmFja3MsXG4gICAgICAgIHBlbmRpbmdUcmFja3NOYiA9IE9iamVjdC5rZXlzKHBlbmRpbmdUcmFja3MpLmxlbmd0aDtcbiAgICAvLyBpZiBhbnkgcGVuZGluZyB0cmFja3MgYW5kIChpZiBuYiBvZiBwZW5kaW5nIHRyYWNrcyBndCBvciBlcXVhbCB0aGFuIGV4cGVjdGVkIG5iIG9yIGlmIHVua25vd24gZXhwZWN0ZWQgbmIpXG4gICAgaWYgKHBlbmRpbmdUcmFja3NOYiAmJiAodGhpcy5zb3VyY2VCdWZmZXJOYiA8PSBwZW5kaW5nVHJhY2tzTmIgfHwgdGhpcy5zb3VyY2VCdWZmZXJOYiA9PT0gMCkpIHtcbiAgICAgIC8vIG9rLCBsZXQncyBjcmVhdGUgdGhlbSBub3cgIVxuICAgICAgdGhpcy5jcmVhdGVTb3VyY2VCdWZmZXJzKHBlbmRpbmdUcmFja3MpO1xuICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgICAvLyBhcHBlbmQgYW55IHBlbmRpbmcgc2VnbWVudHMgbm93ICFcbiAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNvdXJjZUNsb3NlID0gZnVuY3Rpb24gb25NZWRpYVNvdXJjZUNsb3NlKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc291cmNlIGNsb3NlZCcpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VFbmRlZCA9IGZ1bmN0aW9uIG9uTWVkaWFTb3VyY2VFbmRlZCgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNvdXJjZSBlbmRlZCcpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uU0JVcGRhdGVFbmQgPSBmdW5jdGlvbiBvblNCVXBkYXRlRW5kKCkge1xuICAgIC8vIHVwZGF0ZSB0aW1lc3RhbXBPZmZzZXRcbiAgICBpZiAodGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldCkge1xuICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIuYXVkaW87XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdjaGFuZ2UgbXBlZyBhdWRpbyB0aW1lc3RhbXAgb2Zmc2V0IGZyb20gJyArIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCArICcgdG8gJyArIHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQpO1xuICAgICAgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ID0gdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldDtcbiAgICAgIGRlbGV0ZSB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICB0aGlzLmRvRmx1c2goKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbmVlZHNFb3MpIHtcbiAgICAgIHRoaXMuY2hlY2tFb3MoKTtcbiAgICB9XG4gICAgdGhpcy5hcHBlbmRpbmcgPSBmYWxzZTtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgLy8gY291bnQgbmIgb2YgcGVuZGluZyBzZWdtZW50cyB3YWl0aW5nIGZvciBhcHBlbmRpbmcgb24gdGhpcyBzb3VyY2VidWZmZXJcbiAgICB2YXIgcGVuZGluZyA9IHRoaXMuc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChjb3VudGVyLCBzZWdtZW50KSB7XG4gICAgICByZXR1cm4gc2VnbWVudC5wYXJlbnQgPT09IHBhcmVudCA/IGNvdW50ZXIgKyAxIDogY291bnRlcjtcbiAgICB9LCAwKTtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ERUQsIHsgcGFyZW50OiBwYXJlbnQsIHBlbmRpbmc6IHBlbmRpbmcgfSk7XG5cbiAgICAvLyBkb24ndCBhcHBlbmQgaW4gZmx1c2hpbmcgbW9kZVxuICAgIGlmICghdGhpcy5fbmVlZHNGbHVzaCkge1xuICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblNCVXBkYXRlRXJyb3IgPSBmdW5jdGlvbiBvblNCVXBkYXRlRXJyb3IoZXZlbnQpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignc291cmNlQnVmZmVyIGVycm9yOicsIGV2ZW50KTtcbiAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3d3dy53My5vcmcvVFIvbWVkaWEtc291cmNlLyNzb3VyY2VidWZmZXItYXBwZW5kLWVycm9yXG4gICAgLy8gdGhpcyBlcnJvciBtaWdodCBub3QgYWx3YXlzIGJlIGZhdGFsIChpdCBpcyBmYXRhbCBpZiBkZWNvZGUgZXJyb3IgaXMgc2V0LCBpbiB0aGF0IGNhc2VcbiAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9BUFBFTkRJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSB9KTtcbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGRvIG1vcmUgdGhhbiB0aGF0LCBhcyBhY2NvcmRpbiB0byB0aGUgc3BlYywgdXBkYXRlZW5kIHdpbGwgYmUgZmlyZWQganVzdCBhZnRlclxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyUmVzZXQgPSBmdW5jdGlvbiBvbkJ1ZmZlclJlc2V0KCkge1xuICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICBmb3IgKHZhciB0eXBlIGluIHNvdXJjZUJ1ZmZlcikge1xuICAgICAgdmFyIHNiID0gc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVTb3VyY2VCdWZmZXIoc2IpO1xuICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uc2J1ZSk7XG4gICAgICAgIHNiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vbnNiZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgfVxuICAgIHRoaXMuc291cmNlQnVmZmVyID0ge307XG4gICAgdGhpcy5mbHVzaFJhbmdlID0gW107XG4gICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgIHRoaXMuYXBwZW5kZWQgPSAwO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ29kZWNzID0gZnVuY3Rpb24gb25CdWZmZXJDb2RlY3ModHJhY2tzKSB7XG4gICAgLy8gaWYgc291cmNlIGJ1ZmZlcihzKSBub3QgY3JlYXRlZCB5ZXQsIGFwcGVuZGVkIGJ1ZmZlciB0cmFja3MgaW4gdGhpcy5wZW5kaW5nVHJhY2tzXG4gICAgLy8gaWYgc291cmNlYnVmZmVycyBhbHJlYWR5IGNyZWF0ZWQsIGRvIG5vdGhpbmcgLi4uXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc291cmNlQnVmZmVyKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGZvciAodmFyIHRyYWNrTmFtZSBpbiB0cmFja3MpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzW3RyYWNrTmFtZV0gPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgIH1cbiAgICAgIHZhciBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgICBpZiAobWVkaWFTb3VyY2UgJiYgbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgIC8vIHRyeSB0byBjcmVhdGUgc291cmNlYnVmZmVycyBpZiBtZWRpYXNvdXJjZSBvcGVuZWRcbiAgICAgICAgdGhpcy5jaGVja1BlbmRpbmdUcmFja3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuY3JlYXRlU291cmNlQnVmZmVycyA9IGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUJ1ZmZlcnModHJhY2tzKSB7XG4gICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLFxuICAgICAgICBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG5cbiAgICBmb3IgKHZhciB0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICBpZiAoIXNvdXJjZUJ1ZmZlclt0cmFja05hbWVdKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgICAvLyB1c2UgbGV2ZWxDb2RlYyBhcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICB2YXIgY29kZWMgPSB0cmFjay5sZXZlbENvZGVjIHx8IHRyYWNrLmNvZGVjO1xuICAgICAgICB2YXIgbWltZVR5cGUgPSB0cmFjay5jb250YWluZXIgKyAnO2NvZGVjcz0nICsgY29kZWM7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnY3JlYXRpbmcgc291cmNlQnVmZmVyKCcgKyBtaW1lVHlwZSArICcpJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHNiID0gc291cmNlQnVmZmVyW3RyYWNrTmFtZV0gPSBtZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMub25zYnVlKTtcbiAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25zYmUpO1xuICAgICAgICAgIHRoaXMudHJhY2tzW3RyYWNrTmFtZV0gPSB7IGNvZGVjOiBjb2RlYywgY29udGFpbmVyOiB0cmFjay5jb250YWluZXIgfTtcbiAgICAgICAgICB0cmFjay5idWZmZXIgPSBzYjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2Vycm9yIHdoaWxlIHRyeWluZyB0byBhZGQgc291cmNlQnVmZmVyOicgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfQUREX0NPREVDX0VSUk9SLCBmYXRhbDogZmFsc2UsIGVycjogZXJyLCBtaW1lVHlwZTogbWltZVR5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NSRUFURUQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRpbmcgPSBmdW5jdGlvbiBvbkJ1ZmZlckFwcGVuZGluZyhkYXRhKSB7XG4gICAgaWYgKCF0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudHMpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtkYXRhXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMucHVzaChkYXRhKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRGYWlsID0gZnVuY3Rpb24gb25CdWZmZXJBcHBlbmRGYWlsKGRhdGEpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignc291cmNlQnVmZmVyIGVycm9yOicsIGRhdGEuZXZlbnQpO1xuICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vd3d3LnczLm9yZy9UUi9tZWRpYS1zb3VyY2UvI3NvdXJjZWJ1ZmZlci1hcHBlbmQtZXJyb3JcbiAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgIC8vIGl0IHdpbGwgYmUgZm9sbG93ZWQgYnkgYSBtZWRpYUVsZW1lbnQgZXJyb3IgLi4uKVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0FQUEVORElOR19FUlJPUiwgZmF0YWw6IGZhbHNlIH0pO1xuICB9O1xuXG4gIC8vIG9uIEJVRkZFUl9FT1MgbWFyayBtYXRjaGluZyBzb3VyY2VidWZmZXIocykgYXMgZW5kZWQgYW5kIHRyaWdnZXIgY2hlY2tFb3MoKVxuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJFb3MgPSBmdW5jdGlvbiBvbkJ1ZmZlckVvcyhkYXRhKSB7XG4gICAgdmFyIHNiID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgdmFyIGRhdGFUeXBlID0gZGF0YS50eXBlO1xuICAgIGZvciAodmFyIHR5cGUgaW4gc2IpIHtcbiAgICAgIGlmICghZGF0YVR5cGUgfHwgdHlwZSA9PT0gZGF0YVR5cGUpIHtcbiAgICAgICAgaWYgKCFzYlt0eXBlXS5lbmRlZCkge1xuICAgICAgICAgIHNiW3R5cGVdLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2codHlwZSArICcgc291cmNlQnVmZmVyIG5vdyBFT1MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoZWNrRW9zKCk7XG4gIH07XG5cbiAgLy8gaWYgYWxsIHNvdXJjZSBidWZmZXJzIGFyZSBtYXJrZWQgYXMgZW5kZWQsIHNpZ25hbCBlbmRPZlN0cmVhbSgpIHRvIE1lZGlhU291cmNlLlxuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuY2hlY2tFb3MgPSBmdW5jdGlvbiBjaGVja0VvcygpIHtcbiAgICB2YXIgc2IgPSB0aGlzLnNvdXJjZUJ1ZmZlcixcbiAgICAgICAgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgIGlmICghbWVkaWFTb3VyY2UgfHwgbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICB0aGlzLl9uZWVkc0VvcyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciB0eXBlIGluIHNiKSB7XG4gICAgICB2YXIgc2JvYmogPSBzYlt0eXBlXTtcbiAgICAgIGlmICghc2JvYmouZW5kZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNib2JqLnVwZGF0aW5nKSB7XG4gICAgICAgIHRoaXMuX25lZWRzRW9zID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FsbCBtZWRpYSBkYXRhIGF2YWlsYWJsZSwgc2lnbmFsIGVuZE9mU3RyZWFtKCkgdG8gTWVkaWFTb3VyY2UgYW5kIHN0b3AgbG9hZGluZyBmcmFnbWVudCcpO1xuICAgIC8vTm90aWZ5IHRoZSBtZWRpYSBlbGVtZW50IHRoYXQgaXQgbm93IGhhcyBhbGwgb2YgdGhlIG1lZGlhIGRhdGFcbiAgICB0cnkge1xuICAgICAgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdleGNlcHRpb24gd2hpbGUgY2FsbGluZyBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpJyk7XG4gICAgfVxuICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJGbHVzaGluZyA9IGZ1bmN0aW9uIG9uQnVmZmVyRmx1c2hpbmcoZGF0YSkge1xuICAgIHRoaXMuZmx1c2hSYW5nZS5wdXNoKHsgc3RhcnQ6IGRhdGEuc3RhcnRPZmZzZXQsIGVuZDogZGF0YS5lbmRPZmZzZXQsIHR5cGU6IGRhdGEudHlwZSB9KTtcbiAgICAvLyBhdHRlbXB0IGZsdXNoIGltbWVkaWF0bHlcbiAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgdGhpcy5kb0ZsdXNoKCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbFVwZGF0ZWQgPSBmdW5jdGlvbiBvbkxldmVsVXBkYXRlZChldmVudCkge1xuICAgIHZhciBkZXRhaWxzID0gZXZlbnQuZGV0YWlscztcbiAgICBpZiAoZGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xldmVsRHVyYXRpb24gPSBkZXRhaWxzLnRvdGFsZHVyYXRpb24gKyBkZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICB0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCk7XG4gIH07XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzM1NVxuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24gPSBmdW5jdGlvbiB1cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2UsXG4gICAgICAgIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLFxuICAgICAgICBsZXZlbER1cmF0aW9uID0gdGhpcy5fbGV2ZWxEdXJhdGlvbjtcbiAgICBpZiAobGV2ZWxEdXJhdGlvbiA9PT0gbnVsbCB8fCAhbWVkaWEgfHwgIW1lZGlhU291cmNlIHx8ICFzb3VyY2VCdWZmZXIgfHwgbWVkaWEucmVhZHlTdGF0ZSA9PT0gMCB8fCBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgdHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgIGlmIChzb3VyY2VCdWZmZXJbdHlwZV0udXBkYXRpbmcpIHtcbiAgICAgICAgLy8gY2FuJ3Qgc2V0IGR1cmF0aW9uIHdoaWxzdCBhIGJ1ZmZlciBpcyB1cGRhdGluZ1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl9tc0R1cmF0aW9uID09PSBudWxsKSB7XG4gICAgICAvLyBpbml0aWFsaXNlIHRvIHRoZSB2YWx1ZSB0aGF0IHRoZSBtZWRpYSBzb3VyY2UgaXMgcmVwb3J0aW5nXG4gICAgICB0aGlzLl9tc0R1cmF0aW9uID0gbWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgfVxuICAgIHZhciBkdXJhdGlvbiA9IG1lZGlhLmR1cmF0aW9uO1xuICAgIC8vIGxldmVsRHVyYXRpb24gd2FzIHRoZSBsYXN0IHZhbHVlIHdlIHNldC5cbiAgICAvLyBub3QgdXNpbmcgbWVkaWFTb3VyY2UuZHVyYXRpb24gYXMgdGhlIGJyb3dzZXIgbWF5IHR3ZWFrIHRoaXMgdmFsdWVcbiAgICAvLyBvbmx5IHVwZGF0ZSBtZWRpYXNvdXJjZSBkdXJhdGlvbiBpZiBpdHMgdmFsdWUgaW5jcmVhc2UsIHRoaXMgaXMgdG8gYXZvaWRcbiAgICAvLyBmbHVzaGluZyBhbHJlYWR5IGJ1ZmZlcmVkIHBvcnRpb24gd2hlbiBzd2l0Y2hpbmcgYmV0d2VlbiBxdWFsaXR5IGxldmVsXG4gICAgaWYgKGxldmVsRHVyYXRpb24gPiB0aGlzLl9tc0R1cmF0aW9uICYmIGxldmVsRHVyYXRpb24gPiBkdXJhdGlvbiB8fCBkdXJhdGlvbiA9PT0gSW5maW5pdHkgfHwgaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1VwZGF0aW5nIG1lZGlhc291cmNlIGR1cmF0aW9uIHRvICcgKyBsZXZlbER1cmF0aW9uLnRvRml4ZWQoMykpO1xuICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IG1lZGlhU291cmNlLmR1cmF0aW9uID0gbGV2ZWxEdXJhdGlvbjtcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZG9GbHVzaCA9IGZ1bmN0aW9uIGRvRmx1c2goKSB7XG4gICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBidWZmZXIgcmFuZ2VzIHRvIGZsdXNoXG4gICAgd2hpbGUgKHRoaXMuZmx1c2hSYW5nZS5sZW5ndGgpIHtcbiAgICAgIHZhciByYW5nZSA9IHRoaXMuZmx1c2hSYW5nZVswXTtcbiAgICAgIC8vIGZsdXNoQnVmZmVyIHdpbGwgYWJvcnQgYW55IGJ1ZmZlciBhcHBlbmQgaW4gcHJvZ3Jlc3MgYW5kIGZsdXNoIEF1ZGlvL1ZpZGVvIEJ1ZmZlclxuICAgICAgaWYgKHRoaXMuZmx1c2hCdWZmZXIocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCwgcmFuZ2UudHlwZSkpIHtcbiAgICAgICAgLy8gcmFuZ2UgZmx1c2hlZCwgcmVtb3ZlIGZyb20gZmx1c2ggYXJyYXlcbiAgICAgICAgdGhpcy5mbHVzaFJhbmdlLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX25lZWRzRmx1c2ggPSB0cnVlO1xuICAgICAgICAvLyBhdm9pZCBsb29waW5nLCB3YWl0IGZvciBTQiB1cGRhdGUgZW5kIHRvIHJldHJpZ2dlciBhIGZsdXNoXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZmx1c2hSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIGV2ZXJ5dGhpbmcgZmx1c2hlZFxuICAgICAgdGhpcy5fbmVlZHNGbHVzaCA9IGZhbHNlO1xuXG4gICAgICAvLyBsZXQncyByZWNvbXB1dGUgdGhpcy5hcHBlbmRlZCwgd2hpY2ggaXMgdXNlZCB0byBhdm9pZCBmbHVzaCBsb29waW5nXG4gICAgICB2YXIgYXBwZW5kZWQgPSAwO1xuICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgICBhcHBlbmRlZCArPSBzb3VyY2VCdWZmZXJbdHlwZV0uYnVmZmVyZWQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBlcnJvciBjb3VsZCBiZSB0aHJvd24gd2hpbGUgYWNjZXNzaW5nIGJ1ZmZlcmVkLCBpbiBjYXNlIHNvdXJjZWJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZnJvbSBNZWRpYVNvdXJjZVxuICAgICAgICAvLyB0aGlzIGlzIGhhcm1lc3MgYXQgdGhpcyBzdGFnZSwgY2F0Y2ggdGhpcyB0byBhdm9pZCByZXBvcnRpbmcgYW4gaW50ZXJuYWwgZXhjZXB0aW9uXG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdlcnJvciB3aGlsZSBhY2Nlc3Npbmcgc291cmNlQnVmZmVyLmJ1ZmZlcmVkJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmFwcGVuZGVkID0gYXBwZW5kZWQ7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hFRCk7XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRvQXBwZW5kaW5nID0gZnVuY3Rpb24gZG9BcHBlbmRpbmcoKSB7XG4gICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcixcbiAgICAgICAgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgIGlmIChPYmplY3Qua2V5cyhzb3VyY2VCdWZmZXIpLmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMubWVkaWEuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcigndHJ5aW5nIHRvIGFwcGVuZCBhbHRob3VnaCBhIG1lZGlhIGVycm9yIG9jY3VyZWQsIGZsdXNoIHNlZ21lbnQgYW5kIGFib3J0Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFwcGVuZGluZykge1xuICAgICAgICAvL2xvZ2dlci5sb2coYHNiIGFwcGVuZGluZyBpbiBwcm9ncmVzc2ApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2VnbWVudHMgJiYgc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgdHlwZSA9IHNlZ21lbnQudHlwZSxcbiAgICAgICAgICAgICAgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHNvdXJjZUJ1ZmZlciBlbmRlZCBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgc2VnbWVudFxuICAgICAgICAgICAgICBzYi5lbmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAvL2xvZ2dlci5sb2coYGFwcGVuZGluZyAke3NlZ21lbnQuY29udGVudH0gJHt0eXBlfSBTQiwgc2l6ZToke3NlZ21lbnQuZGF0YS5sZW5ndGh9LCAke3NlZ21lbnQucGFyZW50fWApO1xuICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHNlZ21lbnQucGFyZW50O1xuICAgICAgICAgICAgICBzYi5hcHBlbmRCdWZmZXIoc2VnbWVudC5kYXRhKTtcbiAgICAgICAgICAgICAgdGhpcy5hcHBlbmRFcnJvciA9IDA7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQrKztcbiAgICAgICAgICAgICAgdGhpcy5hcHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VnbWVudHMudW5zaGlmdChzZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBkb24ndCBoYXZlIGFueSBzb3VyY2UgYnVmZmVyIG1hdGNoaW5nIHdpdGggdGhpcyBzZWdtZW50IHR5cGUsXG4gICAgICAgICAgICAvLyBpdCBtZWFucyB0aGF0IE1lZGlhc291cmNlIGZhaWxzIHRvIGNyZWF0ZSBzb3VyY2VidWZmZXJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgdGhpcyBzZWdtZW50LCBhbmQgdHJpZ2dlciB1cGRhdGUgZW5kXG4gICAgICAgICAgICB0aGlzLm9uU0JVcGRhdGVFbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIC8vIGluIGNhc2UgYW55IGVycm9yIG9jY3VyZWQgd2hpbGUgYXBwZW5kaW5nLCBwdXQgYmFjayBzZWdtZW50IGluIHNlZ21lbnRzIHRhYmxlXG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2Vycm9yIHdoaWxlIHRyeWluZyB0byBhcHBlbmQgYnVmZmVyOicgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgc2VnbWVudHMudW5zaGlmdChzZWdtZW50KTtcbiAgICAgICAgICB2YXIgZXZlbnQgPSB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgcGFyZW50OiBzZWdtZW50LnBhcmVudCB9O1xuICAgICAgICAgIGlmIChlcnIuY29kZSAhPT0gMjIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFwcGVuZEVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQuZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9BUFBFTkRfRVJST1I7XG4gICAgICAgICAgICAvKiB3aXRoIFVIRCBjb250ZW50LCB3ZSBjb3VsZCBnZXQgbG9vcCBvZiBxdW90YSBleGNlZWRlZCBlcnJvciB1bnRpbFxuICAgICAgICAgICAgICBicm93c2VyIGlzIGFibGUgdG8gZXZpY3Qgc29tZSBkYXRhIGZyb20gc291cmNlYnVmZmVyLiByZXRyeWluZyBoZWxwIHJlY292ZXJpbmcgdGhpc1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmFwcGVuZEVycm9yID4gaGxzLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5KSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZmFpbCAnICsgaGxzLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5ICsgJyB0aW1lcyB0byBhcHBlbmQgc2VnbWVudCBpbiBzb3VyY2VCdWZmZXInKTtcbiAgICAgICAgICAgICAgc2VnbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFF1b3RhRXhjZWVkZWRFcnJvcjogaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNxdW90YWV4Y2VlZGVkZXJyb3JcbiAgICAgICAgICAgIC8vIGxldCdzIHN0b3AgYXBwZW5kaW5nIGFueSBzZWdtZW50cywgYW5kIHJlcG9ydCBCVUZGRVJfRlVMTF9FUlJPUiBlcnJvclxuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgZXZlbnQuZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9GVUxMX0VSUk9SO1xuICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuICAgIGZsdXNoIHNwZWNpZmllZCBidWZmZXJlZCByYW5nZSxcbiAgICByZXR1cm4gdHJ1ZSBvbmNlIHJhbmdlIGhhcyBiZWVuIGZsdXNoZWQuXG4gICAgYXMgc291cmNlQnVmZmVyLnJlbW92ZSgpIGlzIGFzeW5jaHJvbm91cywgZmx1c2hCdWZmZXIgd2lsbCBiZSByZXRyaWdnZXJlZCBvbiBzb3VyY2VCdWZmZXIgdXBkYXRlIGVuZFxuICAqL1xuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZmx1c2hCdWZmZXIgPSBmdW5jdGlvbiBmbHVzaEJ1ZmZlcihzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCB0eXBlSW4pIHtcbiAgICB2YXIgc2IsXG4gICAgICAgIGksXG4gICAgICAgIGJ1ZlN0YXJ0LFxuICAgICAgICBidWZFbmQsXG4gICAgICAgIGZsdXNoU3RhcnQsXG4gICAgICAgIGZsdXNoRW5kLFxuICAgICAgICBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlQnVmZmVyKS5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZmx1c2hCdWZmZXIscG9zL3N0YXJ0L2VuZDogJyArIHRoaXMubWVkaWEuY3VycmVudFRpbWUudG9GaXhlZCgzKSArICcvJyArIHN0YXJ0T2Zmc2V0ICsgJy8nICsgZW5kT2Zmc2V0KTtcbiAgICAgIC8vIHNhZmVndWFyZCB0byBhdm9pZCBpbmZpbml0ZSBsb29waW5nIDogZG9uJ3QgdHJ5IHRvIGZsdXNoIG1vcmUgdGhhbiB0aGUgbmIgb2YgYXBwZW5kZWQgc2VnbWVudHNcbiAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA8IHRoaXMuYXBwZW5kZWQpIHtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBzb3VyY2VidWZmZXIgdHlwZSBpcyBkZWZpbmVkICh0eXBlSW4pOiBpZiB5ZXMsIGxldCdzIG9ubHkgZmx1c2ggdGhpcyBvbmVcbiAgICAgICAgICAvLyBpZiBubywgbGV0J3MgZmx1c2ggYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICBpZiAodHlwZUluICYmIHR5cGUgIT09IHR5cGVJbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNiID0gc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgICAgIC8vIHdlIGFyZSBnb2luZyB0byBmbHVzaCBidWZmZXIsIG1hcmsgc291cmNlIGJ1ZmZlciBhcyAnbm90IGVuZGVkJ1xuICAgICAgICAgIHNiLmVuZGVkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNiLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnVmU3RhcnQgPSBzYi5idWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgICAgICBidWZFbmQgPSBzYi5idWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmaXJlZm94IG5vdCBhYmxlIHRvIHByb3Blcmx5IGZsdXNoIG11bHRpcGxlIGJ1ZmZlcmVkIHJhbmdlLlxuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMSAmJiBlbmRPZmZzZXQgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgZmx1c2hTdGFydCA9IHN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgZmx1c2hFbmQgPSBlbmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZsdXNoU3RhcnQgPSBNYXRoLm1heChidWZTdGFydCwgc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgZmx1c2hFbmQgPSBNYXRoLm1pbihidWZFbmQsIGVuZE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIHNvbWV0aW1lcyBzb3VyY2VidWZmZXIucmVtb3ZlKCkgZG9lcyBub3QgZmx1c2hcbiAgICAgICAgICAgICAgICAgICB0aGUgZXhhY3QgZXhwZWN0ZWQgdGltZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICB0byBhdm9pZCByb3VuZGluZyBpc3N1ZXMvaW5maW5pdGUgbG9vcCxcbiAgICAgICAgICAgICAgICAgICBvbmx5IGZsdXNoIGJ1ZmZlciByYW5nZSBvZiBsZW5ndGggZ3JlYXRlciB0aGFuIDUwMG1zLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKGZsdXNoRW5kLCBidWZFbmQpIC0gZmx1c2hTdGFydCA+IDAuNSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlckNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZmx1c2ggJyArIHR5cGUgKyAnIFsnICsgZmx1c2hTdGFydCArICcsJyArIGZsdXNoRW5kICsgJ10sIG9mIFsnICsgYnVmU3RhcnQgKyAnLCcgKyBidWZFbmQgKyAnXSwgcG9zOicgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZShmbHVzaFN0YXJ0LCBmbHVzaEVuZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2V4Y2VwdGlvbiB3aGlsZSBhY2Nlc3Npbmcgc291cmNlYnVmZmVyLCBpdCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIE1lZGlhU291cmNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vbG9nZ2VyLmxvZygnYWJvcnQgJyArIHR5cGUgKyAnIGFwcGVuZCBpbiBwcm9ncmVzcycpO1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFib3J0IGFueSBhcHBlbmRpbmcgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vc2IuYWJvcnQoKTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2Nhbm5vdCBmbHVzaCwgc2IgdXBkYXRpbmcgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2Fib3J0IGZsdXNoaW5nIHRvbyBtYW55IHJldHJpZXMnKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYnVmZmVyIGZsdXNoZWQnKTtcbiAgICB9XG4gICAgLy8gZXZlcnl0aGluZyBmbHVzaGVkICFcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gQnVmZmVyQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJ1ZmZlcl9jb250cm9sbGVyID0gKGJ1ZmZlcl9jb250cm9sbGVyX0J1ZmZlckNvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9jYXAtbGV2ZWwtY29udHJvbGxlci5qc1xudmFyIGNhcF9sZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gY2FwX2xldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gY2FwX2xldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGNhcF9sZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogY2FwIHN0cmVhbSBsZXZlbCB0byBtZWRpYSBzaXplIGRpbWVuc2lvbiBjb250cm9sbGVyXG4qL1xuXG5cblxuXG52YXIgY2FwX2xldmVsX2NvbnRyb2xsZXJfQ2FwTGV2ZWxDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgY2FwX2xldmVsX2NvbnRyb2xsZXJfX2luaGVyaXRzKENhcExldmVsQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gQ2FwTGV2ZWxDb250cm9sbGVyKGhscykge1xuICAgIGNhcF9sZXZlbF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXBMZXZlbENvbnRyb2xsZXIpO1xuXG4gICAgcmV0dXJuIGNhcF9sZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUFNfRFJPUF9MRVZFTF9DQVBQSU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfUEFSU0VEKSk7XG4gIH1cblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUpIHtcbiAgICAgIHRoaXMubWVkaWEgPSB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMgPSBudWxsO1xuICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25GcHNEcm9wTGV2ZWxDYXBwaW5nID0gZnVuY3Rpb24gb25GcHNEcm9wTGV2ZWxDYXBwaW5nKGRhdGEpIHtcbiAgICAvLyBEb24ndCBhZGQgYSByZXN0cmljdGVkIGxldmVsIG1vcmUgdGhhbiBvbmNlXG4gICAgaWYgKENhcExldmVsQ29udHJvbGxlci5pc0xldmVsQWxsb3dlZChkYXRhLmRyb3BwZWRMZXZlbCwgdGhpcy5yZXN0cmljdGVkTGV2ZWxzKSkge1xuICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzLnB1c2goZGF0YS5kcm9wcGVkTGV2ZWwpO1xuICAgIH1cbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoaW5nKGRhdGEpIHtcbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0UGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUpIHtcbiAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgICBobHMuZmlyc3RMZXZlbCA9IHRoaXMuZ2V0TWF4TGV2ZWwoZGF0YS5maXJzdExldmVsKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5kZXRlY3RQbGF5ZXJTaXplLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgdGhpcy5kZXRlY3RQbGF5ZXJTaXplKCk7XG4gICAgfVxuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuZGV0ZWN0UGxheWVyU2l6ZSA9IGZ1bmN0aW9uIGRldGVjdFBsYXllclNpemUoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgIHZhciBsZXZlbHNMZW5ndGggPSB0aGlzLmxldmVscyA/IHRoaXMubGV2ZWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAobGV2ZWxzTGVuZ3RoKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaGxzLmF1dG9MZXZlbENhcHBpbmcgPSB0aGlzLmdldE1heExldmVsKGxldmVsc0xlbmd0aCAtIDEpO1xuICAgICAgICBpZiAoaGxzLmF1dG9MZXZlbENhcHBpbmcgPiB0aGlzLmF1dG9MZXZlbENhcHBpbmcpIHtcbiAgICAgICAgICAvLyBpZiBhdXRvIGxldmVsIGNhcHBpbmcgaGFzIGEgaGlnaGVyIHZhbHVlIGZvciB0aGUgcHJldmlvdXMgb25lLCBmbHVzaCB0aGUgYnVmZmVyIHVzaW5nIG5leHRMZXZlbFN3aXRjaFxuICAgICAgICAgIC8vIHVzdWFsbHkgaGFwcGVuIHdoZW4gdGhlIHVzZXIgZ28gdG8gdGhlIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICBobHMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF1dG9MZXZlbENhcHBpbmcgPSBobHMuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLypcbiAgKiByZXR1cm5zIGxldmVsIHNob3VsZCBiZSB0aGUgb25lIHdpdGggdGhlIGRpbWVuc2lvbnMgZXF1YWwgb3IgZ3JlYXRlciB0aGFuIHRoZSBtZWRpYSAocGxheWVyKSBkaW1lbnNpb25zIChzbyB0aGUgdmlkZW8gd2lsbCBiZSBkb3duc2NhbGVkKVxuICAqL1xuXG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYXhMZXZlbCA9IGZ1bmN0aW9uIGdldE1heExldmVsKGNhcExldmVsSW5kZXgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICghdGhpcy5sZXZlbHMpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgdmFsaWRMZXZlbHMgPSB0aGlzLmxldmVscy5maWx0ZXIoZnVuY3Rpb24gKGxldmVsLCBpbmRleCkge1xuICAgICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5pc0xldmVsQWxsb3dlZChpbmRleCwgX3RoaXMyLnJlc3RyaWN0ZWRMZXZlbHMpICYmIGluZGV4IDw9IGNhcExldmVsSW5kZXg7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyLmdldE1heExldmVsQnlNZWRpYVNpemUodmFsaWRMZXZlbHMsIHRoaXMubWVkaWFXaWR0aCwgdGhpcy5tZWRpYUhlaWdodCk7XG4gIH07XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkID0gZnVuY3Rpb24gaXNMZXZlbEFsbG93ZWQobGV2ZWwpIHtcbiAgICB2YXIgcmVzdHJpY3RlZExldmVscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cbiAgICByZXR1cm4gcmVzdHJpY3RlZExldmVscy5pbmRleE9mKGxldmVsKSA9PT0gLTE7XG4gIH07XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLmdldE1heExldmVsQnlNZWRpYVNpemUgPSBmdW5jdGlvbiBnZXRNYXhMZXZlbEJ5TWVkaWFTaXplKGxldmVscywgd2lkdGgsIGhlaWdodCkge1xuICAgIGlmICghbGV2ZWxzIHx8IGxldmVscyAmJiAhbGV2ZWxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIExldmVscyBjYW4gaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zIGJ1dCBkaWZmZXJpbmcgYmFuZHdpZHRocyAtIHNpbmNlIGxldmVscyBhcmUgb3JkZXJlZCwgd2UgY2FuIGxvb2sgdG8gdGhlIG5leHRcbiAgICAvLyB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSd2ZSBjaG9zZW4gdGhlIGdyZWF0ZXN0IGJhbmR3aWR0aCBmb3IgdGhlIG1lZGlhJ3MgZGltZW5zaW9uc1xuICAgIHZhciBhdEdyZWF0ZXN0QmFuZGl3ZHRoID0gZnVuY3Rpb24gYXRHcmVhdGVzdEJhbmRpd2R0aChjdXJMZXZlbCwgbmV4dExldmVsKSB7XG4gICAgICBpZiAoIW5leHRMZXZlbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJMZXZlbC53aWR0aCAhPT0gbmV4dExldmVsLndpZHRoIHx8IGN1ckxldmVsLmhlaWdodCAhPT0gbmV4dExldmVsLmhlaWdodDtcbiAgICB9O1xuXG4gICAgLy8gSWYgd2UgcnVuIHRocm91Z2ggdGhlIGxvb3Agd2l0aG91dCBicmVha2luZywgdGhlIG1lZGlhJ3MgZGltZW5zaW9ucyBhcmUgZ3JlYXRlciB0aGFuIGV2ZXJ5IGxldmVsLCBzbyBkZWZhdWx0IHRvXG4gICAgLy8gdGhlIG1heCBsZXZlbFxuICAgIHZhciBtYXhMZXZlbEluZGV4ID0gbGV2ZWxzLmxlbmd0aCAtIDE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdmFyIGxldmVsID0gbGV2ZWxzW2ldO1xuICAgICAgaWYgKChsZXZlbC53aWR0aCA+PSB3aWR0aCB8fCBsZXZlbC5oZWlnaHQgPj0gaGVpZ2h0KSAmJiBhdEdyZWF0ZXN0QmFuZGl3ZHRoKGxldmVsLCBsZXZlbHNbaSArIDFdKSkge1xuICAgICAgICBtYXhMZXZlbEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heExldmVsSW5kZXg7XG4gIH07XG5cbiAgY2FwX2xldmVsX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKENhcExldmVsQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdtZWRpYVdpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciB3aWR0aCA9IHZvaWQgMDtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgd2lkdGggPSBtZWRpYS53aWR0aCB8fCBtZWRpYS5jbGllbnRXaWR0aCB8fCBtZWRpYS5vZmZzZXRXaWR0aDtcbiAgICAgICAgd2lkdGggKj0gQ2FwTGV2ZWxDb250cm9sbGVyLmNvbnRlbnRTY2FsZUZhY3RvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtZWRpYUhlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gdm9pZCAwO1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBoZWlnaHQgPSBtZWRpYS5oZWlnaHQgfHwgbWVkaWEuY2xpZW50SGVpZ2h0IHx8IG1lZGlhLm9mZnNldEhlaWdodDtcbiAgICAgICAgaGVpZ2h0ICo9IENhcExldmVsQ29udHJvbGxlci5jb250ZW50U2NhbGVGYWN0b3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnY29udGVudFNjYWxlRmFjdG9yJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBwaXhlbFJhdGlvID0gMTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY2FwX2xldmVsX2NvbnRyb2xsZXIgPSAoY2FwX2xldmVsX2NvbnRyb2xsZXJfQ2FwTGV2ZWxDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvZnBzLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIGZwc19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGZwc19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBmcHNfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIEZQUyBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cbnZhciBmcHNfY29udHJvbGxlcl9GUFNDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgZnBzX2NvbnRyb2xsZXJfX2luaGVyaXRzKEZQU0NvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEZQU0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgZnBzX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZQU0NvbnRyb2xsZXIpO1xuXG4gICAgcmV0dXJuIGZwc19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hJTkcpKTtcbiAgfVxuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIH1cbiAgICB0aGlzLmlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUgPSBmYWxzZTtcbiAgfTtcblxuICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGluZyhkYXRhKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICBpZiAoY29uZmlnLmNhcExldmVsT25GUFNEcm9wKSB7XG4gICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvID0gZGF0YS5tZWRpYSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgdmlkZW8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5jaGVja0ZQU0ludGVydmFsLmJpbmQodGhpcyksIGNvbmZpZy5mcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZCk7XG4gICAgfVxuICB9O1xuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrRlBTID0gZnVuY3Rpb24gY2hlY2tGUFModmlkZW8sIGRlY29kZWRGcmFtZXMsIGRyb3BwZWRGcmFtZXMpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBpZiAoZGVjb2RlZEZyYW1lcykge1xuICAgICAgaWYgKHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQZXJpb2QgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWUsXG4gICAgICAgICAgICBjdXJyZW50RHJvcHBlZCA9IGRyb3BwZWRGcmFtZXMgLSB0aGlzLmxhc3REcm9wcGVkRnJhbWVzLFxuICAgICAgICAgICAgY3VycmVudERlY29kZWQgPSBkZWNvZGVkRnJhbWVzIC0gdGhpcy5sYXN0RGVjb2RlZEZyYW1lcyxcbiAgICAgICAgICAgIGRyb3BwZWRGUFMgPSAxMDAwICogY3VycmVudERyb3BwZWQgLyBjdXJyZW50UGVyaW9kLFxuICAgICAgICAgICAgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUFNfRFJPUCwgeyBjdXJyZW50RHJvcHBlZDogY3VycmVudERyb3BwZWQsIGN1cnJlbnREZWNvZGVkOiBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzOiBkcm9wcGVkRnJhbWVzIH0pO1xuICAgICAgICBpZiAoZHJvcHBlZEZQUyA+IDApIHtcbiAgICAgICAgICAvL2xvZ2dlci5sb2coJ2NoZWNrRlBTIDogZHJvcHBlZEZQUy9kZWNvZGVkRlBTOicgKyBkcm9wcGVkRlBTLygxMDAwICogY3VycmVudERlY29kZWQgLyBjdXJyZW50UGVyaW9kKSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnREcm9wcGVkID4gaGxzLmNvbmZpZy5mcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZCAqIGN1cnJlbnREZWNvZGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudExldmVsID0gaGxzLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2Ryb3AgRlBTIHJhdGlvIGdyZWF0ZXIgdGhhbiBtYXggYWxsb3dlZCB2YWx1ZSBmb3IgY3VycmVudExldmVsOiAnICsgY3VycmVudExldmVsKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TGV2ZWwgPiAwICYmIChobHMuYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgfHwgaGxzLmF1dG9MZXZlbENhcHBpbmcgPj0gY3VycmVudExldmVsKSkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBjdXJyZW50TGV2ZWwgLSAxO1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlBTX0RST1BfTEVWRUxfQ0FQUElORywgeyBsZXZlbDogY3VycmVudExldmVsLCBkcm9wcGVkTGV2ZWw6IGhscy5jdXJyZW50TGV2ZWwgfSk7XG4gICAgICAgICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICBobHMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgIHRoaXMubGFzdERyb3BwZWRGcmFtZXMgPSBkcm9wcGVkRnJhbWVzO1xuICAgICAgdGhpcy5sYXN0RGVjb2RlZEZyYW1lcyA9IGRlY29kZWRGcmFtZXM7XG4gICAgfVxuICB9O1xuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrRlBTSW50ZXJ2YWwgPSBmdW5jdGlvbiBjaGVja0ZQU0ludGVydmFsKCkge1xuICAgIHZhciB2aWRlbyA9IHRoaXMudmlkZW87XG4gICAgaWYgKHZpZGVvKSB7XG4gICAgICBpZiAodGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlKSB7XG4gICAgICAgIHZhciB2aWRlb1BsYXliYWNrUXVhbGl0eSA9IHZpZGVvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICAgIHRoaXMuY2hlY2tGUFModmlkZW8sIHZpZGVvUGxheWJhY2tRdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXMsIHZpZGVvUGxheWJhY2tRdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoZWNrRlBTKHZpZGVvLCB2aWRlby53ZWJraXREZWNvZGVkRnJhbWVDb3VudCwgdmlkZW8ud2Via2l0RHJvcHBlZEZyYW1lQ291bnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRlBTQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZwc19jb250cm9sbGVyID0gKGZwc19jb250cm9sbGVyX0ZQU0NvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMveGhyLWxvYWRlci5qc1xuZnVuY3Rpb24geGhyX2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFhIUiBiYXNlZCBsb2dnZXJcbiovXG5cblxuXG52YXIgeGhyX2xvYWRlcl9YaHJMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFhockxvYWRlcihjb25maWcpIHtcbiAgICB4aHJfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBYaHJMb2FkZXIpO1xuXG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcueGhyU2V0dXApIHtcbiAgICAgIHRoaXMueGhyU2V0dXAgPSBjb25maWcueGhyU2V0dXA7XG4gICAgfVxuICB9XG5cbiAgWGhyTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmFib3J0KCk7XG4gICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICB9O1xuXG4gIFhockxvYWRlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICB2YXIgbG9hZGVyID0gdGhpcy5sb2FkZXI7XG4gICAgaWYgKGxvYWRlciAmJiBsb2FkZXIucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgdGhpcy5zdGF0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cblxuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IG51bGw7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZW91dCk7XG4gICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBudWxsO1xuICB9O1xuXG4gIFhockxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY29udGV4dCwgY29uZmlnLCBjYWxsYmFja3MpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgIHRoaXMuc3RhdHMgPSB7IHRyZXF1ZXN0OiBwZXJmb3JtYW5jZS5ub3coKSwgcmV0cnk6IDAgfTtcbiAgICB0aGlzLnJldHJ5RGVsYXkgPSBjb25maWcucmV0cnlEZWxheTtcbiAgICB0aGlzLmxvYWRJbnRlcm5hbCgpO1xuICB9O1xuXG4gIFhockxvYWRlci5wcm90b3R5cGUubG9hZEludGVybmFsID0gZnVuY3Rpb24gbG9hZEludGVybmFsKCkge1xuICAgIHZhciB4aHIsXG4gICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgeGhyID0gdGhpcy5sb2FkZXIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHZhciBzdGF0cyA9IHRoaXMuc3RhdHM7XG4gICAgc3RhdHMudGZpcnN0ID0gMDtcbiAgICBzdGF0cy5sb2FkZWQgPSAwO1xuICAgIHZhciB4aHJTZXR1cCA9IHRoaXMueGhyU2V0dXA7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHhoclNldHVwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgeGhyU2V0dXAoeGhyLCBjb250ZXh0LnVybCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBmaXggeGhyU2V0dXA6ICh4aHIsIHVybCkgPT4ge3hoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1MYW5ndWFnZVwiLCBcInRlc3RcIik7fVxuICAgICAgICAgIC8vIG5vdCB3b3JraW5nLCBhcyB4aHIuc2V0UmVxdWVzdEhlYWRlciBleHBlY3RzIHhoci5yZWFkeVN0YXRlID09PSBPUEVOXG4gICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGNvbnRleHQudXJsLCB0cnVlKTtcbiAgICAgICAgICB4aHJTZXR1cCh4aHIsIGNvbnRleHQudXJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF4aHIucmVhZHlTdGF0ZSkge1xuICAgICAgICB4aHIub3BlbignR0VUJywgY29udGV4dC51cmwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElFMTEgdGhyb3dzIGFuIGV4Y2VwdGlvbiBvbiB4aHIub3BlbiBpZiBhdHRlbXB0aW5nIHRvIGFjY2VzcyBhbiBIVFRQIHJlc291cmNlIG92ZXIgSFRUUFNcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRXJyb3IoeyBjb2RlOiB4aHIuc3RhdHVzLCB0ZXh0OiBlLm1lc3NhZ2UgfSwgY29udGV4dCwgeGhyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5yYW5nZUVuZCkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ1JhbmdlJywgJ2J5dGVzPScgKyBjb250ZXh0LnJhbmdlU3RhcnQgKyAnLScgKyAoY29udGV4dC5yYW5nZUVuZCAtIDEpKTtcbiAgICB9XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucmVhZHlzdGF0ZWNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHhoci5vbnByb2dyZXNzID0gdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gY29udGV4dC5yZXNwb25zZVR5cGU7XG5cbiAgICAvLyBzZXR1cCB0aW1lb3V0IGJlZm9yZSB3ZSBwZXJmb3JtIHJlcXVlc3RcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLCB0aGlzLmNvbmZpZy50aW1lb3V0KTtcbiAgICB4aHIuc2VuZCgpO1xuICB9O1xuXG4gIFhockxvYWRlci5wcm90b3R5cGUucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgeGhyID0gZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgcmVhZHlTdGF0ZSA9IHhoci5yZWFkeVN0YXRlLFxuICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHMsXG4gICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuXG4gICAgLy8gZG9uJ3QgcHJvY2VlZCBpZiB4aHIgaGFzIGJlZW4gYWJvcnRlZFxuICAgIGlmIChzdGF0cy5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gPj0gSEVBREVSU19SRUNFSVZFRFxuICAgIGlmIChyZWFkeVN0YXRlID49IDIpIHtcbiAgICAgIC8vIGNsZWFyIHhociB0aW1lb3V0IGFuZCByZWFybSBpdCBpZiByZWFkeVN0YXRlIGxlc3MgdGhhbiA0XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgaWYgKHN0YXRzLnRmaXJzdCA9PT0gMCkge1xuICAgICAgICBzdGF0cy50Zmlyc3QgPSBNYXRoLm1heChwZXJmb3JtYW5jZS5ub3coKSwgc3RhdHMudHJlcXVlc3QpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgICAgIC8vIGh0dHAgc3RhdHVzIGJldHdlZW4gMjAwIHRvIDI5OSBhcmUgYWxsIHN1Y2Nlc3NmdWxcbiAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgc3RhdHMudGxvYWQgPSBNYXRoLm1heChzdGF0cy50Zmlyc3QsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICB2YXIgZGF0YSA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgbGVuID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChjb250ZXh0LnJlc3BvbnNlVHlwZSA9PT0gJ2FycmF5YnVmZmVyJykge1xuICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdHMubG9hZGVkID0gc3RhdHMudG90YWwgPSBsZW47XG4gICAgICAgICAgdmFyIHJlc3BvbnNlID0geyB1cmw6IHhoci5yZXNwb25zZVVSTCwgZGF0YTogZGF0YSB9O1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIHhocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgbWF4IG5iIG9mIHJldHJpZXMgcmVhY2hlZCBvciBpZiBodHRwIHN0YXR1cyBiZXR3ZWVuIDQwMCBhbmQgNDk5IChzdWNoIGVycm9yIGNhbm5vdCBiZSByZWNvdmVyZWQsIHJldHJ5aW5nIGlzIHVzZWxlc3MpLCByZXR1cm4gZXJyb3JcbiAgICAgICAgICBpZiAoc3RhdHMucmV0cnkgPj0gY29uZmlnLm1heFJldHJ5IHx8IHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNDk5KSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcihzdGF0dXMgKyAnIHdoaWxlIGxvYWRpbmcgJyArIGNvbnRleHQudXJsKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRXJyb3IoeyBjb2RlOiBzdGF0dXMsIHRleHQ6IHhoci5zdGF0dXNUZXh0IH0sIGNvbnRleHQsIHhocik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJldHJ5XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKHN0YXR1cyArICcgd2hpbGUgbG9hZGluZyAnICsgY29udGV4dC51cmwgKyAnLCByZXRyeWluZyBpbiAnICsgdGhpcy5yZXRyeURlbGF5ICsgJy4uLicpO1xuICAgICAgICAgICAgLy8gYWJvcnRzIGFuZCByZXNldHMgaW50ZXJuYWwgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgcmV0cnlcbiAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkSW50ZXJuYWwuYmluZCh0aGlzKSwgdGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICAgIC8vIHNldCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBNYXRoLm1pbigyICogdGhpcy5yZXRyeURlbGF5LCBjb25maWcubWF4UmV0cnlEZWxheSk7XG4gICAgICAgICAgICBzdGF0cy5yZXRyeSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVhZHlTdGF0ZSA+PSAyIEFORCByZWFkeVN0YXRlICE9PTQgKHJlYWR5U3RhdGUgPSBIRUFERVJTX1JFQ0VJVkVEIHx8IExPQURJTkcpIHJlYXJtIHRpbWVvdXQgYXMgeGhyIG5vdCBmaW5pc2hlZCB5ZXRcbiAgICAgICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSwgY29uZmlnLnRpbWVvdXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigndGltZW91dCB3aGlsZSBsb2FkaW5nICcgKyB0aGlzLmNvbnRleHQudXJsKTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vblRpbWVvdXQodGhpcy5zdGF0cywgdGhpcy5jb250ZXh0LCBudWxsKTtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWRwcm9ncmVzcyA9IGZ1bmN0aW9uIGxvYWRwcm9ncmVzcyhldmVudCkge1xuICAgIHZhciB4aHIgPSBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHM7XG5cbiAgICBzdGF0cy5sb2FkZWQgPSBldmVudC5sb2FkZWQ7XG4gICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHN0YXRzLnRvdGFsID0gZXZlbnQudG90YWw7XG4gICAgfVxuICAgIHZhciBvblByb2dyZXNzID0gdGhpcy5jYWxsYmFja3Mub25Qcm9ncmVzcztcbiAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgLy8gdGhpcmQgYXJnIGlzIHRvIHByb3ZpZGUgb24gcHJvZ3Jlc3MgZGF0YVxuICAgICAgb25Qcm9ncmVzcyhzdGF0cywgdGhpcy5jb250ZXh0LCBudWxsLCB4aHIpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gWGhyTG9hZGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB4aHJfbG9hZGVyID0gKHhocl9sb2FkZXJfWGhyTG9hZGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tdHJhY2stY29udHJvbGxlci5qc1xudmFyIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBhdWRpb190cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBhdWRpbyB0cmFjayBjb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxudmFyIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfQXVkaW9UcmFja0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBhdWRpb190cmFja19jb250cm9sbGVyX19pbmhlcml0cyhBdWRpb1RyYWNrQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gQXVkaW9UcmFja0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW9UcmFja0NvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SKSk7XG5cbiAgICBfdGhpcy50aWNrcyA9IDA7XG4gICAgX3RoaXMub250aWNrID0gX3RoaXMudGljay5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGVhblRpbWVyKCk7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5jbGVhblRpbWVyID0gZnVuY3Rpb24gY2xlYW5UaW1lcigpIHtcbiAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICB0aGlzLnRpY2tzKys7XG4gICAgaWYgKHRoaXMudGlja3MgPT09IDEpIHtcbiAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgICBpZiAodGhpcy50aWNrcyA+IDEpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnRpY2ssIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy50aWNrcyA9IDA7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiBkb1RpY2soKSB7XG4gICAgdGhpcy51cGRhdGVUcmFjayh0aGlzLnRyYWNrSWQpO1xuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgaWYgKGRhdGEuZmF0YWwgJiYgZGF0YS50eXBlID09PSBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUikge1xuICAgICAgdGhpcy5jbGVhblRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkaW5nKCkge1xuICAgIC8vIHJlc2V0IGF1ZGlvIHRyYWNrcyBvbiBtYW5pZmVzdCBsb2FkaW5nXG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3MgfHwgW107XG4gICAgdmFyIGRlZmF1bHRGb3VuZCA9IGZhbHNlO1xuICAgIHRoaXMudHJhY2tzID0gdHJhY2tzO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLU19VUERBVEVELCB7IGF1ZGlvVHJhY2tzOiB0cmFja3MgfSk7XG4gICAgLy8gbG9vcCB0aHJvdWdoIGF2YWlsYWJsZSBhdWRpbyB0cmFja3MgYW5kIGF1dG9zZWxlY3QgZGVmYXVsdCBpZiBuZWVkZWRcbiAgICB2YXIgaWQgPSAwO1xuICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgaWYgKHRyYWNrLmRlZmF1bHQgJiYgIWRlZmF1bHRGb3VuZCkge1xuICAgICAgICBfdGhpczIuYXVkaW9UcmFjayA9IGlkO1xuICAgICAgICBkZWZhdWx0Rm91bmQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZCsrO1xuICAgIH0pO1xuICAgIGlmIChkZWZhdWx0Rm91bmQgPT09IGZhbHNlICYmIHRyYWNrcy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbm8gZGVmYXVsdCBhdWRpbyB0cmFjayBkZWZpbmVkLCB1c2UgZmlyc3QgYXVkaW8gdHJhY2sgYXMgZGVmYXVsdCcpO1xuICAgICAgdGhpcy5hdWRpb1RyYWNrID0gMDtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja0xvYWRlZChkYXRhKSB7XG4gICAgaWYgKGRhdGEuaWQgPCB0aGlzLnRyYWNrcy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW9UcmFjayAnICsgZGF0YS5pZCArICcgbG9hZGVkJyk7XG4gICAgICB0aGlzLnRyYWNrc1tkYXRhLmlkXS5kZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgLy8gY2hlY2sgaWYgY3VycmVudCBwbGF5bGlzdCBpcyBhIGxpdmUgcGxheWxpc3RcbiAgICAgIGlmIChkYXRhLmRldGFpbHMubGl2ZSAmJiAhdGhpcy50aW1lcikge1xuICAgICAgICAvLyBpZiBsaXZlIHBsYXlsaXN0IHdlIHdpbGwgaGF2ZSB0byByZWxvYWQgaXQgcGVyaW9kaWNhbGx5XG4gICAgICAgIC8vIHNldCByZWxvYWQgcGVyaW9kIHRvIHBsYXlsaXN0IHRhcmdldCBkdXJhdGlvblxuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vbnRpY2ssIDEwMDAgKiBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLnRpbWVyKSB7XG4gICAgICAgIC8vIHBsYXlsaXN0IGlzIG5vdCBsaXZlIGFuZCB0aW1lciBpcyBhcm1lZCA6IHN0b3BwaW5nIGl0XG4gICAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKiogZ2V0IGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0ICoqL1xuXG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLnNldEF1ZGlvVHJhY2tJbnRlcm5hbCA9IGZ1bmN0aW9uIHNldEF1ZGlvVHJhY2tJbnRlcm5hbChuZXdJZCkge1xuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdJZCA+PSAwICYmIG5ld0lkIDwgdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgICAgdGhpcy50cmFja0lkID0gbmV3SWQ7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyB0byBhdWRpb1RyYWNrICcgKyBuZXdJZCk7XG4gICAgICB2YXIgYXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW25ld0lkXSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgICB0eXBlID0gYXVkaW9UcmFjay50eXBlLFxuICAgICAgICAgIHVybCA9IGF1ZGlvVHJhY2sudXJsLFxuICAgICAgICAgIGV2ZW50T2JqID0geyBpZDogbmV3SWQsIHR5cGU6IHR5cGUsIHVybDogdXJsIH07XG4gICAgICAvLyBrZWVwIEFVRElPX1RSQUNLX1NXSVRDSCBmb3IgbGVnYWN5IHJlYXNvblxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSCwgZXZlbnRPYmopO1xuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSElORywgZXZlbnRPYmopO1xuICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIGF1ZGlvIFRyYWNrXG4gICAgICB2YXIgZGV0YWlscyA9IGF1ZGlvVHJhY2suZGV0YWlscztcbiAgICAgIGlmICh1cmwgJiYgKGRldGFpbHMgPT09IHVuZGVmaW5lZCB8fCBkZXRhaWxzLmxpdmUgPT09IHRydWUpKSB7XG4gICAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCcocmUpbG9hZGluZyBwbGF5bGlzdCBmb3IgYXVkaW9UcmFjayAnICsgbmV3SWQpO1xuICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BRElORywgeyB1cmw6IHVybCwgaWQ6IG5ld0lkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlVHJhY2sgPSBmdW5jdGlvbiB1cGRhdGVUcmFjayhuZXdJZCkge1xuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdJZCA+PSAwICYmIG5ld0lkIDwgdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgIHRoaXMuY2xlYW5UaW1lcigpO1xuICAgICAgdGhpcy50cmFja0lkID0gbmV3SWQ7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3VwZGF0aW5nIGF1ZGlvVHJhY2sgJyArIG5ld0lkKTtcbiAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3NbbmV3SWRdLFxuICAgICAgICAgIHVybCA9IGF1ZGlvVHJhY2sudXJsO1xuICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIGF1ZGlvIFRyYWNrXG4gICAgICB2YXIgZGV0YWlscyA9IGF1ZGlvVHJhY2suZGV0YWlscztcbiAgICAgIGlmICh1cmwgJiYgKGRldGFpbHMgPT09IHVuZGVmaW5lZCB8fCBkZXRhaWxzLmxpdmUgPT09IHRydWUpKSB7XG4gICAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCcocmUpbG9hZGluZyBwbGF5bGlzdCBmb3IgYXVkaW9UcmFjayAnICsgbmV3SWQpO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19MT0FESU5HLCB7IHVybDogdXJsLCBpZDogbmV3SWQgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKEF1ZGlvVHJhY2tDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ2F1ZGlvVHJhY2tzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrcztcbiAgICB9XG5cbiAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBhdWRpbyB0cmFjayAoaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHMpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdWRpb1RyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gICAgfVxuXG4gICAgLyoqIHNlbGVjdCBhbiBhdWRpbyB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGF1ZGlvVHJhY2tJZCkge1xuICAgICAgaWYgKHRoaXMudHJhY2tJZCAhPT0gYXVkaW9UcmFja0lkIHx8IHRoaXMudHJhY2tzW2F1ZGlvVHJhY2tJZF0uZGV0YWlscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0QXVkaW9UcmFja0ludGVybmFsKGF1ZGlvVHJhY2tJZCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEF1ZGlvVHJhY2tDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYXVkaW9fdHJhY2tfY29udHJvbGxlciA9IChhdWRpb190cmFja19jb250cm9sbGVyX0F1ZGlvVHJhY2tDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanNcbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIEF1ZGlvIFN0cmVhbSBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZSA9IHtcbiAgU1RPUFBFRDogJ1NUT1BQRUQnLFxuICBTVEFSVElORzogJ1NUQVJUSU5HJyxcbiAgSURMRTogJ0lETEUnLFxuICBQQVVTRUQ6ICdQQVVTRUQnLFxuICBLRVlfTE9BRElORzogJ0tFWV9MT0FESU5HJyxcbiAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJyxcbiAgRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk6ICdGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWScsXG4gIFdBSVRJTkdfVFJBQ0s6ICdXQUlUSU5HX1RSQUNLJyxcbiAgUEFSU0lORzogJ1BBUlNJTkcnLFxuICBQQVJTRUQ6ICdQQVJTRUQnLFxuICBCVUZGRVJfRkxVU0hJTkc6ICdCVUZGRVJfRkxVU0hJTkcnLFxuICBFTkRFRDogJ0VOREVEJyxcbiAgRVJST1I6ICdFUlJPUicsXG4gIFdBSVRJTkdfSU5JVF9QVFM6ICdXQUlUSU5HX0lOSVRfUFRTJ1xufTtcblxudmFyIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX0F1ZGlvU3RyZWFtQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyhBdWRpb1N0cmVhbUNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEF1ZGlvU3RyZWFtQ29udHJvbGxlcihobHMpIHtcbiAgICBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW9TdHJlYW1Db250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLU19VUERBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DUkVBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCkpO1xuXG4gICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICBfdGhpcy5hdWRpb0NvZGVjU3dhcCA9IGZhbHNlO1xuICAgIF90aGlzLnRpY2tzID0gMDtcbiAgICBfdGhpcy5fc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICAgIF90aGlzLm9udGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaW5pdFBUUyA9IFtdO1xuICAgIF90aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgX3RoaXMudmlkZW9UcmFja0NDID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUT1BQRUQ7XG4gIH07XG5cbiAgLy9TaWduYWwgdGhhdCB2aWRlbyBQVFMgd2FzIGZvdW5kXG5cblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSW5pdFB0c0ZvdW5kID0gZnVuY3Rpb24gb25Jbml0UHRzRm91bmQoZGF0YSkge1xuICAgIHZhciBkZW11eGVySWQgPSBkYXRhLmlkLFxuICAgICAgICBjYyA9IGRhdGEuZnJhZy5jYyxcbiAgICAgICAgaW5pdFBUUyA9IGRhdGEuaW5pdFBUUztcbiAgICBpZiAoZGVtdXhlcklkID09PSAnbWFpbicpIHtcbiAgICAgIC8vQWx3YXlzIHVwZGF0ZSB0aGUgbmV3IElOSVQgUFRTXG4gICAgICAvL0NhbiBjaGFuZ2UgZHVlIGxldmVsIHN3aXRjaFxuICAgICAgdGhpcy5pbml0UFRTW2NjXSA9IGluaXRQVFM7XG4gICAgICB0aGlzLnZpZGVvVHJhY2tDQyA9IGNjO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdJbml0UFRTIGZvciBjYzonICsgY2MgKyAnIGZvdW5kIGZyb20gdmlkZW8gdHJhY2s6JyArIGluaXRQVFMpO1xuXG4gICAgICAvL0lmIHdlIGFyZSB3YWl0aW5nIHdlIG5lZWQgdG8gZGVtdXgvcmVtdXggdGhlIHdhaXRpbmcgZnJhZ1xuICAgICAgLy9XaXRoIHRoZSBuZXcgaW5pdFBUU1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfSU5JVF9QVFMpIHtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gc3RhcnRMb2FkKHN0YXJ0UG9zaXRpb24pIHtcbiAgICBpZiAodGhpcy50cmFja3MpIHtcbiAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgIGlmICghdGhpcy50aW1lcikge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vbnRpY2ssIDEwMCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgaWYgKGxhc3RDdXJyZW50VGltZSA+IDAgJiYgc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbzpvdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAnICsgbGFzdEN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gdGhpcy5zdGFydFBvc2l0aW9uID8gdGhpcy5zdGFydFBvc2l0aW9uIDogc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUQVJUSU5HO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWU7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN0b3BMb2FkID0gZnVuY3Rpb24gc3RvcExvYWQoKSB7XG4gICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIGlmIChmcmFnKSB7XG4gICAgICBpZiAoZnJhZy5sb2FkZXIpIHtcbiAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgdGhpcy50aWNrcysrO1xuICAgIGlmICh0aGlzLnRpY2tzID09PSAxKSB7XG4gICAgICB0aGlzLmRvVGljaygpO1xuICAgICAgaWYgKHRoaXMudGlja3MgPiAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy50aWNrLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGlja3MgPSAwO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgICB2YXIgcG9zLFxuICAgICAgICB0cmFjayxcbiAgICAgICAgdHJhY2tEZXRhaWxzLFxuICAgICAgICBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAvL2xvZ2dlci5sb2coJ2F1ZGlvU3RyZWFtOicgKyB0aGlzLnN0YXRlKTtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRVJST1I6XG4gICAgICAvL2Rvbid0IGRvIGFueXRoaW5nIGluIGVycm9yIHN0YXRlIHRvIGF2b2lkIGJyZWFraW5nIGZ1cnRoZXIgLi4uXG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBVVNFRDpcbiAgICAgIC8vZG9uJ3QgZG8gYW55dGhpbmcgaW4gcGF1c2VkIHN0YXRlIGVpdGhlciAuLi5cbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFOlxuICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgIC8vIGF1ZGlvIHRyYWNrcyBub3QgcmVjZWl2ZWQgPT4gZXhpdCBsb29wXG4gICAgICAgIGlmICghdHJhY2tzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORFxuICAgICAgICAvLyBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAgICAgLy8gZXhpdCBsb29wXG4gICAgICAgIC8vID0+IGlmIG1lZGlhIG5vdCBhdHRhY2hlZCBidXQgc3RhcnQgZnJhZyBwcmVmZXRjaCBpcyBlbmFibGVkIGFuZCBzdGFydCBmcmFnIG5vdCByZXF1ZXN0ZWQgeWV0LCB3ZSB3aWxsIG5vdCBleGl0IGxvb3BcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhICYmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCB8fCAhY29uZmlnLnN0YXJ0RnJhZ1ByZWZldGNoKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRldGVybWluZSBuZXh0IGNhbmRpZGF0ZSBmcmFnbWVudCB0byBiZSBsb2FkZWQsIGJhc2VkIG9uIGN1cnJlbnQgcG9zaXRpb24gYW5kXG4gICAgICAgIC8vICBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgbm90IHlldCBsb2FkZWQgYW55IGZyYWdtZW50LCBzdGFydCBsb2FkaW5nIGZyb20gc3RhcnQgcG9zaXRpb25cbiAgICAgICAgaWYgKHRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICBwb3MgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcyA9IHRoaXMubmV4dExvYWRQb3NpdGlvbjtcbiAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWEsXG4gICAgICAgICAgICB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXIgPyB0aGlzLnZpZGVvQnVmZmVyIDogdGhpcy5tZWRpYSxcbiAgICAgICAgICAgIGJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLFxuICAgICAgICAgICAgbWFpbkJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyLmJ1ZmZlckluZm8odmlkZW9CdWZmZXIsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLFxuICAgICAgICAgICAgYnVmZmVyTGVuID0gYnVmZmVySW5mby5sZW4sXG4gICAgICAgICAgICBidWZmZXJFbmQgPSBidWZmZXJJbmZvLmVuZCxcbiAgICAgICAgICAgIGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzLFxuXG4gICAgICAgIC8vIGVuc3VyZSB3ZSBidWZmZXIgYXQgbGVhc3QgY29uZmlnLm1heEJ1ZmZlckxlbmd0aCAoZGVmYXVsdCAzMHMpXG4gICAgICAgIC8vIG9uY2Ugd2UgcmVhY2ggdGhhdCB0aHJlc2hvbGQsIGRvbid0IGJ1ZmZlciBtb3JlIHRoYW4gdmlkZW8gKG1haW5CdWZmZXJJbmZvLmxlbilcbiAgICAgICAgbWF4QnVmTGVuID0gTWF0aC5tYXgoY29uZmlnLm1heEJ1ZmZlckxlbmd0aCwgbWFpbkJ1ZmZlckluZm8ubGVuKSxcbiAgICAgICAgICAgIGF1ZGlvU3dpdGNoID0gdGhpcy5hdWRpb1N3aXRjaCxcbiAgICAgICAgICAgIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQ7XG5cbiAgICAgICAgLy8gaWYgYnVmZmVyIGxlbmd0aCBpcyBsZXNzIHRoYW4gbWF4QnVmTGVuIHRyeSB0byBsb2FkIGEgbmV3IGZyYWdtZW50XG4gICAgICAgIGlmICgoYnVmZmVyTGVuIDwgbWF4QnVmTGVuIHx8IGF1ZGlvU3dpdGNoKSAmJiB0cmFja0lkIDwgdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYWNrRGV0YWlscyA9IHRyYWNrc1t0cmFja0lkXS5kZXRhaWxzO1xuICAgICAgICAgIC8vIGlmIHRyYWNrIGluZm8gbm90IHJldHJpZXZlZCB5ZXQsIHN3aXRjaCBzdGF0ZSBhbmQgd2FpdCBmb3IgdHJhY2sgcmV0cmlldmFsXG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmFja0RldGFpbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19UUkFDSztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHdlIGp1c3QgZ290IGRvbmUgbG9hZGluZyB0aGUgZmluYWwgZnJhZ21lbnQsIGNoZWNrIGlmIHdlIG5lZWQgdG8gZmluYWxpemUgbWVkaWEgc3RyZWFtXG4gICAgICAgICAgaWYgKCFhdWRpb1N3aXRjaCAmJiAhdHJhY2tEZXRhaWxzLmxpdmUgJiYgZnJhZ1ByZXZpb3VzICYmIGZyYWdQcmV2aW91cy5zbiA9PT0gdHJhY2tEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IHNlZWtpbmcgb3IgaWYgd2UgYXJlIHNlZWtpbmcgYnV0IGV2ZXJ5dGhpbmcgKGFsbW9zdCkgdGlsIHRoZSBlbmQgaXMgYnVmZmVyZWQsIGxldCdzIHNpZ25hbCBlb3NcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNvbXBhcmUgZXhhY3RseSBtZWRpYS5kdXJhdGlvbiA9PT0gYnVmZmVySW5mby5lbmQgYXMgdGhlcmUgY291bGQgYmUgc29tZSBzdWJ0bGUgbWVkaWEgZHVyYXRpb24gZGlmZmVyZW5jZSB3aGVuIHN3aXRjaGluZ1xuICAgICAgICAgICAgLy8gYmV0d2VlbiBkaWZmZXJlbnQgcmVuZGl0aW9ucy4gdXNpbmcgaGFsZiBmcmFnIGR1cmF0aW9uIHNob3VsZCBoZWxwIGNvcGUgd2l0aCB0aGVzZSBjYXNlcy5cbiAgICAgICAgICAgIGlmICghdGhpcy5tZWRpYS5zZWVraW5nIHx8IHRoaXMubWVkaWEuZHVyYXRpb24gLSBidWZmZXJFbmQgPCBmcmFnUHJldmlvdXMuZHVyYXRpb24gLyAyKSB7XG4gICAgICAgICAgICAgIC8vIEZpbmFsaXplIHRoZSBtZWRpYSBzdHJlYW1cbiAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0VPUywgeyB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRU5ERUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGZpbmQgZnJhZ21lbnQgaW5kZXgsIGNvbnRpZ3VvdXMgd2l0aCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgICAgICAgdmFyIGZyYWdtZW50cyA9IHRyYWNrRGV0YWlscy5mcmFnbWVudHMsXG4gICAgICAgICAgICAgIGZyYWdMZW4gPSBmcmFnbWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgICBzdGFydCA9IGZyYWdtZW50c1swXS5zdGFydCxcbiAgICAgICAgICAgICAgZW5kID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5zdGFydCArIGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uZHVyYXRpb24sXG4gICAgICAgICAgICAgIGZyYWcgPSB2b2lkIDA7XG5cbiAgICAgICAgICAvLyBXaGVuIHN3aXRjaGluZyBhdWRpbyB0cmFjaywgcmVsb2FkIGF1ZGlvIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIGN1cnJlbnRUaW1lXG4gICAgICAgICAgaWYgKGF1ZGlvU3dpdGNoKSB7XG4gICAgICAgICAgICBpZiAodHJhY2tEZXRhaWxzLmxpdmUgJiYgIXRyYWNrRGV0YWlscy5QVFNLbm93bikge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBhdWRpb3RyYWNrLCBsaXZlIHN0cmVhbSwgdW5rbm93biBQVFMsbG9hZCBmaXJzdCBmcmFnbWVudCcpO1xuICAgICAgICAgICAgICBidWZmZXJFbmQgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVmZmVyRW5kID0gcG9zO1xuICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50VGltZSAocG9zKSBpcyBsZXNzIHRoYW4gYWx0IGF1ZGlvIHBsYXlsaXN0IHN0YXJ0IHRpbWUsIGl0IG1lYW5zIHRoYXQgYWx0IGF1ZGlvIGlzIGFoZWFkIG9mIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgIGlmICh0cmFja0RldGFpbHMuUFRTS25vd24gJiYgcG9zIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBldmVyeXRoaW5nIGlzIGJ1ZmZlcmVkIGZyb20gcG9zIHRvIHN0YXJ0IG9yIGlmIGF1ZGlvIGJ1ZmZlciB1cGZyb250LCBsZXQncyBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlckluZm8uZW5kID4gc3RhcnQgfHwgYnVmZmVySW5mby5uZXh0U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYWx0IGF1ZGlvIHRyYWNrIGFoZWFkIG9mIG1haW4gdHJhY2ssIHNlZWsgdG8gc3RhcnQgb2YgYWx0IGF1ZGlvIHRyYWNrJyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gc3RhcnQgKyAwLjA1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0cmFja0RldGFpbHMuaW5pdFNlZ21lbnQgJiYgIXRyYWNrRGV0YWlscy5pbml0U2VnbWVudC5kYXRhKSB7XG4gICAgICAgICAgICBmcmFnID0gdHJhY2tEZXRhaWxzLmluaXRTZWdtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgZWxzZSBpZiAoYnVmZmVyRW5kIDw9IHN0YXJ0KSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvVHJhY2tDQyAhPT0gbnVsbCAmJiBmcmFnLmNjICE9PSB0aGlzLnZpZGVvVHJhY2tDQykge1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSBmaW5kIGEgZnJhZ21lbnQgd2hpY2ggbWF0Y2hlcyB0aGUgY29udGludWl0eSBvZiB0aGUgdmlkZW8gdHJhY2tcbiAgICAgICAgICAgICAgICBmcmFnID0gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCB0aGlzLnZpZGVvVHJhY2tDQyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmIGZyYWcubG9hZElkeCAmJiBmcmFnLmxvYWRJZHggPT09IHRoaXMuZnJhZ0xvYWRJZHgpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBqdXN0IGxvYWRlZCB0aGlzIGZpcnN0IGZyYWdtZW50LCBhbmQgd2UgYXJlIHN0aWxsIGxhZ2dpbmcgYmVoaW5kIHRoZSBzdGFydCBvZiB0aGUgbGl2ZSBwbGF5bGlzdFxuICAgICAgICAgICAgICAgIC8vIGxldCdzIGZvcmNlIHNlZWsgdG8gc3RhcnRcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEJ1ZmZlcmVkID0gYnVmZmVySW5mby5uZXh0U3RhcnQgPyBidWZmZXJJbmZvLm5leHRTdGFydCA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbm8gYWx0IGF1ZGlvIGF2YWlsYWJsZSBAY3VycmVudFRpbWU6JyArIHRoaXMubWVkaWEuY3VycmVudFRpbWUgKyAnLCBzZWVraW5nIEAnICsgKG5leHRCdWZmZXJlZCArIDAuMDUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gbmV4dEJ1ZmZlcmVkICsgMC4wNTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZEZyYWcgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgIHZhciBmcmFnTmV4dCA9IGZyYWdQcmV2aW91cyA/IGZyYWdtZW50c1tmcmFnUHJldmlvdXMuc24gLSBmcmFnbWVudHNbMF0uc24gKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgdmFyIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCA9IGZ1bmN0aW9uIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAgICAgICAgICAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgICAgICAgICAgICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgICAgICAgICAgICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgIC8vbG9nZ2VyLmxvZyhgbGV2ZWwvc24vc3RhcnQvZW5kL2J1ZkVuZDoke2xldmVsfS8ke2NhbmRpZGF0ZS5zbn0vJHtjYW5kaWRhdGUuc3RhcnR9LyR7KGNhbmRpZGF0ZS5zdGFydCtjYW5kaWRhdGUuZHVyYXRpb24pfS8ke2J1ZmZlckVuZH1gKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGxvb2t1cCB0b2xlcmFuY2UgdG8gYmUgc21hbGwgZW5vdWdoIHRvIGRldGVjdCB0aGUgY3VycmVudCBzZWdtZW50IC0gZW5zdXJlcyB3ZSBkb24ndCBza2lwIG92ZXIgdmVyeSBzbWFsbCBzZWdtZW50c1xuICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPSBNYXRoLm1pbihtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuc3RhcnQgKyBjYW5kaWRhdGUuZHVyYXRpb24gLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPD0gYnVmZmVyRW5kKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9IC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmIGNhbmRpZGF0ZS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgaWYgKGJ1ZmZlckVuZCA8IGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXJFbmQgPiBlbmQgLSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICAgICAgICAgICAgICAgIGlmIChmcmFnTmV4dCAmJiAhZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KGZyYWdOZXh0KSkge1xuICAgICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGJpbmFyeV9zZWFyY2guc2VhcmNoKGZyYWdtZW50cywgZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVhY2ggZW5kIG9mIHBsYXlsaXN0XG4gICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnKSB7XG4gICAgICAgICAgICAgICAgZnJhZyA9IGZvdW5kRnJhZztcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZvdW5kRnJhZy5zdGFydDtcbiAgICAgICAgICAgICAgICAvL2xvZ2dlci5sb2coJ2ZpbmQgU04gbWF0Y2hpbmcgd2l0aCBwb3M6JyArICBidWZmZXJFbmQgKyAnOicgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ1ByZXZpb3VzICYmIGZyYWcubGV2ZWwgPT09IGZyYWdQcmV2aW91cy5sZXZlbCAmJiBmcmFnLnNuID09PSBmcmFnUHJldmlvdXMuc24pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChmcmFnLnNuIDwgdHJhY2tEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudHNbZnJhZy5zbiArIDEgLSB0cmFja0RldGFpbHMuc3RhcnRTTl07XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnU04ganVzdCBsb2FkZWQsIGxvYWQgbmV4dCBvbmU6ICcgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICAvL2xvZ2dlci5sb2coJyAgICAgIGxvYWRpbmcgZnJhZyAnICsgaSArJyxwb3MvYnVmRW5kOicgKyBwb3MudG9GaXhlZCgzKSArICcvJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgIGlmIChmcmFnLmRlY3J5cHRkYXRhICYmIGZyYWcuZGVjcnlwdGRhdGEudXJpICE9IG51bGwgJiYgZnJhZy5kZWNyeXB0ZGF0YS5rZXkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0xvYWRpbmcga2V5IGZvciAnICsgZnJhZy5zbiArICcgb2YgWycgKyB0cmFja0RldGFpbHMuc3RhcnRTTiArICcgLCcgKyB0cmFja0RldGFpbHMuZW5kU04gKyAnXSx0cmFjayAnICsgdHJhY2tJZCk7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5LRVlfTE9BRElORztcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0xvYWRpbmcgJyArIGZyYWcuc24gKyAnLCBjYzogJyArIGZyYWcuY2MgKyAnIG9mIFsnICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgdHJhY2tEZXRhaWxzLmVuZFNOICsgJ10sdHJhY2sgJyArIHRyYWNrSWQgKyAnLCBjdXJyZW50VGltZTonICsgcG9zICsgJyxidWZmZXJFbmQ6JyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgd2UgYXJlIG5vdCByZWxvYWRpbmcgdGhlIHNhbWUgZnJhZ21lbnRzIGluIGxvb3AgLi4uXG4gICAgICAgICAgICAgIGlmICh0aGlzLmZyYWdMb2FkSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdMb2FkSWR4Kys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZElkeCA9IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGZyYWcubG9hZENvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBmcmFnLmxvYWRDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgdmFyIG1heFRocmVzaG9sZCA9IGNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBmcmFnIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkIDMgdGltZXMsIGFuZCBpZiBpdCBoYXMgYmVlbiByZWxvYWRlZCByZWNlbnRseVxuICAgICAgICAgICAgICAgIGlmIChmcmFnLmxvYWRDb3VudGVyID4gbWF4VGhyZXNob2xkICYmIE1hdGguYWJzKHRoaXMuZnJhZ0xvYWRJZHggLSBmcmFnLmxvYWRJZHgpIDwgbWF4VGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPT1BfTE9BRElOR19FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcmFnLmxvYWRDb3VudGVyID0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmcmFnLmxvYWRJZHggPSB0aGlzLmZyYWdMb2FkSWR4O1xuICAgICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gZnJhZztcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAoIWlzTmFOKGZyYWcuc24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZnJhZy5zdGFydCArIGZyYWcuZHVyYXRpb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRElORywgeyBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19UUkFDSzpcbiAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdO1xuICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodHJhY2sgJiYgdHJhY2suZGV0YWlscykge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTpcbiAgICAgICAgdmFyIG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB2YXIgcmV0cnlEYXRlID0gdGhpcy5yZXRyeURhdGU7XG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IG1lZGlhICYmIG1lZGlhLnNlZWtpbmc7XG4gICAgICAgIC8vIGlmIGN1cnJlbnQgdGltZSBpcyBndCB0aGFuIHJldHJ5RGF0ZSwgb3IgaWYgbWVkaWEgc2Vla2luZyBsZXQncyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgIGlmICghcmV0cnlEYXRlIHx8IG5vdyA+PSByZXRyeURhdGUgfHwgaXNTZWVraW5nKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpb1N0cmVhbUNvbnRyb2xsZXI6IHJldHJ5RGF0ZSByZWFjaGVkLCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlJyk7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfSU5JVF9QVFM6XG4gICAgICAgIHZhciB2aWRlb1RyYWNrQ0MgPSB0aGlzLnZpZGVvVHJhY2tDQztcbiAgICAgICAgaWYgKHRoaXMuaW5pdFBUU1t2aWRlb1RyYWNrQ0NdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBnZXQgc3R1Y2sgaW4gdGhlIFdBSVRJTkdfSU5JVF9QVFMgc3RhdGUgaWYgdGhlIHdhaXRpbmcgZnJhZyBDQyBkb2Vzbid0IG1hdGNoIGFueSBpbml0UFRTXG4gICAgICAgIHZhciB3YWl0aW5nRnJhZyA9IHRoaXMud2FpdGluZ0ZyYWdtZW50O1xuICAgICAgICBpZiAod2FpdGluZ0ZyYWcpIHtcbiAgICAgICAgICB2YXIgd2FpdGluZ0ZyYWdDQyA9IHdhaXRpbmdGcmFnLmZyYWcuY2M7XG4gICAgICAgICAgaWYgKHZpZGVvVHJhY2tDQyAhPT0gd2FpdGluZ0ZyYWdDQykge1xuICAgICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdO1xuICAgICAgICAgICAgaWYgKHRyYWNrLmRldGFpbHMgJiYgdHJhY2suZGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ1dhaXRpbmcgZnJhZ21lbnQgQ0MgKCcgKyB3YWl0aW5nRnJhZ0NDICsgJykgZG9lcyBub3QgbWF0Y2ggdmlkZW8gdHJhY2sgQ0MgKCcgKyB2aWRlb1RyYWNrQ0MgKyAnKScpO1xuICAgICAgICAgICAgICB0aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgdGhpcy5vbkZyYWdMb2FkZWQodGhpcy53YWl0aW5nRnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEOlxuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkc6XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkc6XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRDpcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRU5ERUQ6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGVkKGRhdGEpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA9IGRhdGEubWVkaWE7XG4gICAgdGhpcy5vbnZzZWVraW5nID0gdGhpcy5vbk1lZGlhU2Vla2luZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub252ZW5kZWQgPSB0aGlzLm9uTWVkaWFFbmRlZC5iaW5kKHRoaXMpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbnZlbmRlZCk7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGlmICh0aGlzLnRyYWNrcyAmJiBjb25maWcuYXV0b1N0YXJ0TG9hZCkge1xuICAgICAgdGhpcy5zdGFydExvYWQoY29uZmlnLnN0YXJ0UG9zaXRpb24pO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhRGV0YWNoaW5nKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhICYmIG1lZGlhLmVuZGVkKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgZnJhZ21lbnQgbG9hZGluZyBjb3VudGVyIG9uIE1TRSBkZXRhY2hpbmcgdG8gYXZvaWQgcmVwb3J0aW5nIEZSQUdfTE9PUF9MT0FESU5HX0VSUk9SIGFmdGVyIGVycm9yIHJlY292ZXJ5XG4gICAgdmFyIHRyYWNrcyA9IHRoaXMudHJhY2tzO1xuICAgIGlmICh0cmFja3MpIHtcbiAgICAgIC8vIHJlc2V0IGZyYWdtZW50IGxvYWQgY291bnRlclxuICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIGlmICh0cmFjay5kZXRhaWxzKSB7XG4gICAgICAgICAgdHJhY2suZGV0YWlscy5mcmFnbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGZyYWdtZW50LmxvYWRDb3VudGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub252c2Vla2luZyk7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgICAgdGhpcy5vbnZzZWVraW5nID0gdGhpcy5vbnZzZWVrZWQgPSB0aGlzLm9udmVuZGVkID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wTG9hZCgpO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNlZWtpbmcgPSBmdW5jdGlvbiBvbk1lZGlhU2Vla2luZygpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRU5ERUQpIHtcbiAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGNoZWNrIGZvciBwb3RlbnRpYWwgbmV3IGZyYWdtZW50XG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICB9XG4gICAgLy8gYXZvaWQgcmVwb3J0aW5nIGZyYWdtZW50IGxvb3AgbG9hZGluZyBlcnJvciBpbiBjYXNlIHVzZXIgaXMgc2Vla2luZyBzZXZlcmFsIHRpbWVzIG9uIHNhbWUgcG9zaXRpb25cbiAgICBpZiAodGhpcy5mcmFnTG9hZElkeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmZyYWdMb2FkSWR4ICs9IDIgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8vIHRpY2sgdG8gc3BlZWQgdXAgcHJvY2Vzc2luZ1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUVuZGVkID0gZnVuY3Rpb24gb25NZWRpYUVuZGVkKCkge1xuICAgIC8vIHJlc2V0IHN0YXJ0UG9zaXRpb24gYW5kIGxhc3RDdXJyZW50VGltZSB0byByZXN0YXJ0IHBsYXliYWNrIEAgc3RyZWFtIGJlZ2lubmluZ1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrc1VwZGF0ZWQoZGF0YSkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICB0aGlzLnRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3M7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tTd2l0Y2hpbmcoZGF0YSkge1xuICAgIC8vIGlmIGFueSBVUkwgZm91bmQgb24gbmV3IGF1ZGlvIHRyYWNrLCBpdCBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2tcbiAgICB2YXIgYWx0QXVkaW8gPSAhIWRhdGEudXJsO1xuICAgIHRoaXMudHJhY2tJZCA9IGRhdGEuaWQ7XG5cbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFVU0VEO1xuICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gbnVsbDtcbiAgICAvLyBkZXN0cm95IHVzZWxlc3MgZGVtdXhlciB3aGVuIHN3aXRjaGluZyBhdWRpbyB0byBtYWluXG4gICAgaWYgKCFhbHRBdWRpbykge1xuICAgICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzd2l0Y2hpbmcgdG8gYXVkaW8gdHJhY2ssIHN0YXJ0IHRpbWVyIGlmIG5vdCBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgIGlmICghdGhpcy50aW1lcikge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vbnRpY2ssIDEwMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9zaG91bGQgd2Ugc3dpdGNoIHRyYWNrcyA/XG4gICAgaWYgKGFsdEF1ZGlvKSB7XG4gICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gdHJ1ZTtcbiAgICAgIC8vbWFpbiBhdWRpbyB0cmFjayBhcmUgaGFuZGxlZCBieSBzdHJlYW0tY29udHJvbGxlciwganVzdCBkbyBzb21ldGhpbmcgaWYgc3dpdGNoaW5nIHRvIGFsdCBhdWRpbyB0cmFja1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAvLyBpbmNyZWFzZSBmcmFnbWVudCBsb2FkIEluZGV4IHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yIGFmdGVyIGJ1ZmZlciBmbHVzaFxuICAgICAgaWYgKHRoaXMuZnJhZ0xvYWRJZHggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmZyYWdMb2FkSWR4ICs9IDIgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrTG9hZGVkID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscyxcbiAgICAgICAgdHJhY2tJZCA9IGRhdGEuaWQsXG4gICAgICAgIHRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF0sXG4gICAgICAgIGR1cmF0aW9uID0gbmV3RGV0YWlscy50b3RhbGR1cmF0aW9uLFxuICAgICAgICBzbGlkaW5nID0gMDtcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndHJhY2sgJyArIHRyYWNrSWQgKyAnIGxvYWRlZCBbJyArIG5ld0RldGFpbHMuc3RhcnRTTiArICcsJyArIG5ld0RldGFpbHMuZW5kU04gKyAnXSxkdXJhdGlvbjonICsgZHVyYXRpb24pO1xuXG4gICAgaWYgKG5ld0RldGFpbHMubGl2ZSkge1xuICAgICAgdmFyIGN1ckRldGFpbHMgPSB0cmFjay5kZXRhaWxzO1xuICAgICAgaWYgKGN1ckRldGFpbHMgJiYgbmV3RGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICBtZXJnZURldGFpbHMoY3VyRGV0YWlscywgbmV3RGV0YWlscyk7XG4gICAgICAgIHNsaWRpbmcgPSBuZXdEZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvL3RoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzbGlkaW5nLCBjdXJEZXRhaWxzKTtcbiAgICAgICAgaWYgKG5ld0RldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgYXVkaW8gcGxheWxpc3Qgc2xpZGluZzonICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgYXVkaW8gcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBhdWRpbyBwbGF5bGlzdCAtIGZpcnN0IGxvYWQsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgfVxuICAgIHRyYWNrLmRldGFpbHMgPSBuZXdEZXRhaWxzO1xuXG4gICAgLy8gY29tcHV0ZSBzdGFydCBwb3NpdGlvblxuICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQpIHtcbiAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb24gaWYgc2V0IHRvIC0xLiB1c2UgaXQgc3RyYWlnaHQgYXdheSBpZiB2YWx1ZSBpcyBkZWZpbmVkXG4gICAgICBpZiAodGhpcy5zdGFydFBvc2l0aW9uID09PSAtMSkge1xuICAgICAgICAvLyBmaXJzdCwgY2hlY2sgaWYgc3RhcnQgdGltZSBvZmZzZXQgaGFzIGJlZW4gc2V0IGluIHBsYXlsaXN0LCBpZiB5ZXMsIHVzZSB0aGlzIHZhbHVlXG4gICAgICAgIHZhciBzdGFydFRpbWVPZmZzZXQgPSBuZXdEZXRhaWxzLnN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgaWYgKCFpc05hTihzdGFydFRpbWVPZmZzZXQpKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzdGFydCB0aW1lIG9mZnNldCBmb3VuZCBpbiBwbGF5bGlzdCwgYWRqdXN0IHN0YXJ0UG9zaXRpb24gdG8gJyArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICB9XG4gICAgLy8gb25seSBzd2l0Y2ggYmF0Y2sgdG8gSURMRSBzdGF0ZSBpZiB3ZSB3ZXJlIHdhaXRpbmcgZm9yIHRyYWNrIHRvIHN0YXJ0IGRvd25sb2FkaW5nIGEgbmV3IGZyYWdtZW50XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfVFJBQ0spIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgIH1cbiAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gb25LZXlMb2FkZWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudCxcbiAgICAgICAgZnJhZ0xvYWRlZCA9IGRhdGEuZnJhZztcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HICYmIGZyYWdDdXJyZW50ICYmIGZyYWdMb2FkZWQudHlwZSA9PT0gJ2F1ZGlvJyAmJiBmcmFnTG9hZGVkLmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiBmcmFnTG9hZGVkLnNuID09PSBmcmFnQ3VycmVudC5zbikge1xuICAgICAgdmFyIHRyYWNrID0gdGhpcy50cmFja3NbdGhpcy50cmFja0lkXSxcbiAgICAgICAgICBkZXRhaWxzID0gdHJhY2suZGV0YWlscyxcbiAgICAgICAgICBkdXJhdGlvbiA9IGRldGFpbHMudG90YWxkdXJhdGlvbixcbiAgICAgICAgICB0cmFja0lkID0gZnJhZ0N1cnJlbnQubGV2ZWwsXG4gICAgICAgICAgc24gPSBmcmFnQ3VycmVudC5zbixcbiAgICAgICAgICBjYyA9IGZyYWdDdXJyZW50LmNjLFxuICAgICAgICAgIGF1ZGlvQ29kZWMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCB0cmFjay5hdWRpb0NvZGVjIHx8ICdtcDRhLjQwLjInLFxuICAgICAgICAgIHN0YXRzID0gdGhpcy5zdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICBpZiAoc24gPT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG5cbiAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdhdWRpbycgfSk7XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkc7XG4gICAgICAgIC8vIHRyYW5zbXV4IHRoZSBNUEVHLVRTIGRhdGEgdG8gSVNPLUJNRkYgc2VnbWVudHNcbiAgICAgICAgdGhpcy5hcHBlbmRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eF9kZW11eGVyKHRoaXMuaGxzLCAnYXVkaW8nKTtcbiAgICAgICAgfVxuICAgICAgICAvL0NoZWNrIGlmIHdlIGhhdmUgdmlkZW8gaW5pdFBUU1xuICAgICAgICAvLyBJZiBub3Qgd2UgbmVlZCB0byB3YWl0IGZvciBpdFxuICAgICAgICB2YXIgaW5pdFBUUyA9IHRoaXMuaW5pdFBUU1tjY107XG4gICAgICAgIHZhciBpbml0U2VnbWVudERhdGEgPSBkZXRhaWxzLmluaXRTZWdtZW50ID8gZGV0YWlscy5pbml0U2VnbWVudC5kYXRhIDogW107XG4gICAgICAgIGlmIChkZXRhaWxzLmluaXRTZWdtZW50IHx8IGluaXRQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdEZW11eGluZyAnICsgc24gKyAnIG9mIFsnICsgZGV0YWlscy5zdGFydFNOICsgJyAsJyArIGRldGFpbHMuZW5kU04gKyAnXSx0cmFjayAnICsgdHJhY2tJZCk7XG4gICAgICAgICAgLy8gdGltZSBPZmZzZXQgaXMgYWNjdXJhdGUgaWYgbGV2ZWwgUFRTIGlzIGtub3duLCBvciBpZiBwbGF5bGlzdCBpcyBub3Qgc2xpZGluZyAobm90IGxpdmUpXG4gICAgICAgICAgdmFyIGFjY3VyYXRlVGltZU9mZnNldCA9IGZhbHNlOyAvL2RldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZTtcbiAgICAgICAgICB0aGlzLmRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgbnVsbCwgZnJhZ0N1cnJlbnQsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGluaXRQVFMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndW5rbm93biB2aWRlbyBQVFMgZm9yIGNvbnRpbnVpdHkgY291bnRlciAnICsgY2MgKyAnLCB3YWl0aW5nIGZvciB2aWRlbyBQVFMgYmVmb3JlIGRlbXV4aW5nIGF1ZGlvIGZyYWcgJyArIHNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sdHJhY2sgJyArIHRyYWNrSWQpO1xuICAgICAgICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gZGF0YTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19JTklUX1BUUztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0luaXRTZWdtZW50ID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0luaXRTZWdtZW50KGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnYXVkaW8nICYmIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcyxcbiAgICAgICAgICB0cmFjayA9IHZvaWQgMDtcblxuICAgICAgLy8gZGVsZXRlIGFueSB2aWRlbyB0cmFjayBmb3VuZCBvbiBhdWRpbyBkZW11eGVyXG4gICAgICBpZiAodHJhY2tzLnZpZGVvKSB7XG4gICAgICAgIGRlbGV0ZSB0cmFja3MudmlkZW87XG4gICAgICB9XG5cbiAgICAgIC8vIGluY2x1ZGUgbGV2ZWxDb2RlYyBpbiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzXG4gICAgICB0cmFjayA9IHRyYWNrcy5hdWRpbztcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gdHJhY2suY29kZWM7XG4gICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyB0cmFjazphdWRpbyxjb250YWluZXI6JyArIHRyYWNrLmNvbnRhaW5lciArICcsY29kZWNzW2xldmVsL3BhcnNlZF09WycgKyB0cmFjay5sZXZlbENvZGVjICsgJy8nICsgdHJhY2suY29kZWMgKyAnXScpO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnQgPSB0cmFjay5pbml0U2VnbWVudDtcbiAgICAgICAgaWYgKGluaXRTZWdtZW50KSB7XG4gICAgICAgICAgdmFyIGFwcGVuZE9iaiA9IHsgdHlwZTogJ2F1ZGlvJywgZGF0YTogaW5pdFNlZ21lbnQsIHBhcmVudDogJ2F1ZGlvJywgY29udGVudDogJ2luaXRTZWdtZW50JyB9O1xuICAgICAgICAgIGlmICh0aGlzLmF1ZGlvU3dpdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdEYXRhID0gW2FwcGVuZE9ial07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3RyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0RhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nRGF0YShkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnYXVkaW8nICYmIGRhdGEudHlwZSA9PT0gJ2F1ZGlvJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiB0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgdHJhY2tJZCA9IHRoaXMudHJhY2tJZCxcbiAgICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdLFxuICAgICAgICAgIGhscyA9IHRoaXMuaGxzO1xuXG4gICAgICBpZiAoaXNOYU4oZGF0YS5lbmRQVFMpKSB7XG4gICAgICAgIGRhdGEuZW5kUFRTID0gZGF0YS5zdGFydFBUUyArIGZyYWdDdXJyZW50LmR1cmF0aW9uO1xuICAgICAgICBkYXRhLmVuZERUUyA9IGRhdGEuc3RhcnREVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdwYXJzZWQgJyArIGRhdGEudHlwZSArICcsUFRTOlsnICsgZGF0YS5zdGFydFBUUy50b0ZpeGVkKDMpICsgJywnICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArICddLERUUzpbJyArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArICcvJyArIGRhdGEuZW5kRFRTLnRvRml4ZWQoMykgKyAnXSxuYjonICsgZGF0YS5uYik7XG4gICAgICB1cGRhdGVGcmFnUFRTRFRTKHRyYWNrLmRldGFpbHMsIGZyYWdDdXJyZW50LCBkYXRhLnN0YXJ0UFRTLCBkYXRhLmVuZFBUUyk7XG5cbiAgICAgIHZhciBhdWRpb1N3aXRjaCA9IHRoaXMuYXVkaW9Td2l0Y2gsXG4gICAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICAgIGFwcGVuZE9uQnVmZmVyRmx1c2ggPSBmYWxzZTtcbiAgICAgIC8vT25seSBmbHVzaCBhdWRpbyBmcm9tIG9sZCBhdWRpbyB0cmFja3Mgd2hlbiBQVFMgaXMga25vd24gb24gbmV3IGF1ZGlvIHRyYWNrXG4gICAgICBpZiAoYXVkaW9Td2l0Y2ggJiYgbWVkaWEpIHtcbiAgICAgICAgaWYgKG1lZGlhLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBtZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBhdWRpbyB0cmFjayA6IGN1cnJlbnRUaW1lOicgKyBjdXJyZW50VGltZSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID49IGRhdGEuc3RhcnRQVFMpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3dpdGNoaW5nIGF1ZGlvIHRyYWNrIDogZmx1c2hpbmcgYWxsIGF1ZGlvJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuQlVGRkVSX0ZMVVNISU5HO1xuICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICBhcHBlbmRPbkJ1ZmZlckZsdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vTGV0cyBhbm5vdW5jZSB0aGF0IHRoZSBpbml0aWFsIGF1ZGlvIHRyYWNrIHN3aXRjaCBmbHVzaCBvY2N1clxuICAgICAgICAgICAgdGhpcy5hdWRpb1N3aXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0cmFja0lkIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL0xldHMgYW5ub3VuY2UgdGhhdCB0aGUgaW5pdGlhbCBhdWRpbyB0cmFjayBzd2l0Y2ggZmx1c2ggb2NjdXJcbiAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0cmFja0lkIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwZW5kaW5nRGF0YSA9IHRoaXMucGVuZGluZ0RhdGE7XG4gICAgICBpZiAoIXRoaXMuYXVkaW9Td2l0Y2gpIHtcbiAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcGVuZGluZ0RhdGEucHVzaCh7IHR5cGU6IGRhdGEudHlwZSwgZGF0YTogYnVmZmVyLCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGVuZE9uQnVmZmVyRmx1c2ggJiYgcGVuZGluZ0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgcGVuZGluZ0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoYXBwZW5kT2JqKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCBpbiBQQVJTSU5HIHN0YXRlIChyYXRpb25hbGUgaXMgdGhhdCBhbiBhcHBlbmRpbmcgZXJyb3IgY291bGQgaGFwcGVuIHN5bmNocm9ub3VzbHkgb24gZmlyc3Qgc2VnbWVudCBhcHBlbmRpbmcpXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgaXQgaXMgdXNlbGVzcyB0byBhcHBlbmQgZm9sbG93aW5nIHNlZ21lbnRzXG4gICAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgIF90aGlzMi5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX3RoaXMyLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy90cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiBvbkZyYWdQYXJzZWQoZGF0YSkge1xuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdhdWRpbycgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgdGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORykge1xuICAgICAgdGhpcy5zdGF0cy50cGFyc2VkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0VEO1xuICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ3JlYXRlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyQ3JlYXRlZChkYXRhKSB7XG4gICAgdmFyIGF1ZGlvVHJhY2sgPSBkYXRhLnRyYWNrcy5hdWRpbztcbiAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IGF1ZGlvVHJhY2suYnVmZmVyO1xuICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChkYXRhLnRyYWNrcy52aWRlbykge1xuICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IGRhdGEudHJhY2tzLnZpZGVvLmJ1ZmZlcjtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZGVkID0gZnVuY3Rpb24gb25CdWZmZXJBcHBlbmRlZChkYXRhKSB7XG4gICAgaWYgKGRhdGEucGFyZW50ID09PSAnYXVkaW8nKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HIHx8IHN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIGFwcGVuZGVkXG4gICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IGRhdGEucGVuZGluZyA+IDA7XG4gICAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tBcHBlbmRlZFBhcnNlZCA9IGZ1bmN0aW9uIF9jaGVja0FwcGVuZGVkUGFyc2VkKCkge1xuICAgIC8vdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQgJiYgKCF0aGlzLmFwcGVuZGVkIHx8ICF0aGlzLnBlbmRpbmdCdWZmZXJpbmcpKSB7XG4gICAgICB2YXIgZnJhZyA9IHRoaXMuZnJhZ0N1cnJlbnQsXG4gICAgICAgICAgc3RhdHMgPSB0aGlzLnN0YXRzLFxuICAgICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ2F1ZGlvJyB9KTtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvIGJ1ZmZlcmVkIDogJyArIHRpbWVSYW5nZXMudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpKTtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9Td2l0Y2ggJiYgdGhpcy5hcHBlbmRlZCkge1xuICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRoaXMudHJhY2tJZCB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAvLyBkb24ndCBoYW5kbGUgZnJhZyBlcnJvciBub3QgcmVsYXRlZCB0byBhdWRpbyBmcmFnbWVudFxuICAgIGlmIChmcmFnICYmIGZyYWcudHlwZSAhPT0gJ2F1ZGlvJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICB2YXIgbG9hZEVycm9yID0gdGhpcy5mcmFnTG9hZEVycm9yO1xuICAgICAgICAgIGlmIChsb2FkRXJyb3IpIHtcbiAgICAgICAgICAgIGxvYWRFcnJvcisrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2FkRXJyb3IgPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgICAgaWYgKGxvYWRFcnJvciA8PSBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gbG9hZEVycm9yO1xuICAgICAgICAgICAgLy8gcmVzZXQgbG9hZCBjb3VudGVyIHRvIGF2b2lkIGZyYWcgbG9vcCBsb2FkaW5nIGVycm9yXG4gICAgICAgICAgICBmcmFnLmxvYWRDb3VudGVyID0gMDtcbiAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dFxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5taW4oTWF0aC5wb3coMiwgbG9hZEVycm9yIC0gMSkgKiBjb25maWcuZnJhZ0xvYWRpbmdSZXRyeURlbGF5LCBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQpO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignYXVkaW9TdHJlYW1Db250cm9sbGVyOiBmcmFnIGxvYWRpbmcgZmFpbGVkLCByZXRyeSBpbiAnICsgZGVsYXkgKyAnIG1zJyk7XG4gICAgICAgICAgICB0aGlzLnJldHJ5RGF0ZSA9IHBlcmZvcm1hbmNlLm5vdygpICsgZGVsYXk7XG4gICAgICAgICAgICAvLyByZXRyeSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdhdWRpb1N0cmVhbUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnIHJlYWNoZXMgbWF4IHJldHJ5LCByZWRpc3BhdGNoIGFzIGZhdGFsIC4uLicpO1xuICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FUlJPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9PUF9MT0FESU5HX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5BVURJT19UUkFDS19MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICAvLyAgd2hlbiBpbiBFUlJPUiBzdGF0ZSwgZG9uJ3Qgc3dpdGNoIGJhY2sgdG8gSURMRSBzdGF0ZSBpbiBjYXNlIGEgbm9uLWZhdGFsIGVycm9yIGlzIHJlY2VpdmVkXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FUlJPUikge1xuICAgICAgICAgIC8vIGlmIGZhdGFsIGVycm9yLCBzdG9wIHByb2Nlc3NpbmcsIG90aGVyd2lzZSBtb3ZlIHRvIElETEUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBkYXRhLmZhdGFsID8gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRVJST1IgOiBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2F1ZGlvU3RyZWFtQ29udHJvbGxlcjogJyArIGRhdGEuZGV0YWlscyArICcgd2hpbGUgbG9hZGluZyBmcmFnLHN3aXRjaCB0byAnICsgdGhpcy5zdGF0ZSArICcgc3RhdGUgLi4uJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9GVUxMX0VSUk9SOlxuICAgICAgICAvLyBpZiBpbiBhcHBlbmRpbmcgc3RhdGVcbiAgICAgICAgaWYgKGRhdGEucGFyZW50ID09PSAnYXVkaW8nICYmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HIHx8IHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRCkpIHtcbiAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyLFxuICAgICAgICAgICAgICBjdXJyZW50VGltZSA9IHRoaXMubWVkaWEuY3VycmVudFRpbWUsXG4gICAgICAgICAgICAgIG1lZGlhQnVmZmVyZWQgPSBtZWRpYSAmJiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lKSAmJiBidWZmZXJfaGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lICsgMC41KTtcbiAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZiBsZW4gaWYgY3VycmVudCBwb3NpdGlvbiBpcyBidWZmZXJlZFxuICAgICAgICAgIGlmIChtZWRpYUJ1ZmZlcmVkKSB7XG4gICAgICAgICAgICB2YXIgX2NvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgICAgaWYgKF9jb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IF9jb25maWcubWF4QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIHJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCBhcyBpdCBtaWdodCBiZSB0b28gaGlnaC4gd2UgZG8gdGhpcyB0byBhdm9pZCBsb29wIGZsdXNoaW5nIC4uLlxuICAgICAgICAgICAgICBfY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAvPSAyO1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhdWRpbzpyZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggdG8gJyArIF9jb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoICsgJ3MnKTtcbiAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgZnJhZ21lbnQgbG9hZCBJbmRleCB0byBhdm9pZCBmcmFnIGxvb3AgbG9hZGluZyBlcnJvciBhZnRlciBidWZmZXIgZmx1c2hcbiAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZElkeCArPSAyICogX2NvbmZpZy5mcmFnTG9hZGluZ0xvb3BUaHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsIGJ1dCBicm93c2VyIGlzIHN0aWxsIGNvbXBsYWluaW5nIGFib3V0IGJ1ZmZlciBmdWxsIGVycm9yXG4gICAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgb24gSUUvRWRnZSwgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC83MDhcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSBmbHVzaCB0aGUgd2hvbGUgYXVkaW8gYnVmZmVyIHRvIHJlY292ZXJcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2J1ZmZlciBmdWxsIGVycm9yIGFsc28gbWVkaWEuY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBmbHVzaCBhdWRpbyBidWZmZXInKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZmx1c2ggZXZlcnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJGbHVzaGVkID0gZnVuY3Rpb24gb25CdWZmZXJGbHVzaGVkKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHBlbmRpbmdEYXRhID0gdGhpcy5wZW5kaW5nRGF0YTtcbiAgICBpZiAocGVuZGluZ0RhdGEgJiYgcGVuZGluZ0RhdGEubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FwcGVuZGluZyBwZW5kaW5nIGF1ZGlvIGRhdGEgb24gQnVmZmVyIEZsdXNoZWQnKTtcbiAgICAgIHBlbmRpbmdEYXRhLmZvckVhY2goZnVuY3Rpb24gKGFwcGVuZE9iaikge1xuICAgICAgICBfdGhpczMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRJTkcsIGFwcGVuZE9iaik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgdGhpcy5wZW5kaW5nRGF0YSA9IFtdO1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbW92ZSB0byBJRExFIG9uY2UgZmx1c2ggY29tcGxldGUuIHRoaXMgc2hvdWxkIHRyaWdnZXIgbmV3IGZyYWdtZW50IGxvYWRpbmdcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgLy8gcmVzZXQgcmVmZXJlbmNlIHRvIGZyYWdcbiAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MoQXVkaW9TdHJlYW1Db250cm9sbGVyLCBbe1xuICAgIGtleTogJ3N0YXRlJyxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0U3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyBzdHJlYW06JyArIHByZXZpb3VzU3RhdGUgKyAnLT4nICsgbmV4dFN0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb1N0cmVhbUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlciA9IChhdWRpb19zdHJlYW1fY29udHJvbGxlcl9BdWRpb1N0cmVhbUNvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXG4vKipcbiAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHZ0dGN1ZSA9ICgoZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZUVEN1ZSkge1xuICAgIHJldHVybiB3aW5kb3cuVlRUQ3VlO1xuICB9XG5cbiAgdmFyIGF1dG9LZXl3b3JkID0gJ2F1dG8nO1xuICB2YXIgZGlyZWN0aW9uU2V0dGluZyA9IHtcbiAgICAnJzogdHJ1ZSxcbiAgICBscjogdHJ1ZSxcbiAgICBybDogdHJ1ZVxuICB9O1xuICB2YXIgYWxpZ25TZXR0aW5nID0ge1xuICAgIHN0YXJ0OiB0cnVlLFxuICAgIG1pZGRsZTogdHJ1ZSxcbiAgICBlbmQ6IHRydWUsXG4gICAgbGVmdDogdHJ1ZSxcbiAgICByaWdodDogdHJ1ZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGRpciA9IGRpcmVjdGlvblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIGRpciA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRBbGlnblNldHRpbmcodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgYWxpZ24gPSBhbGlnblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIGFsaWduID8gdmFsdWUudG9Mb3dlckNhc2UoKSA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG9iaikge1xuICAgIHZhciBpID0gMTtcbiAgICBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNvYmogPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBwIGluIGNvYmopIHtcbiAgICAgICAgb2JqW3BdID0gY29ialtwXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gVlRUQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgdGV4dCkge1xuICAgIHZhciBjdWUgPSB0aGlzO1xuICAgIHZhciBpc0lFOCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gKC9NU0lFXFxzOFxcLjAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICAgICk7XG4gICAgfSgpO1xuICAgIHZhciBiYXNlT2JqID0ge307XG5cbiAgICBpZiAoaXNJRTgpIHtcbiAgICAgIGN1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N1c3RvbScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlT2JqLmVudW1lcmFibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNoaW0gaW1wbGVtZW50YXRpb24gc3BlY2lmaWMgcHJvcGVydGllcy4gVGhlc2UgcHJvcGVydGllcyBhcmUgbm90IGluXG4gICAgICogdGhlIHNwZWMuXG4gICAgICovXG5cbiAgICAvLyBMZXRzIHVzIGtub3cgd2hlbiB0aGUgVlRUQ3VlJ3MgZGF0YSBoYXMgY2hhbmdlZCBpbiBzdWNoIGEgd2F5IHRoYXQgd2UgbmVlZFxuICAgIC8vIHRvIHJlY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZS4gVGhpcyBsZXRzIHVzIGNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGVcbiAgICAvLyBsYXppbHkuXG4gICAgY3VlLmhhc0JlZW5SZXNldCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVlRUQ3VlIGFuZCBUZXh0VHJhY2tDdWUgcHJvcGVydGllc1xuICAgICAqIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3dlYnZ0dC8jdnR0Y3VlLWludGVyZmFjZVxuICAgICAqL1xuXG4gICAgdmFyIF9pZCA9ICcnO1xuICAgIHZhciBfcGF1c2VPbkV4aXQgPSBmYWxzZTtcbiAgICB2YXIgX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB2YXIgX2VuZFRpbWUgPSBlbmRUaW1lO1xuICAgIHZhciBfdGV4dCA9IHRleHQ7XG4gICAgdmFyIF9yZWdpb24gPSBudWxsO1xuICAgIHZhciBfdmVydGljYWwgPSAnJztcbiAgICB2YXIgX3NuYXBUb0xpbmVzID0gdHJ1ZTtcbiAgICB2YXIgX2xpbmUgPSAnYXV0byc7XG4gICAgdmFyIF9saW5lQWxpZ24gPSAnc3RhcnQnO1xuICAgIHZhciBfcG9zaXRpb24gPSA1MDtcbiAgICB2YXIgX3Bvc2l0aW9uQWxpZ24gPSAnbWlkZGxlJztcbiAgICB2YXIgX3NpemUgPSA1MDtcbiAgICB2YXIgX2FsaWduID0gJ21pZGRsZSc7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnaWQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2lkO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIF9pZCA9ICcnICsgdmFsdWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3BhdXNlT25FeGl0JywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9wYXVzZU9uRXhpdDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfcGF1c2VPbkV4aXQgPSAhIXZhbHVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdzdGFydFRpbWUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0YXJ0VGltZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0YXJ0IHRpbWUgbXVzdCBiZSBzZXQgdG8gYSBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3N0YXJ0VGltZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2VuZFRpbWUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2VuZFRpbWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5kVGltZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3RleHQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3RleHQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgX3RleHQgPSAnJyArIHZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3JlZ2lvbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfcmVnaW9uO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIF9yZWdpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICd2ZXJ0aWNhbCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfdmVydGljYWw7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kRGlyZWN0aW9uU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgIC8vIEhhdmUgdG8gY2hlY2sgZm9yIGZhbHNlIGJlY2F1c2UgdGhlIHNldHRpbmcgYW4gYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAgICBpZiAoc2V0dGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBfdmVydGljYWwgPSBzZXR0aW5nO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3NuYXBUb0xpbmVzJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zbmFwVG9MaW5lcztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfc25hcFRvTGluZXMgPSAhIXZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2xpbmUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2xpbmU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgJiYgdmFsdWUgIT09IGF1dG9LZXl3b3JkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG51bWJlciBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG4gICAgICAgIF9saW5lID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnbGluZUFsaWduJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9saW5lQWxpZ247XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2xpbmVBbGlnbiA9IHNldHRpbmc7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAncG9zaXRpb24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3Bvc2l0aW9uO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxMDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bvc2l0aW9uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAncG9zaXRpb25BbGlnbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfcG9zaXRpb25BbGlnbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBfcG9zaXRpb25BbGlnbiA9IHNldHRpbmc7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnc2l6ZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc2l6ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaXplIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3NpemUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdhbGlnbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfYWxpZ247XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2FsaWduID0gc2V0dGluZztcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8qKlxuICAgICAqIE90aGVyIDx0cmFjaz4gc3BlYyBkZWZpbmVkIHByb3BlcnRpZXNcbiAgICAgKi9cblxuICAgIC8vIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS12aWRlby1lbGVtZW50Lmh0bWwjdGV4dC10cmFjay1jdWUtZGlzcGxheS1zdGF0ZVxuICAgIGN1ZS5kaXNwbGF5U3RhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaXNJRTgpIHtcbiAgICAgIHJldHVybiBjdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZUVEN1ZSBtZXRob2RzXG4gICAqL1xuXG4gIFZUVEN1ZS5wcm90b3R5cGUuZ2V0Q3VlQXNIVE1MID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEFzc3VtZSBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSBpcyBvbiB0aGUgZ2xvYmFsLlxuICAgIHZhciBXZWJWVFQgPSB3aW5kb3cuV2ViVlRUO1xuICAgIHJldHVybiBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSh3aW5kb3csIHRoaXMudGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIFZUVEN1ZTtcbn0pKCkpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzXG4vKlxuICogU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanMvYmxvYi9tYXN0ZXIvZGlzdC92dHQuanMjTDE3MTZcbiAqL1xuXG5cblxudmFyIFN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKCkge1xuICByZXR1cm4ge1xuICAgIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGRhdGEpIHtcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgLSBleHBlY3RlZCBzdHJpbmcgZGF0YS4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpKTtcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBWVFRQYXJzZXIoKSB7XG4gIHRoaXMud2luZG93ID0gd2luZG93O1xuICB0aGlzLnN0YXRlID0gJ0lOSVRJQUwnO1xuICB0aGlzLmJ1ZmZlciA9ICcnO1xuICB0aGlzLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcigpO1xuICB0aGlzLnJlZ2lvbkxpc3QgPSBbXTtcbn1cblxuLy8gVHJ5IHRvIHBhcnNlIGlucHV0IGFzIGEgdGltZSBzdGFtcC5cbmZ1bmN0aW9uIHBhcnNlVGltZVN0YW1wKGlucHV0KSB7XG5cbiAgZnVuY3Rpb24gY29tcHV0ZVNlY29uZHMoaCwgbSwgcywgZikge1xuICAgIHJldHVybiAoaCB8IDApICogMzYwMCArIChtIHwgMCkgKiA2MCArIChzIHwgMCkgKyAoZiB8IDApIC8gMTAwMDtcbiAgfVxuXG4gIHZhciBtID0gaW5wdXQubWF0Y2goL14oXFxkKyk6KFxcZHsyfSkoOlxcZHsyfSk/XFwuKFxcZHszfSkvKTtcbiAgaWYgKCFtKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAobVszXSkge1xuICAgIC8vIFRpbWVzdGFtcCB0YWtlcyB0aGUgZm9ybSBvZiBbaG91cnNdOlttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICByZXR1cm4gY29tcHV0ZVNlY29uZHMobVsxXSwgbVsyXSwgbVszXS5yZXBsYWNlKCc6JywgJycpLCBtWzRdKTtcbiAgfSBlbHNlIGlmIChtWzFdID4gNTkpIHtcbiAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW2hvdXJzXTpbbWludXRlc10uW21pbGxpc2Vjb25kc11cbiAgICAvLyBGaXJzdCBwb3NpdGlvbiBpcyBob3VycyBhcyBpdCdzIG92ZXIgNTkuXG4gICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKG1bMV0sIG1bMl0sIDAsIG1bNF0pO1xuICB9IGVsc2Uge1xuICAgIC8vIFRpbWVzdGFtcCB0YWtlcyB0aGUgZm9ybSBvZiBbbWludXRlc106W3NlY29uZHNdLlttaWxsaXNlY29uZHNdXG4gICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKDAsIG1bMV0sIG1bMl0sIG1bNF0pO1xuICB9XG59XG5cbi8vIEEgc2V0dGluZ3Mgb2JqZWN0IGhvbGRzIGtleS92YWx1ZSBwYWlycyBhbmQgd2lsbCBpZ25vcmUgYW55dGhpbmcgYnV0IHRoZSBmaXJzdFxuLy8gYXNzaWdubWVudCB0byBhIHNwZWNpZmljIGtleS5cbmZ1bmN0aW9uIFNldHRpbmdzKCkge1xuICB0aGlzLnZhbHVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cblNldHRpbmdzLnByb3RvdHlwZSA9IHtcbiAgLy8gT25seSBhY2NlcHQgdGhlIGZpcnN0IGFzc2lnbm1lbnQgdG8gYW55IGtleS5cbiAgc2V0OiBmdW5jdGlvbiBzZXQoaywgdikge1xuICAgIGlmICghdGhpcy5nZXQoaykgJiYgdiAhPT0gJycpIHtcbiAgICAgIHRoaXMudmFsdWVzW2tdID0gdjtcbiAgICB9XG4gIH0sXG4gIC8vIFJldHVybiB0aGUgdmFsdWUgZm9yIGEga2V5LCBvciBhIGRlZmF1bHQgdmFsdWUuXG4gIC8vIElmICdkZWZhdWx0S2V5JyBpcyBwYXNzZWQgdGhlbiAnZGZsdCcgaXMgYXNzdW1lZCB0byBiZSBhbiBvYmplY3Qgd2l0aFxuICAvLyBhIG51bWJlciBvZiBwb3NzaWJsZSBkZWZhdWx0IHZhbHVlcyBhcyBwcm9wZXJ0aWVzIHdoZXJlICdkZWZhdWx0S2V5JyBpc1xuICAvLyB0aGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgY2hvc2VuOyBvdGhlcndpc2UgaXQncyBhc3N1bWVkIHRvIGJlXG4gIC8vIGEgc2luZ2xlIHZhbHVlLlxuICBnZXQ6IGZ1bmN0aW9uIGdldChrLCBkZmx0LCBkZWZhdWx0S2V5KSB7XG4gICAgaWYgKGRlZmF1bHRLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdFtkZWZhdWx0S2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGFzKGspID8gdGhpcy52YWx1ZXNba10gOiBkZmx0O1xuICB9LFxuICAvLyBDaGVjayB3aGV0aGVyIHdlIGhhdmUgYSB2YWx1ZSBmb3IgYSBrZXkuXG4gIGhhczogZnVuY3Rpb24gaGFzKGspIHtcbiAgICByZXR1cm4gayBpbiB0aGlzLnZhbHVlcztcbiAgfSxcbiAgLy8gQWNjZXB0IGEgc2V0dGluZyBpZiBpdHMgb25lIG9mIHRoZSBnaXZlbiBhbHRlcm5hdGl2ZXMuXG4gIGFsdDogZnVuY3Rpb24gYWx0KGssIHYsIGEpIHtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGEubGVuZ3RoOyArK24pIHtcbiAgICAgIGlmICh2ID09PSBhW25dKSB7XG4gICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIGEgdmFsaWQgKHNpZ25lZCkgaW50ZWdlci5cbiAgaW50ZWdlcjogZnVuY3Rpb24gaW50ZWdlcihrLCB2KSB7XG4gICAgaWYgKC9eLT9cXGQrJC8udGVzdCh2KSkge1xuICAgICAgLy8gaW50ZWdlclxuICAgICAgdGhpcy5zZXQoaywgcGFyc2VJbnQodiwgMTApKTtcbiAgICB9XG4gIH0sXG4gIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIGEgdmFsaWQgcGVyY2VudGFnZS5cbiAgcGVyY2VudDogZnVuY3Rpb24gcGVyY2VudChrLCB2KSB7XG4gICAgdmFyIG07XG4gICAgaWYgKG0gPSB2Lm1hdGNoKC9eKFtcXGRdezEsM30pKFxcLltcXGRdKik/JSQvKSkge1xuICAgICAgdiA9IHBhcnNlRmxvYXQodik7XG4gICAgICBpZiAodiA+PSAwICYmIHYgPD0gMTAwKSB7XG4gICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4vLyBpbnRlcnByZXRlIGVhY2ggZ3JvdXAgYXMgYSBrZXkvdmFsdWUgcGFpciBzZXBhcmF0ZWQgYnkgJ2tleVZhbHVlRGVsaW0nLlxuZnVuY3Rpb24gcGFyc2VPcHRpb25zKGlucHV0LCBjYWxsYmFjaywga2V5VmFsdWVEZWxpbSwgZ3JvdXBEZWxpbSkge1xuICB2YXIgZ3JvdXBzID0gZ3JvdXBEZWxpbSA/IGlucHV0LnNwbGl0KGdyb3VwRGVsaW0pIDogW2lucHV0XTtcbiAgZm9yICh2YXIgaSBpbiBncm91cHMpIHtcbiAgICBpZiAodHlwZW9mIGdyb3Vwc1tpXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIga3YgPSBncm91cHNbaV0uc3BsaXQoa2V5VmFsdWVEZWxpbSk7XG4gICAgaWYgKGt2Lmxlbmd0aCAhPT0gMikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBrID0ga3ZbMF07XG4gICAgdmFyIHYgPSBrdlsxXTtcbiAgICBjYWxsYmFjayhrLCB2KTtcbiAgfVxufVxuXG52YXIgZGVmYXVsdHMgPSBuZXcgdnR0Y3VlKDAsIDAsIDApO1xuLy8gJ21pZGRsZScgd2FzIGNoYW5nZWQgdG8gJ2NlbnRlcicgaW4gdGhlIHNwZWM6IGh0dHBzOi8vZ2l0aHViLmNvbS93M2Mvd2VidnR0L3B1bGwvMjQ0XG4vLyAgU2FmYXJpIGRvZXNuJ3QgeWV0IHN1cHBvcnQgdGhpcyBjaGFuZ2UsIGJ1dCBGRiBhbmQgQ2hyb21lIGRvLlxudmFyIGNlbnRlciA9IGRlZmF1bHRzLmFsaWduID09PSAnbWlkZGxlJyA/ICdtaWRkbGUnIDogJ2NlbnRlcic7XG5cbmZ1bmN0aW9uIHBhcnNlQ3VlKGlucHV0LCBjdWUsIHJlZ2lvbkxpc3QpIHtcbiAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIGlucHV0IGlmIHdlIG5lZWQgdG8gdGhyb3cgYW4gZXJyb3IuXG4gIHZhciBvSW5wdXQgPSBpbnB1dDtcbiAgLy8gNC4xIFdlYlZUVCB0aW1lc3RhbXBcbiAgZnVuY3Rpb24gY29uc3VtZVRpbWVTdGFtcCgpIHtcbiAgICB2YXIgdHMgPSBwYXJzZVRpbWVTdGFtcChpbnB1dCk7XG4gICAgaWYgKHRzID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCB0aW1lc3RhbXA6ICcgKyBvSW5wdXQpO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgdGltZSBzdGFtcCBmcm9tIGlucHV0LlxuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlteXFxzYS16QS1aLV0rLywgJycpO1xuICAgIHJldHVybiB0cztcbiAgfVxuXG4gIC8vIDQuNC4yIFdlYlZUVCBjdWUgc2V0dGluZ3NcbiAgZnVuY3Rpb24gY29uc3VtZUN1ZVNldHRpbmdzKGlucHV0LCBjdWUpIHtcbiAgICB2YXIgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcblxuICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgIHN3aXRjaCAoaykge1xuICAgICAgICBjYXNlICdyZWdpb24nOlxuICAgICAgICAgIC8vIEZpbmQgdGhlIGxhc3QgcmVnaW9uIHdlIHBhcnNlZCB3aXRoIHRoZSBzYW1lIHJlZ2lvbiBpZC5cbiAgICAgICAgICBmb3IgKHZhciBpID0gcmVnaW9uTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHJlZ2lvbkxpc3RbaV0uaWQgPT09IHYpIHtcbiAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0KGssIHJlZ2lvbkxpc3RbaV0ucmVnaW9uKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd2ZXJ0aWNhbCc6XG4gICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFsncmwnLCAnbHInXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgIHZhciB2YWxzID0gdi5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgICB2YWxzMCA9IHZhbHNbMF07XG4gICAgICAgICAgc2V0dGluZ3MuaW50ZWdlcihrLCB2YWxzMCk7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLnBlcmNlbnQoaywgdmFsczApKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5zZXQoJ3NuYXBUb0xpbmVzJywgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXR0aW5ncy5hbHQoaywgdmFsczAsIFsnYXV0byddKTtcbiAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmFsdCgnbGluZUFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCddKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcbiAgICAgICAgICB2YWxzID0gdi5zcGxpdCgnLCcpO1xuICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsc1swXSk7XG4gICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoJ3Bvc2l0aW9uQWxpZ24nLCB2YWxzWzFdLCBbJ3N0YXJ0JywgY2VudGVyLCAnZW5kJywgJ2xpbmUtbGVmdCcsICdsaW5lLXJpZ2h0JywgJ2F1dG8nXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzaXplJzpcbiAgICAgICAgICBzZXR0aW5ncy5wZXJjZW50KGssIHYpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhbGlnbic6XG4gICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFsnc3RhcnQnLCBjZW50ZXIsICdlbmQnLCAnbGVmdCcsICdyaWdodCddKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCAvOi8sIC9cXHMvKTtcblxuICAgIC8vIEFwcGx5IGRlZmF1bHQgdmFsdWVzIGZvciBhbnkgbWlzc2luZyBmaWVsZHMuXG4gICAgY3VlLnJlZ2lvbiA9IHNldHRpbmdzLmdldCgncmVnaW9uJywgbnVsbCk7XG4gICAgY3VlLnZlcnRpY2FsID0gc2V0dGluZ3MuZ2V0KCd2ZXJ0aWNhbCcsICcnKTtcbiAgICB2YXIgbGluZSA9IHNldHRpbmdzLmdldCgnbGluZScsICdhdXRvJyk7XG4gICAgaWYgKGxpbmUgPT09ICdhdXRvJyAmJiBkZWZhdWx0cy5saW5lID09PSAtMSkge1xuICAgICAgLy8gc2V0IG51bWVyaWMgbGluZSBudW1iZXIgZm9yIFNhZmFyaVxuICAgICAgbGluZSA9IC0xO1xuICAgIH1cbiAgICBjdWUubGluZSA9IGxpbmU7XG4gICAgY3VlLmxpbmVBbGlnbiA9IHNldHRpbmdzLmdldCgnbGluZUFsaWduJywgJ3N0YXJ0Jyk7XG4gICAgY3VlLnNuYXBUb0xpbmVzID0gc2V0dGluZ3MuZ2V0KCdzbmFwVG9MaW5lcycsIHRydWUpO1xuICAgIGN1ZS5zaXplID0gc2V0dGluZ3MuZ2V0KCdzaXplJywgMTAwKTtcbiAgICBjdWUuYWxpZ24gPSBzZXR0aW5ncy5nZXQoJ2FsaWduJywgY2VudGVyKTtcbiAgICB2YXIgcG9zaXRpb24gPSBzZXR0aW5ncy5nZXQoJ3Bvc2l0aW9uJywgJ2F1dG8nKTtcbiAgICBpZiAocG9zaXRpb24gPT09ICdhdXRvJyAmJiBkZWZhdWx0cy5wb3NpdGlvbiA9PT0gNTApIHtcbiAgICAgIC8vIHNldCBudW1lcmljIHBvc2l0aW9uIGZvciBTYWZhcmlcbiAgICAgIHBvc2l0aW9uID0gY3VlLmFsaWduID09PSAnc3RhcnQnIHx8IGN1ZS5hbGlnbiA9PT0gJ2xlZnQnID8gMCA6IGN1ZS5hbGlnbiA9PT0gJ2VuZCcgfHwgY3VlLmFsaWduID09PSAncmlnaHQnID8gMTAwIDogNTA7XG4gICAgfVxuICAgIGN1ZS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9eXFxzKy8sICcnKTtcbiAgfVxuXG4gIC8vIDQuMSBXZWJWVFQgY3VlIHRpbWluZ3MuXG4gIHNraXBXaGl0ZXNwYWNlKCk7XG4gIGN1ZS5zdGFydFRpbWUgPSBjb25zdW1lVGltZVN0YW1wKCk7IC8vICgxKSBjb2xsZWN0IGN1ZSBzdGFydCB0aW1lXG4gIHNraXBXaGl0ZXNwYWNlKCk7XG4gIGlmIChpbnB1dC5zdWJzdHIoMCwgMykgIT09ICctLT4nKSB7XG4gICAgLy8gKDMpIG5leHQgY2hhcmFjdGVycyBtdXN0IG1hdGNoICctLT4nXG4gICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgdGltZSBzdGFtcCAodGltZSBzdGFtcHMgbXVzdCBiZSBzZXBhcmF0ZWQgYnkgXFwnLS0+XFwnKTogJyArIG9JbnB1dCk7XG4gIH1cbiAgaW5wdXQgPSBpbnB1dC5zdWJzdHIoMyk7XG4gIHNraXBXaGl0ZXNwYWNlKCk7XG4gIGN1ZS5lbmRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoNSkgY29sbGVjdCBjdWUgZW5kIHRpbWVcblxuICAvLyA0LjEgV2ViVlRUIGN1ZSBzZXR0aW5ncyBsaXN0LlxuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjb25zdW1lQ3VlU2V0dGluZ3MoaW5wdXQsIGN1ZSk7XG59XG5cbmZ1bmN0aW9uIGZpeExpbmVCcmVha3MoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoLzxicig/OiBcXC8pPz4vZ2ksICdcXG4nKTtcbn1cblxuVlRUUGFyc2VyLnByb3RvdHlwZSA9IHtcbiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGRhdGEpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyBkYXRhIHRoZW4gd2Ugd29uJ3QgZGVjb2RlIGl0LCBidXQgd2lsbCBqdXN0IHRyeSB0byBwYXJzZVxuICAgIC8vIHdoYXRldmVyIGlzIGluIGJ1ZmZlciBhbHJlYWR5LiBUaGlzIG1heSBvY2N1ciBpbiBjaXJjdW1zdGFuY2VzLCBmb3JcbiAgICAvLyBleGFtcGxlIHdoZW4gZmx1c2goKSBpcyBjYWxsZWQuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIC8vIFRyeSB0byBkZWNvZGUgdGhlIGRhdGEgdGhhdCB3ZSByZWNlaXZlZC5cbiAgICAgIHNlbGYuYnVmZmVyICs9IHNlbGYuZGVjb2Rlci5kZWNvZGUoZGF0YSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29sbGVjdE5leHRMaW5lKCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IHNlbGYuYnVmZmVyO1xuICAgICAgdmFyIHBvcyA9IDA7XG5cbiAgICAgIGJ1ZmZlciA9IGZpeExpbmVCcmVha3MoYnVmZmVyKTtcblxuICAgICAgd2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyW3Bvc10gIT09ICdcXHInICYmIGJ1ZmZlcltwb3NdICE9PSAnXFxuJykge1xuICAgICAgICArK3BvcztcbiAgICAgIH1cbiAgICAgIHZhciBsaW5lID0gYnVmZmVyLnN1YnN0cigwLCBwb3MpO1xuICAgICAgLy8gQWR2YW5jZSB0aGUgYnVmZmVyIGVhcmx5IGluIGNhc2Ugd2UgZmFpbCBiZWxvdy5cbiAgICAgIGlmIChidWZmZXJbcG9zXSA9PT0gJ1xccicpIHtcbiAgICAgICAgKytwb3M7XG4gICAgICB9XG4gICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXG4nKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgfVxuICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXIuc3Vic3RyKHBvcyk7XG4gICAgICByZXR1cm4gbGluZTtcbiAgICB9XG5cbiAgICAvLyAzLjIgV2ViVlRUIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICBmdW5jdGlvbiBwYXJzZUhlYWRlcihpbnB1dCkge1xuICAgICAgcGFyc2VPcHRpb25zKGlucHV0LCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICBjYXNlICdSZWdpb24nOlxuICAgICAgICAgICAgLy8gMy4zIFdlYlZUVCByZWdpb24gbWV0YWRhdGEgaGVhZGVyIHN5bnRheFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhcnNlIHJlZ2lvbicsIHYpO1xuICAgICAgICAgICAgLy9wYXJzZVJlZ2lvbih2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9LCAvOi8pO1xuICAgIH1cblxuICAgIC8vIDUuMSBXZWJWVFQgZmlsZSBwYXJzaW5nLlxuICAgIHRyeSB7XG4gICAgICB2YXIgbGluZTtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnSU5JVElBTCcpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3Qgc3RhcnQgcGFyc2luZyB1bnRpbCB3ZSBoYXZlIHRoZSBmaXJzdCBsaW5lLlxuICAgICAgICBpZiAoIS9cXHJcXG58XFxuLy50ZXN0KHNlbGYuYnVmZmVyKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGluZSA9IGNvbGxlY3ROZXh0TGluZSgpO1xuICAgICAgICAvLyBzdHJpcCBvZiBVVEYtOCBCT00gaWYgYW55XG4gICAgICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0J5dGVfb3JkZXJfbWFyayNVVEYtOFxuICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goL14ow6/Cu8K/KT9XRUJWVFQoWyBcXHRdLiopPyQvKTtcbiAgICAgICAgaWYgKCFtIHx8ICFtWzBdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgV2ViVlRUIHNpZ25hdHVyZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuc3RhdGUgPSAnSEVBREVSJztcbiAgICAgIH1cblxuICAgICAgdmFyIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICB3aGlsZSAoc2VsZi5idWZmZXIpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgcGFyc2UgYSBsaW5lIHVudGlsIHdlIGhhdmUgdGhlIGZ1bGwgbGluZS5cbiAgICAgICAgaWYgKCEvXFxyXFxufFxcbi8udGVzdChzZWxmLmJ1ZmZlcikpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYWxyZWFkeUNvbGxlY3RlZExpbmUpIHtcbiAgICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxyZWFkeUNvbGxlY3RlZExpbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoc2VsZi5zdGF0ZSkge1xuICAgICAgICAgIGNhc2UgJ0hFQURFUic6XG4gICAgICAgICAgICAvLyAxMy0xOCAtIEFsbG93IGEgaGVhZGVyIChtZXRhZGF0YSkgdW5kZXIgdGhlIFdFQlZUVCBsaW5lLlxuICAgICAgICAgICAgaWYgKC86Ly50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGxpbmUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAvLyBBbiBlbXB0eSBsaW5lIHRlcm1pbmF0ZXMgdGhlIGhlYWRlciBhbmQgc3RhcnRzIHRoZSBib2R5IChjdWVzKS5cbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdJRCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlICdOT1RFJzpcbiAgICAgICAgICAgIC8vIElnbm9yZSBOT1RFIGJsb2Nrcy5cbiAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ0lEJzpcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgc3RhcnQgb2YgTk9URSBibG9ja3MuXG4gICAgICAgICAgICBpZiAoL15OT1RFKCR8WyBcXHRdKS8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ05PVEUnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDE5LTI5IC0gQWxsb3cgYW55IG51bWJlciBvZiBsaW5lIHRlcm1pbmF0b3JzLCB0aGVuIGluaXRpYWxpemUgbmV3IGN1ZSB2YWx1ZXMuXG4gICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmN1ZSA9IG5ldyB2dHRjdWUoMCwgMCwgJycpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdDVUUnO1xuICAgICAgICAgICAgLy8gMzAtMzkgLSBDaGVjayBpZiBzZWxmIGxpbmUgY29udGFpbnMgYW4gb3B0aW9uYWwgaWRlbnRpZmllciBvciB0aW1pbmcgZGF0YS5cbiAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJy0tPicpID09PSAtMSkge1xuICAgICAgICAgICAgICBzZWxmLmN1ZS5pZCA9IGxpbmU7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8vIFByb2Nlc3MgbGluZSBhcyBzdGFydCBvZiBhIGN1ZS5cbiAgICAgICAgICAvKmZhbGxzIHRocm91Z2gqL1xuICAgICAgICAgIGNhc2UgJ0NVRSc6XG4gICAgICAgICAgICAvLyA0MCAtIENvbGxlY3QgY3VlIHRpbWluZ3MgYW5kIHNldHRpbmdzLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcGFyc2VDdWUobGluZSwgc2VsZi5jdWUsIHNlbGYucmVnaW9uTGlzdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IgaWdub3JlIHJlc3Qgb2YgdGhlIGN1ZS5cbiAgICAgICAgICAgICAgc2VsZi5jdWUgPSBudWxsO1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0JBRENVRSc7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdDVUVURVhUJztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ0NVRVRFWFQnOlxuICAgICAgICAgICAgdmFyIGhhc1N1YnN0cmluZyA9IGxpbmUuaW5kZXhPZignLS0+JykgIT09IC0xO1xuICAgICAgICAgICAgLy8gMzQgLSBJZiB3ZSBoYXZlIGFuIGVtcHR5IGxpbmUgdGhlbiByZXBvcnQgdGhlIGN1ZS5cbiAgICAgICAgICAgIC8vIDM1IC0gSWYgd2UgaGF2ZSB0aGUgc3BlY2lhbCBzdWJzdHJpbmcgJy0tPicgdGhlbiByZXBvcnQgdGhlIGN1ZSxcbiAgICAgICAgICAgIC8vIGJ1dCBkbyBub3QgY29sbGVjdCB0aGUgbGluZSBhcyB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIG9uZSBhcyBhIG5ldyBjdWUuXG4gICAgICAgICAgICBpZiAoIWxpbmUgfHwgaGFzU3Vic3RyaW5nICYmIChhbHJlYWR5Q29sbGVjdGVkTGluZSA9IHRydWUpKSB7XG4gICAgICAgICAgICAgIC8vIFdlIGFyZSBkb25lIHBhcnNpbmcgc2VsZiBjdWUuXG4gICAgICAgICAgICAgIGlmIChzZWxmLm9uY3VlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vbmN1ZShzZWxmLmN1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VsZi5jdWUgPSBudWxsO1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZi5jdWUudGV4dCkge1xuICAgICAgICAgICAgICBzZWxmLmN1ZS50ZXh0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBsaW5lO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnQkFEQ1VFJzpcbiAgICAgICAgICAgIC8vIEJBRENVRVxuICAgICAgICAgICAgLy8gNTQtNjIgLSBDb2xsZWN0IGFuZCBkaXNjYXJkIHRoZSByZW1haW5pbmcgY3VlLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgcGFyc2luZyBhIGN1ZSwgcmVwb3J0IHdoYXQgd2UgaGF2ZS5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnQ1VFVEVYVCcgJiYgc2VsZi5jdWUgJiYgc2VsZi5vbmN1ZSkge1xuICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgIC8vIEVudGVyIEJBRFdFQlZUVCBzdGF0ZSBpZiBoZWFkZXIgd2FzIG5vdCBwYXJzZWQgY29ycmVjdGx5IG90aGVyd2lzZVxuICAgICAgLy8gYW5vdGhlciBleGNlcHRpb24gb2NjdXJyZWQgc28gZW50ZXIgQkFEQ1VFIHN0YXRlLlxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJyA/ICdCQURXRUJWVFQnIDogJ0JBRENVRSc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBmbHVzaDogZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICAvLyBGaW5pc2ggZGVjb2RpbmcgdGhlIHN0cmVhbS5cbiAgICAgIHNlbGYuYnVmZmVyICs9IHNlbGYuZGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgIC8vIFN5bnRoZXNpemUgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBjdWUgb3IgcmVnaW9uLlxuICAgICAgaWYgKHNlbGYuY3VlIHx8IHNlbGYuc3RhdGUgPT09ICdIRUFERVInKSB7XG4gICAgICAgIHNlbGYuYnVmZmVyICs9ICdcXG5cXG4nO1xuICAgICAgICBzZWxmLnBhcnNlKCk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSd2ZSBmbHVzaGVkLCBwYXJzZWQsIGFuZCB3ZSdyZSBzdGlsbCBvbiB0aGUgSU5JVElBTCBzdGF0ZSB0aGVuXG4gICAgICAvLyB0aGF0IG1lYW5zIHdlIGRvbid0IGhhdmUgZW5vdWdoIG9mIHRoZSBzdHJlYW0gdG8gcGFyc2UgdGhlIGZpcnN0XG4gICAgICAvLyBsaW5lLlxuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChzZWxmLm9uZmx1c2gpIHtcbiAgICAgIHNlbGYub25mbHVzaCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHZ0dHBhcnNlciA9IChWVFRQYXJzZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvY3Vlcy5qc1xuXG5cbmZ1bmN0aW9uIG5ld0N1ZSh0cmFjaywgc3RhcnRUaW1lLCBlbmRUaW1lLCBjYXB0aW9uU2NyZWVuKSB7XG4gIHZhciByb3c7XG4gIHZhciBjdWU7XG4gIHZhciBpbmRlbnRpbmc7XG4gIHZhciBpbmRlbnQ7XG4gIHZhciB0ZXh0O1xuICB2YXIgVlRUQ3VlID0gd2luZG93LlZUVEN1ZSB8fCB3aW5kb3cuVGV4dFRyYWNrQ3VlO1xuXG4gIGZvciAodmFyIHIgPSAwOyByIDwgY2FwdGlvblNjcmVlbi5yb3dzLmxlbmd0aDsgcisrKSB7XG4gICAgcm93ID0gY2FwdGlvblNjcmVlbi5yb3dzW3JdO1xuICAgIGluZGVudGluZyA9IHRydWU7XG4gICAgaW5kZW50ID0gMDtcbiAgICB0ZXh0ID0gJyc7XG5cbiAgICBpZiAoIXJvdy5pc0VtcHR5KCkpIHtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgcm93LmNoYXJzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgIGlmIChyb3cuY2hhcnNbY10udWNoYXIubWF0Y2goL1xccy8pICYmIGluZGVudGluZykge1xuICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgKz0gcm93LmNoYXJzW2NdLnVjaGFyO1xuICAgICAgICAgIGluZGVudGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL1RvIGJlIHVzZWQgZm9yIGNsZWFuaW5nLXVwIG9ycGhhbmVkIHJvbGwtdXAgY2FwdGlvbnNcbiAgICAgIHJvdy5jdWVTdGFydFRpbWUgPSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIEdpdmUgYSBzbGlnaHQgYnVtcCB0byB0aGUgZW5kVGltZSBpZiBpdCdzIGVxdWFsIHRvIHN0YXJ0VGltZSB0byBhdm9pZCBhIFN5bnRheEVycm9yIGluIElFXG4gICAgICBpZiAoc3RhcnRUaW1lID09PSBlbmRUaW1lKSB7XG4gICAgICAgIGVuZFRpbWUgKz0gMC4wMDAxO1xuICAgICAgfVxuXG4gICAgICBjdWUgPSBuZXcgVlRUQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgZml4TGluZUJyZWFrcyh0ZXh0LnRyaW0oKSkpO1xuXG4gICAgICBpZiAoaW5kZW50ID49IDE2KSB7XG4gICAgICAgIGluZGVudC0tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZW50Kys7XG4gICAgICB9XG5cbiAgICAgIC8vIFZUVEN1ZS5saW5lIGdldCdzIGZsYWtleSB3aGVuIHVzaW5nIGNvbnRyb2xzLCBzbyBsZXQncyBub3cgaW5jbHVkZSBsaW5lIDEzJjE0XG4gICAgICAvLyBhbHNvLCBkcm9wIGxpbmUgMSBzaW5jZSBpdCdzIHRvIGNsb3NlIHRvIHRoZSB0b3BcbiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykpIHtcbiAgICAgICAgY3VlLmxpbmUgPSByICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1ZS5saW5lID0gciA+IDcgPyByIC0gMiA6IHIgKyAxO1xuICAgICAgfVxuICAgICAgY3VlLmFsaWduID0gJ2xlZnQnO1xuICAgICAgLy8gQ2xhbXAgdGhlIHBvc2l0aW9uIGJldHdlZW4gMCBhbmQgMTAwIC0gaWYgb3V0IG9mIHRoZXNlIGJvdW5kcywgRmlyZWZveCB0aHJvd3MgYW4gZXhjZXB0aW9uIGFuZCBjYXB0aW9ucyBicmVha1xuICAgICAgY3VlLnBvc2l0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCAxMDAgKiAoaW5kZW50IC8gMzIpICsgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8vKSA/IDUwIDogMCkpKTtcbiAgICAgIHRyYWNrLmFkZEN1ZShjdWUpO1xuICAgIH1cbiAgfVxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanNcbmZ1bmN0aW9uIGNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICpcbiAqIFRoaXMgY29kZSB3YXMgcG9ydGVkIGZyb20gdGhlIGRhc2guanMgcHJvamVjdCBhdDpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL0Rhc2gtSW5kdXN0cnktRm9ydW0vZGFzaC5qcy9ibG9iL2RldmVsb3BtZW50L2V4dGVybmFscy9jZWE2MDgtcGFyc2VyLmpzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXNoLUluZHVzdHJ5LUZvcnVtL2Rhc2guanMvY29tbWl0LzgyNjliMjZhNzYxZTA4NTNiYjIxZDc4NzgwZWQ5NDUxNDRlY2RkNGQjZGlmZi03MWJjMjk1YTJkNmI2YjcwOTNhMWQzMjkwZDUzYTRiMlxuICpcbiAqIFRoZSBvcmlnaW5hbCBjb3B5cmlnaHQgYXBwZWFycyBiZWxvdzpcbiAqXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE2LCBEQVNIIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAyLiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vKipcbiAqICBFeGNlcHRpb25zIGZyb20gcmVndWxhciBBU0NJSS4gQ29kZVBvaW50cyBhcmUgbWFwcGVkIHRvIFVURi0xNiBjb2Rlc1xuICovXG5cbnZhciBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyA9IHtcbiAgICAweDJhOiAweGUxLCAvLyBsb3dlcmNhc2UgYSwgYWN1dGUgYWNjZW50XG4gICAgMHg1YzogMHhlOSwgLy8gbG93ZXJjYXNlIGUsIGFjdXRlIGFjY2VudFxuICAgIDB4NWU6IDB4ZWQsIC8vIGxvd2VyY2FzZSBpLCBhY3V0ZSBhY2NlbnRcbiAgICAweDVmOiAweGYzLCAvLyBsb3dlcmNhc2UgbywgYWN1dGUgYWNjZW50XG4gICAgMHg2MDogMHhmYSwgLy8gbG93ZXJjYXNlIHUsIGFjdXRlIGFjY2VudFxuICAgIDB4N2I6IDB4ZTcsIC8vIGxvd2VyY2FzZSBjIHdpdGggY2VkaWxsYVxuICAgIDB4N2M6IDB4ZjcsIC8vIGRpdmlzaW9uIHN5bWJvbFxuICAgIDB4N2Q6IDB4ZDEsIC8vIHVwcGVyY2FzZSBOIHRpbGRlXG4gICAgMHg3ZTogMHhmMSwgLy8gbG93ZXJjYXNlIG4gdGlsZGVcbiAgICAweDdmOiAweDI1ODgsIC8vIEZ1bGwgYmxvY2tcbiAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAxNiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMSBBTkQgTE9XIEJFVFdFRU4gMHgzMCBBTkQgMHgzRlxuICAgIC8vIFRISVMgTUVBTlMgVEhBVCBcXHg1MCBNVVNUIEJFIEFEREVEIFRPIFRIRSBWQUxVRVNcbiAgICAweDgwOiAweGFlLCAvLyBSZWdpc3RlcmVkIHN5bWJvbCAoUilcbiAgICAweDgxOiAweGIwLCAvLyBkZWdyZWUgc2lnblxuICAgIDB4ODI6IDB4YmQsIC8vIDEvMiBzeW1ib2xcbiAgICAweDgzOiAweGJmLCAvLyBJbnZlcnRlZCAob3BlbikgcXVlc3Rpb24gbWFya1xuICAgIDB4ODQ6IDB4MjEyMiwgLy8gVHJhZGVtYXJrIHN5bWJvbCAoVE0pXG4gICAgMHg4NTogMHhhMiwgLy8gQ2VudHMgc3ltYm9sXG4gICAgMHg4NjogMHhhMywgLy8gUG91bmRzIHN0ZXJsaW5nXG4gICAgMHg4NzogMHgyNjZhLCAvLyBNdXNpYyA4J3RoIG5vdGVcbiAgICAweDg4OiAweGUwLCAvLyBsb3dlcmNhc2UgYSwgZ3JhdmUgYWNjZW50XG4gICAgMHg4OTogMHgyMCwgLy8gdHJhbnNwYXJlbnQgc3BhY2UgKHJlZ3VsYXIpXG4gICAgMHg4YTogMHhlOCwgLy8gbG93ZXJjYXNlIGUsIGdyYXZlIGFjY2VudFxuICAgIDB4OGI6IDB4ZTIsIC8vIGxvd2VyY2FzZSBhLCBjaXJjdW1mbGV4IGFjY2VudFxuICAgIDB4OGM6IDB4ZWEsIC8vIGxvd2VyY2FzZSBlLCBjaXJjdW1mbGV4IGFjY2VudFxuICAgIDB4OGQ6IDB4ZWUsIC8vIGxvd2VyY2FzZSBpLCBjaXJjdW1mbGV4IGFjY2VudFxuICAgIDB4OGU6IDB4ZjQsIC8vIGxvd2VyY2FzZSBvLCBjaXJjdW1mbGV4IGFjY2VudFxuICAgIDB4OGY6IDB4ZmIsIC8vIGxvd2VyY2FzZSB1LCBjaXJjdW1mbGV4IGFjY2VudFxuICAgIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDMyIEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXG4gICAgLy8gVEhBVCBDT01FIEZST00gSEkgQllURT0weDEyIEFORCBMT1cgQkVUV0VFTiAweDIwIEFORCAweDNGXG4gICAgMHg5MDogMHhjMSwgLy8gY2FwaXRhbCBsZXR0ZXIgQSB3aXRoIGFjdXRlXG4gICAgMHg5MTogMHhjOSwgLy8gY2FwaXRhbCBsZXR0ZXIgRSB3aXRoIGFjdXRlXG4gICAgMHg5MjogMHhkMywgLy8gY2FwaXRhbCBsZXR0ZXIgTyB3aXRoIGFjdXRlXG4gICAgMHg5MzogMHhkYSwgLy8gY2FwaXRhbCBsZXR0ZXIgVSB3aXRoIGFjdXRlXG4gICAgMHg5NDogMHhkYywgLy8gY2FwaXRhbCBsZXR0ZXIgVSB3aXRoIGRpYXJlc2lzXG4gICAgMHg5NTogMHhmYywgLy8gbG93ZXJjYXNlIGxldHRlciBVIHdpdGggZGlhZXJlc2lzXG4gICAgMHg5NjogMHgyMDE4LCAvLyBvcGVuaW5nIHNpbmdsZSBxdW90ZVxuICAgIDB4OTc6IDB4YTEsIC8vIGludmVydGVkIGV4Y2xhbWF0aW9uIG1hcmtcbiAgICAweDk4OiAweDJhLCAvLyBhc3Rlcmlza1xuICAgIDB4OTk6IDB4MjAxOSwgLy8gY2xvc2luZyBzaW5nbGUgcXVvdGVcbiAgICAweDlhOiAweDI1MDEsIC8vIGJveCBkcmF3aW5ncyBoZWF2eSBob3Jpem9udGFsXG4gICAgMHg5YjogMHhhOSwgLy8gY29weXJpZ2h0IHNpZ25cbiAgICAweDljOiAweDIxMjAsIC8vIFNlcnZpY2UgbWFya1xuICAgIDB4OWQ6IDB4MjAyMiwgLy8gKHJvdW5kKSBidWxsZXRcbiAgICAweDllOiAweDIwMWMsIC8vIExlZnQgZG91YmxlIHF1b3RhdGlvbiBtYXJrXG4gICAgMHg5ZjogMHgyMDFkLCAvLyBSaWdodCBkb3VibGUgcXVvdGF0aW9uIG1hcmtcbiAgICAweGEwOiAweGMwLCAvLyB1cHBlcmNhc2UgQSwgZ3JhdmUgYWNjZW50XG4gICAgMHhhMTogMHhjMiwgLy8gdXBwZXJjYXNlIEEsIGNpcmN1bWZsZXhcbiAgICAweGEyOiAweGM3LCAvLyB1cHBlcmNhc2UgQyB3aXRoIGNlZGlsbGFcbiAgICAweGEzOiAweGM4LCAvLyB1cHBlcmNhc2UgRSwgZ3JhdmUgYWNjZW50XG4gICAgMHhhNDogMHhjYSwgLy8gdXBwZXJjYXNlIEUsIGNpcmN1bWZsZXhcbiAgICAweGE1OiAweGNiLCAvLyBjYXBpdGFsIGxldHRlciBFIHdpdGggZGlhcmVzaXNcbiAgICAweGE2OiAweGViLCAvLyBsb3dlcmNhc2UgbGV0dGVyIGUgd2l0aCBkaWFyZXNpc1xuICAgIDB4YTc6IDB4Y2UsIC8vIHVwcGVyY2FzZSBJLCBjaXJjdW1mbGV4XG4gICAgMHhhODogMHhjZiwgLy8gdXBwZXJjYXNlIEksIHdpdGggZGlhcmVzaXNcbiAgICAweGE5OiAweGVmLCAvLyBsb3dlcmNhc2UgaSwgd2l0aCBkaWFyZXNpc1xuICAgIDB4YWE6IDB4ZDQsIC8vIHVwcGVyY2FzZSBPLCBjaXJjdW1mbGV4XG4gICAgMHhhYjogMHhkOSwgLy8gdXBwZXJjYXNlIFUsIGdyYXZlIGFjY2VudFxuICAgIDB4YWM6IDB4ZjksIC8vIGxvd2VyY2FzZSB1LCBncmF2ZSBhY2NlbnRcbiAgICAweGFkOiAweGRiLCAvLyB1cHBlcmNhc2UgVSwgY2lyY3VtZmxleFxuICAgIDB4YWU6IDB4YWIsIC8vIGxlZnQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXG4gICAgMHhhZjogMHhiYiwgLy8gcmlnaHQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMzIgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTMgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcbiAgICAweGIwOiAweGMzLCAvLyBVcHBlcmNhc2UgQSwgdGlsZGVcbiAgICAweGIxOiAweGUzLCAvLyBMb3dlcmNhc2UgYSwgdGlsZGVcbiAgICAweGIyOiAweGNkLCAvLyBVcHBlcmNhc2UgSSwgYWN1dGUgYWNjZW50XG4gICAgMHhiMzogMHhjYywgLy8gVXBwZXJjYXNlIEksIGdyYXZlIGFjY2VudFxuICAgIDB4YjQ6IDB4ZWMsIC8vIExvd2VyY2FzZSBpLCBncmF2ZSBhY2NlbnRcbiAgICAweGI1OiAweGQyLCAvLyBVcHBlcmNhc2UgTywgZ3JhdmUgYWNjZW50XG4gICAgMHhiNjogMHhmMiwgLy8gTG93ZXJjYXNlIG8sIGdyYXZlIGFjY2VudFxuICAgIDB4Yjc6IDB4ZDUsIC8vIFVwcGVyY2FzZSBPLCB0aWxkZVxuICAgIDB4Yjg6IDB4ZjUsIC8vIExvd2VyY2FzZSBvLCB0aWxkZVxuICAgIDB4Yjk6IDB4N2IsIC8vIE9wZW4gY3VybHkgYnJhY2VcbiAgICAweGJhOiAweDdkLCAvLyBDbG9zaW5nIGN1cmx5IGJyYWNlXG4gICAgMHhiYjogMHg1YywgLy8gQmFja3NsYXNoXG4gICAgMHhiYzogMHg1ZSwgLy8gQ2FyZXRcbiAgICAweGJkOiAweDVmLCAvLyBVbmRlcnNjb3JlXG4gICAgMHhiZTogMHg3YywgLy8gUGlwZSAodmVydGljYWwgbGluZSlcbiAgICAweGJmOiAweDIyM2MsIC8vIFRpbGRlIG9wZXJhdG9yXG4gICAgMHhjMDogMHhjNCwgLy8gVXBwZXJjYXNlIEEsIHVtbGF1dFxuICAgIDB4YzE6IDB4ZTQsIC8vIExvd2VyY2FzZSBBLCB1bWxhdXRcbiAgICAweGMyOiAweGQ2LCAvLyBVcHBlcmNhc2UgTywgdW1sYXV0XG4gICAgMHhjMzogMHhmNiwgLy8gTG93ZXJjYXNlIG8sIHVtbGF1dFxuICAgIDB4YzQ6IDB4ZGYsIC8vIEVzc3pldHQgKHNoYXJwIFMpXG4gICAgMHhjNTogMHhhNSwgLy8gWWVuIHN5bWJvbFxuICAgIDB4YzY6IDB4YTQsIC8vIEdlbmVyaWMgY3VycmVuY3kgc2lnblxuICAgIDB4Yzc6IDB4MjUwMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IHZlcnRpY2FsXG4gICAgMHhjODogMHhjNSwgLy8gVXBwZXJjYXNlIEEsIHJpbmdcbiAgICAweGM5OiAweGU1LCAvLyBMb3dlcmNhc2UgQSwgcmluZ1xuICAgIDB4Y2E6IDB4ZDgsIC8vIFVwcGVyY2FzZSBPLCBzdHJva2VcbiAgICAweGNiOiAweGY4LCAvLyBMb3dlcmNhc2Ugbywgc3Ryb2tcbiAgICAweGNjOiAweDI1MGYsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSBkb3duIGFuZCByaWdodFxuICAgIDB4Y2Q6IDB4MjUxMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IGRvd24gYW5kIGxlZnRcbiAgICAweGNlOiAweDI1MTcsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgcmlnaHRcbiAgICAweGNmOiAweDI1MWIgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IHVwIGFuZCBsZWZ0XG59O1xuXG4vKipcbiAqIFV0aWxzXG4gKi9cbnZhciBnZXRDaGFyRm9yQnl0ZSA9IGZ1bmN0aW9uIGdldENoYXJGb3JCeXRlKGJ5dGUpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBieXRlO1xuICAgIGlmIChzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlcy5oYXNPd25Qcm9wZXJ0eShieXRlKSkge1xuICAgICAgICBjaGFyQ29kZSA9IHNwZWNpYWxDZWE2MDhDaGFyc0NvZGVzW2J5dGVdO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG59O1xuXG52YXIgTlJfUk9XUyA9IDE1LFxuICAgIE5SX0NPTFMgPSAxMDA7XG4vLyBUYWJsZXMgdG8gbG9vayB1cCByb3cgZnJvbSBQQUMgZGF0YVxudmFyIHJvd3NMb3dDaDEgPSB7IDB4MTE6IDEsIDB4MTI6IDMsIDB4MTU6IDUsIDB4MTY6IDcsIDB4MTc6IDksIDB4MTA6IDExLCAweDEzOiAxMiwgMHgxNDogMTQgfTtcbnZhciByb3dzSGlnaENoMSA9IHsgMHgxMTogMiwgMHgxMjogNCwgMHgxNTogNiwgMHgxNjogOCwgMHgxNzogMTAsIDB4MTM6IDEzLCAweDE0OiAxNSB9O1xudmFyIHJvd3NMb3dDaDIgPSB7IDB4MTk6IDEsIDB4MUE6IDMsIDB4MUQ6IDUsIDB4MUU6IDcsIDB4MUY6IDksIDB4MTg6IDExLCAweDFCOiAxMiwgMHgxQzogMTQgfTtcbnZhciByb3dzSGlnaENoMiA9IHsgMHgxOTogMiwgMHgxQTogNCwgMHgxRDogNiwgMHgxRTogOCwgMHgxRjogMTAsIDB4MUI6IDEzLCAweDFDOiAxNSB9O1xuXG52YXIgYmFja2dyb3VuZENvbG9ycyA9IFsnd2hpdGUnLCAnZ3JlZW4nLCAnYmx1ZScsICdjeWFuJywgJ3JlZCcsICd5ZWxsb3cnLCAnbWFnZW50YScsICdibGFjaycsICd0cmFuc3BhcmVudCddO1xuXG4vKipcbiAqIFNpbXBsZSBsb2dnZXIgY2xhc3MgdG8gYmUgYWJsZSB0byB3cml0ZSB3aXRoIHRpbWUtc3RhbXBzIGFuZCBmaWx0ZXIgb24gbGV2ZWwuXG4gKi9cbnZhciBjZWFfNjA4X3BhcnNlcl9sb2dnZXIgPSB7XG4gICAgdmVyYm9zZUZpbHRlcjogeyAnREFUQSc6IDMsICdERUJVRyc6IDMsICdJTkZPJzogMiwgJ1dBUk5JTkcnOiAyLCAnVEVYVCc6IDEsICdFUlJPUic6IDAgfSxcbiAgICB0aW1lOiBudWxsLFxuICAgIHZlcmJvc2VMZXZlbDogMCwgLy8gT25seSB3cml0ZSBlcnJvcnNcbiAgICBzZXRUaW1lOiBmdW5jdGlvbiBzZXRUaW1lKG5ld1RpbWUpIHtcbiAgICAgICAgdGhpcy50aW1lID0gbmV3VGltZTtcbiAgICB9LFxuICAgIGxvZzogZnVuY3Rpb24gbG9nKHNldmVyaXR5LCBtc2cpIHtcbiAgICAgICAgdmFyIG1pbkxldmVsID0gdGhpcy52ZXJib3NlRmlsdGVyW3NldmVyaXR5XTtcbiAgICAgICAgaWYgKHRoaXMudmVyYm9zZUxldmVsID49IG1pbkxldmVsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUgKyAnIFsnICsgc2V2ZXJpdHkgKyAnXSAnICsgbXNnKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBudW1BcnJheVRvSGV4QXJyYXkgPSBmdW5jdGlvbiBudW1BcnJheVRvSGV4QXJyYXkobnVtQXJyYXkpIHtcbiAgICB2YXIgaGV4QXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGhleEFycmF5LnB1c2gobnVtQXJyYXlbal0udG9TdHJpbmcoMTYpKTtcbiAgICB9XG4gICAgcmV0dXJuIGhleEFycmF5O1xufTtcblxudmFyIFBlblN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBlblN0YXRlKTtcblxuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBmb3JlZ3JvdW5kIHx8ICd3aGl0ZSc7XG4gICAgICAgIHRoaXMudW5kZXJsaW5lID0gdW5kZXJsaW5lIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLml0YWxpY3MgPSBpdGFsaWNzIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kIHx8ICdibGFjayc7XG4gICAgICAgIHRoaXMuZmxhc2ggPSBmbGFzaCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBQZW5TdGF0ZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy51bmRlcmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuZmxhc2ggPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgUGVuU3RhdGUucHJvdG90eXBlLnNldFN0eWxlcyA9IGZ1bmN0aW9uIHNldFN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgdmFyIGF0dHJpYnMgPSBbJ2ZvcmVncm91bmQnLCAndW5kZXJsaW5lJywgJ2l0YWxpY3MnLCAnYmFja2dyb3VuZCcsICdmbGFzaCddO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGF0dHJpYnNbaV07XG4gICAgICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbc3R5bGVdID0gc3R5bGVzW3N0eWxlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBQZW5TdGF0ZS5wcm90b3R5cGUuaXNEZWZhdWx0ID0gZnVuY3Rpb24gaXNEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JlZ3JvdW5kID09PSAnd2hpdGUnICYmICF0aGlzLnVuZGVybGluZSAmJiAhdGhpcy5pdGFsaWNzICYmIHRoaXMuYmFja2dyb3VuZCA9PT0gJ2JsYWNrJyAmJiAhdGhpcy5mbGFzaDtcbiAgICB9O1xuXG4gICAgUGVuU3RhdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JlZ3JvdW5kID09PSBvdGhlci5mb3JlZ3JvdW5kICYmIHRoaXMudW5kZXJsaW5lID09PSBvdGhlci51bmRlcmxpbmUgJiYgdGhpcy5pdGFsaWNzID09PSBvdGhlci5pdGFsaWNzICYmIHRoaXMuYmFja2dyb3VuZCA9PT0gb3RoZXIuYmFja2dyb3VuZCAmJiB0aGlzLmZsYXNoID09PSBvdGhlci5mbGFzaDtcbiAgICB9O1xuXG4gICAgUGVuU3RhdGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG5ld1BlblN0YXRlKSB7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZCA9IG5ld1BlblN0YXRlLmZvcmVncm91bmQ7XG4gICAgICAgIHRoaXMudW5kZXJsaW5lID0gbmV3UGVuU3RhdGUudW5kZXJsaW5lO1xuICAgICAgICB0aGlzLml0YWxpY3MgPSBuZXdQZW5TdGF0ZS5pdGFsaWNzO1xuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBuZXdQZW5TdGF0ZS5iYWNrZ3JvdW5kO1xuICAgICAgICB0aGlzLmZsYXNoID0gbmV3UGVuU3RhdGUuZmxhc2g7XG4gICAgfTtcblxuICAgIFBlblN0YXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ2NvbG9yPScgKyB0aGlzLmZvcmVncm91bmQgKyAnLCB1bmRlcmxpbmU9JyArIHRoaXMudW5kZXJsaW5lICsgJywgaXRhbGljcz0nICsgdGhpcy5pdGFsaWNzICsgJywgYmFja2dyb3VuZD0nICsgdGhpcy5iYWNrZ3JvdW5kICsgJywgZmxhc2g9JyArIHRoaXMuZmxhc2g7XG4gICAgfTtcblxuICAgIHJldHVybiBQZW5TdGF0ZTtcbn0oKTtcblxuLyoqXG4gKiBVbmljb2RlIGNoYXJhY3RlciB3aXRoIHN0eWxpbmcgYW5kIGJhY2tncm91bmQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG5cbnZhciBTdHlsZWRVbmljb2RlQ2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHlsZWRVbmljb2RlQ2hhcih1Y2hhciwgZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCkge1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5bGVkVW5pY29kZUNoYXIpO1xuXG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhciB8fCAnICc7IC8vIHVuaWNvZGUgY2hhcmFjdGVyXG4gICAgICAgIHRoaXMucGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCk7XG4gICAgfVxuXG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSAnICc7XG4gICAgICAgIHRoaXMucGVuU3RhdGUucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLnNldENoYXIgPSBmdW5jdGlvbiBzZXRDaGFyKHVjaGFyLCBuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLnVjaGFyID0gdWNoYXI7XG4gICAgICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdQZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5zZXRQZW5TdGF0ZSA9IGZ1bmN0aW9uIHNldFBlblN0YXRlKG5ld1BlblN0YXRlKSB7XG4gICAgICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdQZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09IG90aGVyLnVjaGFyICYmIHRoaXMucGVuU3RhdGUuZXF1YWxzKG90aGVyLnBlblN0YXRlKTtcbiAgICB9O1xuXG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG5ld0NoYXIpIHtcbiAgICAgICAgdGhpcy51Y2hhciA9IG5ld0NoYXIudWNoYXI7XG4gICAgICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdDaGFyLnBlblN0YXRlKTtcbiAgICB9O1xuXG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gJyAnICYmIHRoaXMucGVuU3RhdGUuaXNEZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTdHlsZWRVbmljb2RlQ2hhcjtcbn0oKTtcblxuLyoqXG4gKiBDRUEtNjA4IHJvdyBjb25zaXN0aW5nIG9mIE5SX0NPTFMgaW5zdGFuY2VzIG9mIFN0eWxlZFVuaWNvZGVDaGFyLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cblxuXG52YXIgUm93ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJvdygpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdyk7XG5cbiAgICAgICAgdGhpcy5jaGFycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGFycy5wdXNoKG5ldyBTdHlsZWRVbmljb2RlQ2hhcigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlID0gbmV3IFBlblN0YXRlKCk7XG4gICAgfVxuXG4gICAgUm93LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgdmFyIGVxdWFsID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5lcXVhbHMob3RoZXIuY2hhcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXF1YWw7XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkob3RoZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0uY29weShvdGhlci5jaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUm93LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIFNldCB0aGUgY3Vyc29yIHRvIGEgdmFsaWQgY29sdW1uLlxuICAgICAqL1xuXG5cbiAgICBSb3cucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIHNldEN1cnNvcihhYnNQb3MpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zICE9PSBhYnNQb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gYWJzUG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IDApIHtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0VSUk9SJywgJ05lZ2F0aXZlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9zID4gTlJfQ09MUykge1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnRVJST1InLCAnVG9vIGxhcmdlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBOUl9DT0xTO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIGN1cnNvciByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqL1xuXG5cbiAgICBSb3cucHJvdG90eXBlLm1vdmVDdXJzb3IgPSBmdW5jdGlvbiBtb3ZlQ3Vyc29yKHJlbFBvcykge1xuICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5wb3MgKyByZWxQb3M7XG4gICAgICAgIGlmIChyZWxQb3MgPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wb3MgKyAxOyBpIDwgbmV3UG9zICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IobmV3UG9zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFja3NwYWNlLCBtb3ZlIG9uZSBzdGVwIGJhY2sgYW5kIGNsZWFyIGNoYXJhY3Rlci5cbiAgICAgKi9cblxuXG4gICAgUm93LnByb3RvdHlwZS5iYWNrU3BhY2UgPSBmdW5jdGlvbiBiYWNrU3BhY2UoKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvcigtMSk7XG4gICAgICAgIHRoaXMuY2hhcnNbdGhpcy5wb3NdLnNldENoYXIoJyAnLCB0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuaW5zZXJ0Q2hhciA9IGZ1bmN0aW9uIGluc2VydENoYXIoYnl0ZSkge1xuICAgICAgICBpZiAoYnl0ZSA+PSAweDkwKSB7XG4gICAgICAgICAgICAvL0V4dGVuZGVkIGNoYXJcbiAgICAgICAgICAgIHRoaXMuYmFja1NwYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYXIgPSBnZXRDaGFyRm9yQnl0ZShieXRlKTtcbiAgICAgICAgaWYgKHRoaXMucG9zID49IE5SX0NPTFMpIHtcbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0VSUk9SJywgJ0Nhbm5vdCBpbnNlcnQgJyArIGJ5dGUudG9TdHJpbmcoMTYpICsgJyAoJyArIGNoYXIgKyAnKSBhdCBwb3NpdGlvbiAnICsgdGhpcy5wb3MgKyAnLiBTa2lwcGluZyBpdCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHRoaXMuY3VyclBlblN0YXRlKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmNsZWFyRnJvbVBvcyA9IGZ1bmN0aW9uIGNsZWFyRnJvbVBvcyhzdGFydFBvcykge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gc3RhcnRQb3M7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSb3cucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGcm9tUG9zKDApO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuY2xlYXJUb0VuZE9mUm93ID0gZnVuY3Rpb24gY2xlYXJUb0VuZE9mUm93KCkge1xuICAgICAgICB0aGlzLmNsZWFyRnJvbVBvcyh0aGlzLnBvcyk7XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuZ2V0VGV4dFN0cmluZyA9IGZ1bmN0aW9uIGdldFRleHRTdHJpbmcoKSB7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0aGlzLmNoYXJzW2ldLnVjaGFyO1xuICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcgJykge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFJvdy5wcm90b3R5cGUuc2V0UGVuU3R5bGVzID0gZnVuY3Rpb24gc2V0UGVuU3R5bGVzKHN0eWxlcykge1xuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZS5zZXRTdHlsZXMoc3R5bGVzKTtcbiAgICAgICAgdmFyIGN1cnJDaGFyID0gdGhpcy5jaGFyc1t0aGlzLnBvc107XG4gICAgICAgIGN1cnJDaGFyLnNldFBlblN0YXRlKHRoaXMuY3VyclBlblN0YXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvdztcbn0oKTtcblxuLyoqXG4gKiBLZWVwIGEgQ0VBLTYwOCBzY3JlZW4gb2YgMzJ4MTUgc3R5bGVkIGNoYXJhY3RlcnNcbiAqIEBjb25zdHJ1Y3RvclxuKi9cblxuXG52YXIgQ2FwdGlvblNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYXB0aW9uU2NyZWVuKCkge1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FwdGlvblNjcmVlbik7XG5cbiAgICAgICAgdGhpcy5yb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3MucHVzaChuZXcgUm93KCkpOyAvLyBOb3RlIHRoYXQgd2UgdXNlIHplcm8tYmFzZWQgbnVtYmVyaW5nICgwLTE0KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xuICAgICAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyUm93ID0gTlJfUk9XUyAtIDE7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJvd3NbaV0uZXF1YWxzKG90aGVyLnJvd3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXF1YWw7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3NbaV0uY29weShvdGhlci5yb3dzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5iYWNrU3BhY2UgPSBmdW5jdGlvbiBiYWNrU3BhY2UoKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICAgICAgcm93LmJhY2tTcGFjZSgpO1xuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5jbGVhclRvRW5kT2ZSb3cgPSBmdW5jdGlvbiBjbGVhclRvRW5kT2ZSb3coKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICAgICAgcm93LmNsZWFyVG9FbmRPZlJvdygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSBjaGFyYWN0ZXIgKHdpdGhvdXQgc3R5bGluZykgaW4gdGhlIGN1cnJlbnQgcm93LlxuICAgICAqL1xuXG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gaW5zZXJ0Q2hhcihjaGFyKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICAgICAgcm93Lmluc2VydENoYXIoY2hhcik7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFBlbiA9IGZ1bmN0aW9uIHNldFBlbihzdHlsZXMpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0UGVuU3R5bGVzKHN0eWxlcyk7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLm1vdmVDdXJzb3IgPSBmdW5jdGlvbiBtb3ZlQ3Vyc29yKHJlbFBvcykge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5tb3ZlQ3Vyc29yKHJlbFBvcyk7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIHNldEN1cnNvcihhYnNQb3MpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdzZXRDdXJzb3I6ICcgKyBhYnNQb3MpO1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5zZXRDdXJzb3IoYWJzUG9zKTtcbiAgICB9O1xuXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuc2V0UEFDID0gZnVuY3Rpb24gc2V0UEFDKHBhY0RhdGEpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdwYWNEYXRhID0gJyArIEpTT04uc3RyaW5naWZ5KHBhY0RhdGEpKTtcbiAgICAgICAgdmFyIG5ld1JvdyA9IHBhY0RhdGEucm93IC0gMTtcbiAgICAgICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIG5ld1JvdyA8IHRoaXMubnJSb2xsVXBSb3dzIC0gMSkge1xuICAgICAgICAgICAgbmV3Um93ID0gdGhpcy5uclJvbGxVcFJvd3MgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9NYWtlIHN1cmUgdGhpcyBvbmx5IGFmZmVjdHMgUm9sbC11cCBDYXB0aW9ucyBieSBjaGVja2luZyB0aGlzLm5yUm9sbFVwUm93c1xuICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgJiYgdGhpcy5jdXJyUm93ICE9PSBuZXdSb3cpIHtcbiAgICAgICAgICAgIC8vY2xlYXIgYWxsIHJvd3MgZmlyc3RcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQ29weSB0aGlzLm5yUm9sbFVwUm93cyByb3dzIGZyb20gbGFzdE91dHB1dFNjcmVlbiBhbmQgcGxhY2UgaXQgaW4gdGhlIG5ld1JvdyBsb2NhdGlvblxuICAgICAgICAgICAgLy90b3BSb3dJbmRleCAtIHRoZSBzdGFydCBvZiByb3dzIHRvIGNvcHkgKGluY2x1c2l2ZSBpbmRleClcbiAgICAgICAgICAgIHZhciB0b3BSb3dJbmRleCA9IHRoaXMuY3VyclJvdyArIDEgLSB0aGlzLm5yUm9sbFVwUm93cztcbiAgICAgICAgICAgIC8vV2Ugb25seSBjb3B5IGlmIHRoZSBsYXN0IHBvc2l0aW9uIHdhcyBhbHJlYWR5IHNob3duLlxuICAgICAgICAgICAgLy9XZSB1c2UgdGhlIGN1ZVN0YXJ0VGltZSB2YWx1ZSB0byBjaGVjayB0aGlzLlxuICAgICAgICAgICAgdmFyIGxhc3RPdXRwdXRTY3JlZW4gPSB0aGlzLmxhc3RPdXRwdXRTY3JlZW47XG4gICAgICAgICAgICBpZiAobGFzdE91dHB1dFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2TGluZVRpbWUgPSBsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXhdLmN1ZVN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICBpZiAocHJldkxpbmVUaW1lICYmIHByZXZMaW5lVGltZSA8IGNlYV82MDhfcGFyc2VyX2xvZ2dlci50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLm5yUm9sbFVwUm93czsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dzW25ld1JvdyAtIHRoaXMubnJSb2xsVXBSb3dzICsgX2kgKyAxXS5jb3B5KGxhc3RPdXRwdXRTY3JlZW4ucm93c1t0b3BSb3dJbmRleCArIF9pXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJSb3cgPSBuZXdSb3c7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICAgICAgaWYgKHBhY0RhdGEuaW5kZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gcGFjRGF0YS5pbmRlbnQ7XG4gICAgICAgICAgICB2YXIgcHJldlBvcyA9IE1hdGgubWF4KGluZGVudCAtIDEsIDApO1xuICAgICAgICAgICAgcm93LnNldEN1cnNvcihwYWNEYXRhLmluZGVudCk7XG4gICAgICAgICAgICBwYWNEYXRhLmNvbG9yID0gcm93LmNoYXJzW3ByZXZQb3NdLnBlblN0YXRlLmZvcmVncm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlcyA9IHsgZm9yZWdyb3VuZDogcGFjRGF0YS5jb2xvciwgdW5kZXJsaW5lOiBwYWNEYXRhLnVuZGVybGluZSwgaXRhbGljczogcGFjRGF0YS5pdGFsaWNzLCBiYWNrZ3JvdW5kOiAnYmxhY2snLCBmbGFzaDogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5zZXRQZW4oc3R5bGVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGJhY2tncm91bmQvZXh0cmEgZm9yZWdyb3VuZCwgYnV0IGZpcnN0IGRvIGJhY2tfc3BhY2UsIGFuZCB0aGVuIGluc2VydCBzcGFjZSAoYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpLlxuICAgICAqL1xuXG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRCa2dEYXRhID0gZnVuY3Rpb24gc2V0QmtnRGF0YShia2dEYXRhKSB7XG5cbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdia2dEYXRhID0gJyArIEpTT04uc3RyaW5naWZ5KGJrZ0RhdGEpKTtcbiAgICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcbiAgICAgICAgdGhpcy5zZXRQZW4oYmtnRGF0YSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhcigweDIwKTsgLy9TcGFjZVxuICAgIH07XG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRSb2xsVXBSb3dzID0gZnVuY3Rpb24gc2V0Um9sbFVwUm93cyhuclJvd3MpIHtcbiAgICAgICAgdGhpcy5uclJvbGxVcFJvd3MgPSBuclJvd3M7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnJvbGxVcCA9IGZ1bmN0aW9uIHJvbGxVcCgpIHtcbiAgICAgICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzID09PSBudWxsKSB7XG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdERUJVRycsICdyb2xsX3VwIGJ1dCBuclJvbGxVcFJvd3Mgbm90IHNldCB5ZXQnKTtcbiAgICAgICAgICAgIHJldHVybjsgLy9Ob3QgcHJvcGVybHkgc2V0dXBcbiAgICAgICAgfVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdURVhUJywgdGhpcy5nZXREaXNwbGF5VGV4dCgpKTtcbiAgICAgICAgdmFyIHRvcFJvd0luZGV4ID0gdGhpcy5jdXJyUm93ICsgMSAtIHRoaXMubnJSb2xsVXBSb3dzO1xuICAgICAgICB2YXIgdG9wUm93ID0gdGhpcy5yb3dzLnNwbGljZSh0b3BSb3dJbmRleCwgMSlbMF07XG4gICAgICAgIHRvcFJvdy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJvd3Muc3BsaWNlKHRoaXMuY3VyclJvdywgMCwgdG9wUm93KTtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSb2xsaW5nIHVwJyk7XG4gICAgICAgIC8vbG9nZ2VyLmxvZygnVEVYVCcsIHRoaXMuZ2V0X2Rpc3BsYXlfdGV4dCgpKVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIG5vbi1lbXB0eSByb3dzIHdpdGggYXMgdW5pY29kZSB0ZXh0LlxuICAgICAqL1xuXG5cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uIGdldERpc3BsYXlUZXh0KGFzT25lUm93KSB7XG4gICAgICAgIGFzT25lUm93ID0gYXNPbmVSb3cgfHwgZmFsc2U7XG4gICAgICAgIHZhciBkaXNwbGF5VGV4dCA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9ICcnO1xuICAgICAgICB2YXIgcm93TnIgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByb3dUZXh0ID0gdGhpcy5yb3dzW2ldLmdldFRleHRTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChyb3dUZXh0KSB7XG4gICAgICAgICAgICAgICAgcm93TnIgPSBpICsgMTtcbiAgICAgICAgICAgICAgICBpZiAoYXNPbmVSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQucHVzaCgnUm93ICcgKyByb3dOciArICc6IFxcJycgKyByb3dUZXh0ICsgJ1xcJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2gocm93VGV4dC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheVRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9ICdbJyArIGRpc3BsYXlUZXh0LmpvaW4oJyB8ICcpICsgJ10nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gZGlzcGxheVRleHQuam9pbignXFxuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmdldFRleHRBbmRGb3JtYXQgPSBmdW5jdGlvbiBnZXRUZXh0QW5kRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3dzO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FwdGlvblNjcmVlbjtcbn0oKTtcblxuLy92YXIgbW9kZXMgPSBbJ01PREVfUk9MTC1VUCcsICdNT0RFX1BPUC1PTicsICdNT0RFX1BBSU5ULU9OJywgJ01PREVfVEVYVCddO1xuXG52YXIgQ2VhNjA4Q2hhbm5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDZWE2MDhDaGFubmVsKGNoYW5uZWxOdW1iZXIsIG91dHB1dEZpbHRlcikge1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VhNjA4Q2hhbm5lbCk7XG5cbiAgICAgICAgdGhpcy5jaE5yID0gY2hhbm5lbE51bWJlcjtcbiAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIgPSBvdXRwdXRGaWx0ZXI7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmVyYm9zZSA9IDA7XG4gICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gbmV3IENhcHRpb25TY3JlZW4oKTtcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xuICAgICAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4gPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xuICAgICAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MgLSAxXTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7IC8vIEtlZXBzIHRyYWNrIG9mIHdoZXJlIGEgY3VlIHN0YXJ0ZWQuXG4gICAgfVxuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUyAtIDFdO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q3VlRW5kVGltZSA9IG51bGw7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmdldEhhbmRsZXIgPSBmdW5jdGlvbiBnZXRIYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRGaWx0ZXI7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldEhhbmRsZXIgPSBmdW5jdGlvbiBzZXRIYW5kbGVyKG5ld0hhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIgPSBuZXdIYW5kbGVyO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5zZXRQQUMgPSBmdW5jdGlvbiBzZXRQQUMocGFjRGF0YSkge1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBBQyhwYWNEYXRhKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0QmtnRGF0YSA9IGZ1bmN0aW9uIHNldEJrZ0RhdGEoYmtnRGF0YSkge1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldEJrZ0RhdGEoYmtnRGF0YSk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldE1vZGUgPSBmdW5jdGlvbiBzZXRNb2RlKG5ld01vZGUpIHtcbiAgICAgICAgaWYgKG5ld01vZGUgPT09IHRoaXMubW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZSA9IG5ld01vZGU7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnTU9ERT0nICsgbmV3TW9kZSk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BPUC1PTicpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlICE9PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkubnJSb2xsVXBSb3dzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnMgPSBmdW5jdGlvbiBpbnNlcnRDaGFycyhjaGFycykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLmluc2VydENoYXIoY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY3JlZW4gPSB0aGlzLndyaXRlU2NyZWVuID09PSB0aGlzLmRpc3BsYXllZE1lbW9yeSA/ICdESVNQJyA6ICdOT05fRElTUCc7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCBzY3JlZW4gKyAnOiAnICsgdGhpcy53cml0ZVNjcmVlbi5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BBSU5ULU9OJyB8fCB0aGlzLm1vZGUgPT09ICdNT0RFX1JPTEwtVVAnKSB7XG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdURVhUJywgJ0RJU1BMQVlFRDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KHRydWUpKTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjUkNMID0gZnVuY3Rpb24gY2NSQ0woKSB7XG4gICAgICAgIC8vIFJlc3VtZSBDYXB0aW9uIExvYWRpbmcgKHN3aXRjaCBtb2RlIHRvIFBvcCBPbilcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSQ0wgLSBSZXN1bWUgQ2FwdGlvbiBMb2FkaW5nJyk7XG4gICAgICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9QT1AtT04nKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NCUyA9IGZ1bmN0aW9uIGNjQlMoKSB7XG4gICAgICAgIC8vIEJhY2tTcGFjZVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0JTIC0gQmFja1NwYWNlJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1RFWFQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPRiA9IGZ1bmN0aW9uIGNjQU9GKCkge1xuICAgICAgICAvLyBSZXNlcnZlZCAoZm9ybWVybHkgQWxhcm0gT2ZmKVxuICAgICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjQU9OID0gZnVuY3Rpb24gY2NBT04oKSB7XG4gICAgICAgIC8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPbilcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0RFUiA9IGZ1bmN0aW9uIGNjREVSKCkge1xuICAgICAgICAvLyBEZWxldGUgdG8gRW5kIG9mIFJvd1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0RFUi0gRGVsZXRlIHRvIEVuZCBvZiBSb3cnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5jbGVhclRvRW5kT2ZSb3coKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjUlUgPSBmdW5jdGlvbiBjY1JVKG5yUm93cykge1xuICAgICAgICAvL1JvbGwtVXAgQ2FwdGlvbnMtMiwzLG9yIDQgUm93c1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1JVKCcgKyBuclJvd3MgKyAnKSAtIFJvbGwgVXAnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUk9MTC1VUCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFJvbGxVcFJvd3MobnJSb3dzKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NGT04gPSBmdW5jdGlvbiBjY0ZPTigpIHtcbiAgICAgICAgLy9GbGFzaCBPblxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0ZPTiAtIEZsYXNoIE9uJyk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UGVuKHsgZmxhc2g6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjUkRDID0gZnVuY3Rpb24gY2NSREMoKSB7XG4gICAgICAgIC8vIFJlc3VtZSBEaXJlY3QgQ2FwdGlvbmluZyAoc3dpdGNoIG1vZGUgdG8gUGFpbnRPbilcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSREMgLSBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1BBSU5ULU9OJyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjVFIgPSBmdW5jdGlvbiBjY1RSKCkge1xuICAgICAgICAvLyBUZXh0IFJlc3RhcnQgaW4gdGV4dCBtb2RlIChub3Qgc3VwcG9ydGVkLCBob3dldmVyKVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1RSJyk7XG4gICAgICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjUlREID0gZnVuY3Rpb24gY2NSVEQoKSB7XG4gICAgICAgIC8vIFJlc3VtZSBUZXh0IERpc3BsYXkgaW4gVGV4dCBtb2RlIChub3Qgc3VwcG9ydGVkLCBob3dldmVyKVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1JURCcpO1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfVEVYVCcpO1xuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0VETSA9IGZ1bmN0aW9uIGNjRURNKCkge1xuICAgICAgICAvLyBFcmFzZSBEaXNwbGF5ZWQgTWVtb3J5XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnRURNIC0gRXJhc2UgRGlzcGxheWVkIE1lbW9yeScpO1xuICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xuICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NDUiA9IGZ1bmN0aW9uIGNjQ1IoKSB7XG4gICAgICAgIC8vIENhcnJpYWdlIFJldHVyblxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdDUiAtIENhcnJpYWdlIFJldHVybicpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnJvbGxVcCgpO1xuICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFTk0gPSBmdW5jdGlvbiBjY0VOTSgpIHtcbiAgICAgICAgLy9FcmFzZSBOb24tRGlzcGxheWVkIE1lbW9yeVxuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0VOTSAtIEVyYXNlIE5vbi1kaXNwbGF5ZWQgTWVtb3J5Jyk7XG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRU9DID0gZnVuY3Rpb24gY2NFT0MoKSB7XG4gICAgICAgIC8vRW5kIG9mIENhcHRpb24gKEZsaXAgTWVtb3JpZXMpXG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnRU9DIC0gRW5kIE9mIENhcHRpb24nKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ01PREVfUE9QLU9OJykge1xuICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5ID0gdG1wO1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnVEVYVCcsICdESVNQOiAnICsgdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZ2V0RGlzcGxheVRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjVE8gPSBmdW5jdGlvbiBjY1RPKG5yQ29scykge1xuICAgICAgICAvLyBUYWIgT2Zmc2V0IDEsMiwgb3IgMyBjb2x1bW5zXG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnVE8oJyArIG5yQ29scyArICcpIC0gVGFiIE9mZnNldCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLm1vdmVDdXJzb3IobnJDb2xzKTtcbiAgICB9O1xuXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NNSURST1cgPSBmdW5jdGlvbiBjY01JRFJPVyhzZWNvbmRCeXRlKSB7XG4gICAgICAgIC8vIFBhcnNlIE1JRFJPVyBjb21tYW5kXG4gICAgICAgIHZhciBzdHlsZXMgPSB7IGZsYXNoOiBmYWxzZSB9O1xuICAgICAgICBzdHlsZXMudW5kZXJsaW5lID0gc2Vjb25kQnl0ZSAlIDIgPT09IDE7XG4gICAgICAgIHN0eWxlcy5pdGFsaWNzID0gc2Vjb25kQnl0ZSA+PSAweDJlO1xuICAgICAgICBpZiAoIXN0eWxlcy5pdGFsaWNzKSB7XG4gICAgICAgICAgICB2YXIgY29sb3JJbmRleCA9IE1hdGguZmxvb3Ioc2Vjb25kQnl0ZSAvIDIpIC0gMHgxMDtcbiAgICAgICAgICAgIHZhciBjb2xvcnMgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnXTtcbiAgICAgICAgICAgIHN0eWxlcy5mb3JlZ3JvdW5kID0gY29sb3JzW2NvbG9ySW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSAnd2hpdGUnO1xuICAgICAgICB9XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnTUlEUk9XOiAnICsgSlNPTi5zdHJpbmdpZnkoc3R5bGVzKSk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UGVuKHN0eWxlcyk7XG4gICAgfTtcblxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLm91dHB1dERhdGFVcGRhdGUgPSBmdW5jdGlvbiBvdXRwdXREYXRhVXBkYXRlKCkge1xuICAgICAgICB2YXIgdCA9IGNlYV82MDhfcGFyc2VyX2xvZ2dlci50aW1lO1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLnVwZGF0ZURhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci51cGRhdGVEYXRhKHQsIHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1ZVN0YXJ0VGltZSA9PT0gbnVsbCAmJiAhdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgb2YgYSBuZXcgY3VlXG4gICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmVxdWFscyh0aGlzLmxhc3RPdXRwdXRTY3JlZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5sYXN0T3V0cHV0U2NyZWVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSA/IG51bGwgOiB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5jb3B5KHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jdWVTcGxpdEF0VGltZSA9IGZ1bmN0aW9uIGN1ZVNwbGl0QXRUaW1lKHQpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lLCB0LCB0aGlzLmRpc3BsYXllZE1lbW9yeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQ2VhNjA4Q2hhbm5lbDtcbn0oKTtcblxudmFyIENlYTYwOFBhcnNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDZWE2MDhQYXJzZXIoZmllbGQsIG91dDEsIG91dDIpIHtcbiAgICAgICAgY2VhXzYwOF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENlYTYwOFBhcnNlcik7XG5cbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkIHx8IDE7XG4gICAgICAgIHRoaXMub3V0cHV0cyA9IFtvdXQxLCBvdXQyXTtcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IFtuZXcgQ2VhNjA4Q2hhbm5lbCgxLCBvdXQxKSwgbmV3IENlYTYwOENoYW5uZWwoMiwgb3V0MildO1xuICAgICAgICB0aGlzLmN1cnJDaE5yID0gLTE7IC8vIFdpbGwgYmUgMSBvciAyXG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsOyAvLyBGaXJzdCBieXRlIG9mIGxhc3QgY29tbWFuZFxuICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDsgLy8gU2Vjb25kIGJ5dGUgb2YgbGFzdCBjb21tYW5kXG4gICAgICAgIHRoaXMuYnVmZmVyZWREYXRhID0gW107XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzID0geyAncGFkZGluZyc6IDAsICdjaGFyJzogMCwgJ2NtZCc6IDAsICdvdGhlcic6IDAgfTtcbiAgICB9XG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmdldEhhbmRsZXIgPSBmdW5jdGlvbiBnZXRIYW5kbGVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxzW2luZGV4XS5nZXRIYW5kbGVyKCk7XG4gICAgfTtcblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uIHNldEhhbmRsZXIoaW5kZXgsIG5ld0hhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsc1tpbmRleF0uc2V0SGFuZGxlcihuZXdIYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGRhdGEgZm9yIHRpbWUgdCBpbiBmb3JtcyBvZiBsaXN0IG9mIGJ5dGVzICh1bnNpZ25lZCBpbnRzKS4gVGhlIGJ5dGVzIGFyZSB0cmVhdGVkIGFzIHBhaXJzLlxuICAgICAqL1xuXG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmFkZERhdGEgPSBmdW5jdGlvbiBhZGREYXRhKHQsIGJ5dGVMaXN0KSB7XG4gICAgICAgIHZhciBjbWRGb3VuZCxcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgY2hhcnNGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSB0O1xuICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIuc2V0VGltZSh0KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVMaXN0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBhID0gYnl0ZUxpc3RbaV0gJiAweDdmO1xuICAgICAgICAgICAgYiA9IGJ5dGVMaXN0W2kgKyAxXSAmIDB4N2Y7XG4gICAgICAgICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdEQVRBJywgJ1snICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSArIDFdXSkgKyAnXSAtPiAoJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZUNtZChhLCBiKTtcbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VNaWRyb3coYSwgYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlUEFDKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNoYXJzRm91bmQgPSB0aGlzLnBhcnNlQ2hhcnMoYSwgYik7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJzRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VyckNoTnIgJiYgdGhpcy5jdXJyQ2hOciA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbdGhpcy5jdXJyQ2hOciAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5pbnNlcnRDaGFycyhjaGFyc0ZvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ1dBUk5JTkcnLCAnTm8gY2hhbm5lbCBmb3VuZCB5ZXQuIFRFWFQtTU9ERT8nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNtZCArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMuY2hhciArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5vdGhlciArPSAyO1xuICAgICAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ1dBUk5JTkcnLCAnQ291bGRuXFwndCBwYXJzZSBjbGVhbmVkIGRhdGEgJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJyBvcmlnOiAnICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSArIDFdXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIENvbW1hbmQuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFRlbGxzIGlmIGEgY29tbWFuZCB3YXMgZm91bmRcbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNtZCA9IGZ1bmN0aW9uIHBhcnNlQ21kKGEsIGIpIHtcbiAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xuXG4gICAgICAgIHZhciBjb25kMSA9IChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpICYmIDB4MjAgPD0gYiAmJiBiIDw9IDB4MkY7XG4gICAgICAgIHZhciBjb25kMiA9IChhID09PSAweDE3IHx8IGEgPT09IDB4MUYpICYmIDB4MjEgPD0gYiAmJiBiIDw9IDB4MjM7XG4gICAgICAgIGlmICghKGNvbmQxIHx8IGNvbmQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGEgPT09IHRoaXMubGFzdENtZEEgJiYgYiA9PT0gdGhpcy5sYXN0Q21kQikge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDsgLy8gUmVwZWF0ZWQgY29tbWFuZHMgYXJlIGRyb3BwZWQgKG9uY2UpXG4gICAgICAgICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdERUJVRycsICdSZXBlYXRlZCBjb21tYW5kICgnICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyAnKSBpcyBkcm9wcGVkJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhID09PSAweDE0IHx8IGEgPT09IDB4MTcpIHtcbiAgICAgICAgICAgIGNoTnIgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hOciA9IDI7IC8vIChhID09PSAweDFDIHx8IGE9PT0gMHgxZilcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG5cbiAgICAgICAgaWYgKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxQykge1xuICAgICAgICAgICAgaWYgKGIgPT09IDB4MjApIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUkNMKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjEpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQlMoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyMikge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NBT0YoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyMykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NBT04oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NERVIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVSgyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNikge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVSgzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVSg0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyOCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NGT04oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyOSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSREMoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NUUigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJCKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JURCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJDKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0VETSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJEKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0NSKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjRU5NKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkYpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjRU9DKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2EgPT0gMHgxNyB8fCBhID09IDB4MUZcbiAgICAgICAgICAgIGNoYW5uZWwuY2NUTyhiIC0gMHgyMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IGE7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBiO1xuICAgICAgICB0aGlzLmN1cnJDaE5yID0gY2hOcjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIG1pZHJvdyBzdHlsaW5nIGNvbW1hbmRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZU1pZHJvdyA9IGZ1bmN0aW9uIHBhcnNlTWlkcm93KGEsIGIpIHtcbiAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xuXG4gICAgICAgIGlmICgoYSA9PT0gMHgxMSB8fCBhID09PSAweDE5KSAmJiAweDIwIDw9IGIgJiYgYiA8PSAweDJmKSB7XG4gICAgICAgICAgICBpZiAoYSA9PT0gMHgxMSkge1xuICAgICAgICAgICAgICAgIGNoTnIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaE5yID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaE5yICE9PSB0aGlzLmN1cnJDaE5yKSB7XG4gICAgICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnRVJST1InLCAnTWlzbWF0Y2ggY2hhbm5lbCBpbiBtaWRyb3cgcGFyc2luZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG4gICAgICAgICAgICBjaGFubmVsLmNjTUlEUk9XKGIpO1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnREVCVUcnLCAnTUlEUk9XICgnICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyAnKScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgUHJlYWJsZSBBY2Nlc3MgQ29kZXMgKFRhYmxlIDUzKS5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgUEFDIGZvdW5kXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VQQUMgPSBmdW5jdGlvbiBwYXJzZVBBQyhhLCBiKSB7XG5cbiAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xuICAgICAgICB2YXIgcm93ID0gbnVsbDtcblxuICAgICAgICB2YXIgY2FzZTEgPSAoMHgxMSA8PSBhICYmIGEgPD0gMHgxNyB8fCAweDE5IDw9IGEgJiYgYSA8PSAweDFGKSAmJiAweDQwIDw9IGIgJiYgYiA8PSAweDdGO1xuICAgICAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiAweDQwIDw9IGIgJiYgYiA8PSAweDVGO1xuICAgICAgICBpZiAoIShjYXNlMSB8fCBjYXNlMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhID09PSB0aGlzLmxhc3RDbWRBICYmIGIgPT09IHRoaXMubGFzdENtZEIpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gUmVwZWF0ZWQgY29tbWFuZHMgYXJlIGRyb3BwZWQgKG9uY2UpXG4gICAgICAgIH1cblxuICAgICAgICBjaE5yID0gYSA8PSAweDE3ID8gMSA6IDI7XG5cbiAgICAgICAgaWYgKDB4NDAgPD0gYiAmJiBiIDw9IDB4NUYpIHtcbiAgICAgICAgICAgIHJvdyA9IGNoTnIgPT09IDEgPyByb3dzTG93Q2gxW2FdIDogcm93c0xvd0NoMlthXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDB4NjAgPD0gYiA8PSAweDdGXG4gICAgICAgICAgICByb3cgPSBjaE5yID09PSAxID8gcm93c0hpZ2hDaDFbYV0gOiByb3dzSGlnaENoMlthXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFjRGF0YSA9IHRoaXMuaW50ZXJwcmV0UEFDKHJvdywgYik7XG4gICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG4gICAgICAgIGNoYW5uZWwuc2V0UEFDKHBhY0RhdGEpO1xuICAgICAgICB0aGlzLmxhc3RDbWRBID0gYTtcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IGI7XG4gICAgICAgIHRoaXMuY3VyckNoTnIgPSBjaE5yO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJwcmV0IHRoZSBzZWNvbmQgYnl0ZSBvZiB0aGUgcGFjLCBhbmQgcmV0dXJuIHRoZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwYWNEYXRhIHdpdGggc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5pbnRlcnByZXRQQUMgPSBmdW5jdGlvbiBpbnRlcnByZXRQQUMocm93LCBieXRlKSB7XG4gICAgICAgIHZhciBwYWNJbmRleCA9IGJ5dGU7XG4gICAgICAgIHZhciBwYWNEYXRhID0geyBjb2xvcjogbnVsbCwgaXRhbGljczogZmFsc2UsIGluZGVudDogbnVsbCwgdW5kZXJsaW5lOiBmYWxzZSwgcm93OiByb3cgfTtcblxuICAgICAgICBpZiAoYnl0ZSA+IDB4NUYpIHtcbiAgICAgICAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDQwO1xuICAgICAgICB9XG4gICAgICAgIHBhY0RhdGEudW5kZXJsaW5lID0gKHBhY0luZGV4ICYgMSkgPT09IDE7XG4gICAgICAgIGlmIChwYWNJbmRleCA8PSAweGQpIHtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnd2hpdGUnXVtNYXRoLmZsb29yKHBhY0luZGV4IC8gMildO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY0luZGV4IDw9IDB4Zikge1xuICAgICAgICAgICAgcGFjRGF0YS5pdGFsaWNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFjRGF0YS5pbmRlbnQgPSBNYXRoLmZsb29yKChwYWNJbmRleCAtIDB4MTApIC8gMikgKiA0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYWNEYXRhOyAvLyBOb3RlIHRoYXQgcm93IGhhcyB6ZXJvIG9mZnNldC4gVGhlIHNwZWMgdXNlcyAxLlxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBjaGFyYWN0ZXJzLlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IHdpdGggMSB0byAyIGNvZGVzIGNvcnJlc3BvbmRpbmcgdG8gY2hhcnMsIGlmIGZvdW5kLiBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cblxuXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNoYXJzID0gZnVuY3Rpb24gcGFyc2VDaGFycyhhLCBiKSB7XG5cbiAgICAgICAgdmFyIGNoYW5uZWxOciA9IG51bGwsXG4gICAgICAgICAgICBjaGFyQ29kZXMgPSBudWxsLFxuICAgICAgICAgICAgY2hhckNvZGUxID0gbnVsbDtcblxuICAgICAgICBpZiAoYSA+PSAweDE5KSB7XG4gICAgICAgICAgICBjaGFubmVsTnIgPSAyO1xuICAgICAgICAgICAgY2hhckNvZGUxID0gYSAtIDg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFubmVsTnIgPSAxO1xuICAgICAgICAgICAgY2hhckNvZGUxID0gYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoMHgxMSA8PSBjaGFyQ29kZTEgJiYgY2hhckNvZGUxIDw9IDB4MTMpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2hhcmFjdGVyXG4gICAgICAgICAgICB2YXIgb25lQ29kZSA9IGI7XG4gICAgICAgICAgICBpZiAoY2hhckNvZGUxID09PSAweDExKSB7XG4gICAgICAgICAgICAgICAgb25lQ29kZSA9IGIgKyAweDUwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyQ29kZTEgPT09IDB4MTIpIHtcbiAgICAgICAgICAgICAgICBvbmVDb2RlID0gYiArIDB4NzA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg5MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnU3BlY2lhbCBjaGFyIFxcJycgKyBnZXRDaGFyRm9yQnl0ZShvbmVDb2RlKSArICdcXCcgaW4gY2hhbm5lbCAnICsgY2hhbm5lbE5yKTtcbiAgICAgICAgICAgIGNoYXJDb2RlcyA9IFtvbmVDb2RlXTtcbiAgICAgICAgfSBlbHNlIGlmICgweDIwIDw9IGEgJiYgYSA8PSAweDdmKSB7XG4gICAgICAgICAgICBjaGFyQ29kZXMgPSBiID09PSAwID8gW2FdIDogW2EsIGJdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyQ29kZXMpIHtcbiAgICAgICAgICAgIHZhciBoZXhDb2RlcyA9IG51bUFycmF5VG9IZXhBcnJheShjaGFyQ29kZXMpO1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnREVCVUcnLCAnQ2hhciBjb2RlcyA9ICAnICsgaGV4Q29kZXMuam9pbignLCcpKTtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJDb2RlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBleHRlbmRlZCBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXMgd2VsbCBhcyBuZXcgZm9yZWdyb3VuZCBjb2xvciBibGFjay5cbiAgICAqIEByZXR1cm5ze0Jvb2xlYW59IFRlbGxzIGlmIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcmUgZm91bmRcbiAgICAqL1xuXG5cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBwYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzKGEsIGIpIHtcbiAgICAgICAgdmFyIGJrZ0RhdGEsIGluZGV4LCBjaE5yLCBjaGFubmVsO1xuXG4gICAgICAgIHZhciBjYXNlMSA9IChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpICYmIDB4MjAgPD0gYiAmJiBiIDw9IDB4MmY7XG4gICAgICAgIHZhciBjYXNlMiA9IChhID09PSAweDE3IHx8IGEgPT09IDB4MWYpICYmIDB4MmQgPD0gYiAmJiBiIDw9IDB4MmY7XG4gICAgICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJrZ0RhdGEgPSB7fTtcbiAgICAgICAgaWYgKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkge1xuICAgICAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKChiIC0gMHgyMCkgLyAyKTtcbiAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGIgJSAyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmtnRGF0YS5iYWNrZ3JvdW5kICsgJ19zZW1pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJkKSB7XG4gICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmtnRGF0YS5mb3JlZ3JvdW5kID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGlmIChiID09PSAweDJmKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS51bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoTnIgPSBhIDwgMHgxOCA/IDEgOiAyO1xuICAgICAgICBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG4gICAgICAgIGNoYW5uZWwuc2V0QmtnRGF0YShia2dEYXRhKTtcbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgc3RhdGUgb2YgcGFyc2VyIGFuZCBpdHMgY2hhbm5lbHMuXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoYW5uZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHNbaV0ucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdGhlIGdlbmVyYXRpb24gb2YgYSBjdWUsIGFuZCB0aGUgc3RhcnQgb2YgYSBuZXcgb25lIGlmIGRpc3BsYXlTY3JlZW5zIGFyZSBub3QgZW1wdHkuXG4gICAgICovXG5cblxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuY3VlU3BsaXRBdFRpbWUgPSBmdW5jdGlvbiBjdWVTcGxpdEF0VGltZSh0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLmN1ZVNwbGl0QXRUaW1lKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBDZWE2MDhQYXJzZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNlYV82MDhfcGFyc2VyID0gKENlYTYwOFBhcnNlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy93ZWJ2dHQtcGFyc2VyLmpzXG5cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUxMVxudmFyIHN0YXJ0c1dpdGggPSBmdW5jdGlvbiBzdGFydHNXaXRoKGlucHV0U3RyaW5nLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGlucHV0U3RyaW5nLnN1YnN0cihwb3NpdGlvbiB8fCAwLCBzZWFyY2hTdHJpbmcubGVuZ3RoKSA9PT0gc2VhcmNoU3RyaW5nO1xufTtcblxudmFyIGN1ZVN0cmluZzJtaWxsaXMgPSBmdW5jdGlvbiBjdWVTdHJpbmcybWlsbGlzKHRpbWVTdHJpbmcpIHtcbiAgICB2YXIgdHMgPSBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigtMykpO1xuICAgIHZhciBzZWNzID0gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoLTYsIDIpKTtcbiAgICB2YXIgbWlucyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKC05LCAyKSk7XG4gICAgdmFyIGhvdXJzID0gdGltZVN0cmluZy5sZW5ndGggPiA5ID8gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoMCwgdGltZVN0cmluZy5pbmRleE9mKCc6JykpKSA6IDA7XG5cbiAgICBpZiAoaXNOYU4odHMpIHx8IGlzTmFOKHNlY3MpIHx8IGlzTmFOKG1pbnMpIHx8IGlzTmFOKGhvdXJzKSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdHMgKz0gMTAwMCAqIHNlY3M7XG4gICAgdHMgKz0gNjAgKiAxMDAwICogbWlucztcbiAgICB0cyArPSA2MCAqIDYwICogMTAwMCAqIGhvdXJzO1xuXG4gICAgcmV0dXJuIHRzO1xufTtcblxuLy8gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9zdHJpbmctaGFzaFxudmFyIGhhc2ggPSBmdW5jdGlvbiBoYXNoKHRleHQpIHtcbiAgICB2YXIgaGFzaCA9IDUzODE7XG4gICAgdmFyIGkgPSB0ZXh0Lmxlbmd0aDtcbiAgICB3aGlsZSAoaSkge1xuICAgICAgICBoYXNoID0gaGFzaCAqIDMzIF4gdGV4dC5jaGFyQ29kZUF0KC0taSk7XG4gICAgfVxuICAgIHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoKTtcbn07XG5cbnZhciBjYWxjdWxhdGVPZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQodnR0Q0NzLCBjYywgcHJlc2VudGF0aW9uVGltZSkge1xuICAgIHZhciBjdXJyQ0MgPSB2dHRDQ3NbY2NdO1xuICAgIHZhciBwcmV2Q0MgPSB2dHRDQ3NbY3VyckNDLnByZXZDQ107XG5cbiAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBkaXNjb250aW51aXR5IG9yIGN1ZXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCBzaW5jZSB0aGUgbGFzdCBkaXNjb250aW51aXR5XG4gICAgLy8gT2Zmc2V0ID0gY3VycmVudCBkaXNjb250aW51aXR5IHRpbWVcbiAgICBpZiAoIXByZXZDQyB8fCAhcHJldkNDLm5ldyAmJiBjdXJyQ0MubmV3KSB7XG4gICAgICAgIHZ0dENDcy5jY09mZnNldCA9IHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBjdXJyQ0Muc3RhcnQ7XG4gICAgICAgIGN1cnJDQy5uZXcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoZXJlIGhhdmUgYmVlbiBkaXNjb250aW51aXRpZXMgc2luY2UgY3VlcyB3ZXJlIGxhc3QgcGFyc2VkLlxuICAgIC8vIE9mZnNldCA9IHRpbWUgZWxhcHNlZFxuICAgIHdoaWxlIChwcmV2Q0MgJiYgcHJldkNDLm5ldykge1xuICAgICAgICB2dHRDQ3MuY2NPZmZzZXQgKz0gY3VyckNDLnN0YXJ0IC0gcHJldkNDLnN0YXJ0O1xuICAgICAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgICAgIGN1cnJDQyA9IHByZXZDQztcbiAgICAgICAgcHJldkNDID0gdnR0Q0NzW2N1cnJDQy5wcmV2Q0NdO1xuICAgIH1cblxuICAgIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lO1xufTtcblxudmFyIFdlYlZUVFBhcnNlciA9IHtcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodnR0Qnl0ZUFycmF5LCBzeW5jUFRTLCB2dHRDQ3MsIGNjLCBjYWxsQmFjaywgZXJyb3JDYWxsQmFjaykge1xuICAgICAgICAvLyBDb252ZXJ0IGJ5dGVBcnJheSBpbnRvIHN0cmluZywgcmVwbGFjaW5nIGFueSBzb21ld2hhdCBleG90aWMgbGluZWZlZWRzIHdpdGggXCJcXG5cIiwgdGhlbiBzcGxpdCBvbiB0aGF0IGNoYXJhY3Rlci5cbiAgICAgICAgdmFyIHJlID0gL1xcclxcbnxcXG5cXHJ8XFxufFxcci9nO1xuICAgICAgICB2YXIgdnR0TGluZXMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KHZ0dEJ5dGVBcnJheSkpLnRyaW0oKS5yZXBsYWNlKHJlLCAnXFxuJykuc3BsaXQoJ1xcbicpO1xuICAgICAgICB2YXIgY3VlVGltZSA9ICcwMDowMC4wMDAnO1xuICAgICAgICB2YXIgbXBlZ1RzID0gMDtcbiAgICAgICAgdmFyIGxvY2FsVGltZSA9IDA7XG4gICAgICAgIHZhciBwcmVzZW50YXRpb25UaW1lID0gMDtcbiAgICAgICAgdmFyIGN1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHBhcnNpbmdFcnJvciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGluSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgLy8gbGV0IFZUVEN1ZSA9IFZUVEN1ZSB8fCB3aW5kb3cuVGV4dFRyYWNrQ3VlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBwYXJzZXIgb2JqZWN0IHVzaW5nIFZUVEN1ZSB3aXRoIFRleHRUcmFja0N1ZSBmYWxsYmFjayBvbiBjZXJ0YWluIGJyb3dzZXJzLlxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IHZ0dHBhcnNlcigpO1xuXG4gICAgICAgIHBhcnNlci5vbmN1ZSA9IGZ1bmN0aW9uIChjdWUpIHtcbiAgICAgICAgICAgIC8vIEFkanVzdCBjdWUgdGltaW5nOyBjbGFtcCBjdWVzIHRvIHN0YXJ0IG5vIGVhcmxpZXIgdGhhbiAtIGFuZCBkcm9wIGN1ZXMgdGhhdCBkb24ndCBlbmQgYWZ0ZXIgLSAwIG9uIHRpbWVsaW5lLlxuICAgICAgICAgICAgdmFyIGN1cnJDQyA9IHZ0dENDc1tjY107XG4gICAgICAgICAgICB2YXIgY3VlT2Zmc2V0ID0gdnR0Q0NzLmNjT2Zmc2V0O1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgb2Zmc2V0cyBmb3IgbmV3IGRpc2NvbnRpbnVpdGllc1xuICAgICAgICAgICAgaWYgKGN1cnJDQyAmJiBjdXJyQ0MubmV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsVGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gbG9jYWwgdGltZSBpcyBwcm92aWRlZCwgb2Zmc2V0ID0gZGlzY29udGludWl0eSBzdGFydCB0aW1lIC0gbG9jYWwgdGltZVxuICAgICAgICAgICAgICAgICAgICBjdWVPZmZzZXQgPSB2dHRDQ3MuY2NPZmZzZXQgPSBjdXJyQ0Muc3RhcnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlT2Zmc2V0KHZ0dENDcywgY2MsIHByZXNlbnRhdGlvblRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXNlbnRhdGlvblRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIE1QRUdUUywgb2Zmc2V0ID0gcHJlc2VudGF0aW9uIHRpbWUgKyBkaXNjb250aW51aXR5IG9mZnNldFxuICAgICAgICAgICAgICAgIGN1ZU9mZnNldCA9IHByZXNlbnRhdGlvblRpbWUgKyB2dHRDQ3MuY2NPZmZzZXQgLSB2dHRDQ3MucHJlc2VudGF0aW9uT2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdWUuc3RhcnRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcbiAgICAgICAgICAgIGN1ZS5lbmRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdW5pcXVlIGhhc2ggaWQgZm9yIGEgY3VlIGJhc2VkIG9uIHN0YXJ0L2VuZCB0aW1lcyBhbmQgdGV4dC5cbiAgICAgICAgICAgIC8vIFRoaXMgaGVscHMgdGltZWxpbmUtY29udHJvbGxlciB0byBhdm9pZCBzaG93aW5nIHJlcGVhdGVkIGNhcHRpb25zLlxuICAgICAgICAgICAgY3VlLmlkID0gaGFzaChjdWUuc3RhcnRUaW1lKSArIGhhc2goY3VlLmVuZFRpbWUpICsgaGFzaChjdWUudGV4dCk7XG5cbiAgICAgICAgICAgIC8vIEZpeCBlbmNvZGluZyBvZiBzcGVjaWFsIGNoYXJhY3RlcnMuIFRPRE86IFRlc3Qgd2l0aCBhbGwgc29ydHMgb2Ygd2VpcmQgY2hhcmFjdGVycy5cbiAgICAgICAgICAgIGN1ZS50ZXh0ID0gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShjdWUudGV4dCkpO1xuICAgICAgICAgICAgaWYgKGN1ZS5lbmRUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgIGN1ZXMucHVzaChjdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHBhcnNlci5vbnBhcnNpbmdlcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBhcnNlci5vbmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHBhcnNpbmdFcnJvciAmJiBlcnJvckNhbGxCYWNrKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsQmFjayhwYXJzaW5nRXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxCYWNrKGN1ZXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEdvIHRocm91Z2ggY29udGVudHMgbGluZSBieSBsaW5lLlxuICAgICAgICB2dHRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICBpZiAoaW5IZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBYLVRJTUVTVEFNUC1NQVAgaW4gaGVhZGVyLlxuICAgICAgICAgICAgICAgIGlmIChzdGFydHNXaXRoKGxpbmUsICdYLVRJTUVTVEFNUC1NQVA9JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBmb3VuZCwgbm8gbW9yZSBhcmUgYWxsb3dlZCBhbnl3YXksIHNvIHN0b3Agc2VhcmNoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IExPQ0FMIGFuZCBNUEVHVFMuXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyKDE2KS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTE9DQUw6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVUaW1lID0gdGltZXN0YW1wLnN1YnN0cig2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRzV2l0aCh0aW1lc3RhbXAsICdNUEVHVFM6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcGVnVHMgPSBwYXJzZUludCh0aW1lc3RhbXAuc3Vic3RyKDcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgc3VidGl0bGUgb2Zmc2V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHN5bmMgUFRTIGlzIGxlc3MgdGhhbiB6ZXJvLCB3ZSBoYXZlIGEgMzMtYml0IHdyYXBhcm91bmQsIHdoaWNoIGlzIGZpeGVkIGJ5IGFkZGluZyAyXjMzID0gODU4OTkzNDU5Mi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNQVFMgPSBzeW5jUFRTIDwgMCA/IHN5bmNQVFMgKyA4NTg5OTM0NTkyIDogc3luY1BUUztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkanVzdCBNUEVHVFMgYnkgc3luYyBQVFMuXG4gICAgICAgICAgICAgICAgICAgICAgICBtcGVnVHMgLT0gc3luY1BUUztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgY3VlIHRpbWUgdG8gc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxUaW1lID0gY3VlU3RyaW5nMm1pbGxpcyhjdWVUaW1lKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IE1QRUdUUyB0byBzZWNvbmRzIGZyb20gOTBrSHouXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZW50YXRpb25UaW1lID0gbXBlZ1RzIC8gOTAwMDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFRpbWUgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2luZ0Vycm9yID0gbmV3IEVycm9yKCdNYWxmb3JtZWQgWC1USU1FU1RBTVAtTUFQOiAnICsgbGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNpbmdFcnJvciA9IG5ldyBFcnJvcignTWFsZm9ybWVkIFgtVElNRVNUQU1QLU1BUDogJyArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB3aXRob3V0IHBhcnNpbmcgWC1USU1FU1RBTVAtTUFQIGxpbmUuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGluSGVhZGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyc2UgbGluZSBieSBkZWZhdWx0LlxuICAgICAgICAgICAgcGFyc2VyLnBhcnNlKGxpbmUgKyAnXFxuJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBhcnNlci5mbHVzaCgpO1xuICAgIH1cbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHdlYnZ0dF9wYXJzZXIgPSAoV2ViVlRUUGFyc2VyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlci5qc1xuZnVuY3Rpb24gdGltZWxpbmVfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiB0aW1lbGluZV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiB0aW1lbGluZV9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogVGltZWxpbmUgQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gY2xlYXJDdXJyZW50Q3Vlcyh0cmFjaykge1xuICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xuICAgIHdoaWxlICh0cmFjay5jdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRyYWNrLnJlbW92ZUN1ZSh0cmFjay5jdWVzWzBdKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV1c2VWdHRUZXh0VHJhY2soaW5Vc2VUcmFjaywgbWFuaWZlc3RUcmFjaykge1xuICByZXR1cm4gaW5Vc2VUcmFjayAmJiBpblVzZVRyYWNrLmxhYmVsID09PSBtYW5pZmVzdFRyYWNrLm5hbWUgJiYgIShpblVzZVRyYWNrLnRleHRUcmFjazEgfHwgaW5Vc2VUcmFjay50ZXh0VHJhY2syKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKHgxLCB4MiwgeTEsIHkyKSB7XG4gIHJldHVybiBNYXRoLm1pbih4MiwgeTIpIC0gTWF0aC5tYXgoeDEsIHkxKTtcbn1cblxudmFyIHRpbWVsaW5lX2NvbnRyb2xsZXJfVGltZWxpbmVDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgdGltZWxpbmVfY29udHJvbGxlcl9faW5oZXJpdHMoVGltZWxpbmVDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBUaW1lbGluZUNvbnRyb2xsZXIoaGxzKSB7XG4gICAgdGltZWxpbmVfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZWxpbmVDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHRpbWVsaW5lX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19VU0VSREFUQSwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1NXSVRDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5EKSk7XG5cbiAgICBfdGhpcy5obHMgPSBobHM7XG4gICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICBfdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICBfdGhpcy5DdWVzID0gaGxzLmNvbmZpZy5jdWVIYW5kbGVyO1xuICAgIF90aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICBfdGhpcy50cmFja3MgPSBbXTtcbiAgICBfdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gW107XG4gICAgX3RoaXMuaW5pdFBUUyA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy5jdWVSYW5nZXMgPSBbXTtcblxuICAgIGlmIChfdGhpcy5jb25maWcuZW5hYmxlQ0VBNzA4Q2FwdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gX3RoaXM7XG4gICAgICB2YXIgc2VuZEFkZFRyYWNrRXZlbnQgPSBmdW5jdGlvbiBzZW5kQWRkVHJhY2tFdmVudCh0cmFjaywgbWVkaWEpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGUgPSBuZXcgd2luZG93LkV2ZW50KCdhZGR0cmFjaycpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvL2ZvciBJRTExXG4gICAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgIGUuaW5pdEV2ZW50KCdhZGR0cmFjaycsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZS50cmFjayA9IHRyYWNrO1xuICAgICAgICBtZWRpYS5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYW5uZWwxID0ge1xuICAgICAgICAnbmV3Q3VlJzogZnVuY3Rpb24gbmV3Q3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgc2NyZWVuKSB7XG4gICAgICAgICAgaWYgKCFzZWxmLnRleHRUcmFjazEpIHtcbiAgICAgICAgICAgIC8vRW5hYmxlIHJldXNlIG9mIGV4aXN0aW5nIHRleHQgdHJhY2suXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdUcmFjazEgPSBzZWxmLmdldEV4aXN0aW5nVHJhY2soJzEnKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdUcmFjazEpIHtcbiAgICAgICAgICAgICAgdmFyIHRleHRUcmFjazEgPSBzZWxmLmNyZWF0ZVRleHRUcmFjaygnY2FwdGlvbnMnLCBzZWxmLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYWJlbCwgc2VsZi5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlKTtcbiAgICAgICAgICAgICAgaWYgKHRleHRUcmFjazEpIHtcbiAgICAgICAgICAgICAgICB0ZXh0VHJhY2sxLnRleHRUcmFjazEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYudGV4dFRyYWNrMSA9IHRleHRUcmFjazE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYudGV4dFRyYWNrMSA9IGV4aXN0aW5nVHJhY2sxO1xuICAgICAgICAgICAgICBjbGVhckN1cnJlbnRDdWVzKHNlbGYudGV4dFRyYWNrMSk7XG5cbiAgICAgICAgICAgICAgc2VuZEFkZFRyYWNrRXZlbnQoc2VsZi50ZXh0VHJhY2sxLCBzZWxmLm1lZGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5hZGRDdWVzKCd0ZXh0VHJhY2sxJywgc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2hhbm5lbDIgPSB7XG4gICAgICAgICduZXdDdWUnOiBmdW5jdGlvbiBuZXdDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pIHtcbiAgICAgICAgICBpZiAoIXNlbGYudGV4dFRyYWNrMikge1xuICAgICAgICAgICAgLy9FbmFibGUgcmV1c2Ugb2YgZXhpc3RpbmcgdGV4dCB0cmFjay5cbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RyYWNrMiA9IHNlbGYuZ2V0RXhpc3RpbmdUcmFjaygnMicpO1xuICAgICAgICAgICAgaWYgKCFleGlzdGluZ1RyYWNrMikge1xuICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrMiA9IHNlbGYuY3JlYXRlVGV4dFRyYWNrKCdjYXB0aW9ucycsIHNlbGYuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsLCBzZWxmLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYW5ndWFnZUNvZGUpO1xuICAgICAgICAgICAgICBpZiAodGV4dFRyYWNrMikge1xuICAgICAgICAgICAgICAgIHRleHRUcmFjazIudGV4dFRyYWNrMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi50ZXh0VHJhY2syID0gdGV4dFRyYWNrMjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi50ZXh0VHJhY2syID0gZXhpc3RpbmdUcmFjazI7XG4gICAgICAgICAgICAgIGNsZWFyQ3VycmVudEN1ZXMoc2VsZi50ZXh0VHJhY2syKTtcblxuICAgICAgICAgICAgICBzZW5kQWRkVHJhY2tFdmVudChzZWxmLnRleHRUcmFjazIsIHNlbGYubWVkaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLmFkZEN1ZXMoJ3RleHRUcmFjazInLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmNlYTYwOFBhcnNlciA9IG5ldyBjZWFfNjA4X3BhcnNlcigwLCBjaGFubmVsMSwgY2hhbm5lbDIpO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmFkZEN1ZXMgPSBmdW5jdGlvbiBhZGRDdWVzKGNoYW5uZWwsIHN0YXJ0VGltZSwgZW5kVGltZSwgc2NyZWVuKSB7XG4gICAgLy8gc2tpcCBjdWVzIHdoaWNoIG92ZXJsYXAgbW9yZSB0aGFuIDUwJSB3aXRoIHByZXZpb3VzbHkgcGFyc2VkIHRpbWUgcmFuZ2VzXG4gICAgdmFyIHJhbmdlcyA9IHRoaXMuY3VlUmFuZ2VzO1xuICAgIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIGN1ZVJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgdmFyIG92ZXJsYXAgPSBpbnRlcnNlY3Rpb24oY3VlUmFuZ2VbMF0sIGN1ZVJhbmdlWzFdLCBzdGFydFRpbWUsIGVuZFRpbWUpO1xuICAgICAgaWYgKG92ZXJsYXAgPj0gMCkge1xuICAgICAgICBjdWVSYW5nZVswXSA9IE1hdGgubWluKGN1ZVJhbmdlWzBdLCBzdGFydFRpbWUpO1xuICAgICAgICBjdWVSYW5nZVsxXSA9IE1hdGgubWF4KGN1ZVJhbmdlWzFdLCBlbmRUaW1lKTtcbiAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKG92ZXJsYXAgLyAoZW5kVGltZSAtIHN0YXJ0VGltZSkgPiAwLjUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtZXJnZWQpIHtcbiAgICAgIHJhbmdlcy5wdXNoKFtzdGFydFRpbWUsIGVuZFRpbWVdKTtcbiAgICB9XG4gICAgdGhpcy5DdWVzLm5ld0N1ZSh0aGlzW2NoYW5uZWxdLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbik7XG4gIH07XG5cbiAgLy8gVHJpZ2dlcmVkIHdoZW4gYW4gaW5pdGlhbCBQVFMgaXMgZm91bmQ7IHVzZWQgZm9yIHN5bmNocm9uaXNhdGlvbiBvZiBXZWJWVFQuXG5cblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSW5pdFB0c0ZvdW5kID0gZnVuY3Rpb24gb25Jbml0UHRzRm91bmQoZGF0YSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmluaXRQVFMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmluaXRQVFMgPSBkYXRhLmluaXRQVFM7XG4gICAgfVxuXG4gICAgLy8gRHVlIHRvIGFzeW5jaHJvbnksIGluaXRpYWwgUFRTIG1heSBhcnJpdmUgbGF0ZXIgdGhhbiB0aGUgZmlyc3QgVlRUIGZyYWdtZW50cyBhcmUgbG9hZGVkLlxuICAgIC8vIFBhcnNlIGFueSB1bnBhcnNlZCBmcmFnbWVudHMgdXBvbiByZWNlaXZpbmcgdGhlIGluaXRpYWwgUFRTLlxuICAgIGlmICh0aGlzLnVucGFyc2VkVnR0RnJhZ3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MuZm9yRWFjaChmdW5jdGlvbiAoZnJhZykge1xuICAgICAgICBfdGhpczIub25GcmFnTG9hZGVkKGZyYWcpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgPSBbXTtcbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5nZXRFeGlzdGluZ1RyYWNrID0gZnVuY3Rpb24gZ2V0RXhpc3RpbmdUcmFjayhjaGFubmVsTnVtYmVyKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVkaWEudGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1tpXTtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gJ3RleHRUcmFjaycgKyBjaGFubmVsTnVtYmVyO1xuICAgICAgICBpZiAodGV4dFRyYWNrW3Byb3BOYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiB0ZXh0VHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5jcmVhdGVUZXh0VHJhY2sgPSBmdW5jdGlvbiBjcmVhdGVUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmcpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgcmV0dXJuIG1lZGlhLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZyk7XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgY2xlYXJDdXJyZW50Q3Vlcyh0aGlzLnRleHRUcmFjazEpO1xuICAgIGNsZWFyQ3VycmVudEN1ZXModGhpcy50ZXh0VHJhY2syKTtcbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy5sYXN0U24gPSAtMTsgLy8gRGV0ZWN0IGRpc2NvbnRpZ3VpdHkgaW4gZnJhZ21lbnQgcGFyc2luZ1xuICAgIHRoaXMucHJldkNDID0gLTE7XG4gICAgdGhpcy52dHRDQ3MgPSB7IGNjT2Zmc2V0OiAwLCBwcmVzZW50YXRpb25PZmZzZXQ6IDAgfTsgLy8gRGV0ZWN0IGRpc2NvbnRpbnVpdHkgaW4gc3VidGl0bGUgbWFuaWZlc3RzXG5cbiAgICAvLyBjbGVhciBvdXRkYXRlZCBzdWJ0aXRsZXNcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgdmFyIHRleHRUcmFja3MgPSBtZWRpYS50ZXh0VHJhY2tzO1xuICAgICAgaWYgKHRleHRUcmFja3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2xlYXJDdXJyZW50Q3Vlcyh0ZXh0VHJhY2tzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHRoaXMudGV4dFRyYWNrcyA9IFtdO1xuICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncyA9IHRoaXMudW5wYXJzZWRWdHRGcmFncyB8fCBbXTtcbiAgICB0aGlzLmluaXRQVFMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdWVSYW5nZXMgPSBbXTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVXZWJWVFQpIHtcbiAgICAgIHRoaXMudHJhY2tzID0gZGF0YS5zdWJ0aXRsZXMgfHwgW107XG4gICAgICB2YXIgaW5Vc2VUcmFja3MgPSB0aGlzLm1lZGlhID8gdGhpcy5tZWRpYS50ZXh0VHJhY2tzIDogW107XG5cbiAgICAgIHRoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrLCBpbmRleCkge1xuICAgICAgICB2YXIgdGV4dFRyYWNrID0gdm9pZCAwO1xuICAgICAgICBpZiAoaW5kZXggPCBpblVzZVRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgaW5Vc2VUcmFjayA9IGluVXNlVHJhY2tzW2luZGV4XTtcbiAgICAgICAgICAvLyBSZXVzZSB0cmFja3Mgd2l0aCB0aGUgc2FtZSBsYWJlbCwgYnV0IGRvIG5vdCByZXVzZSA2MDgvNzA4IHRyYWNrc1xuICAgICAgICAgIGlmIChyZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCB0cmFjaykpIHtcbiAgICAgICAgICAgIHRleHRUcmFjayA9IGluVXNlVHJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4dFRyYWNrKSB7XG4gICAgICAgICAgdGV4dFRyYWNrID0gX3RoaXMzLmNyZWF0ZVRleHRUcmFjaygnc3VidGl0bGVzJywgdHJhY2submFtZSwgdHJhY2subGFuZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dFRyYWNrLm1vZGUgPSB0cmFjay5kZWZhdWx0ID8gJ3Nob3dpbmcnIDogJ2hpZGRlbic7XG4gICAgICAgIF90aGlzMy50ZXh0VHJhY2tzLnB1c2godGV4dFRyYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxTd2l0Y2hpbmcgPSBmdW5jdGlvbiBvbkxldmVsU3dpdGNoaW5nKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRoaXMuaGxzLmN1cnJlbnRMZXZlbC5jbG9zZWRDYXB0aW9ucyAhPT0gJ05PTkUnO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZyxcbiAgICAgICAgcGF5bG9hZCA9IGRhdGEucGF5bG9hZDtcbiAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicpIHtcbiAgICAgIHZhciBzbiA9IGZyYWcuc247XG4gICAgICAvLyBpZiB0aGlzIGZyYWcgaXNuJ3QgY29udGlndW91cywgY2xlYXIgdGhlIHBhcnNlciBzbyBjdWVzIHdpdGggYmFkIHN0YXJ0L2VuZCB0aW1lcyBhcmVuJ3QgYWRkZWQgdG8gdGhlIHRleHRUcmFja1xuICAgICAgaWYgKHNuICE9PSB0aGlzLmxhc3RTbiArIDEpIHtcbiAgICAgICAgdmFyIGNlYTYwOFBhcnNlciA9IHRoaXMuY2VhNjA4UGFyc2VyO1xuICAgICAgICBpZiAoY2VhNjA4UGFyc2VyKSB7XG4gICAgICAgICAgY2VhNjA4UGFyc2VyLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFNuID0gc247XG4gICAgfVxuICAgIC8vIElmIGZyYWdtZW50IGlzIHN1YnRpdGxlIHR5cGUsIHBhcnNlIGFzIFdlYlZUVC5cbiAgICBlbHNlIGlmIChmcmFnLnR5cGUgPT09ICdzdWJ0aXRsZScpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgIC8vIFdlIG5lZWQgYW4gaW5pdGlhbCBzeW5jaHJvbmlzYXRpb24gUFRTLiBTdG9yZSBmcmFnbWVudHMgYXMgbG9uZyBhcyBub25lIGhhcyBhcnJpdmVkLlxuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbml0UFRTID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2dHRDQ3MgPSB0aGlzLnZ0dENDcztcbiAgICAgICAgICBpZiAoIXZ0dENDc1tmcmFnLmNjXSkge1xuICAgICAgICAgICAgdnR0Q0NzW2ZyYWcuY2NdID0geyBzdGFydDogZnJhZy5zdGFydCwgcHJldkNDOiB0aGlzLnByZXZDQywgbmV3OiB0cnVlIH07XG4gICAgICAgICAgICB0aGlzLnByZXZDQyA9IGZyYWcuY2M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB0ZXh0VHJhY2tzID0gdGhpcy50ZXh0VHJhY2tzLFxuICAgICAgICAgICAgICBobHMgPSB0aGlzLmhscztcblxuICAgICAgICAgIC8vIFBhcnNlIHRoZSBXZWJWVFQgZmlsZSBjb250ZW50cy5cbiAgICAgICAgICB3ZWJ2dHRfcGFyc2VyLnBhcnNlKHBheWxvYWQsIHRoaXMuaW5pdFBUUywgdnR0Q0NzLCBmcmFnLmNjLCBmdW5jdGlvbiAoY3Vlcykge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUcmFjayA9IHRleHRUcmFja3NbZnJhZy50cmFja0lkXTtcbiAgICAgICAgICAgIC8vIEFkZCBjdWVzIGFuZCB0cmlnZ2VyIGV2ZW50IHdpdGggc3VjY2VzcyB0cnVlLlxuICAgICAgICAgICAgY3Vlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdWUpIHtcbiAgICAgICAgICAgICAgLy8gU29tZXRpbWVzIHRoZXJlIGFyZSBjdWUgb3ZlcmxhcHMgb24gc2VnbWVudGVkIHZ0dHMgc28gdGhlIHNhbWVcbiAgICAgICAgICAgICAgLy8gY3VlIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgaW4gZGlmZmVyZW50IHZ0dCBmaWxlcy5cbiAgICAgICAgICAgICAgLy8gVGhpcyBhdm9pZCBzaG93aW5nIGR1cGxpY2F0ZWQgY3VlcyB3aXRoIHNhbWUgdGltZWNvZGUgYW5kIHRleHQuXG4gICAgICAgICAgICAgIGlmICghY3VycmVudFRyYWNrLmN1ZXMuZ2V0Q3VlQnlJZChjdWUuaWQpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tDdWUgPSBuZXcgd2luZG93LlRleHRUcmFja0N1ZShjdWUuc3RhcnRUaW1lLCBjdWUuZW5kVGltZSwgY3VlLnRleHQpO1xuICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gY3VlLmlkO1xuICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZSh0ZXh0VHJhY2tDdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogdHJ1ZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgcGFyc2luZy4gVHJpZ2dlciBldmVudCB3aXRoIHN1Y2Nlc3MgZmFsc2UuXG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0ZhaWxlZCB0byBwYXJzZSBWVFQgY3VlOiAnICsgZSk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSW4gY2FzZSB0aGVyZSBpcyBubyBwYXlsb2FkLCBmaW5pc2ggdW5zdWNjZXNzZnVsbHkuXG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdVc2VyZGF0YSA9IGZ1bmN0aW9uIG9uRnJhZ1BhcnNpbmdVc2VyZGF0YShkYXRhKSB7XG4gICAgLy8gcHVzaCBhbGwgb2YgdGhlIENFQS03MDggbWVzc2FnZXMgaW50byB0aGUgaW50ZXJwcmV0ZXJcbiAgICAvLyBpbW1lZGlhdGVseS4gSXQgd2lsbCBjcmVhdGUgdGhlIHByb3BlciB0aW1lc3RhbXBzIGJhc2VkIG9uIG91ciBQVFMgdmFsdWVcbiAgICBpZiAodGhpcy5lbmFibGVkICYmIHRoaXMuY29uZmlnLmVuYWJsZUNFQTcwOENhcHRpb25zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2NkYXRhcyA9IHRoaXMuZXh0cmFjdENlYTYwOERhdGEoZGF0YS5zYW1wbGVzW2ldLmJ5dGVzKTtcbiAgICAgICAgdGhpcy5jZWE2MDhQYXJzZXIuYWRkRGF0YShkYXRhLnNhbXBsZXNbaV0ucHRzLCBjY2RhdGFzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5leHRyYWN0Q2VhNjA4RGF0YSA9IGZ1bmN0aW9uIGV4dHJhY3RDZWE2MDhEYXRhKGJ5dGVBcnJheSkge1xuICAgIHZhciBjb3VudCA9IGJ5dGVBcnJheVswXSAmIDMxO1xuICAgIHZhciBwb3NpdGlvbiA9IDI7XG4gICAgdmFyIHRtcEJ5dGUsIGNjYnl0ZTEsIGNjYnl0ZTIsIGNjVmFsaWQsIGNjVHlwZTtcbiAgICB2YXIgYWN0dWFsQ0NCeXRlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICB0bXBCeXRlID0gYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgY2NieXRlMSA9IDB4N0YgJiBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICBjY2J5dGUyID0gMHg3RiAmIGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgIGNjVmFsaWQgPSAoNCAmIHRtcEJ5dGUpICE9PSAwO1xuICAgICAgY2NUeXBlID0gMyAmIHRtcEJ5dGU7XG5cbiAgICAgIGlmIChjY2J5dGUxID09PSAwICYmIGNjYnl0ZTIgPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjY1ZhbGlkKSB7XG4gICAgICAgIGlmIChjY1R5cGUgPT09IDApIC8vIHx8IGNjVHlwZSA9PT0gMVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdHVhbENDQnl0ZXMucHVzaChjY2J5dGUxKTtcbiAgICAgICAgICAgIGFjdHVhbENDQnl0ZXMucHVzaChjY2J5dGUyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3R1YWxDQ0J5dGVzO1xuICB9O1xuXG4gIHJldHVybiBUaW1lbGluZUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0aW1lbGluZV9jb250cm9sbGVyID0gKHRpbWVsaW5lX2NvbnRyb2xsZXJfVGltZWxpbmVDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtdHJhY2stY29udHJvbGxlci5qc1xudmFyIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBzdWJ0aXRsZSB0cmFjayBjb250cm9sbGVyXG4qL1xuXG5cblxuXG5cbmZ1bmN0aW9uIGZpbHRlclN1YnRpdGxlVHJhY2tzKHRleHRUcmFja0xpc3QpIHtcbiAgdmFyIHRyYWNrcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGV4dFRyYWNrTGlzdFtpXS5raW5kID09PSAnc3VidGl0bGVzJykge1xuICAgICAgdHJhY2tzLnB1c2godGV4dFRyYWNrTGlzdFtpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cmFja3M7XG59XG5cbnZhciBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX1N1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoU3VidGl0bGVUcmFja0NvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURFRCkpO1xuXG4gICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgX3RoaXMudHJhY2tJZCA9IC0xO1xuICAgIF90aGlzLm1lZGlhID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fb25UZXh0VHJhY2tzQ2hhbmdlZCA9IGZ1bmN0aW9uIF9vblRleHRUcmFja3NDaGFuZ2VkKCkge1xuICAgIC8vIE1lZGlhIGlzIHVuZGVmaW5lZCB3aGVuIHN3aXRjaGluZyBzdHJlYW1zIHZpYSBsb2FkU291cmNlKClcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdHJhY2tJZCA9IC0xO1xuICAgIHZhciB0cmFja3MgPSBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyh0aGlzLm1lZGlhLnRleHRUcmFja3MpO1xuICAgIGZvciAodmFyIGlkID0gMDsgaWQgPCB0cmFja3MubGVuZ3RoOyBpZCsrKSB7XG4gICAgICBpZiAodHJhY2tzW2lkXS5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldHRpbmcgY3VycmVudCBzdWJ0aXRsZVRyYWNrIHdpbGwgaW52b2tlIGNvZGUuXG4gICAgdGhpcy5zdWJ0aXRsZVRyYWNrID0gdHJhY2tJZDtcbiAgfTtcblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3Igc3VidGl0bGUgdHJhY2sgY2hhbmdlLCB0aGVuIGV4dHJhY3QgdGhlIGN1cnJlbnQgdHJhY2sgSUQuXG5cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gb25NZWRpYUF0dGFjaGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX29uVGV4dFRyYWNrc0NoYW5nZWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMudXNlVGV4dFRyYWNrUG9sbGluZyA9ICEodGhpcy5tZWRpYS50ZXh0VHJhY2tzICYmICdvbmNoYW5nZScgaW4gdGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICBpZiAodGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICB0aGlzLnN1YnRpdGxlUG9sbGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudHJhY2tDaGFuZ2VMaXN0ZW5lcigpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYS50ZXh0VHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lcik7XG4gICAgfVxuICB9O1xuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudXNlVGV4dFRyYWNrUG9sbGluZykge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN1YnRpdGxlUG9sbGluZ0ludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYS50ZXh0VHJhY2tzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYSA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvLyBSZXNldCBzdWJ0aXRsZSB0cmFja3Mgb24gbWFuaWZlc3QgbG9hZGluZ1xuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgfTtcblxuICAvLyBGaXJlZCB3aGVuZXZlciBhIG5ldyBtYW5pZmVzdCBpcyBsb2FkZWQuXG5cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHRyYWNrcyA9IGRhdGEuc3VidGl0bGVzIHx8IFtdO1xuICAgIHZhciBkZWZhdWx0Rm91bmQgPSBmYWxzZTtcbiAgICB0aGlzLnRyYWNrcyA9IHRyYWNrcztcbiAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCwgeyBzdWJ0aXRsZVRyYWNrczogdHJhY2tzIH0pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIGF2YWlsYWJsZSBzdWJ0aXRsZSB0cmFja3MgYW5kIGF1dG9zZWxlY3QgZGVmYXVsdCBpZiBuZWVkZWRcbiAgICAvLyBUT0RPOiBpbXByb3ZlIHNlbGVjdGlvbiBsb2dpYyB0byBoYW5kbGUgZm9yY2VkLCBldGNcbiAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIGlmICh0cmFjay5kZWZhdWx0KSB7XG4gICAgICAgIF90aGlzMy5zdWJ0aXRsZVRyYWNrID0gdHJhY2suaWQ7XG4gICAgICAgIGRlZmF1bHRGb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVHJpZ2dlciBzdWJ0aXRsZSB0cmFjayBwbGF5bGlzdCByZWxvYWQuXG5cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25UaWNrID0gZnVuY3Rpb24gb25UaWNrKCkge1xuICAgIHZhciB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF07XG4gICAgaWYgKCFzdWJ0aXRsZVRyYWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRldGFpbHMgPSBzdWJ0aXRsZVRyYWNrLmRldGFpbHM7XG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgaWYgKGRldGFpbHMgPT09IHVuZGVmaW5lZCB8fCBkZXRhaWxzLmxpdmUgPT09IHRydWUpIHtcbiAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnKHJlKWxvYWRpbmcgcGxheWxpc3QgZm9yIHN1YnRpdGxlIHRyYWNrICcgKyB0cmFja0lkKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IHRyYWNrSWQgfSk7XG4gICAgfVxuICB9O1xuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGRhdGEuaWQgPCB0aGlzLnRyYWNrcy5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3VidGl0bGUgdHJhY2sgJyArIGRhdGEuaWQgKyAnIGxvYWRlZCcpO1xuICAgICAgdGhpcy50cmFja3NbZGF0YS5pZF0uZGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0XG4gICAgICBpZiAoZGF0YS5kZXRhaWxzLmxpdmUgJiYgIXRoaXMudGltZXIpIHtcbiAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAvLyBzZXQgcmVsb2FkIHBlcmlvZCB0byBwbGF5bGlzdCB0YXJnZXQgZHVyYXRpb25cbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQub25UaWNrKCk7XG4gICAgICAgIH0sIDEwMDAgKiBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24sIHRoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLnRpbWVyKSB7XG4gICAgICAgIC8vIHBsYXlsaXN0IGlzIG5vdCBsaXZlIGFuZCB0aW1lciBpcyBhcm1lZCA6IHN0b3BwaW5nIGl0XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKiogZ2V0IGFsdGVybmF0ZSBzdWJ0aXRsZSB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0ICoqL1xuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLnNldFN1YnRpdGxlVHJhY2tJbnRlcm5hbCA9IGZ1bmN0aW9uIHNldFN1YnRpdGxlVHJhY2tJbnRlcm5hbChuZXdJZCkge1xuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdJZCA+PSAwICYmIG5ld0lkIDwgdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFja0lkID0gbmV3SWQ7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyB0byBzdWJ0aXRsZSB0cmFjayAnICsgbmV3SWQpO1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2sgPSB0aGlzLnRyYWNrc1tuZXdJZF07XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19TV0lUQ0gsIHsgaWQ6IG5ld0lkIH0pO1xuICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgICB2YXIgZGV0YWlscyA9IHN1YnRpdGxlVHJhY2suZGV0YWlscztcbiAgICAgIGlmIChkZXRhaWxzID09PSB1bmRlZmluZWQgfHwgZGV0YWlscy5saXZlID09PSB0cnVlKSB7XG4gICAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCcocmUpbG9hZGluZyBwbGF5bGlzdCBmb3Igc3VidGl0bGUgdHJhY2sgJyArIG5ld0lkKTtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BRElORywgeyB1cmw6IHN1YnRpdGxlVHJhY2sudXJsLCBpZDogbmV3SWQgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ3N1YnRpdGxlVHJhY2tzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrcztcbiAgICB9XG5cbiAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gICAgfVxuXG4gICAgLyoqIHNlbGVjdCBhIHN1YnRpdGxlIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMqKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICBpZiAodGhpcy50cmFja0lkICE9PSBzdWJ0aXRsZVRyYWNrSWQpIHtcbiAgICAgICAgLy8gfHwgdGhpcy50cmFja3Nbc3VidGl0bGVUcmFja0lkXS5kZXRhaWxzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwoc3VidGl0bGVUcmFja0lkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyID0gKHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfU3VidGl0bGVUcmFja0NvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlci5qc1xuZnVuY3Rpb24gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogU3VidGl0bGUgU3RyZWFtIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxudmFyIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX1N1YnRpdGxlU3RyZWFtQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyhTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcihobHMpIHtcbiAgICBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfU1dJVENILCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQpKTtcblxuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMudnR0RnJhZ1NOc1Byb2Nlc3NlZCA9IHt9O1xuICAgIF90aGlzLnZ0dEZyYWdRdWV1ZXMgPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IG51bGw7XG4gICAgX3RoaXMuY3VycmVudFRyYWNrSWQgPSAtMTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvLyBSZW1vdmUgYWxsIHF1ZXVlZCBpdGVtcyBhbmQgY3JlYXRlIGEgbmV3LCBlbXB0eSBxdWV1ZSBmb3IgZWFjaCB0cmFjay5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuY2xlYXJWdHRGcmFnUXVldWVzID0gZnVuY3Rpb24gY2xlYXJWdHRGcmFnUXVldWVzKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy52dHRGcmFnUXVldWVzID0ge307XG4gICAgdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIF90aGlzMi52dHRGcmFnUXVldWVzW3RyYWNrLmlkXSA9IFtdO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIElmIG5vIGZyYWcgaXMgYmVpbmcgcHJvY2Vzc2VkIGFuZCBxdWV1ZSBpc24ndCBlbXB0eSwgaW5pdGlhdGUgcHJvY2Vzc2luZyBvZiBuZXh0IGZyYWcgaW4gbGluZS5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUubmV4dEZyYWcgPSBmdW5jdGlvbiBuZXh0RnJhZygpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nID09PSBudWxsICYmIHRoaXMuY3VycmVudFRyYWNrSWQgPiAtMSAmJiB0aGlzLnZ0dEZyYWdRdWV1ZXNbdGhpcy5jdXJyZW50VHJhY2tJZF0ubGVuZ3RoKSB7XG4gICAgICB2YXIgZnJhZyA9IHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IHRoaXMudnR0RnJhZ1F1ZXVlc1t0aGlzLmN1cnJlbnRUcmFja0lkXS5zaGlmdCgpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFdoZW4gZnJhZ21lbnQgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcsIGFkZCBzbiB0byBsaXN0IG9mIGNvbXBsZXRlZCBpZiBzdWNjZXNzZnVsLlxuXG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVGcmFnUHJvY2Vzc2VkKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICB0aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWRbZGF0YS5mcmFnLnRyYWNrSWRdLnB1c2goZGF0YS5mcmFnLnNuKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nID0gbnVsbDtcbiAgICB0aGlzLm5leHRGcmFnKCk7XG4gIH07XG5cbiAgLy8gSWYgc29tZXRoaW5nIGdvZXMgd3JvbmcsIHByb2NlZGUgdG8gbmV4dCBmcmFnLCBpZiB3ZSB3ZXJlIHByb2Nlc3Npbmcgb25lLlxuXG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gc3VidGl0bGUgZnJhZ21lbnRcbiAgICBpZiAoZnJhZyAmJiBmcmFnLnR5cGUgIT09ICdzdWJ0aXRsZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZykge1xuICAgICAgdGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nID0gbnVsbDtcbiAgICAgIHRoaXMubmV4dEZyYWcoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gR290IGFsbCBuZXcgc3VidGl0bGUgdHJhY2tzLlxuXG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tzVXBkYXRlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVUcmFja3NVcGRhdGVkKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3VidGl0bGUgdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVUcmFja3M7XG4gICAgdGhpcy5jbGVhclZ0dEZyYWdRdWV1ZXMoKTtcbiAgICB0aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWQgPSB7fTtcbiAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgX3RoaXMzLnZ0dEZyYWdTTnNQcm9jZXNzZWRbdHJhY2suaWRdID0gW107XG4gICAgfSk7XG4gIH07XG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tTd2l0Y2ggPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tTd2l0Y2goZGF0YSkge1xuICAgIHRoaXMuY3VycmVudFRyYWNrSWQgPSBkYXRhLmlkO1xuICAgIHRoaXMuY2xlYXJWdHRGcmFnUXVldWVzKCk7XG4gIH07XG5cbiAgLy8gR290IGEgbmV3IHNldCBvZiBzdWJ0aXRsZSBmcmFnbWVudHMuXG5cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVUcmFja0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIHByb2Nlc3NlZEZyYWdTTnMgPSB0aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWRbZGF0YS5pZF0sXG4gICAgICAgIGZyYWdRdWV1ZSA9IHRoaXMudnR0RnJhZ1F1ZXVlc1tkYXRhLmlkXSxcbiAgICAgICAgY3VycmVudEZyYWdTTiA9ICEhdGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nID8gdGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nLnNuIDogLTE7XG5cbiAgICB2YXIgYWxyZWFkeVByb2Nlc3NlZCA9IGZ1bmN0aW9uIGFscmVhZHlQcm9jZXNzZWQoZnJhZykge1xuICAgICAgcmV0dXJuIHByb2Nlc3NlZEZyYWdTTnMuaW5kZXhPZihmcmFnLnNuKSA+IC0xO1xuICAgIH07XG5cbiAgICB2YXIgYWxyZWFkeUluUXVldWUgPSBmdW5jdGlvbiBhbHJlYWR5SW5RdWV1ZShmcmFnKSB7XG4gICAgICByZXR1cm4gZnJhZ1F1ZXVlLnNvbWUoZnVuY3Rpb24gKGZyYWdJblF1ZXVlKSB7XG4gICAgICAgIHJldHVybiBmcmFnSW5RdWV1ZS5zbiA9PT0gZnJhZy5zbjtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYWxsIGZyYWdtZW50cyB0aGF0IGhhdmVuJ3QgYmVlbiwgYXJlbid0IGN1cnJlbnRseSBiZWluZyBhbmQgYXJlbid0IHdhaXRpbmcgdG8gYmUgcHJvY2Vzc2VkLCB0byBxdWV1ZS5cbiAgICBkYXRhLmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgIGlmICghKGFscmVhZHlQcm9jZXNzZWQoZnJhZykgfHwgZnJhZy5zbiA9PT0gY3VycmVudEZyYWdTTiB8fCBhbHJlYWR5SW5RdWV1ZShmcmFnKSkpIHtcbiAgICAgICAgLy8gRnJhZ3MgZG9uJ3Qga25vdyB0aGVpciBzdWJ0aXRsZSB0cmFjayBJRCwgc28gbGV0J3MganVzdCBhZGQgdGhhdC4uLlxuICAgICAgICBmcmFnLnRyYWNrSWQgPSBkYXRhLmlkO1xuICAgICAgICBmcmFnUXVldWUucHVzaChmcmFnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMubmV4dEZyYWcoKTtcbiAgfTtcblxuICByZXR1cm4gU3VidGl0bGVTdHJlYW1Db250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXIgPSAoc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3VidGl0bGVTdHJlYW1Db250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbmZpZy5qc1xuLyoqXG4gKiBITFMgY29uZmlnXG4gKi9cblxuXG5cblxuXG5cbi8vaW1wb3J0IEZldGNoTG9hZGVyIGZyb20gJy4vdXRpbHMvZmV0Y2gtbG9hZGVyJztcblxuXG5cblxuXG5cblxuXG5cbnZhciBobHNEZWZhdWx0Q29uZmlnID0ge1xuICBhdXRvU3RhcnRMb2FkOiB0cnVlLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIHN0YXJ0UG9zaXRpb246IC0xLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGRlZmF1bHRBdWRpb0NvZGVjOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgZGVidWc6IGZhbHNlLCAvLyB1c2VkIGJ5IGxvZ2dlclxuICBjYXBMZXZlbE9uRlBTRHJvcDogZmFsc2UsIC8vIHVzZWQgYnkgZnBzLWNvbnRyb2xsZXJcbiAgY2FwTGV2ZWxUb1BsYXllclNpemU6IGZhbHNlLCAvLyB1c2VkIGJ5IGNhcC1sZXZlbC1jb250cm9sbGVyXG4gIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplOiAxLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heEJ1ZmZlckxlbmd0aDogMzAsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4QnVmZmVyU2l6ZTogNjAgKiAxMDAwICogMTAwMCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhCdWZmZXJIb2xlOiAwLjUsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4U2Vla0hvbGU6IDIsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbG93QnVmZmVyV2F0Y2hkb2dQZXJpb2Q6IDAuNSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBoaWdoQnVmZmVyV2F0Y2hkb2dQZXJpb2Q6IDMsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbnVkZ2VPZmZzZXQ6IDAuMSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBudWRnZU1heFJldHJ5OiAzLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heEZyYWdMb29rVXBUb2xlcmFuY2U6IDAuMiwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBsaXZlU3luY0R1cmF0aW9uQ291bnQ6IDMsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50OiBJbmZpbml0eSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBsaXZlU3luY0R1cmF0aW9uOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbjogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heE1heEJ1ZmZlckxlbmd0aDogNjAwLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGVuYWJsZVdvcmtlcjogdHJ1ZSwgLy8gdXNlZCBieSBkZW11eGVyXG4gIGVuYWJsZVNvZnR3YXJlQUVTOiB0cnVlLCAvLyB1c2VkIGJ5IGRlY3J5cHRlclxuICBtYW5pZmVzdExvYWRpbmdUaW1lT3V0OiAxMDAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnk6IDEsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIG1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5VGltZW91dDogNjQwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIHN0YXJ0TGV2ZWw6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBsZXZlbC1jb250cm9sbGVyXG4gIGxldmVsTG9hZGluZ1RpbWVPdXQ6IDEwMDAwLCAvLyB1c2VkIGJ5IHBsYXlsaXN0LWxvYWRlclxuICBsZXZlbExvYWRpbmdNYXhSZXRyeTogNCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbGV2ZWxMb2FkaW5nUmV0cnlEZWxheTogMTAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbGV2ZWxMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdUaW1lT3V0OiAyMDAwMCwgLy8gdXNlZCBieSBmcmFnbWVudC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdNYXhSZXRyeTogNiwgLy8gdXNlZCBieSBmcmFnbWVudC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdSZXRyeURlbGF5OiAxMDAwLCAvLyB1c2VkIGJ5IGZyYWdtZW50LWxvYWRlclxuICBmcmFnTG9hZGluZ01heFJldHJ5VGltZW91dDogNjQwMDAsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIGZyYWdMb2FkaW5nTG9vcFRocmVzaG9sZDogMywgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBzdGFydEZyYWdQcmVmZXRjaDogZmFsc2UsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2Q6IDUwMDAsIC8vIHVzZWQgYnkgZnBzLWNvbnRyb2xsZXJcbiAgZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQ6IDAuMiwgLy8gdXNlZCBieSBmcHMtY29udHJvbGxlclxuICBhcHBlbmRFcnJvck1heFJldHJ5OiAzLCAvLyB1c2VkIGJ5IGJ1ZmZlci1jb250cm9sbGVyXG4gIGxvYWRlcjogeGhyX2xvYWRlcixcbiAgLy9sb2FkZXI6IEZldGNoTG9hZGVyLFxuICBmTG9hZGVyOiB1bmRlZmluZWQsXG4gIHBMb2FkZXI6IHVuZGVmaW5lZCxcbiAgeGhyU2V0dXA6IHVuZGVmaW5lZCxcbiAgZmV0Y2hTZXR1cDogdW5kZWZpbmVkLFxuICBhYnJDb250cm9sbGVyOiBhYnJfY29udHJvbGxlcixcbiAgYnVmZmVyQ29udHJvbGxlcjogYnVmZmVyX2NvbnRyb2xsZXIsXG4gIGNhcExldmVsQ29udHJvbGxlcjogY2FwX2xldmVsX2NvbnRyb2xsZXIsXG4gIGZwc0NvbnRyb2xsZXI6IGZwc19jb250cm9sbGVyLFxuICBzdHJldGNoU2hvcnRWaWRlb1RyYWNrOiBmYWxzZSwgLy8gdXNlZCBieSBtcDQtcmVtdXhlclxuICBtYXhBdWRpb0ZyYW1lc0RyaWZ0OiAxLCAvLyB1c2VkIGJ5IG1wNC1yZW11eGVyXG4gIGZvcmNlS2V5RnJhbWVPbkRpc2NvbnRpbnVpdHk6IHRydWUsIC8vIHVzZWQgYnkgdHMtZGVtdXhlclxuICBhYnJFd21hRmFzdExpdmU6IDMsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyRXdtYVNsb3dMaXZlOiA5LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFGYXN0Vm9EOiAzLCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFTbG93Vm9EOiA5LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFEZWZhdWx0RXN0aW1hdGU6IDVlNSwgLy8gNTAwIGticHMgIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyQmFuZFdpZHRoRmFjdG9yOiAwLjk1LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickJhbmRXaWR0aFVwRmFjdG9yOiAwLjcsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgYWJyTWF4V2l0aFJlYWxCaXRyYXRlOiBmYWxzZSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBtYXhTdGFydmF0aW9uRGVsYXk6IDQsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgbWF4TG9hZGluZ0RlbGF5OiA0LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIG1pbkF1dG9CaXRyYXRlOiAwIC8vIHVzZWQgYnkgaGxzXG59O1xuXG5pZiAodHJ1ZSkge1xuICBobHNEZWZhdWx0Q29uZmlnLnN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciA9IHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyO1xuICBobHNEZWZhdWx0Q29uZmlnLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcjtcbiAgaGxzRGVmYXVsdENvbmZpZy50aW1lbGluZUNvbnRyb2xsZXIgPSB0aW1lbGluZV9jb250cm9sbGVyO1xuICBobHNEZWZhdWx0Q29uZmlnLmN1ZUhhbmRsZXIgPSBjdWVzX25hbWVzcGFjZU9iamVjdDtcbiAgaGxzRGVmYXVsdENvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucyA9IHRydWU7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICBobHNEZWZhdWx0Q29uZmlnLmVuYWJsZVdlYlZUVCA9IHRydWU7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICBobHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsID0gJ0VuZ2xpc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYW5ndWFnZUNvZGUgPSAnZW4nOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5jYXB0aW9uc1RleHRUcmFjazJMYWJlbCA9ICdTcGFuaXNoJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gIGhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlID0gJ2VzJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG59XG5cbmlmICh0cnVlKSB7XG4gIGhsc0RlZmF1bHRDb25maWcuYXVkaW9TdHJlYW1Db250cm9sbGVyID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXI7XG4gIGhsc0RlZmF1bHRDb25maWcuYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBhdWRpb190cmFja19jb250cm9sbGVyO1xufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaGxzLmpzXG52YXIgaGxzX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gaGxzX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSExTIGludGVyZmFjZVxuICovXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgaGxzX0hscyA9IGZ1bmN0aW9uICgpIHtcbiAgSGxzLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIG1lZGlhU291cmNlID0gd2luZG93Lk1lZGlhU291cmNlID0gd2luZG93Lk1lZGlhU291cmNlIHx8IHdpbmRvdy5XZWJLaXRNZWRpYVNvdXJjZTtcbiAgICB2YXIgc291cmNlQnVmZmVyID0gd2luZG93LlNvdXJjZUJ1ZmZlciA9IHdpbmRvdy5Tb3VyY2VCdWZmZXIgfHwgd2luZG93LldlYktpdFNvdXJjZUJ1ZmZlcjtcbiAgICB2YXIgaXNUeXBlU3VwcG9ydGVkID0gbWVkaWFTb3VyY2UgJiYgdHlwZW9mIG1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCA9PT0gJ2Z1bmN0aW9uJyAmJiBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUUsbXA0YS40MC4yXCInKTtcblxuICAgIC8vIGlmIFNvdXJjZUJ1ZmZlciBpcyBleHBvc2VkIGVuc3VyZSBpdHMgQVBJIGlzIHZhbGlkXG4gICAgLy8gc2FmYXJpIGFuZCBvbGQgdmVyc2lvbiBvZiBDaHJvbWUgZG9lIG5vdCBleHBvc2UgU291cmNlQnVmZmVyIGdsb2JhbGx5IHNvIGNoZWNraW5nIFNvdXJjZUJ1ZmZlci5wcm90b3R5cGUgaXMgaW1wb3NzaWJsZVxuICAgIHZhciBzb3VyY2VCdWZmZXJWYWxpZEFQSSA9ICFzb3VyY2VCdWZmZXIgfHwgc291cmNlQnVmZmVyLnByb3RvdHlwZSAmJiB0eXBlb2Ygc291cmNlQnVmZmVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUucmVtb3ZlID09PSAnZnVuY3Rpb24nO1xuICAgIHJldHVybiBpc1R5cGVTdXBwb3J0ZWQgJiYgc291cmNlQnVmZmVyVmFsaWRBUEk7XG4gIH07XG5cbiAgaGxzX19jcmVhdGVDbGFzcyhIbHMsIG51bGwsIFt7XG4gICAga2V5OiAndmVyc2lvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCIwLjguNFwiO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0V2ZW50cycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0Vycm9yVHlwZXMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFcnJvckRldGFpbHMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ0RlZmF1bHRDb25maWcnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCFIbHMuZGVmYXVsdENvbmZpZykge1xuICAgICAgICByZXR1cm4gaGxzRGVmYXVsdENvbmZpZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBIbHMuZGVmYXVsdENvbmZpZztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGRlZmF1bHRDb25maWcpIHtcbiAgICAgIEhscy5kZWZhdWx0Q29uZmlnID0gZGVmYXVsdENvbmZpZztcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBIbHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgaGxzX19jbGFzc0NhbGxDaGVjayh0aGlzLCBIbHMpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSBIbHMuRGVmYXVsdENvbmZpZztcblxuICAgIGlmICgoY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCB8fCBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50KSAmJiAoY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gfHwgY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogZG9uXFwndCBtaXggdXAgbGl2ZVN5bmNEdXJhdGlvbkNvdW50L2xpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCBhbmQgbGl2ZVN5bmNEdXJhdGlvbi9saXZlTWF4TGF0ZW5jeUR1cmF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0Q29uZmlnKSB7XG4gICAgICBpZiAocHJvcCBpbiBjb25maWcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25maWdbcHJvcF0gPSBkZWZhdWx0Q29uZmlnW3Byb3BdO1xuICAgIH1cblxuICAgIGlmIChjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCA8PSBjb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogXCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnRcIiBtdXN0IGJlIGd0IFwibGl2ZVN5bmNEdXJhdGlvbkNvdW50XCInKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gIT09IHVuZGVmaW5lZCAmJiAoY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gPD0gY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gfHwgY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiBcImxpdmVNYXhMYXRlbmN5RHVyYXRpb25cIiBtdXN0IGJlIGd0IFwibGl2ZVN5bmNEdXJhdGlvblwiJyk7XG4gICAgfVxuXG4gICAgT2JqZWN0KGxvZ2dlcltcImFcIiAvKiBlbmFibGVMb2dzICovXSkoY29uZmlnLmRlYnVnKTtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gLTE7XG4gICAgLy8gb2JzZXJ2ZXIgc2V0dXBcbiAgICB2YXIgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyID0gbmV3IGV2ZW50c19kZWZhdWx0LmEoKTtcbiAgICBvYnNlcnZlci50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGRhdGFbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBvYnNlcnZlci5lbWl0LmFwcGx5KG9ic2VydmVyLCBbZXZlbnQsIGV2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG5cbiAgICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgZGF0YVtfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgb2JzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuICAgIHRoaXMub24gPSBvYnNlcnZlci5vbi5iaW5kKG9ic2VydmVyKTtcbiAgICB0aGlzLm9mZiA9IG9ic2VydmVyLm9mZi5iaW5kKG9ic2VydmVyKTtcbiAgICB0aGlzLnRyaWdnZXIgPSBvYnNlcnZlci50cmlnZ2VyLmJpbmQob2JzZXJ2ZXIpO1xuXG4gICAgLy8gY29yZSBjb250cm9sbGVycyBhbmQgbmV0d29yayBsb2FkZXJzXG4gICAgdmFyIGFickNvbnRyb2xsZXIgPSB0aGlzLmFickNvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmFickNvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIGJ1ZmZlckNvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmJ1ZmZlckNvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIGNhcExldmVsQ29udHJvbGxlciA9IG5ldyBjb25maWcuY2FwTGV2ZWxDb250cm9sbGVyKHRoaXMpO1xuICAgIHZhciBmcHNDb250cm9sbGVyID0gbmV3IGNvbmZpZy5mcHNDb250cm9sbGVyKHRoaXMpO1xuICAgIHZhciBwbGF5TGlzdExvYWRlciA9IG5ldyBwbGF5bGlzdF9sb2FkZXIodGhpcyk7XG4gICAgdmFyIGZyYWdtZW50TG9hZGVyID0gbmV3IGZyYWdtZW50X2xvYWRlcih0aGlzKTtcbiAgICB2YXIga2V5TG9hZGVyID0gbmV3IGtleV9sb2FkZXIodGhpcyk7XG4gICAgdmFyIGlkM1RyYWNrQ29udHJvbGxlciA9IG5ldyBpZDNfdHJhY2tfY29udHJvbGxlcih0aGlzKTtcblxuICAgIC8vIG5ldHdvcmsgY29udHJvbGxlcnNcbiAgICB2YXIgbGV2ZWxDb250cm9sbGVyID0gdGhpcy5sZXZlbENvbnRyb2xsZXIgPSBuZXcgbGV2ZWxfY29udHJvbGxlcih0aGlzKTtcbiAgICB2YXIgc3RyZWFtQ29udHJvbGxlciA9IHRoaXMuc3RyZWFtQ29udHJvbGxlciA9IG5ldyBzdHJlYW1fY29udHJvbGxlcih0aGlzKTtcbiAgICB2YXIgbmV0d29ya0NvbnRyb2xsZXJzID0gW2xldmVsQ29udHJvbGxlciwgc3RyZWFtQ29udHJvbGxlcl07XG5cbiAgICAvLyBvcHRpb25hbCBhdWRpbyBzdHJlYW0gY29udHJvbGxlclxuICAgIHZhciBDb250cm9sbGVyID0gY29uZmlnLmF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbiAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgbmV0d29ya0NvbnRyb2xsZXJzLnB1c2gobmV3IENvbnRyb2xsZXIodGhpcykpO1xuICAgIH1cbiAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycyA9IG5ldHdvcmtDb250cm9sbGVycztcblxuICAgIHZhciBjb3JlQ29tcG9uZW50cyA9IFtwbGF5TGlzdExvYWRlciwgZnJhZ21lbnRMb2FkZXIsIGtleUxvYWRlciwgYWJyQ29udHJvbGxlciwgYnVmZmVyQ29udHJvbGxlciwgY2FwTGV2ZWxDb250cm9sbGVyLCBmcHNDb250cm9sbGVyLCBpZDNUcmFja0NvbnRyb2xsZXJdO1xuXG4gICAgLy8gb3B0aW9uYWwgYXVkaW8gdHJhY2sgYW5kIHN1YnRpdGxlIGNvbnRyb2xsZXJcbiAgICBDb250cm9sbGVyID0gY29uZmlnLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcbiAgICAgIHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBhdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgIGNvcmVDb21wb25lbnRzLnB1c2goYXVkaW9UcmFja0NvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIENvbnRyb2xsZXIgPSBjb25maWcuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKHRoaXMpO1xuICAgICAgdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgICAgY29yZUNvbXBvbmVudHMucHVzaChzdWJ0aXRsZVRyYWNrQ29udHJvbGxlcik7XG4gICAgfVxuXG4gICAgLy8gb3B0aW9uYWwgc3VidGl0bGUgY29udHJvbGxlclxuICAgIFtjb25maWcuc3VidGl0bGVTdHJlYW1Db250cm9sbGVyLCBjb25maWcudGltZWxpbmVDb250cm9sbGVyXS5mb3JFYWNoKGZ1bmN0aW9uIChDb250cm9sbGVyKSB7XG4gICAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKG5ldyBDb250cm9sbGVyKF90aGlzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jb3JlQ29tcG9uZW50cyA9IGNvcmVDb21wb25lbnRzO1xuICB9XG5cbiAgSGxzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2Rlc3Ryb3knKTtcbiAgICB0aGlzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkRFU1RST1lJTkcpO1xuICAgIHRoaXMuZGV0YWNoTWVkaWEoKTtcbiAgICB0aGlzLmNvcmVDb21wb25lbnRzLmNvbmNhdCh0aGlzLm5ldHdvcmtDb250cm9sbGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICB0aGlzLm9ic2VydmVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSAtMTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLmF0dGFjaE1lZGlhID0gZnVuY3Rpb24gYXR0YWNoTWVkaWEobWVkaWEpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F0dGFjaE1lZGlhJyk7XG4gICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HLCB7IG1lZGlhOiBtZWRpYSB9KTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLmRldGFjaE1lZGlhID0gZnVuY3Rpb24gZGV0YWNoTWVkaWEoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkZXRhY2hNZWRpYScpO1xuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HKTtcbiAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKHVybCkge1xuICAgIHVybCA9IHVybF90b29sa2l0X2RlZmF1bHQuYS5idWlsZEFic29sdXRlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCB1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbG9hZFNvdXJjZTonICsgdXJsKTtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvLyB3aGVuIGF0dGFjaGluZyB0byBhIHNvdXJjZSBVUkwsIHRyaWdnZXIgYSBwbGF5bGlzdCBsb2FkXG4gICAgdGhpcy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCB7IHVybDogdXJsIH0pO1xuICB9O1xuXG4gIEhscy5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gc3RhcnRMb2FkKCkge1xuICAgIHZhciBzdGFydFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAtMTtcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3RhcnRMb2FkKCcgKyBzdGFydFBvc2l0aW9uICsgJyknKTtcbiAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLnN0YXJ0TG9hZChzdGFydFBvc2l0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLnN0b3BMb2FkID0gZnVuY3Rpb24gc3RvcExvYWQoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzdG9wTG9hZCcpO1xuICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuc3RvcExvYWQoKTtcbiAgICB9KTtcbiAgfTtcblxuICBIbHMucHJvdG90eXBlLnN3YXBBdWRpb0NvZGVjID0gZnVuY3Rpb24gc3dhcEF1ZGlvQ29kZWMoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2FwQXVkaW9Db2RlYycpO1xuICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5zd2FwQXVkaW9Db2RlYygpO1xuICB9O1xuXG4gIEhscy5wcm90b3R5cGUucmVjb3Zlck1lZGlhRXJyb3IgPSBmdW5jdGlvbiByZWNvdmVyTWVkaWFFcnJvcigpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3JlY292ZXJNZWRpYUVycm9yJyk7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICB0aGlzLmRldGFjaE1lZGlhKCk7XG4gICAgdGhpcy5hdHRhY2hNZWRpYShtZWRpYSk7XG4gIH07XG5cbiAgLyoqIFJldHVybiBhbGwgcXVhbGl0eSBsZXZlbHMgKiovXG5cblxuICBobHNfX2NyZWF0ZUNsYXNzKEhscywgW3tcbiAgICBrZXk6ICdsZXZlbHMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLmxldmVscztcbiAgICB9XG5cbiAgICAvKiogUmV0dXJuIGN1cnJlbnQgcGxheWJhY2sgcXVhbGl0eSBsZXZlbCAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnY3VycmVudExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuY3VycmVudExldmVsO1xuICAgIH1cblxuICAgIC8qIHNldCBxdWFsaXR5IGxldmVsIGltbWVkaWF0ZWx5ICgtMSBmb3IgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbikgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IGN1cnJlbnRMZXZlbDonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5sb2FkTGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5pbW1lZGlhdGVMZXZlbFN3aXRjaCgpO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gbmV4dCBwbGF5YmFjayBxdWFsaXR5IGxldmVsIChxdWFsaXR5IGxldmVsIG9mIG5leHQgZnJhZ21lbnQpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICduZXh0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWw7XG4gICAgfVxuXG4gICAgLyogc2V0IHF1YWxpdHkgbGV2ZWwgZm9yIG5leHQgZnJhZ21lbnQgKC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uKSAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgbmV4dExldmVsOicgKyBuZXdMZXZlbCk7XG4gICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLm5leHRMZXZlbFN3aXRjaCgpO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gdGhlIHF1YWxpdHkgbGV2ZWwgb2YgY3VycmVudC9sYXN0IGxvYWRlZCBmcmFnbWVudCAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9hZExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbDtcbiAgICB9XG5cbiAgICAvKiBzZXQgcXVhbGl0eSBsZXZlbCBmb3IgY3VycmVudC9uZXh0IGxvYWRlZCBmcmFnbWVudCAoLTEgZm9yIGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24pICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBsb2FkTGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID0gbmV3TGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiB0aGUgcXVhbGl0eSBsZXZlbCBvZiBuZXh0IGxvYWRlZCBmcmFnbWVudCAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnbmV4dExvYWRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbDtcbiAgICB9XG5cbiAgICAvKiogc2V0IHF1YWxpdHkgbGV2ZWwgb2YgbmV4dCBsb2FkZWQgZnJhZ21lbnQgKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGxldmVsKSB7XG4gICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5uZXh0TG9hZExldmVsID0gbGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBmaXJzdCBsZXZlbCAoaW5kZXggb2YgZmlyc3QgbGV2ZWwgcmVmZXJlbmNlZCBpbiBtYW5pZmVzdClcbiAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmlyc3RMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5sZXZlbENvbnRyb2xsZXIuZmlyc3RMZXZlbCwgdGhpcy5taW5BdXRvTGV2ZWwpO1xuICAgIH1cblxuICAgIC8qKiBzZXQgZmlyc3QgbGV2ZWwgKGluZGV4IG9mIGZpcnN0IGxldmVsIHJlZmVyZW5jZWQgaW4gbWFuaWZlc3QpXG4gICAgKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBmaXJzdExldmVsOicgKyBuZXdMZXZlbCk7XG4gICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5maXJzdExldmVsID0gbmV3TGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBzdGFydCBsZXZlbCAobGV2ZWwgb2YgZmlyc3QgZnJhZ21lbnQgdGhhdCB3aWxsIGJlIHBsYXllZCBiYWNrKVxuICAgICAgICBpZiBub3Qgb3ZlcnJpZGVkIGJ5IHVzZXIsIGZpcnN0IGxldmVsIGFwcGVhcmluZyBpbiBtYW5pZmVzdCB3aWxsIGJlIHVzZWQgYXMgc3RhcnQgbGV2ZWxcbiAgICAgICAgaWYgLTEgOiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgc2VsZWN0aW9uLCBwbGF5YmFjayB3aWxsIHN0YXJ0IGZyb20gbGV2ZWwgbWF0Y2hpbmcgZG93bmxvYWQgYmFuZHdpZHRoIChkZXRlcm1pbmVkIGZyb20gZG93bmxvYWQgb2YgZmlyc3Qgc2VnbWVudClcbiAgICAqKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RhcnRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIuc3RhcnRMZXZlbDtcbiAgICB9XG5cbiAgICAvKiogc2V0ICBzdGFydCBsZXZlbCAobGV2ZWwgb2YgZmlyc3QgZnJhZ21lbnQgdGhhdCB3aWxsIGJlIHBsYXllZCBiYWNrKVxuICAgICAgICBpZiBub3Qgb3ZlcnJpZGVkIGJ5IHVzZXIsIGZpcnN0IGxldmVsIGFwcGVhcmluZyBpbiBtYW5pZmVzdCB3aWxsIGJlIHVzZWQgYXMgc3RhcnQgbGV2ZWxcbiAgICAgICAgaWYgLTEgOiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgc2VsZWN0aW9uLCBwbGF5YmFjayB3aWxsIHN0YXJ0IGZyb20gbGV2ZWwgbWF0Y2hpbmcgZG93bmxvYWQgYmFuZHdpZHRoIChkZXRlcm1pbmVkIGZyb20gZG93bmxvYWQgb2YgZmlyc3Qgc2VnbWVudClcbiAgICAqKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IHN0YXJ0TGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgLy8gaWYgbm90IGluIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBkZXRlY3Rpb24sIGVuc3VyZSBzdGFydExldmVsIGlzIGdyZWF0ZXIgdGhhbiBtaW5BdXRvTGV2ZWxcbiAgICAgIGlmIChuZXdMZXZlbCAhPT0gLTEpIHtcbiAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1heChuZXdMZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCk7XG4gICAgICB9XG4gICAgICBobHMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB9XG5cbiAgICAvKiogUmV0dXJuIHRoZSBjYXBwaW5nL21heCBsZXZlbCB2YWx1ZSB0aGF0IGNvdWxkIGJlIHVzZWQgYnkgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBhbGdvcml0aG0gKiovXG5cbiAgfSwge1xuICAgIGtleTogJ2F1dG9MZXZlbENhcHBpbmcnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2F1dG9MZXZlbENhcHBpbmc7XG4gICAgfVxuXG4gICAgLyoqIHNldCB0aGUgY2FwcGluZy9tYXggbGV2ZWwgdmFsdWUgdGhhdCBjb3VsZCBiZSB1c2VkIGJ5IGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24gYWxnb3JpdGhtICoqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgYXV0b0xldmVsQ2FwcGluZzonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5fYXV0b0xldmVsQ2FwcGluZyA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qIGNoZWNrIGlmIHdlIGFyZSBpbiBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uIG1vZGUgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXV0b0xldmVsRW5hYmxlZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPT09IC0xO1xuICAgIH1cblxuICAgIC8qIHJldHVybiBtYW51YWwgbGV2ZWwgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbWFudWFsTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsO1xuICAgIH1cblxuICAgIC8qIHJldHVybiBtaW4gbGV2ZWwgc2VsZWN0YWJsZSBpbiBhdXRvIG1vZGUgYWNjb3JkaW5nIHRvIGNvbmZpZy5taW5BdXRvQml0cmF0ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtaW5BdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhscyA9IHRoaXMsXG4gICAgICAgICAgbGV2ZWxzID0gaGxzLmxldmVscyxcbiAgICAgICAgICBtaW5BdXRvQml0cmF0ZSA9IGhscy5jb25maWcubWluQXV0b0JpdHJhdGUsXG4gICAgICAgICAgbGVuID0gbGV2ZWxzID8gbGV2ZWxzLmxlbmd0aCA6IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBsZXZlbE5leHRCaXRyYXRlID0gbGV2ZWxzW2ldLnJlYWxCaXRyYXRlID8gTWF0aC5tYXgobGV2ZWxzW2ldLnJlYWxCaXRyYXRlLCBsZXZlbHNbaV0uYml0cmF0ZSkgOiBsZXZlbHNbaV0uYml0cmF0ZTtcbiAgICAgICAgaWYgKGxldmVsTmV4dEJpdHJhdGUgPiBtaW5BdXRvQml0cmF0ZSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKiByZXR1cm4gbWF4IGxldmVsIHNlbGVjdGFibGUgaW4gYXV0byBtb2RlIGFjY29yZGluZyB0byBhdXRvTGV2ZWxDYXBwaW5nICovXG5cbiAgfSwge1xuICAgIGtleTogJ21heEF1dG9MZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzO1xuICAgICAgdmFyIGF1dG9MZXZlbENhcHBpbmcgPSBobHMuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgIHZhciBtYXhBdXRvTGV2ZWwgPSB2b2lkIDA7XG4gICAgICBpZiAoYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgJiYgbGV2ZWxzICYmIGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgbWF4QXV0b0xldmVsID0gbGV2ZWxzLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhBdXRvTGV2ZWwgPSBhdXRvTGV2ZWxDYXBwaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1heEF1dG9MZXZlbDtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gbmV4dCBhdXRvIGxldmVsXG5cbiAgfSwge1xuICAgIGtleTogJ25leHRBdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhscyA9IHRoaXM7XG4gICAgICAvLyBlbnN1cmUgbmV4dCBhdXRvIGxldmVsIGlzIGJldHdlZW4gIG1pbiBhbmQgbWF4IGF1dG8gbGV2ZWxcbiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChobHMuYWJyQ29udHJvbGxlci5uZXh0QXV0b0xldmVsLCBobHMubWluQXV0b0xldmVsKSwgaGxzLm1heEF1dG9MZXZlbCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBzZXR0ZXIgaXMgdXNlZCB0byBmb3JjZSBuZXh0IGF1dG8gbGV2ZWxcbiAgICAvLyB0aGlzIGlzIHVzZWZ1bCB0byBmb3JjZSBhIHN3aXRjaCBkb3duIGluIGF1dG8gbW9kZSA6IGluIGNhc2Ugb2YgbG9hZCBlcnJvciBvbiBsZXZlbCBOLCBobHMuanMgY2FuIHNldCBuZXh0QXV0b0xldmVsIHRvIE4tMSBmb3IgZXhhbXBsZSlcbiAgICAvLyBmb3JjZWQgdmFsdWUgaXMgdmFsaWQgZm9yIG9uZSBmcmFnbWVudC4gdXBvbiBzdWNjZXNmdWwgZnJhZyBsb2FkaW5nIGF0IGZvcmNlZCBsZXZlbCwgdGhpcyB2YWx1ZSB3aWxsIGJlIHJlc2V0dGVkIHRvIC0xIGJ5IEFCUiBjb250cm9sbGVyXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5leHRMZXZlbCkge1xuICAgICAgdmFyIGhscyA9IHRoaXM7XG4gICAgICBobHMuYWJyQ29udHJvbGxlci5uZXh0QXV0b0xldmVsID0gTWF0aC5tYXgoaGxzLm1pbkF1dG9MZXZlbCwgbmV4dExldmVsKTtcbiAgICB9XG5cbiAgICAvKiogZ2V0IGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0ICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdWRpb1RyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSB0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgcmV0dXJuIGF1ZGlvVHJhY2tDb250cm9sbGVyID8gYXVkaW9UcmFja0NvbnRyb2xsZXIuYXVkaW9UcmFja3MgOiBbXTtcbiAgICB9XG5cbiAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBhdWRpbyB0cmFjayAoaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHMpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdWRpb1RyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrIDogLTE7XG4gICAgfVxuXG4gICAgLyoqIHNlbGVjdCBhbiBhdWRpbyB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzKiovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGF1ZGlvVHJhY2tJZCkge1xuICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgIGlmIChhdWRpb1RyYWNrQ29udHJvbGxlcikge1xuICAgICAgICBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrID0gYXVkaW9UcmFja0lkO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xpdmVTeW5jUG9zaXRpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5saXZlU3luY1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKiBnZXQgYWx0ZXJuYXRlIHN1YnRpdGxlIHRyYWNrcyBsaXN0IGZyb20gcGxheWxpc3QgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ3N1YnRpdGxlVHJhY2tzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrcyA6IFtdO1xuICAgIH1cblxuICAgIC8qKiBnZXQgaW5kZXggb2YgdGhlIHNlbGVjdGVkIHN1YnRpdGxlIHRyYWNrIChpbmRleCBpbiBzdWJ0aXRsZSB0cmFjayBsaXN0cykgKiovXG5cbiAgfSwge1xuICAgIGtleTogJ3N1YnRpdGxlVHJhY2snLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA/IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnN1YnRpdGxlVHJhY2sgOiAtMTtcbiAgICB9XG5cbiAgICAvKiogc2VsZWN0IGFuIHN1YnRpdGxlIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMqKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICB2YXIgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgICAgaWYgKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKSB7XG4gICAgICAgIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnN1YnRpdGxlVHJhY2sgPSBzdWJ0aXRsZVRyYWNrSWQ7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhscztcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3JjX2hscyA9IF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGhsc19IbHMpO1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gd2VicGFja0Jvb3RzdHJhcEZ1bmMgKG1vZHVsZXMpIHtcbi8qKioqKiovICAvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyAgdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyAgICAvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovICAgIGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gICAgICByZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gICAgLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovICAgIHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovICAgICAgaTogbW9kdWxlSWQsXG4vKioqKioqLyAgICAgIGw6IGZhbHNlLFxuLyoqKioqKi8gICAgICBleHBvcnRzOiB7fVxuLyoqKioqKi8gICAgfTtcblxuLyoqKioqKi8gICAgLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyAgICBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gICAgLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gICAgbW9kdWxlLmwgPSB0cnVlO1xuXG4vKioqKioqLyAgICAvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gIH1cblxuLyoqKioqKi8gIC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gIC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gIC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbi8qKioqKiovICAvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovICAgIGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyAgICAgICAgZ2V0OiBnZXR0ZXJcbi8qKioqKiovICAgICAgfSk7XG4vKioqKioqLyAgICB9XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovICAgIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovICAgIHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuLyoqKioqKi8gIC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbi8qKioqKiovICAvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiAgdmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IEVOVFJZX01PRFVMRSlcbiAgcmV0dXJuIGYuZGVmYXVsdCB8fCBmIC8vIHRyeSB0byBjYWxsIGRlZmF1bHQgaWYgZGVmaW5lZCB0byBhbHNvIHN1cHBvcnQgYmFiZWwgZXNtb2R1bGUgZXhwb3J0c1xufVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNTkzNjYxLzEzMDQ0MlxuZnVuY3Rpb24gcXVvdGVSZWdFeHAgKHN0cikge1xuICByZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9bLj8qK14kW1xcXVxcXFwoKXt9fC1dL2csICdcXFxcJCYnKVxufVxuXG5mdW5jdGlvbiBnZXRNb2R1bGVEZXBlbmRlbmNpZXMgKG1vZHVsZSkge1xuICB2YXIgcmV0dmFsID0gW11cbiAgdmFyIGZuU3RyaW5nID0gbW9kdWxlLnRvU3RyaW5nKClcbiAgdmFyIHdyYXBwZXJTaWduYXR1cmUgPSBmblN0cmluZy5tYXRjaCgvXmZ1bmN0aW9uXFxzP1xcKFxcdyssXFxzKlxcdyssXFxzKihcXHcrKVxcKS8pXG4gIGlmICghd3JhcHBlclNpZ25hdHVyZSkgcmV0dXJuIHJldHZhbFxuXG4gIHZhciB3ZWJwYWNrUmVxdWlyZU5hbWUgPSB3cmFwcGVyU2lnbmF0dXJlWzFdXG4gIHZhciByZSA9IG5ldyBSZWdFeHAoJyhcXFxcXFxcXG58XFxcXFcpJyArIHF1b3RlUmVnRXhwKHdlYnBhY2tSZXF1aXJlTmFtZSkgKyAnXFxcXCgoXFwvXFxcXCouKj9cXFxcKlxcLyk/XFxzPy4qPyhbXFxcXC58XFxcXC18XFxcXHd8XFwvfEBdKykuKj9cXFxcKScsICdnJykgLy8gYWRkaXRpb25hbCBjaGFycyB3aGVuIG91dHB1dC5wYXRoaW5mbyBpcyB0cnVlXG4gIHZhciBtYXRjaFxuICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhmblN0cmluZykpKSB7XG4gICAgcmV0dmFsLnB1c2gobWF0Y2hbM10pXG4gIH1cbiAgcmV0dXJuIHJldHZhbFxufVxuXG5mdW5jdGlvbiBnZXRSZXF1aXJlZE1vZHVsZXMgKHNvdXJjZXMsIG1vZHVsZUlkKSB7XG4gIHZhciBtb2R1bGVzUXVldWUgPSBbbW9kdWxlSWRdXG4gIHZhciByZXF1aXJlZE1vZHVsZXMgPSBbXVxuICB2YXIgc2Vlbk1vZHVsZXMgPSB7fVxuXG4gIHdoaWxlIChtb2R1bGVzUXVldWUubGVuZ3RoKSB7XG4gICAgdmFyIG1vZHVsZVRvQ2hlY2sgPSBtb2R1bGVzUXVldWUucG9wKClcbiAgICBpZiAoc2Vlbk1vZHVsZXNbbW9kdWxlVG9DaGVja10gfHwgIXNvdXJjZXNbbW9kdWxlVG9DaGVja10pIGNvbnRpbnVlXG4gICAgc2Vlbk1vZHVsZXNbbW9kdWxlVG9DaGVja10gPSB0cnVlXG4gICAgcmVxdWlyZWRNb2R1bGVzLnB1c2gobW9kdWxlVG9DaGVjaylcbiAgICB2YXIgbmV3TW9kdWxlcyA9IGdldE1vZHVsZURlcGVuZGVuY2llcyhzb3VyY2VzW21vZHVsZVRvQ2hlY2tdKVxuICAgIG1vZHVsZXNRdWV1ZSA9IG1vZHVsZXNRdWV1ZS5jb25jYXQobmV3TW9kdWxlcylcbiAgfVxuXG4gIHJldHVybiByZXF1aXJlZE1vZHVsZXNcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobW9kdWxlSWQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIHNvdXJjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm1cblxuICB2YXIgcmVxdWlyZWRNb2R1bGVzID0gb3B0aW9ucy5hbGwgPyBPYmplY3Qua2V5cyhzb3VyY2VzKSA6IGdldFJlcXVpcmVkTW9kdWxlcyhzb3VyY2VzLCBtb2R1bGVJZClcbiAgdmFyIHNyYyA9ICcoJyArIHdlYnBhY2tCb290c3RyYXBGdW5jLnRvU3RyaW5nKCkucmVwbGFjZSgnRU5UUllfTU9EVUxFJywgSlNPTi5zdHJpbmdpZnkobW9kdWxlSWQpKSArICcpKHsnICsgcmVxdWlyZWRNb2R1bGVzLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICcnICsgSlNPTi5zdHJpbmdpZnkoaWQpICsgJzogJyArIHNvdXJjZXNbaWRdLnRvU3RyaW5nKCkgfSkuam9pbignLCcpICsgJ30pKHNlbGYpOydcblxuICB2YXIgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KVxuICBpZiAob3B0aW9ucy5iYXJlKSB7IHJldHVybiBibG9iIH1cblxuICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMXG5cbiAgdmFyIHdvcmtlclVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgdmFyIHdvcmtlciA9IG5ldyB3aW5kb3cuV29ya2VyKHdvcmtlclVybClcbiAgd29ya2VyLm9iamVjdFVSTCA9IHdvcmtlclVybFxuXG4gIHJldHVybiB3b3JrZXJcbn1cblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZW11eF9kZW11eGVyX2lubGluZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX2xvZ2dlcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ldmVudHNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ldmVudHNfXyk7XG4vKiBkZW11eGVyIHdlYiB3b3JrZXIuXG4gKiAgLSBsaXN0ZW4gdG8gd29ya2VyIG1lc3NhZ2UsIGFuZCB0cmlnZ2VyIERlbXV4ZXJJbmxpbmUgdXBvbiByZWNlcHRpb24gb2YgRnJhZ21lbnRzLlxuICogIC0gcHJvdmlkZXMgTVA0IEJveGVzIGJhY2sgdG8gbWFpbiB0aHJlYWQgdXNpbmcgW3RyYW5zZmVyYWJsZSBvYmplY3RzXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDExLzEyL1RyYW5zZmVyYWJsZS1PYmplY3RzLUxpZ2h0bmluZy1GYXN0KSBpbiBvcmRlciB0byBtaW5pbWl6ZSBtZXNzYWdlIHBhc3Npbmcgb3ZlcmhlYWQuXG4gKi9cblxuXG5cblxuXG5cbnZhciBEZW11eGVyV29ya2VyID0gZnVuY3Rpb24gRGVtdXhlcldvcmtlcihzZWxmKSB7XG4gIC8vIG9ic2VydmVyIHNldHVwXG4gIHZhciBvYnNlcnZlciA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX19fZGVmYXVsdC5hKCk7XG4gIG9ic2VydmVyLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBkYXRhW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBvYnNlcnZlci5lbWl0LmFwcGx5KG9ic2VydmVyLCBbZXZlbnQsIGV2ZW50XS5jb25jYXQoZGF0YSkpO1xuICB9O1xuXG4gIG9ic2VydmVyLm9mZiA9IGZ1bmN0aW9uIG9mZihldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGRhdGFbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgb2JzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgfTtcblxuICB2YXIgZm9yd2FyZE1lc3NhZ2UgPSBmdW5jdGlvbiBmb3J3YXJkTWVzc2FnZShldiwgZGF0YSkge1xuICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBldmVudDogZXYsIGRhdGE6IGRhdGEgfSk7XG4gIH07XG5cbiAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIGRhdGEgPSBldi5kYXRhO1xuICAgIC8vY29uc29sZS5sb2coJ2RlbXV4ZXIgY21kOicgKyBkYXRhLmNtZCk7XG4gICAgc3dpdGNoIChkYXRhLmNtZCkge1xuICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKGRhdGEuY29uZmlnKTtcbiAgICAgICAgc2VsZi5kZW11eGVyID0gbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZGVtdXhfZGVtdXhlcl9pbmxpbmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXShvYnNlcnZlciwgZGF0YS50eXBlU3VwcG9ydGVkLCBjb25maWcsIGRhdGEudmVuZG9yKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19sb2dnZXJfX1tcImFcIiAvKiBlbmFibGVMb2dzICovXSkoY29uZmlnLmRlYnVnID09PSB0cnVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdkZW11eGVyV29ya2VyOiB1bmFibGUgdG8gZW5hYmxlIGxvZ3MnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaWduYWwgZW5kIG9mIHdvcmtlciBpbml0XG4gICAgICAgIGZvcndhcmRNZXNzYWdlKCdpbml0JywgbnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGVtdXgnOlxuICAgICAgICBzZWxmLmRlbXV4ZXIucHVzaChkYXRhLmRhdGEsIGRhdGEuZGVjcnlwdGRhdGEsIGRhdGEuaW5pdFNlZ21lbnQsIGRhdGEuYXVkaW9Db2RlYywgZGF0YS52aWRlb0NvZGVjLCBkYXRhLnRpbWVPZmZzZXQsIGRhdGEuZGlzY29udGludWl0eSwgZGF0YS50cmFja1N3aXRjaCwgZGF0YS5jb250aWd1b3VzLCBkYXRhLmR1cmF0aW9uLCBkYXRhLmFjY3VyYXRlVGltZU9mZnNldCwgZGF0YS5kZWZhdWx0SW5pdFBUUyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcblxuICAvLyBmb3J3YXJkIGV2ZW50cyB0byBtYWluIHRocmVhZFxuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfREVDUllQVEVELCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0VELCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfTUVUQURBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCwgZm9yd2FyZE1lc3NhZ2UpO1xuXG4gIC8vIHNwZWNpYWwgY2FzZSBmb3IgRlJBR19QQVJTSU5HX0RBVEE6IHBhc3MgZGF0YTEvZGF0YTIgYXMgdHJhbnNmZXJhYmxlIG9iamVjdCAobm8gY29weSlcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZnVuY3Rpb24gKGV2LCBkYXRhKSB7XG4gICAgdmFyIHRyYW5zZmVyYWJsZSA9IFtdO1xuICAgIHZhciBtZXNzYWdlID0geyBldmVudDogZXYsIGRhdGE6IGRhdGEgfTtcbiAgICBpZiAoZGF0YS5kYXRhMSkge1xuICAgICAgbWVzc2FnZS5kYXRhMSA9IGRhdGEuZGF0YTEuYnVmZmVyO1xuICAgICAgdHJhbnNmZXJhYmxlLnB1c2goZGF0YS5kYXRhMS5idWZmZXIpO1xuICAgICAgZGVsZXRlIGRhdGEuZGF0YTE7XG4gICAgfVxuICAgIGlmIChkYXRhLmRhdGEyKSB7XG4gICAgICBtZXNzYWdlLmRhdGEyID0gZGF0YS5kYXRhMi5idWZmZXI7XG4gICAgICB0cmFuc2ZlcmFibGUucHVzaChkYXRhLmRhdGEyLmJ1ZmZlcik7XG4gICAgICBkZWxldGUgZGF0YS5kYXRhMjtcbiAgICB9XG4gICAgc2VsZi5wb3N0TWVzc2FnZShtZXNzYWdlLCB0cmFuc2ZlcmFibGUpO1xuICB9KTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoRGVtdXhlcldvcmtlcik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKVtcImRlZmF1bHRcIl07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhscy5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9obHMuanMvZGlzdC9obHMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L2hscy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YgJiYgZ2V0UHJvdG90eXBlT2YoT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICAgICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXldICYmICFLTk9XTl9TVEFUSUNTW2tleV0gJiYgKCFibGFja2xpc3QgfHwgIWJsYWNrbGlzdFtrZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcbiAgICAgICAgICAgICAgICB0cnkgeyAvLyBBdm9pZCBmYWlsdXJlcyBmcm9tIHJlYWQtb25seSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2ludmFyaWFudC9icm93c2VyLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuZXhwb3J0IGRlZmF1bHQgU3ltYm9sO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fU3ltYm9sLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBTeW1ib2wgZnJvbSAnLi9fU3ltYm9sLmpzJztcbmltcG9ydCBnZXRSYXdUYWcgZnJvbSAnLi9fZ2V0UmF3VGFnLmpzJztcbmltcG9ydCBvYmplY3RUb1N0cmluZyBmcm9tICcuL19vYmplY3RUb1N0cmluZy5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlR2V0VGFnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlR2V0VGFnLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuZXhwb3J0IGRlZmF1bHQgZnJlZUdsb2JhbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZnJlZUdsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mcmVlR2xvYmFsLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBvdmVyQXJnIGZyb20gJy4vX292ZXJBcmcuanMnO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0UHJvdG90eXBlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRQcm90b3R5cGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UHJvdG90eXBlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBTeW1ib2wgZnJvbSAnLi9fU3ltYm9sLmpzJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRSYXdUYWc7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFJhd1RhZy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRSYXdUYWcuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vYmplY3RUb1N0cmluZy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vYmplY3RUb1N0cmluZy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3ZlckFyZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlckFyZy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vdmVyQXJnLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBmcmVlR2xvYmFsIGZyb20gJy4vX2ZyZWVHbG9iYWwuanMnO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvb3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3Jvb3QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3RMaWtlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBnZXRQcm90b3R5cGUgZnJvbSAnLi9fZ2V0UHJvdG90eXBlLmpzJztcbmltcG9ydCBpc09iamVjdExpa2UgZnJvbSAnLi9pc09iamVjdExpa2UuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNQbGFpbk9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBNVUkgY29uZmlnIG1vZHVsZVxuICogQG1vZHVsZSBjb25maWdcbiAqL1xuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvKiogVXNlIGRlYnVnIG1vZGUgKi9cbiAgZGVidWc6IHRydWVcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2NvbmZpZy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9jb25maWcuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBNVUkgQ1NTL0pTIGZvcm0gaGVscGVycyBtb2R1bGVcbiAqIEBtb2R1bGUgbGliL2Zvcm1zLnB5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgd3JhcHBlclBhZGRpbmcgPSAxNSwgIC8vIGZyb20gQ1NTXG4gICAgaW5wdXRIZWlnaHQgPSAzMiwgIC8vIGZyb20gQ1NTXG4gICAgcm93SGVpZ2h0ID0gNDIsICAvLyBmcm9tIENTU1xuICAgIG1lbnVQYWRkaW5nID0gODsgIC8vIGZyb20gQ1NTXG5cblxuLyoqXG4gKiBNZW51IHBvc2l0aW9uL3NpemUvc2Nyb2xsIGhlbHBlclxuICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IHdpdGgga2V5cyAnaGVpZ2h0JywgJ3RvcCcsICdzY3JvbGxUb3AnXG4gKi9cbmZ1bmN0aW9uIGdldE1lbnVQb3NpdGlvbmFsQ1NTRm4od3JhcHBlckVsLCBudW1Sb3dzLCBzZWxlY3RlZFJvdykge1xuICB2YXIgdmlld0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgLy8gZGV0ZXJtaW5lICdoZWlnaHQnXG4gIHZhciBoID0gbnVtUm93cyAqIHJvd0hlaWdodCArIDIgKiBtZW51UGFkZGluZyxcbiAgICAgIGhlaWdodCA9IE1hdGgubWluKGgsIHZpZXdIZWlnaHQpO1xuXG4gIC8vIGRldGVybWluZSAndG9wJ1xuICB2YXIgdG9wLCBpbml0VG9wLCBtaW5Ub3AsIG1heFRvcDtcblxuICBpbml0VG9wID0gKG1lbnVQYWRkaW5nICsgcm93SGVpZ2h0KSAtICh3cmFwcGVyUGFkZGluZyArIGlucHV0SGVpZ2h0KTtcbiAgaW5pdFRvcCAtPSBzZWxlY3RlZFJvdyAqIHJvd0hlaWdodDtcblxuICBtaW5Ub3AgPSAtMSAqIHdyYXBwZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gIG1heFRvcCA9ICh2aWV3SGVpZ2h0IC0gaGVpZ2h0KSArIG1pblRvcDtcblxuICB0b3AgPSBNYXRoLm1pbihNYXRoLm1heChpbml0VG9wLCBtaW5Ub3ApLCBtYXhUb3ApO1xuXG4gIC8vIGRldGVybWluZSAnc2Nyb2xsVG9wJ1xuICB2YXIgc2Nyb2xsVG9wID0gMCxcbiAgICAgIHNjcm9sbElkZWFsLFxuICAgICAgc2Nyb2xsTWF4O1xuXG4gIGlmIChoID4gdmlld0hlaWdodCkge1xuICAgIHNjcm9sbElkZWFsID0gKG1lbnVQYWRkaW5nICsgKHNlbGVjdGVkUm93ICsgMSkgKiByb3dIZWlnaHQpIC1cbiAgICAgICgtMSAqIHRvcCArIHdyYXBwZXJQYWRkaW5nICsgaW5wdXRIZWlnaHQpO1xuICAgIHNjcm9sbE1heCA9IG51bVJvd3MgKiByb3dIZWlnaHQgKyAyICogbWVudVBhZGRpbmcgLSBoZWlnaHQ7XG4gICAgc2Nyb2xsVG9wID0gTWF0aC5taW4oc2Nyb2xsSWRlYWwsIHNjcm9sbE1heCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICdoZWlnaHQnOiBoZWlnaHQgKyAncHgnLFxuICAgICd0b3AnOiB0b3AgKyAncHgnLFxuICAgICdzY3JvbGxUb3AnOiBzY3JvbGxUb3BcbiAgfTtcbn1cblxuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRNZW51UG9zaXRpb25hbENTUzogZ2V0TWVudVBvc2l0aW9uYWxDU1NGblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvanMvbGliL2Zvcm1zLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9mb3Jtcy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIE1VSSBDU1MvSlMganFMaXRlIG1vZHVsZVxuICogQG1vZHVsZSBsaWIvanFMaXRlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cbi8qKlxuICogQWRkIGEgY2xhc3MgdG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NDbGFzc2VzIC0gU3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgY2xhc3MgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKCFjc3NDbGFzc2VzIHx8ICFlbGVtZW50LnNldEF0dHJpYnV0ZSkgcmV0dXJuO1xuXG4gIHZhciBleGlzdGluZ0NsYXNzZXMgPSBfZ2V0RXhpc3RpbmdDbGFzc2VzKGVsZW1lbnQpLFxuICAgICAgc3BsaXRDbGFzc2VzID0gY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLFxuICAgICAgY3NzQ2xhc3M7XG5cbiAgZm9yICh2YXIgaT0wOyBpIDwgc3BsaXRDbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY3NzQ2xhc3MgPSBzcGxpdENsYXNzZXNbaV0udHJpbSgpO1xuICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7XG4gICAgICBleGlzdGluZ0NsYXNzZXMgKz0gY3NzQ2xhc3MgKyAnICc7XG4gICAgfVxuICB9XG4gIFxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBleGlzdGluZ0NsYXNzZXMudHJpbSgpKTtcbn1cblxuXG4vKipcbiAqIEdldCBvciBzZXQgQ1NTIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gVGhlIHByb3BlcnR5IG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXSAtIFRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24ganFMaXRlQ3NzKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gIC8vIFJldHVybiBmdWxsIHN0eWxlIG9iamVjdFxuICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIH1cblxuICB2YXIgbmFtZVR5cGUgPSBqcUxpdGVUeXBlKG5hbWUpO1xuXG4gIC8vIFNldCBtdWx0aXBsZSB2YWx1ZXNcbiAgaWYgKG5hbWVUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAodmFyIGtleSBpbiBuYW1lKSBlbGVtZW50LnN0eWxlW19jYW1lbENhc2Uoa2V5KV0gPSBuYW1lW2tleV07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU2V0IGEgc2luZ2xlIHZhbHVlXG4gIGlmIChuYW1lVHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGVsZW1lbnQuc3R5bGVbX2NhbWVsQ2FzZShuYW1lKV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHZhciBzdHlsZU9iaiA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBpc0FycmF5ID0gKGpxTGl0ZVR5cGUobmFtZSkgPT09ICdhcnJheScpO1xuXG4gIC8vIFJlYWQgc2luZ2xlIHZhbHVlXG4gIGlmICghaXNBcnJheSkgcmV0dXJuIF9nZXRDdXJyQ3NzUHJvcChlbGVtZW50LCBuYW1lLCBzdHlsZU9iaik7XG5cbiAgLy8gUmVhZCBtdWx0aXBsZSB2YWx1ZXNcbiAgdmFyIG91dE9iaiA9IHt9LFxuICAgICAga2V5O1xuXG4gIGZvciAodmFyIGk9MDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBuYW1lW2ldO1xuICAgIG91dE9ialtrZXldID0gX2dldEN1cnJDc3NQcm9wKGVsZW1lbnQsIGtleSwgc3R5bGVPYmopO1xuICB9XG5cbiAgcmV0dXJuIG91dE9iajtcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIGVsZW1lbnQgaGFzIGNsYXNzLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGNscyAtIFRoZSBjbGFzcyBuYW1lIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xzKSB7XG4gIGlmICghY2xzIHx8ICFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKF9nZXRFeGlzdGluZ0NsYXNzZXMoZWxlbWVudCkuaW5kZXhPZignICcgKyBjbHMgKyAnICcpID4gLTEpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSB0eXBlIG9mIGEgdmFyaWFibGUuXG4gKiBAcGFyYW0ge30gc29tZXZhciAtIFRoZSBKYXZhU2NyaXB0IHZhcmlhYmxlLlxuICovXG5mdW5jdGlvbiBqcUxpdGVUeXBlKHNvbWV2YXIpIHtcbiAgLy8gaGFuZGxlIHVuZGVmaW5lZFxuICBpZiAoc29tZXZhciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJ3VuZGVmaW5lZCc7XG5cbiAgLy8gaGFuZGxlIG90aGVycyAob2YgdHlwZSBbb2JqZWN0IDxUeXBlPl0pXG4gIHZhciB0eXBlU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNvbWV2YXIpO1xuICBpZiAodHlwZVN0ci5pbmRleE9mKCdbb2JqZWN0ICcpID09PSAwKSB7XG4gICAgcmV0dXJuIHR5cGVTdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTVVJOiBDb3VsZCBub3QgdW5kZXJzdGFuZCB0eXBlOiBcIiArIHR5cGVTdHIpO1xuICB9ICAgIFxufVxuXG5cbi8qKlxuICogQXR0YWNoIGFuIGV2ZW50IGhhbmRsZXIgdG8gYSBET00gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50cyAtIFNwYWNlIHNlcGFyYXRlZCBldmVudCBuYW1lcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlIC0gVXNlIGNhcHR1cmUgZmxhZy5cbiAqL1xuZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgZXZlbnRzLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICB1c2VDYXB0dXJlID0gKHVzZUNhcHR1cmUgPT09IHVuZGVmaW5lZCkgPyBmYWxzZSA6IHVzZUNhcHR1cmU7XG5cbiAgdmFyIGNhY2hlID0gZWxlbWVudC5fbXVpRXZlbnRDYWNoZSA9IGVsZW1lbnQuX211aUV2ZW50Q2FjaGUgfHwge307ICBcblxuICBldmVudHMuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAvLyBhZGQgdG8gRE9NXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG5cbiAgICAvLyBhZGQgdG8gY2FjaGVcbiAgICBjYWNoZVtldmVudF0gPSBjYWNoZVtldmVudF0gfHwgW107XG4gICAgY2FjaGVbZXZlbnRdLnB1c2goW2NhbGxiYWNrLCB1c2VDYXB0dXJlXSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGhhbmRsZXIgZnJvbSBhIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRzIC0gU3BhY2Ugc2VwYXJhdGVkIGV2ZW50IG5hbWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmUgLSBVc2UgY2FwdHVyZSBmbGFnLlxuICovXG5mdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCwgZXZlbnRzLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICB1c2VDYXB0dXJlID0gKHVzZUNhcHR1cmUgPT09IHVuZGVmaW5lZCkgPyBmYWxzZSA6IHVzZUNhcHR1cmU7XG5cbiAgLy8gcmVtb3ZlIGZyb20gY2FjaGVcbiAgdmFyIGNhY2hlID0gZWxlbWVudC5fbXVpRXZlbnRDYWNoZSA9IGVsZW1lbnQuX211aUV2ZW50Q2FjaGUgfHwge30sXG4gICAgICBhcmdzTGlzdCxcbiAgICAgIGFyZ3MsXG4gICAgICBpO1xuXG4gIGV2ZW50cy5zcGxpdCgnICcpLm1hcChmdW5jdGlvbihldmVudCkge1xuICAgIGFyZ3NMaXN0ID0gY2FjaGVbZXZlbnRdIHx8IFtdO1xuXG4gICAgaSA9IGFyZ3NMaXN0Lmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhcmdzID0gYXJnc0xpc3RbaV07XG5cbiAgICAgIC8vIHJlbW92ZSBhbGwgZXZlbnRzIGlmIGNhbGxiYWNrIGlzIHVuZGVmaW5lZFxuICAgICAgaWYgKGNhbGxiYWNrID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoYXJnc1swXSA9PT0gY2FsbGJhY2sgJiYgYXJnc1sxXSA9PT0gdXNlQ2FwdHVyZSkpIHtcblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBjYWNoZVxuICAgICAgICBhcmdzTGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIFxuICAgICAgICAvLyByZW1vdmUgZnJvbSBET01cbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQXR0YWNoIGFuIGV2ZW50IGhhbmRlciB3aGljaCB3aWxsIG9ubHkgZXhlY3V0ZSBvbmNlIHBlciBlbGVtZW50IHBlciBldmVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50cyAtIFNwYWNlIHNlcGFyYXRlZCBldmVudCBuYW1lcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSB1c2VDYXB0dXJlIC0gVXNlIGNhcHR1cmUgZmxhZy5cbiAqL1xuZnVuY3Rpb24ganFMaXRlT25lKGVsZW1lbnQsIGV2ZW50cywgY2FsbGJhY2ssIHVzZUNhcHR1cmUpIHtcbiAgZXZlbnRzLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAganFMaXRlT24oZWxlbWVudCwgZXZlbnQsIGZ1bmN0aW9uIG9uRm4oZXYpIHtcbiAgICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgLy8gcmVtb3ZlIHdyYXBwZXJcbiAgICAgIGpxTGl0ZU9mZihlbGVtZW50LCBldmVudCwgb25GbiwgdXNlQ2FwdHVyZSk7XG4gICAgfSwgdXNlQ2FwdHVyZSk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogR2V0IG9yIHNldCBob3Jpem9udGFsIHNjcm9sbCBwb3NpdGlvblxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGhlIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gW3ZhbHVlXSAtIFRoZSBzY3JvbGwgcG9zaXRpb25cbiAqL1xuZnVuY3Rpb24ganFMaXRlU2Nyb2xsTGVmdChlbGVtZW50LCB2YWx1ZSkge1xuICB2YXIgd2luID0gd2luZG93O1xuXG4gIC8vIGdldFxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChlbGVtZW50ID09PSB3aW4pIHtcbiAgICAgIHZhciBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiAod2luLnBhZ2VYT2Zmc2V0IHx8IGRvY0VsLnNjcm9sbExlZnQpIC0gKGRvY0VsLmNsaWVudExlZnQgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0XG4gIGlmIChlbGVtZW50ID09PSB3aW4pIHdpbi5zY3JvbGxUbyh2YWx1ZSwganFMaXRlU2Nyb2xsVG9wKHdpbikpO1xuICBlbHNlIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IHZhbHVlO1xufVxuXG5cbi8qKlxuICogR2V0IG9yIHNldCB2ZXJ0aWNhbCBzY3JvbGwgcG9zaXRpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIHNjcm9sbCBwb3NpdGlvblxuICovXG5mdW5jdGlvbiBqcUxpdGVTY3JvbGxUb3AoZWxlbWVudCwgdmFsdWUpIHtcbiAgdmFyIHdpbiA9IHdpbmRvdztcblxuICAvLyBnZXRcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gd2luKSB7XG4gICAgICB2YXIgZG9jRWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICByZXR1cm4gKHdpbi5wYWdlWU9mZnNldCB8fCBkb2NFbC5zY3JvbGxUb3ApIC0gKGRvY0VsLmNsaWVudFRvcCB8fCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldFxuICBpZiAoZWxlbWVudCA9PT0gd2luKSB3aW4uc2Nyb2xsVG8oanFMaXRlU2Nyb2xsTGVmdCh3aW4pLCB2YWx1ZSk7XG4gIGVsc2UgZWxlbWVudC5zY3JvbGxUb3AgPSB2YWx1ZTtcbn1cblxuXG4vKipcbiAqIFJldHVybiBvYmplY3QgcmVwcmVzZW50aW5nIHRvcC9sZWZ0IG9mZnNldCBhbmQgZWxlbWVudCBoZWlnaHQvd2lkdGguXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZU9mZnNldChlbGVtZW50KSB7XG4gIHZhciB3aW4gPSB3aW5kb3csXG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIHNjcm9sbFRvcCA9IGpxTGl0ZVNjcm9sbFRvcCh3aW4pLFxuICAgICAgc2Nyb2xsTGVmdCA9IGpxTGl0ZVNjcm9sbExlZnQod2luKTtcblxuICByZXR1cm4ge1xuICAgIHRvcDogcmVjdC50b3AgKyBzY3JvbGxUb3AsXG4gICAgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgIHdpZHRoOiByZWN0LndpZHRoXG4gIH07XG59XG5cblxuLyoqXG4gKiBBdHRhY2ggYSBjYWxsYmFjayB0byB0aGUgRE9NIHJlYWR5IGV2ZW50IGxpc3RlbmVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24ganFMaXRlUmVhZHkoZm4pIHtcbiAgdmFyIGRvbmUgPSBmYWxzZSxcbiAgICAgIHRvcCA9IHRydWUsXG4gICAgICBkb2MgPSBkb2N1bWVudCxcbiAgICAgIHdpbiA9IGRvYy5kZWZhdWx0VmlldyxcbiAgICAgIHJvb3QgPSBkb2MuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgYWRkID0gZG9jLmFkZEV2ZW50TGlzdGVuZXIgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAnYXR0YWNoRXZlbnQnLFxuICAgICAgcmVtID0gZG9jLmFkZEV2ZW50TGlzdGVuZXIgPyAncmVtb3ZlRXZlbnRMaXN0ZW5lcicgOiAnZGV0YWNoRXZlbnQnLFxuICAgICAgcHJlID0gZG9jLmFkZEV2ZW50TGlzdGVuZXIgPyAnJyA6ICdvbic7XG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudHlwZSA9PSAncmVhZHlzdGF0ZWNoYW5nZScgJiYgZG9jLnJlYWR5U3RhdGUgIT0gJ2NvbXBsZXRlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIChlLnR5cGUgPT0gJ2xvYWQnID8gd2luIDogZG9jKVtyZW1dKHByZSArIGUudHlwZSwgaW5pdCwgZmFsc2UpO1xuICAgIGlmICghZG9uZSAmJiAoZG9uZSA9IHRydWUpKSBmbi5jYWxsKHdpbiwgZS50eXBlIHx8IGUpO1xuICB9O1xuXG4gIHZhciBwb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHsgcm9vdC5kb1Njcm9sbCgnbGVmdCcpOyB9IGNhdGNoKGUpIHsgc2V0VGltZW91dChwb2xsLCA1MCk7IHJldHVybjsgfVxuICAgIGluaXQoJ3BvbGwnKTtcbiAgfTtcblxuICBpZiAoZG9jLnJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJykge1xuICAgIGZuLmNhbGwod2luLCAnbGF6eScpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkb2MuY3JlYXRlRXZlbnRPYmplY3QgJiYgcm9vdC5kb1Njcm9sbCkge1xuICAgICAgdHJ5IHsgdG9wID0gIXdpbi5mcmFtZUVsZW1lbnQ7IH0gY2F0Y2goZSkgeyB9XG4gICAgICBpZiAodG9wKSBwb2xsKCk7XG4gICAgfVxuICAgIGRvY1thZGRdKHByZSArICdET01Db250ZW50TG9hZGVkJywgaW5pdCwgZmFsc2UpO1xuICAgIGRvY1thZGRdKHByZSArICdyZWFkeXN0YXRlY2hhbmdlJywgaW5pdCwgZmFsc2UpO1xuICAgIHdpblthZGRdKHByZSArICdsb2FkJywgaW5pdCwgZmFsc2UpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZW1vdmUgY2xhc3NlcyBmcm9tIGEgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NDbGFzc2VzIC0gU3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgY2xhc3MgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKCFjc3NDbGFzc2VzIHx8ICFlbGVtZW50LnNldEF0dHJpYnV0ZSkgcmV0dXJuO1xuXG4gIHZhciBleGlzdGluZ0NsYXNzZXMgPSBfZ2V0RXhpc3RpbmdDbGFzc2VzKGVsZW1lbnQpLFxuICAgICAgc3BsaXRDbGFzc2VzID0gY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLFxuICAgICAgY3NzQ2xhc3M7XG4gIFxuICBmb3IgKHZhciBpPTA7IGkgPCBzcGxpdENsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjc3NDbGFzcyA9IHNwbGl0Q2xhc3Nlc1tpXS50cmltKCk7XG4gICAgd2hpbGUgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA+PSAwKSB7XG4gICAgICBleGlzdGluZ0NsYXNzZXMgPSBleGlzdGluZ0NsYXNzZXMucmVwbGFjZSgnICcgKyBjc3NDbGFzcyArICcgJywgJyAnKTtcbiAgICB9XG4gIH1cblxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBleGlzdGluZ0NsYXNzZXMudHJpbSgpKTtcbn1cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFV0aWxpdGllc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZyxcbiAgICBNT1pfSEFDS19SRUdFWFAgPSAvXm1veihbQS1aXSkvLFxuICAgIEVTQ0FQRV9SRUdFWFAgPSAvKFsuKis/Xj0hOiR7fSgpfFxcW1xcXVxcL1xcXFxdKS9nO1xuXG5cbmZ1bmN0aW9uIF9nZXRFeGlzdGluZ0NsYXNzZXMoZWxlbWVudCkge1xuICB2YXIgY2xhc3NlcyA9IChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykucmVwbGFjZSgvW1xcblxcdF0vZywgJycpO1xuICByZXR1cm4gJyAnICsgY2xhc3NlcyArICcgJztcbn1cblxuXG5mdW5jdGlvbiBfY2FtZWxDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuXG4gICAgcmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCA/IGxldHRlci50b1VwcGVyQ2FzZSgpIDogbGV0dGVyO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCAnTW96JDEnKTtcbn1cblxuXG5mdW5jdGlvbiBfZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoRVNDQVBFX1JFR0VYUCwgXCJcXFxcJDFcIik7XG59XG5cblxuZnVuY3Rpb24gX2dldEN1cnJDc3NQcm9wKGVsZW0sIG5hbWUsIGNvbXB1dGVkKSB7XG4gIHZhciByZXQ7XG5cbiAgLy8gdHJ5IGNvbXB1dGVkIHN0eWxlXG4gIHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG5cbiAgLy8gdHJ5IHN0eWxlIGF0dHJpYnV0ZSAoaWYgZWxlbWVudCBpcyBub3QgYXR0YWNoZWQgdG8gZG9jdW1lbnQpXG4gIGlmIChyZXQgPT09ICcnICYmICFlbGVtLm93bmVyRG9jdW1lbnQpIHJldCA9IGVsZW0uc3R5bGVbX2NhbWVsQ2FzZShuYW1lKV07XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuXG4vKipcbiAqIE1vZHVsZSBBUElcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKiBBZGQgY2xhc3NlcyAqL1xuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG5cbiAgLyoqIEdldCBvciBzZXQgQ1NTIHByb3BlcnRpZXMgKi9cbiAgY3NzOiBqcUxpdGVDc3MsXG5cbiAgLyoqIENoZWNrIGZvciBjbGFzcyAqL1xuICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsXG5cbiAgLyoqIFJlbW92ZSBldmVudCBoYW5kbGVycyAqL1xuICBvZmY6IGpxTGl0ZU9mZixcblxuICAvKiogUmV0dXJuIG9mZnNldCB2YWx1ZXMgKi9cbiAgb2Zmc2V0OiBqcUxpdGVPZmZzZXQsXG5cbiAgLyoqIEFkZCBldmVudCBoYW5kbGVycyAqL1xuICBvbjoganFMaXRlT24sXG5cbiAgLyoqIEFkZCBhbiBleGVjdXRlLW9uY2UgZXZlbnQgaGFuZGxlciAqL1xuICBvbmU6IGpxTGl0ZU9uZSxcblxuICAvKiogRE9NIHJlYWR5IGV2ZW50IGhhbmRsZXIgKi9cbiAgcmVhZHk6IGpxTGl0ZVJlYWR5LFxuXG4gIC8qKiBSZW1vdmUgY2xhc3NlcyAqL1xuICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsXG5cbiAgLyoqIENoZWNrIEphdmFTY3JpcHQgdmFyaWFibGUgaW5zdGFuY2UgdHlwZSAqL1xuICB0eXBlOiBqcUxpdGVUeXBlLFxuXG4gIC8qKiBHZXQgb3Igc2V0IGhvcml6b250YWwgc2Nyb2xsIHBvc2l0aW9uICovXG4gIHNjcm9sbExlZnQ6IGpxTGl0ZVNjcm9sbExlZnQsXG5cbiAgLyoqIEdldCBvciBzZXQgdmVydGljYWwgc2Nyb2xsIHBvc2l0aW9uICovXG4gIHNjcm9sbFRvcDoganFMaXRlU2Nyb2xsVG9wXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvanFMaXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL2pzL2xpYi9qcUxpdGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBNVUkgQ1NTL0pTIHV0aWxpdGllcyBtb2R1bGVcbiAqIEBtb2R1bGUgbGliL3V0aWxcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpLFxuICAgIGpxTGl0ZSA9IHJlcXVpcmUoJy4vanFMaXRlJyksXG4gICAgc2Nyb2xsTG9jayA9IDAsXG4gICAgc2Nyb2xsTG9ja0NscyA9ICdtdWktc2Nyb2xsLWxvY2snLFxuICAgIHNjcm9sbExvY2tQb3MsXG4gICAgc2Nyb2xsU3R5bGVFbCxcbiAgICBzY3JvbGxFdmVudEhhbmRsZXIsXG4gICAgX3Njcm9sbEJhcldpZHRoLFxuICAgIF9zdXBwb3J0c1BvaW50ZXJFdmVudHM7XG5cblxuc2Nyb2xsRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvbiB3aW5kb3cgc2Nyb2xsIGV2ZW50c1xuICBpZiAoIWV2LnRhcmdldC50YWdOYW1lKSBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbn1cblxuXG4vKipcbiAqIExvZ2dpbmcgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gbG9nRm4oKSB7XG4gIHZhciB3aW4gPSB3aW5kb3c7XG4gIFxuICBpZiAoY29uZmlnLmRlYnVnICYmIHR5cGVvZiB3aW4uY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRyeSB7XG4gICAgICB3aW4uY29uc29sZS5sb2cuYXBwbHkod2luLmNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgfSBjYXRjaCAoYSkge1xuICAgICAgdmFyIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgd2luLmNvbnNvbGUubG9nKGUuam9pbihcIlxcblwiKSk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBMb2FkIENTUyB0ZXh0IGluIG5ldyBzdHlsZXNoZWV0XG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCAtIFRoZSBjc3MgdGV4dC5cbiAqL1xuZnVuY3Rpb24gbG9hZFN0eWxlRm4oY3NzVGV4dCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICBoZWFkO1xuICBcbiAgLy8gY29waWVkIGZyb20galF1ZXJ5IFxuICBoZWFkID0gZG9jLmhlYWQgfHxcbiAgICBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSB8fFxuICAgIGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIFxuICB2YXIgZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBlLnR5cGUgPSAndGV4dC9jc3MnO1xuICBcbiAgaWYgKGUuc3R5bGVTaGVldCkgZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3NUZXh0O1xuICBlbHNlIGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzc1RleHQpKTtcbiAgXG4gIC8vIGFkZCB0byBkb2N1bWVudFxuICBoZWFkLmluc2VydEJlZm9yZShlLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICBcbiAgcmV0dXJuIGU7XG59XG5cblxuLyoqXG4gKiBSYWlzZSBhbiBlcnJvclxuICogQHBhcmFtIHtzdHJpbmd9IG1zZyAtIFRoZSBlcnJvciBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiByYWlzZUVycm9yRm4obXNnLCB1c2VDb25zb2xlKSB7XG4gIGlmICh1c2VDb25zb2xlKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykgY29uc29sZS53YXJuKCdNVUkgV2FybmluZzogJyArIG1zZyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNVUk6ICcgKyBtc2cpO1xuICB9XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IENsYXNzbmFtZSBvYmplY3QsIHdpdGggY2xhc3MgYXMga2V5IGFuZCB0cnVlL2ZhbHNlIGFzIHZhbHVlLCB0byBhblxuICogY2xhc3Mgc3RyaW5nLlxuICogQHBhcmFtICB7T2JqZWN0fSBjbGFzc2VzIFRoZSBjbGFzc2VzXG4gKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgY2xhc3Mgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNsYXNzTmFtZXNGbihjbGFzc2VzKSB7XG4gIHZhciBjcyA9ICcnO1xuICBmb3IgKHZhciBpIGluIGNsYXNzZXMpIHtcbiAgICBjcyArPSAoY2xhc3Nlc1tpXSkgPyBpICsgJyAnIDogJyc7XG4gIH1cbiAgcmV0dXJuIGNzLnRyaW0oKTtcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIGNsaWVudCBzdXBwb3J0cyBwb2ludGVyIGV2ZW50cy5cbiAqL1xuZnVuY3Rpb24gc3VwcG9ydHNQb2ludGVyRXZlbnRzRm4oKSB7XG4gIC8vIGNoZWNrIGNhY2hlXG4gIGlmIChfc3VwcG9ydHNQb2ludGVyRXZlbnRzICE9PSB1bmRlZmluZWQpIHJldHVybiBfc3VwcG9ydHNQb2ludGVyRXZlbnRzO1xuICBcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4Jyk7XG4gIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9ICdwb2ludGVyLWV2ZW50czphdXRvJztcbiAgX3N1cHBvcnRzUG9pbnRlckV2ZW50cyA9IChlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPT09ICdhdXRvJyk7XG4gIHJldHVybiBfc3VwcG9ydHNQb2ludGVyRXZlbnRzO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGNhbGxiYWNrIGNsb3N1cmUuXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgb2JqZWN0IGluc3RhbmNlLlxuICogQHBhcmFtIHtTdHJpbmd9IGZ1bmNOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjYWxsYmFja0ZuKGluc3RhbmNlLCBmdW5jTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7aW5zdGFuY2VbZnVuY05hbWVdLmFwcGx5KGluc3RhbmNlLCBhcmd1bWVudHMpO307XG59XG5cblxuLyoqXG4gKiBEaXNwYXRjaCBldmVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUgLSBUaGUgZXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYnViYmxlcz10cnVlIC0gSWYgdHJ1ZSwgZXZlbnQgYnViYmxlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FuY2VsYWJsZT10cnVlID0gSWYgdHJ1ZSwgZXZlbnQgaXMgY2FuY2VsYWJsZVxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSAtIERhdGEgdG8gYWRkIHRvIGV2ZW50IG9iamVjdFxuICovXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50Rm4oZWxlbWVudCwgZXZlbnRUeXBlLCBidWJibGVzLCBjYW5jZWxhYmxlLCBkYXRhKSB7XG4gIHZhciBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyksXG4gICAgICBidWJibGVzID0gKGJ1YmJsZXMgIT09IHVuZGVmaW5lZCkgPyBidWJibGVzIDogdHJ1ZSxcbiAgICAgICBjYW5jZWxhYmxlID0gKGNhbmNlbGFibGUgIT09IHVuZGVmaW5lZCkgPyBjYW5jZWxhYmxlIDogdHJ1ZSxcbiAgICAgICBrO1xuXG4gIGV2LmluaXRFdmVudChldmVudFR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xuICBcbiAgLy8gYWRkIGRhdGEgdG8gZXZlbnQgb2JqZWN0XG4gIGlmIChkYXRhKSBmb3IgKGsgaW4gZGF0YSkgZXZba10gPSBkYXRhW2tdO1xuICBcbiAgLy8gZGlzcGF0Y2hcbiAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldik7XG4gIFxuICByZXR1cm4gZXY7XG59XG5cblxuLyoqXG4gKiBUdXJuIG9uIHdpbmRvdyBzY3JvbGwgbG9jay5cbiAqL1xuZnVuY3Rpb24gZW5hYmxlU2Nyb2xsTG9ja0ZuKCkge1xuICAvLyBpbmNyZW1lbnQgY291bnRlclxuICBzY3JvbGxMb2NrICs9IDE7XG4gIFxuICAvLyBhZGQgbG9ja1xuICBpZiAoc2Nyb2xsTG9jayA9PT0gMSkge1xuICAgIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICAgICAgd2luID0gd2luZG93LFxuICAgICAgICBodG1sRWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICBib2R5RWwgPSBkb2MuYm9keSxcbiAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBnZXRTY3JvbGxCYXJXaWR0aCgpLFxuICAgICAgICBjc3NQcm9wcyxcbiAgICAgICAgY3NzU3RyLFxuICAgICAgICB4O1xuXG4gICAgLy8gZGVmaW5lIHNjcm9sbCBsb2NrIGNsYXNzIGR5bmFtaWNhbGx5XG4gICAgY3NzUHJvcHMgPSBbJ292ZXJmbG93OmhpZGRlbiddO1xuXG4gICAgaWYgKHNjcm9sbEJhcldpZHRoKSB7XG4gICAgICAvLyBzY3JvbGxiYXIteVxuICAgICAgaWYgKGh0bWxFbC5zY3JvbGxIZWlnaHQgPiBodG1sRWwuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHggPSBwYXJzZUludChqcUxpdGUuY3NzKGJvZHlFbCwgJ3BhZGRpbmctcmlnaHQnKSkgKyBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgY3NzUHJvcHMucHVzaCgncGFkZGluZy1yaWdodDonICsgeCArICdweCcpO1xuICAgICAgfVxuICAgIFxuICAgICAgLy8gc2Nyb2xsYmFyLXhcbiAgICAgIGlmIChodG1sRWwuc2Nyb2xsV2lkdGggPiBodG1sRWwuY2xpZW50V2lkdGgpIHtcbiAgICAgICAgeCA9IHBhcnNlSW50KGpxTGl0ZS5jc3MoYm9keUVsLCAncGFkZGluZy1ib3R0b20nKSkgKyBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgY3NzUHJvcHMucHVzaCgncGFkZGluZy1ib3R0b206JyArIHggKyAncHgnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZWZpbmUgY3NzIGNsYXNzIGR5bmFtaWNhbGx5XG4gICAgY3NzU3RyID0gJy4nICsgc2Nyb2xsTG9ja0NscyArICd7JztcbiAgICBjc3NTdHIgKz0gY3NzUHJvcHMuam9pbignICFpbXBvcnRhbnQ7JykgKyAnICFpbXBvcnRhbnQ7fSc7XG4gICAgc2Nyb2xsU3R5bGVFbCA9IGxvYWRTdHlsZUZuKGNzc1N0cik7XG5cbiAgICAvLyBjYW5jZWwgJ3Njcm9sbCcgZXZlbnQgbGlzdGVuZXIgY2FsbGJhY2tzXG4gICAganFMaXRlLm9uKHdpbiwgJ3Njcm9sbCcsIHNjcm9sbEV2ZW50SGFuZGxlciwgdHJ1ZSk7XG5cbiAgICAvLyBhZGQgc2Nyb2xsIGxvY2tcbiAgICBzY3JvbGxMb2NrUG9zID0ge2xlZnQ6IGpxTGl0ZS5zY3JvbGxMZWZ0KHdpbiksIHRvcDoganFMaXRlLnNjcm9sbFRvcCh3aW4pfTtcbiAgICBqcUxpdGUuYWRkQ2xhc3MoYm9keUVsLCBzY3JvbGxMb2NrQ2xzKTtcbiAgfVxufVxuXG5cbi8qKlxuICogVHVybiBvZmYgd2luZG93IHNjcm9sbCBsb2NrLlxuICogQHBhcmFtIHtCb29sZWFufSByZXNldFBvcyAtIFJlc2V0IHNjcm9sbCBwb3NpdGlvbiB0byBvcmlnaW5hbCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZGlzYWJsZVNjcm9sbExvY2tGbihyZXNldFBvcykge1xuICAvLyBpZ25vcmVcbiAgaWYgKHNjcm9sbExvY2sgPT09IDApIHJldHVybjtcblxuICAvLyBkZWNyZW1lbnQgY291bnRlclxuICBzY3JvbGxMb2NrIC09IDE7XG5cbiAgLy8gcmVtb3ZlIGxvY2sgXG4gIGlmIChzY3JvbGxMb2NrID09PSAwKSB7XG4gICAgLy8gcmVtb3ZlIHNjcm9sbCBsb2NrIGFuZCBkZWxldGUgc3R5bGUgZWxlbWVudFxuICAgIGpxTGl0ZS5yZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCBzY3JvbGxMb2NrQ2xzKTtcbiAgICBzY3JvbGxTdHlsZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2Nyb2xsU3R5bGVFbCk7XG5cbiAgICAvLyByZXN0b3JlIHNjcm9sbCBwb3NpdGlvblxuICAgIGlmIChyZXNldFBvcykgd2luZG93LnNjcm9sbFRvKHNjcm9sbExvY2tQb3MubGVmdCwgc2Nyb2xsTG9ja1Bvcy50b3ApO1xuXG4gICAgLy8gcmVzdG9yZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAganFMaXRlLm9mZih3aW5kb3csICdzY3JvbGwnLCBzY3JvbGxFdmVudEhhbmRsZXIsIHRydWUpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIHNjcm9sbCBiYXIgd2lkdGguXG4gKi9cbnZhciBnZXRTY3JvbGxCYXJXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAvLyBjaGVjayBjYWNoZVxuICBpZiAoX3Njcm9sbEJhcldpZHRoICE9PSB1bmRlZmluZWQpIHJldHVybiBfc2Nyb2xsQmFyV2lkdGg7XG4gIFxuICAvLyBjYWxjdWxhdGUgc2Nyb2xsIGJhciB3aWR0aFxuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICBib2R5RWwgPSBkb2MuYm9keSxcbiAgICAgIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGVsLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPVwid2lkdGg6NTBweDtoZWlnaHQ6NTBweDtwb3NpdGlvbjphYnNvbHV0ZTsnICsgXG4gICAgJ2xlZnQ6LTUwcHg7dG9wOi01MHB4O292ZXJmbG93OmF1dG87XCI+PGRpdiBzdHlsZT1cIndpZHRoOjFweDsnICsgXG4gICAgJ2hlaWdodDoxMDBweDtcIj48L2Rpdj48L2Rpdj4nO1xuICBlbCA9IGVsLmZpcnN0Q2hpbGQ7XG4gIGJvZHlFbC5hcHBlbmRDaGlsZChlbCk7XG4gIF9zY3JvbGxCYXJXaWR0aCA9IGVsLm9mZnNldFdpZHRoIC0gZWwuY2xpZW50V2lkdGg7XG4gIGJvZHlFbC5yZW1vdmVDaGlsZChlbCk7XG5cbiAgcmV0dXJuIF9zY3JvbGxCYXJXaWR0aDtcbn1cblxuXG4vKipcbiAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbGVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayBmdW5jdGlvblxuICovXG5mdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbihjYWxsYmFjaykge1xuICB2YXIgZm4gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICBpZiAoZm4pIGZuKGNhbGxiYWNrKTtcbiAgZWxzZSBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbn1cblxuXG4vKipcbiAqIERlZmluZSB0aGUgbW9kdWxlIEFQSVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLyoqIENyZWF0ZSBjYWxsYmFjayBjbG9zdXJlcyAqL1xuICBjYWxsYmFjazogY2FsbGJhY2tGbixcbiAgXG4gIC8qKiBDbGFzc25hbWVzIG9iamVjdCB0byBzdHJpbmcgKi9cbiAgY2xhc3NOYW1lczogY2xhc3NOYW1lc0ZuLFxuXG4gIC8qKiBEaXNhYmxlIHNjcm9sbCBsb2NrICovXG4gIGRpc2FibGVTY3JvbGxMb2NrOiBkaXNhYmxlU2Nyb2xsTG9ja0ZuLFxuXG4gIC8qKiBEaXNwYXRjaCBldmVudCAqL1xuICBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50Rm4sXG4gIFxuICAvKiogRW5hYmxlIHNjcm9sbCBsb2NrICovXG4gIGVuYWJsZVNjcm9sbExvY2s6IGVuYWJsZVNjcm9sbExvY2tGbixcblxuICAvKiogTG9nIG1lc3NhZ2VzIHRvIHRoZSBjb25zb2xlIHdoZW4gZGVidWcgaXMgdHVybmVkIG9uICovXG4gIGxvZzogbG9nRm4sXG5cbiAgLyoqIExvYWQgQ1NTIHRleHQgYXMgbmV3IHN0eWxlc2hlZXQgKi9cbiAgbG9hZFN0eWxlOiBsb2FkU3R5bGVGbixcblxuICAvKiogUmFpc2UgTVVJIGVycm9yICovXG4gIHJhaXNlRXJyb3I6IHJhaXNlRXJyb3JGbixcblxuICAvKiogUmVxdWVzdCBhbmltYXRpb24gZnJhbWUgKi9cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbixcblxuICAvKiogU3VwcG9ydCBQb2ludGVyIEV2ZW50cyBjaGVjayAqL1xuICBzdXBwb3J0c1BvaW50ZXJFdmVudHM6IHN1cHBvcnRzUG9pbnRlckV2ZW50c0ZuXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvdXRpbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9qcy9saWIvdXRpbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgYmFiZWxIZWxwZXJzID0gcmVxdWlyZSgnLi9iYWJlbC1oZWxwZXJzLmpzJyk7XG4vKipcbiAqIE1VSSBSZWFjdCBoZWxwZXJzXG4gKiBAbW9kdWxlIHJlYWN0L19oZWxwZXJzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29udHJvbGxlZE1lc3NhZ2UgPSAnWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCAnICsgJ3dpdGhvdXQgYW4gYE9uQ2hhbmdlYCBoYW5kbGVyLiBQbGVhc2Ugc2VlIFJlYWN0IGRvY3VtZW50YXRpb24gb24gJyArICdjb250cm9sbGVkIGNvbXBvbmVudHMnO1xuXG4vKiogTW9kdWxlIGV4cG9ydCAqL1xubW9kdWxlLmV4cG9ydHMgPSB7IGNvbnRyb2xsZWRNZXNzYWdlOiBjb250cm9sbGVkTWVzc2FnZSB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvX2hlbHBlcnMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvX2hlbHBlcnMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXCJleHBvcnRzXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeShyb290LmJhYmVsSGVscGVycyA9IHt9KTtcbiAgfVxufSkodGhpcywgZnVuY3Rpb24gKGdsb2JhbCkge1xuICB2YXIgYmFiZWxIZWxwZXJzID0gZ2xvYmFsO1xuXG4gIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH07XG5cbiAgYmFiZWxIZWxwZXJzLmNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfTtcbiAgfSgpO1xuXG4gIGJhYmVsSGVscGVycy5leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICBiYWJlbEhlbHBlcnMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgICB9XG5cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH07XG5cbiAgYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlRGVmYXVsdCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgICAgZGVmYXVsdDogb2JqXG4gICAgfTtcbiAgfTtcblxuICBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7XG4gICAgICByZXR1cm4gbmV3T2JqO1xuICAgIH1cbiAgfTtcblxuICBiYWJlbEhlbHBlcnMub2JqZWN0V2l0aG91dFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtpXSA9IG9ialtpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbiAgfTtcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3QvYmFiZWwtaGVscGVycy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9iYWJlbC1oZWxwZXJzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBiYWJlbEhlbHBlcnMgPSByZXF1aXJlKCcuL2JhYmVsLWhlbHBlcnMuanMnKTtcbi8qKlxuICogTVVJIFJlYWN0IGJ1dHRvbiBtb2R1bGVcbiAqIEBtb2R1bGUgcmVhY3QvYnV0dG9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfanFMaXRlID0gcmVxdWlyZSgnLi4vanMvbGliL2pxTGl0ZScpO1xuXG52YXIganFMaXRlID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2pxTGl0ZSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4uL2pzL2xpYi91dGlsJyk7XG5cbnZhciB1dGlsID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWwpO1xuXG5cbnZhciBidG5DbGFzcyA9ICdtdWktYnRuJyxcbiAgICBidG5BdHRycyA9IHsgY29sb3I6IDEsIHZhcmlhbnQ6IDEsIHNpemU6IDEgfTtcblxuLyoqXG4gKiBCdXR0b24gZWxlbWVudFxuICogQGNsYXNzXG4gKi9cblxudmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGJhYmVsSGVscGVycy5pbmhlcml0cyhCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEJ1dHRvbihwcm9wcykge1xuICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBCdXR0b24pO1xuXG4gICAgdmFyIF90aGlzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJ1dHRvbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgcmlwcGxlU3R5bGU6IHt9LFxuICAgICAgcmlwcGxlSXNWaXNpYmxlOiBmYWxzZVxuICAgIH07XG5cbiAgICB2YXIgY2IgPSB1dGlsLmNhbGxiYWNrO1xuICAgIF90aGlzLm9uTW91c2VEb3duQ0IgPSBjYihfdGhpcywgJ29uTW91c2VEb3duJyk7XG4gICAgX3RoaXMub25Nb3VzZVVwQ0IgPSBjYihfdGhpcywgJ29uTW91c2VVcCcpO1xuICAgIF90aGlzLm9uTW91c2VMZWF2ZUNCID0gY2IoX3RoaXMsICdvbk1vdXNlTGVhdmUnKTtcbiAgICBfdGhpcy5vblRvdWNoU3RhcnRDQiA9IGNiKF90aGlzLCAnb25Ub3VjaFN0YXJ0Jyk7XG4gICAgX3RoaXMub25Ub3VjaEVuZENCID0gY2IoX3RoaXMsICdvblRvdWNoRW5kJyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgYmFiZWxIZWxwZXJzLmNyZWF0ZUNsYXNzKEJ1dHRvbiwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgLy8gZGlzYWJsZSBNVUkganNcbiAgICAgIHZhciBlbCA9IHRoaXMuYnV0dG9uRWxSZWY7XG4gICAgICBlbC5fbXVpRHJvcGRvd24gPSB0cnVlO1xuICAgICAgZWwuX211aVJpcHBsZSA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Nb3VzZURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlRG93bihldikge1xuICAgICAgdGhpcy5zaG93UmlwcGxlKGV2KTtcblxuICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja1xuICAgICAgdmFyIGZuID0gdGhpcy5wcm9wcy5vbk1vdXNlRG93bjtcbiAgICAgIGZuICYmIGZuKGV2KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vdXNlVXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlVXAoZXYpIHtcbiAgICAgIHRoaXMuaGlkZVJpcHBsZShldik7XG5cbiAgICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIHZhciBmbiA9IHRoaXMucHJvcHMub25Nb3VzZVVwO1xuICAgICAgZm4gJiYgZm4oZXYpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTW91c2VMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZShldikge1xuICAgICAgdGhpcy5oaWRlUmlwcGxlKGV2KTtcblxuICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja1xuICAgICAgdmFyIGZuID0gdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmU7XG4gICAgICBmbiAmJiBmbihldik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Ub3VjaFN0YXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2KSB7XG4gICAgICB0aGlzLnNob3dSaXBwbGUoZXYpO1xuXG4gICAgICAvLyBleGVjdXRlIGNhbGxiYWNrXG4gICAgICB2YXIgZm4gPSB0aGlzLnByb3BzLm9uVG91Y2hTdGFydDtcbiAgICAgIGZuICYmIGZuKGV2KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblRvdWNoRW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Ub3VjaEVuZChldikge1xuICAgICAgdGhpcy5oaWRlUmlwcGxlKGV2KTtcblxuICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja1xuICAgICAgdmFyIGZuID0gdGhpcy5wcm9wcy5vblRvdWNoRW5kO1xuICAgICAgZm4gJiYgZm4oZXYpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3dSaXBwbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93UmlwcGxlKGV2KSB7XG4gICAgICB2YXIgYnV0dG9uRWwgPSB0aGlzLmJ1dHRvbkVsUmVmO1xuXG4gICAgICAvLyBkZS1kdXBlIHRvdWNoIGV2ZW50c1xuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGJ1dHRvbkVsICYmIGV2LnR5cGUgPT09ICdtb3VzZWRvd24nKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCAoeCwgeSkgcG9zaXRpb24gb2YgY2xpY2tcbiAgICAgIHZhciBvZmZzZXQgPSBqcUxpdGUub2Zmc2V0KHRoaXMuYnV0dG9uRWxSZWYpLFxuICAgICAgICAgIGNsaWNrRXYgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChldi50eXBlID09PSAndG91Y2hzdGFydCcgJiYgZXYudG91Y2hlcykgY2xpY2tFdiA9IGV2LnRvdWNoZXNbMF07ZWxzZSBjbGlja0V2ID0gZXY7XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSByYWRpdXNcbiAgICAgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQob2Zmc2V0LndpZHRoICogb2Zmc2V0LndpZHRoICsgb2Zmc2V0LmhlaWdodCAqIG9mZnNldC5oZWlnaHQpO1xuXG4gICAgICB2YXIgZGlhbWV0ZXJQeCA9IHJhZGl1cyAqIDIgKyAncHgnO1xuXG4gICAgICAvLyBhZGQgcmlwcGxlIHRvIHN0YXRlXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcmlwcGxlU3R5bGU6IHtcbiAgICAgICAgICB0b3A6IE1hdGgucm91bmQoY2xpY2tFdi5wYWdlWSAtIG9mZnNldC50b3AgLSByYWRpdXMpICsgJ3B4JyxcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKGNsaWNrRXYucGFnZVggLSBvZmZzZXQubGVmdCAtIHJhZGl1cykgKyAncHgnLFxuICAgICAgICAgIHdpZHRoOiBkaWFtZXRlclB4LFxuICAgICAgICAgIGhlaWdodDogZGlhbWV0ZXJQeFxuICAgICAgICB9LFxuICAgICAgICByaXBwbGVJc1Zpc2libGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGVSaXBwbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlUmlwcGxlKGV2KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgcmlwcGxlSXNWaXNpYmxlOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgcmlwcGxlRWwgPSB0aGlzLnJpcHBsZUVsUmVmO1xuXG4gICAgICAvLyBzaG93IHJpcHBsZVxuICAgICAgaWYgKHN0YXRlLnJpcHBsZUlzVmlzaWJsZSAmJiAhcHJldlN0YXRlLnJpcHBsZUlzVmlzaWJsZSkge1xuICAgICAgICBqcUxpdGUucmVtb3ZlQ2xhc3MocmlwcGxlRWwsICdtdWktLWlzLWFuaW1hdGluZycpO1xuICAgICAgICBqcUxpdGUuYWRkQ2xhc3MocmlwcGxlRWwsICdtdWktLWlzLXZpc2libGUnKTtcblxuICAgICAgICB1dGlsLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAganFMaXRlLmFkZENsYXNzKHJpcHBsZUVsLCAnbXVpLS1pcy1hbmltYXRpbmcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGhpZGUgcmlwcGxlXG4gICAgICBpZiAoIXN0YXRlLnJpcHBsZUlzVmlzaWJsZSAmJiBwcmV2U3RhdGUucmlwcGxlSXNWaXNpYmxlKSB7XG4gICAgICAgIC8vIGFsbG93IGEgcmVwYWludCB0byBvY2N1ciBiZWZvcmUgcmVtb3ZpbmcgY2xhc3Mgc28gYW5pbWF0aW9uIHNob3dzIGZvclxuICAgICAgICAvLyB0YXAgZXZlbnRzXG4gICAgICAgIHV0aWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBqcUxpdGUucmVtb3ZlQ2xhc3MocmlwcGxlRWwsICdtdWktLWlzLXZpc2libGUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjbHMgPSBidG5DbGFzcyxcbiAgICAgICAgICBrID0gdm9pZCAwLFxuICAgICAgICAgIHYgPSB2b2lkIDA7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbG9yID0gX3Byb3BzLmNvbG9yLFxuICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcbiAgICAgICAgICB2YXJpYW50ID0gX3Byb3BzLnZhcmlhbnQsXG4gICAgICAgICAgcmVhY3RQcm9wcyA9IGJhYmVsSGVscGVycy5vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnY29sb3InLCAnc2l6ZScsICd2YXJpYW50J10pO1xuXG4gICAgICAvLyBidXR0b24gYXR0cmlidXRlc1xuXG4gICAgICBmb3IgKGsgaW4gYnRuQXR0cnMpIHtcbiAgICAgICAgdiA9IHRoaXMucHJvcHNba107XG4gICAgICAgIGlmICh2ICE9PSAnZGVmYXVsdCcpIGNscyArPSAnICcgKyBidG5DbGFzcyArICctLScgKyB2O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdidXR0b24nLFxuICAgICAgICBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgcmVhY3RQcm9wcywge1xuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICBfdGhpczIuYnV0dG9uRWxSZWYgPSBlbDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xzICsgJyAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcENCLFxuICAgICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uTW91c2VEb3duQ0IsXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZUNCLFxuICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5vblRvdWNoU3RhcnRDQixcbiAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLm9uVG91Y2hFbmRDQlxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbXVpLWJ0bl9fcmlwcGxlLWNvbnRhaW5lcicgfSxcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5yaXBwbGVFbFJlZiA9IGVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ211aS1yaXBwbGUnLFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc3RhdGUucmlwcGxlU3R5bGVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQnV0dG9uO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuLyoqIERlZmluZSBtb2R1bGUgQVBJICovXG5cblxuQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJyxcbiAgY29sb3I6ICdkZWZhdWx0JyxcbiAgc2l6ZTogJ2RlZmF1bHQnLFxuICB2YXJpYW50OiAnZGVmYXVsdCdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBCdXR0b247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L2J1dHRvbi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9idXR0b24uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGJhYmVsSGVscGVycyA9IHJlcXVpcmUoJy4vYmFiZWwtaGVscGVycy5qcycpO1xuLyoqXG4gKiBNVUkgUmVhY3Qgb3B0aW9ucyBtb2R1bGVcbiAqIEBtb2R1bGUgcmVhY3Qvb3B0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZm9ybXMgPSByZXF1aXJlKCcuLi9qcy9saWIvZm9ybXMnKTtcblxudmFyIGZvcm1saWIgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZm9ybXMpO1xuXG52YXIgX2pxTGl0ZSA9IHJlcXVpcmUoJy4uL2pzL2xpYi9qcUxpdGUnKTtcblxudmFyIGpxTGl0ZSA9IGJhYmVsSGVscGVycy5pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9qcUxpdGUpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuLi9qcy9saWIvdXRpbCcpO1xuXG52YXIgdXRpbCA9IGJhYmVsSGVscGVycy5pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9faGVscGVycycpO1xuXG4vKipcbiAqIE9wdGlvbiBjb25zdHJ1Y3RvclxuICogQGNsYXNzXG4gKi9cbnZhciBPcHRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBiYWJlbEhlbHBlcnMuaW5oZXJpdHMoT3B0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPcHRpb24oKSB7XG4gICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIE9wdGlvbik7XG4gICAgcmV0dXJuIGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChPcHRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihPcHRpb24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIGJhYmVsSGVscGVycy5jcmVhdGVDbGFzcyhPcHRpb24sIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgbGFiZWwgPSBfcHJvcHMubGFiZWwsXG4gICAgICAgICAgcmVhY3RQcm9wcyA9IGJhYmVsSGVscGVycy5vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnY2hpbGRyZW4nLCAnbGFiZWwnXSk7XG5cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgcmVhY3RQcm9wcyxcbiAgICAgICAgbGFiZWxcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBPcHRpb247XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG4vKiogRGVmaW5lIG1vZHVsZSBBUEkgKi9cblxuXG5PcHRpb24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICBsYWJlbDogbnVsbFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IE9wdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3Qvb3B0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9tdWljc3MvbGliL3JlYWN0L29wdGlvbi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgYmFiZWxIZWxwZXJzID0gcmVxdWlyZSgnLi9iYWJlbC1oZWxwZXJzLmpzJyk7XG4vKipcbiAqIE1VSSBSZWFjdCBzZWxlY3QgbW9kdWxlXG4gKiBAbW9kdWxlIHJlYWN0L3NlbGVjdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2Zvcm1zID0gcmVxdWlyZSgnLi4vanMvbGliL2Zvcm1zJyk7XG5cbnZhciBmb3JtbGliID0gYmFiZWxIZWxwZXJzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2Zvcm1zKTtcblxudmFyIF9qcUxpdGUgPSByZXF1aXJlKCcuLi9qcy9saWIvanFMaXRlJyk7XG5cbnZhciBqcUxpdGUgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfanFMaXRlKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi4vanMvbGliL3V0aWwnKTtcblxudmFyIHV0aWwgPSBiYWJlbEhlbHBlcnMuaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbCk7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vX2hlbHBlcnMnKTtcblxuLyoqXG4gKiBTZWxlY3QgY29uc3RydWN0b3JcbiAqIEBjbGFzc1xuICovXG52YXIgU2VsZWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKFNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2VsZWN0KHByb3BzKSB7XG4gICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdCk7XG5cbiAgICAvLyB3YXJuIGlmIHZhbHVlIGRlZmluZWQgYnV0IG9uQ2hhbmdlIGlzIG5vdFxuICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZWxlY3QuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZWxlY3QpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dNZW51OiBmYWxzZVxuICAgIH07XG4gICAgaWYgKHByb3BzLnJlYWRPbmx5ID09PSBmYWxzZSAmJiBwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLm9uQ2hhbmdlID09PSBudWxsKSB7XG4gICAgICB1dGlsLnJhaXNlRXJyb3IoX2hlbHBlcnMuY29udHJvbGxlZE1lc3NhZ2UsIHRydWUpO1xuICAgIH1cblxuICAgIF90aGlzLnN0YXRlLnZhbHVlID0gcHJvcHMudmFsdWU7XG5cbiAgICAvLyBiaW5kIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgdmFyIGNiID0gdXRpbC5jYWxsYmFjaztcblxuICAgIF90aGlzLm9uSW5uZXJDaGFuZ2VDQiA9IGNiKF90aGlzLCAnb25Jbm5lckNoYW5nZScpO1xuICAgIF90aGlzLm9uSW5uZXJNb3VzZURvd25DQiA9IGNiKF90aGlzLCAnb25Jbm5lck1vdXNlRG93bicpO1xuXG4gICAgX3RoaXMub25PdXRlckNsaWNrQ0IgPSBjYihfdGhpcywgJ29uT3V0ZXJDbGljaycpO1xuICAgIF90aGlzLm9uT3V0ZXJLZXlEb3duQ0IgPSBjYihfdGhpcywgJ29uT3V0ZXJLZXlEb3duJyk7XG5cbiAgICBfdGhpcy5oaWRlTWVudUNCID0gY2IoX3RoaXMsICdoaWRlTWVudScpO1xuICAgIF90aGlzLm9uTWVudUNoYW5nZUNCID0gY2IoX3RoaXMsICdvbk1lbnVDaGFuZ2UnKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MoU2VsZWN0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAvLyBkaXNhYmxlIE1VSSBDU1MvSlNcbiAgICAgIHRoaXMuY29udHJvbEVsLl9tdWlTZWxlY3QgPSB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBuZXh0UHJvcHMudmFsdWUgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIC8vIGVuc3VyZSB0aGF0IGRvYyBldmVudCBsaXN0bmVycyBoYXZlIGJlZW4gcmVtb3ZlZFxuICAgICAganFMaXRlLm9mZih3aW5kb3csICdyZXNpemUnLCB0aGlzLmhpZGVNZW51Q0IpO1xuICAgICAganFMaXRlLm9mZihkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5oaWRlTWVudUNCKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbklubmVyQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Jbm5lckNoYW5nZShldikge1xuICAgICAgdmFyIHZhbHVlID0gZXYudGFyZ2V0LnZhbHVlO1xuXG4gICAgICAvLyB1cGRhdGUgc3RhdGVcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25Jbm5lck1vdXNlRG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5uZXJNb3VzZURvd24oZXYpIHtcbiAgICAgIC8vIG9ubHkgbGVmdCBjbGlja3MgJiBjaGVjayBmbGFnXG4gICAgICBpZiAoZXYuYnV0dG9uICE9PSAwIHx8IHRoaXMucHJvcHMudXNlRGVmYXVsdCkgcmV0dXJuO1xuXG4gICAgICAvLyBwcmV2ZW50IGJ1aWx0LWluIG1lbnUgZnJvbSBvcGVuaW5nXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uT3V0ZXJDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3V0ZXJDbGljayhldikge1xuICAgICAgLy8gb25seSBsZWZ0IGNsaWNrcywgcmV0dXJuIGlmIDxzZWxlY3Q+IGlzIGRpc2FibGVkXG4gICAgICBpZiAoZXYuYnV0dG9uICE9PSAwIHx8IHRoaXMuY29udHJvbEVsLmRpc2FibGVkKSByZXR1cm47XG5cbiAgICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgIHZhciBmbiA9IHRoaXMucHJvcHMub25DbGljaztcbiAgICAgIGZuICYmIGZuKGV2KTtcblxuICAgICAgLy8gZXhpdCBpZiBwcmV2ZW50RGVmYXVsdCgpIHdhcyBjYWxsZWRcbiAgICAgIGlmIChldi5kZWZhdWx0UHJldmVudGVkIHx8IHRoaXMucHJvcHMudXNlRGVmYXVsdCkgcmV0dXJuO1xuXG4gICAgICAvLyBmb2N1cyB3cmFwcGVyXG4gICAgICB0aGlzLndyYXBwZXJFbFJlZi5mb2N1cygpO1xuXG4gICAgICAvLyBvcGVuIGN1c3RvbSBtZW51XG4gICAgICB0aGlzLnNob3dNZW51KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25PdXRlcktleURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk91dGVyS2V5RG93bihldikge1xuICAgICAgLy8gZXhlY3V0ZSBjYWxsYmFja1xuICAgICAgdmFyIGZuID0gdGhpcy5wcm9wcy5vbktleURvd247XG4gICAgICBmbiAmJiBmbihldik7XG5cbiAgICAgIC8vIGV4aXQgaWYgcHJldmVudERldmF1bHQoKSB3YXMgY2FsbGVkIG9yIHVzZURlZmF1bHQgaXMgdHJ1ZVxuICAgICAgaWYgKGV2LmRlZmF1bHRQcmV2ZW50ZWQgfHwgdGhpcy5wcm9wcy51c2VEZWZhdWx0KSByZXR1cm47XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dNZW51ID09PSBmYWxzZSkge1xuICAgICAgICB2YXIga2V5Q29kZSA9IGV2LmtleUNvZGU7XG5cbiAgICAgICAgLy8gc3BhY2ViYXIsIGRvd24sIHVwXG4gICAgICAgIGlmIChrZXlDb2RlID09PSAzMiB8fCBrZXlDb2RlID09PSAzOCB8fCBrZXlDb2RlID09PSA0MCkge1xuICAgICAgICAgIC8vIHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvblxuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAvLyBvcGVuIGN1c3RvbSBtZW51XG4gICAgICAgICAgdGhpcy5zaG93TWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvd01lbnUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TWVudSgpIHtcbiAgICAgIC8vIGNoZWNrIHVzZURlZmF1bHQgZmxhZ1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlRGVmYXVsdCkgcmV0dXJuO1xuXG4gICAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICBqcUxpdGUub24od2luZG93LCAncmVzaXplJywgdGhpcy5oaWRlTWVudUNCKTtcbiAgICAgIGpxTGl0ZS5vbihkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5oaWRlTWVudUNCKTtcblxuICAgICAgLy8gcmUtZHJhd1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dNZW51OiB0cnVlIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hpZGVNZW51JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZU1lbnUoKSB7XG4gICAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICBqcUxpdGUub2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuaGlkZU1lbnVDQik7XG4gICAgICBqcUxpdGUub2ZmKGRvY3VtZW50LCAnY2xpY2snLCB0aGlzLmhpZGVNZW51Q0IpO1xuXG4gICAgICAvLyByZS1kcmF3XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd01lbnU6IGZhbHNlIH0pO1xuXG4gICAgICAvLyByZWZvY3VzXG4gICAgICB0aGlzLndyYXBwZXJFbFJlZi5mb2N1cygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTWVudUNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTWVudUNoYW5nZSh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMucmVhZE9ubHkpIHJldHVybjtcblxuICAgICAgLy8gdXBkYXRlIGlubmVyIDxzZWxlY3Q+IGFuZCBkaXNwYXRjaCAnY2hhbmdlJyBldmVudFxuICAgICAgdGhpcy5jb250cm9sRWwudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHV0aWwuZGlzcGF0Y2hFdmVudCh0aGlzLmNvbnRyb2xFbCwgJ2NoYW5nZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgbWVudUVsZW0gPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLnNob3dNZW51KSB7XG4gICAgICAgIG1lbnVFbGVtID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWVudSwge1xuICAgICAgICAgIG9wdGlvbkVsczogdGhpcy5jb250cm9sRWwuY2hpbGRyZW4sXG4gICAgICAgICAgd3JhcHBlckVsOiB0aGlzLndyYXBwZXJFbFJlZixcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbk1lbnVDaGFuZ2VDQixcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLmhpZGVNZW51Q0JcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCB0YWIgaW5kZXggc28gdXNlciBjYW4gZm9jdXMgd3JhcHBlciBlbGVtZW50XG4gICAgICB2YXIgdGFiSW5kZXhXcmFwcGVyID0gJy0xJyxcbiAgICAgICAgICB0YWJJbmRleElubmVyID0gJzAnO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VEZWZhdWx0ID09PSBmYWxzZSkge1xuICAgICAgICB0YWJJbmRleFdyYXBwZXIgPSAnMCc7XG4gICAgICAgIHRhYkluZGV4SW5uZXIgPSAnLTEnO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIGxhYmVsID0gX3Byb3BzLmxhYmVsLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgcmVhZE9ubHkgPSBfcHJvcHMucmVhZE9ubHksXG4gICAgICAgICAgdXNlRGVmYXVsdCA9IF9wcm9wcy51c2VEZWZhdWx0LFxuICAgICAgICAgIG5hbWUgPSBfcHJvcHMubmFtZSxcbiAgICAgICAgICByZWFjdFByb3BzID0gYmFiZWxIZWxwZXJzLm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydjaGlsZHJlbicsICdjbGFzc05hbWUnLCAnc3R5bGUnLCAnbGFiZWwnLCAnZGVmYXVsdFZhbHVlJywgJ3JlYWRPbmx5JywgJ3VzZURlZmF1bHQnLCAnbmFtZSddKTtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgcmVhY3RQcm9wcywge1xuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICBfdGhpczIud3JhcHBlckVsUmVmID0gZWw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0YWJJbmRleDogdGFiSW5kZXhXcmFwcGVyLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBjbGFzc05hbWU6ICdtdWktc2VsZWN0ICcgKyBjbGFzc05hbWUsXG4gICAgICAgICAgb25DbGljazogdGhpcy5vbk91dGVyQ2xpY2tDQixcbiAgICAgICAgICBvbktleURvd246IHRoaXMub25PdXRlcktleURvd25DQlxuICAgICAgICB9KSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmNvbnRyb2xFbCA9IGVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB0YWJJbmRleDogdGFiSW5kZXhJbm5lcixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICByZWFkT25seTogdGhpcy5wcm9wcy5yZWFkT25seSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5uZXJDaGFuZ2VDQixcbiAgICAgICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uSW5uZXJNb3VzZURvd25DQixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0aGlzLnByb3BzLnJlcXVpcmVkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbGFiZWxcbiAgICAgICAgKSxcbiAgICAgICAgbWVudUVsZW1cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTZWxlY3Q7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG4vKipcbiAqIE1lbnUgY29uc3RydWN0b3JcbiAqIEBjbGFzc1xuICovXG5cblxuU2VsZWN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJyxcbiAgbmFtZTogJycsXG4gIHJlYWRPbmx5OiBmYWxzZSxcbiAgdXNlRGVmYXVsdDogdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyB0cnVlIDogZmFsc2UsXG4gIG9uQ2hhbmdlOiBudWxsLFxuICBvbkNsaWNrOiBudWxsLFxuICBvbktleURvd246IG51bGxcbn07XG5cbnZhciBNZW51ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQyKSB7XG4gIGJhYmVsSGVscGVycy5pbmhlcml0cyhNZW51LCBfUmVhY3QkQ29tcG9uZW50Mik7XG5cbiAgZnVuY3Rpb24gTWVudShwcm9wcykge1xuICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBNZW51KTtcblxuICAgIHZhciBfdGhpczMgPSBiYWJlbEhlbHBlcnMucG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWVudS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lbnUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpczMuc3RhdGUgPSB7XG4gICAgICBvcmlnSW5kZXg6IG51bGwsXG4gICAgICBjdXJyZW50SW5kZXg6IG51bGxcbiAgICB9O1xuXG5cbiAgICBfdGhpczMub25LZXlEb3duQ0IgPSB1dGlsLmNhbGxiYWNrKF90aGlzMywgJ29uS2V5RG93bicpO1xuICAgIF90aGlzMy5vbktleVByZXNzQ0IgPSB1dGlsLmNhbGxiYWNrKF90aGlzMywgJ29uS2V5UHJlc3MnKTtcbiAgICBfdGhpczMucSA9ICcnO1xuICAgIF90aGlzMy5xVGltZW91dCA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzMztcbiAgfVxuXG4gIGJhYmVsSGVscGVycy5jcmVhdGVDbGFzcyhNZW51LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgIHZhciBvcHRpb25FbHMgPSB0aGlzLnByb3BzLm9wdGlvbkVscyxcbiAgICAgICAgICBtID0gb3B0aW9uRWxzLmxlbmd0aCxcbiAgICAgICAgICBzZWxlY3RlZFBvcyA9IDAsXG4gICAgICAgICAgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gZ2V0IGN1cnJlbnQgc2VsZWN0ZWQgcG9zaXRpb25cbiAgICAgIGZvciAoaSA9IG0gLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgICBpZiAob3B0aW9uRWxzW2ldLnNlbGVjdGVkKSBzZWxlY3RlZFBvcyA9IGk7XG4gICAgICB9dGhpcy5zZXRTdGF0ZSh7IG9yaWdJbmRleDogc2VsZWN0ZWRQb3MsIGN1cnJlbnRJbmRleDogc2VsZWN0ZWRQb3MgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nXG4gICAgICB1dGlsLmVuYWJsZVNjcm9sbExvY2soKTtcblxuICAgICAgLy8gc2V0IHBvc2l0aW9uXG4gICAgICB2YXIgcHJvcHMgPSBmb3JtbGliLmdldE1lbnVQb3NpdGlvbmFsQ1NTKHRoaXMucHJvcHMud3JhcHBlckVsLCB0aGlzLnByb3BzLm9wdGlvbkVscy5sZW5ndGgsIHRoaXMuc3RhdGUuY3VycmVudEluZGV4KTtcblxuICAgICAgdmFyIGVsID0gdGhpcy53cmFwcGVyRWxSZWY7XG4gICAgICBqcUxpdGUuY3NzKGVsLCBwcm9wcyk7XG4gICAgICBqcUxpdGUuc2Nyb2xsVG9wKGVsLCBwcm9wcy5zY3JvbGxUb3ApO1xuXG4gICAgICAvLyBhdHRhY2gga2V5ZG93biBoYW5kbGVyXG4gICAgICBqcUxpdGUub24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5vbktleURvd25DQik7XG4gICAgICBqcUxpdGUub24oZG9jdW1lbnQsICdrZXlwcmVzcycsIHRoaXMub25LZXlQcmVzc0NCKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgLy8gcmVtb3ZlIHNjcm9sbCBsb2NrXG4gICAgICB1dGlsLmRpc2FibGVTY3JvbGxMb2NrKHRydWUpO1xuXG4gICAgICAvLyByZW1vdmUga2V5ZG93biBoYW5kbGVyXG4gICAgICBqcUxpdGUub2ZmKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMub25LZXlEb3duQ0IpO1xuICAgICAganFMaXRlLm9mZihkb2N1bWVudCwgJ2tleXByZXNzJywgdGhpcy5vbktleVByZXNzQ0IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKHBvcywgZXYpIHtcbiAgICAgIC8vIGRvbid0IGFsbG93IGV2ZW50cyB0byBidWJibGVcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zZWxlY3RBbmREZXN0cm95KHBvcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25LZXlEb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlEb3duKGV2KSB7XG4gICAgICB2YXIga2V5Q29kZSA9IGV2LmtleUNvZGU7XG5cbiAgICAgIC8vIHRhYlxuICAgICAgaWYgKGtleUNvZGUgPT09IDkpIHJldHVybiB0aGlzLmRlc3Ryb3koKTtcblxuICAgICAgLy8gZXNjYXBlIHwgdXAgfCBkb3duIHwgZW50ZXJcbiAgICAgIGlmIChrZXlDb2RlID09PSAyNyB8fCBrZXlDb2RlID09PSA0MCB8fCBrZXlDb2RlID09PSAzOCB8fCBrZXlDb2RlID09PSAxMykge1xuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5Q29kZSA9PT0gMjcpIHRoaXMuZGVzdHJveSgpO2Vsc2UgaWYgKGtleUNvZGUgPT09IDQwKSB0aGlzLmluY3JlbWVudCgpO2Vsc2UgaWYgKGtleUNvZGUgPT09IDM4KSB0aGlzLmRlY3JlbWVudCgpO2Vsc2UgaWYgKGtleUNvZGUgPT09IDEzKSB0aGlzLnNlbGVjdEFuZERlc3Ryb3koKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbktleVByZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlQcmVzcyhldikge1xuICAgICAgLy8gaGFuZGxlIHF1ZXJ5IHRpbWVyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5xVGltZW91dCk7XG4gICAgICB0aGlzLnEgKz0gZXYua2V5O1xuICAgICAgdGhpcy5xVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnEgPSAnJztcbiAgICAgIH0sIDMwMCk7XG5cbiAgICAgIC8vIHNlbGVjdCBmaXJzdCBtYXRjaCBhbHBoYWJldGljYWxseVxuICAgICAgdmFyIHByZWZpeFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLnEsICdpJyksXG4gICAgICAgICAgb3B0aW9uRWxzID0gdGhpcy5wcm9wcy5vcHRpb25FbHMsXG4gICAgICAgICAgbSA9IG9wdGlvbkVscy5sZW5ndGgsXG4gICAgICAgICAgaSA9IHZvaWQgMDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IG07IGkrKykge1xuICAgICAgICAvLyBzZWxlY3QgaXRlbSBpZiBjb2RlIG1hdGNoZXNcbiAgICAgICAgaWYgKHByZWZpeFJlZ2V4LnRlc3Qob3B0aW9uRWxzW2ldLmlubmVyVGV4dCkpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudEluZGV4OiBpIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaW5jcmVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5jcmVtZW50KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudEluZGV4ID09PSB0aGlzLnByb3BzLm9wdGlvbkVscy5sZW5ndGggLSAxKSByZXR1cm47XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudEluZGV4OiB0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCArIDEgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVjcmVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVjcmVtZW50KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudEluZGV4ID09PSAwKSByZXR1cm47XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudEluZGV4OiB0aGlzLnN0YXRlLmN1cnJlbnRJbmRleCAtIDEgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2VsZWN0QW5kRGVzdHJveScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdEFuZERlc3Ryb3kocG9zKSB7XG4gICAgICBwb3MgPSBwb3MgPT09IHVuZGVmaW5lZCA/IHRoaXMuc3RhdGUuY3VycmVudEluZGV4IDogcG9zO1xuXG4gICAgICAvLyBoYW5kbGUgb25DaGFuZ2VcbiAgICAgIGlmIChwb3MgIT09IHRoaXMuc3RhdGUub3JpZ0luZGV4KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25FbHNbcG9zXS52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNsb3NlIG1lbnVcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBtZW51SXRlbXMgPSBbXSxcbiAgICAgICAgICBvcHRpb25FbHMgPSB0aGlzLnByb3BzLm9wdGlvbkVscyxcbiAgICAgICAgICBtID0gb3B0aW9uRWxzLmxlbmd0aCxcbiAgICAgICAgICBvcHRpb25FbCA9IHZvaWQgMCxcbiAgICAgICAgICBjbHMgPSB2b2lkIDAsXG4gICAgICAgICAgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gZGVmaW5lIG1lbnUgaXRlbXNcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgY2xzID0gaSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50SW5kZXggPyAnbXVpLS1pcy1zZWxlY3RlZCAnIDogJyc7XG5cbiAgICAgICAgLy8gYWRkIGN1c3RvbSBjc3MgY2xhc3MgZnJvbSA8T3B0aW9uPiBjb21wb25lbnRcbiAgICAgICAgY2xzICs9IG9wdGlvbkVsc1tpXS5jbGFzc05hbWU7XG5cbiAgICAgICAgbWVudUl0ZW1zLnB1c2goX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHMsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzLCBpKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uRWxzW2ldLnRleHRDb250ZW50XG4gICAgICAgICkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7XG4gICAgICAgICAgICBfdGhpczQud3JhcHBlckVsUmVmID0gZWw7XG4gICAgICAgICAgfSwgY2xhc3NOYW1lOiAnbXVpLXNlbGVjdF9fbWVudScgfSxcbiAgICAgICAgbWVudUl0ZW1zXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gTWVudTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbi8qKiBEZWZpbmUgbW9kdWxlIEFQSSAqL1xuXG5cbk1lbnUuZGVmYXVsdFByb3BzID0ge1xuICBvcHRpb25FbHM6IFtdLFxuICB3cmFwcGVyRWw6IG51bGwsXG4gIG9uQ2hhbmdlOiBudWxsLFxuICBvbkNsb3NlOiBudWxsXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gU2VsZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvbXVpY3NzL2xpYi9yZWFjdC9zZWxlY3QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL211aWNzcy9saWIvcmVhY3Qvc2VsZWN0LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcbiBSZWFjdCB2MTYuMC4wXG4gcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzXG5cbiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cblxuIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiovXG4ndXNlIHN0cmljdCc7dmFyIGFhPXJlcXVpcmUoXCJyZWFjdFwiKTtyZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpO3ZhciBsPXJlcXVpcmUoXCJmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKSxuPXJlcXVpcmUoXCJvYmplY3QtYXNzaWduXCIpLGJhPXJlcXVpcmUoXCJmYmpzL2xpYi9FdmVudExpc3RlbmVyXCIpLGNhPXJlcXVpcmUoXCJmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uXCIpLGRhPXJlcXVpcmUoXCJmYmpzL2xpYi9lbXB0eU9iamVjdFwiKSxlYT1yZXF1aXJlKFwiZmJqcy9saWIvc2hhbGxvd0VxdWFsXCIpLGZhPXJlcXVpcmUoXCJmYmpzL2xpYi9jb250YWluc05vZGVcIiksaGE9cmVxdWlyZShcImZianMvbGliL2ZvY3VzTm9kZVwiKSxpYT1yZXF1aXJlKFwiZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudFwiKTtcbmZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgtMSxjPVwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0IGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50XFx4M2RcIithLGQ9MDtkPGI7ZCsrKWMrPVwiXFx4MjZhcmdzW11cXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbZCsxXSk7Yj1FcnJvcihjK1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7Yi5uYW1lPVwiSW52YXJpYW50IFZpb2xhdGlvblwiO2IuZnJhbWVzVG9Qb3A9MTt0aHJvdyBiO31hYT92b2lkIDA6dyhcIjIyN1wiKTtcbmZ1bmN0aW9uIGphKGEpe3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2Nhc2UgXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19XG52YXIga2E9e05hbWVzcGFjZXM6e2h0bWw6XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsbWF0aG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLHN2ZzpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJ9LGdldEludHJpbnNpY05hbWVzcGFjZTpqYSxnZXRDaGlsZE5hbWVzcGFjZTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hfHxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWE/amEoYik6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT09YSYmXCJmb3JlaWduT2JqZWN0XCI9PT1iP1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiOmF9fSxsYT1udWxsLG9hPXt9O1xuZnVuY3Rpb24gcGEoKXtpZihsYSlmb3IodmFyIGEgaW4gb2Epe3ZhciBiPW9hW2FdLGM9bGEuaW5kZXhPZihhKTstMTxjP3ZvaWQgMDp3KFwiOTZcIixhKTtpZighcWEucGx1Z2luc1tjXSl7Yi5leHRyYWN0RXZlbnRzP3ZvaWQgMDp3KFwiOTdcIixhKTtxYS5wbHVnaW5zW2NdPWI7Yz1iLmV2ZW50VHlwZXM7Zm9yKHZhciBkIGluIGMpe3ZhciBlPXZvaWQgMDt2YXIgZj1jW2RdLGc9YixoPWQ7cWEuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGgpP3coXCI5OVwiLGgpOnZvaWQgMDtxYS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbaF09Zjt2YXIgaz1mLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGspe2ZvcihlIGluIGspay5oYXNPd25Qcm9wZXJ0eShlKSYmcmEoa1tlXSxnLGgpO2U9ITB9ZWxzZSBmLnJlZ2lzdHJhdGlvbk5hbWU/KHJhKGYucmVnaXN0cmF0aW9uTmFtZSxnLGgpLGU9ITApOmU9ITE7ZT92b2lkIDA6dyhcIjk4XCIsZCxhKX19fX1cbmZ1bmN0aW9uIHJhKGEsYixjKXtxYS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1thXT93KFwiMTAwXCIsYSk6dm9pZCAwO3FhLnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW2FdPWI7cWEucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1thXT1iLmV2ZW50VHlwZXNbY10uZGVwZW5kZW5jaWVzfVxudmFyIHFhPXtwbHVnaW5zOltdLGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczp7fSxyZWdpc3RyYXRpb25OYW1lTW9kdWxlczp7fSxyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOnt9LHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6bnVsbCxpbmplY3RFdmVudFBsdWdpbk9yZGVyOmZ1bmN0aW9uKGEpe2xhP3coXCIxMDFcIik6dm9pZCAwO2xhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEpO3BhKCl9LGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTpmdW5jdGlvbihhKXt2YXIgYj0hMSxjO2ZvcihjIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGQ9YVtjXTtvYS5oYXNPd25Qcm9wZXJ0eShjKSYmb2FbY109PT1kfHwob2FbY10/dyhcIjEwMlwiLGMpOnZvaWQgMCxvYVtjXT1kLGI9ITApfWImJnBhKCl9fSxzYT1xYSx0YT17Y2hpbGRyZW46ITAsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6ITAsYXV0b0ZvY3VzOiEwLGRlZmF1bHRWYWx1ZTohMCxkZWZhdWx0Q2hlY2tlZDohMCxcbmlubmVySFRNTDohMCxzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmc6ITAsc3R5bGU6ITB9O2Z1bmN0aW9uIHVhKGEsYil7cmV0dXJuKGEmYik9PT1ifVxudmFyIHdhPXtNVVNUX1VTRV9QUk9QRVJUWToxLEhBU19CT09MRUFOX1ZBTFVFOjQsSEFTX05VTUVSSUNfVkFMVUU6OCxIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRToyNCxIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFOjMyLEhBU19TVFJJTkdfQk9PTEVBTl9WQUxVRTo2NCxpbmplY3RET01Qcm9wZXJ0eUNvbmZpZzpmdW5jdGlvbihhKXt2YXIgYj13YSxjPWEuUHJvcGVydGllc3x8e30sZD1hLkRPTUF0dHJpYnV0ZU5hbWVzcGFjZXN8fHt9LGU9YS5ET01BdHRyaWJ1dGVOYW1lc3x8e307YT1hLkRPTU11dGF0aW9uTWV0aG9kc3x8e307Zm9yKHZhciBmIGluIGMpe3hhLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoZik/dyhcIjQ4XCIsZik6dm9pZCAwO3ZhciBnPWYudG9Mb3dlckNhc2UoKSxoPWNbZl07Zz17YXR0cmlidXRlTmFtZTpnLGF0dHJpYnV0ZU5hbWVzcGFjZTpudWxsLHByb3BlcnR5TmFtZTpmLG11dGF0aW9uTWV0aG9kOm51bGwsbXVzdFVzZVByb3BlcnR5OnVhKGgsYi5NVVNUX1VTRV9QUk9QRVJUWSksXG5oYXNCb29sZWFuVmFsdWU6dWEoaCxiLkhBU19CT09MRUFOX1ZBTFVFKSxoYXNOdW1lcmljVmFsdWU6dWEoaCxiLkhBU19OVU1FUklDX1ZBTFVFKSxoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZTp1YShoLGIuSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUpLGhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWU6dWEoaCxiLkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUpLGhhc1N0cmluZ0Jvb2xlYW5WYWx1ZTp1YShoLGIuSEFTX1NUUklOR19CT09MRUFOX1ZBTFVFKX07MT49Zy5oYXNCb29sZWFuVmFsdWUrZy5oYXNOdW1lcmljVmFsdWUrZy5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlP3ZvaWQgMDp3KFwiNTBcIixmKTtlLmhhc093blByb3BlcnR5KGYpJiYoZy5hdHRyaWJ1dGVOYW1lPWVbZl0pO2QuaGFzT3duUHJvcGVydHkoZikmJihnLmF0dHJpYnV0ZU5hbWVzcGFjZT1kW2ZdKTthLmhhc093blByb3BlcnR5KGYpJiYoZy5tdXRhdGlvbk1ldGhvZD1hW2ZdKTt4YS5wcm9wZXJ0aWVzW2ZdPVxuZ319fSx4YT17SURfQVRUUklCVVRFX05BTUU6XCJkYXRhLXJlYWN0aWRcIixST09UX0FUVFJJQlVURV9OQU1FOlwiZGF0YS1yZWFjdHJvb3RcIixBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSOlwiOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFwiLEFUVFJJQlVURV9OQU1FX0NIQVI6XCI6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBcIixcbnByb3BlcnRpZXM6e30sc2hvdWxkU2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsYil7aWYoeGEuaXNSZXNlcnZlZFByb3AoYSl8fCEoXCJvXCIhPT1hWzBdJiZcIk9cIiE9PWFbMF18fFwiblwiIT09YVsxXSYmXCJOXCIhPT1hWzFdKSlyZXR1cm4hMTtpZihudWxsPT09YilyZXR1cm4hMDtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJib29sZWFuXCI6cmV0dXJuIHhhLnNob3VsZEF0dHJpYnV0ZUFjY2VwdEJvb2xlYW5WYWx1ZShhKTtjYXNlIFwidW5kZWZpbmVkXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjpjYXNlIFwib2JqZWN0XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGdldFByb3BlcnR5SW5mbzpmdW5jdGlvbihhKXtyZXR1cm4geGEucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShhKT94YS5wcm9wZXJ0aWVzW2FdOm51bGx9LHNob3VsZEF0dHJpYnV0ZUFjY2VwdEJvb2xlYW5WYWx1ZTpmdW5jdGlvbihhKXtpZih4YS5pc1Jlc2VydmVkUHJvcChhKSlyZXR1cm4hMDt2YXIgYj14YS5nZXRQcm9wZXJ0eUluZm8oYSk7XG5pZihiKXJldHVybiBiLmhhc0Jvb2xlYW5WYWx1ZXx8Yi5oYXNTdHJpbmdCb29sZWFuVmFsdWV8fGIuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZTthPWEudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpO3JldHVyblwiZGF0YS1cIj09PWF8fFwiYXJpYS1cIj09PWF9LGlzUmVzZXJ2ZWRQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0YS5oYXNPd25Qcm9wZXJ0eShhKX0saW5qZWN0aW9uOndhfSxBPXhhLEU9e0luZGV0ZXJtaW5hdGVDb21wb25lbnQ6MCxGdW5jdGlvbmFsQ29tcG9uZW50OjEsQ2xhc3NDb21wb25lbnQ6MixIb3N0Um9vdDozLEhvc3RQb3J0YWw6NCxIb3N0Q29tcG9uZW50OjUsSG9zdFRleHQ6NixDb3JvdXRpbmVDb21wb25lbnQ6NyxDb3JvdXRpbmVIYW5kbGVyUGhhc2U6OCxZaWVsZENvbXBvbmVudDo5LEZyYWdtZW50OjEwfSxGPXtFTEVNRU5UX05PREU6MSxURVhUX05PREU6MyxDT01NRU5UX05PREU6OCxET0NVTUVOVF9OT0RFOjksRE9DVU1FTlRfRlJBR01FTlRfTk9ERToxMX0sXG55YT1FLkhvc3RDb21wb25lbnQsemE9RS5Ib3N0VGV4dCxBYT1GLkVMRU1FTlRfTk9ERSxCYT1GLkNPTU1FTlRfTk9ERSxFYT1BLklEX0FUVFJJQlVURV9OQU1FLEZhPXtoYXNDYWNoZWRDaGlsZE5vZGVzOjF9LEdhPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLEhhPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrR2EsSWE9XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIitHYTtmdW5jdGlvbiBMYShhKXtmb3IodmFyIGI7Yj1hLl9yZW5kZXJlZENvbXBvbmVudDspYT1iO3JldHVybiBhfWZ1bmN0aW9uIE1hKGEsYil7YT1MYShhKTthLl9ob3N0Tm9kZT1iO2JbSGFdPWF9XG5mdW5jdGlvbiBOYShhLGIpe2lmKCEoYS5fZmxhZ3MmRmEuaGFzQ2FjaGVkQ2hpbGROb2Rlcykpe3ZhciBjPWEuX3JlbmRlcmVkQ2hpbGRyZW47Yj1iLmZpcnN0Q2hpbGQ7dmFyIGQ7YTpmb3IoZCBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWNbZF0sZj1MYShlKS5fZG9tSUQ7aWYoMCE9PWYpe2Zvcig7bnVsbCE9PWI7Yj1iLm5leHRTaWJsaW5nKXt2YXIgZz1iLGg9ZjtpZihnLm5vZGVUeXBlPT09QWEmJmcuZ2V0QXR0cmlidXRlKEVhKT09PVwiXCIraHx8Zy5ub2RlVHlwZT09PUJhJiZnLm5vZGVWYWx1ZT09PVwiIHJlYWN0LXRleHQ6IFwiK2grXCIgXCJ8fGcubm9kZVR5cGU9PT1CYSYmZy5ub2RlVmFsdWU9PT1cIiByZWFjdC1lbXB0eTogXCIraCtcIiBcIil7TWEoZSxiKTtjb250aW51ZSBhfX13KFwiMzJcIixmKX19YS5fZmxhZ3N8PUZhLmhhc0NhY2hlZENoaWxkTm9kZXN9fVxuZnVuY3Rpb24gT2EoYSl7aWYoYVtIYV0pcmV0dXJuIGFbSGFdO2Zvcih2YXIgYj1bXTshYVtIYV07KWlmKGIucHVzaChhKSxhLnBhcmVudE5vZGUpYT1hLnBhcmVudE5vZGU7ZWxzZSByZXR1cm4gbnVsbDt2YXIgYz1hW0hhXTtpZihjLnRhZz09PXlhfHxjLnRhZz09PXphKXJldHVybiBjO2Zvcig7YSYmKGM9YVtIYV0pO2E9Yi5wb3AoKSl7dmFyIGQ9YztiLmxlbmd0aCYmTmEoYyxhKX1yZXR1cm4gZH1cbnZhciBHPXtnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTpPYSxnZXRJbnN0YW5jZUZyb21Ob2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWFbSGFdO2lmKGIpcmV0dXJuIGIudGFnPT09eWF8fGIudGFnPT09emE/YjpiLl9ob3N0Tm9kZT09PWE/YjpudWxsO2I9T2EoYSk7cmV0dXJuIG51bGwhPWImJmIuX2hvc3ROb2RlPT09YT9iOm51bGx9LGdldE5vZGVGcm9tSW5zdGFuY2U6ZnVuY3Rpb24oYSl7aWYoYS50YWc9PT15YXx8YS50YWc9PT16YSlyZXR1cm4gYS5zdGF0ZU5vZGU7dm9pZCAwPT09YS5faG9zdE5vZGU/dyhcIjMzXCIpOnZvaWQgMDtpZihhLl9ob3N0Tm9kZSlyZXR1cm4gYS5faG9zdE5vZGU7Zm9yKHZhciBiPVtdOyFhLl9ob3N0Tm9kZTspYi5wdXNoKGEpLGEuX2hvc3RQYXJlbnQ/dm9pZCAwOncoXCIzNFwiKSxhPWEuX2hvc3RQYXJlbnQ7Zm9yKDtiLmxlbmd0aDthPWIucG9wKCkpTmEoYSxhLl9ob3N0Tm9kZSk7cmV0dXJuIGEuX2hvc3ROb2RlfSxwcmVjYWNoZUNoaWxkTm9kZXM6TmEsXG5wcmVjYWNoZU5vZGU6TWEsdW5jYWNoZU5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5faG9zdE5vZGU7YiYmKGRlbGV0ZSBiW0hhXSxhLl9ob3N0Tm9kZT1udWxsKX0scHJlY2FjaGVGaWJlck5vZGU6ZnVuY3Rpb24oYSxiKXtiW0hhXT1hfSxnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhW0lhXXx8bnVsbH0sdXBkYXRlRmliZXJQcm9wczpmdW5jdGlvbihhLGIpe2FbSWFdPWJ9fSxQYT17cmVtb3ZlOmZ1bmN0aW9uKGEpe2EuX3JlYWN0SW50ZXJuYWxGaWJlcj12b2lkIDB9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fcmVhY3RJbnRlcm5hbEZpYmVyfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWEuX3JlYWN0SW50ZXJuYWxGaWJlcn0sc2V0OmZ1bmN0aW9uKGEsYil7YS5fcmVhY3RJbnRlcm5hbEZpYmVyPWJ9fSxRYT17UmVhY3RDdXJyZW50T3duZXI6YWEuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXJ9O1xuZnVuY3Rpb24gUmEoYSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuZ2V0TmFtZSlyZXR1cm4gYS5nZXROYW1lKCk7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhLnRhZyl7YT1hLnR5cGU7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBhO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBhLmRpc3BsYXlOYW1lfHxhLm5hbWV9cmV0dXJuIG51bGx9dmFyIEo9e05vRWZmZWN0OjAsUGVyZm9ybWVkV29yazoxLFBsYWNlbWVudDoyLFVwZGF0ZTo0LFBsYWNlbWVudEFuZFVwZGF0ZTo2LERlbGV0aW9uOjgsQ29udGVudFJlc2V0OjE2LENhbGxiYWNrOjMyLEVycjo2NCxSZWY6MTI4fSxTYT1FLkhvc3RDb21wb25lbnQsVGE9RS5Ib3N0Um9vdCxVYT1FLkhvc3RQb3J0YWwsVmE9RS5Ib3N0VGV4dCxXYT1KLk5vRWZmZWN0LFhhPUouUGxhY2VtZW50O1xuZnVuY3Rpb24gWmEoYSl7dmFyIGI9YTtpZihhLmFsdGVybmF0ZSlmb3IoO2JbXCJyZXR1cm5cIl07KWI9YltcInJldHVyblwiXTtlbHNle2lmKChiLmVmZmVjdFRhZyZYYSkhPT1XYSlyZXR1cm4gMTtmb3IoO2JbXCJyZXR1cm5cIl07KWlmKGI9YltcInJldHVyblwiXSwoYi5lZmZlY3RUYWcmWGEpIT09V2EpcmV0dXJuIDF9cmV0dXJuIGIudGFnPT09VGE/MjozfWZ1bmN0aW9uICRhKGEpezIhPT1aYShhKT93KFwiMTg4XCIpOnZvaWQgMH1cbmZ1bmN0aW9uIGFiKGEpe3ZhciBiPWEuYWx0ZXJuYXRlO2lmKCFiKXJldHVybiBiPVphKGEpLDM9PT1iP3coXCIxODhcIik6dm9pZCAwLDE9PT1iP251bGw6YTtmb3IodmFyIGM9YSxkPWI7Oyl7dmFyIGU9Y1tcInJldHVyblwiXSxmPWU/ZS5hbHRlcm5hdGU6bnVsbDtpZighZXx8IWYpYnJlYWs7aWYoZS5jaGlsZD09PWYuY2hpbGQpe2Zvcih2YXIgZz1lLmNoaWxkO2c7KXtpZihnPT09YylyZXR1cm4gJGEoZSksYTtpZihnPT09ZClyZXR1cm4gJGEoZSksYjtnPWcuc2libGluZ313KFwiMTg4XCIpfWlmKGNbXCJyZXR1cm5cIl0hPT1kW1wicmV0dXJuXCJdKWM9ZSxkPWY7ZWxzZXtnPSExO2Zvcih2YXIgaD1lLmNoaWxkO2g7KXtpZihoPT09Yyl7Zz0hMDtjPWU7ZD1mO2JyZWFrfWlmKGg9PT1kKXtnPSEwO2Q9ZTtjPWY7YnJlYWt9aD1oLnNpYmxpbmd9aWYoIWcpe2ZvcihoPWYuY2hpbGQ7aDspe2lmKGg9PT1jKXtnPSEwO2M9ZjtkPWU7YnJlYWt9aWYoaD09PWQpe2c9ITA7ZD1mO2M9ZTticmVha31oPWguc2libGluZ31nP1xudm9pZCAwOncoXCIxODlcIil9fWMuYWx0ZXJuYXRlIT09ZD93KFwiMTkwXCIpOnZvaWQgMH1jLnRhZyE9PVRhP3coXCIxODhcIik6dm9pZCAwO3JldHVybiBjLnN0YXRlTm9kZS5jdXJyZW50PT09Yz9hOmJ9XG52YXIgYmI9e2lzRmliZXJNb3VudGVkOmZ1bmN0aW9uKGEpe3JldHVybiAyPT09WmEoYSl9LGlzTW91bnRlZDpmdW5jdGlvbihhKXtyZXR1cm4oYT1QYS5nZXQoYSkpPzI9PT1aYShhKTohMX0sZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGg6YWIsZmluZEN1cnJlbnRIb3N0RmliZXI6ZnVuY3Rpb24oYSl7YT1hYihhKTtpZighYSlyZXR1cm4gbnVsbDtmb3IodmFyIGI9YTs7KXtpZihiLnRhZz09PVNhfHxiLnRhZz09PVZhKXJldHVybiBiO2lmKGIuY2hpbGQpYi5jaGlsZFtcInJldHVyblwiXT1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7IWIuc2libGluZzspe2lmKCFiW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm4gbnVsbDtiPWJbXCJyZXR1cm5cIl19Yi5zaWJsaW5nW1wicmV0dXJuXCJdPWJbXCJyZXR1cm5cIl07Yj1iLnNpYmxpbmd9fXJldHVybiBudWxsfSxmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHM6ZnVuY3Rpb24oYSl7YT1hYihhKTtcbmlmKCFhKXJldHVybiBudWxsO2Zvcih2YXIgYj1hOzspe2lmKGIudGFnPT09U2F8fGIudGFnPT09VmEpcmV0dXJuIGI7aWYoYi5jaGlsZCYmYi50YWchPT1VYSliLmNoaWxkW1wicmV0dXJuXCJdPWIsYj1iLmNoaWxkO2Vsc2V7aWYoYj09PWEpYnJlYWs7Zm9yKDshYi5zaWJsaW5nOyl7aWYoIWJbXCJyZXR1cm5cIl18fGJbXCJyZXR1cm5cIl09PT1hKXJldHVybiBudWxsO2I9YltcInJldHVyblwiXX1iLnNpYmxpbmdbXCJyZXR1cm5cIl09YltcInJldHVyblwiXTtiPWIuc2libGluZ319cmV0dXJuIG51bGx9fSxLPXtfY2F1Z2h0RXJyb3I6bnVsbCxfaGFzQ2F1Z2h0RXJyb3I6ITEsX3JldGhyb3dFcnJvcjpudWxsLF9oYXNSZXRocm93RXJyb3I6ITEsaW5qZWN0aW9uOntpbmplY3RFcnJvclV0aWxzOmZ1bmN0aW9uKGEpe1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBhLmludm9rZUd1YXJkZWRDYWxsYmFjaz93KFwiMTk3XCIpOnZvaWQgMDtjYj1hLmludm9rZUd1YXJkZWRDYWxsYmFja319LGludm9rZUd1YXJkZWRDYWxsYmFjazpmdW5jdGlvbihhLFxuYixjLGQsZSxmLGcsaCxrKXtjYi5hcHBseShLLGFyZ3VtZW50cyl9LGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7Sy5pbnZva2VHdWFyZGVkQ2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEsuaGFzQ2F1Z2h0RXJyb3IoKSl7dmFyIHA9Sy5jbGVhckNhdWdodEVycm9yKCk7Sy5faGFzUmV0aHJvd0Vycm9yfHwoSy5faGFzUmV0aHJvd0Vycm9yPSEwLEsuX3JldGhyb3dFcnJvcj1wKX19LHJldGhyb3dDYXVnaHRFcnJvcjpmdW5jdGlvbigpe3JldHVybiBkYi5hcHBseShLLGFyZ3VtZW50cyl9LGhhc0NhdWdodEVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIEsuX2hhc0NhdWdodEVycm9yfSxjbGVhckNhdWdodEVycm9yOmZ1bmN0aW9uKCl7aWYoSy5faGFzQ2F1Z2h0RXJyb3Ipe3ZhciBhPUsuX2NhdWdodEVycm9yO0suX2NhdWdodEVycm9yPW51bGw7Sy5faGFzQ2F1Z2h0RXJyb3I9ITE7cmV0dXJuIGF9dyhcIjE5OFwiKX19O1xuZnVuY3Rpb24gY2IoYSxiLGMsZCxlLGYsZyxoLGspe0suX2hhc0NhdWdodEVycm9yPSExO0suX2NhdWdodEVycm9yPW51bGw7dmFyIHA9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpO3RyeXtiLmFwcGx5KGMscCl9Y2F0Y2goeCl7Sy5fY2F1Z2h0RXJyb3I9eCxLLl9oYXNDYXVnaHRFcnJvcj0hMH19ZnVuY3Rpb24gZGIoKXtpZihLLl9oYXNSZXRocm93RXJyb3Ipe3ZhciBhPUsuX3JldGhyb3dFcnJvcjtLLl9yZXRocm93RXJyb3I9bnVsbDtLLl9oYXNSZXRocm93RXJyb3I9ITE7dGhyb3cgYTt9fXZhciBlYj1LLGZiO2Z1bmN0aW9uIGdiKGEsYixjLGQpe2I9YS50eXBlfHxcInVua25vd24tZXZlbnRcIjthLmN1cnJlbnRUYXJnZXQ9aGIuZ2V0Tm9kZUZyb21JbnN0YW5jZShkKTtlYi5pbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IoYixjLHZvaWQgMCxhKTthLmN1cnJlbnRUYXJnZXQ9bnVsbH1cbnZhciBoYj17aXNFbmRpc2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ0b3BNb3VzZVVwXCI9PT1hfHxcInRvcFRvdWNoRW5kXCI9PT1hfHxcInRvcFRvdWNoQ2FuY2VsXCI9PT1hfSxpc01vdmVpc2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ0b3BNb3VzZU1vdmVcIj09PWF8fFwidG9wVG91Y2hNb3ZlXCI9PT1hfSxpc1N0YXJ0aXNoOmZ1bmN0aW9uKGEpe3JldHVyblwidG9wTW91c2VEb3duXCI9PT1hfHxcInRvcFRvdWNoU3RhcnRcIj09PWF9LGV4ZWN1dGVEaXJlY3REaXNwYXRjaDpmdW5jdGlvbihhKXt2YXIgYj1hLl9kaXNwYXRjaExpc3RlbmVycyxjPWEuX2Rpc3BhdGNoSW5zdGFuY2VzO0FycmF5LmlzQXJyYXkoYik/dyhcIjEwM1wiKTp2b2lkIDA7YS5jdXJyZW50VGFyZ2V0PWI/aGIuZ2V0Tm9kZUZyb21JbnN0YW5jZShjKTpudWxsO2I9Yj9iKGEpOm51bGw7YS5jdXJyZW50VGFyZ2V0PW51bGw7YS5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbDthLl9kaXNwYXRjaEluc3RhbmNlcz1udWxsO3JldHVybiBifSxleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXI6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPWEuX2Rpc3BhdGNoTGlzdGVuZXJzLGQ9YS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheShjKSlmb3IodmFyIGU9MDtlPGMubGVuZ3RoJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2UrKylnYihhLGIsY1tlXSxkW2VdKTtlbHNlIGMmJmdiKGEsYixjLGQpO2EuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGw7YS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbH0sZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZTpmdW5jdGlvbihhKXthOnt2YXIgYj1hLl9kaXNwYXRjaExpc3RlbmVyczt2YXIgYz1hLl9kaXNwYXRjaEluc3RhbmNlcztpZihBcnJheS5pc0FycmF5KGIpKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGgmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7ZCsrKXtpZihiW2RdKGEsY1tkXSkpe2I9Y1tkXTticmVhayBhfX1lbHNlIGlmKGImJmIoYSxjKSl7Yj1jO2JyZWFrIGF9Yj1udWxsfWEuX2Rpc3BhdGNoSW5zdGFuY2VzPW51bGw7YS5fZGlzcGF0Y2hMaXN0ZW5lcnM9XG5udWxsO3JldHVybiBifSxoYXNEaXNwYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiEhYS5fZGlzcGF0Y2hMaXN0ZW5lcnN9LGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoYSl9LGdldEluc3RhbmNlRnJvbU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldEluc3RhbmNlRnJvbU5vZGUoYSl9LGdldE5vZGVGcm9tSW5zdGFuY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGZiLmdldE5vZGVGcm9tSW5zdGFuY2UoYSl9LGluamVjdGlvbjp7aW5qZWN0Q29tcG9uZW50VHJlZTpmdW5jdGlvbihhKXtmYj1hfX19LGliPWhiLGpiPW51bGwsa2I9bnVsbCxsYj1udWxsO1xuZnVuY3Rpb24gbWIoYSl7aWYoYT1pYi5nZXRJbnN0YW5jZUZyb21Ob2RlKGEpKWlmKFwibnVtYmVyXCI9PT10eXBlb2YgYS50YWcpe2piJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgamIucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZT92b2lkIDA6dyhcIjE5NFwiKTt2YXIgYj1pYi5nZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKGEuc3RhdGVOb2RlKTtqYi5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEuc3RhdGVOb2RlLGEudHlwZSxiKX1lbHNlXCJmdW5jdGlvblwiIT09dHlwZW9mIGEucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZT93KFwiMTk1XCIpOnZvaWQgMCxhLnJlc3RvcmVDb250cm9sbGVkU3RhdGUoKX1cbnZhciBuYj17aW5qZWN0aW9uOntpbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50OmZ1bmN0aW9uKGEpe2piPWF9fSxlbnF1ZXVlU3RhdGVSZXN0b3JlOmZ1bmN0aW9uKGEpe2tiP2xiP2xiLnB1c2goYSk6bGI9W2FdOmtiPWF9LHJlc3RvcmVTdGF0ZUlmTmVlZGVkOmZ1bmN0aW9uKCl7aWYoa2Ipe3ZhciBhPWtiLGI9bGI7bGI9a2I9bnVsbDttYihhKTtpZihiKWZvcihhPTA7YTxiLmxlbmd0aDthKyspbWIoYlthXSl9fX07ZnVuY3Rpb24gb2IoYSxiLGMsZCxlLGYpe3JldHVybiBhKGIsYyxkLGUsZil9ZnVuY3Rpb24gcGIoYSxiKXtyZXR1cm4gYShiKX1mdW5jdGlvbiBxYihhLGIpe3JldHVybiBwYihhLGIpfVxudmFyIHJiPSExLHNiPXtiYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhLGIpe2lmKHJiKXJldHVybiBvYihxYixhLGIpO3JiPSEwO3RyeXtyZXR1cm4gb2IocWIsYSxiKX1maW5hbGx5e3JiPSExLG5iLnJlc3RvcmVTdGF0ZUlmTmVlZGVkKCl9fSxpbmplY3Rpb246e2luamVjdFN0YWNrQmF0Y2hlZFVwZGF0ZXM6ZnVuY3Rpb24oYSl7b2I9YX0saW5qZWN0RmliZXJCYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhKXtwYj1hfX19LHRiPUYuVEVYVF9OT0RFO2Z1bmN0aW9uIHViKGEpe2E9YS50YXJnZXR8fGEuc3JjRWxlbWVudHx8d2luZG93O2EuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQmJihhPWEuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO3JldHVybiBhLm5vZGVUeXBlPT09dGI/YS5wYXJlbnROb2RlOmF9dmFyIHZiPUUuSG9zdFJvb3Qsd2I9W107XG5mdW5jdGlvbiB4YihhKXt2YXIgYj1hLnRhcmdldEluc3Q7ZG97aWYoIWIpe2EuYW5jZXN0b3JzLnB1c2goYik7YnJlYWt9dmFyIGM9YjtpZihcIm51bWJlclwiPT09dHlwZW9mIGMudGFnKXtmb3IoO2NbXCJyZXR1cm5cIl07KWM9Y1tcInJldHVyblwiXTtjPWMudGFnIT09dmI/bnVsbDpjLnN0YXRlTm9kZS5jb250YWluZXJJbmZvfWVsc2V7Zm9yKDtjLl9ob3N0UGFyZW50OyljPWMuX2hvc3RQYXJlbnQ7Yz1HLmdldE5vZGVGcm9tSW5zdGFuY2UoYykucGFyZW50Tm9kZX1pZighYylicmVhazthLmFuY2VzdG9ycy5wdXNoKGIpO2I9Ry5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjKX13aGlsZShiKTtmb3IoYz0wO2M8YS5hbmNlc3RvcnMubGVuZ3RoO2MrKyliPWEuYW5jZXN0b3JzW2NdLHliLl9oYW5kbGVUb3BMZXZlbChhLnRvcExldmVsVHlwZSxiLGEubmF0aXZlRXZlbnQsdWIoYS5uYXRpdmVFdmVudCkpfVxudmFyIHliPXtfZW5hYmxlZDohMCxfaGFuZGxlVG9wTGV2ZWw6bnVsbCxzZXRIYW5kbGVUb3BMZXZlbDpmdW5jdGlvbihhKXt5Yi5faGFuZGxlVG9wTGV2ZWw9YX0sc2V0RW5hYmxlZDpmdW5jdGlvbihhKXt5Yi5fZW5hYmxlZD0hIWF9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB5Yi5fZW5hYmxlZH0sdHJhcEJ1YmJsZWRFdmVudDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/YmEubGlzdGVuKGMsYix5Yi5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCxhKSk6bnVsbH0sdHJhcENhcHR1cmVkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP2JhLmNhcHR1cmUoYyxiLHliLmRpc3BhdGNoRXZlbnQuYmluZChudWxsLGEpKTpudWxsfSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGEsYil7aWYoeWIuX2VuYWJsZWQpe3ZhciBjPXViKGIpO2M9Ry5nZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjKTtudWxsPT09Y3x8XCJudW1iZXJcIiE9PXR5cGVvZiBjLnRhZ3x8YmIuaXNGaWJlck1vdW50ZWQoYyl8fFxuKGM9bnVsbCk7aWYod2IubGVuZ3RoKXt2YXIgZD13Yi5wb3AoKTtkLnRvcExldmVsVHlwZT1hO2QubmF0aXZlRXZlbnQ9YjtkLnRhcmdldEluc3Q9YzthPWR9ZWxzZSBhPXt0b3BMZXZlbFR5cGU6YSxuYXRpdmVFdmVudDpiLHRhcmdldEluc3Q6YyxhbmNlc3RvcnM6W119O3RyeXtzYi5iYXRjaGVkVXBkYXRlcyh4YixhKX1maW5hbGx5e2EudG9wTGV2ZWxUeXBlPW51bGwsYS5uYXRpdmVFdmVudD1udWxsLGEudGFyZ2V0SW5zdD1udWxsLGEuYW5jZXN0b3JzLmxlbmd0aD0wLDEwPndiLmxlbmd0aCYmd2IucHVzaChhKX19fX0sTD15YjtmdW5jdGlvbiBDYihhLGIpe251bGw9PWI/dyhcIjMwXCIpOnZvaWQgMDtpZihudWxsPT1hKXJldHVybiBiO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuIGEucHVzaC5hcHBseShhLGIpLGE7YS5wdXNoKGIpO3JldHVybiBhfXJldHVybiBBcnJheS5pc0FycmF5KGIpP1thXS5jb25jYXQoYik6W2EsYl19XG5mdW5jdGlvbiBEYihhLGIsYyl7QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goYixjKTphJiZiLmNhbGwoYyxhKX12YXIgRWI9bnVsbDtmdW5jdGlvbiBGYihhLGIpe2EmJihpYi5leGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoYSxiKSxhLmlzUGVyc2lzdGVudCgpfHxhLmNvbnN0cnVjdG9yLnJlbGVhc2UoYSkpfWZ1bmN0aW9uIEdiKGEpe3JldHVybiBGYihhLCEwKX1mdW5jdGlvbiBIYihhKXtyZXR1cm4gRmIoYSwhMSl9XG5mdW5jdGlvbiBJYihhLGIsYyl7c3dpdGNoKGEpe2Nhc2UgXCJvbkNsaWNrXCI6Y2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6Y2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpjYXNlIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIjpjYXNlIFwib25Nb3VzZURvd25cIjpjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlVXBcIjpjYXNlIFwib25Nb3VzZVVwQ2FwdHVyZVwiOnJldHVybiEoIWMuZGlzYWJsZWR8fFwiYnV0dG9uXCIhPT1iJiZcImlucHV0XCIhPT1iJiZcInNlbGVjdFwiIT09YiYmXCJ0ZXh0YXJlYVwiIT09Yik7ZGVmYXVsdDpyZXR1cm4hMX19XG52YXIgSmI9e2luamVjdGlvbjp7aW5qZWN0RXZlbnRQbHVnaW5PcmRlcjpzYS5pbmplY3RFdmVudFBsdWdpbk9yZGVyLGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTpzYS5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9LGdldExpc3RlbmVyOmZ1bmN0aW9uKGEsYil7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhLnRhZyl7dmFyIGM9YS5zdGF0ZU5vZGU7aWYoIWMpcmV0dXJuIG51bGw7dmFyIGQ9aWIuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShjKTtpZighZClyZXR1cm4gbnVsbDtjPWRbYl07aWYoSWIoYixhLnR5cGUsZCkpcmV0dXJuIG51bGx9ZWxzZXtkPWEuX2N1cnJlbnRFbGVtZW50O2lmKFwic3RyaW5nXCI9PT10eXBlb2YgZHx8XCJudW1iZXJcIj09PXR5cGVvZiBkfHwhYS5fcm9vdE5vZGVJRClyZXR1cm4gbnVsbDthPWQucHJvcHM7Yz1hW2JdO2lmKEliKGIsZC50eXBlLGEpKXJldHVybiBudWxsfWMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjP3coXCIyMzFcIixiLHR5cGVvZiBjKTp2b2lkIDA7XG5yZXR1cm4gY30sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGUsZj1zYS5wbHVnaW5zLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9ZltnXTtoJiYoaD1oLmV4dHJhY3RFdmVudHMoYSxiLGMsZCkpJiYoZT1DYihlLGgpKX1yZXR1cm4gZX0sZW5xdWV1ZUV2ZW50czpmdW5jdGlvbihhKXthJiYoRWI9Q2IoRWIsYSkpfSxwcm9jZXNzRXZlbnRRdWV1ZTpmdW5jdGlvbihhKXt2YXIgYj1FYjtFYj1udWxsO2E/RGIoYixHYik6RGIoYixIYik7RWI/dyhcIjk1XCIpOnZvaWQgMDtlYi5yZXRocm93Q2F1Z2h0RXJyb3IoKX19LEtiO2wuY2FuVXNlRE9NJiYoS2I9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUmJiEwIT09ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcIlwiLFwiXCIpKTtcbmZ1bmN0aW9uIExiKGEsYil7aWYoIWwuY2FuVXNlRE9NfHxiJiYhKFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZG9jdW1lbnQpKXJldHVybiExO2I9XCJvblwiK2E7dmFyIGM9YiBpbiBkb2N1bWVudDtjfHwoYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGMuc2V0QXR0cmlidXRlKGIsXCJyZXR1cm47XCIpLGM9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNbYl0pOyFjJiZLYiYmXCJ3aGVlbFwiPT09YSYmKGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcIkV2ZW50cy53aGVlbFwiLFwiMy4wXCIpKTtyZXR1cm4gY31mdW5jdGlvbiBNYihhLGIpe3ZhciBjPXt9O2NbYS50b0xvd2VyQ2FzZSgpXT1iLnRvTG93ZXJDYXNlKCk7Y1tcIldlYmtpdFwiK2FdPVwid2Via2l0XCIrYjtjW1wiTW96XCIrYV09XCJtb3pcIitiO2NbXCJtc1wiK2FdPVwiTVNcIitiO2NbXCJPXCIrYV09XCJvXCIrYi50b0xvd2VyQ2FzZSgpO3JldHVybiBjfVxudmFyIE5iPXthbmltYXRpb25lbmQ6TWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkVuZFwiKSxhbmltYXRpb25pdGVyYXRpb246TWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSxhbmltYXRpb25zdGFydDpNYihcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uU3RhcnRcIiksdHJhbnNpdGlvbmVuZDpNYihcIlRyYW5zaXRpb25cIixcIlRyYW5zaXRpb25FbmRcIil9LE9iPXt9LFBiPXt9O2wuY2FuVXNlRE9NJiYoUGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgTmIuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgTmIuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgTmIuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgTmIudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTtcbmZ1bmN0aW9uIFFiKGEpe2lmKE9iW2FdKXJldHVybiBPYlthXTtpZighTmJbYV0pcmV0dXJuIGE7dmFyIGI9TmJbYV0sYztmb3IoYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykmJmMgaW4gUGIpcmV0dXJuIE9iW2FdPWJbY107cmV0dXJuXCJcIn1cbnZhciBSYj17dG9wQWJvcnQ6XCJhYm9ydFwiLHRvcEFuaW1hdGlvbkVuZDpRYihcImFuaW1hdGlvbmVuZFwiKXx8XCJhbmltYXRpb25lbmRcIix0b3BBbmltYXRpb25JdGVyYXRpb246UWIoXCJhbmltYXRpb25pdGVyYXRpb25cIil8fFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIsdG9wQW5pbWF0aW9uU3RhcnQ6UWIoXCJhbmltYXRpb25zdGFydFwiKXx8XCJhbmltYXRpb25zdGFydFwiLHRvcEJsdXI6XCJibHVyXCIsdG9wQ2FuY2VsOlwiY2FuY2VsXCIsdG9wQ2FuUGxheTpcImNhbnBsYXlcIix0b3BDYW5QbGF5VGhyb3VnaDpcImNhbnBsYXl0aHJvdWdoXCIsdG9wQ2hhbmdlOlwiY2hhbmdlXCIsdG9wQ2xpY2s6XCJjbGlja1wiLHRvcENsb3NlOlwiY2xvc2VcIix0b3BDb21wb3NpdGlvbkVuZDpcImNvbXBvc2l0aW9uZW5kXCIsdG9wQ29tcG9zaXRpb25TdGFydDpcImNvbXBvc2l0aW9uc3RhcnRcIix0b3BDb21wb3NpdGlvblVwZGF0ZTpcImNvbXBvc2l0aW9udXBkYXRlXCIsdG9wQ29udGV4dE1lbnU6XCJjb250ZXh0bWVudVwiLHRvcENvcHk6XCJjb3B5XCIsXG50b3BDdXQ6XCJjdXRcIix0b3BEb3VibGVDbGljazpcImRibGNsaWNrXCIsdG9wRHJhZzpcImRyYWdcIix0b3BEcmFnRW5kOlwiZHJhZ2VuZFwiLHRvcERyYWdFbnRlcjpcImRyYWdlbnRlclwiLHRvcERyYWdFeGl0OlwiZHJhZ2V4aXRcIix0b3BEcmFnTGVhdmU6XCJkcmFnbGVhdmVcIix0b3BEcmFnT3ZlcjpcImRyYWdvdmVyXCIsdG9wRHJhZ1N0YXJ0OlwiZHJhZ3N0YXJ0XCIsdG9wRHJvcDpcImRyb3BcIix0b3BEdXJhdGlvbkNoYW5nZTpcImR1cmF0aW9uY2hhbmdlXCIsdG9wRW1wdGllZDpcImVtcHRpZWRcIix0b3BFbmNyeXB0ZWQ6XCJlbmNyeXB0ZWRcIix0b3BFbmRlZDpcImVuZGVkXCIsdG9wRXJyb3I6XCJlcnJvclwiLHRvcEZvY3VzOlwiZm9jdXNcIix0b3BJbnB1dDpcImlucHV0XCIsdG9wS2V5RG93bjpcImtleWRvd25cIix0b3BLZXlQcmVzczpcImtleXByZXNzXCIsdG9wS2V5VXA6XCJrZXl1cFwiLHRvcExvYWRlZERhdGE6XCJsb2FkZWRkYXRhXCIsdG9wTG9hZDpcImxvYWRcIix0b3BMb2FkZWRNZXRhZGF0YTpcImxvYWRlZG1ldGFkYXRhXCIsdG9wTG9hZFN0YXJ0OlwibG9hZHN0YXJ0XCIsXG50b3BNb3VzZURvd246XCJtb3VzZWRvd25cIix0b3BNb3VzZU1vdmU6XCJtb3VzZW1vdmVcIix0b3BNb3VzZU91dDpcIm1vdXNlb3V0XCIsdG9wTW91c2VPdmVyOlwibW91c2VvdmVyXCIsdG9wTW91c2VVcDpcIm1vdXNldXBcIix0b3BQYXN0ZTpcInBhc3RlXCIsdG9wUGF1c2U6XCJwYXVzZVwiLHRvcFBsYXk6XCJwbGF5XCIsdG9wUGxheWluZzpcInBsYXlpbmdcIix0b3BQcm9ncmVzczpcInByb2dyZXNzXCIsdG9wUmF0ZUNoYW5nZTpcInJhdGVjaGFuZ2VcIix0b3BTY3JvbGw6XCJzY3JvbGxcIix0b3BTZWVrZWQ6XCJzZWVrZWRcIix0b3BTZWVraW5nOlwic2Vla2luZ1wiLHRvcFNlbGVjdGlvbkNoYW5nZTpcInNlbGVjdGlvbmNoYW5nZVwiLHRvcFN0YWxsZWQ6XCJzdGFsbGVkXCIsdG9wU3VzcGVuZDpcInN1c3BlbmRcIix0b3BUZXh0SW5wdXQ6XCJ0ZXh0SW5wdXRcIix0b3BUaW1lVXBkYXRlOlwidGltZXVwZGF0ZVwiLHRvcFRvZ2dsZTpcInRvZ2dsZVwiLHRvcFRvdWNoQ2FuY2VsOlwidG91Y2hjYW5jZWxcIix0b3BUb3VjaEVuZDpcInRvdWNoZW5kXCIsdG9wVG91Y2hNb3ZlOlwidG91Y2htb3ZlXCIsXG50b3BUb3VjaFN0YXJ0OlwidG91Y2hzdGFydFwiLHRvcFRyYW5zaXRpb25FbmQ6UWIoXCJ0cmFuc2l0aW9uZW5kXCIpfHxcInRyYW5zaXRpb25lbmRcIix0b3BWb2x1bWVDaGFuZ2U6XCJ2b2x1bWVjaGFuZ2VcIix0b3BXYWl0aW5nOlwid2FpdGluZ1wiLHRvcFdoZWVsOlwid2hlZWxcIn0sU2I9e30sVGI9MCxVYj1cIl9yZWFjdExpc3RlbmVyc0lEXCIrKFwiXCIrTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7ZnVuY3Rpb24gVmIoYSl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsVWIpfHwoYVtVYl09VGIrKyxTYlthW1ViXV09e30pO3JldHVybiBTYlthW1ViXV19XG52YXIgTT1uKHt9LHtoYW5kbGVUb3BMZXZlbDpmdW5jdGlvbihhLGIsYyxkKXthPUpiLmV4dHJhY3RFdmVudHMoYSxiLGMsZCk7SmIuZW5xdWV1ZUV2ZW50cyhhKTtKYi5wcm9jZXNzRXZlbnRRdWV1ZSghMSl9fSx7c2V0RW5hYmxlZDpmdW5jdGlvbihhKXtMJiZMLnNldEVuYWJsZWQoYSl9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEoIUx8fCFMLmlzRW5hYmxlZCgpKX0sbGlzdGVuVG86ZnVuY3Rpb24oYSxiKXt2YXIgYz1WYihiKTthPXNhLnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbYV07Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF07Yy5oYXNPd25Qcm9wZXJ0eShlKSYmY1tlXXx8KFwidG9wV2hlZWxcIj09PWU/TGIoXCJ3aGVlbFwiKT9MLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BXaGVlbFwiLFwid2hlZWxcIixiKTpMYihcIm1vdXNld2hlZWxcIik/TC50cmFwQnViYmxlZEV2ZW50KFwidG9wV2hlZWxcIixcIm1vdXNld2hlZWxcIixiKTpMLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BXaGVlbFwiLFxuXCJET01Nb3VzZVNjcm9sbFwiLGIpOlwidG9wU2Nyb2xsXCI9PT1lP0wudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BTY3JvbGxcIixcInNjcm9sbFwiLGIpOlwidG9wRm9jdXNcIj09PWV8fFwidG9wQmx1clwiPT09ZT8oTC50cmFwQ2FwdHVyZWRFdmVudChcInRvcEZvY3VzXCIsXCJmb2N1c1wiLGIpLEwudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BCbHVyXCIsXCJibHVyXCIsYiksYy50b3BCbHVyPSEwLGMudG9wRm9jdXM9ITApOlwidG9wQ2FuY2VsXCI9PT1lPyhMYihcImNhbmNlbFwiLCEwKSYmTC50cmFwQ2FwdHVyZWRFdmVudChcInRvcENhbmNlbFwiLFwiY2FuY2VsXCIsYiksYy50b3BDYW5jZWw9ITApOlwidG9wQ2xvc2VcIj09PWU/KExiKFwiY2xvc2VcIiwhMCkmJkwudHJhcENhcHR1cmVkRXZlbnQoXCJ0b3BDbG9zZVwiLFwiY2xvc2VcIixiKSxjLnRvcENsb3NlPSEwKTpSYi5oYXNPd25Qcm9wZXJ0eShlKSYmTC50cmFwQnViYmxlZEV2ZW50KGUsUmJbZV0sYiksY1tlXT0hMCl9fSxpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzOmZ1bmN0aW9uKGEsXG5iKXtiPVZiKGIpO2E9c2EucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1thXTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXTtpZighYi5oYXNPd25Qcm9wZXJ0eShkKXx8IWJbZF0pcmV0dXJuITF9cmV0dXJuITB9LHRyYXBCdWJibGVkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBMLnRyYXBCdWJibGVkRXZlbnQoYSxiLGMpfSx0cmFwQ2FwdHVyZWRFdmVudDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwudHJhcENhcHR1cmVkRXZlbnQoYSxiLGMpfX0pLFdiPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGNvbHVtbnM6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsXG5mbGV4T3JkZXI6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTcGFuOiEwLGdyaWRSb3dTdGFydDohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblNwYW46ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUNsYW1wOiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHRhYlNpemU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LFhiPVtcIldlYmtpdFwiLFwibXNcIixcIk1velwiLFwiT1wiXTtcbk9iamVjdC5rZXlzKFdiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe1hiLmZvckVhY2goZnVuY3Rpb24oYil7Yj1iK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7V2JbYl09V2JbYV19KX0pO1xudmFyIFliPXtpc1VuaXRsZXNzTnVtYmVyOldiLHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uczp7YmFja2dyb3VuZDp7YmFja2dyb3VuZEF0dGFjaG1lbnQ6ITAsYmFja2dyb3VuZENvbG9yOiEwLGJhY2tncm91bmRJbWFnZTohMCxiYWNrZ3JvdW5kUG9zaXRpb25YOiEwLGJhY2tncm91bmRQb3NpdGlvblk6ITAsYmFja2dyb3VuZFJlcGVhdDohMH0sYmFja2dyb3VuZFBvc2l0aW9uOntiYWNrZ3JvdW5kUG9zaXRpb25YOiEwLGJhY2tncm91bmRQb3NpdGlvblk6ITB9LGJvcmRlcjp7Ym9yZGVyV2lkdGg6ITAsYm9yZGVyU3R5bGU6ITAsYm9yZGVyQ29sb3I6ITB9LGJvcmRlckJvdHRvbTp7Ym9yZGVyQm90dG9tV2lkdGg6ITAsYm9yZGVyQm90dG9tU3R5bGU6ITAsYm9yZGVyQm90dG9tQ29sb3I6ITB9LGJvcmRlckxlZnQ6e2JvcmRlckxlZnRXaWR0aDohMCxib3JkZXJMZWZ0U3R5bGU6ITAsYm9yZGVyTGVmdENvbG9yOiEwfSxib3JkZXJSaWdodDp7Ym9yZGVyUmlnaHRXaWR0aDohMCxib3JkZXJSaWdodFN0eWxlOiEwLFxuYm9yZGVyUmlnaHRDb2xvcjohMH0sYm9yZGVyVG9wOntib3JkZXJUb3BXaWR0aDohMCxib3JkZXJUb3BTdHlsZTohMCxib3JkZXJUb3BDb2xvcjohMH0sZm9udDp7Zm9udFN0eWxlOiEwLGZvbnRWYXJpYW50OiEwLGZvbnRXZWlnaHQ6ITAsZm9udFNpemU6ITAsbGluZUhlaWdodDohMCxmb250RmFtaWx5OiEwfSxvdXRsaW5lOntvdXRsaW5lV2lkdGg6ITAsb3V0bGluZVN0eWxlOiEwLG91dGxpbmVDb2xvcjohMH19fSxaYj1ZYi5pc1VuaXRsZXNzTnVtYmVyLCRiPSExO2lmKGwuY2FuVXNlRE9NKXt2YXIgYWM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTt0cnl7YWMuZm9udD1cIlwifWNhdGNoKGEpeyRiPSEwfX1cbnZhciBiYz17Y3JlYXRlRGFuZ2Vyb3VzU3RyaW5nRm9yU3R5bGVzOmZ1bmN0aW9uKCl7fSxzZXRWYWx1ZUZvclN0eWxlczpmdW5jdGlvbihhLGIpe2E9YS5zdHlsZTtmb3IodmFyIGMgaW4gYilpZihiLmhhc093blByb3BlcnR5KGMpKXt2YXIgZD0wPT09Yy5pbmRleE9mKFwiLS1cIik7dmFyIGU9Yzt2YXIgZj1iW2NdO2U9bnVsbD09Znx8XCJib29sZWFuXCI9PT10eXBlb2YgZnx8XCJcIj09PWY/XCJcIjpkfHxcIm51bWJlclwiIT09dHlwZW9mIGZ8fDA9PT1mfHxaYi5oYXNPd25Qcm9wZXJ0eShlKSYmWmJbZV0/KFwiXCIrZikudHJpbSgpOmYrXCJweFwiO1wiZmxvYXRcIj09PWMmJihjPVwiY3NzRmxvYXRcIik7aWYoZClhLnNldFByb3BlcnR5KGMsZSk7ZWxzZSBpZihlKWFbY109ZTtlbHNlIGlmKGQ9JGImJlliLnNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tjXSlmb3IodmFyIGcgaW4gZClhW2ddPVwiXCI7ZWxzZSBhW2NdPVwiXCJ9fX0sY2M9bmV3IFJlZ0V4cChcIl5bXCIrQS5BVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSK1xuXCJdW1wiK0EuQVRUUklCVVRFX05BTUVfQ0hBUitcIl0qJFwiKSxkYz17fSxlYz17fTtmdW5jdGlvbiBmYyhhKXtpZihlYy5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm4hMDtpZihkYy5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm4hMTtpZihjYy50ZXN0KGEpKXJldHVybiBlY1thXT0hMDtkY1thXT0hMDtyZXR1cm4hMX1cbnZhciBnYz17c2V0QXR0cmlidXRlRm9ySUQ6ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZShBLklEX0FUVFJJQlVURV9OQU1FLGIpfSxzZXRBdHRyaWJ1dGVGb3JSb290OmZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKEEuUk9PVF9BVFRSSUJVVEVfTkFNRSxcIlwiKX0sZ2V0VmFsdWVGb3JQcm9wZXJ0eTpmdW5jdGlvbigpe30sZ2V0VmFsdWVGb3JBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt9LHNldFZhbHVlRm9yUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUEuZ2V0UHJvcGVydHlJbmZvKGIpO2lmKGQmJkEuc2hvdWxkU2V0QXR0cmlidXRlKGIsYykpe3ZhciBlPWQubXV0YXRpb25NZXRob2Q7ZT9lKGEsYyk6bnVsbD09Y3x8ZC5oYXNCb29sZWFuVmFsdWUmJiFjfHxkLmhhc051bWVyaWNWYWx1ZSYmaXNOYU4oYyl8fGQuaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUmJjE+Y3x8ZC5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlJiYhMT09PWM/Z2MuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShhLFxuYik6ZC5tdXN0VXNlUHJvcGVydHk/YVtkLnByb3BlcnR5TmFtZV09YzooYj1kLmF0dHJpYnV0ZU5hbWUsKGU9ZC5hdHRyaWJ1dGVOYW1lc3BhY2UpP2Euc2V0QXR0cmlidXRlTlMoZSxiLFwiXCIrYyk6ZC5oYXNCb29sZWFuVmFsdWV8fGQuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSYmITA9PT1jP2Euc2V0QXR0cmlidXRlKGIsXCJcIik6YS5zZXRBdHRyaWJ1dGUoYixcIlwiK2MpKX1lbHNlIGdjLnNldFZhbHVlRm9yQXR0cmlidXRlKGEsYixBLnNob3VsZFNldEF0dHJpYnV0ZShiLGMpP2M6bnVsbCl9LHNldFZhbHVlRm9yQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtmYyhiKSYmKG51bGw9PWM/YS5yZW1vdmVBdHRyaWJ1dGUoYik6YS5zZXRBdHRyaWJ1dGUoYixcIlwiK2MpKX0sZGVsZXRlVmFsdWVGb3JBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUF0dHJpYnV0ZShiKX0sZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe3ZhciBjPUEuZ2V0UHJvcGVydHlJbmZvKGIpO1xuYz8oYj1jLm11dGF0aW9uTWV0aG9kKT9iKGEsdm9pZCAwKTpjLm11c3RVc2VQcm9wZXJ0eT9hW2MucHJvcGVydHlOYW1lXT1jLmhhc0Jvb2xlYW5WYWx1ZT8hMTpcIlwiOmEucmVtb3ZlQXR0cmlidXRlKGMuYXR0cmlidXRlTmFtZSk6YS5yZW1vdmVBdHRyaWJ1dGUoYil9fSxoYz1nYyxpYz1RYS5SZWFjdERlYnVnQ3VycmVudEZyYW1lO2Z1bmN0aW9uIGpjKCl7cmV0dXJuIG51bGx9XG52YXIga2M9e2N1cnJlbnQ6bnVsbCxwaGFzZTpudWxsLHJlc2V0Q3VycmVudEZpYmVyOmZ1bmN0aW9uKCl7aWMuZ2V0Q3VycmVudFN0YWNrPW51bGw7a2MuY3VycmVudD1udWxsO2tjLnBoYXNlPW51bGx9LHNldEN1cnJlbnRGaWJlcjpmdW5jdGlvbihhLGIpe2ljLmdldEN1cnJlbnRTdGFjaz1qYztrYy5jdXJyZW50PWE7a2MucGhhc2U9Yn0sZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW06amN9LGxjPWtjLG1jPXtnZXRIb3N0UHJvcHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnZhbHVlLGQ9Yi5jaGVja2VkO3JldHVybiBuKHt0eXBlOnZvaWQgMCxzdGVwOnZvaWQgMCxtaW46dm9pZCAwLG1heDp2b2lkIDB9LGIse2RlZmF1bHRDaGVja2VkOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwLHZhbHVlOm51bGwhPWM/YzphLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlLGNoZWNrZWQ6bnVsbCE9ZD9cbmQ6YS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9LGluaXRXcmFwcGVyU3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmRlZmF1bHRWYWx1ZTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxDaGVja2VkOm51bGwhPWIuY2hlY2tlZD9iLmNoZWNrZWQ6Yi5kZWZhdWx0Q2hlY2tlZCxpbml0aWFsVmFsdWU6bnVsbCE9Yi52YWx1ZT9iLnZhbHVlOmMsY29udHJvbGxlZDpcImNoZWNrYm94XCI9PT1iLnR5cGV8fFwicmFkaW9cIj09PWIudHlwZT9udWxsIT1iLmNoZWNrZWQ6bnVsbCE9Yi52YWx1ZX19LHVwZGF0ZVdyYXBwZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoZWNrZWQ7bnVsbCE9YyYmaGMuc2V0VmFsdWVGb3JQcm9wZXJ0eShhLFwiY2hlY2tlZFwiLGN8fCExKTtjPWIudmFsdWU7aWYobnVsbCE9YylpZigwPT09YyYmXCJcIj09PWEudmFsdWUpYS52YWx1ZT1cIjBcIjtlbHNlIGlmKFwibnVtYmVyXCI9PT1iLnR5cGUpe2lmKGI9cGFyc2VGbG9hdChhLnZhbHVlKXx8MCxjIT1ifHxjPT1iJiZhLnZhbHVlIT1cbmMpYS52YWx1ZT1cIlwiK2N9ZWxzZSBhLnZhbHVlIT09XCJcIitjJiYoYS52YWx1ZT1cIlwiK2MpO2Vsc2UgbnVsbD09Yi52YWx1ZSYmbnVsbCE9Yi5kZWZhdWx0VmFsdWUmJmEuZGVmYXVsdFZhbHVlIT09XCJcIitiLmRlZmF1bHRWYWx1ZSYmKGEuZGVmYXVsdFZhbHVlPVwiXCIrYi5kZWZhdWx0VmFsdWUpLG51bGw9PWIuY2hlY2tlZCYmbnVsbCE9Yi5kZWZhdWx0Q2hlY2tlZCYmKGEuZGVmYXVsdENoZWNrZWQ9ISFiLmRlZmF1bHRDaGVja2VkKX0scG9zdE1vdW50V3JhcHBlcjpmdW5jdGlvbihhLGIpe3N3aXRjaChiLnR5cGUpe2Nhc2UgXCJzdWJtaXRcIjpjYXNlIFwicmVzZXRcIjpicmVhaztjYXNlIFwiY29sb3JcIjpjYXNlIFwiZGF0ZVwiOmNhc2UgXCJkYXRldGltZVwiOmNhc2UgXCJkYXRldGltZS1sb2NhbFwiOmNhc2UgXCJtb250aFwiOmNhc2UgXCJ0aW1lXCI6Y2FzZSBcIndlZWtcIjphLnZhbHVlPVwiXCI7YS52YWx1ZT1hLmRlZmF1bHRWYWx1ZTticmVhaztkZWZhdWx0OmEudmFsdWU9YS52YWx1ZX1iPWEubmFtZTtcIlwiIT09XG5iJiYoYS5uYW1lPVwiXCIpO2EuZGVmYXVsdENoZWNrZWQ9IWEuZGVmYXVsdENoZWNrZWQ7YS5kZWZhdWx0Q2hlY2tlZD0hYS5kZWZhdWx0Q2hlY2tlZDtcIlwiIT09YiYmKGEubmFtZT1iKX0scmVzdG9yZUNvbnRyb2xsZWRTdGF0ZTpmdW5jdGlvbihhLGIpe21jLnVwZGF0ZVdyYXBwZXIoYSxiKTt2YXIgYz1iLm5hbWU7aWYoXCJyYWRpb1wiPT09Yi50eXBlJiZudWxsIT1jKXtmb3IoYj1hO2IucGFyZW50Tm9kZTspYj1iLnBhcmVudE5vZGU7Yz1iLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lXFx4M2RcIitKU09OLnN0cmluZ2lmeShcIlwiK2MpKyddW3R5cGVcXHgzZFwicmFkaW9cIl0nKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZD1jW2JdO2lmKGQhPT1hJiZkLmZvcm09PT1hLmZvcm0pe3ZhciBlPUcuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShkKTtlP3ZvaWQgMDp3KFwiOTBcIik7bWMudXBkYXRlV3JhcHBlcihkLGUpfX19fX0scWM9bWM7XG5mdW5jdGlvbiByYyhhKXt2YXIgYj1cIlwiO2FhLkNoaWxkcmVuLmZvckVhY2goYSxmdW5jdGlvbihhKXtudWxsPT1hfHxcInN0cmluZ1wiIT09dHlwZW9mIGEmJlwibnVtYmVyXCIhPT10eXBlb2YgYXx8KGIrPWEpfSk7cmV0dXJuIGJ9dmFyIHNjPXt2YWxpZGF0ZVByb3BzOmZ1bmN0aW9uKCl7fSxwb3N0TW91bnRXcmFwcGVyOmZ1bmN0aW9uKGEsYil7bnVsbCE9Yi52YWx1ZSYmYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGIudmFsdWUpfSxnZXRIb3N0UHJvcHM6ZnVuY3Rpb24oYSxiKXthPW4oe2NoaWxkcmVuOnZvaWQgMH0sYik7aWYoYj1yYyhiLmNoaWxkcmVuKSlhLmNoaWxkcmVuPWI7cmV0dXJuIGF9fTtcbmZ1bmN0aW9uIHRjKGEsYixjKXthPWEub3B0aW9ucztpZihiKXtiPXt9O2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWJbXCIkXCIrY1tkXV09ITA7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylkPWIuaGFzT3duUHJvcGVydHkoXCIkXCIrYVtjXS52YWx1ZSksYVtjXS5zZWxlY3RlZCE9PWQmJihhW2NdLnNlbGVjdGVkPWQpfWVsc2V7Yz1cIlwiK2M7Yj1udWxsO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe2lmKGFbZF0udmFsdWU9PT1jKXthW2RdLnNlbGVjdGVkPSEwO3JldHVybn1udWxsIT09Ynx8YVtkXS5kaXNhYmxlZHx8KGI9YVtkXSl9bnVsbCE9PWImJihiLnNlbGVjdGVkPSEwKX19XG52YXIgdWM9e2dldEhvc3RQcm9wczpmdW5jdGlvbihhLGIpe3JldHVybiBuKHt9LGIse3ZhbHVlOnZvaWQgMH0pfSxpbml0V3JhcHBlclN0YXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWx1ZTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpudWxsIT1jP2M6Yi5kZWZhdWx0VmFsdWUsd2FzTXVsdGlwbGU6ISFiLm11bHRpcGxlfX0scG9zdE1vdW50V3JhcHBlcjpmdW5jdGlvbihhLGIpe2EubXVsdGlwbGU9ISFiLm11bHRpcGxlO3ZhciBjPWIudmFsdWU7bnVsbCE9Yz90YyhhLCEhYi5tdWx0aXBsZSxjKTpudWxsIT1iLmRlZmF1bHRWYWx1ZSYmdGMoYSwhIWIubXVsdGlwbGUsYi5kZWZhdWx0VmFsdWUpfSxwb3N0VXBkYXRlV3JhcHBlcjpmdW5jdGlvbihhLGIpe2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU9dm9pZCAwO3ZhciBjPWEuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZTthLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU9ISFiLm11bHRpcGxlO3ZhciBkPWIudmFsdWU7XG5udWxsIT1kP3RjKGEsISFiLm11bHRpcGxlLGQpOmMhPT0hIWIubXVsdGlwbGUmJihudWxsIT1iLmRlZmF1bHRWYWx1ZT90YyhhLCEhYi5tdWx0aXBsZSxiLmRlZmF1bHRWYWx1ZSk6dGMoYSwhIWIubXVsdGlwbGUsYi5tdWx0aXBsZT9bXTpcIlwiKSl9LHJlc3RvcmVDb250cm9sbGVkU3RhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnZhbHVlO251bGwhPWMmJnRjKGEsISFiLm11bHRpcGxlLGMpfX0sdmM9e2dldEhvc3RQcm9wczpmdW5jdGlvbihhLGIpe251bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/dyhcIjkxXCIpOnZvaWQgMDtyZXR1cm4gbih7fSxiLHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX0saW5pdFdyYXBwZXJTdGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIudmFsdWUsZD1jO251bGw9PWMmJihjPWIuZGVmYXVsdFZhbHVlLGI9Yi5jaGlsZHJlbixudWxsIT1iJiYobnVsbCE9Yz9cbncoXCI5MlwiKTp2b2lkIDAsQXJyYXkuaXNBcnJheShiKSYmKDE+PWIubGVuZ3RoP3ZvaWQgMDp3KFwiOTNcIiksYj1iWzBdKSxjPVwiXCIrYiksbnVsbD09YyYmKGM9XCJcIiksZD1jKTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpcIlwiK2R9fSx1cGRhdGVXcmFwcGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWx1ZTtudWxsIT1jJiYoYz1cIlwiK2MsYyE9PWEudmFsdWUmJihhLnZhbHVlPWMpLG51bGw9PWIuZGVmYXVsdFZhbHVlJiYoYS5kZWZhdWx0VmFsdWU9YykpO251bGwhPWIuZGVmYXVsdFZhbHVlJiYoYS5kZWZhdWx0VmFsdWU9Yi5kZWZhdWx0VmFsdWUpfSxwb3N0TW91bnRXcmFwcGVyOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGV4dENvbnRlbnQ7Yj09PWEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUmJihhLnZhbHVlPWIpfSxyZXN0b3JlQ29udHJvbGxlZFN0YXRlOmZ1bmN0aW9uKGEsYil7dmMudXBkYXRlV3JhcHBlcihhLGIpfX0sd2M9dmMseGM9bih7bWVudWl0ZW06ITB9LHthcmVhOiEwLFxuYmFzZTohMCxicjohMCxjb2w6ITAsZW1iZWQ6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMH0pO2Z1bmN0aW9uIHljKGEsYil7YiYmKHhjW2FdJiYobnVsbCE9Yi5jaGlsZHJlbnx8bnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTD93KFwiMTM3XCIsYSxcIlwiKTp2b2lkIDApLG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJihudWxsIT1iLmNoaWxkcmVuP3coXCI2MFwiKTp2b2lkIDAsXCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZcIl9faHRtbFwiaW4gYi5kYW5nZXJvdXNseVNldElubmVySFRNTD92b2lkIDA6dyhcIjYxXCIpKSxudWxsIT1iLnN0eWxlJiZcIm9iamVjdFwiIT09dHlwZW9mIGIuc3R5bGU/dyhcIjYyXCIsXCJcIik6dm9pZCAwKX1cbmZ1bmN0aW9uIHpjKGEpe3ZhciBiPWEudHlwZTtyZXR1cm4oYT1hLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09YS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09Ynx8XCJyYWRpb1wiPT09Yil9XG5mdW5jdGlvbiBBYyhhKXt2YXIgYj16YyhhKT9cImNoZWNrZWRcIjpcInZhbHVlXCIsYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEuY29uc3RydWN0b3IucHJvdG90eXBlLGIpLGQ9XCJcIithW2JdO2lmKCFhLmhhc093blByb3BlcnR5KGIpJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5nZXQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLnNldClyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7ZW51bWVyYWJsZTpjLmVudW1lcmFibGUsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjLmdldC5jYWxsKHRoaXMpfSxzZXQ6ZnVuY3Rpb24oYSl7ZD1cIlwiK2E7Yy5zZXQuY2FsbCh0aGlzLGEpfX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBkfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtkPVwiXCIrYX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7YS5fdmFsdWVUcmFja2VyPW51bGw7ZGVsZXRlIGFbYl19fX1cbnZhciBCYz17X2dldFRyYWNrZXJGcm9tTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5fdmFsdWVUcmFja2VyfSx0cmFjazpmdW5jdGlvbihhKXthLl92YWx1ZVRyYWNrZXJ8fChhLl92YWx1ZVRyYWNrZXI9QWMoYSkpfSx1cGRhdGVWYWx1ZUlmQ2hhbmdlZDpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTt2YXIgYj1hLl92YWx1ZVRyYWNrZXI7aWYoIWIpcmV0dXJuITA7dmFyIGM9Yi5nZXRWYWx1ZSgpO3ZhciBkPVwiXCI7YSYmKGQ9emMoYSk/YS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjphLnZhbHVlKTthPWQ7cmV0dXJuIGEhPT1jPyhiLnNldFZhbHVlKGEpLCEwKTohMX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKGEpeyhhPWEuX3ZhbHVlVHJhY2tlcikmJmEuc3RvcFRyYWNraW5nKCl9fTtcbmZ1bmN0aW9uIENjKGEsYil7aWYoLTE9PT1hLmluZGV4T2YoXCItXCIpKXJldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYi5pcztzd2l0Y2goYSl7Y2FzZSBcImFubm90YXRpb24teG1sXCI6Y2FzZSBcImNvbG9yLXByb2ZpbGVcIjpjYXNlIFwiZm9udC1mYWNlXCI6Y2FzZSBcImZvbnQtZmFjZS1zcmNcIjpjYXNlIFwiZm9udC1mYWNlLXVyaVwiOmNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6Y2FzZSBcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX1cbnZhciBEYz1rYS5OYW1lc3BhY2VzLEVjLEZjPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKGIsYyxkLGUpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIGEoYixjLGQsZSl9KX06YX0oZnVuY3Rpb24oYSxiKXtpZihhLm5hbWVzcGFjZVVSSSE9PURjLnN2Z3x8XCJpbm5lckhUTUxcImluIGEpYS5pbm5lckhUTUw9YjtlbHNlIGZvcihFYz1FY3x8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxFYy5pbm5lckhUTUw9XCJcXHgzY3N2Z1xceDNlXCIrYitcIlxceDNjL3N2Z1xceDNlXCIsYj1FYy5maXJzdENoaWxkO2IuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChiLmZpcnN0Q2hpbGQpfSksR2M9L1tcIicmPD5dLyxIYz1GLlRFWFRfTk9ERTtcbmZ1bmN0aW9uIEljKGEsYil7aWYoYil7dmFyIGM9YS5maXJzdENoaWxkO2lmKGMmJmM9PT1hLmxhc3RDaGlsZCYmYy5ub2RlVHlwZT09PUhjKXtjLm5vZGVWYWx1ZT1iO3JldHVybn19YS50ZXh0Q29udGVudD1ifVxubC5jYW5Vc2VET00mJihcInRleHRDb250ZW50XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fChJYz1mdW5jdGlvbihhLGIpe2lmKGEubm9kZVR5cGU9PT1IYylhLm5vZGVWYWx1ZT1iO2Vsc2V7aWYoXCJib29sZWFuXCI9PT10eXBlb2YgYnx8XCJudW1iZXJcIj09PXR5cGVvZiBiKWI9XCJcIitiO2Vsc2V7Yj1cIlwiK2I7dmFyIGM9R2MuZXhlYyhiKTtpZihjKXt2YXIgZD1cIlwiLGUsZj0wO2ZvcihlPWMuaW5kZXg7ZTxiLmxlbmd0aDtlKyspe3N3aXRjaChiLmNoYXJDb2RlQXQoZSkpe2Nhc2UgMzQ6Yz1cIlxceDI2cXVvdDtcIjticmVhaztjYXNlIDM4OmM9XCJcXHgyNmFtcDtcIjticmVhaztjYXNlIDM5OmM9XCJcXHgyNiN4Mjc7XCI7YnJlYWs7Y2FzZSA2MDpjPVwiXFx4MjZsdDtcIjticmVhaztjYXNlIDYyOmM9XCJcXHgyNmd0O1wiO2JyZWFrO2RlZmF1bHQ6Y29udGludWV9ZiE9PWUmJihkKz1iLnN1YnN0cmluZyhmLGUpKTtmPWUrMTtkKz1jfWI9ZiE9PWU/ZCtiLnN1YnN0cmluZyhmLGUpOmR9fUZjKGEsYil9fSkpO1xudmFyIEpjPUljLEtjPWxjLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZSxMYz1GLkRPQ1VNRU5UX05PREUsTWM9Ri5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFLE5jPU0ubGlzdGVuVG8sT2M9c2EucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsUGM9a2EuTmFtZXNwYWNlcy5odG1sLFFjPWthLmdldEludHJpbnNpY05hbWVzcGFjZTtmdW5jdGlvbiBSYyhhLGIpe05jKGIsYS5ub2RlVHlwZT09PUxjfHxhLm5vZGVUeXBlPT09TWM/YTphLm93bmVyRG9jdW1lbnQpfVxudmFyIFNjPXt0b3BBYm9ydDpcImFib3J0XCIsdG9wQ2FuUGxheTpcImNhbnBsYXlcIix0b3BDYW5QbGF5VGhyb3VnaDpcImNhbnBsYXl0aHJvdWdoXCIsdG9wRHVyYXRpb25DaGFuZ2U6XCJkdXJhdGlvbmNoYW5nZVwiLHRvcEVtcHRpZWQ6XCJlbXB0aWVkXCIsdG9wRW5jcnlwdGVkOlwiZW5jcnlwdGVkXCIsdG9wRW5kZWQ6XCJlbmRlZFwiLHRvcEVycm9yOlwiZXJyb3JcIix0b3BMb2FkZWREYXRhOlwibG9hZGVkZGF0YVwiLHRvcExvYWRlZE1ldGFkYXRhOlwibG9hZGVkbWV0YWRhdGFcIix0b3BMb2FkU3RhcnQ6XCJsb2Fkc3RhcnRcIix0b3BQYXVzZTpcInBhdXNlXCIsdG9wUGxheTpcInBsYXlcIix0b3BQbGF5aW5nOlwicGxheWluZ1wiLHRvcFByb2dyZXNzOlwicHJvZ3Jlc3NcIix0b3BSYXRlQ2hhbmdlOlwicmF0ZWNoYW5nZVwiLHRvcFNlZWtlZDpcInNlZWtlZFwiLHRvcFNlZWtpbmc6XCJzZWVraW5nXCIsdG9wU3RhbGxlZDpcInN0YWxsZWRcIix0b3BTdXNwZW5kOlwic3VzcGVuZFwiLHRvcFRpbWVVcGRhdGU6XCJ0aW1ldXBkYXRlXCIsdG9wVm9sdW1lQ2hhbmdlOlwidm9sdW1lY2hhbmdlXCIsXG50b3BXYWl0aW5nOlwid2FpdGluZ1wifSxOPXtjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2M9Yy5ub2RlVHlwZT09PUxjP2M6Yy5vd25lckRvY3VtZW50O2Q9PT1QYyYmKGQ9UWMoYSkpO2Q9PT1QYz9cInNjcmlwdFwiPT09YT8oYT1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5pbm5lckhUTUw9XCJcXHgzY3NjcmlwdFxceDNlXFx4M2Mvc2NyaXB0XFx4M2VcIixhPWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKSk6YT1cInN0cmluZ1wiPT09dHlwZW9mIGIuaXM/Yy5jcmVhdGVFbGVtZW50KGEse2lzOmIuaXN9KTpjLmNyZWF0ZUVsZW1lbnQoYSk6YT1jLmNyZWF0ZUVsZW1lbnROUyhkLGEpO3JldHVybiBhfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybihiLm5vZGVUeXBlPT09TGM/YjpiLm93bmVyRG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGEpfSxzZXRJbml0aWFsUHJvcGVydGllczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1DYyhiLGMpO3N3aXRjaChiKXtjYXNlIFwiaWZyYW1lXCI6Y2FzZSBcIm9iamVjdFwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcExvYWRcIixcblwibG9hZFwiLGEpO3ZhciBmPWM7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKGYgaW4gU2MpU2MuaGFzT3duUHJvcGVydHkoZikmJk0udHJhcEJ1YmJsZWRFdmVudChmLFNjW2ZdLGEpO2Y9YzticmVhaztjYXNlIFwic291cmNlXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wRXJyb3JcIixcImVycm9yXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJpbWdcIjpjYXNlIFwiaW1hZ2VcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BFcnJvclwiLFwiZXJyb3JcIixhKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BMb2FkXCIsXCJsb2FkXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJmb3JtXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wUmVzZXRcIixcInJlc2V0XCIsYSk7TS50cmFwQnViYmxlZEV2ZW50KFwidG9wU3VibWl0XCIsXCJzdWJtaXRcIixhKTtmPWM7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BUb2dnbGVcIixcInRvZ2dsZVwiLGEpO2Y9YzticmVhaztjYXNlIFwiaW5wdXRcIjpxYy5pbml0V3JhcHBlclN0YXRlKGEsXG5jKTtmPXFjLmdldEhvc3RQcm9wcyhhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhkLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOnNjLnZhbGlkYXRlUHJvcHMoYSxjKTtmPXNjLmdldEhvc3RQcm9wcyhhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjp1Yy5pbml0V3JhcHBlclN0YXRlKGEsYyk7Zj11Yy5nZXRIb3N0UHJvcHMoYSxjKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BJbnZhbGlkXCIsXCJpbnZhbGlkXCIsYSk7UmMoZCxcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOndjLmluaXRXcmFwcGVyU3RhdGUoYSxjKTtmPXdjLmdldEhvc3RQcm9wcyhhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhkLFwib25DaGFuZ2VcIik7YnJlYWs7ZGVmYXVsdDpmPWN9eWMoYixmLEtjKTt2YXIgZz1mLGg7Zm9yKGggaW4gZylpZihnLmhhc093blByb3BlcnR5KGgpKXt2YXIgaz1nW2hdO1wic3R5bGVcIj09PVxuaD9iYy5zZXRWYWx1ZUZvclN0eWxlcyhhLGspOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWg/KGs9az9rLl9faHRtbDp2b2lkIDAsbnVsbCE9ayYmRmMoYSxrKSk6XCJjaGlsZHJlblwiPT09aD9cInN0cmluZ1wiPT09dHlwZW9mIGs/SmMoYSxrKTpcIm51bWJlclwiPT09dHlwZW9mIGsmJkpjKGEsXCJcIitrKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09aCYmKE9jLmhhc093blByb3BlcnR5KGgpP251bGwhPWsmJlJjKGQsaCk6ZT9oYy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShhLGgsayk6bnVsbCE9ayYmaGMuc2V0VmFsdWVGb3JQcm9wZXJ0eShhLGgsaykpfXN3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpCYy50cmFjayhhKTtxYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6QmMudHJhY2soYSk7d2MucG9zdE1vdW50V3JhcHBlcihhLGMpO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpzYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOnVjLnBvc3RNb3VudFdyYXBwZXIoYSxcbmMpO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIGYub25DbGljayYmKGEub25jbGljaz1jYSl9fSxkaWZmUHJvcGVydGllczpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW51bGw7c3dpdGNoKGIpe2Nhc2UgXCJpbnB1dFwiOmM9cWMuZ2V0SG9zdFByb3BzKGEsYyk7ZD1xYy5nZXRIb3N0UHJvcHMoYSxkKTtmPVtdO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpjPXNjLmdldEhvc3RQcm9wcyhhLGMpO2Q9c2MuZ2V0SG9zdFByb3BzKGEsZCk7Zj1bXTticmVhaztjYXNlIFwic2VsZWN0XCI6Yz11Yy5nZXRIb3N0UHJvcHMoYSxjKTtkPXVjLmdldEhvc3RQcm9wcyhhLGQpO2Y9W107YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6Yz13Yy5nZXRIb3N0UHJvcHMoYSxjKTtkPXdjLmdldEhvc3RQcm9wcyhhLGQpO2Y9W107YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5vbkNsaWNrJiYoYS5vbmNsaWNrPWNhKX15YyhiLGQsS2MpO1xudmFyIGcsaDthPW51bGw7Zm9yKGcgaW4gYylpZighZC5oYXNPd25Qcm9wZXJ0eShnKSYmYy5oYXNPd25Qcm9wZXJ0eShnKSYmbnVsbCE9Y1tnXSlpZihcInN0eWxlXCI9PT1nKWZvcihoIGluIGI9Y1tnXSxiKWIuaGFzT3duUHJvcGVydHkoaCkmJihhfHwoYT17fSksYVtoXT1cIlwiKTtlbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiIT09ZyYmXCJjaGlsZHJlblwiIT09ZyYmXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWcmJihPYy5oYXNPd25Qcm9wZXJ0eShnKT9mfHwoZj1bXSk6KGY9Znx8W10pLnB1c2goZyxudWxsKSk7Zm9yKGcgaW4gZCl7dmFyIGs9ZFtnXTtiPW51bGwhPWM/Y1tnXTp2b2lkIDA7aWYoZC5oYXNPd25Qcm9wZXJ0eShnKSYmayE9PWImJihudWxsIT1rfHxudWxsIT1iKSlpZihcInN0eWxlXCI9PT1nKWlmKGIpe2ZvcihoIGluIGIpIWIuaGFzT3duUHJvcGVydHkoaCl8fGsmJmsuaGFzT3duUHJvcGVydHkoaCl8fChhfHwoYT17fSksYVtoXT1cIlwiKTtmb3IoaCBpbiBrKWsuaGFzT3duUHJvcGVydHkoaCkmJlxuYltoXSE9PWtbaF0mJihhfHwoYT17fSksYVtoXT1rW2hdKX1lbHNlIGF8fChmfHwoZj1bXSksZi5wdXNoKGcsYSkpLGE9aztlbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09Zz8oaz1rP2suX19odG1sOnZvaWQgMCxiPWI/Yi5fX2h0bWw6dm9pZCAwLG51bGwhPWsmJmIhPT1rJiYoZj1mfHxbXSkucHVzaChnLFwiXCIraykpOlwiY2hpbGRyZW5cIj09PWc/Yj09PWt8fFwic3RyaW5nXCIhPT10eXBlb2YgayYmXCJudW1iZXJcIiE9PXR5cGVvZiBrfHwoZj1mfHxbXSkucHVzaChnLFwiXCIrayk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWcmJihPYy5oYXNPd25Qcm9wZXJ0eShnKT8obnVsbCE9ayYmUmMoZSxnKSxmfHxiPT09a3x8KGY9W10pKTooZj1mfHxbXSkucHVzaChnLGspKX1hJiYoZj1mfHxbXSkucHVzaChcInN0eWxlXCIsYSk7cmV0dXJuIGZ9LHVwZGF0ZVByb3BlcnRpZXM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtDYyhjLGQpO2Q9Q2MoYyxlKTtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrPVxuMil7dmFyIGc9YltmXSxoPWJbZisxXTtcInN0eWxlXCI9PT1nP2JjLnNldFZhbHVlRm9yU3R5bGVzKGEsaCk6XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09Zz9GYyhhLGgpOlwiY2hpbGRyZW5cIj09PWc/SmMoYSxoKTpkP251bGwhPWg/aGMuc2V0VmFsdWVGb3JBdHRyaWJ1dGUoYSxnLGgpOmhjLmRlbGV0ZVZhbHVlRm9yQXR0cmlidXRlKGEsZyk6bnVsbCE9aD9oYy5zZXRWYWx1ZUZvclByb3BlcnR5KGEsZyxoKTpoYy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KGEsZyl9c3dpdGNoKGMpe2Nhc2UgXCJpbnB1dFwiOnFjLnVwZGF0ZVdyYXBwZXIoYSxlKTtCYy51cGRhdGVWYWx1ZUlmQ2hhbmdlZChhKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjp3Yy51cGRhdGVXcmFwcGVyKGEsZSk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOnVjLnBvc3RVcGRhdGVXcmFwcGVyKGEsZSl9fSxkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzOmZ1bmN0aW9uKGEsYixjLGQsZSl7c3dpdGNoKGIpe2Nhc2UgXCJpZnJhbWVcIjpjYXNlIFwib2JqZWN0XCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wTG9hZFwiLFxuXCJsb2FkXCIsYSk7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKHZhciBmIGluIFNjKVNjLmhhc093blByb3BlcnR5KGYpJiZNLnRyYXBCdWJibGVkRXZlbnQoZixTY1tmXSxhKTticmVhaztjYXNlIFwic291cmNlXCI6TS50cmFwQnViYmxlZEV2ZW50KFwidG9wRXJyb3JcIixcImVycm9yXCIsYSk7YnJlYWs7Y2FzZSBcImltZ1wiOmNhc2UgXCJpbWFnZVwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcEVycm9yXCIsXCJlcnJvclwiLGEpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcExvYWRcIixcImxvYWRcIixhKTticmVhaztjYXNlIFwiZm9ybVwiOk0udHJhcEJ1YmJsZWRFdmVudChcInRvcFJlc2V0XCIsXCJyZXNldFwiLGEpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcFN1Ym1pdFwiLFwic3VibWl0XCIsYSk7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BUb2dnbGVcIixcInRvZ2dsZVwiLGEpO2JyZWFrO2Nhc2UgXCJpbnB1dFwiOnFjLmluaXRXcmFwcGVyU3RhdGUoYSxjKTtNLnRyYXBCdWJibGVkRXZlbnQoXCJ0b3BJbnZhbGlkXCIsXG5cImludmFsaWRcIixhKTtSYyhlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOnNjLnZhbGlkYXRlUHJvcHMoYSxjKTticmVhaztjYXNlIFwic2VsZWN0XCI6dWMuaW5pdFdyYXBwZXJTdGF0ZShhLGMpO00udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKTtSYyhlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6d2MuaW5pdFdyYXBwZXJTdGF0ZShhLGMpLE0udHJhcEJ1YmJsZWRFdmVudChcInRvcEludmFsaWRcIixcImludmFsaWRcIixhKSxSYyhlLFwib25DaGFuZ2VcIil9eWMoYixjLEtjKTtkPW51bGw7Zm9yKHZhciBnIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShnKSYmKGY9Y1tnXSxcImNoaWxkcmVuXCI9PT1nP1wic3RyaW5nXCI9PT10eXBlb2YgZj9hLnRleHRDb250ZW50IT09ZiYmKGQ9W1wiY2hpbGRyZW5cIixmXSk6XCJudW1iZXJcIj09PXR5cGVvZiBmJiZhLnRleHRDb250ZW50IT09XCJcIitmJiYoZD1bXCJjaGlsZHJlblwiLFwiXCIrZl0pOk9jLmhhc093blByb3BlcnR5KGcpJiZcbm51bGwhPWYmJlJjKGUsZykpO3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpCYy50cmFjayhhKTtxYy5wb3N0TW91bnRXcmFwcGVyKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6QmMudHJhY2soYSk7d2MucG9zdE1vdW50V3JhcHBlcihhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpjYXNlIFwib3B0aW9uXCI6YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vbkNsaWNrJiYoYS5vbmNsaWNrPWNhKX1yZXR1cm4gZH0sZGlmZkh5ZHJhdGVkVGV4dDpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVWYWx1ZSE9PWJ9LHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQ6ZnVuY3Rpb24oKXt9LHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQ6ZnVuY3Rpb24oKXt9LHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudDpmdW5jdGlvbigpe30sd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0OmZ1bmN0aW9uKCl7fSxyZXN0b3JlQ29udHJvbGxlZFN0YXRlOmZ1bmN0aW9uKGEsXG5iLGMpe3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpxYy5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEsYyk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6d2MucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZShhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjp1Yy5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGEsYyl9fX0sVGM9dm9pZCAwO1xuaWYobC5jYW5Vc2VET00paWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIHJlcXVlc3RJZGxlQ2FsbGJhY2spe3ZhciBVYz1udWxsLFZjPW51bGwsV2M9ITEsWGM9ITEsWWM9MCxaYz0zMywkYz0zMyxhZD17dGltZVJlbWFpbmluZzpcIm9iamVjdFwiPT09dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgcGVyZm9ybWFuY2Uubm93P2Z1bmN0aW9uKCl7cmV0dXJuIFljLXBlcmZvcm1hbmNlLm5vdygpfTpmdW5jdGlvbigpe3JldHVybiBZYy1EYXRlLm5vdygpfX0sYmQ9XCJfX3JlYWN0SWRsZUNhbGxiYWNrJFwiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGEpe2Euc291cmNlPT09d2luZG93JiZhLmRhdGE9PT1iZCYmKFdjPSExLGE9VmMsVmM9bnVsbCxudWxsIT09YSYmYShhZCkpfSwhMSk7dmFyIGNkPWZ1bmN0aW9uKGEpe1hjPSExO3ZhciBiPWEtWWMrJGM7YjwkYyYmWmM8JGM/KDg+XG5iJiYoYj04KSwkYz1iPFpjP1pjOmIpOlpjPWI7WWM9YSskYztXY3x8KFdjPSEwLHdpbmRvdy5wb3N0TWVzc2FnZShiZCxcIipcIikpO2I9VWM7VWM9bnVsbDtudWxsIT09YiYmYihhKX07VGM9ZnVuY3Rpb24oYSl7VmM9YTtYY3x8KFhjPSEwLHJlcXVlc3RBbmltYXRpb25GcmFtZShjZCkpO3JldHVybiAwfX1lbHNlIFRjPXJlcXVlc3RJZGxlQ2FsbGJhY2s7ZWxzZSBUYz1mdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSh7dGltZVJlbWFpbmluZzpmdW5jdGlvbigpe3JldHVybiBJbmZpbml0eX19KX0pO3JldHVybiAwfTtcbnZhciBkZD17cklDOlRjfSxlZD17ZW5hYmxlQXN5bmNTdWJ0cmVlQVBJOiEwfSxRPXtOb1dvcms6MCxTeW5jaHJvbm91c1ByaW9yaXR5OjEsVGFza1ByaW9yaXR5OjIsSGlnaFByaW9yaXR5OjMsTG93UHJpb3JpdHk6NCxPZmZzY3JlZW5Qcmlvcml0eTo1fSxmZD1KLkNhbGxiYWNrLGdkPVEuTm9Xb3JrLGhkPVEuU3luY2hyb25vdXNQcmlvcml0eSxpZD1RLlRhc2tQcmlvcml0eSxqZD1FLkNsYXNzQ29tcG9uZW50LGtkPUUuSG9zdFJvb3QsbWQ9dm9pZCAwLG5kPXZvaWQgMDtmdW5jdGlvbiBvZChhLGIpe3JldHVybiBhIT09aWQmJmEhPT1oZHx8YiE9PWlkJiZiIT09aGQ/YT09PWdkJiZiIT09Z2Q/LTI1NTphIT09Z2QmJmI9PT1nZD8yNTU6YS1iOjB9ZnVuY3Rpb24gcGQoKXtyZXR1cm57Zmlyc3Q6bnVsbCxsYXN0Om51bGwsaGFzRm9yY2VVcGRhdGU6ITEsY2FsbGJhY2tMaXN0Om51bGx9fVxuZnVuY3Rpb24gcWQoYSxiLGMsZCl7bnVsbCE9PWM/Yy5uZXh0PWI6KGIubmV4dD1hLmZpcnN0LGEuZmlyc3Q9Yik7bnVsbCE9PWQ/Yi5uZXh0PWQ6YS5sYXN0PWJ9ZnVuY3Rpb24gcmQoYSxiKXtiPWIucHJpb3JpdHlMZXZlbDt2YXIgYz1udWxsO2lmKG51bGwhPT1hLmxhc3QmJjA+PW9kKGEubGFzdC5wcmlvcml0eUxldmVsLGIpKWM9YS5sYXN0O2Vsc2UgZm9yKGE9YS5maXJzdDtudWxsIT09YSYmMD49b2QoYS5wcmlvcml0eUxldmVsLGIpOyljPWEsYT1hLm5leHQ7cmV0dXJuIGN9XG5mdW5jdGlvbiBzZChhLGIpe3ZhciBjPWEuYWx0ZXJuYXRlLGQ9YS51cGRhdGVRdWV1ZTtudWxsPT09ZCYmKGQ9YS51cGRhdGVRdWV1ZT1wZCgpKTtudWxsIT09Yz8oYT1jLnVwZGF0ZVF1ZXVlLG51bGw9PT1hJiYoYT1jLnVwZGF0ZVF1ZXVlPXBkKCkpKTphPW51bGw7bWQ9ZDtuZD1hIT09ZD9hOm51bGw7dmFyIGU9bWQ7Yz1uZDt2YXIgZj1yZChlLGIpLGc9bnVsbCE9PWY/Zi5uZXh0OmUuZmlyc3Q7aWYobnVsbD09PWMpcmV0dXJuIHFkKGUsYixmLGcpLG51bGw7ZD1yZChjLGIpO2E9bnVsbCE9PWQ/ZC5uZXh0OmMuZmlyc3Q7cWQoZSxiLGYsZyk7aWYoZz09PWEmJm51bGwhPT1nfHxmPT09ZCYmbnVsbCE9PWYpcmV0dXJuIG51bGw9PT1kJiYoYy5maXJzdD1iKSxudWxsPT09YSYmKGMubGFzdD1udWxsKSxudWxsO2I9e3ByaW9yaXR5TGV2ZWw6Yi5wcmlvcml0eUxldmVsLHBhcnRpYWxTdGF0ZTpiLnBhcnRpYWxTdGF0ZSxjYWxsYmFjazpiLmNhbGxiYWNrLGlzUmVwbGFjZTpiLmlzUmVwbGFjZSxcbmlzRm9yY2VkOmIuaXNGb3JjZWQsaXNUb3BMZXZlbFVubW91bnQ6Yi5pc1RvcExldmVsVW5tb3VudCxuZXh0Om51bGx9O3FkKGMsYixkLGEpO3JldHVybiBifWZ1bmN0aW9uIHRkKGEsYixjLGQpe2E9YS5wYXJ0aWFsU3RhdGU7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YS5jYWxsKGIsYyxkKTphfVxudmFyIHVkPXthZGRVcGRhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7c2QoYSx7cHJpb3JpdHlMZXZlbDpkLHBhcnRpYWxTdGF0ZTpiLGNhbGxiYWNrOmMsaXNSZXBsYWNlOiExLGlzRm9yY2VkOiExLGlzVG9wTGV2ZWxVbm1vdW50OiExLG5leHQ6bnVsbH0pfSxhZGRSZXBsYWNlVXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3NkKGEse3ByaW9yaXR5TGV2ZWw6ZCxwYXJ0aWFsU3RhdGU6YixjYWxsYmFjazpjLGlzUmVwbGFjZTohMCxpc0ZvcmNlZDohMSxpc1RvcExldmVsVW5tb3VudDohMSxuZXh0Om51bGx9KX0sYWRkRm9yY2VVcGRhdGU6ZnVuY3Rpb24oYSxiLGMpe3NkKGEse3ByaW9yaXR5TGV2ZWw6YyxwYXJ0aWFsU3RhdGU6bnVsbCxjYWxsYmFjazpiLGlzUmVwbGFjZTohMSxpc0ZvcmNlZDohMCxpc1RvcExldmVsVW5tb3VudDohMSxuZXh0Om51bGx9KX0sZ2V0VXBkYXRlUHJpb3JpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9YS51cGRhdGVRdWV1ZTtyZXR1cm4gbnVsbD09PWJ8fGEudGFnIT09XG5qZCYmYS50YWchPT1rZD9nZDpudWxsIT09Yi5maXJzdD9iLmZpcnN0LnByaW9yaXR5TGV2ZWw6Z2R9LGFkZFRvcExldmVsVXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw9PT1iLmVsZW1lbnQ7Yj17cHJpb3JpdHlMZXZlbDpkLHBhcnRpYWxTdGF0ZTpiLGNhbGxiYWNrOmMsaXNSZXBsYWNlOiExLGlzRm9yY2VkOiExLGlzVG9wTGV2ZWxVbm1vdW50OmUsbmV4dDpudWxsfTthPXNkKGEsYik7ZSYmKGU9bWQsYz1uZCxudWxsIT09ZSYmbnVsbCE9PWIubmV4dCYmKGIubmV4dD1udWxsLGUubGFzdD1iKSxudWxsIT09YyYmbnVsbCE9PWEmJm51bGwhPT1hLm5leHQmJihhLm5leHQ9bnVsbCxjLmxhc3Q9YikpfSxiZWdpblVwZGF0ZVF1ZXVlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe251bGwhPT1hJiZhLnVwZGF0ZVF1ZXVlPT09YyYmKGM9Yi51cGRhdGVRdWV1ZT17Zmlyc3Q6Yy5maXJzdCxsYXN0OmMubGFzdCxjYWxsYmFja0xpc3Q6bnVsbCxoYXNGb3JjZVVwZGF0ZTohMX0pO1xuYT1jLmNhbGxiYWNrTGlzdDtmb3IodmFyIGg9Yy5oYXNGb3JjZVVwZGF0ZSxrPSEwLHA9Yy5maXJzdDtudWxsIT09cCYmMD49b2QocC5wcmlvcml0eUxldmVsLGcpOyl7Yy5maXJzdD1wLm5leHQ7bnVsbD09PWMuZmlyc3QmJihjLmxhc3Q9bnVsbCk7dmFyIHg7aWYocC5pc1JlcGxhY2UpZT10ZChwLGQsZSxmKSxrPSEwO2Vsc2UgaWYoeD10ZChwLGQsZSxmKSllPWs/bih7fSxlLHgpOm4oZSx4KSxrPSExO3AuaXNGb3JjZWQmJihoPSEwKTtudWxsPT09cC5jYWxsYmFja3x8cC5pc1RvcExldmVsVW5tb3VudCYmbnVsbCE9PXAubmV4dHx8KGE9bnVsbCE9PWE/YTpbXSxhLnB1c2gocC5jYWxsYmFjayksYi5lZmZlY3RUYWd8PWZkKTtwPXAubmV4dH1jLmNhbGxiYWNrTGlzdD1hO2MuaGFzRm9yY2VVcGRhdGU9aDtudWxsIT09Yy5maXJzdHx8bnVsbCE9PWF8fGh8fChiLnVwZGF0ZVF1ZXVlPW51bGwpO3JldHVybiBlfSxjb21taXRDYWxsYmFja3M6ZnVuY3Rpb24oYSxiLGMpe2E9Yi5jYWxsYmFja0xpc3Q7XG5pZihudWxsIT09YSlmb3IoYi5jYWxsYmFja0xpc3Q9bnVsbCxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBkPWFbYl07XCJmdW5jdGlvblwiIT09dHlwZW9mIGQ/dyhcIjE5MVwiLGQpOnZvaWQgMDtkLmNhbGwoYyl9fX0sdmQ9W10sd2Q9LTEseGQ9e2NyZWF0ZUN1cnNvcjpmdW5jdGlvbihhKXtyZXR1cm57Y3VycmVudDphfX0saXNFbXB0eTpmdW5jdGlvbigpe3JldHVybi0xPT09d2R9LHBvcDpmdW5jdGlvbihhKXswPndkfHwoYS5jdXJyZW50PXZkW3dkXSx2ZFt3ZF09bnVsbCx3ZC0tKX0scHVzaDpmdW5jdGlvbihhLGIpe3dkKys7dmRbd2RdPWEuY3VycmVudDthLmN1cnJlbnQ9Yn0scmVzZXQ6ZnVuY3Rpb24oKXtmb3IoOy0xPHdkOyl2ZFt3ZF09bnVsbCx3ZC0tfX0seWQ9YmIuaXNGaWJlck1vdW50ZWQsemQ9RS5DbGFzc0NvbXBvbmVudCxBZD1FLkhvc3RSb290LEJkPXhkLmNyZWF0ZUN1cnNvcixDZD14ZC5wb3AsRGQ9eGQucHVzaCxFZD1CZChkYSksRmQ9QmQoITEpLExkPWRhO1xuZnVuY3Rpb24gTWQoYSxiLGMpe2E9YS5zdGF0ZU5vZGU7YS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWI7YS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1jfWZ1bmN0aW9uIE5kKGEpe3JldHVybiBhLnRhZz09PXpkJiZudWxsIT1hLnR5cGUuY2hpbGRDb250ZXh0VHlwZXN9ZnVuY3Rpb24gT2QoYSxiKXt2YXIgYz1hLnN0YXRlTm9kZSxkPWEudHlwZS5jaGlsZENvbnRleHRUeXBlcztpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5nZXRDaGlsZENvbnRleHQpcmV0dXJuIGI7Yz1jLmdldENoaWxkQ29udGV4dCgpO2Zvcih2YXIgZSBpbiBjKWUgaW4gZD92b2lkIDA6dyhcIjEwOFwiLFJhKGEpfHxcIlVua25vd25cIixlKTtyZXR1cm4gbih7fSxiLGMpfVxudmFyIFI9e2dldFVubWFza2VkQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gTmQoYSk/TGQ6RWQuY3VycmVudH0sY2FjaGVDb250ZXh0Ok1kLGdldE1hc2tlZENvbnRleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnR5cGUuY29udGV4dFR5cGVzO2lmKCFjKXJldHVybiBkYTt2YXIgZD1hLnN0YXRlTm9kZTtpZihkJiZkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT1iKXJldHVybiBkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciBlPXt9LGY7Zm9yKGYgaW4gYyllW2ZdPWJbZl07ZCYmTWQoYSxiLGUpO3JldHVybiBlfSxoYXNDb250ZXh0Q2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiBGZC5jdXJyZW50fSxpc0NvbnRleHRDb25zdW1lcjpmdW5jdGlvbihhKXtyZXR1cm4gYS50YWc9PT16ZCYmbnVsbCE9YS50eXBlLmNvbnRleHRUeXBlc30saXNDb250ZXh0UHJvdmlkZXI6TmQscG9wQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEpe05kKGEpJiZcbihDZChGZCxhKSxDZChFZCxhKSl9LHBvcFRvcExldmVsQ29udGV4dE9iamVjdDpmdW5jdGlvbihhKXtDZChGZCxhKTtDZChFZCxhKX0scHVzaFRvcExldmVsQ29udGV4dE9iamVjdDpmdW5jdGlvbihhLGIsYyl7bnVsbCE9RWQuY3Vyc29yP3coXCIxNjhcIik6dm9pZCAwO0RkKEVkLGIsYSk7RGQoRmQsYyxhKX0scHJvY2Vzc0NoaWxkQ29udGV4dDpPZCxwdXNoQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEpe2lmKCFOZChhKSlyZXR1cm4hMTt2YXIgYj1hLnN0YXRlTm9kZTtiPWImJmIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fGRhO0xkPUVkLmN1cnJlbnQ7RGQoRWQsYixhKTtEZChGZCxGZC5jdXJyZW50LGEpO3JldHVybiEwfSxpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdGF0ZU5vZGU7Yz92b2lkIDA6dyhcIjE2OVwiKTtpZihiKXt2YXIgZD1PZChhLExkLCEwKTtjLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0PVxuZDtDZChGZCxhKTtDZChFZCxhKTtEZChFZCxkLGEpfWVsc2UgQ2QoRmQsYSk7RGQoRmQsYixhKX0scmVzZXRDb250ZXh0OmZ1bmN0aW9uKCl7TGQ9ZGE7RWQuY3VycmVudD1kYTtGZC5jdXJyZW50PSExfSxmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dDpmdW5jdGlvbihhKXtmb3IoeWQoYSkmJmEudGFnPT09emQ/dm9pZCAwOncoXCIxNzBcIik7YS50YWchPT1BZDspe2lmKE5kKGEpKXJldHVybiBhLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDsoYT1hW1wicmV0dXJuXCJdKT92b2lkIDA6dyhcIjE3MVwiKX1yZXR1cm4gYS5zdGF0ZU5vZGUuY29udGV4dH19LFBkPXtOb0NvbnRleHQ6MCxBc3luY1VwZGF0ZXM6MX0sUWQ9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LFJkPUUuQ2xhc3NDb21wb25lbnQsU2Q9RS5Ib3N0Um9vdCxUZD1FLkhvc3RDb21wb25lbnQsVWQ9RS5Ib3N0VGV4dCxWZD1FLkhvc3RQb3J0YWwsV2Q9RS5Db3JvdXRpbmVDb21wb25lbnQsXG5YZD1FLllpZWxkQ29tcG9uZW50LFlkPUUuRnJhZ21lbnQsWmQ9US5Ob1dvcmssJGQ9UGQuTm9Db250ZXh0LGFlPUouTm9FZmZlY3Q7ZnVuY3Rpb24gYmUoYSxiLGMpe3RoaXMudGFnPWE7dGhpcy5rZXk9Yjt0aGlzLnN0YXRlTm9kZT10aGlzLnR5cGU9bnVsbDt0aGlzLnNpYmxpbmc9dGhpcy5jaGlsZD10aGlzW1wicmV0dXJuXCJdPW51bGw7dGhpcy5pbmRleD0wO3RoaXMubWVtb2l6ZWRTdGF0ZT10aGlzLnVwZGF0ZVF1ZXVlPXRoaXMubWVtb2l6ZWRQcm9wcz10aGlzLnBlbmRpbmdQcm9wcz10aGlzLnJlZj1udWxsO3RoaXMuaW50ZXJuYWxDb250ZXh0VGFnPWM7dGhpcy5lZmZlY3RUYWc9YWU7dGhpcy5sYXN0RWZmZWN0PXRoaXMuZmlyc3RFZmZlY3Q9dGhpcy5uZXh0RWZmZWN0PW51bGw7dGhpcy5wZW5kaW5nV29ya1ByaW9yaXR5PVpkO3RoaXMuYWx0ZXJuYXRlPW51bGx9XG5mdW5jdGlvbiBjZShhLGIsYyl7dmFyIGQ9dm9pZCAwO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhPyhkPWEucHJvdG90eXBlJiZhLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50P25ldyBiZShSZCxiLGMpOm5ldyBiZShRZCxiLGMpLGQudHlwZT1hKTpcInN0cmluZ1wiPT09dHlwZW9mIGE/KGQ9bmV3IGJlKFRkLGIsYyksZC50eXBlPWEpOlwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJlwibnVtYmVyXCI9PT10eXBlb2YgYS50YWc/ZD1hOncoXCIxMzBcIixudWxsPT1hP2E6dHlwZW9mIGEsXCJcIik7cmV0dXJuIGR9XG52YXIgZGU9e2NyZWF0ZVdvcmtJblByb2dyZXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5hbHRlcm5hdGU7bnVsbD09PWM/KGM9bmV3IGJlKGEudGFnLGEua2V5LGEuaW50ZXJuYWxDb250ZXh0VGFnKSxjLnR5cGU9YS50eXBlLGMuc3RhdGVOb2RlPWEuc3RhdGVOb2RlLGMuYWx0ZXJuYXRlPWEsYS5hbHRlcm5hdGU9Yyk6KGMuZWZmZWN0VGFnPWFlLGMubmV4dEVmZmVjdD1udWxsLGMuZmlyc3RFZmZlY3Q9bnVsbCxjLmxhc3RFZmZlY3Q9bnVsbCk7Yy5wZW5kaW5nV29ya1ByaW9yaXR5PWI7Yy5jaGlsZD1hLmNoaWxkO2MubWVtb2l6ZWRQcm9wcz1hLm1lbW9pemVkUHJvcHM7Yy5tZW1vaXplZFN0YXRlPWEubWVtb2l6ZWRTdGF0ZTtjLnVwZGF0ZVF1ZXVlPWEudXBkYXRlUXVldWU7Yy5zaWJsaW5nPWEuc2libGluZztjLmluZGV4PWEuaW5kZXg7Yy5yZWY9YS5yZWY7cmV0dXJuIGN9LGNyZWF0ZUhvc3RSb290RmliZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJlKFNkLG51bGwsJGQpfSxcbmNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe2I9Y2UoYS50eXBlLGEua2V5LGIsbnVsbCk7Yi5wZW5kaW5nUHJvcHM9YS5wcm9wcztiLnBlbmRpbmdXb3JrUHJpb3JpdHk9YztyZXR1cm4gYn0sY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMpe2I9bmV3IGJlKFlkLG51bGwsYik7Yi5wZW5kaW5nUHJvcHM9YTtiLnBlbmRpbmdXb3JrUHJpb3JpdHk9YztyZXR1cm4gYn0sY3JlYXRlRmliZXJGcm9tVGV4dDpmdW5jdGlvbihhLGIsYyl7Yj1uZXcgYmUoVWQsbnVsbCxiKTtiLnBlbmRpbmdQcm9wcz1hO2IucGVuZGluZ1dvcmtQcmlvcml0eT1jO3JldHVybiBifSxjcmVhdGVGaWJlckZyb21FbGVtZW50VHlwZTpjZSxjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbjpmdW5jdGlvbigpe3ZhciBhPW5ldyBiZShUZCxudWxsLCRkKTthLnR5cGU9XCJERUxFVEVEXCI7cmV0dXJuIGF9LGNyZWF0ZUZpYmVyRnJvbUNvcm91dGluZTpmdW5jdGlvbihhLFxuYixjKXtiPW5ldyBiZShXZCxhLmtleSxiKTtiLnR5cGU9YS5oYW5kbGVyO2IucGVuZGluZ1Byb3BzPWE7Yi5wZW5kaW5nV29ya1ByaW9yaXR5PWM7cmV0dXJuIGJ9LGNyZWF0ZUZpYmVyRnJvbVlpZWxkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBiZShYZCxudWxsLGIpfSxjcmVhdGVGaWJlckZyb21Qb3J0YWw6ZnVuY3Rpb24oYSxiLGMpe2I9bmV3IGJlKFZkLGEua2V5LGIpO2IucGVuZGluZ1Byb3BzPWEuY2hpbGRyZW58fFtdO2IucGVuZGluZ1dvcmtQcmlvcml0eT1jO2Iuc3RhdGVOb2RlPXtjb250YWluZXJJbmZvOmEuY29udGFpbmVySW5mbyxpbXBsZW1lbnRhdGlvbjphLmltcGxlbWVudGF0aW9ufTtyZXR1cm4gYn0sbGFyZ2VyUHJpb3JpdHk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PVpkJiYoYj09PVpkfHxiPmEpP2E6Yn19LGVlPWRlLmNyZWF0ZUhvc3RSb290RmliZXIsZmU9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LGdlPUUuRnVuY3Rpb25hbENvbXBvbmVudCxoZT1FLkNsYXNzQ29tcG9uZW50LFxuaWU9RS5Ib3N0Q29tcG9uZW50LGplLGtlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXT8oamU9U3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY29yb3V0aW5lXCIpLGtlPVN5bWJvbFtcImZvclwiXShcInJlYWN0LnlpZWxkXCIpKTooamU9NjAxMDQsa2U9NjAxMDUpO1xudmFyIGxlPXtjcmVhdGVDb3JvdXRpbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjpqZSxrZXk6bnVsbD09ZD9udWxsOlwiXCIrZCxjaGlsZHJlbjphLGhhbmRsZXI6Yixwcm9wczpjfX0sY3JlYXRlWWllbGQ6ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOmtlLHZhbHVlOmF9fSxpc0Nvcm91dGluZTpmdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09amV9LGlzWWllbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWtlfSxSRUFDVF9ZSUVMRF9UWVBFOmtlLFJFQUNUX0NPUk9VVElORV9UWVBFOmplfSxtZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0mJlN5bWJvbFtcImZvclwiXShcInJlYWN0LnBvcnRhbFwiKXx8XG42MDEwNixuZT17Y3JlYXRlUG9ydGFsOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtyZXR1cm57JCR0eXBlb2Y6bWUsa2V5Om51bGw9PWQ/bnVsbDpcIlwiK2QsY2hpbGRyZW46YSxjb250YWluZXJJbmZvOmIsaW1wbGVtZW50YXRpb246Y319LGlzUG9ydGFsOmZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1tZX0sUkVBQ1RfUE9SVEFMX1RZUEU6bWV9LG9lPWxlLlJFQUNUX0NPUk9VVElORV9UWVBFLHBlPWxlLlJFQUNUX1lJRUxEX1RZUEUscWU9bmUuUkVBQ1RfUE9SVEFMX1RZUEUscmU9ZGUuY3JlYXRlV29ya0luUHJvZ3Jlc3Msc2U9ZGUuY3JlYXRlRmliZXJGcm9tRWxlbWVudCx0ZT1kZS5jcmVhdGVGaWJlckZyb21GcmFnbWVudCx1ZT1kZS5jcmVhdGVGaWJlckZyb21UZXh0LHZlPWRlLmNyZWF0ZUZpYmVyRnJvbUNvcm91dGluZSxcbndlPWRlLmNyZWF0ZUZpYmVyRnJvbVlpZWxkLHhlPWRlLmNyZWF0ZUZpYmVyRnJvbVBvcnRhbCx5ZT1BcnJheS5pc0FycmF5LHplPUUuRnVuY3Rpb25hbENvbXBvbmVudCxBZT1FLkNsYXNzQ29tcG9uZW50LEJlPUUuSG9zdFRleHQsQ2U9RS5Ib3N0UG9ydGFsLERlPUUuQ29yb3V0aW5lQ29tcG9uZW50LEVlPUUuWWllbGRDb21wb25lbnQsRmU9RS5GcmFnbWVudCxHZT1KLk5vRWZmZWN0LEhlPUouUGxhY2VtZW50LEllPUouRGVsZXRpb24sSmU9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLEtlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXSYmU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZWxlbWVudFwiKXx8NjAxMDM7XG5mdW5jdGlvbiBMZShhKXtpZihudWxsPT09YXx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKXJldHVybiBudWxsO2E9SmUmJmFbSmVdfHxhW1wiQEBpdGVyYXRvclwiXTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hOm51bGx9XG5mdW5jdGlvbiBNZShhLGIpe3ZhciBjPWIucmVmO2lmKG51bGwhPT1jJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYyl7aWYoYi5fb3duZXIpe2I9Yi5fb3duZXI7dmFyIGQ9dm9pZCAwO2ImJihcIm51bWJlclwiPT09dHlwZW9mIGIudGFnPyhiLnRhZyE9PUFlP3coXCIxMTBcIik6dm9pZCAwLGQ9Yi5zdGF0ZU5vZGUpOmQ9Yi5nZXRQdWJsaWNJbnN0YW5jZSgpKTtkP3ZvaWQgMDp3KFwiMTQ3XCIsYyk7dmFyIGU9XCJcIitjO2lmKG51bGwhPT1hJiZudWxsIT09YS5yZWYmJmEucmVmLl9zdHJpbmdSZWY9PT1lKXJldHVybiBhLnJlZjthPWZ1bmN0aW9uKGEpe3ZhciBiPWQucmVmcz09PWRhP2QucmVmcz17fTpkLnJlZnM7bnVsbD09PWE/ZGVsZXRlIGJbZV06YltlXT1hfTthLl9zdHJpbmdSZWY9ZTtyZXR1cm4gYX1cInN0cmluZ1wiIT09dHlwZW9mIGM/dyhcIjE0OFwiKTp2b2lkIDA7Yi5fb3duZXI/dm9pZCAwOncoXCIxNDlcIixjKX1yZXR1cm4gY31cbmZ1bmN0aW9uIE5lKGEsYil7XCJ0ZXh0YXJlYVwiIT09YS50eXBlJiZ3KFwiMzFcIixcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYikuam9pbihcIiwgXCIpK1wifVwiOmIsXCJcIil9XG5mdW5jdGlvbiBPZShhLGIpe2Z1bmN0aW9uIGMoYyxkKXtpZihiKXtpZighYSl7aWYobnVsbD09PWQuYWx0ZXJuYXRlKXJldHVybjtkPWQuYWx0ZXJuYXRlfXZhciBtPWMubGFzdEVmZmVjdDtudWxsIT09bT8obS5uZXh0RWZmZWN0PWQsYy5sYXN0RWZmZWN0PWQpOmMuZmlyc3RFZmZlY3Q9Yy5sYXN0RWZmZWN0PWQ7ZC5uZXh0RWZmZWN0PW51bGw7ZC5lZmZlY3RUYWc9SWV9fWZ1bmN0aW9uIGQoYSxkKXtpZighYilyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1kOyljKGEsZCksZD1kLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZShhLGIpe2ZvcihhPW5ldyBNYXA7bnVsbCE9PWI7KW51bGwhPT1iLmtleT9hLnNldChiLmtleSxiKTphLnNldChiLmluZGV4LGIpLGI9Yi5zaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXtpZihhKXJldHVybiBiPXJlKGIsYyksYi5pbmRleD0wLGIuc2libGluZz1udWxsLGI7Yi5wZW5kaW5nV29ya1ByaW9yaXR5PWM7Yi5lZmZlY3RUYWc9R2U7XG5iLmluZGV4PTA7Yi5zaWJsaW5nPW51bGw7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhLGMsZCl7YS5pbmRleD1kO2lmKCFiKXJldHVybiBjO2Q9YS5hbHRlcm5hdGU7aWYobnVsbCE9PWQpcmV0dXJuIGQ9ZC5pbmRleCxkPGM/KGEuZWZmZWN0VGFnPUhlLGMpOmQ7YS5lZmZlY3RUYWc9SGU7cmV0dXJuIGN9ZnVuY3Rpb24gaChhKXtiJiZudWxsPT09YS5hbHRlcm5hdGUmJihhLmVmZmVjdFRhZz1IZSk7cmV0dXJuIGF9ZnVuY3Rpb24gayhhLGIsYyxkKXtpZihudWxsPT09Ynx8Yi50YWchPT1CZSlyZXR1cm4gYz11ZShjLGEuaW50ZXJuYWxDb250ZXh0VGFnLGQpLGNbXCJyZXR1cm5cIl09YSxjO2I9ZihiLGQpO2IucGVuZGluZ1Byb3BzPWM7YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIHAoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudHlwZSE9PWMudHlwZSlyZXR1cm4gZD1zZShjLGEuaW50ZXJuYWxDb250ZXh0VGFnLGQpLGQucmVmPU1lKGIsYyksZFtcInJldHVyblwiXT1hLGQ7ZD1mKGIsXG5kKTtkLnJlZj1NZShiLGMpO2QucGVuZGluZ1Byb3BzPWMucHJvcHM7ZFtcInJldHVyblwiXT1hO3JldHVybiBkfWZ1bmN0aW9uIHgoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09RGUpcmV0dXJuIGM9dmUoYyxhLmludGVybmFsQ29udGV4dFRhZyxkKSxjW1wicmV0dXJuXCJdPWEsYztiPWYoYixkKTtiLnBlbmRpbmdQcm9wcz1jO2JbXCJyZXR1cm5cIl09YTtyZXR1cm4gYn1mdW5jdGlvbiBTKGEsYixjLGQpe2lmKG51bGw9PT1ifHxiLnRhZyE9PUVlKXJldHVybiBiPXdlKGMsYS5pbnRlcm5hbENvbnRleHRUYWcsZCksYi50eXBlPWMudmFsdWUsYltcInJldHVyblwiXT1hLGI7Yj1mKGIsZCk7Yi50eXBlPWMudmFsdWU7YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIEQoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09Q2V8fGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1jLmNvbnRhaW5lckluZm98fGIuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09Yy5pbXBsZW1lbnRhdGlvbilyZXR1cm4gYz1cbnhlKGMsYS5pbnRlcm5hbENvbnRleHRUYWcsZCksY1tcInJldHVyblwiXT1hLGM7Yj1mKGIsZCk7Yi5wZW5kaW5nUHJvcHM9Yy5jaGlsZHJlbnx8W107YltcInJldHVyblwiXT1hO3JldHVybiBifWZ1bmN0aW9uIHkoYSxiLGMsZCl7aWYobnVsbD09PWJ8fGIudGFnIT09RmUpcmV0dXJuIGM9dGUoYyxhLmludGVybmFsQ29udGV4dFRhZyxkKSxjW1wicmV0dXJuXCJdPWEsYztiPWYoYixkKTtiLnBlbmRpbmdQcm9wcz1jO2JbXCJyZXR1cm5cIl09YTtyZXR1cm4gYn1mdW5jdGlvbiBCKGEsYixjKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYilyZXR1cm4gYj11ZShcIlwiK2IsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGI7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09Yil7c3dpdGNoKGIuJCR0eXBlb2Ype2Nhc2UgS2U6cmV0dXJuIGM9c2UoYixhLmludGVybmFsQ29udGV4dFRhZyxjKSxjLnJlZj1NZShudWxsLGIpLGNbXCJyZXR1cm5cIl09XG5hLGM7Y2FzZSBvZTpyZXR1cm4gYj12ZShiLGEuaW50ZXJuYWxDb250ZXh0VGFnLGMpLGJbXCJyZXR1cm5cIl09YSxiO2Nhc2UgcGU6cmV0dXJuIGM9d2UoYixhLmludGVybmFsQ29udGV4dFRhZyxjKSxjLnR5cGU9Yi52YWx1ZSxjW1wicmV0dXJuXCJdPWEsYztjYXNlIHFlOnJldHVybiBiPXhlKGIsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGJ9aWYoeWUoYil8fExlKGIpKXJldHVybiBiPXRlKGIsYS5pbnRlcm5hbENvbnRleHRUYWcsYyksYltcInJldHVyblwiXT1hLGI7TmUoYSxiKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBIKGEsYixjLGQpe3ZhciBlPW51bGwhPT1iP2Iua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjfHxcIm51bWJlclwiPT09dHlwZW9mIGMpcmV0dXJuIG51bGwhPT1lP251bGw6ayhhLGIsXCJcIitjLGQpO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYyYmbnVsbCE9PWMpe3N3aXRjaChjLiQkdHlwZW9mKXtjYXNlIEtlOnJldHVybiBjLmtleT09PWU/cChhLFxuYixjLGQpOm51bGw7Y2FzZSBvZTpyZXR1cm4gYy5rZXk9PT1lP3goYSxiLGMsZCk6bnVsbDtjYXNlIHBlOnJldHVybiBudWxsPT09ZT9TKGEsYixjLGQpOm51bGw7Y2FzZSBxZTpyZXR1cm4gYy5rZXk9PT1lP0QoYSxiLGMsZCk6bnVsbH1pZih5ZShjKXx8TGUoYykpcmV0dXJuIG51bGwhPT1lP251bGw6eShhLGIsYyxkKTtOZShhLGMpfXJldHVybiBudWxsfWZ1bmN0aW9uIEMoYSxiLGMsZCxlKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGR8fFwibnVtYmVyXCI9PT10eXBlb2YgZClyZXR1cm4gYT1hLmdldChjKXx8bnVsbCxrKGIsYSxcIlwiK2QsZSk7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCl7c3dpdGNoKGQuJCR0eXBlb2Ype2Nhc2UgS2U6cmV0dXJuIGE9YS5nZXQobnVsbD09PWQua2V5P2M6ZC5rZXkpfHxudWxsLHAoYixhLGQsZSk7Y2FzZSBvZTpyZXR1cm4gYT1hLmdldChudWxsPT09ZC5rZXk/YzpkLmtleSl8fG51bGwseChiLGEsZCxlKTtjYXNlIHBlOnJldHVybiBhPWEuZ2V0KGMpfHxcbm51bGwsUyhiLGEsZCxlKTtjYXNlIHFlOnJldHVybiBhPWEuZ2V0KG51bGw9PT1kLmtleT9jOmQua2V5KXx8bnVsbCxEKGIsYSxkLGUpfWlmKHllKGQpfHxMZShkKSlyZXR1cm4gYT1hLmdldChjKXx8bnVsbCx5KGIsYSxkLGUpO05lKGIsZCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ2EoYSxmLGgsayl7Zm9yKHZhciBtPW51bGwsdD1udWxsLHE9ZixyPWY9MCxwPW51bGw7bnVsbCE9PXEmJnI8aC5sZW5ndGg7cisrKXtxLmluZGV4PnI/KHA9cSxxPW51bGwpOnA9cS5zaWJsaW5nO3ZhciB2PUgoYSxxLGhbcl0sayk7aWYobnVsbD09PXYpe251bGw9PT1xJiYocT1wKTticmVha31iJiZxJiZudWxsPT09di5hbHRlcm5hdGUmJmMoYSxxKTtmPWcodixmLHIpO251bGw9PT10P209djp0LnNpYmxpbmc9djt0PXY7cT1wfWlmKHI9PT1oLmxlbmd0aClyZXR1cm4gZChhLHEpLG07aWYobnVsbD09PXEpe2Zvcig7cjxoLmxlbmd0aDtyKyspaWYocT1CKGEsaFtyXSxrKSlmPWcocSxmLHIpLG51bGw9PT1cbnQ/bT1xOnQuc2libGluZz1xLHQ9cTtyZXR1cm4gbX1mb3IocT1lKGEscSk7cjxoLmxlbmd0aDtyKyspaWYocD1DKHEsYSxyLGhbcl0saykpe2lmKGImJm51bGwhPT1wLmFsdGVybmF0ZSlxW1wiZGVsZXRlXCJdKG51bGw9PT1wLmtleT9yOnAua2V5KTtmPWcocCxmLHIpO251bGw9PT10P209cDp0LnNpYmxpbmc9cDt0PXB9YiYmcS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBjKGEsYil9KTtyZXR1cm4gbX1mdW5jdGlvbiByKGEsZixoLHIpe3ZhciBtPUxlKGgpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBtP3coXCIxNTBcIik6dm9pZCAwO2g9bS5jYWxsKGgpO251bGw9PWg/dyhcIjE1MVwiKTp2b2lkIDA7Zm9yKHZhciB0PW09bnVsbCxxPWYsaz1mPTAscD1udWxsLHY9aC5uZXh0KCk7bnVsbCE9PXEmJiF2LmRvbmU7aysrLHY9aC5uZXh0KCkpe3EuaW5kZXg+az8ocD1xLHE9bnVsbCk6cD1xLnNpYmxpbmc7dmFyIFY9SChhLHEsdi52YWx1ZSxyKTtpZihudWxsPT09Vil7cXx8KHE9cCk7YnJlYWt9YiYmXG5xJiZudWxsPT09Vi5hbHRlcm5hdGUmJmMoYSxxKTtmPWcoVixmLGspO251bGw9PT10P209Vjp0LnNpYmxpbmc9Vjt0PVY7cT1wfWlmKHYuZG9uZSlyZXR1cm4gZChhLHEpLG07aWYobnVsbD09PXEpe2Zvcig7IXYuZG9uZTtrKyssdj1oLm5leHQoKSl2PUIoYSx2LnZhbHVlLHIpLG51bGwhPT12JiYoZj1nKHYsZixrKSxudWxsPT09dD9tPXY6dC5zaWJsaW5nPXYsdD12KTtyZXR1cm4gbX1mb3IocT1lKGEscSk7IXYuZG9uZTtrKyssdj1oLm5leHQoKSlpZih2PUMocSxhLGssdi52YWx1ZSxyKSxudWxsIT09dil7aWYoYiYmbnVsbCE9PXYuYWx0ZXJuYXRlKXFbXCJkZWxldGVcIl0obnVsbD09PXYua2V5P2s6di5rZXkpO2Y9Zyh2LGYsayk7bnVsbD09PXQ/bT12OnQuc2libGluZz12O3Q9dn1iJiZxLmZvckVhY2goZnVuY3Rpb24oYil7cmV0dXJuIGMoYSxiKX0pO3JldHVybiBtfXJldHVybiBmdW5jdGlvbihhLGIsZSxnKXt2YXIgbT1cIm9iamVjdFwiPT09dHlwZW9mIGUmJm51bGwhPT1lO2lmKG0pc3dpdGNoKGUuJCR0eXBlb2Ype2Nhc2UgS2U6YTp7dmFyIEM9XG5lLmtleTtmb3IobT1iO251bGwhPT1tOyl7aWYobS5rZXk9PT1DKWlmKG0udHlwZT09PWUudHlwZSl7ZChhLG0uc2libGluZyk7Yj1mKG0sZyk7Yi5yZWY9TWUobSxlKTtiLnBlbmRpbmdQcm9wcz1lLnByb3BzO2JbXCJyZXR1cm5cIl09YTthPWI7YnJlYWsgYX1lbHNle2QoYSxtKTticmVha31lbHNlIGMoYSxtKTttPW0uc2libGluZ31nPXNlKGUsYS5pbnRlcm5hbENvbnRleHRUYWcsZyk7Zy5yZWY9TWUoYixlKTtnW1wicmV0dXJuXCJdPWE7YT1nfXJldHVybiBoKGEpO2Nhc2Ugb2U6YTp7Zm9yKG09ZS5rZXk7bnVsbCE9PWI7KXtpZihiLmtleT09PW0paWYoYi50YWc9PT1EZSl7ZChhLGIuc2libGluZyk7Yj1mKGIsZyk7Yi5wZW5kaW5nUHJvcHM9ZTtiW1wicmV0dXJuXCJdPWE7YT1iO2JyZWFrIGF9ZWxzZXtkKGEsYik7YnJlYWt9ZWxzZSBjKGEsYik7Yj1iLnNpYmxpbmd9ZT12ZShlLGEuaW50ZXJuYWxDb250ZXh0VGFnLGcpO2VbXCJyZXR1cm5cIl09YTthPWV9cmV0dXJuIGgoYSk7Y2FzZSBwZTphOntpZihudWxsIT09XG5iKWlmKGIudGFnPT09RWUpe2QoYSxiLnNpYmxpbmcpO2I9ZihiLGcpO2IudHlwZT1lLnZhbHVlO2JbXCJyZXR1cm5cIl09YTthPWI7YnJlYWsgYX1lbHNlIGQoYSxiKTtiPXdlKGUsYS5pbnRlcm5hbENvbnRleHRUYWcsZyk7Yi50eXBlPWUudmFsdWU7YltcInJldHVyblwiXT1hO2E9Yn1yZXR1cm4gaChhKTtjYXNlIHFlOmE6e2ZvcihtPWUua2V5O251bGwhPT1iOyl7aWYoYi5rZXk9PT1tKWlmKGIudGFnPT09Q2UmJmIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm89PT1lLmNvbnRhaW5lckluZm8mJmIuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uPT09ZS5pbXBsZW1lbnRhdGlvbil7ZChhLGIuc2libGluZyk7Yj1mKGIsZyk7Yi5wZW5kaW5nUHJvcHM9ZS5jaGlsZHJlbnx8W107YltcInJldHVyblwiXT1hO2E9YjticmVhayBhfWVsc2V7ZChhLGIpO2JyZWFrfWVsc2UgYyhhLGIpO2I9Yi5zaWJsaW5nfWU9eGUoZSxhLmludGVybmFsQ29udGV4dFRhZyxnKTtlW1wicmV0dXJuXCJdPWE7YT1lfXJldHVybiBoKGEpfWlmKFwic3RyaW5nXCI9PT1cbnR5cGVvZiBlfHxcIm51bWJlclwiPT09dHlwZW9mIGUpcmV0dXJuIGU9XCJcIitlLG51bGwhPT1iJiZiLnRhZz09PUJlPyhkKGEsYi5zaWJsaW5nKSxiPWYoYixnKSxiLnBlbmRpbmdQcm9wcz1lLGJbXCJyZXR1cm5cIl09YSxhPWIpOihkKGEsYiksZT11ZShlLGEuaW50ZXJuYWxDb250ZXh0VGFnLGcpLGVbXCJyZXR1cm5cIl09YSxhPWUpLGgoYSk7aWYoeWUoZSkpcmV0dXJuIENhKGEsYixlLGcpO2lmKExlKGUpKXJldHVybiByKGEsYixlLGcpO20mJk5lKGEsZSk7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBlKXN3aXRjaChhLnRhZyl7Y2FzZSBBZTpjYXNlIHplOmU9YS50eXBlLHcoXCIxNTJcIixlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCIpfXJldHVybiBkKGEsYil9fVxudmFyIFBlPU9lKCEwLCEwKSxRZT1PZSghMSwhMCksUmU9T2UoITEsITEpLFNlPXtyZWNvbmNpbGVDaGlsZEZpYmVyczpQZSxyZWNvbmNpbGVDaGlsZEZpYmVyc0luUGxhY2U6UWUsbW91bnRDaGlsZEZpYmVyc0luUGxhY2U6UmUsY2xvbmVDaGlsZEZpYmVyczpmdW5jdGlvbihhLGIpe251bGwhPT1hJiZiLmNoaWxkIT09YS5jaGlsZD93KFwiMTUzXCIpOnZvaWQgMDtpZihudWxsIT09Yi5jaGlsZCl7YT1iLmNoaWxkO3ZhciBjPXJlKGEsYS5wZW5kaW5nV29ya1ByaW9yaXR5KTtjLnBlbmRpbmdQcm9wcz1hLnBlbmRpbmdQcm9wcztiLmNoaWxkPWM7Zm9yKGNbXCJyZXR1cm5cIl09YjtudWxsIT09YS5zaWJsaW5nOylhPWEuc2libGluZyxjPWMuc2libGluZz1yZShhLGEucGVuZGluZ1dvcmtQcmlvcml0eSksYy5wZW5kaW5nUHJvcHM9YS5wZW5kaW5nUHJvcHMsY1tcInJldHVyblwiXT1iO2Muc2libGluZz1udWxsfX19LFRlPUouVXBkYXRlLFVlPVBkLkFzeW5jVXBkYXRlcyxWZT1SLmNhY2hlQ29udGV4dCxcbldlPVIuZ2V0TWFza2VkQ29udGV4dCxYZT1SLmdldFVubWFza2VkQ29udGV4dCxZZT1SLmlzQ29udGV4dENvbnN1bWVyLFplPXVkLmFkZFVwZGF0ZSwkZT11ZC5hZGRSZXBsYWNlVXBkYXRlLGFmPXVkLmFkZEZvcmNlVXBkYXRlLGJmPXVkLmJlZ2luVXBkYXRlUXVldWUsY2Y9Ui5oYXNDb250ZXh0Q2hhbmdlZCxkZj1iYi5pc01vdW50ZWQ7XG5mdW5jdGlvbiBlZihhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYil7Yi51cGRhdGVyPWY7YS5zdGF0ZU5vZGU9YjtQYS5zZXQoYixhKX12YXIgZj17aXNNb3VudGVkOmRmLGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihjLGQsZSl7Yz1QYS5nZXQoYyk7dmFyIGY9YihjLCExKTtaZShjLGQsdm9pZCAwPT09ZT9udWxsOmUsZik7YShjLGYpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGMsZCxlKXtjPVBhLmdldChjKTt2YXIgZj1iKGMsITEpOyRlKGMsZCx2b2lkIDA9PT1lP251bGw6ZSxmKTthKGMsZil9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbihjLGQpe2M9UGEuZ2V0KGMpO3ZhciBlPWIoYywhMSk7YWYoYyx2b2lkIDA9PT1kP251bGw6ZCxlKTthKGMsZSl9fTtyZXR1cm57YWRvcHRDbGFzc0luc3RhbmNlOmUsY29uc3RydWN0Q2xhc3NJbnN0YW5jZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEudHlwZSxkPVhlKGEpLGY9WWUoYSksZz1mP1dlKGEsZCk6ZGE7Yj1uZXcgYyhiLGcpO1xuZShhLGIpO2YmJlZlKGEsZCxnKTtyZXR1cm4gYn0sbW91bnRDbGFzc0luc3RhbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5hbHRlcm5hdGUsZD1hLnN0YXRlTm9kZSxlPWQuc3RhdGV8fG51bGwsZz1hLnBlbmRpbmdQcm9wcztnP3ZvaWQgMDp3KFwiMTU4XCIpO3ZhciBoPVhlKGEpO2QucHJvcHM9ZztkLnN0YXRlPWU7ZC5yZWZzPWRhO2QuY29udGV4dD1XZShhLGgpO2VkLmVuYWJsZUFzeW5jU3VidHJlZUFQSSYmbnVsbCE9YS50eXBlJiZudWxsIT1hLnR5cGUucHJvdG90eXBlJiYhMD09PWEudHlwZS5wcm90b3R5cGUudW5zdGFibGVfaXNBc3luY1JlYWN0Q29tcG9uZW50JiYoYS5pbnRlcm5hbENvbnRleHRUYWd8PVVlKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnRXaWxsTW91bnQmJihoPWQuc3RhdGUsZC5jb21wb25lbnRXaWxsTW91bnQoKSxoIT09ZC5zdGF0ZSYmZi5lbnF1ZXVlUmVwbGFjZVN0YXRlKGQsZC5zdGF0ZSxudWxsKSxoPWEudXBkYXRlUXVldWUsbnVsbCE9PVxuaCYmKGQuc3RhdGU9YmYoYyxhLGgsZCxlLGcsYikpKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnREaWRNb3VudCYmKGEuZWZmZWN0VGFnfD1UZSl9LHVwZGF0ZUNsYXNzSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGUpe3ZhciBnPWIuc3RhdGVOb2RlO2cucHJvcHM9Yi5tZW1vaXplZFByb3BzO2cuc3RhdGU9Yi5tZW1vaXplZFN0YXRlO3ZhciBoPWIubWVtb2l6ZWRQcm9wcyxrPWIucGVuZGluZ1Byb3BzO2t8fChrPWgsbnVsbD09az93KFwiMTU5XCIpOnZvaWQgMCk7dmFyIEQ9Zy5jb250ZXh0LHk9WGUoYik7eT1XZShiLHkpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fGg9PT1rJiZEPT09eXx8KEQ9Zy5zdGF0ZSxnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoayx5KSxnLnN0YXRlIT09RCYmZi5lbnF1ZXVlUmVwbGFjZVN0YXRlKGcsZy5zdGF0ZSxudWxsKSk7RD1iLm1lbW9pemVkU3RhdGU7ZT1udWxsIT09Yi51cGRhdGVRdWV1ZT9iZihhLFxuYixiLnVwZGF0ZVF1ZXVlLGcsRCxrLGUpOkQ7aWYoIShoIT09a3x8RCE9PWV8fGNmKCl8fG51bGwhPT1iLnVwZGF0ZVF1ZXVlJiZiLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKSlyZXR1cm5cImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnREaWRVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJkQ9PT1hLm1lbW9pemVkU3RhdGV8fChiLmVmZmVjdFRhZ3w9VGUpLCExO3ZhciBCPWs7aWYobnVsbD09PWh8fG51bGwhPT1iLnVwZGF0ZVF1ZXVlJiZiLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKUI9ITA7ZWxzZXt2YXIgSD1iLnN0YXRlTm9kZSxDPWIudHlwZTtCPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBILnNob3VsZENvbXBvbmVudFVwZGF0ZT9ILnNob3VsZENvbXBvbmVudFVwZGF0ZShCLGUseSk6Qy5wcm90b3R5cGUmJkMucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50PyFlYShoLEIpfHwhZWEoRCxlKTohMH1CPyhcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnRXaWxsVXBkYXRlJiZcbmcuY29tcG9uZW50V2lsbFVwZGF0ZShrLGUseSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkVXBkYXRlJiYoYi5lZmZlY3RUYWd8PVRlKSk6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudERpZFVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmRD09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZWZmZWN0VGFnfD1UZSksYyhiLGspLGQoYixlKSk7Zy5wcm9wcz1rO2cuc3RhdGU9ZTtnLmNvbnRleHQ9eTtyZXR1cm4gQn19fVxudmFyIGZmPVNlLm1vdW50Q2hpbGRGaWJlcnNJblBsYWNlLGdmPVNlLnJlY29uY2lsZUNoaWxkRmliZXJzLGhmPVNlLnJlY29uY2lsZUNoaWxkRmliZXJzSW5QbGFjZSxqZj1TZS5jbG9uZUNoaWxkRmliZXJzLGtmPXVkLmJlZ2luVXBkYXRlUXVldWUsbGY9Ui5nZXRNYXNrZWRDb250ZXh0LG1mPVIuZ2V0VW5tYXNrZWRDb250ZXh0LG5mPVIuaGFzQ29udGV4dENoYW5nZWQsb2Y9Ui5wdXNoQ29udGV4dFByb3ZpZGVyLHBmPVIucHVzaFRvcExldmVsQ29udGV4dE9iamVjdCxxZj1SLmludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIscmY9RS5JbmRldGVybWluYXRlQ29tcG9uZW50LHNmPUUuRnVuY3Rpb25hbENvbXBvbmVudCx0Zj1FLkNsYXNzQ29tcG9uZW50LHVmPUUuSG9zdFJvb3Qsd2Y9RS5Ib3N0Q29tcG9uZW50LHhmPUUuSG9zdFRleHQseWY9RS5Ib3N0UG9ydGFsLHpmPUUuQ29yb3V0aW5lQ29tcG9uZW50LEFmPUUuQ29yb3V0aW5lSGFuZGxlclBoYXNlLEJmPUUuWWllbGRDb21wb25lbnQsXG5DZj1FLkZyYWdtZW50LERmPVEuTm9Xb3JrLEVmPVEuT2Zmc2NyZWVuUHJpb3JpdHksRmY9Si5QZXJmb3JtZWRXb3JrLEdmPUouUGxhY2VtZW50LEhmPUouQ29udGVudFJlc2V0LElmPUouRXJyLEpmPUouUmVmLEtmPVFhLlJlYWN0Q3VycmVudE93bmVyO1xuZnVuY3Rpb24gTGYoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGEsYixjKXtnKGEsYixjLGIucGVuZGluZ1dvcmtQcmlvcml0eSl9ZnVuY3Rpb24gZyhhLGIsYyxkKXtiLmNoaWxkPW51bGw9PT1hP2ZmKGIsYi5jaGlsZCxjLGQpOmEuY2hpbGQ9PT1iLmNoaWxkP2dmKGIsYi5jaGlsZCxjLGQpOmhmKGIsYi5jaGlsZCxjLGQpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1iLnJlZjtudWxsPT09Y3x8YSYmYS5yZWY9PT1jfHwoYi5lZmZlY3RUYWd8PUpmKX1mdW5jdGlvbiBrKGEsYixjLGQpe2goYSxiKTtpZighYylyZXR1cm4gZCYmcWYoYiwhMSkseChhLGIpO2M9Yi5zdGF0ZU5vZGU7S2YuY3VycmVudD1iO3ZhciBlPWMucmVuZGVyKCk7Yi5lZmZlY3RUYWd8PUZmO2YoYSxiLGUpO2IubWVtb2l6ZWRTdGF0ZT1jLnN0YXRlO2IubWVtb2l6ZWRQcm9wcz1jLnByb3BzO2QmJnFmKGIsITApO3JldHVybiBiLmNoaWxkfWZ1bmN0aW9uIHAoYSl7dmFyIGI9YS5zdGF0ZU5vZGU7Yi5wZW5kaW5nQ29udGV4dD9cbnBmKGEsYi5wZW5kaW5nQ29udGV4dCxiLnBlbmRpbmdDb250ZXh0IT09Yi5jb250ZXh0KTpiLmNvbnRleHQmJnBmKGEsYi5jb250ZXh0LCExKTtDKGEsYi5jb250YWluZXJJbmZvKX1mdW5jdGlvbiB4KGEsYil7amYoYSxiKTtyZXR1cm4gYi5jaGlsZH1mdW5jdGlvbiBTKGEsYil7c3dpdGNoKGIudGFnKXtjYXNlIHVmOnAoYik7YnJlYWs7Y2FzZSB0ZjpvZihiKTticmVhaztjYXNlIHlmOkMoYixiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKX1yZXR1cm4gbnVsbH12YXIgRD1hLnNob3VsZFNldFRleHRDb250ZW50LHk9YS51c2VTeW5jU2NoZWR1bGluZyxCPWEuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSxIPWIucHVzaEhvc3RDb250ZXh0LEM9Yi5wdXNoSG9zdENvbnRhaW5lcixDYT1jLmVudGVySHlkcmF0aW9uU3RhdGUscj1jLnJlc2V0SHlkcmF0aW9uU3RhdGUsbT1jLnRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlO2E9ZWYoZCxlLGZ1bmN0aW9uKGEsYil7YS5tZW1vaXplZFByb3BzPVxuYn0sZnVuY3Rpb24oYSxiKXthLm1lbW9pemVkU3RhdGU9Yn0pO3ZhciB0PWEuYWRvcHRDbGFzc0luc3RhbmNlLHY9YS5jb25zdHJ1Y3RDbGFzc0luc3RhbmNlLFY9YS5tb3VudENsYXNzSW5zdGFuY2UsbGQ9YS51cGRhdGVDbGFzc0luc3RhbmNlO3JldHVybntiZWdpbldvcms6ZnVuY3Rpb24oYSxiLGMpe2lmKGIucGVuZGluZ1dvcmtQcmlvcml0eT09PURmfHxiLnBlbmRpbmdXb3JrUHJpb3JpdHk+YylyZXR1cm4gUyhhLGIpO3N3aXRjaChiLnRhZyl7Y2FzZSByZjpudWxsIT09YT93KFwiMTU1XCIpOnZvaWQgMDt2YXIgZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxnPW1mKGIpO2c9bGYoYixnKTtkPWQoZSxnKTtiLmVmZmVjdFRhZ3w9RmY7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGQucmVuZGVyPyhiLnRhZz10ZixlPW9mKGIpLHQoYixkKSxWKGIsYyksYj1rKGEsYiwhMCxlKSk6KGIudGFnPXNmLGYoYSxiLGQpLGIubWVtb2l6ZWRQcm9wcz1cbmUsYj1iLmNoaWxkKTtyZXR1cm4gYjtjYXNlIHNmOmE6e2U9Yi50eXBlO2M9Yi5wZW5kaW5nUHJvcHM7ZD1iLm1lbW9pemVkUHJvcHM7aWYobmYoKSludWxsPT09YyYmKGM9ZCk7ZWxzZSBpZihudWxsPT09Y3x8ZD09PWMpe2I9eChhLGIpO2JyZWFrIGF9ZD1tZihiKTtkPWxmKGIsZCk7ZT1lKGMsZCk7Yi5lZmZlY3RUYWd8PUZmO2YoYSxiLGUpO2IubWVtb2l6ZWRQcm9wcz1jO2I9Yi5jaGlsZH1yZXR1cm4gYjtjYXNlIHRmOnJldHVybiBlPW9mKGIpLGQ9dm9pZCAwLG51bGw9PT1hP2Iuc3RhdGVOb2RlP3coXCIxNTNcIik6KHYoYixiLnBlbmRpbmdQcm9wcyksVihiLGMpLGQ9ITApOmQ9bGQoYSxiLGMpLGsoYSxiLGQsZSk7Y2FzZSB1ZjpyZXR1cm4gcChiKSxkPWIudXBkYXRlUXVldWUsbnVsbCE9PWQ/KGU9Yi5tZW1vaXplZFN0YXRlLGQ9a2YoYSxiLGQsbnVsbCxlLG51bGwsYyksZT09PWQ/KHIoKSxiPXgoYSxiKSk6KGU9ZC5lbGVtZW50LG51bGwhPT1hJiZudWxsIT09YS5jaGlsZHx8XG4hQ2EoYik/KHIoKSxmKGEsYixlKSk6KGIuZWZmZWN0VGFnfD1HZixiLmNoaWxkPWZmKGIsYi5jaGlsZCxlLGMpKSxiLm1lbW9pemVkU3RhdGU9ZCxiPWIuY2hpbGQpKToocigpLGI9eChhLGIpKSxiO2Nhc2Ugd2Y6SChiKTtudWxsPT09YSYmbShiKTtlPWIudHlwZTt2YXIgcT1iLm1lbW9pemVkUHJvcHM7ZD1iLnBlbmRpbmdQcm9wcztudWxsPT09ZCYmKGQ9cSxudWxsPT09ZD93KFwiMTU0XCIpOnZvaWQgMCk7Zz1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6bnVsbDtuZigpfHxudWxsIT09ZCYmcSE9PWQ/KHE9ZC5jaGlsZHJlbixEKGUsZCk/cT1udWxsOmcmJkQoZSxnKSYmKGIuZWZmZWN0VGFnfD1IZiksaChhLGIpLGMhPT1FZiYmIXkmJkIoZSxkKT8oYi5wZW5kaW5nV29ya1ByaW9yaXR5PUVmLGI9bnVsbCk6KGYoYSxiLHEpLGIubWVtb2l6ZWRQcm9wcz1kLGI9Yi5jaGlsZCkpOmI9eChhLGIpO3JldHVybiBiO2Nhc2UgeGY6cmV0dXJuIG51bGw9PT1hJiZtKGIpLGE9Yi5wZW5kaW5nUHJvcHMsXG5udWxsPT09YSYmKGE9Yi5tZW1vaXplZFByb3BzKSxiLm1lbW9pemVkUHJvcHM9YSxudWxsO2Nhc2UgQWY6Yi50YWc9emY7Y2FzZSB6ZjpjPWIucGVuZGluZ1Byb3BzO2lmKG5mKCkpbnVsbD09PWMmJihjPWEmJmEubWVtb2l6ZWRQcm9wcyxudWxsPT09Yz93KFwiMTU0XCIpOnZvaWQgMCk7ZWxzZSBpZihudWxsPT09Y3x8Yi5tZW1vaXplZFByb3BzPT09YyljPWIubWVtb2l6ZWRQcm9wcztlPWMuY2hpbGRyZW47ZD1iLnBlbmRpbmdXb3JrUHJpb3JpdHk7Yi5zdGF0ZU5vZGU9bnVsbD09PWE/ZmYoYixiLnN0YXRlTm9kZSxlLGQpOmEuY2hpbGQ9PT1iLmNoaWxkP2dmKGIsYi5zdGF0ZU5vZGUsZSxkKTpoZihiLGIuc3RhdGVOb2RlLGUsZCk7Yi5tZW1vaXplZFByb3BzPWM7cmV0dXJuIGIuc3RhdGVOb2RlO2Nhc2UgQmY6cmV0dXJuIG51bGw7Y2FzZSB5ZjphOntDKGIsYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7Yz1iLnBlbmRpbmdXb3JrUHJpb3JpdHk7ZT1iLnBlbmRpbmdQcm9wcztpZihuZigpKW51bGw9PT1cbmUmJihlPWEmJmEubWVtb2l6ZWRQcm9wcyxudWxsPT1lP3coXCIxNTRcIik6dm9pZCAwKTtlbHNlIGlmKG51bGw9PT1lfHxiLm1lbW9pemVkUHJvcHM9PT1lKXtiPXgoYSxiKTticmVhayBhfW51bGw9PT1hP2IuY2hpbGQ9aGYoYixiLmNoaWxkLGUsYyk6ZihhLGIsZSk7Yi5tZW1vaXplZFByb3BzPWU7Yj1iLmNoaWxkfXJldHVybiBiO2Nhc2UgQ2Y6YTp7Yz1iLnBlbmRpbmdQcm9wcztpZihuZigpKW51bGw9PT1jJiYoYz1iLm1lbW9pemVkUHJvcHMpO2Vsc2UgaWYobnVsbD09PWN8fGIubWVtb2l6ZWRQcm9wcz09PWMpe2I9eChhLGIpO2JyZWFrIGF9ZihhLGIsYyk7Yi5tZW1vaXplZFByb3BzPWM7Yj1iLmNoaWxkfXJldHVybiBiO2RlZmF1bHQ6dyhcIjE1NlwiKX19LGJlZ2luRmFpbGVkV29yazpmdW5jdGlvbihhLGIsYyl7c3dpdGNoKGIudGFnKXtjYXNlIHRmOm9mKGIpO2JyZWFrO2Nhc2UgdWY6cChiKTticmVhaztkZWZhdWx0OncoXCIxNTdcIil9Yi5lZmZlY3RUYWd8PUlmO251bGw9PT1hP1xuYi5jaGlsZD1udWxsOmIuY2hpbGQhPT1hLmNoaWxkJiYoYi5jaGlsZD1hLmNoaWxkKTtpZihiLnBlbmRpbmdXb3JrUHJpb3JpdHk9PT1EZnx8Yi5wZW5kaW5nV29ya1ByaW9yaXR5PmMpcmV0dXJuIFMoYSxiKTtiLmZpcnN0RWZmZWN0PW51bGw7Yi5sYXN0RWZmZWN0PW51bGw7ZyhhLGIsbnVsbCxjKTtiLnRhZz09PXRmJiYoYT1iLnN0YXRlTm9kZSxiLm1lbW9pemVkUHJvcHM9YS5wcm9wcyxiLm1lbW9pemVkU3RhdGU9YS5zdGF0ZSk7cmV0dXJuIGIuY2hpbGR9fX1cbnZhciBNZj1TZS5yZWNvbmNpbGVDaGlsZEZpYmVycyxOZj1SLnBvcENvbnRleHRQcm92aWRlcixPZj1SLnBvcFRvcExldmVsQ29udGV4dE9iamVjdCxQZj1FLkluZGV0ZXJtaW5hdGVDb21wb25lbnQsUWY9RS5GdW5jdGlvbmFsQ29tcG9uZW50LFJmPUUuQ2xhc3NDb21wb25lbnQsU2Y9RS5Ib3N0Um9vdCxUZj1FLkhvc3RDb21wb25lbnQsVWY9RS5Ib3N0VGV4dCxWZj1FLkhvc3RQb3J0YWwsV2Y9RS5Db3JvdXRpbmVDb21wb25lbnQsWGY9RS5Db3JvdXRpbmVIYW5kbGVyUGhhc2UsWWY9RS5ZaWVsZENvbXBvbmVudCxaZj1FLkZyYWdtZW50LGFnPUouUGxhY2VtZW50LGJnPUouUmVmLGNnPUouVXBkYXRlLGRnPVEuT2Zmc2NyZWVuUHJpb3JpdHk7XG5mdW5jdGlvbiBlZyhhLGIsYyl7dmFyIGQ9YS5jcmVhdGVJbnN0YW5jZSxlPWEuY3JlYXRlVGV4dEluc3RhbmNlLGY9YS5hcHBlbmRJbml0aWFsQ2hpbGQsZz1hLmZpbmFsaXplSW5pdGlhbENoaWxkcmVuLGg9YS5wcmVwYXJlVXBkYXRlLGs9Yi5nZXRSb290SG9zdENvbnRhaW5lcixwPWIucG9wSG9zdENvbnRleHQseD1iLmdldEhvc3RDb250ZXh0LFM9Yi5wb3BIb3N0Q29udGFpbmVyLEQ9Yy5wcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLHk9Yy5wcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxCPWMucG9wSHlkcmF0aW9uU3RhdGU7cmV0dXJue2NvbXBsZXRlV29yazpmdW5jdGlvbihhLGIsYyl7dmFyIHI9Yi5wZW5kaW5nUHJvcHM7aWYobnVsbD09PXIpcj1iLm1lbW9pemVkUHJvcHM7ZWxzZSBpZihiLnBlbmRpbmdXb3JrUHJpb3JpdHkhPT1kZ3x8Yz09PWRnKWIucGVuZGluZ1Byb3BzPW51bGw7c3dpdGNoKGIudGFnKXtjYXNlIFFmOnJldHVybiBudWxsO2Nhc2UgUmY6cmV0dXJuIE5mKGIpLFxubnVsbDtjYXNlIFNmOlMoYik7T2YoYik7cj1iLnN0YXRlTm9kZTtyLnBlbmRpbmdDb250ZXh0JiYoci5jb250ZXh0PXIucGVuZGluZ0NvbnRleHQsci5wZW5kaW5nQ29udGV4dD1udWxsKTtpZihudWxsPT09YXx8bnVsbD09PWEuY2hpbGQpQihiKSxiLmVmZmVjdFRhZyY9fmFnO3JldHVybiBudWxsO2Nhc2UgVGY6cChiKTtjPWsoKTt2YXIgbT1iLnR5cGU7aWYobnVsbCE9PWEmJm51bGwhPWIuc3RhdGVOb2RlKXt2YXIgdD1hLm1lbW9pemVkUHJvcHMsQz1iLnN0YXRlTm9kZSxWPXgoKTtyPWgoQyxtLHQscixjLFYpO2lmKGIudXBkYXRlUXVldWU9ciliLmVmZmVjdFRhZ3w9Y2c7YS5yZWYhPT1iLnJlZiYmKGIuZWZmZWN0VGFnfD1iZyl9ZWxzZXtpZighcilyZXR1cm4gbnVsbD09PWIuc3RhdGVOb2RlP3coXCIxNjZcIik6dm9pZCAwLG51bGw7YT14KCk7aWYoQihiKSlEKGIsYyxhKSYmKGIuZWZmZWN0VGFnfD1jZyk7ZWxzZXthPWQobSxyLGMsYSxiKTthOmZvcih0PWIuY2hpbGQ7bnVsbCE9PVxudDspe2lmKHQudGFnPT09VGZ8fHQudGFnPT09VWYpZihhLHQuc3RhdGVOb2RlKTtlbHNlIGlmKHQudGFnIT09VmYmJm51bGwhPT10LmNoaWxkKXt0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWIpYnJlYWsgYTtmb3IoO251bGw9PT10LnNpYmxpbmc7KXtpZihudWxsPT09dFtcInJldHVyblwiXXx8dFtcInJldHVyblwiXT09PWIpYnJlYWsgYTt0PXRbXCJyZXR1cm5cIl19dD10LnNpYmxpbmd9ZyhhLG0scixjKSYmKGIuZWZmZWN0VGFnfD1jZyk7Yi5zdGF0ZU5vZGU9YX1udWxsIT09Yi5yZWYmJihiLmVmZmVjdFRhZ3w9YmcpfXJldHVybiBudWxsO2Nhc2UgVWY6aWYoYSYmbnVsbCE9Yi5zdGF0ZU5vZGUpYS5tZW1vaXplZFByb3BzIT09ciYmKGIuZWZmZWN0VGFnfD1jZyk7ZWxzZXtpZihcInN0cmluZ1wiIT09dHlwZW9mIHIpcmV0dXJuIG51bGw9PT1iLnN0YXRlTm9kZT93KFwiMTY2XCIpOnZvaWQgMCxudWxsO2E9aygpO2M9eCgpO0IoYik/eShiKSYmKGIuZWZmZWN0VGFnfD1jZyk6Yi5zdGF0ZU5vZGU9XG5lKHIsYSxjLGIpfXJldHVybiBudWxsO2Nhc2UgV2Y6KHI9Yi5tZW1vaXplZFByb3BzKT92b2lkIDA6dyhcIjE2NVwiKTtiLnRhZz1YZjtjPVtdO2E6Zm9yKChtPWIuc3RhdGVOb2RlKSYmKG1bXCJyZXR1cm5cIl09Yik7bnVsbCE9PW07KXtpZihtLnRhZz09PVRmfHxtLnRhZz09PVVmfHxtLnRhZz09PVZmKXcoXCIxNjRcIik7ZWxzZSBpZihtLnRhZz09PVlmKWMucHVzaChtLnR5cGUpO2Vsc2UgaWYobnVsbCE9PW0uY2hpbGQpe20uY2hpbGRbXCJyZXR1cm5cIl09bTttPW0uY2hpbGQ7Y29udGludWV9Zm9yKDtudWxsPT09bS5zaWJsaW5nOyl7aWYobnVsbD09PW1bXCJyZXR1cm5cIl18fG1bXCJyZXR1cm5cIl09PT1iKWJyZWFrIGE7bT1tW1wicmV0dXJuXCJdfW0uc2libGluZ1tcInJldHVyblwiXT1tW1wicmV0dXJuXCJdO209bS5zaWJsaW5nfW09ci5oYW5kbGVyO3I9bShyLnByb3BzLGMpO2IuY2hpbGQ9TWYoYixudWxsIT09YT9hLmNoaWxkOm51bGwscixiLnBlbmRpbmdXb3JrUHJpb3JpdHkpO3JldHVybiBiLmNoaWxkO1xuY2FzZSBYZjpyZXR1cm4gYi50YWc9V2YsbnVsbDtjYXNlIFlmOnJldHVybiBudWxsO2Nhc2UgWmY6cmV0dXJuIG51bGw7Y2FzZSBWZjpyZXR1cm4gYi5lZmZlY3RUYWd8PWNnLFMoYiksbnVsbDtjYXNlIFBmOncoXCIxNjdcIik7ZGVmYXVsdDp3KFwiMTU2XCIpfX19fXZhciBmZz1udWxsLGdnPW51bGw7ZnVuY3Rpb24gaGcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3RyeXtyZXR1cm4gYShiKX1jYXRjaChjKXt9fX1cbnZhciBpZz17aW5qZWN0SW50ZXJuYWxzOmZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKXJldHVybiExO3ZhciBiPV9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztpZighYi5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgYz1iLmluamVjdChhKTtmZz1oZyhmdW5jdGlvbihhKXtyZXR1cm4gYi5vbkNvbW1pdEZpYmVyUm9vdChjLGEpfSk7Z2c9aGcoZnVuY3Rpb24oYSl7cmV0dXJuIGIub25Db21taXRGaWJlclVubW91bnQoYyxhKX0pfWNhdGNoKGQpe31yZXR1cm4hMH0sb25Db21taXRSb290OmZ1bmN0aW9uKGEpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmZyYmZmcoYSl9LG9uQ29tbWl0VW5tb3VudDpmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZ2cmJmdnKGEpfX0samc9RS5DbGFzc0NvbXBvbmVudCxrZz1FLkhvc3RSb290LGxnPUUuSG9zdENvbXBvbmVudCxtZz1FLkhvc3RUZXh0LG5nPVxuRS5Ib3N0UG9ydGFsLG9nPUUuQ29yb3V0aW5lQ29tcG9uZW50LHBnPXVkLmNvbW1pdENhbGxiYWNrcyxxZz1pZy5vbkNvbW1pdFVubW91bnQscmc9Si5QbGFjZW1lbnQsc2c9Si5VcGRhdGUsdGc9Si5DYWxsYmFjayx1Zz1KLkNvbnRlbnRSZXNldDtcbmZ1bmN0aW9uIHZnKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYz1hLnJlZjtpZihudWxsIT09Yyl0cnl7YyhudWxsKX1jYXRjaCh0KXtiKGEsdCl9fWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGFnPT09bGd8fGEudGFnPT09a2d8fGEudGFnPT09bmd9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9YTs7KWlmKGcoYiksbnVsbCE9PWIuY2hpbGQmJmIudGFnIT09bmcpYi5jaGlsZFtcInJldHVyblwiXT1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm47Yj1iW1wicmV0dXJuXCJdfWIuc2libGluZ1tcInJldHVyblwiXT1iW1wicmV0dXJuXCJdO2I9Yi5zaWJsaW5nfX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj1hLGM9ITEsZD12b2lkIDAsZj12b2lkIDA7Oyl7aWYoIWMpe2M9YltcInJldHVyblwiXTthOmZvcig7Oyl7bnVsbD09PWM/dyhcIjE2MFwiKTp2b2lkIDA7c3dpdGNoKGMudGFnKXtjYXNlIGxnOmQ9XG5jLnN0YXRlTm9kZTtmPSExO2JyZWFrIGE7Y2FzZSBrZzpkPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87Zj0hMDticmVhayBhO2Nhc2Ugbmc6ZD1jLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO2Y9ITA7YnJlYWsgYX1jPWNbXCJyZXR1cm5cIl19Yz0hMH1pZihiLnRhZz09PWxnfHxiLnRhZz09PW1nKWUoYiksZj9DKGQsYi5zdGF0ZU5vZGUpOkgoZCxiLnN0YXRlTm9kZSk7ZWxzZSBpZihiLnRhZz09PW5nP2Q9Yi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpnKGIpLG51bGwhPT1iLmNoaWxkKXtiLmNoaWxkW1wicmV0dXJuXCJdPWI7Yj1iLmNoaWxkO2NvbnRpbnVlfWlmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iW1wicmV0dXJuXCJdfHxiW1wicmV0dXJuXCJdPT09YSlyZXR1cm47Yj1iW1wicmV0dXJuXCJdO2IudGFnPT09bmcmJihjPSExKX1iLnNpYmxpbmdbXCJyZXR1cm5cIl09YltcInJldHVyblwiXTtiPWIuc2libGluZ319ZnVuY3Rpb24gZyhhKXtcImZ1bmN0aW9uXCI9PT1cbnR5cGVvZiBxZyYmcWcoYSk7c3dpdGNoKGEudGFnKXtjYXNlIGpnOmMoYSk7dmFyIGQ9YS5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e2QucHJvcHM9YS5tZW1vaXplZFByb3BzLGQuc3RhdGU9YS5tZW1vaXplZFN0YXRlLGQuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaCh0KXtiKGEsdCl9YnJlYWs7Y2FzZSBsZzpjKGEpO2JyZWFrO2Nhc2Ugb2c6ZShhLnN0YXRlTm9kZSk7YnJlYWs7Y2FzZSBuZzpmKGEpfX12YXIgaD1hLmNvbW1pdE1vdW50LGs9YS5jb21taXRVcGRhdGUscD1hLnJlc2V0VGV4dENvbnRlbnQseD1hLmNvbW1pdFRleHRVcGRhdGUsUz1hLmFwcGVuZENoaWxkLEQ9YS5hcHBlbmRDaGlsZFRvQ29udGFpbmVyLHk9YS5pbnNlcnRCZWZvcmUsQj1hLmluc2VydEluQ29udGFpbmVyQmVmb3JlLEg9YS5yZW1vdmVDaGlsZCxDPWEucmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyLENhPWEuZ2V0UHVibGljSW5zdGFuY2U7XG5yZXR1cm57Y29tbWl0UGxhY2VtZW50OmZ1bmN0aW9uKGEpe2E6e2Zvcih2YXIgYj1hW1wicmV0dXJuXCJdO251bGwhPT1iOyl7aWYoZChiKSl7dmFyIGM9YjticmVhayBhfWI9YltcInJldHVyblwiXX13KFwiMTYwXCIpO2M9dm9pZCAwfXZhciBlPWI9dm9pZCAwO3N3aXRjaChjLnRhZyl7Y2FzZSBsZzpiPWMuc3RhdGVOb2RlO2U9ITE7YnJlYWs7Y2FzZSBrZzpiPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZT0hMDticmVhaztjYXNlIG5nOmI9Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztlPSEwO2JyZWFrO2RlZmF1bHQ6dyhcIjE2MVwiKX1jLmVmZmVjdFRhZyZ1ZyYmKHAoYiksYy5lZmZlY3RUYWcmPX51Zyk7YTpiOmZvcihjPWE7Oyl7Zm9yKDtudWxsPT09Yy5zaWJsaW5nOyl7aWYobnVsbD09PWNbXCJyZXR1cm5cIl18fGQoY1tcInJldHVyblwiXSkpe2M9bnVsbDticmVhayBhfWM9Y1tcInJldHVyblwiXX1jLnNpYmxpbmdbXCJyZXR1cm5cIl09Y1tcInJldHVyblwiXTtmb3IoYz1jLnNpYmxpbmc7Yy50YWchPT1cbmxnJiZjLnRhZyE9PW1nOyl7aWYoYy5lZmZlY3RUYWcmcmcpY29udGludWUgYjtpZihudWxsPT09Yy5jaGlsZHx8Yy50YWc9PT1uZyljb250aW51ZSBiO2Vsc2UgYy5jaGlsZFtcInJldHVyblwiXT1jLGM9Yy5jaGlsZH1pZighKGMuZWZmZWN0VGFnJnJnKSl7Yz1jLnN0YXRlTm9kZTticmVhayBhfX1mb3IodmFyIGY9YTs7KXtpZihmLnRhZz09PWxnfHxmLnRhZz09PW1nKWM/ZT9CKGIsZi5zdGF0ZU5vZGUsYyk6eShiLGYuc3RhdGVOb2RlLGMpOmU/RChiLGYuc3RhdGVOb2RlKTpTKGIsZi5zdGF0ZU5vZGUpO2Vsc2UgaWYoZi50YWchPT1uZyYmbnVsbCE9PWYuY2hpbGQpe2YuY2hpbGRbXCJyZXR1cm5cIl09ZjtmPWYuY2hpbGQ7Y29udGludWV9aWYoZj09PWEpYnJlYWs7Zm9yKDtudWxsPT09Zi5zaWJsaW5nOyl7aWYobnVsbD09PWZbXCJyZXR1cm5cIl18fGZbXCJyZXR1cm5cIl09PT1hKXJldHVybjtmPWZbXCJyZXR1cm5cIl19Zi5zaWJsaW5nW1wicmV0dXJuXCJdPWZbXCJyZXR1cm5cIl07Zj1mLnNpYmxpbmd9fSxcbmNvbW1pdERlbGV0aW9uOmZ1bmN0aW9uKGEpe2YoYSk7YVtcInJldHVyblwiXT1udWxsO2EuY2hpbGQ9bnVsbDthLmFsdGVybmF0ZSYmKGEuYWx0ZXJuYXRlLmNoaWxkPW51bGwsYS5hbHRlcm5hdGVbXCJyZXR1cm5cIl09bnVsbCl9LGNvbW1pdFdvcms6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYi50YWcpe2Nhc2Ugamc6YnJlYWs7Y2FzZSBsZzp2YXIgYz1iLnN0YXRlTm9kZTtpZihudWxsIT1jKXt2YXIgZD1iLm1lbW9pemVkUHJvcHM7YT1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6ZDt2YXIgZT1iLnR5cGUsZj1iLnVwZGF0ZVF1ZXVlO2IudXBkYXRlUXVldWU9bnVsbDtudWxsIT09ZiYmayhjLGYsZSxhLGQsYil9YnJlYWs7Y2FzZSBtZzpudWxsPT09Yi5zdGF0ZU5vZGU/dyhcIjE2MlwiKTp2b2lkIDA7Yz1iLm1lbW9pemVkUHJvcHM7eChiLnN0YXRlTm9kZSxudWxsIT09YT9hLm1lbW9pemVkUHJvcHM6YyxjKTticmVhaztjYXNlIGtnOmJyZWFrO2Nhc2Ugbmc6YnJlYWs7ZGVmYXVsdDp3KFwiMTYzXCIpfX0sXG5jb21taXRMaWZlQ3ljbGVzOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGIudGFnKXtjYXNlIGpnOnZhciBjPWIuc3RhdGVOb2RlO2lmKGIuZWZmZWN0VGFnJnNnKWlmKG51bGw9PT1hKWMucHJvcHM9Yi5tZW1vaXplZFByb3BzLGMuc3RhdGU9Yi5tZW1vaXplZFN0YXRlLGMuY29tcG9uZW50RGlkTW91bnQoKTtlbHNle3ZhciBkPWEubWVtb2l6ZWRQcm9wczthPWEubWVtb2l6ZWRTdGF0ZTtjLnByb3BzPWIubWVtb2l6ZWRQcm9wcztjLnN0YXRlPWIubWVtb2l6ZWRTdGF0ZTtjLmNvbXBvbmVudERpZFVwZGF0ZShkLGEpfWIuZWZmZWN0VGFnJnRnJiZudWxsIT09Yi51cGRhdGVRdWV1ZSYmcGcoYixiLnVwZGF0ZVF1ZXVlLGMpO2JyZWFrO2Nhc2Uga2c6YT1iLnVwZGF0ZVF1ZXVlO251bGwhPT1hJiZwZyhiLGEsYi5jaGlsZCYmYi5jaGlsZC5zdGF0ZU5vZGUpO2JyZWFrO2Nhc2UgbGc6Yz1iLnN0YXRlTm9kZTtudWxsPT09YSYmYi5lZmZlY3RUYWcmc2cmJmgoYyxiLnR5cGUsYi5tZW1vaXplZFByb3BzLFxuYik7YnJlYWs7Y2FzZSBtZzpicmVhaztjYXNlIG5nOmJyZWFrO2RlZmF1bHQ6dyhcIjE2M1wiKX19LGNvbW1pdEF0dGFjaFJlZjpmdW5jdGlvbihhKXt2YXIgYj1hLnJlZjtpZihudWxsIT09Yil7dmFyIGM9YS5zdGF0ZU5vZGU7c3dpdGNoKGEudGFnKXtjYXNlIGxnOmIoQ2EoYykpO2JyZWFrO2RlZmF1bHQ6YihjKX19fSxjb21taXREZXRhY2hSZWY6ZnVuY3Rpb24oYSl7YT1hLnJlZjtudWxsIT09YSYmYShudWxsKX19fXZhciB3Zz14ZC5jcmVhdGVDdXJzb3IseGc9eGQucG9wLHlnPXhkLnB1c2gsemc9e307XG5mdW5jdGlvbiBBZyhhKXtmdW5jdGlvbiBiKGEpe2E9PT16Zz93KFwiMTc0XCIpOnZvaWQgMDtyZXR1cm4gYX12YXIgYz1hLmdldENoaWxkSG9zdENvbnRleHQsZD1hLmdldFJvb3RIb3N0Q29udGV4dCxlPXdnKHpnKSxmPXdnKHpnKSxnPXdnKHpnKTtyZXR1cm57Z2V0SG9zdENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYihlLmN1cnJlbnQpfSxnZXRSb290SG9zdENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiBiKGcuY3VycmVudCl9LHBvcEhvc3RDb250YWluZXI6ZnVuY3Rpb24oYSl7eGcoZSxhKTt4ZyhmLGEpO3hnKGcsYSl9LHBvcEhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe2YuY3VycmVudD09PWEmJih4ZyhlLGEpLHhnKGYsYSkpfSxwdXNoSG9zdENvbnRhaW5lcjpmdW5jdGlvbihhLGIpe3lnKGcsYixhKTtiPWQoYik7eWcoZixhLGEpO3lnKGUsYixhKX0scHVzaEhvc3RDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBkPWIoZy5jdXJyZW50KSxoPWIoZS5jdXJyZW50KTtkPWMoaCxhLnR5cGUsXG5kKTtoIT09ZCYmKHlnKGYsYSxhKSx5ZyhlLGQsYSkpfSxyZXNldEhvc3RDb250YWluZXI6ZnVuY3Rpb24oKXtlLmN1cnJlbnQ9emc7Zy5jdXJyZW50PXpnfX19dmFyIEJnPUUuSG9zdENvbXBvbmVudCxDZz1FLkhvc3RUZXh0LERnPUUuSG9zdFJvb3QsRWc9Si5EZWxldGlvbixGZz1KLlBsYWNlbWVudCxHZz1kZS5jcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbjtcbmZ1bmN0aW9uIEhnKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz1HZygpO2Muc3RhdGVOb2RlPWI7Y1tcInJldHVyblwiXT1hO2MuZWZmZWN0VGFnPUVnO251bGwhPT1hLmxhc3RFZmZlY3Q/KGEubGFzdEVmZmVjdC5uZXh0RWZmZWN0PWMsYS5sYXN0RWZmZWN0PWMpOmEuZmlyc3RFZmZlY3Q9YS5sYXN0RWZmZWN0PWN9ZnVuY3Rpb24gYyhhLGIpe3N3aXRjaChhLnRhZyl7Y2FzZSBCZzpyZXR1cm4gZihiLGEudHlwZSxhLnBlbmRpbmdQcm9wcyk7Y2FzZSBDZzpyZXR1cm4gZyhiLGEucGVuZGluZ1Byb3BzKTtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBkKGEpe2ZvcihhPWFbXCJyZXR1cm5cIl07bnVsbCE9PWEmJmEudGFnIT09QmcmJmEudGFnIT09RGc7KWE9YVtcInJldHVyblwiXTt5PWF9dmFyIGU9YS5zaG91bGRTZXRUZXh0Q29udGVudCxmPWEuY2FuSHlkcmF0ZUluc3RhbmNlLGc9YS5jYW5IeWRyYXRlVGV4dEluc3RhbmNlLGg9YS5nZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcsaz1hLmdldEZpcnN0SHlkcmF0YWJsZUNoaWxkLFxucD1hLmh5ZHJhdGVJbnN0YW5jZSx4PWEuaHlkcmF0ZVRleHRJbnN0YW5jZSxTPWEuZGlkTm90SHlkcmF0ZUluc3RhbmNlLEQ9YS5kaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlO2E9YS5kaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTtpZighKGYmJmcmJmgmJmsmJnAmJngmJlMmJkQmJmEpKXJldHVybntlbnRlckh5ZHJhdGlvblN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHJlc2V0SHlkcmF0aW9uU3RhdGU6ZnVuY3Rpb24oKXt9LHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlOmZ1bmN0aW9uKCl7fSxwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOmZ1bmN0aW9uKCl7dyhcIjE3NVwiKX0scHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oKXt3KFwiMTc2XCIpfSxwb3BIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbigpe3JldHVybiExfX07dmFyIHk9bnVsbCxCPW51bGwsSD0hMTtyZXR1cm57ZW50ZXJIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbihhKXtCPVxuayhhLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTt5PWE7cmV0dXJuIEg9ITB9LHJlc2V0SHlkcmF0aW9uU3RhdGU6ZnVuY3Rpb24oKXtCPXk9bnVsbDtIPSExfSx0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTpmdW5jdGlvbihhKXtpZihIKXt2YXIgZD1CO2lmKGQpe2lmKCFjKGEsZCkpe2Q9aChkKTtpZighZHx8IWMoYSxkKSl7YS5lZmZlY3RUYWd8PUZnO0g9ITE7eT1hO3JldHVybn1iKHksQil9YS5zdGF0ZU5vZGU9ZDt5PWE7Qj1rKGQpfWVsc2UgYS5lZmZlY3RUYWd8PUZnLEg9ITEseT1hfX0scHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyl7Yj1wKGEuc3RhdGVOb2RlLGEudHlwZSxhLm1lbW9pemVkUHJvcHMsYixjLGEpO2EudXBkYXRlUXVldWU9YjtyZXR1cm4gbnVsbCE9PWI/ITA6ITF9LHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOmZ1bmN0aW9uKGEpe3JldHVybiB4KGEuc3RhdGVOb2RlLGEubWVtb2l6ZWRQcm9wcyxhKX0sXG5wb3BIeWRyYXRpb25TdGF0ZTpmdW5jdGlvbihhKXtpZihhIT09eSlyZXR1cm4hMTtpZighSClyZXR1cm4gZChhKSxIPSEwLCExO3ZhciBjPWEudHlwZTtpZihhLnRhZyE9PUJnfHxcImhlYWRcIiE9PWMmJlwiYm9keVwiIT09YyYmIWUoYyxhLm1lbW9pemVkUHJvcHMpKWZvcihjPUI7YzspYihhLGMpLGM9aChjKTtkKGEpO0I9eT9oKGEuc3RhdGVOb2RlKTpudWxsO3JldHVybiEwfX19XG52YXIgSWc9Ui5wb3BDb250ZXh0UHJvdmlkZXIsSmc9eGQucmVzZXQsS2c9UWEuUmVhY3RDdXJyZW50T3duZXIsTGc9ZGUuY3JlYXRlV29ya0luUHJvZ3Jlc3MsTWc9ZGUubGFyZ2VyUHJpb3JpdHksTmc9aWcub25Db21taXRSb290LFQ9US5Ob1dvcmssT2c9US5TeW5jaHJvbm91c1ByaW9yaXR5LFU9US5UYXNrUHJpb3JpdHksUGc9US5IaWdoUHJpb3JpdHksUWc9US5Mb3dQcmlvcml0eSxSZz1RLk9mZnNjcmVlblByaW9yaXR5LFNnPVBkLkFzeW5jVXBkYXRlcyxUZz1KLlBlcmZvcm1lZFdvcmssVWc9Si5QbGFjZW1lbnQsVmc9Si5VcGRhdGUsV2c9Si5QbGFjZW1lbnRBbmRVcGRhdGUsWGc9Si5EZWxldGlvbixZZz1KLkNvbnRlbnRSZXNldCxaZz1KLkNhbGxiYWNrLCRnPUouRXJyLGFoPUouUmVmLGJoPUUuSG9zdFJvb3QsY2g9RS5Ib3N0Q29tcG9uZW50LGRoPUUuSG9zdFBvcnRhbCxlaD1FLkNsYXNzQ29tcG9uZW50LGZoPXVkLmdldFVwZGF0ZVByaW9yaXR5LGdoPVIucmVzZXRDb250ZXh0O1xuZnVuY3Rpb24gaGgoYSl7ZnVuY3Rpb24gYigpe2Zvcig7bnVsbCE9PW1hJiZtYS5jdXJyZW50LnBlbmRpbmdXb3JrUHJpb3JpdHk9PT1UOyl7bWEuaXNTY2hlZHVsZWQ9ITE7dmFyIGE9bWEubmV4dFNjaGVkdWxlZFJvb3Q7bWEubmV4dFNjaGVkdWxlZFJvb3Q9bnVsbDtpZihtYT09PXpiKXJldHVybiB6Yj1tYT1udWxsLHo9VCxudWxsO21hPWF9YT1tYTtmb3IodmFyIGI9bnVsbCxjPVQ7bnVsbCE9PWE7KWEuY3VycmVudC5wZW5kaW5nV29ya1ByaW9yaXR5IT09VCYmKGM9PT1UfHxjPmEuY3VycmVudC5wZW5kaW5nV29ya1ByaW9yaXR5KSYmKGM9YS5jdXJyZW50LnBlbmRpbmdXb3JrUHJpb3JpdHksYj1hKSxhPWEubmV4dFNjaGVkdWxlZFJvb3Q7bnVsbCE9PWI/KHo9YyxKZygpLGdoKCksdCgpLEk9TGcoYi5jdXJyZW50LGMpLGIhPT1uYyYmKG9jPTAsbmM9YikpOih6PVQsbmM9ST1udWxsKX1mdW5jdGlvbiBjKGMpe0hkPSEwO25hPW51bGw7dmFyIGQ9Yy5zdGF0ZU5vZGU7ZC5jdXJyZW50PT09XG5jP3coXCIxNzdcIik6dm9pZCAwO3ohPT1PZyYmeiE9PVV8fG9jKys7S2cuY3VycmVudD1udWxsO2lmKGMuZWZmZWN0VGFnPlRnKWlmKG51bGwhPT1jLmxhc3RFZmZlY3Qpe2MubGFzdEVmZmVjdC5uZXh0RWZmZWN0PWM7dmFyIGU9Yy5maXJzdEVmZmVjdH1lbHNlIGU9YztlbHNlIGU9Yy5maXJzdEVmZmVjdDtVaSgpO2Zvcih1PWU7bnVsbCE9PXU7KXt2YXIgZj0hMSxnPXZvaWQgMDt0cnl7Zm9yKDtudWxsIT09dTspe3ZhciBoPXUuZWZmZWN0VGFnO2gmWWcmJmEucmVzZXRUZXh0Q29udGVudCh1LnN0YXRlTm9kZSk7aWYoaCZhaCl7dmFyIGs9dS5hbHRlcm5hdGU7bnVsbCE9PWsmJlBoKGspfXN3aXRjaChoJn4oWmd8JGd8WWd8YWh8VGcpKXtjYXNlIFVnOnEodSk7dS5lZmZlY3RUYWcmPX5VZzticmVhaztjYXNlIFdnOnEodSk7dS5lZmZlY3RUYWcmPX5VZzt2Zih1LmFsdGVybmF0ZSx1KTticmVhaztjYXNlIFZnOnZmKHUuYWx0ZXJuYXRlLHUpO2JyZWFrO2Nhc2UgWGc6SWQ9ITAsTWgodSksXG5JZD0hMX11PXUubmV4dEVmZmVjdH19Y2F0Y2goSmQpe2Y9ITAsZz1KZH1mJiYobnVsbD09PXU/dyhcIjE3OFwiKTp2b2lkIDAseCh1LGcpLG51bGwhPT11JiYodT11Lm5leHRFZmZlY3QpKX1WaSgpO2QuY3VycmVudD1jO2Zvcih1PWU7bnVsbCE9PXU7KXtkPSExO2U9dm9pZCAwO3RyeXtmb3IoO251bGwhPT11Oyl7dmFyIEdkPXUuZWZmZWN0VGFnO0dkJihWZ3xaZykmJk5oKHUuYWx0ZXJuYXRlLHUpO0dkJmFoJiZPaCh1KTtpZihHZCYkZylzd2l0Y2goZj11LGc9dm9pZCAwLG51bGwhPT1QJiYoZz1QLmdldChmKSxQW1wiZGVsZXRlXCJdKGYpLG51bGw9PWcmJm51bGwhPT1mLmFsdGVybmF0ZSYmKGY9Zi5hbHRlcm5hdGUsZz1QLmdldChmKSxQW1wiZGVsZXRlXCJdKGYpKSksbnVsbD09Zz93KFwiMTg0XCIpOnZvaWQgMCxmLnRhZyl7Y2FzZSBlaDpmLnN0YXRlTm9kZS5jb21wb25lbnREaWRDYXRjaChnLmVycm9yLHtjb21wb25lbnRTdGFjazpnLmNvbXBvbmVudFN0YWNrfSk7YnJlYWs7Y2FzZSBiaDpudWxsPT09XG5KYSYmKEphPWcuZXJyb3IpO2JyZWFrO2RlZmF1bHQ6dyhcIjE1N1wiKX12YXIgbT11Lm5leHRFZmZlY3Q7dS5uZXh0RWZmZWN0PW51bGw7dT1tfX1jYXRjaChKZCl7ZD0hMCxlPUpkfWQmJihudWxsPT09dT93KFwiMTc4XCIpOnZvaWQgMCx4KHUsZSksbnVsbCE9PXUmJih1PXUubmV4dEVmZmVjdCkpfUhkPSExO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBOZyYmTmcoYy5zdGF0ZU5vZGUpO3ZhJiYodmEuZm9yRWFjaChIKSx2YT1udWxsKTtiKCl9ZnVuY3Rpb24gZChhKXtmb3IoOzspe3ZhciBiPUxoKGEuYWx0ZXJuYXRlLGEseiksYz1hW1wicmV0dXJuXCJdLGQ9YS5zaWJsaW5nO3ZhciBlPWE7aWYoIShlLnBlbmRpbmdXb3JrUHJpb3JpdHkhPT1UJiZlLnBlbmRpbmdXb3JrUHJpb3JpdHk+eikpe2Zvcih2YXIgZj1maChlKSxnPWUuY2hpbGQ7bnVsbCE9PWc7KWY9TWcoZixnLnBlbmRpbmdXb3JrUHJpb3JpdHkpLGc9Zy5zaWJsaW5nO2UucGVuZGluZ1dvcmtQcmlvcml0eT1mfWlmKG51bGwhPT1iKXJldHVybiBiO1xubnVsbCE9PWMmJihudWxsPT09Yy5maXJzdEVmZmVjdCYmKGMuZmlyc3RFZmZlY3Q9YS5maXJzdEVmZmVjdCksbnVsbCE9PWEubGFzdEVmZmVjdCYmKG51bGwhPT1jLmxhc3RFZmZlY3QmJihjLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1hLmZpcnN0RWZmZWN0KSxjLmxhc3RFZmZlY3Q9YS5sYXN0RWZmZWN0KSxhLmVmZmVjdFRhZz5UZyYmKG51bGwhPT1jLmxhc3RFZmZlY3Q/Yy5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9YTpjLmZpcnN0RWZmZWN0PWEsYy5sYXN0RWZmZWN0PWEpKTtpZihudWxsIT09ZClyZXR1cm4gZDtpZihudWxsIT09YylhPWM7ZWxzZXtuYT1hO2JyZWFrfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEpe3ZhciBiPVYoYS5hbHRlcm5hdGUsYSx6KTtudWxsPT09YiYmKGI9ZChhKSk7S2cuY3VycmVudD1udWxsO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7dmFyIGI9bGQoYS5hbHRlcm5hdGUsYSx6KTtudWxsPT09YiYmKGI9ZChhKSk7S2cuY3VycmVudD1udWxsO3JldHVybiBifVxuZnVuY3Rpb24gZyhhKXtwKFJnLGEpfWZ1bmN0aW9uIGgoKXtpZihudWxsIT09UCYmMDxQLnNpemUmJno9PT1VKWZvcig7bnVsbCE9PUk7KXt2YXIgYT1JO0k9bnVsbCE9PVAmJihQLmhhcyhhKXx8bnVsbCE9PWEuYWx0ZXJuYXRlJiZQLmhhcyhhLmFsdGVybmF0ZSkpP2YoSSk6ZShJKTtpZihudWxsPT09SSYmKG51bGw9PT1uYT93KFwiMTc5XCIpOnZvaWQgMCxPPVUsYyhuYSksTz16LG51bGw9PT1QfHwwPT09UC5zaXplfHx6IT09VSkpYnJlYWt9fWZ1bmN0aW9uIGsoYSxkKXtudWxsIT09bmE/KE89VSxjKG5hKSxoKCkpOm51bGw9PT1JJiZiKCk7aWYoISh6PT09VHx8ej5hKSl7Tz16O2E6ZG97aWYoejw9VSlmb3IoO251bGwhPT1JJiYhKEk9ZShJKSxudWxsPT09SSYmKG51bGw9PT1uYT93KFwiMTc5XCIpOnZvaWQgMCxPPVUsYyhuYSksTz16LGgoKSx6PT09VHx8ej5hfHx6PlUpKTspO2Vsc2UgaWYobnVsbCE9PWQpZm9yKDtudWxsIT09SSYmIUFiOylpZigxPGQudGltZVJlbWFpbmluZygpKXtpZihJPVxuZShJKSxudWxsPT09SSlpZihudWxsPT09bmE/dyhcIjE3OVwiKTp2b2lkIDAsMTxkLnRpbWVSZW1haW5pbmcoKSl7aWYoTz1VLGMobmEpLE89eixoKCksej09PVR8fHo+YXx8ejxQZylicmVha31lbHNlIEFiPSEwfWVsc2UgQWI9ITA7c3dpdGNoKHope2Nhc2UgT2c6Y2FzZSBVOmlmKHo8PWEpY29udGludWUgYTticmVhayBhO2Nhc2UgUGc6Y2FzZSBRZzpjYXNlIFJnOmlmKG51bGw9PT1kKWJyZWFrIGE7aWYoIUFiJiZ6PD1hKWNvbnRpbnVlIGE7YnJlYWsgYTtjYXNlIFQ6YnJlYWsgYTtkZWZhdWx0OncoXCIxODFcIil9fXdoaWxlKDEpfX1mdW5jdGlvbiBwKGEsYil7RGE/dyhcIjE4MlwiKTp2b2lkIDA7RGE9ITA7dmFyIGM9TyxkPSExLGU9bnVsbDt0cnl7ayhhLGIpfWNhdGNoKEtkKXtkPSEwLGU9S2R9Zm9yKDtkOyl7aWYoWWEpe0phPWU7YnJlYWt9dmFyIGg9STtpZihudWxsPT09aClZYT0hMDtlbHNle3ZhciBwPXgoaCxlKTtudWxsPT09cD93KFwiMTgzXCIpOnZvaWQgMDtpZighWWEpe3RyeXtkPVxucDtlPWE7cD1iO2Zvcih2YXIgcT1kO251bGwhPT1oOyl7c3dpdGNoKGgudGFnKXtjYXNlIGVoOklnKGgpO2JyZWFrO2Nhc2UgY2g6bShoKTticmVhaztjYXNlIGJoOnIoaCk7YnJlYWs7Y2FzZSBkaDpyKGgpfWlmKGg9PT1xfHxoLmFsdGVybmF0ZT09PXEpYnJlYWs7aD1oW1wicmV0dXJuXCJdfUk9ZihkKTtrKGUscCl9Y2F0Y2goS2Qpe2Q9ITA7ZT1LZDtjb250aW51ZX1icmVha319fU89YztudWxsIT09YiYmKEJiPSExKTt6PlUmJiFCYiYmKCRmKGcpLEJiPSEwKTthPUphO1lhPUFiPURhPSExO25jPUthPVA9SmE9bnVsbDtvYz0wO2lmKG51bGwhPT1hKXRocm93IGE7fWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1LZy5jdXJyZW50PW51bGwsZD0hMSxlPSExLGY9bnVsbDtpZihhLnRhZz09PWJoKWM9YSxTKGEpJiYoWWE9ITApO2Vsc2UgZm9yKHZhciBnPWFbXCJyZXR1cm5cIl07bnVsbCE9PWcmJm51bGw9PT1jOyl7Zy50YWc9PT1laD9cImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5zdGF0ZU5vZGUuY29tcG9uZW50RGlkQ2F0Y2gmJlxuKGQ9ITAsZj1SYShnKSxjPWcsZT0hMCk6Zy50YWc9PT1iaCYmKGM9Zyk7aWYoUyhnKSl7aWYoSWR8fG51bGwhPT12YSYmKHZhLmhhcyhnKXx8bnVsbCE9PWcuYWx0ZXJuYXRlJiZ2YS5oYXMoZy5hbHRlcm5hdGUpKSlyZXR1cm4gbnVsbDtjPW51bGw7ZT0hMX1nPWdbXCJyZXR1cm5cIl19aWYobnVsbCE9PWMpe251bGw9PT1LYSYmKEthPW5ldyBTZXQpO0thLmFkZChjKTt2YXIgaD1cIlwiO2c9YTtkb3thOnN3aXRjaChnLnRhZyl7Y2FzZSBmZTpjYXNlIGdlOmNhc2UgaGU6Y2FzZSBpZTp2YXIgaz1nLl9kZWJ1Z093bmVyLG09Zy5fZGVidWdTb3VyY2U7dmFyIHA9UmEoZyk7dmFyIHE9bnVsbDtrJiYocT1SYShrKSk7az1tO3A9XCJcXG4gICAgaW4gXCIrKHB8fFwiVW5rbm93blwiKSsoaz9cIiAoYXQgXCIray5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLFwiXCIpK1wiOlwiK2subGluZU51bWJlcitcIilcIjpxP1wiIChjcmVhdGVkIGJ5IFwiK3ErXCIpXCI6XCJcIik7YnJlYWsgYTtkZWZhdWx0OnA9XCJcIn1oKz1wO2c9Z1tcInJldHVyblwiXX13aGlsZShnKTtcbmc9aDthPVJhKGEpO251bGw9PT1QJiYoUD1uZXcgTWFwKTtiPXtjb21wb25lbnROYW1lOmEsY29tcG9uZW50U3RhY2s6ZyxlcnJvcjpiLGVycm9yQm91bmRhcnk6ZD9jLnN0YXRlTm9kZTpudWxsLGVycm9yQm91bmRhcnlGb3VuZDpkLGVycm9yQm91bmRhcnlOYW1lOmYsd2lsbFJldHJ5OmV9O1Auc2V0KGMsYik7dHJ5e2NvbnNvbGUuZXJyb3IoYi5lcnJvcil9Y2F0Y2goV2kpe2NvbnNvbGUuZXJyb3IoV2kpfUhkPyhudWxsPT09dmEmJih2YT1uZXcgU2V0KSx2YS5hZGQoYykpOkgoYyk7cmV0dXJuIGN9bnVsbD09PUphJiYoSmE9Yik7cmV0dXJuIG51bGx9ZnVuY3Rpb24gUyhhKXtyZXR1cm4gbnVsbCE9PUthJiYoS2EuaGFzKGEpfHxudWxsIT09YS5hbHRlcm5hdGUmJkthLmhhcyhhLmFsdGVybmF0ZSkpfWZ1bmN0aW9uIEQoYSxiKXtyZXR1cm4geShhLGIsITEpfWZ1bmN0aW9uIHkoYSxiKXtvYz5YaSYmKFlhPSEwLHcoXCIxODVcIikpOyFEYSYmYjw9eiYmKEk9bnVsbCk7Zm9yKHZhciBjPVxuITA7bnVsbCE9PWEmJmM7KXtjPSExO2lmKGEucGVuZGluZ1dvcmtQcmlvcml0eT09PVR8fGEucGVuZGluZ1dvcmtQcmlvcml0eT5iKWM9ITAsYS5wZW5kaW5nV29ya1ByaW9yaXR5PWI7bnVsbCE9PWEuYWx0ZXJuYXRlJiYoYS5hbHRlcm5hdGUucGVuZGluZ1dvcmtQcmlvcml0eT09PVR8fGEuYWx0ZXJuYXRlLnBlbmRpbmdXb3JrUHJpb3JpdHk+YikmJihjPSEwLGEuYWx0ZXJuYXRlLnBlbmRpbmdXb3JrUHJpb3JpdHk9Yik7aWYobnVsbD09PWFbXCJyZXR1cm5cIl0paWYoYS50YWc9PT1iaCl7dmFyIGQ9YS5zdGF0ZU5vZGU7Yj09PVR8fGQuaXNTY2hlZHVsZWR8fChkLmlzU2NoZWR1bGVkPSEwLHpiP3piLm5leHRTY2hlZHVsZWRSb290PWQ6bWE9ZCx6Yj1kKTtpZighRGEpc3dpdGNoKGIpe2Nhc2UgT2c6cGM/cChPZyxudWxsKTpwKFUsbnVsbCk7YnJlYWs7Y2FzZSBVOlc/dm9pZCAwOncoXCIxODZcIik7YnJlYWs7ZGVmYXVsdDpCYnx8KCRmKGcpLEJiPSEwKX19ZWxzZSBicmVhazthPWFbXCJyZXR1cm5cIl19fVxuZnVuY3Rpb24gQihhLGIpe3ZhciBjPU87Yz09PVQmJihjPSFZaXx8YS5pbnRlcm5hbENvbnRleHRUYWcmU2d8fGI/UWc6T2cpO3JldHVybiBjPT09T2cmJihEYXx8Vyk/VTpjfWZ1bmN0aW9uIEgoYSl7eShhLFUsITApfXZhciBDPUFnKGEpLENhPUhnKGEpLHI9Qy5wb3BIb3N0Q29udGFpbmVyLG09Qy5wb3BIb3N0Q29udGV4dCx0PUMucmVzZXRIb3N0Q29udGFpbmVyLHY9TGYoYSxDLENhLEQsQiksVj12LmJlZ2luV29yayxsZD12LmJlZ2luRmFpbGVkV29yayxMaD1lZyhhLEMsQ2EpLmNvbXBsZXRlV29yaztDPXZnKGEseCk7dmFyIHE9Qy5jb21taXRQbGFjZW1lbnQsTWg9Qy5jb21taXREZWxldGlvbix2Zj1DLmNvbW1pdFdvcmssTmg9Qy5jb21taXRMaWZlQ3ljbGVzLE9oPUMuY29tbWl0QXR0YWNoUmVmLFBoPUMuY29tbWl0RGV0YWNoUmVmLCRmPWEuc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFlpPWEudXNlU3luY1NjaGVkdWxpbmcsVWk9YS5wcmVwYXJlRm9yQ29tbWl0LFZpPWEucmVzZXRBZnRlckNvbW1pdCxcbk89VCxEYT0hMSxBYj0hMSxXPSExLHBjPSExLEk9bnVsbCx6PVQsdT1udWxsLG5hPW51bGwsbWE9bnVsbCx6Yj1udWxsLEJiPSExLFA9bnVsbCxLYT1udWxsLHZhPW51bGwsSmE9bnVsbCxZYT0hMSxIZD0hMSxJZD0hMSxYaT0xRTMsb2M9MCxuYz1udWxsO3JldHVybntzY2hlZHVsZVVwZGF0ZTpELGdldFByaW9yaXR5Q29udGV4dDpCLGJhdGNoZWRVcGRhdGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9VztXPSEwO3RyeXtyZXR1cm4gYShiKX1maW5hbGx5e1c9YyxEYXx8V3x8cChVLG51bGwpfX0sdW5iYXRjaGVkVXBkYXRlczpmdW5jdGlvbihhKXt2YXIgYj1wYyxjPVc7cGM9VztXPSExO3RyeXtyZXR1cm4gYSgpfWZpbmFsbHl7Vz1jLHBjPWJ9fSxmbHVzaFN5bmM6ZnVuY3Rpb24oYSl7dmFyIGI9VyxjPU87Vz0hMDtPPU9nO3RyeXtyZXR1cm4gYSgpfWZpbmFsbHl7Vz1iLE89YyxEYT93KFwiMTg3XCIpOnZvaWQgMCxwKFUsbnVsbCl9fSxkZWZlcnJlZFVwZGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9XG5PO089UWc7dHJ5e3JldHVybiBhKCl9ZmluYWxseXtPPWJ9fX19ZnVuY3Rpb24gaWgoKXt3KFwiMTk2XCIpfWZ1bmN0aW9uIGpoKGEpe2lmKCFhKXJldHVybiBkYTthPVBhLmdldChhKTtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGEudGFnP2loKGEpOmEuX3Byb2Nlc3NDaGlsZENvbnRleHQoYS5fY29udGV4dCl9amguX2luamVjdEZpYmVyPWZ1bmN0aW9uKGEpe2loPWF9O3ZhciBraD11ZC5hZGRUb3BMZXZlbFVwZGF0ZSxsaD1SLmZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0LG1oPVIuaXNDb250ZXh0UHJvdmlkZXIsbmg9Ui5wcm9jZXNzQ2hpbGRDb250ZXh0LG9oPUUuSG9zdENvbXBvbmVudCxwaD1iYi5maW5kQ3VycmVudEhvc3RGaWJlcixxaD1iYi5maW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHM7amguX2luamVjdEZpYmVyKGZ1bmN0aW9uKGEpe3ZhciBiPWxoKGEpO3JldHVybiBtaChhKT9uaChhLGIsITEpOmJ9KTt2YXIgcmg9Ri5URVhUX05PREU7XG5mdW5jdGlvbiBzaChhKXtmb3IoO2EmJmEuZmlyc3RDaGlsZDspYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9ZnVuY3Rpb24gdGgoYSxiKXt2YXIgYz1zaChhKTthPTA7Zm9yKHZhciBkO2M7KXtpZihjLm5vZGVUeXBlPT09cmgpe2Q9YStjLnRleHRDb250ZW50Lmxlbmd0aDtpZihhPD1iJiZkPj1iKXJldHVybntub2RlOmMsb2Zmc2V0OmItYX07YT1kfWE6e2Zvcig7Yzspe2lmKGMubmV4dFNpYmxpbmcpe2M9Yy5uZXh0U2libGluZzticmVhayBhfWM9Yy5wYXJlbnROb2RlfWM9dm9pZCAwfWM9c2goYyl9fXZhciB1aD1udWxsO2Z1bmN0aW9uIHZoKCl7IXVoJiZsLmNhblVzZURPTSYmKHVoPVwidGV4dENvbnRlbnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudD9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIik7cmV0dXJuIHVofVxudmFyIHdoPXtnZXRPZmZzZXRzOmZ1bmN0aW9uKGEpe3ZhciBiPXdpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKTtpZighYnx8MD09PWIucmFuZ2VDb3VudClyZXR1cm4gbnVsbDt2YXIgYz1iLmFuY2hvck5vZGUsZD1iLmFuY2hvck9mZnNldCxlPWIuZm9jdXNOb2RlLGY9Yi5mb2N1c09mZnNldCxnPWIuZ2V0UmFuZ2VBdCgwKTt0cnl7Zy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSxnLmVuZENvbnRhaW5lci5ub2RlVHlwZX1jYXRjaChrKXtyZXR1cm4gbnVsbH1iPWIuYW5jaG9yTm9kZT09PWIuZm9jdXNOb2RlJiZiLmFuY2hvck9mZnNldD09PWIuZm9jdXNPZmZzZXQ/MDpnLnRvU3RyaW5nKCkubGVuZ3RoO3ZhciBoPWcuY2xvbmVSYW5nZSgpO2guc2VsZWN0Tm9kZUNvbnRlbnRzKGEpO2guc2V0RW5kKGcuc3RhcnRDb250YWluZXIsZy5zdGFydE9mZnNldCk7YT1oLnN0YXJ0Q29udGFpbmVyPT09aC5lbmRDb250YWluZXImJmguc3RhcnRPZmZzZXQ9PT1oLmVuZE9mZnNldD9cbjA6aC50b1N0cmluZygpLmxlbmd0aDtnPWErYjtiPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Yi5zZXRTdGFydChjLGQpO2Iuc2V0RW5kKGUsZik7Yz1iLmNvbGxhcHNlZDtyZXR1cm57c3RhcnQ6Yz9nOmEsZW5kOmM/YTpnfX0sc2V0T2Zmc2V0czpmdW5jdGlvbihhLGIpe2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBjPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxkPWFbdmgoKV0ubGVuZ3RoLGU9TWF0aC5taW4oYi5zdGFydCxkKTtiPXZvaWQgMD09PWIuZW5kP2U6TWF0aC5taW4oYi5lbmQsZCk7IWMuZXh0ZW5kJiZlPmImJihkPWIsYj1lLGU9ZCk7ZD10aChhLGUpO2E9dGgoYSxiKTtpZihkJiZhKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Yuc2V0U3RhcnQoZC5ub2RlLGQub2Zmc2V0KTtjLnJlbW92ZUFsbFJhbmdlcygpO2U+Yj8oYy5hZGRSYW5nZShmKSxjLmV4dGVuZChhLm5vZGUsYS5vZmZzZXQpKTooZi5zZXRFbmQoYS5ub2RlLGEub2Zmc2V0KSxjLmFkZFJhbmdlKGYpKX19fX0sXG54aD1GLkVMRU1FTlRfTk9ERSx5aD17aGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzOmZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYiYmKFwiaW5wdXRcIj09PWImJlwidGV4dFwiPT09YS50eXBlfHxcInRleHRhcmVhXCI9PT1ifHxcInRydWVcIj09PWEuY29udGVudEVkaXRhYmxlKX0sZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246ZnVuY3Rpb24oKXt2YXIgYT1pYSgpO3JldHVybntmb2N1c2VkRWxlbTphLHNlbGVjdGlvblJhbmdlOnloLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhhKT95aC5nZXRTZWxlY3Rpb24oYSk6bnVsbH19LHJlc3RvcmVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9aWEoKSxjPWEuZm9jdXNlZEVsZW07YT1hLnNlbGVjdGlvblJhbmdlO2lmKGIhPT1jJiZmYShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYykpe3loLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhjKSYmeWguc2V0U2VsZWN0aW9uKGMsYSk7Yj1cbltdO2ZvcihhPWM7YT1hLnBhcmVudE5vZGU7KWEubm9kZVR5cGU9PT14aCYmYi5wdXNoKHtlbGVtZW50OmEsbGVmdDphLnNjcm9sbExlZnQsdG9wOmEuc2Nyb2xsVG9wfSk7aGEoYyk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylhPWJbY10sYS5lbGVtZW50LnNjcm9sbExlZnQ9YS5sZWZ0LGEuZWxlbWVudC5zY3JvbGxUb3A9YS50b3B9fSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuKFwic2VsZWN0aW9uU3RhcnRcImluIGE/e3N0YXJ0OmEuc2VsZWN0aW9uU3RhcnQsZW5kOmEuc2VsZWN0aW9uRW5kfTp3aC5nZXRPZmZzZXRzKGEpKXx8e3N0YXJ0OjAsZW5kOjB9fSxzZXRTZWxlY3Rpb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnN0YXJ0LGQ9Yi5lbmQ7dm9pZCAwPT09ZCYmKGQ9Yyk7XCJzZWxlY3Rpb25TdGFydFwiaW4gYT8oYS5zZWxlY3Rpb25TdGFydD1jLGEuc2VsZWN0aW9uRW5kPU1hdGgubWluKGQsYS52YWx1ZS5sZW5ndGgpKTp3aC5zZXRPZmZzZXRzKGEsYil9fSx6aD15aCxcbkFoPUYuRUxFTUVOVF9OT0RFO2Z1bmN0aW9uIEJoKCl7dyhcIjIxMVwiKX1mdW5jdGlvbiBDaCgpe3coXCIyMTJcIil9ZnVuY3Rpb24gRGgoYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihhLm5vZGVUeXBlPT09QWgpcmV0dXJuIGE7dmFyIGI9UGEuZ2V0KGEpO2lmKGIpcmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBiLnRhZz9CaChiKTpDaChiKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5yZW5kZXI/dyhcIjE4OFwiKTp3KFwiMjEzXCIsT2JqZWN0LmtleXMoYSkpfURoLl9pbmplY3RGaWJlcj1mdW5jdGlvbihhKXtCaD1hfTtEaC5faW5qZWN0U3RhY2s9ZnVuY3Rpb24oYSl7Q2g9YX07dmFyIEVoPUUuSG9zdENvbXBvbmVudDtmdW5jdGlvbiBGaChhKXtpZih2b2lkIDAhPT1hLl9ob3N0UGFyZW50KXJldHVybiBhLl9ob3N0UGFyZW50O2lmKFwibnVtYmVyXCI9PT10eXBlb2YgYS50YWcpe2RvIGE9YVtcInJldHVyblwiXTt3aGlsZShhJiZhLnRhZyE9PUVoKTtpZihhKXJldHVybiBhfXJldHVybiBudWxsfVxuZnVuY3Rpb24gR2goYSxiKXtmb3IodmFyIGM9MCxkPWE7ZDtkPUZoKGQpKWMrKztkPTA7Zm9yKHZhciBlPWI7ZTtlPUZoKGUpKWQrKztmb3IoOzA8Yy1kOylhPUZoKGEpLGMtLTtmb3IoOzA8ZC1jOyliPUZoKGIpLGQtLTtmb3IoO2MtLTspe2lmKGE9PT1ifHxhPT09Yi5hbHRlcm5hdGUpcmV0dXJuIGE7YT1GaChhKTtiPUZoKGIpfXJldHVybiBudWxsfVxudmFyIEhoPXtpc0FuY2VzdG9yOmZ1bmN0aW9uKGEsYil7Zm9yKDtiOyl7aWYoYT09PWJ8fGE9PT1iLmFsdGVybmF0ZSlyZXR1cm4hMDtiPUZoKGIpfXJldHVybiExfSxnZXRMb3dlc3RDb21tb25BbmNlc3RvcjpHaCxnZXRQYXJlbnRJbnN0YW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gRmgoYSl9LHRyYXZlcnNlVHdvUGhhc2U6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXTthOylkLnB1c2goYSksYT1GaChhKTtmb3IoYT1kLmxlbmd0aDswPGEtLTspYihkW2FdLFwiY2FwdHVyZWRcIixjKTtmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKWIoZFthXSxcImJ1YmJsZWRcIixjKX0sdHJhdmVyc2VFbnRlckxlYXZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7Zm9yKHZhciBmPWEmJmI/R2goYSxiKTpudWxsLGc9W107YSYmYSE9PWY7KWcucHVzaChhKSxhPUZoKGEpO2ZvcihhPVtdO2ImJmIhPT1mOylhLnB1c2goYiksYj1GaChiKTtmb3IoYj0wO2I8Zy5sZW5ndGg7YisrKWMoZ1tiXSxcImJ1YmJsZWRcIixkKTtmb3IoYj1cbmEubGVuZ3RoOzA8Yi0tOyljKGFbYl0sXCJjYXB0dXJlZFwiLGUpfX0sSWg9SmIuZ2V0TGlzdGVuZXI7ZnVuY3Rpb24gSmgoYSxiLGMpe2lmKGI9SWgoYSxjLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW2JdKSljLl9kaXNwYXRjaExpc3RlbmVycz1DYihjLl9kaXNwYXRjaExpc3RlbmVycyxiKSxjLl9kaXNwYXRjaEluc3RhbmNlcz1DYihjLl9kaXNwYXRjaEluc3RhbmNlcyxhKX1mdW5jdGlvbiBLaChhKXthJiZhLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzJiZIaC50cmF2ZXJzZVR3b1BoYXNlKGEuX3RhcmdldEluc3QsSmgsYSl9ZnVuY3Rpb24gUWgoYSl7aWYoYSYmYS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7dmFyIGI9YS5fdGFyZ2V0SW5zdDtiPWI/SGguZ2V0UGFyZW50SW5zdGFuY2UoYik6bnVsbDtIaC50cmF2ZXJzZVR3b1BoYXNlKGIsSmgsYSl9fVxuZnVuY3Rpb24gUmgoYSxiLGMpe2EmJmMmJmMuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmKGI9SWgoYSxjLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpKSYmKGMuX2Rpc3BhdGNoTGlzdGVuZXJzPUNiKGMuX2Rpc3BhdGNoTGlzdGVuZXJzLGIpLGMuX2Rpc3BhdGNoSW5zdGFuY2VzPUNiKGMuX2Rpc3BhdGNoSW5zdGFuY2VzLGEpKX1mdW5jdGlvbiBTaChhKXthJiZhLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUmJlJoKGEuX3RhcmdldEluc3QsbnVsbCxhKX1cbnZhciBUaD17YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczpmdW5jdGlvbihhKXtEYihhLEtoKX0sYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQ6ZnVuY3Rpb24oYSl7RGIoYSxRaCl9LGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzOmZ1bmN0aW9uKGEpe0RiKGEsU2gpfSxhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6ZnVuY3Rpb24oYSxiLGMsZCl7SGgudHJhdmVyc2VFbnRlckxlYXZlKGMsZCxSaCxhLGIpfX0sWD17X3Jvb3Q6bnVsbCxfc3RhcnRUZXh0Om51bGwsX2ZhbGxiYWNrVGV4dDpudWxsfSxVaD17aW5pdGlhbGl6ZTpmdW5jdGlvbihhKXtYLl9yb290PWE7WC5fc3RhcnRUZXh0PVVoLmdldFRleHQoKTtyZXR1cm4hMH0scmVzZXQ6ZnVuY3Rpb24oKXtYLl9yb290PW51bGw7WC5fc3RhcnRUZXh0PW51bGw7WC5fZmFsbGJhY2tUZXh0PW51bGx9LGdldERhdGE6ZnVuY3Rpb24oKXtpZihYLl9mYWxsYmFja1RleHQpcmV0dXJuIFguX2ZhbGxiYWNrVGV4dDtcbnZhciBhLGI9WC5fc3RhcnRUZXh0LGM9Yi5sZW5ndGgsZCxlPVVoLmdldFRleHQoKSxmPWUubGVuZ3RoO2ZvcihhPTA7YTxjJiZiW2FdPT09ZVthXTthKyspO3ZhciBnPWMtYTtmb3IoZD0xO2Q8PWcmJmJbYy1kXT09PWVbZi1kXTtkKyspO1guX2ZhbGxiYWNrVGV4dD1lLnNsaWNlKGEsMTxkPzEtZDp2b2lkIDApO3JldHVybiBYLl9mYWxsYmFja1RleHR9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm5cInZhbHVlXCJpbiBYLl9yb290P1guX3Jvb3QudmFsdWU6WC5fcm9vdFt2aCgpXX19LFZoPVVoLFdoPVwiZGlzcGF0Y2hDb25maWcgX3RhcmdldEluc3QgbmF0aXZlRXZlbnQgaXNEZWZhdWx0UHJldmVudGVkIGlzUHJvcGFnYXRpb25TdG9wcGVkIF9kaXNwYXRjaExpc3RlbmVycyBfZGlzcGF0Y2hJbnN0YW5jZXNcIi5zcGxpdChcIiBcIiksWGg9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmNhLnRoYXRSZXR1cm5zTnVsbCxldmVudFBoYXNlOm51bGwsYnViYmxlczpudWxsLFxuY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH07XG5mdW5jdGlvbiBZKGEsYixjLGQpe3RoaXMuZGlzcGF0Y2hDb25maWc9YTt0aGlzLl90YXJnZXRJbnN0PWI7dGhpcy5uYXRpdmVFdmVudD1jO2E9dGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKChiPWFbZV0pP3RoaXNbZV09YihjKTpcInRhcmdldFwiPT09ZT90aGlzLnRhcmdldD1kOnRoaXNbZV09Y1tlXSk7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9KG51bGwhPWMuZGVmYXVsdFByZXZlbnRlZD9jLmRlZmF1bHRQcmV2ZW50ZWQ6ITE9PT1jLnJldHVyblZhbHVlKT9jYS50aGF0UmV0dXJuc1RydWU6Y2EudGhhdFJldHVybnNGYWxzZTt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhLnRoYXRSZXR1cm5zRmFsc2U7cmV0dXJuIHRoaXN9XG5uKFkucHJvdG90eXBlLHtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTpcInVua25vd25cIiE9PXR5cGVvZiBhLnJldHVyblZhbHVlJiYoYS5yZXR1cm5WYWx1ZT0hMSksdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9Y2EudGhhdFJldHVybnNUcnVlKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uYXRpdmVFdmVudDthJiYoYS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9PXR5cGVvZiBhLmNhbmNlbEJ1YmJsZSYmKGEuY2FuY2VsQnViYmxlPSEwKSx0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhLnRoYXRSZXR1cm5zVHJ1ZSl9LHBlcnNpc3Q6ZnVuY3Rpb24oKXt0aGlzLmlzUGVyc2lzdGVudD1jYS50aGF0UmV0dXJuc1RydWV9LGlzUGVyc2lzdGVudDpjYS50aGF0UmV0dXJuc0ZhbHNlLFxuZGVzdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlLGI7Zm9yKGIgaW4gYSl0aGlzW2JdPW51bGw7Zm9yKGE9MDthPFdoLmxlbmd0aDthKyspdGhpc1tXaFthXV09bnVsbH19KTtZLkludGVyZmFjZT1YaDtZLmF1Z21lbnRDbGFzcz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGU7dmFyIGQ9bmV3IGM7bihkLGEucHJvdG90eXBlKTthLnByb3RvdHlwZT1kO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5JbnRlcmZhY2U9bih7fSx0aGlzLkludGVyZmFjZSxiKTthLmF1Z21lbnRDbGFzcz10aGlzLmF1Z21lbnRDbGFzcztZaChhKX07WWgoWSk7ZnVuY3Rpb24gWmgoYSxiLGMsZCl7aWYodGhpcy5ldmVudFBvb2wubGVuZ3RoKXt2YXIgZT10aGlzLmV2ZW50UG9vbC5wb3AoKTt0aGlzLmNhbGwoZSxhLGIsYyxkKTtyZXR1cm4gZX1yZXR1cm4gbmV3IHRoaXMoYSxiLGMsZCl9XG5mdW5jdGlvbiAkaChhKXthIGluc3RhbmNlb2YgdGhpcz92b2lkIDA6dyhcIjIyM1wiKTthLmRlc3RydWN0b3IoKTsxMD50aGlzLmV2ZW50UG9vbC5sZW5ndGgmJnRoaXMuZXZlbnRQb29sLnB1c2goYSl9ZnVuY3Rpb24gWWgoYSl7YS5ldmVudFBvb2w9W107YS5nZXRQb29sZWQ9Wmg7YS5yZWxlYXNlPSRofWZ1bmN0aW9uIGFpKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhhaSx7ZGF0YTpudWxsfSk7ZnVuY3Rpb24gYmkoYSxiLGMsZCl7cmV0dXJuIFkuY2FsbCh0aGlzLGEsYixjLGQpfVkuYXVnbWVudENsYXNzKGJpLHtkYXRhOm51bGx9KTt2YXIgY2k9WzksMTMsMjcsMzJdLGRpPWwuY2FuVXNlRE9NJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxlaT1udWxsO2wuY2FuVXNlRE9NJiZcImRvY3VtZW50TW9kZVwiaW4gZG9jdW1lbnQmJihlaT1kb2N1bWVudC5kb2N1bWVudE1vZGUpO3ZhciBmaTtcbmlmKGZpPWwuY2FuVXNlRE9NJiZcIlRleHRFdmVudFwiaW4gd2luZG93JiYhZWkpe3ZhciBnaT13aW5kb3cub3BlcmE7Zmk9IShcIm9iamVjdFwiPT09dHlwZW9mIGdpJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZ2kudmVyc2lvbiYmMTI+PXBhcnNlSW50KGdpLnZlcnNpb24oKSwxMCkpfVxudmFyIGhpPWZpLGlpPWwuY2FuVXNlRE9NJiYoIWRpfHxlaSYmODxlaSYmMTE+PWVpKSxqaT1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxraT17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcInRvcENvbXBvc2l0aW9uRW5kXCIsXCJ0b3BLZXlQcmVzc1wiLFwidG9wVGV4dElucHV0XCIsXCJ0b3BQYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwidG9wQmx1ciB0b3BDb21wb3NpdGlvbkVuZCB0b3BLZXlEb3duIHRvcEtleVByZXNzIHRvcEtleVVwIHRvcE1vdXNlRG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixcbmNhcHR1cmVkOlwib25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJ0b3BCbHVyIHRvcENvbXBvc2l0aW9uU3RhcnQgdG9wS2V5RG93biB0b3BLZXlQcmVzcyB0b3BLZXlVcCB0b3BNb3VzZURvd25cIi5zcGxpdChcIiBcIil9LGNvbXBvc2l0aW9uVXBkYXRlOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ29tcG9zaXRpb25VcGRhdGVcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25VcGRhdGVDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcInRvcEJsdXIgdG9wQ29tcG9zaXRpb25VcGRhdGUgdG9wS2V5RG93biB0b3BLZXlQcmVzcyB0b3BLZXlVcCB0b3BNb3VzZURvd25cIi5zcGxpdChcIiBcIil9fSxsaT0hMTtcbmZ1bmN0aW9uIG1pKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BLZXlVcFwiOnJldHVybi0xIT09Y2kuaW5kZXhPZihiLmtleUNvZGUpO2Nhc2UgXCJ0b3BLZXlEb3duXCI6cmV0dXJuIDIyOSE9PWIua2V5Q29kZTtjYXNlIFwidG9wS2V5UHJlc3NcIjpjYXNlIFwidG9wTW91c2VEb3duXCI6Y2FzZSBcInRvcEJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBuaShhKXthPWEuZGV0YWlsO3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmXCJkYXRhXCJpbiBhP2EuZGF0YTpudWxsfXZhciBvaT0hMTtmdW5jdGlvbiBwaShhLGIpe3N3aXRjaChhKXtjYXNlIFwidG9wQ29tcG9zaXRpb25FbmRcIjpyZXR1cm4gbmkoYik7Y2FzZSBcInRvcEtleVByZXNzXCI6aWYoMzIhPT1iLndoaWNoKXJldHVybiBudWxsO2xpPSEwO3JldHVybiBqaTtjYXNlIFwidG9wVGV4dElucHV0XCI6cmV0dXJuIGE9Yi5kYXRhLGE9PT1qaSYmbGk/bnVsbDphO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxuZnVuY3Rpb24gcWkoYSxiKXtpZihvaSlyZXR1cm5cInRvcENvbXBvc2l0aW9uRW5kXCI9PT1hfHwhZGkmJm1pKGEsYik/KGE9VmguZ2V0RGF0YSgpLFZoLnJlc2V0KCksb2k9ITEsYSk6bnVsbDtzd2l0Y2goYSl7Y2FzZSBcInRvcFBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZSBcInRvcEtleVByZXNzXCI6aWYoIShiLmN0cmxLZXl8fGIuYWx0S2V5fHxiLm1ldGFLZXkpfHxiLmN0cmxLZXkmJmIuYWx0S2V5KXtpZihiLmNoYXImJjE8Yi5jaGFyLmxlbmd0aClyZXR1cm4gYi5jaGFyO2lmKGIud2hpY2gpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYi53aGljaCl9cmV0dXJuIG51bGw7Y2FzZSBcInRvcENvbXBvc2l0aW9uRW5kXCI6cmV0dXJuIGlpP251bGw6Yi5kYXRhO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxudmFyIHJpPXtldmVudFR5cGVzOmtpLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7aWYoZGkpYjp7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BDb21wb3NpdGlvblN0YXJ0XCI6dmFyIGY9a2kuY29tcG9zaXRpb25TdGFydDticmVhayBiO2Nhc2UgXCJ0b3BDb21wb3NpdGlvbkVuZFwiOmY9a2kuY29tcG9zaXRpb25FbmQ7YnJlYWsgYjtjYXNlIFwidG9wQ29tcG9zaXRpb25VcGRhdGVcIjpmPWtpLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGJ9Zj12b2lkIDB9ZWxzZSBvaT9taShhLGMpJiYoZj1raS5jb21wb3NpdGlvbkVuZCk6XCJ0b3BLZXlEb3duXCI9PT1hJiYyMjk9PT1jLmtleUNvZGUmJihmPWtpLmNvbXBvc2l0aW9uU3RhcnQpO2Y/KGlpJiYob2l8fGYhPT1raS5jb21wb3NpdGlvblN0YXJ0P2Y9PT1raS5jb21wb3NpdGlvbkVuZCYmb2kmJihlPVZoLmdldERhdGEoKSk6b2k9VmguaW5pdGlhbGl6ZShkKSksZj1haS5nZXRQb29sZWQoZixiLGMsZCksZT9mLmRhdGE9ZTooZT1uaShjKSxcbm51bGwhPT1lJiYoZi5kYXRhPWUpKSxUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGYpLGU9Zik6ZT1udWxsOyhhPWhpP3BpKGEsYyk6cWkoYSxjKSk/KGI9YmkuZ2V0UG9vbGVkKGtpLmJlZm9yZUlucHV0LGIsYyxkKSxiLmRhdGE9YSxUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGIpKTpiPW51bGw7cmV0dXJuW2UsYl19fSxzaT17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiB0aShhKXt2YXIgYj1hJiZhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09Yj8hIXNpW2EudHlwZV06XCJ0ZXh0YXJlYVwiPT09Yj8hMDohMX1cbnZhciB1aT17Y2hhbmdlOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ2hhbmdlXCIsY2FwdHVyZWQ6XCJvbkNoYW5nZUNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwidG9wQmx1ciB0b3BDaGFuZ2UgdG9wQ2xpY2sgdG9wRm9jdXMgdG9wSW5wdXQgdG9wS2V5RG93biB0b3BLZXlVcCB0b3BTZWxlY3Rpb25DaGFuZ2VcIi5zcGxpdChcIiBcIil9fTtmdW5jdGlvbiB2aShhLGIsYyl7YT1ZLmdldFBvb2xlZCh1aS5jaGFuZ2UsYSxiLGMpO2EudHlwZT1cImNoYW5nZVwiO25iLmVucXVldWVTdGF0ZVJlc3RvcmUoYyk7VGguYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhhKTtyZXR1cm4gYX12YXIgd2k9bnVsbCx4aT1udWxsO2Z1bmN0aW9uIHlpKGEpe0piLmVucXVldWVFdmVudHMoYSk7SmIucHJvY2Vzc0V2ZW50UXVldWUoITEpfVxuZnVuY3Rpb24gemkoYSl7dmFyIGI9Ry5nZXROb2RlRnJvbUluc3RhbmNlKGEpO2lmKEJjLnVwZGF0ZVZhbHVlSWZDaGFuZ2VkKGIpKXJldHVybiBhfWZ1bmN0aW9uIEFpKGEsYil7aWYoXCJ0b3BDaGFuZ2VcIj09PWEpcmV0dXJuIGJ9dmFyIEJpPSExO2wuY2FuVXNlRE9NJiYoQmk9TGIoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7ZnVuY3Rpb24gQ2koKXt3aSYmKHdpLmRldGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLERpKSx4aT13aT1udWxsKX1mdW5jdGlvbiBEaShhKXtcInZhbHVlXCI9PT1hLnByb3BlcnR5TmFtZSYmemkoeGkpJiYoYT12aSh4aSxhLHViKGEpKSxzYi5iYXRjaGVkVXBkYXRlcyh5aSxhKSl9ZnVuY3Rpb24gRWkoYSxiLGMpe1widG9wRm9jdXNcIj09PWE/KENpKCksd2k9Yix4aT1jLHdpLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLERpKSk6XCJ0b3BCbHVyXCI9PT1hJiZDaSgpfVxuZnVuY3Rpb24gRmkoYSl7aWYoXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIj09PWF8fFwidG9wS2V5VXBcIj09PWF8fFwidG9wS2V5RG93blwiPT09YSlyZXR1cm4gemkoeGkpfWZ1bmN0aW9uIEdpKGEsYil7aWYoXCJ0b3BDbGlja1wiPT09YSlyZXR1cm4gemkoYil9ZnVuY3Rpb24gSGkoYSxiKXtpZihcInRvcElucHV0XCI9PT1hfHxcInRvcENoYW5nZVwiPT09YSlyZXR1cm4gemkoYil9XG52YXIgSWk9e2V2ZW50VHlwZXM6dWksX2lzSW5wdXRFdmVudFN1cHBvcnRlZDpCaSxleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWI/Ry5nZXROb2RlRnJvbUluc3RhbmNlKGIpOndpbmRvdyxmPWUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09Znx8XCJpbnB1dFwiPT09ZiYmXCJmaWxlXCI9PT1lLnR5cGUpdmFyIGc9QWk7ZWxzZSBpZih0aShlKSlpZihCaSlnPUhpO2Vsc2V7Zz1GaTt2YXIgaD1FaX1lbHNlIGY9ZS5ub2RlTmFtZSwhZnx8XCJpbnB1dFwiIT09Zi50b0xvd2VyQ2FzZSgpfHxcImNoZWNrYm94XCIhPT1lLnR5cGUmJlwicmFkaW9cIiE9PWUudHlwZXx8KGc9R2kpO2lmKGcmJihnPWcoYSxiKSkpcmV0dXJuIHZpKGcsYyxkKTtoJiZoKGEsZSxiKTtcInRvcEJsdXJcIj09PWEmJm51bGwhPWImJihhPWIuX3dyYXBwZXJTdGF0ZXx8ZS5fd3JhcHBlclN0YXRlKSYmYS5jb250cm9sbGVkJiZcIm51bWJlclwiPT09ZS50eXBlJiYoYT1cIlwiK2UudmFsdWUsXG5lLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIT09YSYmZS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGEpKX19O2Z1bmN0aW9uIEppKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhKaSx7dmlldzpmdW5jdGlvbihhKXtpZihhLnZpZXcpcmV0dXJuIGEudmlldzthPXViKGEpO3JldHVybiBhLndpbmRvdz09PWE/YTooYT1hLm93bmVyRG9jdW1lbnQpP2EuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93OndpbmRvd30sZGV0YWlsOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRldGFpbHx8MH19KTt2YXIgS2k9e0FsdDpcImFsdEtleVwiLENvbnRyb2w6XCJjdHJsS2V5XCIsTWV0YTpcIm1ldGFLZXlcIixTaGlmdDpcInNoaWZ0S2V5XCJ9O2Z1bmN0aW9uIExpKGEpe3ZhciBiPXRoaXMubmF0aXZlRXZlbnQ7cmV0dXJuIGIuZ2V0TW9kaWZpZXJTdGF0ZT9iLmdldE1vZGlmaWVyU3RhdGUoYSk6KGE9S2lbYV0pPyEhYlthXTohMX1mdW5jdGlvbiBNaSgpe3JldHVybiBMaX1cbmZ1bmN0aW9uIE5pKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MoTmkse3NjcmVlblg6bnVsbCxzY3JlZW5ZOm51bGwsY2xpZW50WDpudWxsLGNsaWVudFk6bnVsbCxwYWdlWDpudWxsLHBhZ2VZOm51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6TWksYnV0dG9uOm51bGwsYnV0dG9uczpudWxsLHJlbGF0ZWRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVsYXRlZFRhcmdldHx8KGEuZnJvbUVsZW1lbnQ9PT1hLnNyY0VsZW1lbnQ/YS50b0VsZW1lbnQ6YS5mcm9tRWxlbWVudCl9fSk7XG52YXIgT2k9e21vdXNlRW50ZXI6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlRW50ZXJcIixkZXBlbmRlbmNpZXM6W1widG9wTW91c2VPdXRcIixcInRvcE1vdXNlT3ZlclwiXX0sbW91c2VMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uTW91c2VMZWF2ZVwiLGRlcGVuZGVuY2llczpbXCJ0b3BNb3VzZU91dFwiLFwidG9wTW91c2VPdmVyXCJdfX0sUGk9e2V2ZW50VHlwZXM6T2ksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXtpZihcInRvcE1vdXNlT3ZlclwiPT09YSYmKGMucmVsYXRlZFRhcmdldHx8Yy5mcm9tRWxlbWVudCl8fFwidG9wTW91c2VPdXRcIiE9PWEmJlwidG9wTW91c2VPdmVyXCIhPT1hKXJldHVybiBudWxsO3ZhciBlPWQud2luZG93PT09ZD9kOihlPWQub3duZXJEb2N1bWVudCk/ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3c6d2luZG93O1widG9wTW91c2VPdXRcIj09PWE/KGE9YixiPShiPWMucmVsYXRlZFRhcmdldHx8Yy50b0VsZW1lbnQpP0cuZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUoYik6XG5udWxsKTphPW51bGw7aWYoYT09PWIpcmV0dXJuIG51bGw7dmFyIGY9bnVsbD09YT9lOkcuZ2V0Tm9kZUZyb21JbnN0YW5jZShhKTtlPW51bGw9PWI/ZTpHLmdldE5vZGVGcm9tSW5zdGFuY2UoYik7dmFyIGc9TmkuZ2V0UG9vbGVkKE9pLm1vdXNlTGVhdmUsYSxjLGQpO2cudHlwZT1cIm1vdXNlbGVhdmVcIjtnLnRhcmdldD1mO2cucmVsYXRlZFRhcmdldD1lO2M9TmkuZ2V0UG9vbGVkKE9pLm1vdXNlRW50ZXIsYixjLGQpO2MudHlwZT1cIm1vdXNlZW50ZXJcIjtjLnRhcmdldD1lO2MucmVsYXRlZFRhcmdldD1mO1RoLmFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhnLGMsYSxiKTtyZXR1cm5bZyxjXX19LFFpPUYuRE9DVU1FTlRfTk9ERSxSaT1sLmNhblVzZURPTSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFNpPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxcbmRlcGVuZGVuY2llczpcInRvcEJsdXIgdG9wQ29udGV4dE1lbnUgdG9wRm9jdXMgdG9wS2V5RG93biB0b3BLZXlVcCB0b3BNb3VzZURvd24gdG9wTW91c2VVcCB0b3BTZWxlY3Rpb25DaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxUaT1udWxsLFppPW51bGwsJGk9bnVsbCxhaj0hMSxiaj1NLmlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXM7XG5mdW5jdGlvbiBjaihhLGIpe2lmKGFqfHxudWxsPT1UaXx8VGkhPT1pYSgpKXJldHVybiBudWxsO3ZhciBjPVRpO1wic2VsZWN0aW9uU3RhcnRcImluIGMmJnpoLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhjKT9jPXtzdGFydDpjLnNlbGVjdGlvblN0YXJ0LGVuZDpjLnNlbGVjdGlvbkVuZH06d2luZG93LmdldFNlbGVjdGlvbj8oYz13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYz17YW5jaG9yTm9kZTpjLmFuY2hvck5vZGUsYW5jaG9yT2Zmc2V0OmMuYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTpjLmZvY3VzTm9kZSxmb2N1c09mZnNldDpjLmZvY3VzT2Zmc2V0fSk6Yz12b2lkIDA7cmV0dXJuICRpJiZlYSgkaSxjKT9udWxsOigkaT1jLGE9WS5nZXRQb29sZWQoU2kuc2VsZWN0LFppLGEsYiksYS50eXBlPVwic2VsZWN0XCIsYS50YXJnZXQ9VGksVGguYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhhKSxhKX1cbnZhciBkaj17ZXZlbnRUeXBlczpTaSxleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWQud2luZG93PT09ZD9kLmRvY3VtZW50OmQubm9kZVR5cGU9PT1RaT9kOmQub3duZXJEb2N1bWVudDtpZighZXx8IWJqKFwib25TZWxlY3RcIixlKSlyZXR1cm4gbnVsbDtlPWI/Ry5nZXROb2RlRnJvbUluc3RhbmNlKGIpOndpbmRvdztzd2l0Y2goYSl7Y2FzZSBcInRvcEZvY3VzXCI6aWYodGkoZSl8fFwidHJ1ZVwiPT09ZS5jb250ZW50RWRpdGFibGUpVGk9ZSxaaT1iLCRpPW51bGw7YnJlYWs7Y2FzZSBcInRvcEJsdXJcIjokaT1aaT1UaT1udWxsO2JyZWFrO2Nhc2UgXCJ0b3BNb3VzZURvd25cIjphaj0hMDticmVhaztjYXNlIFwidG9wQ29udGV4dE1lbnVcIjpjYXNlIFwidG9wTW91c2VVcFwiOnJldHVybiBhaj0hMSxjaihjLGQpO2Nhc2UgXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIjppZihSaSlicmVhaztjYXNlIFwidG9wS2V5RG93blwiOmNhc2UgXCJ0b3BLZXlVcFwiOnJldHVybiBjaihjLGQpfXJldHVybiBudWxsfX07XG5mdW5jdGlvbiBlaihhLGIsYyxkKXtyZXR1cm4gWS5jYWxsKHRoaXMsYSxiLGMsZCl9WS5hdWdtZW50Q2xhc3MoZWose2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pO2Z1bmN0aW9uIGZqKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhmaix7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGE/YS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pO2Z1bmN0aW9uIGdqKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MoZ2ose3JlbGF0ZWRUYXJnZXQ6bnVsbH0pO2Z1bmN0aW9uIGhqKGEpe3ZhciBiPWEua2V5Q29kZTtcImNoYXJDb2RlXCJpbiBhPyhhPWEuY2hhckNvZGUsMD09PWEmJjEzPT09YiYmKGE9MTMpKTphPWI7cmV0dXJuIDMyPD1hfHwxMz09PWE/YTowfVxudmFyIGlqPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxqaj17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIixcbjExNjpcIkY1XCIsMTE3OlwiRjZcIiwxMTg6XCJGN1wiLDExOTpcIkY4XCIsMTIwOlwiRjlcIiwxMjE6XCJGMTBcIiwxMjI6XCJGMTFcIiwxMjM6XCJGMTJcIiwxNDQ6XCJOdW1Mb2NrXCIsMTQ1OlwiU2Nyb2xsTG9ja1wiLDIyNDpcIk1ldGFcIn07ZnVuY3Rpb24ga2ooYSxiLGMsZCl7cmV0dXJuIFkuY2FsbCh0aGlzLGEsYixjLGQpfVxuSmkuYXVnbWVudENsYXNzKGtqLHtrZXk6ZnVuY3Rpb24oYSl7aWYoYS5rZXkpe3ZhciBiPWlqW2Eua2V5XXx8YS5rZXk7aWYoXCJVbmlkZW50aWZpZWRcIiE9PWIpcmV0dXJuIGJ9cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlPyhhPWhqKGEpLDEzPT09YT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShhKSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9qalthLmtleUNvZGVdfHxcIlVuaWRlbnRpZmllZFwiOlwiXCJ9LGxvY2F0aW9uOm51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLHJlcGVhdDpudWxsLGxvY2FsZTpudWxsLGdldE1vZGlmaWVyU3RhdGU6TWksY2hhckNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlP2hqKGEpOjB9LGtleUNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH0sd2hpY2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09XG5hLnR5cGU/aGooYSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH19KTtmdW5jdGlvbiBsaihhLGIsYyxkKXtyZXR1cm4gWS5jYWxsKHRoaXMsYSxiLGMsZCl9TmkuYXVnbWVudENsYXNzKGxqLHtkYXRhVHJhbnNmZXI6bnVsbH0pO2Z1bmN0aW9uIG1qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1KaS5hdWdtZW50Q2xhc3MobWose3RvdWNoZXM6bnVsbCx0YXJnZXRUb3VjaGVzOm51bGwsY2hhbmdlZFRvdWNoZXM6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwsY3RybEtleTpudWxsLHNoaWZ0S2V5Om51bGwsZ2V0TW9kaWZpZXJTdGF0ZTpNaX0pO2Z1bmN0aW9uIG5qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1ZLmF1Z21lbnRDbGFzcyhuaix7cHJvcGVydHlOYW1lOm51bGwsZWxhcHNlZFRpbWU6bnVsbCxwc2V1ZG9FbGVtZW50Om51bGx9KTtcbmZ1bmN0aW9uIG9qKGEsYixjLGQpe3JldHVybiBZLmNhbGwodGhpcyxhLGIsYyxkKX1OaS5hdWdtZW50Q2xhc3Mob2ose2RlbHRhWDpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWFwiaW4gYT9hLmRlbHRhWDpcIndoZWVsRGVsdGFYXCJpbiBhPy1hLndoZWVsRGVsdGFYOjB9LGRlbHRhWTpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWVwiaW4gYT9hLmRlbHRhWTpcIndoZWVsRGVsdGFZXCJpbiBhPy1hLndoZWVsRGVsdGFZOlwid2hlZWxEZWx0YVwiaW4gYT8tYS53aGVlbERlbHRhOjB9LGRlbHRhWjpudWxsLGRlbHRhTW9kZTpudWxsfSk7dmFyIHBqPXt9LHFqPXt9O1xuXCJhYm9ydCBhbmltYXRpb25FbmQgYW5pbWF0aW9uSXRlcmF0aW9uIGFuaW1hdGlvblN0YXJ0IGJsdXIgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZG91YmxlQ2xpY2sgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZm9jdXMgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbW91c2VEb3duIG1vdXNlTW92ZSBtb3VzZU91dCBtb3VzZU92ZXIgbW91c2VVcCBwYXN0ZSBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCBzY3JvbGwgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvZ2dsZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaE1vdmUgdG91Y2hTdGFydCB0cmFuc2l0aW9uRW5kIHZvbHVtZUNoYW5nZSB3YWl0aW5nIHdoZWVsXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK1xuYS5zbGljZSgxKSxjPVwib25cIitiO2I9XCJ0b3BcIitiO2M9e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOmMsY2FwdHVyZWQ6YytcIkNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltiXX07cGpbYV09YztxaltiXT1jfSk7XG52YXIgcmo9e2V2ZW50VHlwZXM6cGosZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1xalthXTtpZighZSlyZXR1cm4gbnVsbDtzd2l0Y2goYSl7Y2FzZSBcInRvcEFib3J0XCI6Y2FzZSBcInRvcENhbmNlbFwiOmNhc2UgXCJ0b3BDYW5QbGF5XCI6Y2FzZSBcInRvcENhblBsYXlUaHJvdWdoXCI6Y2FzZSBcInRvcENsb3NlXCI6Y2FzZSBcInRvcER1cmF0aW9uQ2hhbmdlXCI6Y2FzZSBcInRvcEVtcHRpZWRcIjpjYXNlIFwidG9wRW5jcnlwdGVkXCI6Y2FzZSBcInRvcEVuZGVkXCI6Y2FzZSBcInRvcEVycm9yXCI6Y2FzZSBcInRvcElucHV0XCI6Y2FzZSBcInRvcEludmFsaWRcIjpjYXNlIFwidG9wTG9hZFwiOmNhc2UgXCJ0b3BMb2FkZWREYXRhXCI6Y2FzZSBcInRvcExvYWRlZE1ldGFkYXRhXCI6Y2FzZSBcInRvcExvYWRTdGFydFwiOmNhc2UgXCJ0b3BQYXVzZVwiOmNhc2UgXCJ0b3BQbGF5XCI6Y2FzZSBcInRvcFBsYXlpbmdcIjpjYXNlIFwidG9wUHJvZ3Jlc3NcIjpjYXNlIFwidG9wUmF0ZUNoYW5nZVwiOmNhc2UgXCJ0b3BSZXNldFwiOmNhc2UgXCJ0b3BTZWVrZWRcIjpjYXNlIFwidG9wU2Vla2luZ1wiOmNhc2UgXCJ0b3BTdGFsbGVkXCI6Y2FzZSBcInRvcFN1Ym1pdFwiOmNhc2UgXCJ0b3BTdXNwZW5kXCI6Y2FzZSBcInRvcFRpbWVVcGRhdGVcIjpjYXNlIFwidG9wVG9nZ2xlXCI6Y2FzZSBcInRvcFZvbHVtZUNoYW5nZVwiOmNhc2UgXCJ0b3BXYWl0aW5nXCI6dmFyIGY9WTtcbmJyZWFrO2Nhc2UgXCJ0b3BLZXlQcmVzc1wiOmlmKDA9PT1oaihjKSlyZXR1cm4gbnVsbDtjYXNlIFwidG9wS2V5RG93blwiOmNhc2UgXCJ0b3BLZXlVcFwiOmY9a2o7YnJlYWs7Y2FzZSBcInRvcEJsdXJcIjpjYXNlIFwidG9wRm9jdXNcIjpmPWdqO2JyZWFrO2Nhc2UgXCJ0b3BDbGlja1wiOmlmKDI9PT1jLmJ1dHRvbilyZXR1cm4gbnVsbDtjYXNlIFwidG9wRG91YmxlQ2xpY2tcIjpjYXNlIFwidG9wTW91c2VEb3duXCI6Y2FzZSBcInRvcE1vdXNlTW92ZVwiOmNhc2UgXCJ0b3BNb3VzZVVwXCI6Y2FzZSBcInRvcE1vdXNlT3V0XCI6Y2FzZSBcInRvcE1vdXNlT3ZlclwiOmNhc2UgXCJ0b3BDb250ZXh0TWVudVwiOmY9Tmk7YnJlYWs7Y2FzZSBcInRvcERyYWdcIjpjYXNlIFwidG9wRHJhZ0VuZFwiOmNhc2UgXCJ0b3BEcmFnRW50ZXJcIjpjYXNlIFwidG9wRHJhZ0V4aXRcIjpjYXNlIFwidG9wRHJhZ0xlYXZlXCI6Y2FzZSBcInRvcERyYWdPdmVyXCI6Y2FzZSBcInRvcERyYWdTdGFydFwiOmNhc2UgXCJ0b3BEcm9wXCI6Zj1sajticmVhaztjYXNlIFwidG9wVG91Y2hDYW5jZWxcIjpjYXNlIFwidG9wVG91Y2hFbmRcIjpjYXNlIFwidG9wVG91Y2hNb3ZlXCI6Y2FzZSBcInRvcFRvdWNoU3RhcnRcIjpmPVxubWo7YnJlYWs7Y2FzZSBcInRvcEFuaW1hdGlvbkVuZFwiOmNhc2UgXCJ0b3BBbmltYXRpb25JdGVyYXRpb25cIjpjYXNlIFwidG9wQW5pbWF0aW9uU3RhcnRcIjpmPWVqO2JyZWFrO2Nhc2UgXCJ0b3BUcmFuc2l0aW9uRW5kXCI6Zj1uajticmVhaztjYXNlIFwidG9wU2Nyb2xsXCI6Zj1KaTticmVhaztjYXNlIFwidG9wV2hlZWxcIjpmPW9qO2JyZWFrO2Nhc2UgXCJ0b3BDb3B5XCI6Y2FzZSBcInRvcEN1dFwiOmNhc2UgXCJ0b3BQYXN0ZVwiOmY9Zmp9Zj92b2lkIDA6dyhcIjg2XCIsYSk7YT1mLmdldFBvb2xlZChlLGIsYyxkKTtUaC5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGEpO3JldHVybiBhfX07TC5zZXRIYW5kbGVUb3BMZXZlbChNLmhhbmRsZVRvcExldmVsKTtKYi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIFRhcEV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKTtcbmliLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKEcpO0piLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1NpbXBsZUV2ZW50UGx1Z2luOnJqLEVudGVyTGVhdmVFdmVudFBsdWdpbjpQaSxDaGFuZ2VFdmVudFBsdWdpbjpJaSxTZWxlY3RFdmVudFBsdWdpbjpkaixCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOnJpfSk7XG52YXIgc2o9QS5pbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFksWj1BLmluamVjdGlvbi5IQVNfQk9PTEVBTl9WQUxVRSx0aj1BLmluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRSx1aj1BLmluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSx2aj1BLmluamVjdGlvbi5IQVNfU1RSSU5HX0JPT0xFQU5fVkFMVUUsd2o9e1Byb3BlcnRpZXM6e2FsbG93RnVsbFNjcmVlbjpaLGFsbG93VHJhbnNwYXJlbmN5OnZqLGFzeW5jOlosYXV0b1BsYXk6WixjYXB0dXJlOlosY2hlY2tlZDpzanxaLGNvbHM6dWosY29udGVudEVkaXRhYmxlOnZqLGNvbnRyb2xzOlosXCJkZWZhdWx0XCI6WixkZWZlcjpaLGRpc2FibGVkOlosZG93bmxvYWQ6QS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSxkcmFnZ2FibGU6dmosZm9ybU5vVmFsaWRhdGU6WixoaWRkZW46Wixsb29wOlosbXVsdGlwbGU6c2p8WixtdXRlZDpzanxaLG5vVmFsaWRhdGU6WixvcGVuOloscGxheXNJbmxpbmU6WixcbnJlYWRPbmx5OloscmVxdWlyZWQ6WixyZXZlcnNlZDpaLHJvd3M6dWoscm93U3Bhbjp0aixzY29wZWQ6WixzZWFtbGVzczpaLHNlbGVjdGVkOnNqfFosc2l6ZTp1aixzdGFydDp0aixzcGFuOnVqLHNwZWxsQ2hlY2s6dmosc3R5bGU6MCxpdGVtU2NvcGU6WixhY2NlcHRDaGFyc2V0OjAsY2xhc3NOYW1lOjAsaHRtbEZvcjowLGh0dHBFcXVpdjowLHZhbHVlOnZqfSxET01BdHRyaWJ1dGVOYW1lczp7YWNjZXB0Q2hhcnNldDpcImFjY2VwdC1jaGFyc2V0XCIsY2xhc3NOYW1lOlwiY2xhc3NcIixodG1sRm9yOlwiZm9yXCIsaHR0cEVxdWl2OlwiaHR0cC1lcXVpdlwifSxET01NdXRhdGlvbk1ldGhvZHM6e3ZhbHVlOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YilyZXR1cm4gYS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcIm51bWJlclwiIT09YS50eXBlfHwhMT09PWEuaGFzQXR0cmlidXRlKFwidmFsdWVcIik/YS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIrYik6YS52YWxpZGl0eSYmIWEudmFsaWRpdHkuYmFkSW5wdXQmJlxuYS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1hJiZhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIitiKX19fSx4aj1BLmluamVjdGlvbi5IQVNfU1RSSU5HX0JPT0xFQU5fVkFMVUUseWo9e3hsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHhtbDpcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwifSx6aj17UHJvcGVydGllczp7YXV0b1JldmVyc2U6eGosZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDp4aixwcmVzZXJ2ZUFscGhhOnhqfSxET01BdHRyaWJ1dGVOYW1lczp7YXV0b1JldmVyc2U6XCJhdXRvUmV2ZXJzZVwiLGV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQ6XCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIscHJlc2VydmVBbHBoYTpcInByZXNlcnZlQWxwaGFcIn0sRE9NQXR0cmlidXRlTmFtZXNwYWNlczp7eGxpbmtBY3R1YXRlOnlqLnhsaW5rLHhsaW5rQXJjcm9sZTp5ai54bGluayx4bGlua0hyZWY6eWoueGxpbmsseGxpbmtSb2xlOnlqLnhsaW5rLFxueGxpbmtTaG93OnlqLnhsaW5rLHhsaW5rVGl0bGU6eWoueGxpbmsseGxpbmtUeXBlOnlqLnhsaW5rLHhtbEJhc2U6eWoueG1sLHhtbExhbmc6eWoueG1sLHhtbFNwYWNlOnlqLnhtbH19LEFqPS9bXFwtXFw6XShbYS16XSkvZztmdW5jdGlvbiBCaihhKXtyZXR1cm4gYVsxXS50b1VwcGVyQ2FzZSgpfVxuXCJhY2NlbnQtaGVpZ2h0IGFsaWdubWVudC1iYXNlbGluZSBhcmFiaWMtZm9ybSBiYXNlbGluZS1zaGlmdCBjYXAtaGVpZ2h0IGNsaXAtcGF0aCBjbGlwLXJ1bGUgY29sb3ItaW50ZXJwb2xhdGlvbiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMgY29sb3ItcHJvZmlsZSBjb2xvci1yZW5kZXJpbmcgZG9taW5hbnQtYmFzZWxpbmUgZW5hYmxlLWJhY2tncm91bmQgZmlsbC1vcGFjaXR5IGZpbGwtcnVsZSBmbG9vZC1jb2xvciBmbG9vZC1vcGFjaXR5IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXNpemUtYWRqdXN0IGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBnbHlwaC1uYW1lIGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwgZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwgaG9yaXotYWR2LXggaG9yaXotb3JpZ2luLXggaW1hZ2UtcmVuZGVyaW5nIGxldHRlci1zcGFjaW5nIGxpZ2h0aW5nLWNvbG9yIG1hcmtlci1lbmQgbWFya2VyLW1pZCBtYXJrZXItc3RhcnQgb3ZlcmxpbmUtcG9zaXRpb24gb3ZlcmxpbmUtdGhpY2tuZXNzIHBhaW50LW9yZGVyIHBhbm9zZS0xIHBvaW50ZXItZXZlbnRzIHJlbmRlcmluZy1pbnRlbnQgc2hhcGUtcmVuZGVyaW5nIHN0b3AtY29sb3Igc3RvcC1vcGFjaXR5IHN0cmlrZXRocm91Z2gtcG9zaXRpb24gc3RyaWtldGhyb3VnaC10aGlja25lc3Mgc3Ryb2tlLWRhc2hhcnJheSBzdHJva2UtZGFzaG9mZnNldCBzdHJva2UtbGluZWNhcCBzdHJva2UtbGluZWpvaW4gc3Ryb2tlLW1pdGVybGltaXQgc3Ryb2tlLW9wYWNpdHkgc3Ryb2tlLXdpZHRoIHRleHQtYW5jaG9yIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXJlbmRlcmluZyB1bmRlcmxpbmUtcG9zaXRpb24gdW5kZXJsaW5lLXRoaWNrbmVzcyB1bmljb2RlLWJpZGkgdW5pY29kZS1yYW5nZSB1bml0cy1wZXItZW0gdi1hbHBoYWJldGljIHYtaGFuZ2luZyB2LWlkZW9ncmFwaGljIHYtbWF0aGVtYXRpY2FsIHZlY3Rvci1lZmZlY3QgdmVydC1hZHYteSB2ZXJ0LW9yaWdpbi14IHZlcnQtb3JpZ2luLXkgd29yZC1zcGFjaW5nIHdyaXRpbmctbW9kZSB4LWhlaWdodCB4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6aHJlZiB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSB4bWw6YmFzZSB4bWxuczp4bGluayB4bWw6bGFuZyB4bWw6c3BhY2VcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoQWosXG5Caik7emouUHJvcGVydGllc1tiXT0wO3pqLkRPTUF0dHJpYnV0ZU5hbWVzW2JdPWF9KTtBLmluamVjdGlvbi5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyh3aik7QS5pbmplY3Rpb24uaW5qZWN0RE9NUHJvcGVydHlDb25maWcoemopO1xudmFyIENqPWlnLmluamVjdEludGVybmFscyxEaj1GLkVMRU1FTlRfTk9ERSxFaj1GLlRFWFRfTk9ERSxGaj1GLkNPTU1FTlRfTk9ERSxHaj1GLkRPQ1VNRU5UX05PREUsSGo9Ri5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFLElqPUEuUk9PVF9BVFRSSUJVVEVfTkFNRSxKaj1rYS5nZXRDaGlsZE5hbWVzcGFjZSxLaj1OLmNyZWF0ZUVsZW1lbnQsTGo9Ti5jcmVhdGVUZXh0Tm9kZSxNaj1OLnNldEluaXRpYWxQcm9wZXJ0aWVzLE5qPU4uZGlmZlByb3BlcnRpZXMsT2o9Ti51cGRhdGVQcm9wZXJ0aWVzLFBqPU4uZGlmZkh5ZHJhdGVkUHJvcGVydGllcyxRaj1OLmRpZmZIeWRyYXRlZFRleHQsUmo9Ti53YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50LFNqPU4ud2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCxUaj1OLndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCxVaj1OLndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCxWaj1HLnByZWNhY2hlRmliZXJOb2RlLFdqPUcudXBkYXRlRmliZXJQcm9wcztcbm5iLmluamVjdGlvbi5pbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50KE4pO0RoLl9pbmplY3RGaWJlcihmdW5jdGlvbihhKXtyZXR1cm4gWGouZmluZEhvc3RJbnN0YW5jZShhKX0pO3ZhciBZaj1udWxsLFpqPW51bGw7ZnVuY3Rpb24gYWsoYSl7cmV0dXJuISghYXx8YS5ub2RlVHlwZSE9PURqJiZhLm5vZGVUeXBlIT09R2omJmEubm9kZVR5cGUhPT1IaiYmKGEubm9kZVR5cGUhPT1Ganx8XCIgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgXCIhPT1hLm5vZGVWYWx1ZSkpfWZ1bmN0aW9uIGJrKGEpe2E9YT9hLm5vZGVUeXBlPT09R2o/YS5kb2N1bWVudEVsZW1lbnQ6YS5maXJzdENoaWxkOm51bGw7cmV0dXJuISghYXx8YS5ub2RlVHlwZSE9PURqfHwhYS5oYXNBdHRyaWJ1dGUoSWopKX1cbnZhciBYaj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldFB1YmxpY0luc3RhbmNlO2E9aGgoYSk7dmFyIGM9YS5zY2hlZHVsZVVwZGF0ZSxkPWEuZ2V0UHJpb3JpdHlDb250ZXh0O3JldHVybntjcmVhdGVDb250YWluZXI6ZnVuY3Rpb24oYSl7dmFyIGI9ZWUoKTthPXtjdXJyZW50OmIsY29udGFpbmVySW5mbzphLGlzU2NoZWR1bGVkOiExLG5leHRTY2hlZHVsZWRSb290Om51bGwsY29udGV4dDpudWxsLHBlbmRpbmdDb250ZXh0Om51bGx9O3JldHVybiBiLnN0YXRlTm9kZT1hfSx1cGRhdGVDb250YWluZXI6ZnVuY3Rpb24oYSxiLGcsaCl7dmFyIGU9Yi5jdXJyZW50O2c9amgoZyk7bnVsbD09PWIuY29udGV4dD9iLmNvbnRleHQ9ZzpiLnBlbmRpbmdDb250ZXh0PWc7Yj1oO2g9ZChlLGVkLmVuYWJsZUFzeW5jU3VidHJlZUFQSSYmbnVsbCE9YSYmbnVsbCE9YS50eXBlJiZudWxsIT1hLnR5cGUucHJvdG90eXBlJiYhMD09PWEudHlwZS5wcm90b3R5cGUudW5zdGFibGVfaXNBc3luY1JlYWN0Q29tcG9uZW50KTtcbmE9e2VsZW1lbnQ6YX07a2goZSxhLHZvaWQgMD09PWI/bnVsbDpiLGgpO2MoZSxoKX0sYmF0Y2hlZFVwZGF0ZXM6YS5iYXRjaGVkVXBkYXRlcyx1bmJhdGNoZWRVcGRhdGVzOmEudW5iYXRjaGVkVXBkYXRlcyxkZWZlcnJlZFVwZGF0ZXM6YS5kZWZlcnJlZFVwZGF0ZXMsZmx1c2hTeW5jOmEuZmx1c2hTeW5jLGdldFB1YmxpY1Jvb3RJbnN0YW5jZTpmdW5jdGlvbihhKXthPWEuY3VycmVudDtpZighYS5jaGlsZClyZXR1cm4gbnVsbDtzd2l0Y2goYS5jaGlsZC50YWcpe2Nhc2Ugb2g6cmV0dXJuIGIoYS5jaGlsZC5zdGF0ZU5vZGUpO2RlZmF1bHQ6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlfX0sZmluZEhvc3RJbnN0YW5jZTpmdW5jdGlvbihhKXthPXBoKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfSxmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFsczpmdW5jdGlvbihhKXthPXFoKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfX19KHtnZXRSb290SG9zdENvbnRleHQ6ZnVuY3Rpb24oYSl7aWYoYS5ub2RlVHlwZT09PVxuR2opYT0oYT1hLmRvY3VtZW50RWxlbWVudCk/YS5uYW1lc3BhY2VVUkk6SmoobnVsbCxcIlwiKTtlbHNle3ZhciBiPWEubm9kZVR5cGU9PT1Gaj9hLnBhcmVudE5vZGU6YTthPWIubmFtZXNwYWNlVVJJfHxudWxsO2I9Yi50YWdOYW1lO2E9SmooYSxiKX1yZXR1cm4gYX0sZ2V0Q2hpbGRIb3N0Q29udGV4dDpmdW5jdGlvbihhLGIpe3JldHVybiBKaihhLGIpfSxnZXRQdWJsaWNJbnN0YW5jZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0scHJlcGFyZUZvckNvbW1pdDpmdW5jdGlvbigpe1lqPU0uaXNFbmFibGVkKCk7Wmo9emguZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24oKTtNLnNldEVuYWJsZWQoITEpfSxyZXNldEFmdGVyQ29tbWl0OmZ1bmN0aW9uKCl7emgucmVzdG9yZVNlbGVjdGlvbihaaik7Wmo9bnVsbDtNLnNldEVuYWJsZWQoWWopO1lqPW51bGx9LGNyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKGEsYixjLGQsZSl7YT1LaihhLGIsYyxkKTtWaihlLGEpO1dqKGEsYik7cmV0dXJuIGF9LGFwcGVuZEluaXRpYWxDaGlsZDpmdW5jdGlvbihhLFxuYil7YS5hcHBlbmRDaGlsZChiKX0sZmluYWxpemVJbml0aWFsQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMsZCl7TWooYSxiLGMsZCk7YTp7c3dpdGNoKGIpe2Nhc2UgXCJidXR0b25cIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwic2VsZWN0XCI6Y2FzZSBcInRleHRhcmVhXCI6YT0hIWMuYXV0b0ZvY3VzO2JyZWFrIGF9YT0hMX1yZXR1cm4gYX0scHJlcGFyZVVwZGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBOaihhLGIsYyxkLGUpfSxjb21taXRNb3VudDpmdW5jdGlvbihhKXthLmZvY3VzKCl9LGNvbW1pdFVwZGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe1dqKGEsZSk7T2ooYSxiLGMsZCxlKX0sc2hvdWxkU2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInRleHRhcmVhXCI9PT1hfHxcInN0cmluZ1wiPT09dHlwZW9mIGIuY2hpbGRyZW58fFwibnVtYmVyXCI9PT10eXBlb2YgYi5jaGlsZHJlbnx8XCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCYmXG5cInN0cmluZ1wiPT09dHlwZW9mIGIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sfSxyZXNldFRleHRDb250ZW50OmZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9XCJcIn0sc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTpmdW5jdGlvbihhLGIpe3JldHVybiEhYi5oaWRkZW59LGNyZWF0ZVRleHRJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkKXthPUxqKGEsYik7VmooZCxhKTtyZXR1cm4gYX0sY29tbWl0VGV4dFVwZGF0ZTpmdW5jdGlvbihhLGIsYyl7YS5ub2RlVmFsdWU9Y30sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSxiKXthLmFwcGVuZENoaWxkKGIpfSxhcHBlbmRDaGlsZFRvQ29udGFpbmVyOmZ1bmN0aW9uKGEsYil7YS5ub2RlVHlwZT09PUZqP2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKTphLmFwcGVuZENoaWxkKGIpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSxiLGMpe2EuaW5zZXJ0QmVmb3JlKGIsYyl9LGluc2VydEluQ29udGFpbmVyQmVmb3JlOmZ1bmN0aW9uKGEsXG5iLGMpe2Eubm9kZVR5cGU9PT1Gaj9hLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYyk6YS5pbnNlcnRCZWZvcmUoYixjKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNoaWxkKGIpfSxyZW1vdmVDaGlsZEZyb21Db250YWluZXI6ZnVuY3Rpb24oYSxiKXthLm5vZGVUeXBlPT09Rmo/YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpOmEucmVtb3ZlQ2hpbGQoYil9LGNhbkh5ZHJhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVUeXBlPT09RGomJmI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9LGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIlwiPT09Yj8hMTphLm5vZGVUeXBlPT09RWp9LGdldE5leHRIeWRyYXRhYmxlU2libGluZzpmdW5jdGlvbihhKXtmb3IoYT1hLm5leHRTaWJsaW5nO2EmJmEubm9kZVR5cGUhPT1EaiYmYS5ub2RlVHlwZSE9PUVqOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9LGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkOmZ1bmN0aW9uKGEpe2ZvcihhPVxuYS5maXJzdENoaWxkO2EmJmEubm9kZVR5cGUhPT1EaiYmYS5ub2RlVHlwZSE9PUVqOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9LGh5ZHJhdGVJbnN0YW5jZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7VmooZixhKTtXaihhLGMpO3JldHVybiBQaihhLGIsYyxlLGQpfSxoeWRyYXRlVGV4dEluc3RhbmNlOmZ1bmN0aW9uKGEsYixjKXtWaihjLGEpO3JldHVybiBRaihhLGIpfSxkaWROb3RIeWRyYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXsxPT09Yi5ub2RlVHlwZT9SaihhLGIpOlNqKGEsYil9LGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe1RqKGEsYixjKX0sZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2U6ZnVuY3Rpb24oYSxiKXtVaihhLGIpfSxzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2s6ZGQucklDLHVzZVN5bmNTY2hlZHVsaW5nOiEwfSk7c2IuaW5qZWN0aW9uLmluamVjdEZpYmVyQmF0Y2hlZFVwZGF0ZXMoWGouYmF0Y2hlZFVwZGF0ZXMpO1xuZnVuY3Rpb24gY2soYSxiLGMsZCxlKXthayhjKT92b2lkIDA6dyhcIjIwMFwiKTt2YXIgZj1jLl9yZWFjdFJvb3RDb250YWluZXI7aWYoZilYai51cGRhdGVDb250YWluZXIoYixmLGEsZSk7ZWxzZXtpZighZCYmIWJrKGMpKWZvcihkPXZvaWQgMDtkPWMubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGQpO3ZhciBnPVhqLmNyZWF0ZUNvbnRhaW5lcihjKTtmPWMuX3JlYWN0Um9vdENvbnRhaW5lcj1nO1hqLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24oKXtYai51cGRhdGVDb250YWluZXIoYixnLGEsZSl9KX1yZXR1cm4gWGouZ2V0UHVibGljUm9vdEluc3RhbmNlKGYpfWZ1bmN0aW9uIGRrKGEsYil7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7YWsoYik/dm9pZCAwOncoXCIyMDBcIik7cmV0dXJuIG5lLmNyZWF0ZVBvcnRhbChhLGIsbnVsbCxjKX1cbnZhciBlaz17Y3JlYXRlUG9ydGFsOmRrLGh5ZHJhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjayhudWxsLGEsYiwhMCxjKX0scmVuZGVyOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY2sobnVsbCxhLGIsITEsYyl9LHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOmZ1bmN0aW9uKGEsYixjLGQpe251bGwhPWEmJlBhLmhhcyhhKT92b2lkIDA6dyhcIjM4XCIpO3JldHVybiBjayhhLGIsYywhMSxkKX0sdW5tb3VudENvbXBvbmVudEF0Tm9kZTpmdW5jdGlvbihhKXthayhhKT92b2lkIDA6dyhcIjQwXCIpO3JldHVybiBhLl9yZWFjdFJvb3RDb250YWluZXI/KFhqLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24oKXtjayhudWxsLG51bGwsYSwhMSxmdW5jdGlvbigpe2EuX3JlYWN0Um9vdENvbnRhaW5lcj1udWxsfSl9KSwhMCk6ITF9LGZpbmRET01Ob2RlOkRoLHVuc3RhYmxlX2NyZWF0ZVBvcnRhbDpkayx1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczpzYi5iYXRjaGVkVXBkYXRlcyxcbnVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczpYai5kZWZlcnJlZFVwZGF0ZXMsZmx1c2hTeW5jOlhqLmZsdXNoU3luYyxfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDp7RXZlbnRQbHVnaW5IdWI6SmIsRXZlbnRQbHVnaW5SZWdpc3RyeTpzYSxFdmVudFByb3BhZ2F0b3JzOlRoLFJlYWN0Q29udHJvbGxlZENvbXBvbmVudDpuYixSZWFjdERPTUNvbXBvbmVudFRyZWU6RyxSZWFjdERPTUV2ZW50TGlzdGVuZXI6TH19O0NqKHtmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTpHLmdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOlhqLmZpbmRIb3N0SW5zdGFuY2UsYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4wLjBcIixyZW5kZXJlclBhY2thZ2VOYW1lOlwicmVhY3QtZG9tXCJ9KTttb2R1bGUuZXhwb3J0cz1laztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2luZGV4Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGVzbGludC1kaXNhYmxlIGdsb2JhbC1yZXF1aXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKCFtb2R1bGUuaG90IHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL0FwcENvbnRhaW5lci5wcm9kJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vQXBwQ29udGFpbmVyLmRldicpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL0FwcENvbnRhaW5lci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgQ29tcG9uZW50ID0gUmVhY3QuQ29tcG9uZW50O1xuXG52YXIgQXBwQ29udGFpbmVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEFwcENvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQXBwQ29udGFpbmVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBcHBDb250YWluZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBcHBDb250YWluZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBcHBDb250YWluZXIsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuY29tcG9uZW50LCB0aGlzLnByb3BzLnByb3BzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFwcENvbnRhaW5lcjtcbn0oQ29tcG9uZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBcHBDb250YWluZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvQXBwQ29udGFpbmVyLnByb2QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL0FwcENvbnRhaW5lci5wcm9kLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGVzbGludC1kaXNhYmxlIGdsb2JhbC1yZXF1aXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKCFtb2R1bGUuaG90IHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2luZGV4LnByb2QnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pbmRleC5kZXYnKTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90LWxvYWRlci9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cy5BcHBDb250YWluZXIgPSByZXF1aXJlKCcuL0FwcENvbnRhaW5lcicpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL2luZGV4LnByb2QuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL2luZGV4LnByb2QuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIW1vZHVsZS5ob3QgfHwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcGF0Y2gucHJvZCcpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3BhdGNoLmRldicpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LWhvdC1sb2FkZXIvbGliL3BhdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL2xpYi9wYXRjaC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL3BhdGNoJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL3BhdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtbG9hZGVyL3BhdGNoLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBzdG9yZVNoYXBlLCBzdWJzY3JpcHRpb25TaGFwZSB9IGZyb20gJy4uL3V0aWxzL1Byb3BUeXBlcyc7XG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJztcblxudmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG5mdW5jdGlvbiB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpIHtcbiAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcblxuICB3YXJuaW5nKCc8UHJvdmlkZXI+IGRvZXMgbm90IHN1cHBvcnQgY2hhbmdpbmcgYHN0b3JlYCBvbiB0aGUgZmx5LiAnICsgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICsgJ2F1dG9tYXRpY2FsbHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yZWR1eC9yZWxlYXNlcy8nICsgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXIoKSB7XG4gIHZhciBfUHJvdmlkZXIkY2hpbGRDb250ZXg7XG5cbiAgdmFyIHN0b3JlS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnc3RvcmUnO1xuICB2YXIgc3ViS2V5ID0gYXJndW1lbnRzWzFdO1xuXG4gIHZhciBzdWJzY3JpcHRpb25LZXkgPSBzdWJLZXkgfHwgc3RvcmVLZXkgKyAnU3Vic2NyaXB0aW9uJztcblxuICB2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgICAgdmFyIF9yZWY7XG5cbiAgICAgIHJldHVybiBfcmVmID0ge30sIF9yZWZbc3RvcmVLZXldID0gdGhpc1tzdG9yZUtleV0sIF9yZWZbc3Vic2NyaXB0aW9uS2V5XSA9IG51bGwsIF9yZWY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXG4gICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgICAgX3RoaXNbc3RvcmVLZXldID0gcHJvcHMuc3RvcmU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvdmlkZXI7XG4gIH0oQ29tcG9uZW50KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXNbc3RvcmVLZXldICE9PSBuZXh0UHJvcHMuc3RvcmUpIHtcbiAgICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAgIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWQsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWRcbiAgfTtcbiAgUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSAoX1Byb3ZpZGVyJGNoaWxkQ29udGV4ID0ge30sIF9Qcm92aWRlciRjaGlsZENvbnRleFtzdG9yZUtleV0gPSBzdG9yZVNoYXBlLmlzUmVxdWlyZWQsIF9Qcm92aWRlciRjaGlsZENvbnRleFtzdWJzY3JpcHRpb25LZXldID0gc3Vic2NyaXB0aW9uU2hhcGUsIF9Qcm92aWRlciRjaGlsZENvbnRleCk7XG5cbiAgcmV0dXJuIFByb3ZpZGVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVQcm92aWRlcigpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvUHJvdmlkZXIuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvUHJvdmlkZXIuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBob2lzdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBzdG9yZVNoYXBlLCBzdWJzY3JpcHRpb25TaGFwZSB9IGZyb20gJy4uL3V0aWxzL1Byb3BUeXBlcyc7XG5cbnZhciBob3RSZWxvYWRpbmdWZXJzaW9uID0gMDtcbnZhciBkdW1teVN0YXRlID0ge307XG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIG1ha2VTZWxlY3RvclN0YXRlZnVsKHNvdXJjZVNlbGVjdG9yLCBzdG9yZSkge1xuICAvLyB3cmFwIHRoZSBzZWxlY3RvciBpbiBhbiBvYmplY3QgdGhhdCB0cmFja3MgaXRzIHJlc3VsdHMgYmV0d2VlbiBydW5zLlxuICB2YXIgc2VsZWN0b3IgPSB7XG4gICAgcnVuOiBmdW5jdGlvbiBydW5Db21wb25lbnRTZWxlY3Rvcihwcm9wcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5leHRQcm9wcyA9IHNvdXJjZVNlbGVjdG9yKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcbiAgICAgICAgaWYgKG5leHRQcm9wcyAhPT0gc2VsZWN0b3IucHJvcHMgfHwgc2VsZWN0b3IuZXJyb3IpIHtcbiAgICAgICAgICBzZWxlY3Rvci5zaG91bGRDb21wb25lbnRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIHNlbGVjdG9yLnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICAgIHNlbGVjdG9yLmVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgc2VsZWN0b3IuZXJyb3IgPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHNlbGVjdG9yO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25uZWN0QWR2YW5jZWQoXG4vKlxuICBzZWxlY3RvckZhY3RvcnkgaXMgYSBmdW5jIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJldHVybmluZyB0aGUgc2VsZWN0b3IgZnVuY3Rpb24gdXNlZCB0b1xuICBjb21wdXRlIG5ldyBwcm9wcyBmcm9tIHN0YXRlLCBwcm9wcywgYW5kIGRpc3BhdGNoLiBGb3IgZXhhbXBsZTpcbiAgICAgZXhwb3J0IGRlZmF1bHQgY29ubmVjdEFkdmFuY2VkKChkaXNwYXRjaCwgb3B0aW9ucykgPT4gKHN0YXRlLCBwcm9wcykgPT4gKHtcbiAgICAgIHRoaW5nOiBzdGF0ZS50aGluZ3NbcHJvcHMudGhpbmdJZF0sXG4gICAgICBzYXZlVGhpbmc6IGZpZWxkcyA9PiBkaXNwYXRjaChhY3Rpb25DcmVhdG9ycy5zYXZlVGhpbmcocHJvcHMudGhpbmdJZCwgZmllbGRzKSksXG4gICAgfSkpKFlvdXJDb21wb25lbnQpXG4gICBBY2Nlc3MgdG8gZGlzcGF0Y2ggaXMgcHJvdmlkZWQgdG8gdGhlIGZhY3Rvcnkgc28gc2VsZWN0b3JGYWN0b3JpZXMgY2FuIGJpbmQgYWN0aW9uQ3JlYXRvcnNcbiAgb3V0c2lkZSBvZiB0aGVpciBzZWxlY3RvciBhcyBhbiBvcHRpbWl6YXRpb24uIE9wdGlvbnMgcGFzc2VkIHRvIGNvbm5lY3RBZHZhbmNlZCBhcmUgcGFzc2VkIHRvXG4gIHRoZSBzZWxlY3RvckZhY3RvcnksIGFsb25nIHdpdGggZGlzcGxheU5hbWUgYW5kIFdyYXBwZWRDb21wb25lbnQsIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gICBOb3RlIHRoYXQgc2VsZWN0b3JGYWN0b3J5IGlzIHJlc3BvbnNpYmxlIGZvciBhbGwgY2FjaGluZy9tZW1vaXphdGlvbiBvZiBpbmJvdW5kIGFuZCBvdXRib3VuZFxuICBwcm9wcy4gRG8gbm90IHVzZSBjb25uZWN0QWR2YW5jZWQgZGlyZWN0bHkgd2l0aG91dCBtZW1vaXppbmcgcmVzdWx0cyBiZXR3ZWVuIGNhbGxzIHRvIHlvdXJcbiAgc2VsZWN0b3IsIG90aGVyd2lzZSB0aGUgQ29ubmVjdCBjb21wb25lbnQgd2lsbCByZS1yZW5kZXIgb24gZXZlcnkgc3RhdGUgb3IgcHJvcHMgY2hhbmdlLlxuKi9cbnNlbGVjdG9yRmFjdG9yeSkge1xuICB2YXIgX2NvbnRleHRUeXBlcywgX2NoaWxkQ29udGV4dFR5cGVzO1xuXG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgIF9yZWYkZ2V0RGlzcGxheU5hbWUgPSBfcmVmLmdldERpc3BsYXlOYW1lLFxuICAgICAgZ2V0RGlzcGxheU5hbWUgPSBfcmVmJGdldERpc3BsYXlOYW1lID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiAnQ29ubmVjdEFkdmFuY2VkKCcgKyBuYW1lICsgJyknO1xuICB9IDogX3JlZiRnZXREaXNwbGF5TmFtZSxcbiAgICAgIF9yZWYkbWV0aG9kTmFtZSA9IF9yZWYubWV0aG9kTmFtZSxcbiAgICAgIG1ldGhvZE5hbWUgPSBfcmVmJG1ldGhvZE5hbWUgPT09IHVuZGVmaW5lZCA/ICdjb25uZWN0QWR2YW5jZWQnIDogX3JlZiRtZXRob2ROYW1lLFxuICAgICAgX3JlZiRyZW5kZXJDb3VudFByb3AgPSBfcmVmLnJlbmRlckNvdW50UHJvcCxcbiAgICAgIHJlbmRlckNvdW50UHJvcCA9IF9yZWYkcmVuZGVyQ291bnRQcm9wID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBfcmVmJHJlbmRlckNvdW50UHJvcCxcbiAgICAgIF9yZWYkc2hvdWxkSGFuZGxlU3RhdCA9IF9yZWYuc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzLFxuICAgICAgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzID0gX3JlZiRzaG91bGRIYW5kbGVTdGF0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRzaG91bGRIYW5kbGVTdGF0LFxuICAgICAgX3JlZiRzdG9yZUtleSA9IF9yZWYuc3RvcmVLZXksXG4gICAgICBzdG9yZUtleSA9IF9yZWYkc3RvcmVLZXkgPT09IHVuZGVmaW5lZCA/ICdzdG9yZScgOiBfcmVmJHN0b3JlS2V5LFxuICAgICAgX3JlZiR3aXRoUmVmID0gX3JlZi53aXRoUmVmLFxuICAgICAgd2l0aFJlZiA9IF9yZWYkd2l0aFJlZiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHdpdGhSZWYsXG4gICAgICBjb25uZWN0T3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ2dldERpc3BsYXlOYW1lJywgJ21ldGhvZE5hbWUnLCAncmVuZGVyQ291bnRQcm9wJywgJ3Nob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcycsICdzdG9yZUtleScsICd3aXRoUmVmJ10pO1xuXG4gIHZhciBzdWJzY3JpcHRpb25LZXkgPSBzdG9yZUtleSArICdTdWJzY3JpcHRpb24nO1xuICB2YXIgdmVyc2lvbiA9IGhvdFJlbG9hZGluZ1ZlcnNpb24rKztcblxuICB2YXIgY29udGV4dFR5cGVzID0gKF9jb250ZXh0VHlwZXMgPSB7fSwgX2NvbnRleHRUeXBlc1tzdG9yZUtleV0gPSBzdG9yZVNoYXBlLCBfY29udGV4dFR5cGVzW3N1YnNjcmlwdGlvbktleV0gPSBzdWJzY3JpcHRpb25TaGFwZSwgX2NvbnRleHRUeXBlcyk7XG4gIHZhciBjaGlsZENvbnRleHRUeXBlcyA9IChfY2hpbGRDb250ZXh0VHlwZXMgPSB7fSwgX2NoaWxkQ29udGV4dFR5cGVzW3N1YnNjcmlwdGlvbktleV0gPSBzdWJzY3JpcHRpb25TaGFwZSwgX2NoaWxkQ29udGV4dFR5cGVzKTtcblxuICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIFdyYXBwZWRDb21wb25lbnQgPT0gJ2Z1bmN0aW9uJywgJ1lvdSBtdXN0IHBhc3MgYSBjb21wb25lbnQgdG8gdGhlIGZ1bmN0aW9uIHJldHVybmVkIGJ5ICcgKyAoJ2Nvbm5lY3QuIEluc3RlYWQgcmVjZWl2ZWQgJyArIEpTT04uc3RyaW5naWZ5KFdyYXBwZWRDb21wb25lbnQpKSk7XG5cbiAgICB2YXIgd3JhcHBlZENvbXBvbmVudE5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcblxuICAgIHZhciBkaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKHdyYXBwZWRDb21wb25lbnROYW1lKTtcblxuICAgIHZhciBzZWxlY3RvckZhY3RvcnlPcHRpb25zID0gX2V4dGVuZHMoe30sIGNvbm5lY3RPcHRpb25zLCB7XG4gICAgICBnZXREaXNwbGF5TmFtZTogZ2V0RGlzcGxheU5hbWUsXG4gICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgcmVuZGVyQ291bnRQcm9wOiByZW5kZXJDb3VudFByb3AsXG4gICAgICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6IHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyxcbiAgICAgIHN0b3JlS2V5OiBzdG9yZUtleSxcbiAgICAgIHdpdGhSZWY6IHdpdGhSZWYsXG4gICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICB3cmFwcGVkQ29tcG9uZW50TmFtZTogd3JhcHBlZENvbXBvbmVudE5hbWUsXG4gICAgICBXcmFwcGVkQ29tcG9uZW50OiBXcmFwcGVkQ29tcG9uZW50XG4gICAgfSk7XG5cbiAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHMoQ29ubmVjdCwgX0NvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICBfdGhpcy5yZW5kZXJDb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnN0b3JlID0gcHJvcHNbc3RvcmVLZXldIHx8IGNvbnRleHRbc3RvcmVLZXldO1xuICAgICAgICBfdGhpcy5wcm9wc01vZGUgPSBCb29sZWFuKHByb3BzW3N0b3JlS2V5XSk7XG4gICAgICAgIF90aGlzLnNldFdyYXBwZWRJbnN0YW5jZSA9IF90aGlzLnNldFdyYXBwZWRJbnN0YW5jZS5iaW5kKF90aGlzKTtcblxuICAgICAgICBpbnZhcmlhbnQoX3RoaXMuc3RvcmUsICdDb3VsZCBub3QgZmluZCBcIicgKyBzdG9yZUtleSArICdcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgcHJvcHMgb2YgJyArICgnXCInICsgZGlzcGxheU5hbWUgKyAnXCIuIEVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcpICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCInICsgc3RvcmVLZXkgKyAnXCIgYXMgYSBwcm9wIHRvIFwiJyArIGRpc3BsYXlOYW1lICsgJ1wiLicpKTtcblxuICAgICAgICBfdGhpcy5pbml0U2VsZWN0b3IoKTtcbiAgICAgICAgX3RoaXMuaW5pdFN1YnNjcmlwdGlvbigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICAgIC8vIElmIHRoaXMgY29tcG9uZW50IHJlY2VpdmVkIHN0b3JlIGZyb20gcHJvcHMsIGl0cyBzdWJzY3JpcHRpb24gc2hvdWxkIGJlIHRyYW5zcGFyZW50XG4gICAgICAgIC8vIHRvIGFueSBkZXNjZW5kYW50cyByZWNlaXZpbmcgc3RvcmUrc3Vic2NyaXB0aW9uIGZyb20gY29udGV4dDsgaXQgcGFzc2VzIGFsb25nXG4gICAgICAgIC8vIHN1YnNjcmlwdGlvbiBwYXNzZWQgdG8gaXQuIE90aGVyd2lzZSwgaXQgc2hhZG93cyB0aGUgcGFyZW50IHN1YnNjcmlwdGlvbiwgd2hpY2ggYWxsb3dzXG4gICAgICAgIC8vIENvbm5lY3QgdG8gY29udHJvbCBvcmRlcmluZyBvZiBub3RpZmljYXRpb25zIHRvIGZsb3cgdG9wLWRvd24uXG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLnByb3BzTW9kZSA/IG51bGwgOiB0aGlzLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgcmV0dXJuIF9yZWYyID0ge30sIF9yZWYyW3N1YnNjcmlwdGlvbktleV0gPSBzdWJzY3JpcHRpb24gfHwgdGhpcy5jb250ZXh0W3N1YnNjcmlwdGlvbktleV0sIF9yZWYyO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKCFzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHJldHVybjtcblxuICAgICAgICAvLyBjb21wb25lbnRXaWxsTW91bnQgZmlyZXMgZHVyaW5nIHNlcnZlciBzaWRlIHJlbmRlcmluZywgYnV0IGNvbXBvbmVudERpZE1vdW50IGFuZFxuICAgICAgICAvLyBjb21wb25lbnRXaWxsVW5tb3VudCBkbyBub3QuIEJlY2F1c2Ugb2YgdGhpcywgdHJ5U3Vic2NyaWJlIGhhcHBlbnMgZHVyaW5nIC4uLmRpZE1vdW50LlxuICAgICAgICAvLyBPdGhlcndpc2UsIHVuc3Vic2NyaXB0aW9uIHdvdWxkIG5ldmVyIHRha2UgcGxhY2UgZHVyaW5nIFNTUiwgY2F1c2luZyBhIG1lbW9yeSBsZWFrLlxuICAgICAgICAvLyBUbyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYSBjaGlsZCBjb21wb25lbnQgbWF5IGhhdmUgdHJpZ2dlcmVkIGEgc3RhdGUgY2hhbmdlIGJ5XG4gICAgICAgIC8vIGRpc3BhdGNoaW5nIGFuIGFjdGlvbiBpbiBpdHMgY29tcG9uZW50V2lsbE1vdW50LCB3ZSBoYXZlIHRvIHJlLXJ1biB0aGUgc2VsZWN0IGFuZCBtYXliZVxuICAgICAgICAvLyByZS1yZW5kZXIuXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5ydW4obmV4dFByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uKSB0aGlzLnN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubm90aWZ5TmVzdGVkU3VicyA9IG5vb3A7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJ1biA9IG5vb3A7XG4gICAgICAgIHRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG4gICAgICAgIGludmFyaWFudCh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAoJ3sgd2l0aFJlZjogdHJ1ZSB9IGluIHRoZSBvcHRpb25zIGFyZ3VtZW50IG9mIHRoZSAnICsgbWV0aG9kTmFtZSArICcoKSBjYWxsLicpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlZEluc3RhbmNlO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuc2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gc2V0V3JhcHBlZEluc3RhbmNlKHJlZikge1xuICAgICAgICB0aGlzLndyYXBwZWRJbnN0YW5jZSA9IHJlZjtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmluaXRTZWxlY3RvciA9IGZ1bmN0aW9uIGluaXRTZWxlY3RvcigpIHtcbiAgICAgICAgdmFyIHNvdXJjZVNlbGVjdG9yID0gc2VsZWN0b3JGYWN0b3J5KHRoaXMuc3RvcmUuZGlzcGF0Y2gsIHNlbGVjdG9yRmFjdG9yeU9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gbWFrZVNlbGVjdG9yU3RhdGVmdWwoc291cmNlU2VsZWN0b3IsIHRoaXMuc3RvcmUpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmluaXRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiBpbml0U3Vic2NyaXB0aW9uKCkge1xuICAgICAgICBpZiAoIXNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykgcmV0dXJuO1xuXG4gICAgICAgIC8vIHBhcmVudFN1YidzIHNvdXJjZSBzaG91bGQgbWF0Y2ggd2hlcmUgc3RvcmUgY2FtZSBmcm9tOiBwcm9wcyB2cy4gY29udGV4dC4gQSBjb21wb25lbnRcbiAgICAgICAgLy8gY29ubmVjdGVkIHRvIHRoZSBzdG9yZSB2aWEgcHJvcHMgc2hvdWxkbid0IHVzZSBzdWJzY3JpcHRpb24gZnJvbSBjb250ZXh0LCBvciB2aWNlIHZlcnNhLlxuICAgICAgICB2YXIgcGFyZW50U3ViID0gKHRoaXMucHJvcHNNb2RlID8gdGhpcy5wcm9wcyA6IHRoaXMuY29udGV4dClbc3Vic2NyaXB0aW9uS2V5XTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuc3RvcmUsIHBhcmVudFN1YiwgdGhpcy5vblN0YXRlQ2hhbmdlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIGBub3RpZnlOZXN0ZWRTdWJzYCBpcyBkdXBsaWNhdGVkIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29tcG9uZW50IGlzICB1bm1vdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIG1pZGRsZSBvZiB0aGUgbm90aWZpY2F0aW9uIGxvb3AsIHdoZXJlIGB0aGlzLnN1YnNjcmlwdGlvbmAgd2lsbCB0aGVuIGJlIG51bGwuIEFuXG4gICAgICAgIC8vIGV4dHJhIG51bGwgY2hlY2sgZXZlcnkgY2hhbmdlIGNhbiBiZSBhdm9pZGVkIGJ5IGNvcHlpbmcgdGhlIG1ldGhvZCBvbnRvIGB0aGlzYCBhbmQgdGhlblxuICAgICAgICAvLyByZXBsYWNpbmcgaXQgd2l0aCBhIG5vLW9wIG9uIHVubW91bnQuIFRoaXMgY2FuIHByb2JhYmx5IGJlIGF2b2lkZWQgaWYgU3Vic2NyaXB0aW9uJ3NcbiAgICAgICAgLy8gbGlzdGVuZXJzIGxvZ2ljIGlzIGNoYW5nZWQgdG8gbm90IGNhbGwgbGlzdGVuZXJzIHRoYXQgaGF2ZSBiZWVuIHVuc3Vic2NyaWJlZCBpbiB0aGVcbiAgICAgICAgLy8gbWlkZGxlIG9mIHRoZSBub3RpZmljYXRpb24gbG9vcC5cbiAgICAgICAgdGhpcy5ub3RpZnlOZXN0ZWRTdWJzID0gdGhpcy5zdWJzY3JpcHRpb24ubm90aWZ5TmVzdGVkU3Vicy5iaW5kKHRoaXMuc3Vic2NyaXB0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLm9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiBvblN0YXRlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yLnJ1bih0aGlzLnByb3BzKTtcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlOZXN0ZWRTdWJzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUgPSB0aGlzLm5vdGlmeU5lc3RlZFN1YnNPbkNvbXBvbmVudERpZFVwZGF0ZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKGR1bW15U3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5ub3RpZnlOZXN0ZWRTdWJzT25Db21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBub3RpZnlOZXN0ZWRTdWJzT25Db21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIC8vIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIGNvbmRpdGlvbmFsbHkgaW1wbGVtZW50ZWQgd2hlbiBgb25TdGF0ZUNoYW5nZWAgZGV0ZXJtaW5lcyBpdFxuICAgICAgICAvLyBuZWVkcyB0byBub3RpZnkgbmVzdGVkIHN1YnMuIE9uY2UgY2FsbGVkLCBpdCB1bmltcGxlbWVudHMgaXRzZWxmIHVudGlsIGZ1cnRoZXIgc3RhdGVcbiAgICAgICAgLy8gY2hhbmdlcyBvY2N1ci4gRG9pbmcgaXQgdGhpcyB3YXkgdnMgaGF2aW5nIGEgcGVybWFuZW50IGBjb21wb25lbnREaWRVcGRhdGVgIHRoYXQgZG9lc1xuICAgICAgICAvLyBhIGJvb2xlYW4gY2hlY2sgZXZlcnkgdGltZSBhdm9pZHMgYW4gZXh0cmEgbWV0aG9kIGNhbGwgbW9zdCBvZiB0aGUgdGltZSwgcmVzdWx0aW5nXG4gICAgICAgIC8vIGluIHNvbWUgcGVyZiBib29zdC5cbiAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubm90aWZ5TmVzdGVkU3VicygpO1xuICAgICAgfTtcblxuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaXNTdWJzY3JpYmVkID0gZnVuY3Rpb24gaXNTdWJzY3JpYmVkKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnN1YnNjcmlwdGlvbikgJiYgdGhpcy5zdWJzY3JpcHRpb24uaXNTdWJzY3JpYmVkKCk7XG4gICAgICB9O1xuXG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5hZGRFeHRyYVByb3BzID0gZnVuY3Rpb24gYWRkRXh0cmFQcm9wcyhwcm9wcykge1xuICAgICAgICBpZiAoIXdpdGhSZWYgJiYgIXJlbmRlckNvdW50UHJvcCAmJiAhKHRoaXMucHJvcHNNb2RlICYmIHRoaXMuc3Vic2NyaXB0aW9uKSkgcmV0dXJuIHByb3BzO1xuICAgICAgICAvLyBtYWtlIGEgc2hhbGxvdyBjb3B5IHNvIHRoYXQgZmllbGRzIGFkZGVkIGRvbid0IGxlYWsgdG8gdGhlIG9yaWdpbmFsIHNlbGVjdG9yLlxuICAgICAgICAvLyB0aGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IGZvciAncmVmJyBzaW5jZSB0aGF0J3MgYSByZWZlcmVuY2UgYmFjayB0byB0aGUgY29tcG9uZW50XG4gICAgICAgIC8vIGluc3RhbmNlLiBhIHNpbmdsZXRvbiBtZW1vaXplZCBzZWxlY3RvciB3b3VsZCB0aGVuIGJlIGhvbGRpbmcgYSByZWZlcmVuY2UgdG8gdGhlXG4gICAgICAgIC8vIGluc3RhbmNlLCBwcmV2ZW50aW5nIHRoZSBpbnN0YW5jZSBmcm9tIGJlaW5nIGdhcmJhZ2UgY29sbGVjdGVkLCBhbmQgdGhhdCB3b3VsZCBiZSBiYWRcbiAgICAgICAgdmFyIHdpdGhFeHRyYXMgPSBfZXh0ZW5kcyh7fSwgcHJvcHMpO1xuICAgICAgICBpZiAod2l0aFJlZikgd2l0aEV4dHJhcy5yZWYgPSB0aGlzLnNldFdyYXBwZWRJbnN0YW5jZTtcbiAgICAgICAgaWYgKHJlbmRlckNvdW50UHJvcCkgd2l0aEV4dHJhc1tyZW5kZXJDb3VudFByb3BdID0gdGhpcy5yZW5kZXJDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5wcm9wc01vZGUgJiYgdGhpcy5zdWJzY3JpcHRpb24pIHdpdGhFeHRyYXNbc3Vic2NyaXB0aW9uS2V5XSA9IHRoaXMuc3Vic2NyaXB0aW9uO1xuICAgICAgICByZXR1cm4gd2l0aEV4dHJhcztcbiAgICAgIH07XG5cbiAgICAgIENvbm5lY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgc2VsZWN0b3Iuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNlbGVjdG9yLmVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgc2VsZWN0b3IuZXJyb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgdGhpcy5hZGRFeHRyYVByb3BzKHNlbGVjdG9yLnByb3BzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBDb25uZWN0O1xuICAgIH0oQ29tcG9uZW50KTtcblxuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIENvbm5lY3QuY2hpbGRDb250ZXh0VHlwZXMgPSBjaGlsZENvbnRleHRUeXBlcztcbiAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IGNvbnRleHRUeXBlcztcbiAgICBDb25uZWN0LnByb3BUeXBlcyA9IGNvbnRleHRUeXBlcztcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgLy8gV2UgYXJlIGhvdCByZWxvYWRpbmchXG4gICAgICAgIGlmICh0aGlzLnZlcnNpb24gIT09IHZlcnNpb24pIHtcbiAgICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdG9yKCk7XG5cbiAgICAgICAgICAvLyBJZiBhbnkgY29ubmVjdGVkIGRlc2NlbmRhbnRzIGRvbid0IGhvdCByZWxvYWQgKGFuZCByZXN1YnNjcmliZSBpbiB0aGUgcHJvY2VzcyksIHRoZWlyXG4gICAgICAgICAgLy8gbGlzdGVuZXJzIHdpbGwgYmUgbG9zdCB3aGVuIHdlIHVuc3Vic2NyaWJlLiBVbmZvcnR1bmF0ZWx5LCBieSBjb3B5aW5nIG92ZXIgYWxsXG4gICAgICAgICAgLy8gbGlzdGVuZXJzLCB0aGlzIGRvZXMgbWVhbiB0aGF0IHRoZSBvbGQgdmVyc2lvbnMgb2YgY29ubmVjdGVkIGRlc2NlbmRhbnRzIHdpbGwgc3RpbGwgYmVcbiAgICAgICAgICAvLyBub3RpZmllZCBvZiBzdGF0ZSBjaGFuZ2VzOyBob3dldmVyLCB0aGVpciBvblN0YXRlQ2hhbmdlIGZ1bmN0aW9uIGlzIGEgbm8tb3Agc28gdGhpc1xuICAgICAgICAgIC8vIGlzbid0IGEgaHVnZSBkZWFsLlxuICAgICAgICAgIHZhciBvbGRMaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgb2xkTGlzdGVuZXJzID0gdGhpcy5zdWJzY3JpcHRpb24ubGlzdGVuZXJzLmdldCgpO1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udHJ5VW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pbml0U3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgaWYgKHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udHJ5U3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBvbGRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zdWJzY3JpcHRpb24ubGlzdGVuZXJzLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgfTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb21wb25lbnRzL2Nvbm5lY3RBZHZhbmNlZC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9jb25uZWN0QWR2YW5jZWQuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgY29ubmVjdEFkdmFuY2VkIGZyb20gJy4uL2NvbXBvbmVudHMvY29ubmVjdEFkdmFuY2VkJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnLi4vdXRpbHMvc2hhbGxvd0VxdWFsJztcbmltcG9ydCBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzIGZyb20gJy4vbWFwRGlzcGF0Y2hUb1Byb3BzJztcbmltcG9ydCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIGZyb20gJy4vbWFwU3RhdGVUb1Byb3BzJztcbmltcG9ydCBkZWZhdWx0TWVyZ2VQcm9wc0ZhY3RvcmllcyBmcm9tICcuL21lcmdlUHJvcHMnO1xuaW1wb3J0IGRlZmF1bHRTZWxlY3RvckZhY3RvcnkgZnJvbSAnLi9zZWxlY3RvckZhY3RvcnknO1xuXG4vKlxuICBjb25uZWN0IGlzIGEgZmFjYWRlIG92ZXIgY29ubmVjdEFkdmFuY2VkLiBJdCB0dXJucyBpdHMgYXJncyBpbnRvIGEgY29tcGF0aWJsZVxuICBzZWxlY3RvckZhY3RvcnksIHdoaWNoIGhhcyB0aGUgc2lnbmF0dXJlOlxuXG4gICAgKGRpc3BhdGNoLCBvcHRpb25zKSA9PiAobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpID0+IG5leHRGaW5hbFByb3BzXG4gIFxuICBjb25uZWN0IHBhc3NlcyBpdHMgYXJncyB0byBjb25uZWN0QWR2YW5jZWQgYXMgb3B0aW9ucywgd2hpY2ggd2lsbCBpbiB0dXJuIHBhc3MgdGhlbSB0b1xuICBzZWxlY3RvckZhY3RvcnkgZWFjaCB0aW1lIGEgQ29ubmVjdCBjb21wb25lbnQgaW5zdGFuY2UgaXMgaW5zdGFudGlhdGVkIG9yIGhvdCByZWxvYWRlZC5cblxuICBzZWxlY3RvckZhY3RvcnkgcmV0dXJucyBhIGZpbmFsIHByb3BzIHNlbGVjdG9yIGZyb20gaXRzIG1hcFN0YXRlVG9Qcm9wcyxcbiAgbWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcywgbWVyZ2VQcm9wcyxcbiAgbWVyZ2VQcm9wc0ZhY3RvcmllcywgYW5kIHB1cmUgYXJncy5cblxuICBUaGUgcmVzdWx0aW5nIGZpbmFsIHByb3BzIHNlbGVjdG9yIGlzIGNhbGxlZCBieSB0aGUgQ29ubmVjdCBjb21wb25lbnQgaW5zdGFuY2Ugd2hlbmV2ZXJcbiAgaXQgcmVjZWl2ZXMgbmV3IHByb3BzIG9yIHN0b3JlIHN0YXRlLlxuICovXG5cbmZ1bmN0aW9uIG1hdGNoKGFyZywgZmFjdG9yaWVzLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSBmYWN0b3JpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFjdG9yaWVzW2ldKGFyZyk7XG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIG9wdGlvbnMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgdHlwZSAnICsgdHlwZW9mIGFyZyArICcgZm9yICcgKyBuYW1lICsgJyBhcmd1bWVudCB3aGVuIGNvbm5lY3RpbmcgY29tcG9uZW50ICcgKyBvcHRpb25zLndyYXBwZWRDb21wb25lbnROYW1lICsgJy4nKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3RyaWN0RXF1YWwoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuLy8gY3JlYXRlQ29ubmVjdCB3aXRoIGRlZmF1bHQgYXJncyBidWlsZHMgdGhlICdvZmZpY2lhbCcgY29ubmVjdCBiZWhhdmlvci4gQ2FsbGluZyBpdCB3aXRoXG4vLyBkaWZmZXJlbnQgb3B0aW9ucyBvcGVucyB1cCBzb21lIHRlc3RpbmcgYW5kIGV4dGVuc2liaWxpdHkgc2NlbmFyaW9zXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdCgpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgX3JlZiRjb25uZWN0SE9DID0gX3JlZi5jb25uZWN0SE9DLFxuICAgICAgY29ubmVjdEhPQyA9IF9yZWYkY29ubmVjdEhPQyA9PT0gdW5kZWZpbmVkID8gY29ubmVjdEFkdmFuY2VkIDogX3JlZiRjb25uZWN0SE9DLFxuICAgICAgX3JlZiRtYXBTdGF0ZVRvUHJvcHNGID0gX3JlZi5tYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMsXG4gICAgICBtYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMgPSBfcmVmJG1hcFN0YXRlVG9Qcm9wc0YgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMgOiBfcmVmJG1hcFN0YXRlVG9Qcm9wc0YsXG4gICAgICBfcmVmJG1hcERpc3BhdGNoVG9Qcm8gPSBfcmVmLm1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyxcbiAgICAgIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyA9IF9yZWYkbWFwRGlzcGF0Y2hUb1BybyA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcyA6IF9yZWYkbWFwRGlzcGF0Y2hUb1BybyxcbiAgICAgIF9yZWYkbWVyZ2VQcm9wc0ZhY3RvciA9IF9yZWYubWVyZ2VQcm9wc0ZhY3RvcmllcyxcbiAgICAgIG1lcmdlUHJvcHNGYWN0b3JpZXMgPSBfcmVmJG1lcmdlUHJvcHNGYWN0b3IgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNZXJnZVByb3BzRmFjdG9yaWVzIDogX3JlZiRtZXJnZVByb3BzRmFjdG9yLFxuICAgICAgX3JlZiRzZWxlY3RvckZhY3RvcnkgPSBfcmVmLnNlbGVjdG9yRmFjdG9yeSxcbiAgICAgIHNlbGVjdG9yRmFjdG9yeSA9IF9yZWYkc2VsZWN0b3JGYWN0b3J5ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0U2VsZWN0b3JGYWN0b3J5IDogX3JlZiRzZWxlY3RvckZhY3Rvcnk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcbiAgICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9LFxuICAgICAgICBfcmVmMiRwdXJlID0gX3JlZjIucHVyZSxcbiAgICAgICAgcHVyZSA9IF9yZWYyJHB1cmUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmMiRwdXJlLFxuICAgICAgICBfcmVmMiRhcmVTdGF0ZXNFcXVhbCA9IF9yZWYyLmFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBhcmVTdGF0ZXNFcXVhbCA9IF9yZWYyJGFyZVN0YXRlc0VxdWFsID09PSB1bmRlZmluZWQgPyBzdHJpY3RFcXVhbCA6IF9yZWYyJGFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBfcmVmMiRhcmVPd25Qcm9wc0VxdWEgPSBfcmVmMi5hcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgICBhcmVPd25Qcm9wc0VxdWFsID0gX3JlZjIkYXJlT3duUHJvcHNFcXVhID09PSB1bmRlZmluZWQgPyBzaGFsbG93RXF1YWwgOiBfcmVmMiRhcmVPd25Qcm9wc0VxdWEsXG4gICAgICAgIF9yZWYyJGFyZVN0YXRlUHJvcHNFcSA9IF9yZWYyLmFyZVN0YXRlUHJvcHNFcXVhbCxcbiAgICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsID0gX3JlZjIkYXJlU3RhdGVQcm9wc0VxID09PSB1bmRlZmluZWQgPyBzaGFsbG93RXF1YWwgOiBfcmVmMiRhcmVTdGF0ZVByb3BzRXEsXG4gICAgICAgIF9yZWYyJGFyZU1lcmdlZFByb3BzRSA9IF9yZWYyLmFyZU1lcmdlZFByb3BzRXF1YWwsXG4gICAgICAgIGFyZU1lcmdlZFByb3BzRXF1YWwgPSBfcmVmMiRhcmVNZXJnZWRQcm9wc0UgPT09IHVuZGVmaW5lZCA/IHNoYWxsb3dFcXVhbCA6IF9yZWYyJGFyZU1lcmdlZFByb3BzRSxcbiAgICAgICAgZXh0cmFPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbJ3B1cmUnLCAnYXJlU3RhdGVzRXF1YWwnLCAnYXJlT3duUHJvcHNFcXVhbCcsICdhcmVTdGF0ZVByb3BzRXF1YWwnLCAnYXJlTWVyZ2VkUHJvcHNFcXVhbCddKTtcblxuICAgIHZhciBpbml0TWFwU3RhdGVUb1Byb3BzID0gbWF0Y2gobWFwU3RhdGVUb1Byb3BzLCBtYXBTdGF0ZVRvUHJvcHNGYWN0b3JpZXMsICdtYXBTdGF0ZVRvUHJvcHMnKTtcbiAgICB2YXIgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyA9IG1hdGNoKG1hcERpc3BhdGNoVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG4gICAgdmFyIGluaXRNZXJnZVByb3BzID0gbWF0Y2gobWVyZ2VQcm9wcywgbWVyZ2VQcm9wc0ZhY3RvcmllcywgJ21lcmdlUHJvcHMnKTtcblxuICAgIHJldHVybiBjb25uZWN0SE9DKHNlbGVjdG9yRmFjdG9yeSwgX2V4dGVuZHMoe1xuICAgICAgLy8gdXNlZCBpbiBlcnJvciBtZXNzYWdlc1xuICAgICAgbWV0aG9kTmFtZTogJ2Nvbm5lY3QnLFxuXG4gICAgICAvLyB1c2VkIHRvIGNvbXB1dGUgQ29ubmVjdCdzIGRpc3BsYXlOYW1lIGZyb20gdGhlIHdyYXBwZWQgY29tcG9uZW50J3MgZGlzcGxheU5hbWUuXG4gICAgICBnZXREaXNwbGF5TmFtZTogZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gJ0Nvbm5lY3QoJyArIG5hbWUgKyAnKSc7XG4gICAgICB9LFxuXG4gICAgICAvLyBpZiBtYXBTdGF0ZVRvUHJvcHMgaXMgZmFsc3ksIHRoZSBDb25uZWN0IGNvbXBvbmVudCBkb2Vzbid0IHN1YnNjcmliZSB0byBzdG9yZSBzdGF0ZSBjaGFuZ2VzXG4gICAgICBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXM6IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKSxcblxuICAgICAgLy8gcGFzc2VkIHRocm91Z2ggdG8gc2VsZWN0b3JGYWN0b3J5XG4gICAgICBpbml0TWFwU3RhdGVUb1Byb3BzOiBpbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wczogaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICAgIGluaXRNZXJnZVByb3BzOiBpbml0TWVyZ2VQcm9wcyxcbiAgICAgIHB1cmU6IHB1cmUsXG4gICAgICBhcmVTdGF0ZXNFcXVhbDogYXJlU3RhdGVzRXF1YWwsXG4gICAgICBhcmVPd25Qcm9wc0VxdWFsOiBhcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsOiBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gICAgICBhcmVNZXJnZWRQcm9wc0VxdWFsOiBhcmVNZXJnZWRQcm9wc0VxdWFsXG5cbiAgICB9LCBleHRyYU9wdGlvbnMpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29ubmVjdCgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvY29ubmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9jb25uZWN0LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQsIHdyYXBNYXBUb1Byb3BzRnVuYyB9IGZyb20gJy4vd3JhcE1hcFRvUHJvcHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb24obWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gIHJldHVybiB0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nID8gd3JhcE1hcFRvUHJvcHNGdW5jKG1hcERpc3BhdGNoVG9Qcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZyhtYXBEaXNwYXRjaFRvUHJvcHMpIHtcbiAgcmV0dXJuICFtYXBEaXNwYXRjaFRvUHJvcHMgPyB3cmFwTWFwVG9Qcm9wc0NvbnN0YW50KGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuICAgIHJldHVybiB7IGRpc3BhdGNoOiBkaXNwYXRjaCB9O1xuICB9KSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc09iamVjdChtYXBEaXNwYXRjaFRvUHJvcHMpIHtcbiAgcmV0dXJuIG1hcERpc3BhdGNoVG9Qcm9wcyAmJiB0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnb2JqZWN0JyA/IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQoZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyhtYXBEaXNwYXRjaFRvUHJvcHMsIGRpc3BhdGNoKTtcbiAgfSkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFt3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbiwgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZywgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0XTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21hcERpc3BhdGNoVG9Qcm9wcy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBEaXNwYXRjaFRvUHJvcHMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgd3JhcE1hcFRvUHJvcHNDb25zdGFudCwgd3JhcE1hcFRvUHJvcHNGdW5jIH0gZnJvbSAnLi93cmFwTWFwVG9Qcm9wcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbihtYXBTdGF0ZVRvUHJvcHMpIHtcbiAgcmV0dXJuIHR5cGVvZiBtYXBTdGF0ZVRvUHJvcHMgPT09ICdmdW5jdGlvbicgPyB3cmFwTWFwVG9Qcm9wc0Z1bmMobWFwU3RhdGVUb1Byb3BzLCAnbWFwU3RhdGVUb1Byb3BzJykgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aGVuTWFwU3RhdGVUb1Byb3BzSXNNaXNzaW5nKG1hcFN0YXRlVG9Qcm9wcykge1xuICByZXR1cm4gIW1hcFN0YXRlVG9Qcm9wcyA/IHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7fTtcbiAgfSkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFt3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbiwgd2hlbk1hcFN0YXRlVG9Qcm9wc0lzTWlzc2luZ107XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvbWFwU3RhdGVUb1Byb3BzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCB2ZXJpZnlQbGFpbk9iamVjdCBmcm9tICcuLi91dGlscy92ZXJpZnlQbGFpbk9iamVjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0TWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcykge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIG93blByb3BzLCBzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBNZXJnZVByb3BzRnVuYyhtZXJnZVByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0TWVyZ2VQcm9wc1Byb3h5KGRpc3BhdGNoLCBfcmVmKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgICAgcHVyZSA9IF9yZWYucHVyZSxcbiAgICAgICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCA9IF9yZWYuYXJlTWVyZ2VkUHJvcHNFcXVhbDtcblxuICAgIHZhciBoYXNSdW5PbmNlID0gZmFsc2U7XG4gICAgdmFyIG1lcmdlZFByb3BzID0gdm9pZCAwO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlUHJvcHNQcm94eShzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcykge1xuICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpO1xuXG4gICAgICBpZiAoaGFzUnVuT25jZSkge1xuICAgICAgICBpZiAoIXB1cmUgfHwgIWFyZU1lcmdlZFByb3BzRXF1YWwobmV4dE1lcmdlZFByb3BzLCBtZXJnZWRQcm9wcykpIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzUnVuT25jZSA9IHRydWU7XG4gICAgICAgIG1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB2ZXJpZnlQbGFpbk9iamVjdChtZXJnZWRQcm9wcywgZGlzcGxheU5hbWUsICdtZXJnZVByb3BzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuIHR5cGVvZiBtZXJnZVByb3BzID09PSAnZnVuY3Rpb24nID8gd3JhcE1lcmdlUHJvcHNGdW5jKG1lcmdlUHJvcHMpIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2hlbk1lcmdlUHJvcHNJc09taXR0ZWQobWVyZ2VQcm9wcykge1xuICByZXR1cm4gIW1lcmdlUHJvcHMgPyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNZXJnZVByb3BzO1xuICB9IDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBbd2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uLCB3aGVuTWVyZ2VQcm9wc0lzT21pdHRlZF07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tZXJnZVByb3BzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L21lcmdlUHJvcHMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgdmVyaWZ5U3Vic2VsZWN0b3JzIGZyb20gJy4vdmVyaWZ5U3Vic2VsZWN0b3JzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGltcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbXB1cmVGaW5hbFByb3BzU2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMobWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyksIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpLCBvd25Qcm9wcyk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgZGlzcGF0Y2gsIF9yZWYpIHtcbiAgdmFyIGFyZVN0YXRlc0VxdWFsID0gX3JlZi5hcmVTdGF0ZXNFcXVhbCxcbiAgICAgIGFyZU93blByb3BzRXF1YWwgPSBfcmVmLmFyZU93blByb3BzRXF1YWwsXG4gICAgICBhcmVTdGF0ZVByb3BzRXF1YWwgPSBfcmVmLmFyZVN0YXRlUHJvcHNFcXVhbDtcblxuICB2YXIgaGFzUnVuQXRMZWFzdE9uY2UgPSBmYWxzZTtcbiAgdmFyIHN0YXRlID0gdm9pZCAwO1xuICB2YXIgb3duUHJvcHMgPSB2b2lkIDA7XG4gIHZhciBzdGF0ZVByb3BzID0gdm9pZCAwO1xuICB2YXIgZGlzcGF0Y2hQcm9wcyA9IHZvaWQgMDtcbiAgdmFyIG1lcmdlZFByb3BzID0gdm9pZCAwO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUZpcnN0Q2FsbChmaXJzdFN0YXRlLCBmaXJzdE93blByb3BzKSB7XG4gICAgc3RhdGUgPSBmaXJzdFN0YXRlO1xuICAgIG93blByb3BzID0gZmlyc3RPd25Qcm9wcztcbiAgICBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyk7XG4gICAgZGlzcGF0Y2hQcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpO1xuICAgIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XG4gICAgaGFzUnVuQXRMZWFzdE9uY2UgPSB0cnVlO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld1Byb3BzQW5kTmV3U3RhdGUoKSB7XG4gICAgc3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuXG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgZGlzcGF0Y2hQcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpO1xuXG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcbiAgICByZXR1cm4gbWVyZ2VkUHJvcHM7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOZXdQcm9wcygpIHtcbiAgICBpZiAobWFwU3RhdGVUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzKSBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyk7XG5cbiAgICBpZiAobWFwRGlzcGF0Y2hUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzKSBkaXNwYXRjaFByb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvd25Qcm9wcyk7XG5cbiAgICBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld1N0YXRlKCkge1xuICAgIHZhciBuZXh0U3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuICAgIHZhciBzdGF0ZVByb3BzQ2hhbmdlZCA9ICFhcmVTdGF0ZVByb3BzRXF1YWwobmV4dFN0YXRlUHJvcHMsIHN0YXRlUHJvcHMpO1xuICAgIHN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcblxuICAgIGlmIChzdGF0ZVByb3BzQ2hhbmdlZCkgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcblxuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1YnNlcXVlbnRDYWxscyhuZXh0U3RhdGUsIG5leHRPd25Qcm9wcykge1xuICAgIHZhciBwcm9wc0NoYW5nZWQgPSAhYXJlT3duUHJvcHNFcXVhbChuZXh0T3duUHJvcHMsIG93blByb3BzKTtcbiAgICB2YXIgc3RhdGVDaGFuZ2VkID0gIWFyZVN0YXRlc0VxdWFsKG5leHRTdGF0ZSwgc3RhdGUpO1xuICAgIHN0YXRlID0gbmV4dFN0YXRlO1xuICAgIG93blByb3BzID0gbmV4dE93blByb3BzO1xuXG4gICAgaWYgKHByb3BzQ2hhbmdlZCAmJiBzdGF0ZUNoYW5nZWQpIHJldHVybiBoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlKCk7XG4gICAgaWYgKHByb3BzQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1Byb3BzKCk7XG4gICAgaWYgKHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1N0YXRlKCk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1cmVGaW5hbFByb3BzU2VsZWN0b3IobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIHtcbiAgICByZXR1cm4gaGFzUnVuQXRMZWFzdE9uY2UgPyBoYW5kbGVTdWJzZXF1ZW50Q2FsbHMobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIDogaGFuZGxlRmlyc3RDYWxsKG5leHRTdGF0ZSwgbmV4dE93blByb3BzKTtcbiAgfTtcbn1cblxuLy8gVE9ETzogQWRkIG1vcmUgY29tbWVudHNcblxuLy8gSWYgcHVyZSBpcyB0cnVlLCB0aGUgc2VsZWN0b3IgcmV0dXJuZWQgYnkgc2VsZWN0b3JGYWN0b3J5IHdpbGwgbWVtb2l6ZSBpdHMgcmVzdWx0cyxcbi8vIGFsbG93aW5nIGNvbm5lY3RBZHZhbmNlZCdzIHNob3VsZENvbXBvbmVudFVwZGF0ZSB0byByZXR1cm4gZmFsc2UgaWYgZmluYWxcbi8vIHByb3BzIGhhdmUgbm90IGNoYW5nZWQuIElmIGZhbHNlLCB0aGUgc2VsZWN0b3Igd2lsbCBhbHdheXMgcmV0dXJuIGEgbmV3XG4vLyBvYmplY3QgYW5kIHNob3VsZENvbXBvbmVudFVwZGF0ZSB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZS5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeShkaXNwYXRjaCwgX3JlZjIpIHtcbiAgdmFyIGluaXRNYXBTdGF0ZVRvUHJvcHMgPSBfcmVmMi5pbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyA9IF9yZWYyLmluaXRNYXBEaXNwYXRjaFRvUHJvcHMsXG4gICAgICBpbml0TWVyZ2VQcm9wcyA9IF9yZWYyLmluaXRNZXJnZVByb3BzLFxuICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgWydpbml0TWFwU3RhdGVUb1Byb3BzJywgJ2luaXRNYXBEaXNwYXRjaFRvUHJvcHMnLCAnaW5pdE1lcmdlUHJvcHMnXSk7XG5cbiAgdmFyIG1hcFN0YXRlVG9Qcm9wcyA9IGluaXRNYXBTdGF0ZVRvUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpO1xuICB2YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0gaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3B0aW9ucyk7XG4gIHZhciBtZXJnZVByb3BzID0gaW5pdE1lcmdlUHJvcHMoZGlzcGF0Y2gsIG9wdGlvbnMpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmVyaWZ5U3Vic2VsZWN0b3JzKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzLCBvcHRpb25zLmRpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIHZhciBzZWxlY3RvckZhY3RvcnkgPSBvcHRpb25zLnB1cmUgPyBwdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSA6IGltcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3Rvcnk7XG5cbiAgcmV0dXJuIHNlbGVjdG9yRmFjdG9yeShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgZGlzcGF0Y2gsIG9wdGlvbnMpO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3Qvc2VsZWN0b3JGYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9jb25uZWN0L3NlbGVjdG9yRmFjdG9yeS5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgdmVyaWZ5UGxhaW5PYmplY3QgZnJvbSAnLi4vdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1hcFRvUHJvcHNDb25zdGFudChnZXRDb25zdGFudCkge1xuICByZXR1cm4gZnVuY3Rpb24gaW5pdENvbnN0YW50U2VsZWN0b3IoZGlzcGF0Y2gsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29uc3RhbnQgPSBnZXRDb25zdGFudChkaXNwYXRjaCwgb3B0aW9ucyk7XG5cbiAgICBmdW5jdGlvbiBjb25zdGFudFNlbGVjdG9yKCkge1xuICAgICAgcmV0dXJuIGNvbnN0YW50O1xuICAgIH1cbiAgICBjb25zdGFudFNlbGVjdG9yLmRlcGVuZHNPbk93blByb3BzID0gZmFsc2U7XG4gICAgcmV0dXJuIGNvbnN0YW50U2VsZWN0b3I7XG4gIH07XG59XG5cbi8vIGRlcGVuZHNPbk93blByb3BzIGlzIHVzZWQgYnkgY3JlYXRlTWFwVG9Qcm9wc1Byb3h5IHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHBhc3MgcHJvcHMgYXMgYXJnc1xuLy8gdG8gdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgd3JhcHBlZC4gSXQgaXMgYWxzbyB1c2VkIGJ5IG1ha2VQdXJlUHJvcHNTZWxlY3RvciB0byBkZXRlcm1pbmVcbi8vIHdoZXRoZXIgbWFwVG9Qcm9wcyBuZWVkcyB0byBiZSBpbnZva2VkIHdoZW4gcHJvcHMgaGF2ZSBjaGFuZ2VkLlxuLy8gXG4vLyBBIGxlbmd0aCBvZiBvbmUgc2lnbmFscyB0aGF0IG1hcFRvUHJvcHMgZG9lcyBub3QgZGVwZW5kIG9uIHByb3BzIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuXG4vLyBBIGxlbmd0aCBvZiB6ZXJvIGlzIGFzc3VtZWQgdG8gbWVhbiBtYXBUb1Byb3BzIGlzIGdldHRpbmcgYXJncyB2aWEgYXJndW1lbnRzIG9yIC4uLmFyZ3MgYW5kXG4vLyB0aGVyZWZvcmUgbm90IHJlcG9ydGluZyBpdHMgbGVuZ3RoIGFjY3VyYXRlbHkuLlxuZXhwb3J0IGZ1bmN0aW9uIGdldERlcGVuZHNPbk93blByb3BzKG1hcFRvUHJvcHMpIHtcbiAgcmV0dXJuIG1hcFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHMgIT09IG51bGwgJiYgbWFwVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcyAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihtYXBUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzKSA6IG1hcFRvUHJvcHMubGVuZ3RoICE9PSAxO1xufVxuXG4vLyBVc2VkIGJ5IHdoZW5NYXBTdGF0ZVRvUHJvcHNJc0Z1bmN0aW9uIGFuZCB3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbixcbi8vIHRoaXMgZnVuY3Rpb24gd3JhcHMgbWFwVG9Qcm9wcyBpbiBhIHByb3h5IGZ1bmN0aW9uIHdoaWNoIGRvZXMgc2V2ZXJhbCB0aGluZ3M6XG4vLyBcbi8vICAqIERldGVjdHMgd2hldGhlciB0aGUgbWFwVG9Qcm9wcyBmdW5jdGlvbiBiZWluZyBjYWxsZWQgZGVwZW5kcyBvbiBwcm9wcywgd2hpY2hcbi8vICAgIGlzIHVzZWQgYnkgc2VsZWN0b3JGYWN0b3J5IHRvIGRlY2lkZSBpZiBpdCBzaG91bGQgcmVpbnZva2Ugb24gcHJvcHMgY2hhbmdlcy5cbi8vICAgIFxuLy8gICogT24gZmlyc3QgY2FsbCwgaGFuZGxlcyBtYXBUb1Byb3BzIGlmIHJldHVybnMgYW5vdGhlciBmdW5jdGlvbiwgYW5kIHRyZWF0cyB0aGF0XG4vLyAgICBuZXcgZnVuY3Rpb24gYXMgdGhlIHRydWUgbWFwVG9Qcm9wcyBmb3Igc3Vic2VxdWVudCBjYWxscy5cbi8vICAgIFxuLy8gICogT24gZmlyc3QgY2FsbCwgdmVyaWZpZXMgdGhlIGZpcnN0IHJlc3VsdCBpcyBhIHBsYWluIG9iamVjdCwgaW4gb3JkZXIgdG8gd2FyblxuLy8gICAgdGhlIGRldmVsb3BlciB0aGF0IHRoZWlyIG1hcFRvUHJvcHMgZnVuY3Rpb24gaXMgbm90IHJldHVybmluZyBhIHZhbGlkIHJlc3VsdC5cbi8vICAgIFxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBNYXBUb1Byb3BzRnVuYyhtYXBUb1Byb3BzLCBtZXRob2ROYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0UHJveHlTZWxlY3RvcihkaXNwYXRjaCwgX3JlZikge1xuICAgIHZhciBkaXNwbGF5TmFtZSA9IF9yZWYuZGlzcGxheU5hbWU7XG5cbiAgICB2YXIgcHJveHkgPSBmdW5jdGlvbiBtYXBUb1Byb3BzUHJveHkoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcykge1xuICAgICAgcmV0dXJuIHByb3h5LmRlcGVuZHNPbk93blByb3BzID8gcHJveHkubWFwVG9Qcm9wcyhzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKSA6IHByb3h5Lm1hcFRvUHJvcHMoc3RhdGVPckRpc3BhdGNoKTtcbiAgICB9O1xuXG4gICAgLy8gYWxsb3cgZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeSB0byBnZXQgb3duUHJvcHNcbiAgICBwcm94eS5kZXBlbmRzT25Pd25Qcm9wcyA9IHRydWU7XG5cbiAgICBwcm94eS5tYXBUb1Byb3BzID0gZnVuY3Rpb24gZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKSB7XG4gICAgICBwcm94eS5tYXBUb1Byb3BzID0gbWFwVG9Qcm9wcztcbiAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMobWFwVG9Qcm9wcyk7XG4gICAgICB2YXIgcHJvcHMgPSBwcm94eShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKTtcblxuICAgICAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm94eS5tYXBUb1Byb3BzID0gcHJvcHM7XG4gICAgICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gZ2V0RGVwZW5kc09uT3duUHJvcHMocHJvcHMpO1xuICAgICAgICBwcm9wcyA9IHByb3h5KHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgdmVyaWZ5UGxhaW5PYmplY3QocHJvcHMsIGRpc3BsYXlOYW1lLCBtZXRob2ROYW1lKTtcblxuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJveHk7XG4gIH07XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC93cmFwTWFwVG9Qcm9wcy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC93cmFwTWFwVG9Qcm9wcy5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5leHBvcnQgdmFyIHN1YnNjcmlwdGlvblNoYXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgdHJ5U3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB0cnlVbnN1YnNjcmliZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgbm90aWZ5TmVzdGVkU3ViczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgaXNTdWJzY3JpYmVkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59KTtcblxuZXhwb3J0IHZhciBzdG9yZVNoYXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0U3RhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1Byb3BUeXBlcy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvUHJvcFR5cGVzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIGVuY2Fwc3VsYXRlcyB0aGUgc3Vic2NyaXB0aW9uIGxvZ2ljIGZvciBjb25uZWN0aW5nIGEgY29tcG9uZW50IHRvIHRoZSByZWR1eCBzdG9yZSwgYXNcbi8vIHdlbGwgYXMgbmVzdGluZyBzdWJzY3JpcHRpb25zIG9mIGRlc2NlbmRhbnQgY29tcG9uZW50cywgc28gdGhhdCB3ZSBjYW4gZW5zdXJlIHRoZVxuLy8gYW5jZXN0b3IgY29tcG9uZW50cyByZS1yZW5kZXIgYmVmb3JlIGRlc2NlbmRhbnRzXG5cbnZhciBDTEVBUkVEID0gbnVsbDtcbnZhciBudWxsTGlzdGVuZXJzID0ge1xuICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeSgpIHt9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24oKSB7XG4gIC8vIHRoZSBjdXJyZW50L25leHQgcGF0dGVybiBpcyBjb3BpZWQgZnJvbSByZWR1eCdzIGNyZWF0ZVN0b3JlIGNvZGUuXG4gIC8vIFRPRE86IHJlZmFjdG9yK2V4cG9zZSB0aGF0IGNvZGUgdG8gYmUgcmV1c2FibGUgaGVyZT9cbiAgdmFyIGN1cnJlbnQgPSBbXTtcbiAgdmFyIG5leHQgPSBbXTtcblxuICByZXR1cm4ge1xuICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIG5leHQgPSBDTEVBUkVEO1xuICAgICAgY3VycmVudCA9IENMRUFSRUQ7XG4gICAgfSxcbiAgICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeSgpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50ID0gbmV4dDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9LFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIGlmIChuZXh0ID09PSBjdXJyZW50KSBuZXh0ID0gY3VycmVudC5zbGljZSgpO1xuICAgICAgbmV4dC5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoIWlzU3Vic2NyaWJlZCB8fCBjdXJyZW50ID09PSBDTEVBUkVEKSByZXR1cm47XG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChuZXh0ID09PSBjdXJyZW50KSBuZXh0ID0gY3VycmVudC5zbGljZSgpO1xuICAgICAgICBuZXh0LnNwbGljZShuZXh0LmluZGV4T2YobGlzdGVuZXIpLCAxKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG52YXIgU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oc3RvcmUsIHBhcmVudFN1Yiwgb25TdGF0ZUNoYW5nZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJzY3JpcHRpb24pO1xuXG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMucGFyZW50U3ViID0gcGFyZW50U3ViO1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZSA9IG9uU3RhdGVDaGFuZ2U7XG4gICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBudWxsTGlzdGVuZXJzO1xuICB9XG5cbiAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGROZXN0ZWRTdWIgPSBmdW5jdGlvbiBhZGROZXN0ZWRTdWIobGlzdGVuZXIpIHtcbiAgICB0aGlzLnRyeVN1YnNjcmliZSgpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9O1xuXG4gIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUubm90aWZ5TmVzdGVkU3VicyA9IGZ1bmN0aW9uIG5vdGlmeU5lc3RlZFN1YnMoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMubm90aWZ5KCk7XG4gIH07XG5cbiAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5pc1N1YnNjcmliZWQgPSBmdW5jdGlvbiBpc1N1YnNjcmliZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy51bnN1YnNjcmliZSk7XG4gIH07XG5cbiAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5wYXJlbnRTdWIgPyB0aGlzLnBhcmVudFN1Yi5hZGROZXN0ZWRTdWIodGhpcy5vblN0YXRlQ2hhbmdlKSA6IHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMub25TdGF0ZUNoYW5nZSk7XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzID0gY3JlYXRlTGlzdGVuZXJDb2xsZWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG4gICAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xuICAgICAgdGhpcy5saXN0ZW5lcnMgPSBudWxsTGlzdGVuZXJzO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpO1xuXG5leHBvcnQgeyBTdWJzY3JpcHRpb24gYXMgZGVmYXVsdCB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvU3Vic2NyaXB0aW9uLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICBpZiAoaXMob2JqQSwgb2JqQikpIHJldHVybiB0cnVlO1xuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy91dGlscy9zaGFsbG93RXF1YWwuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3NoYWxsb3dFcXVhbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3dhcm5pbmcuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcbiBSZWFjdCB2MTYuMC4wXG4gcmVhY3QucHJvZHVjdGlvbi5taW4uanNcblxuIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuXG4gVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuKi9cbid1c2Ugc3RyaWN0Jzt2YXIgZj1yZXF1aXJlKFwib2JqZWN0LWFzc2lnblwiKSxwPXJlcXVpcmUoXCJmYmpzL2xpYi9lbXB0eU9iamVjdFwiKTtyZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpO3ZhciByPXJlcXVpcmUoXCJmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uXCIpO1xuZnVuY3Rpb24gdChhKXtmb3IodmFyIGI9YXJndW1lbnRzLmxlbmd0aC0xLGQ9XCJNaW5pZmllZCBSZWFjdCBlcnJvciAjXCIrYStcIjsgdmlzaXQgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL2Vycm9yLWRlY29kZXIuaHRtbD9pbnZhcmlhbnRcXHgzZFwiK2EsZT0wO2U8YjtlKyspZCs9XCJcXHgyNmFyZ3NbXVxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1tlKzFdKTtiPUVycm9yKGQrXCIgZm9yIHRoZSBmdWxsIG1lc3NhZ2Ugb3IgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycyBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwiKTtiLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCI7Yi5mcmFtZXNUb1BvcD0xO3Rocm93IGI7fVxudmFyIHU9e2lzTW91bnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbigpe319O2Z1bmN0aW9uIHYoYSxiLGQpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9cDt0aGlzLnVwZGF0ZXI9ZHx8dX12LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9O3YucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIiE9PXR5cGVvZiBhJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYSYmbnVsbCE9YT90KFwiODVcIik6dm9pZCAwO3RoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcyxhLGIsXCJzZXRTdGF0ZVwiKX07di5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLGEsXCJmb3JjZVVwZGF0ZVwiKX07XG5mdW5jdGlvbiB3KGEsYixkKXt0aGlzLnByb3BzPWE7dGhpcy5jb250ZXh0PWI7dGhpcy5yZWZzPXA7dGhpcy51cGRhdGVyPWR8fHV9ZnVuY3Rpb24geCgpe314LnByb3RvdHlwZT12LnByb3RvdHlwZTt2YXIgeT13LnByb3RvdHlwZT1uZXcgeDt5LmNvbnN0cnVjdG9yPXc7Zih5LHYucHJvdG90eXBlKTt5LmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwO2Z1bmN0aW9uIHooYSxiLGQpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9cDt0aGlzLnVwZGF0ZXI9ZHx8dX12YXIgQT16LnByb3RvdHlwZT1uZXcgeDtBLmNvbnN0cnVjdG9yPXo7ZihBLHYucHJvdG90eXBlKTtBLnVuc3RhYmxlX2lzQXN5bmNSZWFjdENvbXBvbmVudD0hMDtBLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmNoaWxkcmVufTtcbnZhciBCPXtDb21wb25lbnQ6dixQdXJlQ29tcG9uZW50OncsQXN5bmNDb21wb25lbnQ6en0sQz17Y3VycmVudDpudWxsfSxEPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2xbXCJmb3JcIl0mJlN5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIil8fDYwMTAzLEY9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBHKGEsYixkLGUsYyxnLGspe3JldHVybnskJHR5cGVvZjpFLHR5cGU6YSxrZXk6YixyZWY6ZCxwcm9wczprLF9vd25lcjpnfX1cbkcuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGUsYz17fSxnPW51bGwsaz1udWxsLG09bnVsbCxxPW51bGw7aWYobnVsbCE9Yilmb3IoZSBpbiB2b2lkIDAhPT1iLnJlZiYmKGs9Yi5yZWYpLHZvaWQgMCE9PWIua2V5JiYoZz1cIlwiK2Iua2V5KSxtPXZvaWQgMD09PWIuX19zZWxmP251bGw6Yi5fX3NlbGYscT12b2lkIDA9PT1iLl9fc291cmNlP251bGw6Yi5fX3NvdXJjZSxiKUQuY2FsbChiLGUpJiYhRi5oYXNPd25Qcm9wZXJ0eShlKSYmKGNbZV09YltlXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKWMuY2hpbGRyZW49ZDtlbHNlIGlmKDE8bCl7Zm9yKHZhciBoPUFycmF5KGwpLG49MDtuPGw7bisrKWhbbl09YXJndW1lbnRzW24rMl07Yy5jaGlsZHJlbj1ofWlmKGEmJmEuZGVmYXVsdFByb3BzKWZvcihlIGluIGw9YS5kZWZhdWx0UHJvcHMsbCl2b2lkIDA9PT1jW2VdJiYoY1tlXT1sW2VdKTtyZXR1cm4gRyhhLGcsayxtLHEsQy5jdXJyZW50LGMpfTtcbkcuY3JlYXRlRmFjdG9yeT1mdW5jdGlvbihhKXt2YXIgYj1HLmNyZWF0ZUVsZW1lbnQuYmluZChudWxsLGEpO2IudHlwZT1hO3JldHVybiBifTtHLmNsb25lQW5kUmVwbGFjZUtleT1mdW5jdGlvbihhLGIpe3JldHVybiBHKGEudHlwZSxiLGEucmVmLGEuX3NlbGYsYS5fc291cmNlLGEuX293bmVyLGEucHJvcHMpfTtcbkcuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGEsYixkKXt2YXIgZT1mKHt9LGEucHJvcHMpLGM9YS5rZXksZz1hLnJlZixrPWEuX3NlbGYsbT1hLl9zb3VyY2UscT1hLl9vd25lcjtpZihudWxsIT1iKXt2b2lkIDAhPT1iLnJlZiYmKGc9Yi5yZWYscT1DLmN1cnJlbnQpO3ZvaWQgMCE9PWIua2V5JiYoYz1cIlwiK2Iua2V5KTtpZihhLnR5cGUmJmEudHlwZS5kZWZhdWx0UHJvcHMpdmFyIGw9YS50eXBlLmRlZmF1bHRQcm9wcztmb3IoaCBpbiBiKUQuY2FsbChiLGgpJiYhRi5oYXNPd25Qcm9wZXJ0eShoKSYmKGVbaF09dm9pZCAwPT09YltoXSYmdm9pZCAwIT09bD9sW2hdOmJbaF0pfXZhciBoPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09aCllLmNoaWxkcmVuPWQ7ZWxzZSBpZigxPGgpe2w9QXJyYXkoaCk7Zm9yKHZhciBuPTA7bjxoO24rKylsW25dPWFyZ3VtZW50c1tuKzJdO2UuY2hpbGRyZW49bH1yZXR1cm4gRyhhLnR5cGUsYyxnLGssbSxxLGUpfTtcbkcuaXNWYWxpZEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PUV9O3ZhciBIPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixJPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbFtcImZvclwiXSYmU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZWxlbWVudFwiKXx8NjAxMDM7ZnVuY3Rpb24gZXNjYXBlKGEpe3ZhciBiPXtcIlxceDNkXCI6XCJcXHgzZDBcIixcIjpcIjpcIlxceDNkMlwifTtyZXR1cm5cIiRcIisoXCJcIithKS5yZXBsYWNlKC9bPTpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19KX12YXIgSj0vXFwvKy9nLEs9W107XG5mdW5jdGlvbiBMKGEsYixkLGUpe2lmKEsubGVuZ3RoKXt2YXIgYz1LLnBvcCgpO2MucmVzdWx0PWE7Yy5rZXlQcmVmaXg9YjtjLmZ1bmM9ZDtjLmNvbnRleHQ9ZTtjLmNvdW50PTA7cmV0dXJuIGN9cmV0dXJue3Jlc3VsdDphLGtleVByZWZpeDpiLGZ1bmM6ZCxjb250ZXh0OmUsY291bnQ6MH19ZnVuY3Rpb24gTShhKXthLnJlc3VsdD1udWxsO2Eua2V5UHJlZml4PW51bGw7YS5mdW5jPW51bGw7YS5jb250ZXh0PW51bGw7YS5jb3VudD0wOzEwPksubGVuZ3RoJiZLLnB1c2goYSl9XG5mdW5jdGlvbiBOKGEsYixkLGUpe3ZhciBjPXR5cGVvZiBhO2lmKFwidW5kZWZpbmVkXCI9PT1jfHxcImJvb2xlYW5cIj09PWMpYT1udWxsO2lmKG51bGw9PT1hfHxcInN0cmluZ1wiPT09Y3x8XCJudW1iZXJcIj09PWN8fFwib2JqZWN0XCI9PT1jJiZhLiQkdHlwZW9mPT09SSlyZXR1cm4gZChlLGEsXCJcIj09PWI/XCIuXCIrTyhhLDApOmIpLDE7dmFyIGc9MDtiPVwiXCI9PT1iP1wiLlwiOmIrXCI6XCI7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGs9MDtrPGEubGVuZ3RoO2srKyl7Yz1hW2tdO3ZhciBtPWIrTyhjLGspO2crPU4oYyxtLGQsZSl9ZWxzZSBpZihtPUgmJmFbSF18fGFbXCJAQGl0ZXJhdG9yXCJdLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBtKWZvcihhPW0uY2FsbChhKSxrPTA7IShjPWEubmV4dCgpKS5kb25lOyljPWMudmFsdWUsbT1iK08oYyxrKyspLGcrPU4oYyxtLGQsZSk7ZWxzZVwib2JqZWN0XCI9PT1jJiYoZD1cIlwiK2EsdChcIjMxXCIsXCJbb2JqZWN0IE9iamVjdF1cIj09PWQ/XCJvYmplY3Qgd2l0aCBrZXlzIHtcIitcbk9iamVjdC5rZXlzKGEpLmpvaW4oXCIsIFwiKStcIn1cIjpkLFwiXCIpKTtyZXR1cm4gZ31mdW5jdGlvbiBPKGEsYil7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmbnVsbCE9YS5rZXk/ZXNjYXBlKGEua2V5KTpiLnRvU3RyaW5nKDM2KX1mdW5jdGlvbiBQKGEsYil7YS5mdW5jLmNhbGwoYS5jb250ZXh0LGIsYS5jb3VudCsrKX1mdW5jdGlvbiBRKGEsYixkKXt2YXIgZT1hLnJlc3VsdCxjPWEua2V5UHJlZml4O2E9YS5mdW5jLmNhbGwoYS5jb250ZXh0LGIsYS5jb3VudCsrKTtBcnJheS5pc0FycmF5KGEpP1IoYSxlLGQsci50aGF0UmV0dXJuc0FyZ3VtZW50KTpudWxsIT1hJiYoRy5pc1ZhbGlkRWxlbWVudChhKSYmKGE9Ry5jbG9uZUFuZFJlcGxhY2VLZXkoYSxjKyghYS5rZXl8fGImJmIua2V5PT09YS5rZXk/XCJcIjooXCJcIithLmtleSkucmVwbGFjZShKLFwiJFxceDI2L1wiKStcIi9cIikrZCkpLGUucHVzaChhKSl9XG5mdW5jdGlvbiBSKGEsYixkLGUsYyl7dmFyIGc9XCJcIjtudWxsIT1kJiYoZz0oXCJcIitkKS5yZXBsYWNlKEosXCIkXFx4MjYvXCIpK1wiL1wiKTtiPUwoYixnLGUsYyk7bnVsbD09YXx8TihhLFwiXCIsUSxiKTtNKGIpfXZhciBTPXtmb3JFYWNoOmZ1bmN0aW9uKGEsYixkKXtpZihudWxsPT1hKXJldHVybiBhO2I9TChudWxsLG51bGwsYixkKTtudWxsPT1hfHxOKGEsXCJcIixQLGIpO00oYil9LG1hcDpmdW5jdGlvbihhLGIsZCl7aWYobnVsbD09YSlyZXR1cm4gYTt2YXIgZT1bXTtSKGEsZSxudWxsLGIsZCk7cmV0dXJuIGV9LGNvdW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPzA6TihhLFwiXCIsci50aGF0UmV0dXJuc051bGwsbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oYSl7dmFyIGI9W107UihhLGIsbnVsbCxyLnRoYXRSZXR1cm5zQXJndW1lbnQpO3JldHVybiBifX07XG5tb2R1bGUuZXhwb3J0cz17Q2hpbGRyZW46e21hcDpTLm1hcCxmb3JFYWNoOlMuZm9yRWFjaCxjb3VudDpTLmNvdW50LHRvQXJyYXk6Uy50b0FycmF5LG9ubHk6ZnVuY3Rpb24oYSl7Ry5pc1ZhbGlkRWxlbWVudChhKT92b2lkIDA6dChcIjE0M1wiKTtyZXR1cm4gYX19LENvbXBvbmVudDpCLkNvbXBvbmVudCxQdXJlQ29tcG9uZW50OkIuUHVyZUNvbXBvbmVudCx1bnN0YWJsZV9Bc3luY0NvbXBvbmVudDpCLkFzeW5jQ29tcG9uZW50LGNyZWF0ZUVsZW1lbnQ6Ry5jcmVhdGVFbGVtZW50LGNsb25lRWxlbWVudDpHLmNsb25lRWxlbWVudCxpc1ZhbGlkRWxlbWVudDpHLmlzVmFsaWRFbGVtZW50LGNyZWF0ZUZhY3Rvcnk6Ry5jcmVhdGVGYWN0b3J5LHZlcnNpb246XCIxNi4wLjBcIixfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDp7UmVhY3RDdXJyZW50T3duZXI6Qyxhc3NpZ246Zn19O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QucHJvZHVjdGlvbi5taW4uanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuaW1wb3J0IGNvbXBvc2UgZnJvbSAnLi9jb21wb3NlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuICogYXN5bmNocm9ub3VzIGFjdGlvbnMgaW4gYSBjb25jaXNlIG1hbm5lciwgb3IgbG9nZ2luZyBldmVyeSBhY3Rpb24gcGF5bG9hZC5cbiAqXG4gKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG4gKlxuICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG4gKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG4gKlxuICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuICogYXMgbmFtZWQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGNyZWF0ZVN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvYXBwbHlNaWRkbGV3YXJlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2JpbmRBY3Rpb25DcmVhdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvYmluZEFjdGlvbkNyZWF0b3JzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IEFjdGlvblR5cGVzIH0gZnJvbSAnLi9jcmVhdGVTdG9yZSc7XG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICdsb2Rhc2gtZXMvaXNQbGFpbk9iamVjdCc7XG5pbXBvcnQgd2FybmluZyBmcm9tICcuL3V0aWxzL3dhcm5pbmcnO1xuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gJyArICdJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLklOSVQgPyAncHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3QoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuXG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uXFwndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsICcgKyAneW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZygnTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0gdm9pZCAwO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSB2b2lkIDA7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UoX2tleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY29tYmluZVJlZHVjZXJzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jb21iaW5lUmVkdWNlcnMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QnO1xuaW1wb3J0ICQkb2JzZXJ2YWJsZSBmcm9tICdzeW1ib2wtb2JzZXJ2YWJsZSc7XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG5leHBvcnQgdmFyIEFjdGlvblR5cGVzID0ge1xuICBJTklUOiAnQEByZWR1eC9JTklUJ1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAgICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gICAqXG4gICAqIFRoZXJlIHNob3VsZCBvbmx5IGJlIGEgc2luZ2xlIHN0b3JlIGluIHlvdXIgYXBwLiBUbyBzcGVjaWZ5IGhvdyBkaWZmZXJlbnRcbiAgICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICAgKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAgICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICAgKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICAgKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICAgKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gICAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICAgKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gICAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAgICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAgICpcbiAgICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAgICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICAgKi9cbn07ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IHByZWxvYWRlZFN0YXRlO1xuICAgIHByZWxvYWRlZFN0YXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvY3JlYXRlU3RvcmUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NyZWF0ZVN0b3JlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbihzZWxlY3Rvcikge1xuXHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdG1lbW9bc2VsZWN0b3JdID0gZm4uY2FsbCh0aGlzLCBzZWxlY3Rvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1lbW9bc2VsZWN0b3JdXG5cdH07XG59KShmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldClcbn0pO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcblx0aWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9pbmRleCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2luZGV4LmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wb255ZmlsbCA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKTtcblxudmFyIF9wb255ZmlsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb255ZmlsbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIHJvb3Q7IC8qIGdsb2JhbCB3aW5kb3cgKi9cblxuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSAoMCwgX3BvbnlmaWxsMlsnZGVmYXVsdCddKShyb290KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJlc3VsdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGw7XG5mdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgX1N5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgX1N5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChfU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IF9TeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gX1N5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0X1N5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9wb255ZmlsbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvbGliL3BvbnlmaWxsLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IC4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==